// Copyright 2013-2022, University of Colorado Boulder

/**
 * Solute model, with instances used by this sim.
 * Solutes are immutable, so all fields should be considered immutable.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import optionize from '../../../../phet-core/js/optionize.js';
import { Color } from '../../../../scenery/js/imports.js';
import PhetioObject from '../../../../tandem/js/PhetioObject.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import IOType from '../../../../tandem/js/types/IOType.js';
import NumberIO from '../../../../tandem/js/types/NumberIO.js';
import ReferenceIO from '../../../../tandem/js/types/ReferenceIO.js';
import phScale from '../../phScale.js';
import PhScaleStrings from '../../PhScaleStrings.js';
import PHScaleConstants from '../PHScaleConstants.js';
import Water from './Water.js';

// parent tandem for static instances of Solute, which are used across all screens
const SOLUTES_TANDEM = Tandem.GLOBAL_MODEL.createTandem('solutes');
export default class Solute extends PhetioObject {
  // the name of the solute, displayed to the user

  // pH value of the solute

  // Color of the stock (undiluted) color

  // used to other make tandems that pertain to this solute, e.g. combo box items

  // See SoluteOptions

  /**
   * @param nameProperty - the name of the solute, displayed to the user
   * @param pH - the pH of the solute
   * @param stockColor - color of the solute in stock solution (no dilution)
   * @param [provideOptions]
   */
  constructor(nameProperty, pH, stockColor, provideOptions) {
    assert && assert(PHScaleConstants.PH_RANGE.contains(pH), `invalid pH: ${pH}`);
    assert && assert(Solute.SoluteIO, 'SoluteIO and Solute instances are statics, so make sure SoluteIO exists');
    const options = optionize()({
      // SelfOptions
      dilutedColor: Water.color,
      colorStopColor: null,
      colorStopRatio: 0.25,
      // PhetioObjectOptions
      phetioType: Solute.SoluteIO,
      phetioState: false
    }, provideOptions);
    assert && assert(options.colorStopRatio > 0 && options.colorStopRatio < 1, `invalid colorStopRatio: ${options.colorStopRatio}`);
    super(options);
    this.nameProperty = nameProperty;
    this.pH = pH;
    this.stockColor = stockColor;
    this.tandemName = options.tandem.name;
    this.dilutedColor = options.dilutedColor;
    this.colorStopColor = options.colorStopColor;
    this.colorStopRatio = options.colorStopRatio;
    this.addLinkedElement(nameProperty, {
      tandem: options.tandem.createTandem('nameProperty')
    });
  }

  /**
   * String representation of this Solute. For debugging only, do not depend on the format!
   */
  toString() {
    return `Solution[name:${this.nameProperty.value}, pH:${this.pH}]`;
  }

  /**
   * Computes the color for a dilution of this solute.
   * @param ratio describes the dilution, range is [0,1] inclusive, 0 is no solute, 1 is all solute
   */
  computeColor(ratio) {
    assert && assert(ratio >= 0 && ratio <= 1);
    let color;
    if (this.colorStopColor) {
      if (ratio > this.colorStopRatio) {
        color = Color.interpolateRGBA(this.colorStopColor, this.stockColor, (ratio - this.colorStopRatio) / (1 - this.colorStopRatio));
      } else {
        color = Color.interpolateRGBA(this.dilutedColor, this.colorStopColor, ratio / this.colorStopRatio);
      }
    } else {
      color = Color.interpolateRGBA(this.dilutedColor, this.stockColor, ratio);
    }
    return color;
  }
  toStateObject() {
    const soluteReference = ReferenceIO(IOType.ObjectIO).toStateObject(this);
    soluteReference.pH = this.pH;
    return soluteReference;
  }

  /**
   * SoluteIO handles PhET-iO serialization of Solute. Since all Solutes are static instances, it implements
   * 'Reference type serialization', as described in the Serialization section of
   * https://github.com/phetsims/phet-io/blob/master/doc/phet-io-instrumentation-technical-guide.md#serialization
   * But because we want 'pH' to appear in Studio, we cannot simply subclass ReferenceIO. We must also provide
   * stateSchema and toStateObject.
   * See https://github.com/phetsims/ph-scale/issues/205 and https://github.com/phetsims/ph-scale/issues/243.
   */
  static SoluteIO = new IOType('SoluteIO', {
    valueType: Solute,
    supertype: ReferenceIO(IOType.ObjectIO),
    stateSchema: {
      pH: NumberIO
    },
    toStateObject: solute => solute.toStateObject()
  });
  static BATTERY_ACID = new Solute(PhScaleStrings.choice.batteryAcidStringProperty, 1, new Color(255, 255, 0), {
    colorStopColor: new Color(255, 224, 204),
    tandem: SOLUTES_TANDEM.createTandem('batteryAcid')
  });
  static BLOOD = new Solute(PhScaleStrings.choice.bloodStringProperty, 7.4, new Color(211, 79, 68), {
    colorStopColor: new Color(255, 207, 204),
    tandem: SOLUTES_TANDEM.createTandem('blood')
  });
  static CHICKEN_SOUP = new Solute(PhScaleStrings.choice.chickenSoupStringProperty, 5.8, new Color(255, 240, 104), {
    colorStopColor: new Color(255, 250, 204),
    tandem: SOLUTES_TANDEM.createTandem('chickenSoup')
  });
  static COFFEE = new Solute(PhScaleStrings.choice.coffeeStringProperty, 5, new Color(164, 99, 7), {
    colorStopColor: new Color(255, 240, 204),
    tandem: SOLUTES_TANDEM.createTandem('coffee')
  });
  static DRAIN_CLEANER = new Solute(PhScaleStrings.choice.drainCleanerStringProperty, 13, new Color(255, 255, 0), {
    colorStopColor: new Color(255, 255, 204),
    tandem: SOLUTES_TANDEM.createTandem('drainCleaner')
  });
  static HAND_SOAP = new Solute(PhScaleStrings.choice.handSoapStringProperty, 10, new Color(224, 141, 242), {
    colorStopColor: new Color(232, 204, 255),
    tandem: SOLUTES_TANDEM.createTandem('handSoap')
  });
  static MILK = new Solute(PhScaleStrings.choice.milkStringProperty, 6.5, new Color(250, 250, 250), {
    tandem: SOLUTES_TANDEM.createTandem('milk')
  });
  static ORANGE_JUICE = new Solute(PhScaleStrings.choice.orangeJuiceStringProperty, 3.5, new Color(255, 180, 0), {
    colorStopColor: new Color(255, 242, 204),
    tandem: SOLUTES_TANDEM.createTandem('orangeJuice')
  });
  static SODA = new Solute(PhScaleStrings.choice.sodaStringProperty, 2.5, new Color(204, 255, 102), {
    colorStopColor: new Color(238, 255, 204),
    tandem: SOLUTES_TANDEM.createTandem('soda')
  });
  static SPIT = new Solute(PhScaleStrings.choice.spitStringProperty, 7.4, new Color(202, 240, 239), {
    tandem: SOLUTES_TANDEM.createTandem('spit')
  });
  static VOMIT = new Solute(PhScaleStrings.choice.vomitStringProperty, 2, new Color(255, 171, 120), {
    colorStopColor: new Color(255, 224, 204),
    tandem: SOLUTES_TANDEM.createTandem('vomit')
  });
  static WATER = new Solute(Water.nameProperty, Water.pH, Water.color, {
    tandem: SOLUTES_TANDEM.createTandem('water')
  });
}
phScale.register('Solute', Solute);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcHRpb25pemUiLCJDb2xvciIsIlBoZXRpb09iamVjdCIsIlRhbmRlbSIsIklPVHlwZSIsIk51bWJlcklPIiwiUmVmZXJlbmNlSU8iLCJwaFNjYWxlIiwiUGhTY2FsZVN0cmluZ3MiLCJQSFNjYWxlQ29uc3RhbnRzIiwiV2F0ZXIiLCJTT0xVVEVTX1RBTkRFTSIsIkdMT0JBTF9NT0RFTCIsImNyZWF0ZVRhbmRlbSIsIlNvbHV0ZSIsImNvbnN0cnVjdG9yIiwibmFtZVByb3BlcnR5IiwicEgiLCJzdG9ja0NvbG9yIiwicHJvdmlkZU9wdGlvbnMiLCJhc3NlcnQiLCJQSF9SQU5HRSIsImNvbnRhaW5zIiwiU29sdXRlSU8iLCJvcHRpb25zIiwiZGlsdXRlZENvbG9yIiwiY29sb3IiLCJjb2xvclN0b3BDb2xvciIsImNvbG9yU3RvcFJhdGlvIiwicGhldGlvVHlwZSIsInBoZXRpb1N0YXRlIiwidGFuZGVtTmFtZSIsInRhbmRlbSIsIm5hbWUiLCJhZGRMaW5rZWRFbGVtZW50IiwidG9TdHJpbmciLCJ2YWx1ZSIsImNvbXB1dGVDb2xvciIsInJhdGlvIiwiaW50ZXJwb2xhdGVSR0JBIiwidG9TdGF0ZU9iamVjdCIsInNvbHV0ZVJlZmVyZW5jZSIsIk9iamVjdElPIiwidmFsdWVUeXBlIiwic3VwZXJ0eXBlIiwic3RhdGVTY2hlbWEiLCJzb2x1dGUiLCJCQVRURVJZX0FDSUQiLCJjaG9pY2UiLCJiYXR0ZXJ5QWNpZFN0cmluZ1Byb3BlcnR5IiwiQkxPT0QiLCJibG9vZFN0cmluZ1Byb3BlcnR5IiwiQ0hJQ0tFTl9TT1VQIiwiY2hpY2tlblNvdXBTdHJpbmdQcm9wZXJ0eSIsIkNPRkZFRSIsImNvZmZlZVN0cmluZ1Byb3BlcnR5IiwiRFJBSU5fQ0xFQU5FUiIsImRyYWluQ2xlYW5lclN0cmluZ1Byb3BlcnR5IiwiSEFORF9TT0FQIiwiaGFuZFNvYXBTdHJpbmdQcm9wZXJ0eSIsIk1JTEsiLCJtaWxrU3RyaW5nUHJvcGVydHkiLCJPUkFOR0VfSlVJQ0UiLCJvcmFuZ2VKdWljZVN0cmluZ1Byb3BlcnR5IiwiU09EQSIsInNvZGFTdHJpbmdQcm9wZXJ0eSIsIlNQSVQiLCJzcGl0U3RyaW5nUHJvcGVydHkiLCJWT01JVCIsInZvbWl0U3RyaW5nUHJvcGVydHkiLCJXQVRFUiIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiU29sdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDEzLTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFNvbHV0ZSBtb2RlbCwgd2l0aCBpbnN0YW5jZXMgdXNlZCBieSB0aGlzIHNpbS5cclxuICogU29sdXRlcyBhcmUgaW1tdXRhYmxlLCBzbyBhbGwgZmllbGRzIHNob3VsZCBiZSBjb25zaWRlcmVkIGltbXV0YWJsZS5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgTGlua2FibGVQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0xpbmthYmxlUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBvcHRpb25pemUgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XHJcbmltcG9ydCBQaWNrUmVxdWlyZWQgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1BpY2tSZXF1aXJlZC5qcyc7XHJcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFBoZXRpb09iamVjdCwgeyBQaGV0aW9PYmplY3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1BoZXRpb09iamVjdC5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBJT1R5cGUgZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL3R5cGVzL0lPVHlwZS5qcyc7XHJcbmltcG9ydCBOdW1iZXJJTyBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvdHlwZXMvTnVtYmVySU8uanMnO1xyXG5pbXBvcnQgUmVmZXJlbmNlSU8sIHsgUmVmZXJlbmNlSU9TdGF0ZSB9IGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy90eXBlcy9SZWZlcmVuY2VJTy5qcyc7XHJcbmltcG9ydCBwaFNjYWxlIGZyb20gJy4uLy4uL3BoU2NhbGUuanMnO1xyXG5pbXBvcnQgUGhTY2FsZVN0cmluZ3MgZnJvbSAnLi4vLi4vUGhTY2FsZVN0cmluZ3MuanMnO1xyXG5pbXBvcnQgUEhTY2FsZUNvbnN0YW50cyBmcm9tICcuLi9QSFNjYWxlQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IFdhdGVyIGZyb20gJy4vV2F0ZXIuanMnO1xyXG5cclxuLy8gcGFyZW50IHRhbmRlbSBmb3Igc3RhdGljIGluc3RhbmNlcyBvZiBTb2x1dGUsIHdoaWNoIGFyZSB1c2VkIGFjcm9zcyBhbGwgc2NyZWVuc1xyXG5jb25zdCBTT0xVVEVTX1RBTkRFTSA9IFRhbmRlbS5HTE9CQUxfTU9ERUwuY3JlYXRlVGFuZGVtKCAnc29sdXRlcycgKTtcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSB7XHJcblxyXG4gIC8vIGNvbG9yIHdoZW4gdGhlIHNvbHV0ZSBpcyBiYXJlbHkgcHJlc2VudCBpbiBzb2x1dGlvbiAoZnVsbHkgZGlsdXRlZClcclxuICBkaWx1dGVkQ29sb3I/OiBDb2xvcjtcclxuXHJcbiAgLy8gY29sb3IgdXNlZCB0byBzbW9vdGggb3V0IHNvbWUgY29sb3IgdHJhbnNpdGlvbnMgYXMgdGhlIHNvbHV0ZSBpcyBkaWx1dGVkXHJcbiAgY29sb3JTdG9wQ29sb3I/OiBDb2xvciB8IG51bGw7XHJcblxyXG4gIC8vIGRpbHV0aW9uIHJhdGlvIGF0IHdoaWNoIGNvbG9yU3RvcENvbG9yIHdpbGwgYmUgYXBwbGllZCwgaWdub3JlZCBpZiBjb2xvclN0b3AgaXMgbnVsbFxyXG4gIC8vICgwLDEpIGV4Y2x1c2l2ZSwgd2hlcmUgMCBpcyBubyBzb2x1dGUsIDEgaXMgYWxsIHNvbHV0ZVxyXG4gIGNvbG9yU3RvcFJhdGlvPzogbnVtYmVyO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgU29sdXRlT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgUGlja1JlcXVpcmVkPFBoZXRpb09iamVjdE9wdGlvbnMsICd0YW5kZW0nPjtcclxuXHJcbnR5cGUgU29sdXRlU3RhdGVPYmplY3QgPSB7XHJcbiAgcEg6IG51bWJlcjtcclxufSAmIFJlZmVyZW5jZUlPU3RhdGU7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2x1dGUgZXh0ZW5kcyBQaGV0aW9PYmplY3Qge1xyXG5cclxuICAvLyB0aGUgbmFtZSBvZiB0aGUgc29sdXRlLCBkaXNwbGF5ZWQgdG8gdGhlIHVzZXJcclxuICBwdWJsaWMgcmVhZG9ubHkgbmFtZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xyXG5cclxuICAvLyBwSCB2YWx1ZSBvZiB0aGUgc29sdXRlXHJcbiAgcHVibGljIHJlYWRvbmx5IHBIOiBudW1iZXI7XHJcblxyXG4gIC8vIENvbG9yIG9mIHRoZSBzdG9jayAodW5kaWx1dGVkKSBjb2xvclxyXG4gIHB1YmxpYyByZWFkb25seSBzdG9ja0NvbG9yOiBDb2xvcjtcclxuXHJcbiAgLy8gdXNlZCB0byBvdGhlciBtYWtlIHRhbmRlbXMgdGhhdCBwZXJ0YWluIHRvIHRoaXMgc29sdXRlLCBlLmcuIGNvbWJvIGJveCBpdGVtc1xyXG4gIHB1YmxpYyByZWFkb25seSB0YW5kZW1OYW1lOiBzdHJpbmc7XHJcblxyXG4gIC8vIFNlZSBTb2x1dGVPcHRpb25zXHJcbiAgcHJpdmF0ZSByZWFkb25seSBkaWx1dGVkQ29sb3I6IENvbG9yO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY29sb3JTdG9wQ29sb3I6IENvbG9yIHwgbnVsbDtcclxuICBwcml2YXRlIHJlYWRvbmx5IGNvbG9yU3RvcFJhdGlvOiBudW1iZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBuYW1lUHJvcGVydHkgLSB0aGUgbmFtZSBvZiB0aGUgc29sdXRlLCBkaXNwbGF5ZWQgdG8gdGhlIHVzZXJcclxuICAgKiBAcGFyYW0gcEggLSB0aGUgcEggb2YgdGhlIHNvbHV0ZVxyXG4gICAqIEBwYXJhbSBzdG9ja0NvbG9yIC0gY29sb3Igb2YgdGhlIHNvbHV0ZSBpbiBzdG9jayBzb2x1dGlvbiAobm8gZGlsdXRpb24pXHJcbiAgICogQHBhcmFtIFtwcm92aWRlT3B0aW9uc11cclxuICAgKi9cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIG5hbWVQcm9wZXJ0eTogTGlua2FibGVQcm9wZXJ0eTxzdHJpbmc+LCBwSDogbnVtYmVyLCBzdG9ja0NvbG9yOiBDb2xvciwgcHJvdmlkZU9wdGlvbnM6IFNvbHV0ZU9wdGlvbnMgKSB7XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggUEhTY2FsZUNvbnN0YW50cy5QSF9SQU5HRS5jb250YWlucyggcEggKSwgYGludmFsaWQgcEg6ICR7cEh9YCApO1xyXG5cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIFNvbHV0ZS5Tb2x1dGVJTywgJ1NvbHV0ZUlPIGFuZCBTb2x1dGUgaW5zdGFuY2VzIGFyZSBzdGF0aWNzLCBzbyBtYWtlIHN1cmUgU29sdXRlSU8gZXhpc3RzJyApO1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8U29sdXRlT3B0aW9ucywgU2VsZk9wdGlvbnMsIFBoZXRpb09iamVjdE9wdGlvbnM+KCkoIHtcclxuXHJcbiAgICAgIC8vIFNlbGZPcHRpb25zXHJcbiAgICAgIGRpbHV0ZWRDb2xvcjogV2F0ZXIuY29sb3IsXHJcbiAgICAgIGNvbG9yU3RvcENvbG9yOiBudWxsLFxyXG4gICAgICBjb2xvclN0b3BSYXRpbzogMC4yNSxcclxuXHJcbiAgICAgIC8vIFBoZXRpb09iamVjdE9wdGlvbnNcclxuICAgICAgcGhldGlvVHlwZTogU29sdXRlLlNvbHV0ZUlPLFxyXG4gICAgICBwaGV0aW9TdGF0ZTogZmFsc2VcclxuICAgIH0sIHByb3ZpZGVPcHRpb25zICk7XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggb3B0aW9ucy5jb2xvclN0b3BSYXRpbyA+IDAgJiYgb3B0aW9ucy5jb2xvclN0b3BSYXRpbyA8IDEsXHJcbiAgICAgIGBpbnZhbGlkIGNvbG9yU3RvcFJhdGlvOiAke29wdGlvbnMuY29sb3JTdG9wUmF0aW99YCApO1xyXG5cclxuICAgIHN1cGVyKCBvcHRpb25zICk7XHJcblxyXG4gICAgdGhpcy5uYW1lUHJvcGVydHkgPSBuYW1lUHJvcGVydHk7XHJcblxyXG4gICAgdGhpcy5wSCA9IHBIO1xyXG4gICAgdGhpcy5zdG9ja0NvbG9yID0gc3RvY2tDb2xvcjtcclxuICAgIHRoaXMudGFuZGVtTmFtZSA9IG9wdGlvbnMudGFuZGVtLm5hbWU7XHJcblxyXG4gICAgdGhpcy5kaWx1dGVkQ29sb3IgPSBvcHRpb25zLmRpbHV0ZWRDb2xvcjtcclxuICAgIHRoaXMuY29sb3JTdG9wQ29sb3IgPSBvcHRpb25zLmNvbG9yU3RvcENvbG9yO1xyXG4gICAgdGhpcy5jb2xvclN0b3BSYXRpbyA9IG9wdGlvbnMuY29sb3JTdG9wUmF0aW87XHJcblxyXG4gICAgdGhpcy5hZGRMaW5rZWRFbGVtZW50KCBuYW1lUHJvcGVydHksIHtcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICduYW1lUHJvcGVydHknIClcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIFNvbHV0ZS4gRm9yIGRlYnVnZ2luZyBvbmx5LCBkbyBub3QgZGVwZW5kIG9uIHRoZSBmb3JtYXQhXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYFNvbHV0aW9uW25hbWU6JHt0aGlzLm5hbWVQcm9wZXJ0eS52YWx1ZX0sIHBIOiR7dGhpcy5wSH1dYDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXB1dGVzIHRoZSBjb2xvciBmb3IgYSBkaWx1dGlvbiBvZiB0aGlzIHNvbHV0ZS5cclxuICAgKiBAcGFyYW0gcmF0aW8gZGVzY3JpYmVzIHRoZSBkaWx1dGlvbiwgcmFuZ2UgaXMgWzAsMV0gaW5jbHVzaXZlLCAwIGlzIG5vIHNvbHV0ZSwgMSBpcyBhbGwgc29sdXRlXHJcbiAgICovXHJcbiAgcHVibGljIGNvbXB1dGVDb2xvciggcmF0aW86IG51bWJlciApOiBDb2xvciB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCByYXRpbyA+PSAwICYmIHJhdGlvIDw9IDEgKTtcclxuICAgIGxldCBjb2xvcjtcclxuICAgIGlmICggdGhpcy5jb2xvclN0b3BDb2xvciApIHtcclxuICAgICAgaWYgKCByYXRpbyA+IHRoaXMuY29sb3JTdG9wUmF0aW8gKSB7XHJcbiAgICAgICAgY29sb3IgPSBDb2xvci5pbnRlcnBvbGF0ZVJHQkEoIHRoaXMuY29sb3JTdG9wQ29sb3IsIHRoaXMuc3RvY2tDb2xvcixcclxuICAgICAgICAgICggcmF0aW8gLSB0aGlzLmNvbG9yU3RvcFJhdGlvICkgLyAoIDEgLSB0aGlzLmNvbG9yU3RvcFJhdGlvICkgKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBjb2xvciA9IENvbG9yLmludGVycG9sYXRlUkdCQSggdGhpcy5kaWx1dGVkQ29sb3IsIHRoaXMuY29sb3JTdG9wQ29sb3IsXHJcbiAgICAgICAgICByYXRpbyAvIHRoaXMuY29sb3JTdG9wUmF0aW8gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNvbG9yID0gQ29sb3IuaW50ZXJwb2xhdGVSR0JBKCB0aGlzLmRpbHV0ZWRDb2xvciwgdGhpcy5zdG9ja0NvbG9yLCByYXRpbyApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbG9yO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHRvU3RhdGVPYmplY3QoKTogU29sdXRlU3RhdGVPYmplY3Qge1xyXG4gICAgY29uc3Qgc29sdXRlUmVmZXJlbmNlID0gUmVmZXJlbmNlSU8oIElPVHlwZS5PYmplY3RJTyApLnRvU3RhdGVPYmplY3QoIHRoaXMgKTtcclxuICAgIHNvbHV0ZVJlZmVyZW5jZS5wSCA9IHRoaXMucEg7XHJcbiAgICByZXR1cm4gc29sdXRlUmVmZXJlbmNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU29sdXRlSU8gaGFuZGxlcyBQaEVULWlPIHNlcmlhbGl6YXRpb24gb2YgU29sdXRlLiBTaW5jZSBhbGwgU29sdXRlcyBhcmUgc3RhdGljIGluc3RhbmNlcywgaXQgaW1wbGVtZW50c1xyXG4gICAqICdSZWZlcmVuY2UgdHlwZSBzZXJpYWxpemF0aW9uJywgYXMgZGVzY3JpYmVkIGluIHRoZSBTZXJpYWxpemF0aW9uIHNlY3Rpb24gb2ZcclxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcGhldC1pby9ibG9iL21hc3Rlci9kb2MvcGhldC1pby1pbnN0cnVtZW50YXRpb24tdGVjaG5pY2FsLWd1aWRlLm1kI3NlcmlhbGl6YXRpb25cclxuICAgKiBCdXQgYmVjYXVzZSB3ZSB3YW50ICdwSCcgdG8gYXBwZWFyIGluIFN0dWRpbywgd2UgY2Fubm90IHNpbXBseSBzdWJjbGFzcyBSZWZlcmVuY2VJTy4gV2UgbXVzdCBhbHNvIHByb3ZpZGVcclxuICAgKiBzdGF0ZVNjaGVtYSBhbmQgdG9TdGF0ZU9iamVjdC5cclxuICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3BoLXNjYWxlL2lzc3Vlcy8yMDUgYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9waC1zY2FsZS9pc3N1ZXMvMjQzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU29sdXRlSU8gPSBuZXcgSU9UeXBlPFNvbHV0ZSwgU29sdXRlU3RhdGVPYmplY3Q+KCAnU29sdXRlSU8nLCB7XHJcbiAgICB2YWx1ZVR5cGU6IFNvbHV0ZSxcclxuICAgIHN1cGVydHlwZTogUmVmZXJlbmNlSU8oIElPVHlwZS5PYmplY3RJTyApLFxyXG4gICAgc3RhdGVTY2hlbWE6IHtcclxuICAgICAgcEg6IE51bWJlcklPXHJcbiAgICB9LFxyXG4gICAgdG9TdGF0ZU9iamVjdDogc29sdXRlID0+IHNvbHV0ZS50b1N0YXRlT2JqZWN0KClcclxuICB9ICk7XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQkFUVEVSWV9BQ0lEID0gbmV3IFNvbHV0ZSggUGhTY2FsZVN0cmluZ3MuY2hvaWNlLmJhdHRlcnlBY2lkU3RyaW5nUHJvcGVydHksIDEsIG5ldyBDb2xvciggMjU1LCAyNTUsIDAgKSwge1xyXG4gICAgY29sb3JTdG9wQ29sb3I6IG5ldyBDb2xvciggMjU1LCAyMjQsIDIwNCApLFxyXG4gICAgdGFuZGVtOiBTT0xVVEVTX1RBTkRFTS5jcmVhdGVUYW5kZW0oICdiYXR0ZXJ5QWNpZCcgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBCTE9PRCA9IG5ldyBTb2x1dGUoIFBoU2NhbGVTdHJpbmdzLmNob2ljZS5ibG9vZFN0cmluZ1Byb3BlcnR5LCA3LjQsIG5ldyBDb2xvciggMjExLCA3OSwgNjggKSwge1xyXG4gICAgY29sb3JTdG9wQ29sb3I6IG5ldyBDb2xvciggMjU1LCAyMDcsIDIwNCApLFxyXG4gICAgdGFuZGVtOiBTT0xVVEVTX1RBTkRFTS5jcmVhdGVUYW5kZW0oICdibG9vZCcgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBDSElDS0VOX1NPVVAgPSBuZXcgU29sdXRlKCBQaFNjYWxlU3RyaW5ncy5jaG9pY2UuY2hpY2tlblNvdXBTdHJpbmdQcm9wZXJ0eSwgNS44LCBuZXcgQ29sb3IoIDI1NSwgMjQwLCAxMDQgKSwge1xyXG4gICAgY29sb3JTdG9wQ29sb3I6IG5ldyBDb2xvciggMjU1LCAyNTAsIDIwNCApLFxyXG4gICAgdGFuZGVtOiBTT0xVVEVTX1RBTkRFTS5jcmVhdGVUYW5kZW0oICdjaGlja2VuU291cCcgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBDT0ZGRUUgPSBuZXcgU29sdXRlKCBQaFNjYWxlU3RyaW5ncy5jaG9pY2UuY29mZmVlU3RyaW5nUHJvcGVydHksIDUsIG5ldyBDb2xvciggMTY0LCA5OSwgNyApLCB7XHJcbiAgICBjb2xvclN0b3BDb2xvcjogbmV3IENvbG9yKCAyNTUsIDI0MCwgMjA0ICksXHJcbiAgICB0YW5kZW06IFNPTFVURVNfVEFOREVNLmNyZWF0ZVRhbmRlbSggJ2NvZmZlZScgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBEUkFJTl9DTEVBTkVSID0gbmV3IFNvbHV0ZSggUGhTY2FsZVN0cmluZ3MuY2hvaWNlLmRyYWluQ2xlYW5lclN0cmluZ1Byb3BlcnR5LCAxMywgbmV3IENvbG9yKCAyNTUsIDI1NSwgMCApLCB7XHJcbiAgICBjb2xvclN0b3BDb2xvcjogbmV3IENvbG9yKCAyNTUsIDI1NSwgMjA0ICksXHJcbiAgICB0YW5kZW06IFNPTFVURVNfVEFOREVNLmNyZWF0ZVRhbmRlbSggJ2RyYWluQ2xlYW5lcicgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBIQU5EX1NPQVAgPSBuZXcgU29sdXRlKCBQaFNjYWxlU3RyaW5ncy5jaG9pY2UuaGFuZFNvYXBTdHJpbmdQcm9wZXJ0eSwgMTAsIG5ldyBDb2xvciggMjI0LCAxNDEsIDI0MiApLCB7XHJcbiAgICBjb2xvclN0b3BDb2xvcjogbmV3IENvbG9yKCAyMzIsIDIwNCwgMjU1ICksXHJcbiAgICB0YW5kZW06IFNPTFVURVNfVEFOREVNLmNyZWF0ZVRhbmRlbSggJ2hhbmRTb2FwJyApXHJcbiAgfSApO1xyXG5cclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1JTEsgPSBuZXcgU29sdXRlKCBQaFNjYWxlU3RyaW5ncy5jaG9pY2UubWlsa1N0cmluZ1Byb3BlcnR5LCA2LjUsIG5ldyBDb2xvciggMjUwLCAyNTAsIDI1MCApLCB7XHJcbiAgICB0YW5kZW06IFNPTFVURVNfVEFOREVNLmNyZWF0ZVRhbmRlbSggJ21pbGsnIClcclxuICB9ICk7XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgT1JBTkdFX0pVSUNFID0gbmV3IFNvbHV0ZSggUGhTY2FsZVN0cmluZ3MuY2hvaWNlLm9yYW5nZUp1aWNlU3RyaW5nUHJvcGVydHksIDMuNSwgbmV3IENvbG9yKCAyNTUsIDE4MCwgMCApLCB7XHJcbiAgICBjb2xvclN0b3BDb2xvcjogbmV3IENvbG9yKCAyNTUsIDI0MiwgMjA0ICksXHJcbiAgICB0YW5kZW06IFNPTFVURVNfVEFOREVNLmNyZWF0ZVRhbmRlbSggJ29yYW5nZUp1aWNlJyApXHJcbiAgfSApO1xyXG5cclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFNPREEgPSBuZXcgU29sdXRlKCBQaFNjYWxlU3RyaW5ncy5jaG9pY2Uuc29kYVN0cmluZ1Byb3BlcnR5LCAyLjUsIG5ldyBDb2xvciggMjA0LCAyNTUsIDEwMiApLCB7XHJcbiAgICBjb2xvclN0b3BDb2xvcjogbmV3IENvbG9yKCAyMzgsIDI1NSwgMjA0ICksXHJcbiAgICB0YW5kZW06IFNPTFVURVNfVEFOREVNLmNyZWF0ZVRhbmRlbSggJ3NvZGEnIClcclxuICB9ICk7XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU1BJVCA9IG5ldyBTb2x1dGUoIFBoU2NhbGVTdHJpbmdzLmNob2ljZS5zcGl0U3RyaW5nUHJvcGVydHksIDcuNCwgbmV3IENvbG9yKCAyMDIsIDI0MCwgMjM5ICksIHtcclxuICAgIHRhbmRlbTogU09MVVRFU19UQU5ERU0uY3JlYXRlVGFuZGVtKCAnc3BpdCcgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBWT01JVCA9IG5ldyBTb2x1dGUoIFBoU2NhbGVTdHJpbmdzLmNob2ljZS52b21pdFN0cmluZ1Byb3BlcnR5LCAyLCBuZXcgQ29sb3IoIDI1NSwgMTcxLCAxMjAgKSwge1xyXG4gICAgY29sb3JTdG9wQ29sb3I6IG5ldyBDb2xvciggMjU1LCAyMjQsIDIwNCApLFxyXG4gICAgdGFuZGVtOiBTT0xVVEVTX1RBTkRFTS5jcmVhdGVUYW5kZW0oICd2b21pdCcgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBXQVRFUiA9IG5ldyBTb2x1dGUoIFdhdGVyLm5hbWVQcm9wZXJ0eSwgV2F0ZXIucEgsIFdhdGVyLmNvbG9yLCB7XHJcbiAgICB0YW5kZW06IFNPTFVURVNfVEFOREVNLmNyZWF0ZVRhbmRlbSggJ3dhdGVyJyApXHJcbiAgfSApO1xyXG59XHJcblxyXG5waFNjYWxlLnJlZ2lzdGVyKCAnU29sdXRlJywgU29sdXRlICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUEsT0FBT0EsU0FBUyxNQUFNLHVDQUF1QztBQUU3RCxTQUFTQyxLQUFLLFFBQVEsbUNBQW1DO0FBQ3pELE9BQU9DLFlBQVksTUFBK0IsdUNBQXVDO0FBQ3pGLE9BQU9DLE1BQU0sTUFBTSxpQ0FBaUM7QUFDcEQsT0FBT0MsTUFBTSxNQUFNLHVDQUF1QztBQUMxRCxPQUFPQyxRQUFRLE1BQU0seUNBQXlDO0FBQzlELE9BQU9DLFdBQVcsTUFBNEIsNENBQTRDO0FBQzFGLE9BQU9DLE9BQU8sTUFBTSxrQkFBa0I7QUFDdEMsT0FBT0MsY0FBYyxNQUFNLHlCQUF5QjtBQUNwRCxPQUFPQyxnQkFBZ0IsTUFBTSx3QkFBd0I7QUFDckQsT0FBT0MsS0FBSyxNQUFNLFlBQVk7O0FBRTlCO0FBQ0EsTUFBTUMsY0FBYyxHQUFHUixNQUFNLENBQUNTLFlBQVksQ0FBQ0MsWUFBWSxDQUFFLFNBQVUsQ0FBQztBQXFCcEUsZUFBZSxNQUFNQyxNQUFNLFNBQVNaLFlBQVksQ0FBQztFQUUvQzs7RUFHQTs7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