// Copyright 2013-2022, University of Colorado Boulder

/**
 * Screen view for the Ohm's Law simulation
 *
 * @author Vasily Shakhov (Mlearner)
 * @author Anton Ulyanov (Mlearner)
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import ScreenView from '../../../../joist/js/ScreenView.js';
import ResetAllButton from '../../../../scenery-phet/js/buttons/ResetAllButton.js';
import DiscreteSoundGenerator from '../../../../tambo/js/sound-generators/DiscreteSoundGenerator.js';
import soundManager from '../../../../tambo/js/soundManager.js';
import click_mp3 from '../../../../tambo/sounds/click_mp3.js';
import ohmsLaw from '../../ohmsLaw.js';
import OhmsLawConstants from '../OhmsLawConstants.js';
import ControlPanel from './ControlPanel.js';
import CurrentSoundGenerator from './CurrentSoundGenerator.js';
import FormulaNode from './FormulaNode.js';
import OhmsLawDescriber from './OhmsLawDescriber.js';
import OhmsLawScreenSummaryNode from './OhmsLawScreenSummaryNode.js';
import UnitsRadioButtonContainer from './UnitsRadioButtonContainer.js';
import WireBox from './WireBox.js';

// constants
const SLIDER_CLICK_LEVEL = 0.25;
class OhmsLawScreenView extends ScreenView {
  /**
   * @param {OhmsLawModel} model
   * @param {Tandem} tandem
   */
  constructor(model, tandem) {
    const ohmsLawDescriber = new OhmsLawDescriber(model);
    super({
      tandem: tandem,
      screenSummaryContent: new OhmsLawScreenSummaryNode(model, ohmsLawDescriber)
    });

    // Node of ohm's law equation. Layout is hardwired, see FormulaNode.
    const formulaNode = new FormulaNode(model, {
      pickable: false,
      tandem: tandem.createTandem('formulaNode')
    });

    // Circuit node with readout node
    const wireBox = new WireBox(model, ohmsLawDescriber, {
      pickable: false,
      tandem: tandem.createTandem('wireBox')
    });

    // create the control panel with sliders
    const controlPanel = new ControlPanel(model, ohmsLawDescriber, {
      tandem: tandem.createTandem('controlPanel')
    });

    // sound generators for voltage and resistance
    const resetNotInProgress = DerivedProperty.not(model.resetInProgressProperty);
    soundManager.addSoundGenerator(new DiscreteSoundGenerator(model.voltageProperty, OhmsLawConstants.VOLTAGE_RANGE, {
      sound: click_mp3,
      numBins: 6,
      enableControlProperties: [resetNotInProgress],
      initialOutputLevel: SLIDER_CLICK_LEVEL,
      alwaysPlayOnChangesProperty: controlPanel.sliderBeingDraggedByKeyboardProperty
    }));
    soundManager.addSoundGenerator(new DiscreteSoundGenerator(model.resistanceProperty, OhmsLawConstants.RESISTANCE_RANGE, {
      sound: click_mp3,
      numBins: 6,
      enableControlProperties: [resetNotInProgress],
      initialOutputLevel: SLIDER_CLICK_LEVEL,
      alwaysPlayOnChangesProperty: controlPanel.sliderBeingDraggedByKeyboardProperty
    }));

    // sound generator for current
    this.currentSoundGenerator = new CurrentSoundGenerator(model.currentProperty, {
      initialOutputLevel: 0.4
    });
    soundManager.addSoundGenerator(this.currentSoundGenerator);
    const unitsRadioButtonContainer = new UnitsRadioButtonContainer(model.currentUnitsProperty, {
      tandem: tandem
    });

    // add the reset button
    const resetAllButton = new ResetAllButton({
      radius: 28,
      listener: () => {
        model.reset();
        this.currentSoundGenerator.reset();
      },
      tandem: tandem.createTandem('resetAllButton')
    });

    // children
    this.pdomPlayAreaNode.addChild(formulaNode);
    this.pdomPlayAreaNode.addChild(wireBox);
    this.pdomPlayAreaNode.addChild(controlPanel);
    this.pdomControlAreaNode.addChild(unitsRadioButtonContainer);
    this.pdomControlAreaNode.addChild(resetAllButton);

    // layout for the screen
    formulaNode.centerY = this.layoutBounds.bottom / 4.75;
    wireBox.centerX = formulaNode.centerX;
    wireBox.bottom = this.layoutBounds.bottom - 30; // empirically determined

    controlPanel.right = this.layoutBounds.width - 50; // empirically determined
    controlPanel.top = this.layoutBounds.top + 20;
    // controlPanel.centerY = this.layoutBounds.centerY - resetAllButton.height / 2;
    resetAllButton.right = controlPanel.right;
    resetAllButton.bottom = this.layoutBounds.bottom - 20;

    // 4 is empirically spacing to better align the top of the readout with the top of the radio button heading.
    unitsRadioButtonContainer.centerY = wireBox.centerY + 4;
    unitsRadioButtonContainer.left = controlPanel.left;
  }

  // @public
  step(dt) {
    this.currentSoundGenerator.step(dt);
  }
}
ohmsLaw.register('OhmsLawScreenView', OhmsLawScreenView);
export default OhmsLawScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJTY3JlZW5WaWV3IiwiUmVzZXRBbGxCdXR0b24iLCJEaXNjcmV0ZVNvdW5kR2VuZXJhdG9yIiwic291bmRNYW5hZ2VyIiwiY2xpY2tfbXAzIiwib2htc0xhdyIsIk9obXNMYXdDb25zdGFudHMiLCJDb250cm9sUGFuZWwiLCJDdXJyZW50U291bmRHZW5lcmF0b3IiLCJGb3JtdWxhTm9kZSIsIk9obXNMYXdEZXNjcmliZXIiLCJPaG1zTGF3U2NyZWVuU3VtbWFyeU5vZGUiLCJVbml0c1JhZGlvQnV0dG9uQ29udGFpbmVyIiwiV2lyZUJveCIsIlNMSURFUl9DTElDS19MRVZFTCIsIk9obXNMYXdTY3JlZW5WaWV3IiwiY29uc3RydWN0b3IiLCJtb2RlbCIsInRhbmRlbSIsIm9obXNMYXdEZXNjcmliZXIiLCJzY3JlZW5TdW1tYXJ5Q29udGVudCIsImZvcm11bGFOb2RlIiwicGlja2FibGUiLCJjcmVhdGVUYW5kZW0iLCJ3aXJlQm94IiwiY29udHJvbFBhbmVsIiwicmVzZXROb3RJblByb2dyZXNzIiwibm90IiwicmVzZXRJblByb2dyZXNzUHJvcGVydHkiLCJhZGRTb3VuZEdlbmVyYXRvciIsInZvbHRhZ2VQcm9wZXJ0eSIsIlZPTFRBR0VfUkFOR0UiLCJzb3VuZCIsIm51bUJpbnMiLCJlbmFibGVDb250cm9sUHJvcGVydGllcyIsImluaXRpYWxPdXRwdXRMZXZlbCIsImFsd2F5c1BsYXlPbkNoYW5nZXNQcm9wZXJ0eSIsInNsaWRlckJlaW5nRHJhZ2dlZEJ5S2V5Ym9hcmRQcm9wZXJ0eSIsInJlc2lzdGFuY2VQcm9wZXJ0eSIsIlJFU0lTVEFOQ0VfUkFOR0UiLCJjdXJyZW50U291bmRHZW5lcmF0b3IiLCJjdXJyZW50UHJvcGVydHkiLCJ1bml0c1JhZGlvQnV0dG9uQ29udGFpbmVyIiwiY3VycmVudFVuaXRzUHJvcGVydHkiLCJyZXNldEFsbEJ1dHRvbiIsInJhZGl1cyIsImxpc3RlbmVyIiwicmVzZXQiLCJwZG9tUGxheUFyZWFOb2RlIiwiYWRkQ2hpbGQiLCJwZG9tQ29udHJvbEFyZWFOb2RlIiwiY2VudGVyWSIsImxheW91dEJvdW5kcyIsImJvdHRvbSIsImNlbnRlclgiLCJyaWdodCIsIndpZHRoIiwidG9wIiwibGVmdCIsInN0ZXAiLCJkdCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiT2htc0xhd1NjcmVlblZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTMtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU2NyZWVuIHZpZXcgZm9yIHRoZSBPaG0ncyBMYXcgc2ltdWxhdGlvblxyXG4gKlxyXG4gKiBAYXV0aG9yIFZhc2lseSBTaGFraG92IChNbGVhcm5lcilcclxuICogQGF1dGhvciBBbnRvbiBVbHlhbm92IChNbGVhcm5lcilcclxuICovXHJcblxyXG5pbXBvcnQgRGVyaXZlZFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvRGVyaXZlZFByb3BlcnR5LmpzJztcclxuaW1wb3J0IFNjcmVlblZpZXcgZnJvbSAnLi4vLi4vLi4vLi4vam9pc3QvanMvU2NyZWVuVmlldy5qcyc7XHJcbmltcG9ydCBSZXNldEFsbEJ1dHRvbiBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvYnV0dG9ucy9SZXNldEFsbEJ1dHRvbi5qcyc7XHJcbmltcG9ydCBEaXNjcmV0ZVNvdW5kR2VuZXJhdG9yIGZyb20gJy4uLy4uLy4uLy4uL3RhbWJvL2pzL3NvdW5kLWdlbmVyYXRvcnMvRGlzY3JldGVTb3VuZEdlbmVyYXRvci5qcyc7XHJcbmltcG9ydCBzb3VuZE1hbmFnZXIgZnJvbSAnLi4vLi4vLi4vLi4vdGFtYm8vanMvc291bmRNYW5hZ2VyLmpzJztcclxuaW1wb3J0IGNsaWNrX21wMyBmcm9tICcuLi8uLi8uLi8uLi90YW1iby9zb3VuZHMvY2xpY2tfbXAzLmpzJztcclxuaW1wb3J0IG9obXNMYXcgZnJvbSAnLi4vLi4vb2htc0xhdy5qcyc7XHJcbmltcG9ydCBPaG1zTGF3Q29uc3RhbnRzIGZyb20gJy4uL09obXNMYXdDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgQ29udHJvbFBhbmVsIGZyb20gJy4vQ29udHJvbFBhbmVsLmpzJztcclxuaW1wb3J0IEN1cnJlbnRTb3VuZEdlbmVyYXRvciBmcm9tICcuL0N1cnJlbnRTb3VuZEdlbmVyYXRvci5qcyc7XHJcbmltcG9ydCBGb3JtdWxhTm9kZSBmcm9tICcuL0Zvcm11bGFOb2RlLmpzJztcclxuaW1wb3J0IE9obXNMYXdEZXNjcmliZXIgZnJvbSAnLi9PaG1zTGF3RGVzY3JpYmVyLmpzJztcclxuaW1wb3J0IE9obXNMYXdTY3JlZW5TdW1tYXJ5Tm9kZSBmcm9tICcuL09obXNMYXdTY3JlZW5TdW1tYXJ5Tm9kZS5qcyc7XHJcbmltcG9ydCBVbml0c1JhZGlvQnV0dG9uQ29udGFpbmVyIGZyb20gJy4vVW5pdHNSYWRpb0J1dHRvbkNvbnRhaW5lci5qcyc7XHJcbmltcG9ydCBXaXJlQm94IGZyb20gJy4vV2lyZUJveC5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgU0xJREVSX0NMSUNLX0xFVkVMID0gMC4yNTtcclxuXHJcbmNsYXNzIE9obXNMYXdTY3JlZW5WaWV3IGV4dGVuZHMgU2NyZWVuVmlldyB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7T2htc0xhd01vZGVsfSBtb2RlbFxyXG4gICAqIEBwYXJhbSB7VGFuZGVtfSB0YW5kZW1cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggbW9kZWwsIHRhbmRlbSApIHtcclxuXHJcbiAgICBjb25zdCBvaG1zTGF3RGVzY3JpYmVyID0gbmV3IE9obXNMYXdEZXNjcmliZXIoIG1vZGVsICk7XHJcblxyXG4gICAgc3VwZXIoIHtcclxuICAgICAgdGFuZGVtOiB0YW5kZW0sXHJcbiAgICAgIHNjcmVlblN1bW1hcnlDb250ZW50OiBuZXcgT2htc0xhd1NjcmVlblN1bW1hcnlOb2RlKCBtb2RlbCwgb2htc0xhd0Rlc2NyaWJlciApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gTm9kZSBvZiBvaG0ncyBsYXcgZXF1YXRpb24uIExheW91dCBpcyBoYXJkd2lyZWQsIHNlZSBGb3JtdWxhTm9kZS5cclxuICAgIGNvbnN0IGZvcm11bGFOb2RlID0gbmV3IEZvcm11bGFOb2RlKCBtb2RlbCwge1xyXG4gICAgICBwaWNrYWJsZTogZmFsc2UsXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2Zvcm11bGFOb2RlJyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQ2lyY3VpdCBub2RlIHdpdGggcmVhZG91dCBub2RlXHJcbiAgICBjb25zdCB3aXJlQm94ID0gbmV3IFdpcmVCb3goIG1vZGVsLCBvaG1zTGF3RGVzY3JpYmVyLCB7XHJcbiAgICAgIHBpY2thYmxlOiBmYWxzZSxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnd2lyZUJveCcgKVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGNyZWF0ZSB0aGUgY29udHJvbCBwYW5lbCB3aXRoIHNsaWRlcnNcclxuICAgIGNvbnN0IGNvbnRyb2xQYW5lbCA9IG5ldyBDb250cm9sUGFuZWwoIG1vZGVsLCBvaG1zTGF3RGVzY3JpYmVyLCB7IHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2NvbnRyb2xQYW5lbCcgKSB9ICk7XHJcblxyXG4gICAgLy8gc291bmQgZ2VuZXJhdG9ycyBmb3Igdm9sdGFnZSBhbmQgcmVzaXN0YW5jZVxyXG4gICAgY29uc3QgcmVzZXROb3RJblByb2dyZXNzID0gRGVyaXZlZFByb3BlcnR5Lm5vdCggbW9kZWwucmVzZXRJblByb2dyZXNzUHJvcGVydHkgKTtcclxuICAgIHNvdW5kTWFuYWdlci5hZGRTb3VuZEdlbmVyYXRvciggbmV3IERpc2NyZXRlU291bmRHZW5lcmF0b3IoXHJcbiAgICAgIG1vZGVsLnZvbHRhZ2VQcm9wZXJ0eSxcclxuICAgICAgT2htc0xhd0NvbnN0YW50cy5WT0xUQUdFX1JBTkdFLFxyXG4gICAgICB7XHJcbiAgICAgICAgc291bmQ6IGNsaWNrX21wMyxcclxuICAgICAgICBudW1CaW5zOiA2LFxyXG4gICAgICAgIGVuYWJsZUNvbnRyb2xQcm9wZXJ0aWVzOiBbIHJlc2V0Tm90SW5Qcm9ncmVzcyBdLFxyXG4gICAgICAgIGluaXRpYWxPdXRwdXRMZXZlbDogU0xJREVSX0NMSUNLX0xFVkVMLFxyXG4gICAgICAgIGFsd2F5c1BsYXlPbkNoYW5nZXNQcm9wZXJ0eTogY29udHJvbFBhbmVsLnNsaWRlckJlaW5nRHJhZ2dlZEJ5S2V5Ym9hcmRQcm9wZXJ0eVxyXG4gICAgICB9XHJcbiAgICApICk7XHJcbiAgICBzb3VuZE1hbmFnZXIuYWRkU291bmRHZW5lcmF0b3IoIG5ldyBEaXNjcmV0ZVNvdW5kR2VuZXJhdG9yKFxyXG4gICAgICBtb2RlbC5yZXNpc3RhbmNlUHJvcGVydHksXHJcbiAgICAgIE9obXNMYXdDb25zdGFudHMuUkVTSVNUQU5DRV9SQU5HRSxcclxuICAgICAge1xyXG4gICAgICAgIHNvdW5kOiBjbGlja19tcDMsXHJcbiAgICAgICAgbnVtQmluczogNixcclxuICAgICAgICBlbmFibGVDb250cm9sUHJvcGVydGllczogWyByZXNldE5vdEluUHJvZ3Jlc3MgXSxcclxuICAgICAgICBpbml0aWFsT3V0cHV0TGV2ZWw6IFNMSURFUl9DTElDS19MRVZFTCxcclxuICAgICAgICBhbHdheXNQbGF5T25DaGFuZ2VzUHJvcGVydHk6IGNvbnRyb2xQYW5lbC5zbGlkZXJCZWluZ0RyYWdnZWRCeUtleWJvYXJkUHJvcGVydHlcclxuICAgICAgfVxyXG4gICAgKSApO1xyXG5cclxuICAgIC8vIHNvdW5kIGdlbmVyYXRvciBmb3IgY3VycmVudFxyXG4gICAgdGhpcy5jdXJyZW50U291bmRHZW5lcmF0b3IgPSBuZXcgQ3VycmVudFNvdW5kR2VuZXJhdG9yKCBtb2RlbC5jdXJyZW50UHJvcGVydHksIHtcclxuICAgICAgaW5pdGlhbE91dHB1dExldmVsOiAwLjRcclxuICAgIH0gKTtcclxuICAgIHNvdW5kTWFuYWdlci5hZGRTb3VuZEdlbmVyYXRvciggdGhpcy5jdXJyZW50U291bmRHZW5lcmF0b3IgKTtcclxuICAgIGNvbnN0IHVuaXRzUmFkaW9CdXR0b25Db250YWluZXIgPSBuZXcgVW5pdHNSYWRpb0J1dHRvbkNvbnRhaW5lciggbW9kZWwuY3VycmVudFVuaXRzUHJvcGVydHksIHtcclxuICAgICAgdGFuZGVtOiB0YW5kZW1cclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBhZGQgdGhlIHJlc2V0IGJ1dHRvblxyXG4gICAgY29uc3QgcmVzZXRBbGxCdXR0b24gPSBuZXcgUmVzZXRBbGxCdXR0b24oIHtcclxuICAgICAgcmFkaXVzOiAyOCxcclxuICAgICAgbGlzdGVuZXI6ICgpID0+IHtcclxuICAgICAgICBtb2RlbC5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNvdW5kR2VuZXJhdG9yLnJlc2V0KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3Jlc2V0QWxsQnV0dG9uJyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gY2hpbGRyZW5cclxuICAgIHRoaXMucGRvbVBsYXlBcmVhTm9kZS5hZGRDaGlsZCggZm9ybXVsYU5vZGUgKTtcclxuICAgIHRoaXMucGRvbVBsYXlBcmVhTm9kZS5hZGRDaGlsZCggd2lyZUJveCApO1xyXG4gICAgdGhpcy5wZG9tUGxheUFyZWFOb2RlLmFkZENoaWxkKCBjb250cm9sUGFuZWwgKTtcclxuICAgIHRoaXMucGRvbUNvbnRyb2xBcmVhTm9kZS5hZGRDaGlsZCggdW5pdHNSYWRpb0J1dHRvbkNvbnRhaW5lciApO1xyXG4gICAgdGhpcy5wZG9tQ29udHJvbEFyZWFOb2RlLmFkZENoaWxkKCByZXNldEFsbEJ1dHRvbiApO1xyXG5cclxuICAgIC8vIGxheW91dCBmb3IgdGhlIHNjcmVlblxyXG4gICAgZm9ybXVsYU5vZGUuY2VudGVyWSA9IHRoaXMubGF5b3V0Qm91bmRzLmJvdHRvbSAvIDQuNzU7XHJcblxyXG4gICAgd2lyZUJveC5jZW50ZXJYID0gZm9ybXVsYU5vZGUuY2VudGVyWDtcclxuICAgIHdpcmVCb3guYm90dG9tID0gdGhpcy5sYXlvdXRCb3VuZHMuYm90dG9tIC0gMzA7IC8vIGVtcGlyaWNhbGx5IGRldGVybWluZWRcclxuXHJcbiAgICBjb250cm9sUGFuZWwucmlnaHQgPSB0aGlzLmxheW91dEJvdW5kcy53aWR0aCAtIDUwOyAvLyBlbXBpcmljYWxseSBkZXRlcm1pbmVkXHJcbiAgICBjb250cm9sUGFuZWwudG9wID0gdGhpcy5sYXlvdXRCb3VuZHMudG9wICsgMjA7XHJcbiAgICAvLyBjb250cm9sUGFuZWwuY2VudGVyWSA9IHRoaXMubGF5b3V0Qm91bmRzLmNlbnRlclkgLSByZXNldEFsbEJ1dHRvbi5oZWlnaHQgLyAyO1xyXG4gICAgcmVzZXRBbGxCdXR0b24ucmlnaHQgPSBjb250cm9sUGFuZWwucmlnaHQ7XHJcbiAgICByZXNldEFsbEJ1dHRvbi5ib3R0b20gPSB0aGlzLmxheW91dEJvdW5kcy5ib3R0b20gLSAyMDtcclxuXHJcbiAgICAvLyA0IGlzIGVtcGlyaWNhbGx5IHNwYWNpbmcgdG8gYmV0dGVyIGFsaWduIHRoZSB0b3Agb2YgdGhlIHJlYWRvdXQgd2l0aCB0aGUgdG9wIG9mIHRoZSByYWRpbyBidXR0b24gaGVhZGluZy5cclxuICAgIHVuaXRzUmFkaW9CdXR0b25Db250YWluZXIuY2VudGVyWSA9IHdpcmVCb3guY2VudGVyWSArIDQ7XHJcbiAgICB1bml0c1JhZGlvQnV0dG9uQ29udGFpbmVyLmxlZnQgPSBjb250cm9sUGFuZWwubGVmdDtcclxuICB9XHJcblxyXG4gIC8vIEBwdWJsaWNcclxuICBzdGVwKCBkdCApIHtcclxuICAgIHRoaXMuY3VycmVudFNvdW5kR2VuZXJhdG9yLnN0ZXAoIGR0ICk7XHJcbiAgfVxyXG59XHJcblxyXG5vaG1zTGF3LnJlZ2lzdGVyKCAnT2htc0xhd1NjcmVlblZpZXcnLCBPaG1zTGF3U2NyZWVuVmlldyApO1xyXG5leHBvcnQgZGVmYXVs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