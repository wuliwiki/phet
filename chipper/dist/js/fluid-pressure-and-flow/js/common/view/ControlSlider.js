// Copyright 2013-2022, University of Colorado Boulder

/**
 * A generic slider control that can be used to control a numeric property within a given range.
 * It has a slider and buttons on either ends of the display to change the property value.
 * It can be expanded or collapsed using a plus/minus button at top left.
 * Has support to show ticks for important values and snaps to these values when the value is within 5% of a tick.
 * Triggers a callback function to update the display value when trackProperty or unitsProperty changes.
 *
 * @author Anton Ulyanov, Vasily Shakhov (Mlearner)
 * @author Siddhartha Chinthapally (Actual Concepts)
 */

import Bounds2 from '../../../../dot/js/Bounds2.js';
import Dimension2 from '../../../../dot/js/Dimension2.js';
import Utils from '../../../../dot/js/Utils.js';
import merge from '../../../../phet-core/js/merge.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { Node, Rectangle, RichText, Text } from '../../../../scenery/js/imports.js';
import AccordionBox from '../../../../sun/js/AccordionBox.js';
import ArrowButton from '../../../../sun/js/buttons/ArrowButton.js';
import HSlider from '../../../../sun/js/HSlider.js';
import fluidPressureAndFlow from '../../fluidPressureAndFlow.js';

// constants
const PLUS_MINUS_SPACING = 6;
class ControlSlider extends Node {
  /**
   * @param {Property.<string>} measureUnitsProperty tracks the units to use (english/metric/atmosphere)
   * @param {Property.<Number>} trackProperty tracks the property used in the slider
   * @param {function} getPropertyStringFunction returns a display value
   * @param {Range} trackRange is the range of values that the trackProperty can take
   * @param {Property.<boolean>} expandedProperty tracks whether the control is expanded or collapsed
   * @param {Object} [options]
   */
  constructor(measureUnitsProperty, trackProperty, getPropertyStringFunction, trackRange, expandedProperty, options) {
    options = merge({
      fill: '#f2fa6a',
      xMargin: 5,
      decimals: 0,
      thumbSize: new Dimension2(12, 25),
      ticks: [],
      ticksVisible: true,
      titleAlign: 'left',
      labelMaxWidth: 35
    }, options);
    super();
    const trackSize = new Dimension2(115, 6);
    function getSlider(trackSize) {
      const aSlider = new HSlider(trackProperty, trackRange, {
        trackSize: trackSize,
        thumbSize: options.thumbSize,
        majorTickLineWidth: options.ticksVisible ? 1 : 0,
        majorTickLength: 15
      });
      const labelFont = new PhetFont(9.5);
      options.ticks.forEach(tick => {
        aSlider.addMajorTick(tick.value, new Text(tick.title, {
          font: labelFont,
          visible: options.ticksVisible,
          maxWidth: options.labelMaxWidth,
          pickable: false
        }));
      });
      return aSlider;
    }
    const hSlider = getSlider(trackSize);
    this.content = new Node();
    const plusButton = new ArrowButton('right', () => {
      trackProperty.set(Utils.toFixedNumber(Math.min(trackProperty.get() + 1 / Math.pow(10, options.decimals), trackRange.max), options.decimals));
    }, {
      scale: 0.6
    });
    plusButton.touchArea = new Bounds2(plusButton.localBounds.minX - 20, plusButton.localBounds.minY - 5, plusButton.localBounds.maxX + 20, plusButton.localBounds.maxY + 20);
    const minusButton = new ArrowButton('left', () => {
      trackProperty.set(Utils.toFixedNumber(Math.max(trackProperty.get() - 1 / Math.pow(10, options.decimals), trackRange.min), options.decimals));
    }, {
      scale: 0.6
    });
    minusButton.touchArea = new Bounds2(minusButton.localBounds.minX - 20, minusButton.localBounds.minY - 5, minusButton.localBounds.maxX + 20, minusButton.localBounds.maxY + 20);
    const valueLabel = new RichText('', {
      font: new PhetFont(12),
      pickable: false,
      maxWidth: 60
    });
    const valueField = new Rectangle(0, 0, trackSize.width * 0.6, 18, 3, 3, {
      fill: '#FFF',
      stroke: 'black',
      lineWidth: 1,
      pickable: false
    });

    // rendering order
    this.content.addChild(valueField);
    this.content.addChild(valueLabel);
    this.content.addChild(hSlider);
    this.content.addChild(plusButton);
    this.content.addChild(minusButton);

    // relative layout, everything relative to the track
    valueField.centerX = this.content.centerX;
    valueField.bottom = hSlider.top - 5;

    // plus button to the right of the value
    plusButton.left = valueField.right + PLUS_MINUS_SPACING;
    plusButton.centerY = valueField.centerY;

    // minus button to the left of the value
    minusButton.right = valueField.left - PLUS_MINUS_SPACING;
    minusButton.centerY = valueField.centerY;
    this.accordionContent = new Node();
    this.accordionContent.addChild(this.content);
    this.accordionContent.left = 0;
    const accordionBox = new AccordionBox(this.accordionContent, {
      titleNode: new Text(options.title, {
        font: new PhetFont({
          size: 13
        }),
        maxWidth: trackSize.width + 2 * options.xMargin
      }),
      fill: options.fill,
      stroke: 'gray',
      expandedProperty: expandedProperty,
      contentAlign: 'center',
      titleAlign: options.titleAlign,
      buttonAlign: 'left',
      cornerRadius: 4,
      contentYSpacing: 2,
      contentYMargin: 5,
      contentXMargin: 4,
      buttonYMargin: 4,
      buttonXMargin: 6,
      minWidth: trackSize.width + 12 * options.xMargin,
      expandCollapseButtonOptions: {
        sideLength: 12,
        touchAreaYDilation: 2 // empirically determined so that it does not overlap touch area of arrow button
      }
    });

    this.addChild(accordionBox);

    // question mark, show if unknown property
    this.questionMark = new Node({
      visible: false
    });
    this.questionMark.addChild(new Text('?', {
      font: new PhetFont(60)
    }));
    this.questionMark.centerX = this.content.centerX;
    this.questionMark.top = this.content.top;
    this.accordionContent.addChild(this.questionMark);
    trackProperty.link(value => {
      valueLabel.string = getPropertyStringFunction();
      valueLabel.center = valueField.center; // keep the value centered in the field
      plusButton.enabled = value < trackRange.max;
      minusButton.enabled = value > trackRange.min;
    });
    measureUnitsProperty.link(() => {
      valueLabel.string = getPropertyStringFunction();
      valueLabel.center = valueField.center; // keep the value centered in the field
    });

    this.mutate(options);
  }

  // hide the slider and show the question mark
  // @public
  disable() {
    this.content.visible = false;
    this.questionMark.visible = true;
  }

  // show the slider and hide the question mark
  // @public
  enable() {
    this.content.visible = true;
    this.questionMark.visible = false;
  }
}
fluidPressureAndFlow.register('ControlSlider', ControlSlider);
export default ControlSlider;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb3VuZHMyIiwiRGltZW5zaW9uMiIsIlV0aWxzIiwibWVyZ2UiLCJQaGV0Rm9udCIsIk5vZGUiLCJSZWN0YW5nbGUiLCJSaWNoVGV4dCIsIlRleHQiLCJBY2NvcmRpb25Cb3giLCJBcnJvd0J1dHRvbiIsIkhTbGlkZXIiLCJmbHVpZFByZXNzdXJlQW5kRmxvdyIsIlBMVVNfTUlOVVNfU1BBQ0lORyIsIkNvbnRyb2xTbGlkZXIiLCJjb25zdHJ1Y3RvciIsIm1lYXN1cmVVbml0c1Byb3BlcnR5IiwidHJhY2tQcm9wZXJ0eSIsImdldFByb3BlcnR5U3RyaW5nRnVuY3Rpb24iLCJ0cmFja1JhbmdlIiwiZXhwYW5kZWRQcm9wZXJ0eSIsIm9wdGlvbnMiLCJmaWxsIiwieE1hcmdpbiIsImRlY2ltYWxzIiwidGh1bWJTaXplIiwidGlja3MiLCJ0aWNrc1Zpc2libGUiLCJ0aXRsZUFsaWduIiwibGFiZWxNYXhXaWR0aCIsInRyYWNrU2l6ZSIsImdldFNsaWRlciIsImFTbGlkZXIiLCJtYWpvclRpY2tMaW5lV2lkdGgiLCJtYWpvclRpY2tMZW5ndGgiLCJsYWJlbEZvbnQiLCJmb3JFYWNoIiwidGljayIsImFkZE1ham9yVGljayIsInZhbHVlIiwidGl0bGUiLCJmb250IiwidmlzaWJsZSIsIm1heFdpZHRoIiwicGlja2FibGUiLCJoU2xpZGVyIiwiY29udGVudCIsInBsdXNCdXR0b24iLCJzZXQiLCJ0b0ZpeGVkTnVtYmVyIiwiTWF0aCIsIm1pbiIsImdldCIsInBvdyIsIm1heCIsInNjYWxlIiwidG91Y2hBcmVhIiwibG9jYWxCb3VuZHMiLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwibWludXNCdXR0b24iLCJ2YWx1ZUxhYmVsIiwidmFsdWVGaWVsZCIsIndpZHRoIiwic3Ryb2tlIiwibGluZVdpZHRoIiwiYWRkQ2hpbGQiLCJjZW50ZXJYIiwiYm90dG9tIiwidG9wIiwibGVmdCIsInJpZ2h0IiwiY2VudGVyWSIsImFjY29yZGlvbkNvbnRlbnQiLCJhY2NvcmRpb25Cb3giLCJ0aXRsZU5vZGUiLCJzaXplIiwiY29udGVudEFsaWduIiwiYnV0dG9uQWxpZ24iLCJjb3JuZXJSYWRpdXMiLCJjb250ZW50WVNwYWNpbmciLCJjb250ZW50WU1hcmdpbiIsImNvbnRlbnRYTWFyZ2luIiwiYnV0dG9uWU1hcmdpbiIsImJ1dHRvblhNYXJnaW4iLCJtaW5XaWR0aCIsImV4cGFuZENvbGxhcHNlQnV0dG9uT3B0aW9ucyIsInNpZGVMZW5ndGgiLCJ0b3VjaEFyZWFZRGlsYXRpb24iLCJxdWVzdGlvbk1hcmsiLCJsaW5rIiwic3RyaW5nIiwiY2VudGVyIiwiZW5hYmxlZCIsIm11dGF0ZSIsImRpc2FibGUiLCJlbmFibGUiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkNvbnRyb2xTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTMtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQSBnZW5lcmljIHNsaWRlciBjb250cm9sIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29udHJvbCBhIG51bWVyaWMgcHJvcGVydHkgd2l0aGluIGEgZ2l2ZW4gcmFuZ2UuXHJcbiAqIEl0IGhhcyBhIHNsaWRlciBhbmQgYnV0dG9ucyBvbiBlaXRoZXIgZW5kcyBvZiB0aGUgZGlzcGxheSB0byBjaGFuZ2UgdGhlIHByb3BlcnR5IHZhbHVlLlxyXG4gKiBJdCBjYW4gYmUgZXhwYW5kZWQgb3IgY29sbGFwc2VkIHVzaW5nIGEgcGx1cy9taW51cyBidXR0b24gYXQgdG9wIGxlZnQuXHJcbiAqIEhhcyBzdXBwb3J0IHRvIHNob3cgdGlja3MgZm9yIGltcG9ydGFudCB2YWx1ZXMgYW5kIHNuYXBzIHRvIHRoZXNlIHZhbHVlcyB3aGVuIHRoZSB2YWx1ZSBpcyB3aXRoaW4gNSUgb2YgYSB0aWNrLlxyXG4gKiBUcmlnZ2VycyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgZGlzcGxheSB2YWx1ZSB3aGVuIHRyYWNrUHJvcGVydHkgb3IgdW5pdHNQcm9wZXJ0eSBjaGFuZ2VzLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEFudG9uIFVseWFub3YsIFZhc2lseSBTaGFraG92IChNbGVhcm5lcilcclxuICogQGF1dGhvciBTaWRkaGFydGhhIENoaW50aGFwYWxseSAoQWN0dWFsIENvbmNlcHRzKVxyXG4gKi9cclxuXHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IERpbWVuc2lvbjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL0RpbWVuc2lvbjIuanMnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IG1lcmdlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tZXJnZS5qcyc7XHJcbmltcG9ydCBQaGV0Rm9udCBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvUGhldEZvbnQuanMnO1xyXG5pbXBvcnQgeyBOb2RlLCBSZWN0YW5nbGUsIFJpY2hUZXh0LCBUZXh0IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IEFjY29yZGlvbkJveCBmcm9tICcuLi8uLi8uLi8uLi9zdW4vanMvQWNjb3JkaW9uQm94LmpzJztcclxuaW1wb3J0IEFycm93QnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9idXR0b25zL0Fycm93QnV0dG9uLmpzJztcclxuaW1wb3J0IEhTbGlkZXIgZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL0hTbGlkZXIuanMnO1xyXG5pbXBvcnQgZmx1aWRQcmVzc3VyZUFuZEZsb3cgZnJvbSAnLi4vLi4vZmx1aWRQcmVzc3VyZUFuZEZsb3cuanMnO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IFBMVVNfTUlOVVNfU1BBQ0lORyA9IDY7XHJcblxyXG5jbGFzcyBDb250cm9sU2xpZGVyIGV4dGVuZHMgTm9kZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPHN0cmluZz59IG1lYXN1cmVVbml0c1Byb3BlcnR5IHRyYWNrcyB0aGUgdW5pdHMgdG8gdXNlIChlbmdsaXNoL21ldHJpYy9hdG1vc3BoZXJlKVxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPE51bWJlcj59IHRyYWNrUHJvcGVydHkgdHJhY2tzIHRoZSBwcm9wZXJ0eSB1c2VkIGluIHRoZSBzbGlkZXJcclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBnZXRQcm9wZXJ0eVN0cmluZ0Z1bmN0aW9uIHJldHVybnMgYSBkaXNwbGF5IHZhbHVlXHJcbiAgICogQHBhcmFtIHtSYW5nZX0gdHJhY2tSYW5nZSBpcyB0aGUgcmFuZ2Ugb2YgdmFsdWVzIHRoYXQgdGhlIHRyYWNrUHJvcGVydHkgY2FuIHRha2VcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5Ljxib29sZWFuPn0gZXhwYW5kZWRQcm9wZXJ0eSB0cmFja3Mgd2hldGhlciB0aGUgY29udHJvbCBpcyBleHBhbmRlZCBvciBjb2xsYXBzZWRcclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIG1lYXN1cmVVbml0c1Byb3BlcnR5LCB0cmFja1Byb3BlcnR5LCBnZXRQcm9wZXJ0eVN0cmluZ0Z1bmN0aW9uLCB0cmFja1JhbmdlLCBleHBhbmRlZFByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICBvcHRpb25zICkge1xyXG5cclxuICAgIG9wdGlvbnMgPSBtZXJnZSgge1xyXG4gICAgICBmaWxsOiAnI2YyZmE2YScsXHJcbiAgICAgIHhNYXJnaW46IDUsXHJcbiAgICAgIGRlY2ltYWxzOiAwLFxyXG4gICAgICB0aHVtYlNpemU6IG5ldyBEaW1lbnNpb24yKCAxMiwgMjUgKSxcclxuICAgICAgdGlja3M6IFtdLFxyXG4gICAgICB0aWNrc1Zpc2libGU6IHRydWUsXHJcbiAgICAgIHRpdGxlQWxpZ246ICdsZWZ0JyxcclxuICAgICAgbGFiZWxNYXhXaWR0aDogMzVcclxuICAgIH0sIG9wdGlvbnMgKTtcclxuXHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIGNvbnN0IHRyYWNrU2l6ZSA9IG5ldyBEaW1lbnNpb24yKCAxMTUsIDYgKTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRTbGlkZXIoIHRyYWNrU2l6ZSApIHtcclxuICAgICAgY29uc3QgYVNsaWRlciA9IG5ldyBIU2xpZGVyKCB0cmFja1Byb3BlcnR5LCB0cmFja1JhbmdlLCB7XHJcbiAgICAgICAgdHJhY2tTaXplOiB0cmFja1NpemUsXHJcbiAgICAgICAgdGh1bWJTaXplOiBvcHRpb25zLnRodW1iU2l6ZSxcclxuICAgICAgICBtYWpvclRpY2tMaW5lV2lkdGg6ICggb3B0aW9ucy50aWNrc1Zpc2libGUgPyAxIDogMCApLFxyXG4gICAgICAgIG1ham9yVGlja0xlbmd0aDogMTVcclxuICAgICAgfSApO1xyXG4gICAgICBjb25zdCBsYWJlbEZvbnQgPSBuZXcgUGhldEZvbnQoIDkuNSApO1xyXG5cclxuICAgICAgb3B0aW9ucy50aWNrcy5mb3JFYWNoKCB0aWNrID0+IHtcclxuICAgICAgICBhU2xpZGVyLmFkZE1ham9yVGljayggdGljay52YWx1ZSwgbmV3IFRleHQoIHRpY2sudGl0bGUsIHtcclxuICAgICAgICAgIGZvbnQ6IGxhYmVsRm9udCxcclxuICAgICAgICAgIHZpc2libGU6IG9wdGlvbnMudGlja3NWaXNpYmxlLFxyXG4gICAgICAgICAgbWF4V2lkdGg6IG9wdGlvbnMubGFiZWxNYXhXaWR0aCxcclxuICAgICAgICAgIHBpY2thYmxlOiBmYWxzZVxyXG4gICAgICAgIH0gKSApO1xyXG4gICAgICB9ICk7XHJcbiAgICAgIHJldHVybiBhU2xpZGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhTbGlkZXIgPSBnZXRTbGlkZXIoIHRyYWNrU2l6ZSApO1xyXG4gICAgdGhpcy5jb250ZW50ID0gbmV3IE5vZGUoKTtcclxuXHJcbiAgICBjb25zdCBwbHVzQnV0dG9uID0gbmV3IEFycm93QnV0dG9uKCAncmlnaHQnLCAoKSA9PiB7XHJcbiAgICAgIHRyYWNrUHJvcGVydHkuc2V0KCBVdGlscy50b0ZpeGVkTnVtYmVyKCBNYXRoLm1pbiggdHJhY2tQcm9wZXJ0eS5nZXQoKSArIDEgLyBNYXRoLnBvdyggMTAsIG9wdGlvbnMuZGVjaW1hbHMgKSxcclxuICAgICAgICB0cmFja1JhbmdlLm1heCApLCBvcHRpb25zLmRlY2ltYWxzICkgKTtcclxuICAgIH0sIHtcclxuICAgICAgc2NhbGU6IDAuNlxyXG4gICAgfSApO1xyXG5cclxuICAgIHBsdXNCdXR0b24udG91Y2hBcmVhID0gbmV3IEJvdW5kczIoIHBsdXNCdXR0b24ubG9jYWxCb3VuZHMubWluWCAtIDIwLCBwbHVzQnV0dG9uLmxvY2FsQm91bmRzLm1pblkgLSA1LFxyXG4gICAgICBwbHVzQnV0dG9uLmxvY2FsQm91bmRzLm1heFggKyAyMCwgcGx1c0J1dHRvbi5sb2NhbEJvdW5kcy5tYXhZICsgMjAgKTtcclxuXHJcbiAgICBjb25zdCBtaW51c0J1dHRvbiA9IG5ldyBBcnJvd0J1dHRvbiggJ2xlZnQnLCAoKSA9PiB7XHJcbiAgICAgIHRyYWNrUHJvcGVydHkuc2V0KCBVdGlscy50b0ZpeGVkTnVtYmVyKCBNYXRoLm1heCggdHJhY2tQcm9wZXJ0eS5nZXQoKSAtIDEgLyBNYXRoLnBvdyggMTAsIG9wdGlvbnMuZGVjaW1hbHMgKSxcclxuICAgICAgICB0cmFja1JhbmdlLm1pbiApLCBvcHRpb25zLmRlY2ltYWxzICkgKTtcclxuICAgIH0sIHtcclxuICAgICAgc2NhbGU6IDAuNlxyXG4gICAgfSApO1xyXG5cclxuICAgIG1pbnVzQnV0dG9uLnRvdWNoQXJlYSA9IG5ldyBCb3VuZHMyKCBtaW51c0J1dHRvbi5sb2NhbEJvdW5kcy5taW5YIC0gMjAsIG1pbnVzQnV0dG9uLmxvY2FsQm91bmRzLm1pblkgLSA1LFxyXG4gICAgICBtaW51c0J1dHRvbi5sb2NhbEJvdW5kcy5tYXhYICsgMjAsIG1pbnVzQnV0dG9uLmxvY2FsQm91bmRzLm1heFkgKyAyMCApO1xyXG5cclxuICAgIGNvbnN0IHZhbHVlTGFiZWwgPSBuZXcgUmljaFRleHQoICcnLCB7IGZvbnQ6IG5ldyBQaGV0Rm9udCggMTIgKSwgcGlja2FibGU6IGZhbHNlLCBtYXhXaWR0aDogNjAgfSApO1xyXG4gICAgY29uc3QgdmFsdWVGaWVsZCA9IG5ldyBSZWN0YW5nbGUoIDAsIDAsIHRyYWNrU2l6ZS53aWR0aCAqIDAuNiwgMTgsIDMsIDMsXHJcbiAgICAgIHsgZmlsbDogJyNGRkYnLCBzdHJva2U6ICdibGFjaycsIGxpbmVXaWR0aDogMSwgcGlja2FibGU6IGZhbHNlIH0gKTtcclxuXHJcbiAgICAvLyByZW5kZXJpbmcgb3JkZXJcclxuICAgIHRoaXMuY29udGVudC5hZGRDaGlsZCggdmFsdWVGaWVsZCApO1xyXG4gICAgdGhpcy5jb250ZW50LmFkZENoaWxkKCB2YWx1ZUxhYmVsICk7XHJcbiAgICB0aGlzLmNvbnRlbnQuYWRkQ2hpbGQoIGhTbGlkZXIgKTtcclxuICAgIHRoaXMuY29udGVudC5hZGRDaGlsZCggcGx1c0J1dHRvbiApO1xyXG4gICAgdGhpcy5jb250ZW50LmFkZENoaWxkKCBtaW51c0J1dHRvbiApO1xyXG5cclxuICAgIC8vIHJlbGF0aXZlIGxheW91dCwgZXZlcnl0aGluZyByZWxhdGl2ZSB0byB0aGUgdHJhY2tcclxuICAgIHZhbHVlRmllbGQuY2VudGVyWCA9IHRoaXMuY29udGVudC5jZW50ZXJYO1xyXG4gICAgdmFsdWVGaWVsZC5ib3R0b20gPSBoU2xpZGVyLnRvcCAtIDU7XHJcblxyXG4gICAgLy8gcGx1cyBidXR0b24gdG8gdGhlIHJpZ2h0IG9mIHRoZSB2YWx1ZVxyXG4gICAgcGx1c0J1dHRvbi5sZWZ0ID0gdmFsdWVGaWVsZC5yaWdodCArIFBMVVNfTUlOVVNfU1BBQ0lORztcclxuICAgIHBsdXNCdXR0b24uY2VudGVyWSA9IHZhbHVlRmllbGQuY2VudGVyWTtcclxuXHJcbiAgICAvLyBtaW51cyBidXR0b24gdG8gdGhlIGxlZnQgb2YgdGhlIHZhbHVlXHJcbiAgICBtaW51c0J1dHRvbi5yaWdodCA9IHZhbHVlRmllbGQubGVmdCAtIFBMVVNfTUlOVVNfU1BBQ0lORztcclxuICAgIG1pbnVzQnV0dG9uLmNlbnRlclkgPSB2YWx1ZUZpZWxkLmNlbnRlclk7XHJcblxyXG4gICAgdGhpcy5hY2NvcmRpb25Db250ZW50ID0gbmV3IE5vZGUoKTtcclxuICAgIHRoaXMuYWNjb3JkaW9uQ29udGVudC5hZGRDaGlsZCggdGhpcy5jb250ZW50ICk7XHJcbiAgICB0aGlzLmFjY29yZGlvbkNvbnRlbnQubGVmdCA9IDA7XHJcbiAgICBjb25zdCBhY2NvcmRpb25Cb3ggPSBuZXcgQWNjb3JkaW9uQm94KCB0aGlzLmFjY29yZGlvbkNvbnRlbnQsIHtcclxuICAgICAgdGl0bGVOb2RlOiBuZXcgVGV4dCggb3B0aW9ucy50aXRsZSwge1xyXG4gICAgICAgIGZvbnQ6IG5ldyBQaGV0Rm9udCggeyBzaXplOiAxMyB9ICksXHJcbiAgICAgICAgbWF4V2lkdGg6IHRyYWNrU2l6ZS53aWR0aCArIDIgKiBvcHRpb25zLnhNYXJnaW5cclxuICAgICAgfSApLFxyXG4gICAgICBmaWxsOiBvcHRpb25zLmZpbGwsXHJcbiAgICAgIHN0cm9rZTogJ2dyYXknLFxyXG4gICAgICBleHBhbmRlZFByb3BlcnR5OiBleHBhbmRlZFByb3BlcnR5LFxyXG4gICAgICBjb250ZW50QWxpZ246ICdjZW50ZXInLFxyXG4gICAgICB0aXRsZUFsaWduOiBvcHRpb25zLnRpdGxlQWxpZ24sXHJcbiAgICAgIGJ1dHRvbkFsaWduOiAnbGVmdCcsXHJcbiAgICAgIGNvcm5lclJhZGl1czogNCxcclxuICAgICAgY29udGVudFlTcGFjaW5nOiAyLFxyXG4gICAgICBjb250ZW50WU1hcmdpbjogNSxcclxuICAgICAgY29udGVudFhNYXJnaW46IDQsXHJcbiAgICAgIGJ1dHRvbllNYXJnaW46IDQsXHJcbiAgICAgIGJ1dHRvblhNYXJnaW46IDYsXHJcbiAgICAgIG1pbldpZHRoOiB0cmFja1NpemUud2lkdGggKyAxMiAqIG9wdGlvbnMueE1hcmdpbixcclxuICAgICAgZXhwYW5kQ29sbGFwc2VCdXR0b25PcHRpb25zOiB7XHJcbiAgICAgICAgc2lkZUxlbmd0aDogMTIsXHJcbiAgICAgICAgdG91Y2hBcmVhWURpbGF0aW9uOiAyIC8vIGVtcGlyaWNhbGx5IGRldGVybWluZWQgc28gdGhhdCBpdCBkb2VzIG5vdCBvdmVybGFwIHRvdWNoIGFyZWEgb2YgYXJyb3cgYnV0dG9uXHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIGFjY29yZGlvbkJveCApO1xyXG5cclxuICAgIC8vIHF1ZXN0aW9uIG1hcmssIHNob3cgaWYgdW5rbm93biBwcm9wZXJ0eVxyXG4gICAgdGhpcy5xdWVzdGlvbk1hcmsgPSBuZXcgTm9kZSggeyB2aXNpYmxlOiBmYWxzZSB9ICk7XHJcbiAgICB0aGlzLnF1ZXN0aW9uTWFyay5hZGRDaGlsZCggbmV3IFRleHQoICc/JywgeyBmb250OiBuZXcgUGhldEZvbnQoIDYwICkgfSApICk7XHJcbiAgICB0aGlzLnF1ZXN0aW9uTWFyay5jZW50ZXJYID0gdGhpcy5jb250ZW50LmNlbnRlclg7XHJcbiAgICB0aGlzLnF1ZXN0aW9uTWFyay50b3AgPSB0aGlzLmNvbnRlbnQudG9wO1xyXG4gICAgdGhpcy5hY2NvcmRpb25Db250ZW50LmFkZENoaWxkKCB0aGlzLnF1ZXN0aW9uTWFyayApO1xyXG5cclxuICAgIHRyYWNrUHJvcGVydHkubGluayggdmFsdWUgPT4ge1xyXG4gICAgICB2YWx1ZUxhYmVsLnN0cmluZyA9IGdldFByb3BlcnR5U3RyaW5nRnVuY3Rpb24oKTtcclxuICAgICAgdmFsdWVMYWJlbC5jZW50ZXIgPSB2YWx1ZUZpZWxkLmNlbnRlcjsgLy8ga2VlcCB0aGUgdmFsdWUgY2VudGVyZWQgaW4gdGhlIGZpZWxkXHJcbiAgICAgIHBsdXNCdXR0b24uZW5hYmxlZCA9ICggdmFsdWUgPCB0cmFja1JhbmdlLm1heCApO1xyXG4gICAgICBtaW51c0J1dHRvbi5lbmFibGVkID0gKCB2YWx1ZSA+IHRyYWNrUmFuZ2UubWluICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgbWVhc3VyZVVuaXRzUHJvcGVydHkubGluayggKCkgPT4ge1xyXG4gICAgICB2YWx1ZUxhYmVsLnN0cmluZyA9IGdldFByb3BlcnR5U3RyaW5nRnVuY3Rpb24oKTtcclxuICAgICAgdmFsdWVMYWJlbC5jZW50ZXIgPSB2YWx1ZUZpZWxkLmNlbnRlcjsgLy8ga2VlcCB0aGUgdmFsdWUgY2VudGVyZWQgaW4gdGhlIGZpZWxkXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5tdXRhdGUoIG9wdGlvbnMgKTtcclxuICB9XHJcblxyXG4gIC8vIGhpZGUgdGhlIHNsaWRlciBhbmQgc2hvdyB0aGUgcXVlc3Rpb24gbWFya1xyXG4gIC8vIEBwdWJsaWNcclxuICBkaXNhYmxlKCkge1xyXG4gICAgdGhpcy5jb250ZW50LnZpc2libGUgPSBmYWxzZTtcclxuICAgIHRoaXMucXVlc3Rpb25NYXJrLnZpc2libGUgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gc2hvdyB0aGUgc2xpZGVyIGFuZCBoaWRlIHRoZSBxdWVzdGlvbiBtYXJrXHJcbiAgLy8gQHB1YmxpY1xyXG4gIGVuYWJsZSgpIHtcclxuICAgIHRoaXMuY29udGVudC52aXNpYmxlID0gdHJ1ZTtcclxuICAgIHRoaXMucXVlc3Rpb25NYXJrLnZpc2libGUgPSBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbmZsdWlkUHJlc3N1cmVBbmRGbG93LnJlZ2lzdGVyKCAnQ29udHJvbFNsaWRlcicsIENvbnRyb2xTbGlkZXIgKTtcclxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbFNsaWRlcjsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLE9BQU8sTUFBTSwrQkFBK0I7QUFDbkQsT0FBT0MsVUFBVSxNQUFNLGtDQUFrQztBQUN6RCxPQUFPQyxLQUFLLE1BQU0s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