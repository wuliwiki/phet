// Copyright 2014-2022, University of Colorado Boulder

/**
 * Ruler Node. Supports english and metric views of the ruler.
 *
 * @author Shakhov Vasily (Mlearner)
 * @author Siddhartha Chinthapally (Actual Concepts).
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import merge from '../../../../phet-core/js/merge.js';
import CloseButton from '../../../../scenery-phet/js/buttons/CloseButton.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import RulerNode from '../../../../scenery-phet/js/RulerNode.js';
import { DragListener, Node } from '../../../../scenery/js/imports.js';
import Property from '../../../../axon/js/Property.js';
import fluidPressureAndFlow from '../../fluidPressureAndFlow.js';
import FluidPressureAndFlowStrings from '../../FluidPressureAndFlowStrings.js';
const ftString = FluidPressureAndFlowStrings.ft;
const mString = FluidPressureAndFlowStrings.m;
class FPAFRuler extends Node {
  /**
   * @param {Property.<boolean>} isRulerVisibleProperty controls the ruler visibility
   * @param {Property.<Vector2>} rulerPositionProperty controls the ruler position
   * @param {Property.<string>} measureUnitsProperty controls the ruler view -- english/metric
   * @param {ModelViewTransform2} modelViewTransform to convert model units to view units
   * @param {Bounds2} dragBounds for the area where the ruler can be dragged
   * @param {Object} [options] that can be passed on to the underlying node
   */
  constructor(isRulerVisibleProperty, rulerPositionProperty, measureUnitsProperty, modelViewTransform, dragBounds, options) {
    super({
      cursor: 'pointer'
    });
    options = merge({
      rulerWidth: 40,
      rulerHeight: 5,
      meterMajorStickWidth: 1,
      feetMajorStickWidth: 0.3,
      scaleFont: 10,
      meterTicks: _.range(0, 6, 1),
      feetTicks: _.range(0, 17, 1),
      insetsWidth: 0
    }, options);
    const rulerWidth = options.rulerWidth;
    const rulerHeight = Math.abs(modelViewTransform.modelToViewDeltaY(options.rulerHeight));
    const meterMajorStickWidth = Math.abs(modelViewTransform.modelToViewDeltaY(options.meterMajorStickWidth));
    const feetMajorStickWidth = Math.abs(modelViewTransform.modelToViewDeltaY(options.feetMajorStickWidth));
    const scaleFont = new PhetFont(options.scaleFont);
    const closeButton = new CloseButton({
      iconLength: 12,
      listener: () => {
        isRulerVisibleProperty.value = false;
      }
    });
    this.addChild(closeButton);

    // ruler in meters
    const metersRuler = new RulerNode(rulerHeight, rulerWidth, meterMajorStickWidth, options.meterTicks, mString, {
      minorTicksPerMajorTick: 4,
      unitsFont: scaleFont,
      majorTickFont: scaleFont,
      unitsMajorTickIndex: 1,
      insetsWidth: options.insetsWidth,
      rotation: -Math.PI / 2
    });
    this.addChild(metersRuler);

    // ruler in feet
    const feetRuler = new RulerNode(rulerHeight, rulerWidth, feetMajorStickWidth, options.feetTicks, ftString, {
      minorTicksPerMajorTick: 4,
      unitsFont: scaleFont,
      majorTickFont: scaleFont,
      unitsMajorTickIndex: 1,
      insetsWidth: options.insetsWidth,
      rotation: -Math.PI / 2
    });
    this.addChild(feetRuler);
    isRulerVisibleProperty.linkAttribute(this, 'visible');

    //TODO replace 2 DerivedProperties with 1 measureUnitsProperty listener
    new DerivedProperty([measureUnitsProperty], measureUnits => measureUnits === 'english').linkAttribute(feetRuler, 'visible');
    new DerivedProperty([measureUnitsProperty], measureUnits => measureUnits === 'metric').linkAttribute(metersRuler, 'visible');
    rulerPositionProperty.linkAttribute(metersRuler, 'translation');
    rulerPositionProperty.linkAttribute(feetRuler, 'translation');
    rulerPositionProperty.link(rulerPosition => {
      this.moveToFront();
      closeButton.setTranslation(rulerPosition.x, rulerPosition.y - closeButton.height - rulerHeight);
    });
    const rulerDragBounds = dragBounds.withMaxX(dragBounds.maxX - options.rulerWidth);

    // ruler drag handlers
    metersRuler.addInputListener(new DragListener({
      positionProperty: rulerPositionProperty,
      dragBoundsProperty: new Property(rulerDragBounds)
    }));
    feetRuler.addInputListener(new DragListener({
      positionProperty: rulerPositionProperty,
      dragBoundsProperty: new Property(rulerDragBounds)
    }));
    this.mutate(options);
  }
}
fluidPressureAndFlow.register('FPAFRuler', FPAFRuler);
export default FPAFRuler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJtZXJnZSIsIkNsb3NlQnV0dG9uIiwiUGhldEZvbnQiLCJSdWxlck5vZGUiLCJEcmFnTGlzdGVuZXIiLCJOb2RlIiwiUHJvcGVydHkiLCJmbHVpZFByZXNzdXJlQW5kRmxvdyIsIkZsdWlkUHJlc3N1cmVBbmRGbG93U3RyaW5ncyIsImZ0U3RyaW5nIiwiZnQiLCJtU3RyaW5nIiwibSIsIkZQQUZSdWxlciIsImNvbnN0cnVjdG9yIiwiaXNSdWxlclZpc2libGVQcm9wZXJ0eSIsInJ1bGVyUG9zaXRpb25Qcm9wZXJ0eSIsIm1lYXN1cmVVbml0c1Byb3BlcnR5IiwibW9kZWxWaWV3VHJhbnNmb3JtIiwiZHJhZ0JvdW5kcyIsIm9wdGlvbnMiLCJjdXJzb3IiLCJydWxlcldpZHRoIiwicnVsZXJIZWlnaHQiLCJtZXRlck1ham9yU3RpY2tXaWR0aCIsImZlZXRNYWpvclN0aWNrV2lkdGgiLCJzY2FsZUZvbnQiLCJtZXRlclRpY2tzIiwiXyIsInJhbmdlIiwiZmVldFRpY2tzIiwiaW5zZXRzV2lkdGgiLCJNYXRoIiwiYWJzIiwibW9kZWxUb1ZpZXdEZWx0YVkiLCJjbG9zZUJ1dHRvbiIsImljb25MZW5ndGgiLCJsaXN0ZW5lciIsInZhbHVlIiwiYWRkQ2hpbGQiLCJtZXRlcnNSdWxlciIsIm1pbm9yVGlja3NQZXJNYWpvclRpY2siLCJ1bml0c0ZvbnQiLCJtYWpvclRpY2tGb250IiwidW5pdHNNYWpvclRpY2tJbmRleCIsInJvdGF0aW9uIiwiUEkiLCJmZWV0UnVsZXIiLCJsaW5rQXR0cmlidXRlIiwibWVhc3VyZVVuaXRzIiwibGluayIsInJ1bGVyUG9zaXRpb24iLCJtb3ZlVG9Gcm9udCIsInNldFRyYW5zbGF0aW9uIiwieCIsInkiLCJoZWlnaHQiLCJydWxlckRyYWdCb3VuZHMiLCJ3aXRoTWF4WCIsIm1heFgiLCJhZGRJbnB1dExpc3RlbmVyIiwicG9zaXRpb25Qcm9wZXJ0eSIsImRyYWdCb3VuZHNQcm9wZXJ0eSIsIm11dGF0ZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiRlBBRlJ1bGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE0LTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFJ1bGVyIE5vZGUuIFN1cHBvcnRzIGVuZ2xpc2ggYW5kIG1ldHJpYyB2aWV3cyBvZiB0aGUgcnVsZXIuXHJcbiAqXHJcbiAqIEBhdXRob3IgU2hha2hvdiBWYXNpbHkgKE1sZWFybmVyKVxyXG4gKiBAYXV0aG9yIFNpZGRoYXJ0aGEgQ2hpbnRoYXBhbGx5IChBY3R1YWwgQ29uY2VwdHMpLlxyXG4gKi9cclxuXHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IENsb3NlQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9idXR0b25zL0Nsb3NlQnV0dG9uLmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XHJcbmltcG9ydCBSdWxlck5vZGUgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1J1bGVyTm9kZS5qcyc7XHJcbmltcG9ydCB7IERyYWdMaXN0ZW5lciwgTm9kZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IGZsdWlkUHJlc3N1cmVBbmRGbG93IGZyb20gJy4uLy4uL2ZsdWlkUHJlc3N1cmVBbmRGbG93LmpzJztcclxuaW1wb3J0IEZsdWlkUHJlc3N1cmVBbmRGbG93U3RyaW5ncyBmcm9tICcuLi8uLi9GbHVpZFByZXNzdXJlQW5kRmxvd1N0cmluZ3MuanMnO1xyXG5cclxuY29uc3QgZnRTdHJpbmcgPSBGbHVpZFByZXNzdXJlQW5kRmxvd1N0cmluZ3MuZnQ7XHJcbmNvbnN0IG1TdHJpbmcgPSBGbHVpZFByZXNzdXJlQW5kRmxvd1N0cmluZ3MubTtcclxuXHJcbmNsYXNzIEZQQUZSdWxlciBleHRlbmRzIE5vZGUge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5Ljxib29sZWFuPn0gaXNSdWxlclZpc2libGVQcm9wZXJ0eSBjb250cm9scyB0aGUgcnVsZXIgdmlzaWJpbGl0eVxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPFZlY3RvcjI+fSBydWxlclBvc2l0aW9uUHJvcGVydHkgY29udHJvbHMgdGhlIHJ1bGVyIHBvc2l0aW9uXHJcbiAgICogQHBhcmFtIHtQcm9wZXJ0eS48c3RyaW5nPn0gbWVhc3VyZVVuaXRzUHJvcGVydHkgY29udHJvbHMgdGhlIHJ1bGVyIHZpZXcgLS0gZW5nbGlzaC9tZXRyaWNcclxuICAgKiBAcGFyYW0ge01vZGVsVmlld1RyYW5zZm9ybTJ9IG1vZGVsVmlld1RyYW5zZm9ybSB0byBjb252ZXJ0IG1vZGVsIHVuaXRzIHRvIHZpZXcgdW5pdHNcclxuICAgKiBAcGFyYW0ge0JvdW5kczJ9IGRyYWdCb3VuZHMgZm9yIHRoZSBhcmVhIHdoZXJlIHRoZSBydWxlciBjYW4gYmUgZHJhZ2dlZFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gdGhhdCBjYW4gYmUgcGFzc2VkIG9uIHRvIHRoZSB1bmRlcmx5aW5nIG5vZGVcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggaXNSdWxlclZpc2libGVQcm9wZXJ0eSwgcnVsZXJQb3NpdGlvblByb3BlcnR5LCBtZWFzdXJlVW5pdHNQcm9wZXJ0eSwgbW9kZWxWaWV3VHJhbnNmb3JtLFxyXG4gICAgICAgICAgICAgICBkcmFnQm91bmRzLCBvcHRpb25zICkge1xyXG5cclxuICAgIHN1cGVyKCB7IGN1cnNvcjogJ3BvaW50ZXInIH0gKTtcclxuXHJcbiAgICBvcHRpb25zID0gbWVyZ2UoIHtcclxuICAgICAgcnVsZXJXaWR0aDogNDAsXHJcbiAgICAgIHJ1bGVySGVpZ2h0OiA1LFxyXG4gICAgICBtZXRlck1ham9yU3RpY2tXaWR0aDogMSxcclxuICAgICAgZmVldE1ham9yU3RpY2tXaWR0aDogMC4zLFxyXG4gICAgICBzY2FsZUZvbnQ6IDEwLFxyXG4gICAgICBtZXRlclRpY2tzOiBfLnJhbmdlKCAwLCA2LCAxICksXHJcbiAgICAgIGZlZXRUaWNrczogXy5yYW5nZSggMCwgMTcsIDEgKSxcclxuICAgICAgaW5zZXRzV2lkdGg6IDBcclxuICAgIH0sIG9wdGlvbnMgKTtcclxuXHJcbiAgICBjb25zdCBydWxlcldpZHRoID0gb3B0aW9ucy5ydWxlcldpZHRoO1xyXG4gICAgY29uc3QgcnVsZXJIZWlnaHQgPSBNYXRoLmFicyggbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3RGVsdGFZKCBvcHRpb25zLnJ1bGVySGVpZ2h0ICkgKTtcclxuICAgIGNvbnN0IG1ldGVyTWFqb3JTdGlja1dpZHRoID0gTWF0aC5hYnMoIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld0RlbHRhWSggb3B0aW9ucy5tZXRlck1ham9yU3RpY2tXaWR0aCApICk7XHJcbiAgICBjb25zdCBmZWV0TWFqb3JTdGlja1dpZHRoID0gTWF0aC5hYnMoIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld0RlbHRhWSggb3B0aW9ucy5mZWV0TWFqb3JTdGlja1dpZHRoICkgKTtcclxuICAgIGNvbnN0IHNjYWxlRm9udCA9IG5ldyBQaGV0Rm9udCggb3B0aW9ucy5zY2FsZUZvbnQgKTtcclxuXHJcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IG5ldyBDbG9zZUJ1dHRvbigge1xyXG4gICAgICBpY29uTGVuZ3RoOiAxMixcclxuICAgICAgbGlzdGVuZXI6ICgpID0+IHtcclxuICAgICAgICBpc1J1bGVyVmlzaWJsZVByb3BlcnR5LnZhbHVlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIGNsb3NlQnV0dG9uICk7XHJcblxyXG4gICAgLy8gcnVsZXIgaW4gbWV0ZXJzXHJcbiAgICBjb25zdCBtZXRlcnNSdWxlciA9IG5ldyBSdWxlck5vZGUoIHJ1bGVySGVpZ2h0LCBydWxlcldpZHRoLCBtZXRlck1ham9yU3RpY2tXaWR0aCwgb3B0aW9ucy5tZXRlclRpY2tzLFxyXG4gICAgICBtU3RyaW5nLCB7XHJcbiAgICAgICAgbWlub3JUaWNrc1Blck1ham9yVGljazogNCxcclxuICAgICAgICB1bml0c0ZvbnQ6IHNjYWxlRm9udCxcclxuICAgICAgICBtYWpvclRpY2tGb250OiBzY2FsZUZvbnQsXHJcbiAgICAgICAgdW5pdHNNYWpvclRpY2tJbmRleDogMSxcclxuICAgICAgICBpbnNldHNXaWR0aDogb3B0aW9ucy5pbnNldHNXaWR0aCxcclxuICAgICAgICByb3RhdGlvbjogLU1hdGguUEkgLyAyXHJcbiAgICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIG1ldGVyc1J1bGVyICk7XHJcblxyXG4gICAgLy8gcnVsZXIgaW4gZmVldFxyXG4gICAgY29uc3QgZmVldFJ1bGVyID0gbmV3IFJ1bGVyTm9kZSggcnVsZXJIZWlnaHQsIHJ1bGVyV2lkdGgsIGZlZXRNYWpvclN0aWNrV2lkdGgsIG9wdGlvbnMuZmVldFRpY2tzLCBmdFN0cmluZywge1xyXG4gICAgICBtaW5vclRpY2tzUGVyTWFqb3JUaWNrOiA0LFxyXG4gICAgICB1bml0c0ZvbnQ6IHNjYWxlRm9udCxcclxuICAgICAgbWFqb3JUaWNrRm9udDogc2NhbGVGb250LFxyXG4gICAgICB1bml0c01ham9yVGlja0luZGV4OiAxLFxyXG4gICAgICBpbnNldHNXaWR0aDogb3B0aW9ucy5pbnNldHNXaWR0aCxcclxuICAgICAgcm90YXRpb246IC1NYXRoLlBJIC8gMlxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggZmVldFJ1bGVyICk7XHJcblxyXG4gICAgaXNSdWxlclZpc2libGVQcm9wZXJ0eS5saW5rQXR0cmlidXRlKCB0aGlzLCAndmlzaWJsZScgKTtcclxuXHJcbiAgICAvL1RPRE8gcmVwbGFjZSAyIERlcml2ZWRQcm9wZXJ0aWVzIHdpdGggMSBtZWFzdXJlVW5pdHNQcm9wZXJ0eSBsaXN0ZW5lclxyXG4gICAgbmV3IERlcml2ZWRQcm9wZXJ0eSggWyBtZWFzdXJlVW5pdHNQcm9wZXJ0eSBdLCBtZWFzdXJlVW5pdHMgPT4gbWVhc3VyZVVuaXRzID09PSAnZW5nbGlzaCcgKVxyXG4gICAgICAubGlua0F0dHJpYnV0ZSggZmVldFJ1bGVyLCAndmlzaWJsZScgKTtcclxuICAgIG5ldyBEZXJpdmVkUHJvcGVydHkoIFsgbWVhc3VyZVVuaXRzUHJvcGVydHkgXSwgbWVhc3VyZVVuaXRzID0+IG1lYXN1cmVVbml0cyA9PT0gJ21ldHJpYycgKVxyXG4gICAgICAubGlua0F0dHJpYnV0ZSggbWV0ZXJzUnVsZXIsICd2aXNpYmxlJyApO1xyXG5cclxuICAgIHJ1bGVyUG9zaXRpb25Qcm9wZXJ0eS5saW5rQXR0cmlidXRlKCBtZXRlcnNSdWxlciwgJ3RyYW5zbGF0aW9uJyApO1xyXG4gICAgcnVsZXJQb3NpdGlvblByb3BlcnR5LmxpbmtBdHRyaWJ1dGUoIGZlZXRSdWxlciwgJ3RyYW5zbGF0aW9uJyApO1xyXG4gICAgcnVsZXJQb3NpdGlvblByb3BlcnR5LmxpbmsoIHJ1bGVyUG9zaXRpb24gPT4ge1xyXG4gICAgICB0aGlzLm1vdmVUb0Zyb250KCk7XHJcbiAgICAgIGNsb3NlQnV0dG9uLnNldFRyYW5zbGF0aW9uKCBydWxlclBvc2l0aW9uLngsIHJ1bGVyUG9zaXRpb24ueSAtIGNsb3NlQnV0dG9uLmhlaWdodCAtIHJ1bGVySGVpZ2h0ICk7XHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCBydWxlckRyYWdCb3VuZHMgPSBkcmFnQm91bmRzLndpdGhNYXhYKCBkcmFnQm91bmRzLm1heFggLSBvcHRpb25zLnJ1bGVyV2lkdGggKTtcclxuXHJcbiAgICAvLyBydWxlciBkcmFnIGhhbmRsZXJzXHJcbiAgICBtZXRlcnNSdWxlci5hZGRJbnB1dExpc3RlbmVyKCBuZXcgRHJhZ0xpc3RlbmVyKCB7IHBvc2l0aW9uUHJvcGVydHk6IHJ1bGVyUG9zaXRpb25Qcm9wZXJ0eSwgZHJhZ0JvdW5kc1Byb3BlcnR5OiBuZXcgUHJvcGVydHkoIHJ1bGVyRHJhZ0JvdW5kcyApIH0gKSApO1xyXG4gICAgZmVldFJ1bGVyLmFkZElucHV0TGlzdGVuZXIoIG5ldyBEcmFnTGlzdGVuZXIoIHsgcG9zaXRpb25Qcm9wZXJ0eTogcnVsZXJQb3NpdGlvblByb3BlcnR5LCBkcmFnQm91bmRzUHJvcGVydHk6IG5ldyBQcm9wZXJ0eSggcnVsZXJEcmFnQm91bmRzICkgfSApICk7XHJcblxyXG4gICAgdGhpcy5tdXRhdGUoIG9wdGlvbnMgKTtcclxuICB9XHJcbn1cclxuXHJcbmZsdWlkUHJlc3N1cmVBbmRGbG93LnJlZ2lzdGVyKCAnRlBBRlJ1bGVyJywgRlBBRlJ1bGVyICk7XHJcbmV4cG9ydCBkZWZhdWx0IEZQQUZSdWxlcjsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxlQUFlLE1BQU0sd0NBQXdDO0FBQ3BFLE9BQU9DLEtBQUssTUFBTSxtQ0FBbUM7QUFDckQsT0FBT0MsV0FBVyxNQUFNLG9EQUFvRDtBQUM1RSxPQUFPQyxRQUFRLE1BQU0seUNBQXlDO0FBQzlELE9BQU9DLFNBQVMsTUFBTSwwQ0FBMEM7QUFDaEUsU0FBU0MsWUFBWSxFQUFFQyxJQUFJLFFBQVEsbUNBQW1DO0FBQ3RFLE9BQU9DLFFBQVEsTUFBTSxpQ0FBaUM7QUFDdEQsT0FBT0Msb0JBQW9CLE1BQU0sK0JBQStCO0FBQ2hFLE9BQU9DLDJCQUEyQixNQUFNLHNDQUFzQztBQUU5RSxNQUFNQyxRQUFRLEdBQUdELDJCQUEyQixDQUFDRSxFQUFFO0FBQy9DLE1BQU1DLE9BQU8sR0FBR0gsMkJBQTJCLENBQUNJLENBQUM7QUFF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