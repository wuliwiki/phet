// Copyright 2014-2022, University of Colorado Boulder

/**
 * Control panel that contains various tools (ruler, flux meter).
 *
 * @author Siddhartha Chinthapally (ActualConcepts)
 */

import Bounds2 from '../../../../dot/js/Bounds2.js';
import { Shape } from '../../../../kite/js/imports.js';
import merge from '../../../../phet-core/js/merge.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import RulerNode from '../../../../scenery-phet/js/RulerNode.js';
import { Circle, HBox, HStrut, Node, Text, VBox } from '../../../../scenery/js/imports.js';
import Checkbox from '../../../../sun/js/Checkbox.js';
import Panel from '../../../../sun/js/Panel.js';
import fluidPressureAndFlow from '../../fluidPressureAndFlow.js';
import FluidPressureAndFlowStrings from '../../FluidPressureAndFlowStrings.js';
const dotsString = FluidPressureAndFlowStrings.dots;
const fluxMeterString = FluidPressureAndFlowStrings.fluxMeter;
const frictionString = FluidPressureAndFlowStrings.friction;
const rulerString = FluidPressureAndFlowStrings.ruler;
class FlowToolsControlPanel extends Panel {
  /**
   * @param {FlowModel} flowModel of the simulation
   * @param {Object} [options] for various panel display properties
   */
  constructor(flowModel, options) {
    options = merge({
      xMargin: 10,
      yMargin: 7,
      fill: '#f2fa6a ',
      stroke: 'gray',
      lineWidth: 1
    }, options);
    const textOptions = {
      font: new PhetFont(10)
    };

    // itemSpec describes the pieces that make up an item in the control panel,
    // conforms to the contract: { label: {Node}, icon: {Node} (optional) }
    const rulerSpec = {
      label: new Text(rulerString, textOptions),
      icon: createRulerIcon()
    };
    const frictionSpec = {
      label: new Text(frictionString, textOptions)
    };
    const fluxMeterSpec = {
      label: new Text(fluxMeterString, textOptions)
    };
    const dotsSpec = {
      label: new Text(dotsString, textOptions),
      icon: createDotsIcon()
    };

    // compute the maximum item width
    const widestItemSpec = _.maxBy([rulerSpec, frictionSpec, fluxMeterSpec, dotsSpec], item => {
      return item.label.width + (item.icon ? item.icon.width : 0);
    });
    const maxWidth = widestItemSpec.label.width + (widestItemSpec.icon ? widestItemSpec.icon.width : 0);

    // pad inserts a spacing node (HStrut) so that the text, space and image together occupy a certain fixed width.
    function createItem(itemSpec) {
      if (itemSpec.icon) {
        const strutWidth = maxWidth - itemSpec.label.width - itemSpec.icon.width + 17;
        return new HBox({
          children: [itemSpec.label, new HStrut(strutWidth), itemSpec.icon]
        });
      } else {
        return new HBox({
          children: [itemSpec.label]
        });
      }
    }
    const checkboxOptions = {
      boxWidth: 15,
      spacing: 2
    };
    const rulerCheckbox = new Checkbox(flowModel.isRulerVisibleProperty, createItem(rulerSpec), checkboxOptions);
    const frictionCheckbox = new Checkbox(flowModel.pipe.frictionProperty, createItem(frictionSpec), checkboxOptions);
    const fluxMeterCheckbox = new Checkbox(flowModel.isFluxMeterVisibleProperty, createItem(fluxMeterSpec), checkboxOptions);
    const dotsCheckbox = new Checkbox(flowModel.isDotsVisibleProperty, createItem(dotsSpec), checkboxOptions);
    const maxCheckboxWidth = _.maxBy([rulerCheckbox, frictionCheckbox, fluxMeterCheckbox, dotsCheckbox], item => item.width).width + 5;

    //touch Areas
    rulerCheckbox.touchArea = new Bounds2(rulerCheckbox.localBounds.minX - 5, rulerCheckbox.localBounds.minY, rulerCheckbox.localBounds.minX + maxCheckboxWidth, rulerCheckbox.localBounds.maxY);
    frictionCheckbox.touchArea = new Bounds2(frictionCheckbox.localBounds.minX - 5, frictionCheckbox.localBounds.minY, frictionCheckbox.localBounds.minX + maxCheckboxWidth, frictionCheckbox.localBounds.maxY);
    fluxMeterCheckbox.touchArea = new Bounds2(fluxMeterCheckbox.localBounds.minX - 5, fluxMeterCheckbox.localBounds.minY, fluxMeterCheckbox.localBounds.minX + maxCheckboxWidth, fluxMeterCheckbox.localBounds.maxY);
    dotsCheckbox.touchArea = new Bounds2(dotsCheckbox.localBounds.minX - 5, dotsCheckbox.localBounds.minY, dotsCheckbox.localBounds.minX + maxCheckboxWidth, dotsCheckbox.localBounds.maxY);

    // pad all the rows so the text nodes are left aligned and the icons is right aligned

    const checkboxes = new VBox({
      align: 'left',
      spacing: 4,
      children: [rulerCheckbox, frictionCheckbox, fluxMeterCheckbox, dotsCheckbox]
    });
    super(checkboxes, options);
  }
}

// Create an icon for the ruler checkbox
function createRulerIcon() {
  return new RulerNode(13, 10, 12, ['0', '1'], '', {
    insetsWidth: 5,
    minorTicksPerMajorTick: 4,
    majorTickFont: new PhetFont(5),
    clipArea: Shape.rect(-1, -1, 44, 22),
    backgroundLineWidth: 0.5
  });
}

// Create an icon for the dots checkbox
function createDotsIcon() {
  const dot1 = new Circle(3, {
    fill: 'red'
  });
  const dot2 = new Circle(3, {
    fill: 'red',
    left: dot1.right + 4
  });
  return new Node({
    children: [dot1, dot2]
  });
}
fluidPressureAndFlow.register('FlowToolsControlPanel', FlowToolsControlPanel);
export default FlowToolsControlPanel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb3VuZHMyIiwiU2hhcGUiLCJtZXJnZSIsIlBoZXRGb250IiwiUnVsZXJOb2RlIiwiQ2lyY2xlIiwiSEJveCIsIkhTdHJ1dCIsIk5vZGUiLCJUZXh0IiwiVkJveCIsIkNoZWNrYm94IiwiUGFuZWwiLCJmbHVpZFByZXNzdXJlQW5kRmxvdyIsIkZsdWlkUHJlc3N1cmVBbmRGbG93U3RyaW5ncyIsImRvdHNTdHJpbmciLCJkb3RzIiwiZmx1eE1ldGVyU3RyaW5nIiwiZmx1eE1ldGVyIiwiZnJpY3Rpb25TdHJpbmciLCJmcmljdGlvbiIsInJ1bGVyU3RyaW5nIiwicnVsZXIiLCJGbG93VG9vbHNDb250cm9sUGFuZWwiLCJjb25zdHJ1Y3RvciIsImZsb3dNb2RlbCIsIm9wdGlvbnMiLCJ4TWFyZ2luIiwieU1hcmdpbiIsImZpbGwiLCJzdHJva2UiLCJsaW5lV2lkdGgiLCJ0ZXh0T3B0aW9ucyIsImZvbnQiLCJydWxlclNwZWMiLCJsYWJlbCIsImljb24iLCJjcmVhdGVSdWxlckljb24iLCJmcmljdGlvblNwZWMiLCJmbHV4TWV0ZXJTcGVjIiwiZG90c1NwZWMiLCJjcmVhdGVEb3RzSWNvbiIsIndpZGVzdEl0ZW1TcGVjIiwiXyIsIm1heEJ5IiwiaXRlbSIsIndpZHRoIiwibWF4V2lkdGgiLCJjcmVhdGVJdGVtIiwiaXRlbVNwZWMiLCJzdHJ1dFdpZHRoIiwiY2hpbGRyZW4iLCJjaGVja2JveE9wdGlvbnMiLCJib3hXaWR0aCIsInNwYWNpbmciLCJydWxlckNoZWNrYm94IiwiaXNSdWxlclZpc2libGVQcm9wZXJ0eSIsImZyaWN0aW9uQ2hlY2tib3giLCJwaXBlIiwiZnJpY3Rpb25Qcm9wZXJ0eSIsImZsdXhNZXRlckNoZWNrYm94IiwiaXNGbHV4TWV0ZXJWaXNpYmxlUHJvcGVydHkiLCJkb3RzQ2hlY2tib3giLCJpc0RvdHNWaXNpYmxlUHJvcGVydHkiLCJtYXhDaGVja2JveFdpZHRoIiwidG91Y2hBcmVhIiwibG9jYWxCb3VuZHMiLCJtaW5YIiwibWluWSIsIm1heFkiLCJjaGVja2JveGVzIiwiYWxpZ24iLCJpbnNldHNXaWR0aCIsIm1pbm9yVGlja3NQZXJNYWpvclRpY2siLCJtYWpvclRpY2tGb250IiwiY2xpcEFyZWEiLCJyZWN0IiwiYmFja2dyb3VuZExpbmVXaWR0aCIsImRvdDEiLCJkb3QyIiwibGVmdCIsInJpZ2h0IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJGbG93VG9vbHNDb250cm9sUGFuZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTQtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQ29udHJvbCBwYW5lbCB0aGF0IGNvbnRhaW5zIHZhcmlvdXMgdG9vbHMgKHJ1bGVyLCBmbHV4IG1ldGVyKS5cclxuICpcclxuICogQGF1dGhvciBTaWRkaGFydGhhIENoaW50aGFwYWxseSAoQWN0dWFsQ29uY2VwdHMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IEJvdW5kczIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL0JvdW5kczIuanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBtZXJnZSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvbWVyZ2UuanMnO1xyXG5pbXBvcnQgUGhldEZvbnQgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1BoZXRGb250LmpzJztcclxuaW1wb3J0IFJ1bGVyTm9kZSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvUnVsZXJOb2RlLmpzJztcclxuaW1wb3J0IHsgQ2lyY2xlLCBIQm94LCBIU3RydXQsIE5vZGUsIFRleHQsIFZCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL0NoZWNrYm94LmpzJztcclxuaW1wb3J0IFBhbmVsIGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9QYW5lbC5qcyc7XHJcbmltcG9ydCBmbHVpZFByZXNzdXJlQW5kRmxvdyBmcm9tICcuLi8uLi9mbHVpZFByZXNzdXJlQW5kRmxvdy5qcyc7XHJcbmltcG9ydCBGbHVpZFByZXNzdXJlQW5kRmxvd1N0cmluZ3MgZnJvbSAnLi4vLi4vRmx1aWRQcmVzc3VyZUFuZEZsb3dTdHJpbmdzLmpzJztcclxuXHJcbmNvbnN0IGRvdHNTdHJpbmcgPSBGbHVpZFByZXNzdXJlQW5kRmxvd1N0cmluZ3MuZG90cztcclxuY29uc3QgZmx1eE1ldGVyU3RyaW5nID0gRmx1aWRQcmVzc3VyZUFuZEZsb3dTdHJpbmdzLmZsdXhNZXRlcjtcclxuY29uc3QgZnJpY3Rpb25TdHJpbmcgPSBGbHVpZFByZXNzdXJlQW5kRmxvd1N0cmluZ3MuZnJpY3Rpb247XHJcbmNvbnN0IHJ1bGVyU3RyaW5nID0gRmx1aWRQcmVzc3VyZUFuZEZsb3dTdHJpbmdzLnJ1bGVyO1xyXG5cclxuY2xhc3MgRmxvd1Rvb2xzQ29udHJvbFBhbmVsIGV4dGVuZHMgUGFuZWwge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0Zsb3dNb2RlbH0gZmxvd01vZGVsIG9mIHRoZSBzaW11bGF0aW9uXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBmb3IgdmFyaW91cyBwYW5lbCBkaXNwbGF5IHByb3BlcnRpZXNcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggZmxvd01vZGVsLCBvcHRpb25zICkge1xyXG5cclxuICAgIG9wdGlvbnMgPSBtZXJnZSgge1xyXG4gICAgICB4TWFyZ2luOiAxMCxcclxuICAgICAgeU1hcmdpbjogNyxcclxuICAgICAgZmlsbDogJyNmMmZhNmEgJyxcclxuICAgICAgc3Ryb2tlOiAnZ3JheScsXHJcbiAgICAgIGxpbmVXaWR0aDogMVxyXG4gICAgfSwgb3B0aW9ucyApO1xyXG5cclxuICAgIGNvbnN0IHRleHRPcHRpb25zID0geyBmb250OiBuZXcgUGhldEZvbnQoIDEwICkgfTtcclxuXHJcbiAgICAvLyBpdGVtU3BlYyBkZXNjcmliZXMgdGhlIHBpZWNlcyB0aGF0IG1ha2UgdXAgYW4gaXRlbSBpbiB0aGUgY29udHJvbCBwYW5lbCxcclxuICAgIC8vIGNvbmZvcm1zIHRvIHRoZSBjb250cmFjdDogeyBsYWJlbDoge05vZGV9LCBpY29uOiB7Tm9kZX0gKG9wdGlvbmFsKSB9XHJcbiAgICBjb25zdCBydWxlclNwZWMgPSB7IGxhYmVsOiBuZXcgVGV4dCggcnVsZXJTdHJpbmcsIHRleHRPcHRpb25zICksIGljb246IGNyZWF0ZVJ1bGVySWNvbigpIH07XHJcbiAgICBjb25zdCBmcmljdGlvblNwZWMgPSB7IGxhYmVsOiBuZXcgVGV4dCggZnJpY3Rpb25TdHJpbmcsIHRleHRPcHRpb25zICkgfTtcclxuICAgIGNvbnN0IGZsdXhNZXRlclNwZWMgPSB7IGxhYmVsOiBuZXcgVGV4dCggZmx1eE1ldGVyU3RyaW5nLCB0ZXh0T3B0aW9ucyApIH07XHJcbiAgICBjb25zdCBkb3RzU3BlYyA9IHsgbGFiZWw6IG5ldyBUZXh0KCBkb3RzU3RyaW5nLCB0ZXh0T3B0aW9ucyApLCBpY29uOiBjcmVhdGVEb3RzSWNvbigpIH07XHJcblxyXG4gICAgLy8gY29tcHV0ZSB0aGUgbWF4aW11bSBpdGVtIHdpZHRoXHJcbiAgICBjb25zdCB3aWRlc3RJdGVtU3BlYyA9IF8ubWF4QnkoIFsgcnVsZXJTcGVjLCBmcmljdGlvblNwZWMsIGZsdXhNZXRlclNwZWMsIGRvdHNTcGVjIF0sIGl0ZW0gPT4ge1xyXG4gICAgICByZXR1cm4gaXRlbS5sYWJlbC53aWR0aCArICggKCBpdGVtLmljb24gKSA/IGl0ZW0uaWNvbi53aWR0aCA6IDAgKTtcclxuICAgIH0gKTtcclxuICAgIGNvbnN0IG1heFdpZHRoID0gd2lkZXN0SXRlbVNwZWMubGFiZWwud2lkdGggKyAoICggd2lkZXN0SXRlbVNwZWMuaWNvbiApID8gd2lkZXN0SXRlbVNwZWMuaWNvbi53aWR0aCA6IDAgKTtcclxuXHJcbiAgICAvLyBwYWQgaW5zZXJ0cyBhIHNwYWNpbmcgbm9kZSAoSFN0cnV0KSBzbyB0aGF0IHRoZSB0ZXh0LCBzcGFjZSBhbmQgaW1hZ2UgdG9nZXRoZXIgb2NjdXB5IGEgY2VydGFpbiBmaXhlZCB3aWR0aC5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUl0ZW0oIGl0ZW1TcGVjICkge1xyXG4gICAgICBpZiAoIGl0ZW1TcGVjLmljb24gKSB7XHJcbiAgICAgICAgY29uc3Qgc3RydXRXaWR0aCA9IG1heFdpZHRoIC0gaXRlbVNwZWMubGFiZWwud2lkdGggLSBpdGVtU3BlYy5pY29uLndpZHRoICsgMTc7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBIQm94KCB7IGNoaWxkcmVuOiBbIGl0ZW1TcGVjLmxhYmVsLCBuZXcgSFN0cnV0KCBzdHJ1dFdpZHRoICksIGl0ZW1TcGVjLmljb24gXSB9ICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBIQm94KCB7IGNoaWxkcmVuOiBbIGl0ZW1TcGVjLmxhYmVsIF0gfSApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2hlY2tib3hPcHRpb25zID0ge1xyXG4gICAgICBib3hXaWR0aDogMTUsXHJcbiAgICAgIHNwYWNpbmc6IDJcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcnVsZXJDaGVja2JveCA9IG5ldyBDaGVja2JveCggZmxvd01vZGVsLmlzUnVsZXJWaXNpYmxlUHJvcGVydHksIGNyZWF0ZUl0ZW0oIHJ1bGVyU3BlYyApLCBjaGVja2JveE9wdGlvbnMgKTtcclxuICAgIGNvbnN0IGZyaWN0aW9uQ2hlY2tib3ggPSBuZXcgQ2hlY2tib3goIGZsb3dNb2RlbC5waXBlLmZyaWN0aW9uUHJvcGVydHksIGNyZWF0ZUl0ZW0oIGZyaWN0aW9uU3BlYyApLCBjaGVja2JveE9wdGlvbnMgKTtcclxuICAgIGNvbnN0IGZsdXhNZXRlckNoZWNrYm94ID0gbmV3IENoZWNrYm94KCBmbG93TW9kZWwuaXNGbHV4TWV0ZXJWaXNpYmxlUHJvcGVydHksIGNyZWF0ZUl0ZW0oIGZsdXhNZXRlclNwZWMgKSwgY2hlY2tib3hPcHRpb25zICk7XHJcbiAgICBjb25zdCBkb3RzQ2hlY2tib3ggPSBuZXcgQ2hlY2tib3goIGZsb3dNb2RlbC5pc0RvdHNWaXNpYmxlUHJvcGVydHksIGNyZWF0ZUl0ZW0oIGRvdHNTcGVjICksIGNoZWNrYm94T3B0aW9ucyApO1xyXG5cclxuICAgIGNvbnN0IG1heENoZWNrYm94V2lkdGggPSBfLm1heEJ5KCBbIHJ1bGVyQ2hlY2tib3gsIGZyaWN0aW9uQ2hlY2tib3gsIGZsdXhNZXRlckNoZWNrYm94LCBkb3RzQ2hlY2tib3ggXSxcclxuICAgICAgaXRlbSA9PiBpdGVtLndpZHRoXHJcbiAgICApLndpZHRoICsgNTtcclxuXHJcbiAgICAvL3RvdWNoIEFyZWFzXHJcbiAgICBydWxlckNoZWNrYm94LnRvdWNoQXJlYSA9IG5ldyBCb3VuZHMyKCBydWxlckNoZWNrYm94LmxvY2FsQm91bmRzLm1pblggLSA1LCBydWxlckNoZWNrYm94LmxvY2FsQm91bmRzLm1pblksXHJcbiAgICAgIHJ1bGVyQ2hlY2tib3gubG9jYWxCb3VuZHMubWluWCArIG1heENoZWNrYm94V2lkdGgsIHJ1bGVyQ2hlY2tib3gubG9jYWxCb3VuZHMubWF4WSApO1xyXG4gICAgZnJpY3Rpb25DaGVja2JveC50b3VjaEFyZWEgPSBuZXcgQm91bmRzMiggZnJpY3Rpb25DaGVja2JveC5sb2NhbEJvdW5kcy5taW5YIC0gNSwgZnJpY3Rpb25DaGVja2JveC5sb2NhbEJvdW5kcy5taW5ZLFxyXG4gICAgICBmcmljdGlvbkNoZWNrYm94LmxvY2FsQm91bmRzLm1pblggKyBtYXhDaGVja2JveFdpZHRoLCBmcmljdGlvbkNoZWNrYm94LmxvY2FsQm91bmRzLm1heFkgKTtcclxuICAgIGZsdXhNZXRlckNoZWNrYm94LnRvdWNoQXJlYSA9IG5ldyBCb3VuZHMyKCBmbHV4TWV0ZXJDaGVja2JveC5sb2NhbEJvdW5kcy5taW5YIC0gNSxcclxuICAgICAgZmx1eE1ldGVyQ2hlY2tib3gubG9jYWxCb3VuZHMubWluWSxcclxuICAgICAgZmx1eE1ldGVyQ2hlY2tib3gubG9jYWxCb3VuZHMubWluWCArIG1heENoZWNrYm94V2lkdGgsIGZsdXhNZXRlckNoZWNrYm94LmxvY2FsQm91bmRzLm1heFkgKTtcclxuICAgIGRvdHNDaGVja2JveC50b3VjaEFyZWEgPSBuZXcgQm91bmRzMiggZG90c0NoZWNrYm94LmxvY2FsQm91bmRzLm1pblggLSA1LCBkb3RzQ2hlY2tib3gubG9jYWxCb3VuZHMubWluWSxcclxuICAgICAgZG90c0NoZWNrYm94LmxvY2FsQm91bmRzLm1pblggKyBtYXhDaGVja2JveFdpZHRoLCBkb3RzQ2hlY2tib3gubG9jYWxCb3VuZHMubWF4WSApO1xyXG5cclxuICAgIC8vIHBhZCBhbGwgdGhlIHJvd3Mgc28gdGhlIHRleHQgbm9kZXMgYXJlIGxlZnQgYWxpZ25lZCBhbmQgdGhlIGljb25zIGlzIHJpZ2h0IGFsaWduZWRcclxuXHJcbiAgICBjb25zdCBjaGVja2JveGVzID0gbmV3IFZCb3goIHtcclxuICAgICAgYWxpZ246ICdsZWZ0Jywgc3BhY2luZzogNCxcclxuICAgICAgY2hpbGRyZW46IFsgcnVsZXJDaGVja2JveCwgZnJpY3Rpb25DaGVja2JveCwgZmx1eE1ldGVyQ2hlY2tib3gsIGRvdHNDaGVja2JveCBdXHJcbiAgICB9ICk7XHJcblxyXG4gICAgc3VwZXIoIGNoZWNrYm94ZXMsIG9wdGlvbnMgKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIENyZWF0ZSBhbiBpY29uIGZvciB0aGUgcnVsZXIgY2hlY2tib3hcclxuZnVuY3Rpb24gY3JlYXRlUnVsZXJJY29uKCkge1xyXG4gIHJldHVybiBuZXcgUnVsZXJOb2RlKCAxMywgMTAsIDEyLCBbICcwJywgJzEnIF0sICcnLCB7XHJcbiAgICBpbnNldHNXaWR0aDogNSxcclxuICAgIG1pbm9yVGlja3NQZXJNYWpvclRpY2s6IDQsXHJcbiAgICBtYWpvclRpY2tGb250OiBuZXcgUGhldEZvbnQoIDUgKSxcclxuICAgIGNsaXBBcmVhOiBTaGFwZS5yZWN0KCAtMSwgLTEsIDQ0LCAyMiApLFxyXG4gICAgYmFja2dyb3VuZExpbmVXaWR0aDogMC41XHJcbiAgfSApO1xyXG59XHJcblxyXG4vLyBDcmVhdGUgYW4gaWNvbiBmb3IgdGhlIGRvdHMgY2hlY2tib3hcclxuZnVuY3Rpb24gY3JlYXRlRG90c0ljb24oKSB7XHJcbiAgY29uc3QgZG90MSA9IG5ldyBDaXJjbGUoIDMsIHsgZmlsbDogJ3JlZCcgfSApO1xyXG4gIGNvbnN0IGRvdDIgPSBuZXcgQ2lyY2xlKCAzLCB7IGZpbGw6ICdyZWQnLCBsZWZ0OiBkb3QxLnJpZ2h0ICsgNCB9ICk7XHJcbiAgcmV0dXJuIG5ldyBOb2RlKCB7IGNoaWxkcmVuOiBbIGRvdDEsIGRvdDIgXSB9ICk7XHJcbn1cclxuXHJcbmZsdWlkUHJlc3N1cmVBbmRGbG93LnJlZ2lzdGVyKCAnRmxvd1Rvb2xzQ29udHJvbFBhbmVsJywgRmxvd1Rvb2xzQ29udHJvbFBhbmVsICk7XHJcbmV4cG9ydCBkZWZhdWx0IEZsb3dUb29sc0NvbnRyb2xQYW5lbDsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxTQUFTQyxLQUFLLFFBQVEsZ0NBQWdDO0FBQ3RELE9BQU9DLEtBQUssTUFBTSxtQ0FBbUM7QUFDckQsT0FBT0MsUUFBUSxNQUFNLHlDQUF5QztBQUM5RCxPQUFPQyxTQUFTLE1BQU0sMENBQTBDO0FBQ2hFLFNBQVNDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxJQUFJLFFBQVEsbUNBQW1DO0FBQzFGLE9BQU9DLFFBQVEsTUFBTSxnQ0FBZ0M7QUFDckQsT0FBT0MsS0FBSyxNQUFNLDZCQUE2QjtBQUMvQyxPQUFPQyxvQkFBb0IsTUFBTSwrQkFBK0I7QUFDaEUsT0FBT0MsMkJBQTJCLE1BQU0sc0NBQXNDO0FBRTlFLE1BQU1DLFVBQVUsR0FB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