// Copyright 2014-2022, University of Colorado Boulder

/**
 * HoseNode represents a draggable and bendable hose.
 * The hose can be expanded in the y direction by dragging the attached handle.
 * Hose can be bent about its elbow by dragging the spout handle. The rotation is limited to 90 degrees.
 * Hose adjusts its height and width to ensure that the nozzle is always above the ground.
 *
 * @author Siddhartha Chinthapally (Actual Concepts)
 */

import { Shape } from '../../../../kite/js/imports.js';
import { Image, Node, Path, SimpleDragHandler } from '../../../../scenery/js/imports.js';
import handle_png from '../../../images/handle_png.js';
import nozzle_png from '../../../images/nozzle_png.js';
import spoutHandle_png from '../../../images/spoutHandle_png.js';
import fluidPressureAndFlow from '../../fluidPressureAndFlow.js';

// constants
const CORNER_RADIUS = 3; // px

class HoseNode extends Node {
  /**
   * @param {Hose} hose model
   * @param {Property.<Vector2>} tankPositionProperty the bottom left of the tank frame
   * @param {ModelViewTransform2} modelViewTransform transform to convert between model and view values
   * @param {Property.<boolean>} isHoseVisibleProperty controls the hose visibility
   * @param {Object} [options]
   */
  constructor(hose, tankPositionProperty, modelViewTransform, isHoseVisibleProperty, options) {
    super();
    this.hose = hose;
    this.modelViewTransform = modelViewTransform;
    this.tankPositionProperty = tankPositionProperty;

    // When the hose is above
    if (this.hose.elbowOuterY >= 0.2 * Math.cos(this.hose.angleWithVertical)) {
      this.hoseShape = createTopShape(this.hose, this.modelViewTransform);
    } else {
      this.hoseShape = createBottomShape(this.hose, this.modelViewTransform);
    }
    this.hosePath = new Path(this.hoseShape, {
      top: 100,
      stroke: 'grey',
      fill: '#00FF00'
    });
    this.addChild(this.hosePath);
    this.handleNodeCenterX = (this.hose.elbowInnerX - this.hose.L1) / 2 + this.hose.L1;
    this.handleNode = new Image(handle_png, {
      rotation: Math.PI,
      cursor: 'pointer',
      scale: 0.3,
      y: this.hosePath.bottom + this.modelViewTransform.modelToViewDeltaY(this.hose.width),
      centerX: modelViewTransform.modelToViewX(this.handleNodeCenterX)
    });
    this.addChild(this.handleNode);
    this.handleNode.touchArea = this.handleNode.localBounds.dilatedXY(20, 20);
    let clickYOffset;
    let initialHeight;
    this.handleNode.addInputListener(new SimpleDragHandler({
      start: event => {
        initialHeight = this.hose.heightProperty.value;
        clickYOffset = this.globalToParentPoint(event.pointer.point).y;
      },
      drag: event => {
        const deltaY = this.globalToParentPoint(event.pointer.point).y - clickYOffset;
        this.updateHoseHeight(-modelViewTransform.viewToModelDeltaY(deltaY) + initialHeight);
      }
    }));
    const nozzle = new Image(nozzle_png, {
      scale: 0.75
    });
    this.spoutHandle = new Node({
      children: [new Image(spoutHandle_png)],
      scale: 0.75,
      cursor: 'pointer',
      bottom: nozzle.bottom,
      left: nozzle.right - 4
    });
    this.spoutHandle.touchArea = this.spoutHandle.localBounds.dilatedXY(10, 10);
    this.spoutAndNozzle = new Node({
      children: [nozzle, this.spoutHandle],
      bottom: this.modelViewTransform.modelToViewDeltaY(this.hose.nozzleAttachmentOuterY) + 116 + 40 * Math.cos(this.hose.angleProperty.value),
      left: this.modelViewTransform.modelToViewX(this.hose.nozzleAttachmentOuterX) - 19 * Math.sin(this.hose.angleProperty.value),
      rotation: this.hose.angleWithVertical
    });
    this.addChild(this.spoutAndNozzle);
    let startX;
    let startY;
    let startPointAngle;
    let initialHoseAngle;
    this.spoutHandle.addInputListener(new SimpleDragHandler({
      start: event => {
        startY = this.globalToParentPoint(event.pointer.point).y;
        startX = this.globalToParentPoint(event.pointer.point).x;
        initialHoseAngle = this.hose.angleProperty.value * 180 / Math.PI;
        const deltaY = this.modelViewTransform.modelToViewY(this.hose.rotationPivotY + this.tankPositionProperty.value.y) - startY;
        const deltaX = this.modelViewTransform.modelToViewX(this.hose.rotationPivotX + this.tankPositionProperty.value.x + 10) - startX;
        startPointAngle = Math.atan2(deltaY, deltaX);
      },
      drag: event => {
        const endY = this.globalToParentPoint(event.pointer.point).y;
        const endX = this.globalToParentPoint(event.pointer.point).x;
        const deltaY = this.modelViewTransform.modelToViewY(this.hose.rotationPivotY + this.tankPositionProperty.value.y) - endY;
        const deltaX = this.modelViewTransform.modelToViewX(this.hose.rotationPivotX + this.tankPositionProperty.value.x + 10) - endX;
        if (deltaY > 0) {
          return;
        }
        const finalPointAngle = Math.atan2(deltaY, deltaX);
        const angleMoved = (finalPointAngle - startPointAngle) * 180 / Math.PI;
        let angleToUpdate = initialHoseAngle - angleMoved;
        angleToUpdate = angleToUpdate > 90 ? 90 : angleToUpdate < 0 ? 0 : angleToUpdate;
        this.hose.angleProperty.value = Math.PI * angleToUpdate / 180;
      }
    }));

    // add observers
    isHoseVisibleProperty.linkAttribute(this, 'visible');
    this.setTranslation(modelViewTransform.modelToViewX(this.hose.initialPosition.x), modelViewTransform.modelToViewY(this.hose.initialPosition.y));
    this.hose.updatedEmitter.addListener(() => {
      this.update();
    });
    this.mutate(options);
  }

  /**
   * Updates the hose height while ensuring that the nozzle does not go below the ground
   * @param {number} height to which the hose needs to be expanded or contracted.
   * @private
   */
  updateHoseHeight(height) {
    height = height > this.tankPositionProperty.value.y + 2 ? this.tankPositionProperty.value.y + 2 : height < this.tankPositionProperty.value.y - 25 ? this.tankPositionProperty.value.y - 25 : height;
    this.hose.heightProperty.value = height;
  }

  /**
   * Updates the hose node with the latest height and angle.
   * @private
   */
  update() {
    if (this.hose.elbowOuterY >= 0.2 * Math.cos(this.hose.angleWithVertical)) {
      this.hosePath.setShape(createTopShape(this.hose, this.modelViewTransform));
      this.handleNodeCenterX = (this.hose.elbowInnerX - this.hose.L1) / 2 + this.hose.L1;
      this.handleNode.centerX = this.modelViewTransform.modelToViewX(this.handleNodeCenterX);
      this.handleNode.y = this.modelViewTransform.modelToViewY(this.hose.elbowInnerY) - 115 - 119;
    } else {
      this.hosePath.setShape(createBottomShape(this.hose, this.modelViewTransform));
      this.handleNodeCenterX = (this.hose.elbowInnerX - this.hose.L1) / 2 + this.hose.L1;
      this.handleNode.centerX = this.modelViewTransform.modelToViewX(this.handleNodeCenterX);
      this.handleNode.y = this.hosePath.bottom + this.modelViewTransform.modelToViewDeltaY(this.hose.width);
    }
    this.spoutAndNozzle.setRotation(this.hose.angleWithVertical);
    this.spoutAndNozzle.bottom = this.modelViewTransform.modelToViewDeltaY(this.hose.nozzleAttachmentOuterY) + 116 + 29 * Math.cos(this.hose.angleProperty.value);
    this.spoutAndNozzle.left = this.modelViewTransform.modelToViewX(this.hose.nozzleAttachmentOuterX) - 19 * Math.sin(this.hose.angleProperty.value);
  }

  /**
   * @public
   */
  reset() {
    this.setTranslation(this.modelViewTransform.modelToViewX(this.hose.initialPosition.x), this.modelViewTransform.modelToViewY(this.hose.initialPosition.y));
    this.hose.reset();
  }
}

// creates the shape of the hose when the y-drag handle is above the top of the hole
function createTopShape(hose, modelViewTransform) {
  let shape = new Shape();
  shape = shape.moveTo(modelViewTransform.modelToViewX(hose.elbowOuterX), modelViewTransform.modelToViewY(hose.elbowOuterY)).lineTo(modelViewTransform.modelToViewX(hose.nozzleAttachmentOuterX), modelViewTransform.modelToViewY(hose.nozzleAttachmentOuterY)).lineTo(modelViewTransform.modelToViewX(hose.nozzleAttachmentInnerX), modelViewTransform.modelToViewY(hose.nozzleAttachmentInnerY)).lineTo(modelViewTransform.modelToViewX(hose.elbowInnerX), modelViewTransform.modelToViewY(hose.elbowInnerY) - CORNER_RADIUS * Math.cos(hose.angleWithVertical)).arc(modelViewTransform.modelToViewX(hose.elbowInnerX) - CORNER_RADIUS, modelViewTransform.modelToViewY(hose.elbowInnerY) - CORNER_RADIUS, CORNER_RADIUS, hose.angleWithVertical, Math.PI / 2, false).lineTo(modelViewTransform.modelToViewX(hose.L1 - hose.width) + CORNER_RADIUS, modelViewTransform.modelToViewY(hose.elbowInnerY));
  if (hose.elbowInnerY - hose.width > 0.6) {
    shape = shape.arc(modelViewTransform.modelToViewX(hose.L1 - hose.width) + CORNER_RADIUS, modelViewTransform.modelToViewY(hose.elbowInnerY) + CORNER_RADIUS, CORNER_RADIUS, -Math.PI / 2, Math.PI, true).lineTo(modelViewTransform.modelToViewX(hose.L1 - hose.width), modelViewTransform.modelToViewY(hose.width) - CORNER_RADIUS).arc(modelViewTransform.modelToViewX(hose.L1 - hose.width) - CORNER_RADIUS, modelViewTransform.modelToViewY(hose.width) - CORNER_RADIUS, CORNER_RADIUS, 0, Math.PI / 2, false);
  }
  shape = shape.lineTo(modelViewTransform.modelToViewX(0), modelViewTransform.modelToViewY(hose.width)).lineTo(modelViewTransform.modelToViewX(0), modelViewTransform.modelToViewY(0));
  if (hose.elbowInnerY - hose.width > 0.6) {
    shape = shape.lineTo(modelViewTransform.modelToViewX(hose.L1) - CORNER_RADIUS, modelViewTransform.modelToViewY(0)).arc(modelViewTransform.modelToViewX(hose.L1) - CORNER_RADIUS, modelViewTransform.modelToViewY(0) - CORNER_RADIUS, CORNER_RADIUS, Math.PI / 2, 0, true).lineTo(modelViewTransform.modelToViewX(hose.L1), modelViewTransform.modelToViewY(hose.elbowLowerY) + CORNER_RADIUS).arc(modelViewTransform.modelToViewX(hose.L1) + CORNER_RADIUS, modelViewTransform.modelToViewY(hose.elbowLowerY) + CORNER_RADIUS, CORNER_RADIUS, Math.PI, -Math.PI / 2, false);
  } else {
    shape = shape.lineTo(modelViewTransform.modelToViewX(hose.L1), modelViewTransform.modelToViewY(hose.elbowLowerY));
  }
  shape = shape.lineTo(modelViewTransform.modelToViewX(hose.elbowLowerX), modelViewTransform.modelToViewY(hose.elbowLowerY)).arc(modelViewTransform.modelToViewX(hose.elbowInnerX), modelViewTransform.modelToViewY(hose.elbowInnerY), modelViewTransform.modelToViewDeltaX(hose.width), Math.PI / 2, hose.angleWithVertical, true);
  return shape;
}

// creates the shape of the hose when the y-drag handle is below (not above) the top of the hole
function createBottomShape(hose, modelViewTransform) {
  let shape = new Shape();
  shape = shape.moveTo(modelViewTransform.modelToViewX(hose.elbowOuterX), modelViewTransform.modelToViewY(hose.elbowOuterY)).lineTo(modelViewTransform.modelToViewX(hose.nozzleAttachmentOuterX), modelViewTransform.modelToViewY(hose.nozzleAttachmentOuterY)).lineTo(modelViewTransform.modelToViewX(hose.nozzleAttachmentInnerX), modelViewTransform.modelToViewY(hose.nozzleAttachmentInnerY)).lineTo(modelViewTransform.modelToViewX(hose.elbowInnerX), modelViewTransform.modelToViewY(hose.elbowInnerY) - CORNER_RADIUS * Math.cos(hose.angleWithVertical)).arc(modelViewTransform.modelToViewX(hose.elbowInnerX) - CORNER_RADIUS, modelViewTransform.modelToViewY(hose.elbowInnerY) - CORNER_RADIUS, CORNER_RADIUS, hose.angleWithVertical, Math.PI / 2, false).lineTo(modelViewTransform.modelToViewX(hose.L1) + CORNER_RADIUS, modelViewTransform.modelToViewY(hose.elbowInnerY));
  if (-hose.elbowInnerY + hose.width > 0.6) {
    shape = shape.arc(modelViewTransform.modelToViewX(hose.L1) + CORNER_RADIUS, modelViewTransform.modelToViewY(hose.elbowInnerY) - CORNER_RADIUS, CORNER_RADIUS, Math.PI / 2, Math.PI, false).lineTo(modelViewTransform.modelToViewX(hose.L1), modelViewTransform.modelToViewY(hose.width) + CORNER_RADIUS).arc(modelViewTransform.modelToViewX(hose.L1) - CORNER_RADIUS, modelViewTransform.modelToViewY(hose.width) + CORNER_RADIUS, CORNER_RADIUS, 0, -Math.PI / 2, true);
  }
  shape = shape.lineTo(modelViewTransform.modelToViewX(0), modelViewTransform.modelToViewY(hose.width)).lineTo(modelViewTransform.modelToViewX(0), modelViewTransform.modelToViewY(0));
  if (-hose.elbowInnerY + hose.width > 0.6) {
    shape = shape.lineTo(modelViewTransform.modelToViewX(hose.L1 - hose.width) - CORNER_RADIUS, modelViewTransform.modelToViewY(0)).arc(modelViewTransform.modelToViewX(hose.L1 - hose.width) - CORNER_RADIUS, modelViewTransform.modelToViewY(0) + CORNER_RADIUS, CORNER_RADIUS, -Math.PI / 2, 0, false).lineTo(modelViewTransform.modelToViewX(hose.L1 - hose.width), modelViewTransform.modelToViewY(hose.elbowLowerY) - CORNER_RADIUS).arc(modelViewTransform.modelToViewX(hose.L1 - hose.width) + CORNER_RADIUS, modelViewTransform.modelToViewY(hose.elbowLowerY) - CORNER_RADIUS, CORNER_RADIUS, Math.PI, Math.PI / 2, true);
  } else {
    shape = shape.lineTo(modelViewTransform.modelToViewX(hose.L1 - hose.width), modelViewTransform.modelToViewY(hose.elbowLowerY));
  }
  shape = shape.lineTo(modelViewTransform.modelToViewX(hose.elbowLowerX), modelViewTransform.modelToViewY(hose.elbowLowerY)).arc(modelViewTransform.modelToViewX(hose.elbowInnerX), modelViewTransform.modelToViewY(hose.elbowInnerY), modelViewTransform.modelToViewDeltaX(hose.width), Math.PI / 2, hose.angleWithVertical, true);
  return shape;
}
fluidPressureAndFlow.register('HoseNode', HoseNode);
export default HoseNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTaGFwZSIsIkltYWdlIiwiTm9kZSIsIlBhdGgiLCJTaW1wbGVEcmFnSGFuZGxlciIsImhhbmRsZV9wbmciLCJub3p6bGVfcG5nIiwic3BvdXRIYW5kbGVfcG5nIiwiZmx1aWRQcmVzc3VyZUFuZEZsb3ciLCJDT1JORVJfUkFESVVTIiwiSG9zZU5vZGUiLCJjb25zdHJ1Y3RvciIsImhvc2UiLCJ0YW5rUG9zaXRpb25Qcm9wZXJ0eSIsIm1vZGVsVmlld1RyYW5zZm9ybSIsImlzSG9zZVZpc2libGVQcm9wZXJ0eSIsIm9wdGlvbnMiLCJlbGJvd091dGVyWSIsIk1hdGgiLCJjb3MiLCJhbmdsZVdpdGhWZXJ0aWNhbCIsImhvc2VTaGFwZSIsImNyZWF0ZVRvcFNoYXBlIiwiY3JlYXRlQm90dG9tU2hhcGUiLCJob3NlUGF0aCIsInRvcCIsInN0cm9rZSIsImZpbGwiLCJhZGRDaGlsZCIsImhhbmRsZU5vZGVDZW50ZXJYIiwiZWxib3dJbm5lclgiLCJMMSIsImhhbmRsZU5vZGUiLCJyb3RhdGlvbiIsIlBJIiwiY3Vyc29yIiwic2NhbGUiLCJ5IiwiYm90dG9tIiwibW9kZWxUb1ZpZXdEZWx0YVkiLCJ3aWR0aCIsImNlbnRlclgiLCJtb2RlbFRvVmlld1giLCJ0b3VjaEFyZWEiLCJsb2NhbEJvdW5kcyIsImRpbGF0ZWRYWSIsImNsaWNrWU9mZnNldCIsImluaXRpYWxIZWlnaHQiLCJhZGRJbnB1dExpc3RlbmVyIiwic3RhcnQiLCJldmVudCIsImhlaWdodFByb3BlcnR5IiwidmFsdWUiLCJnbG9iYWxUb1BhcmVudFBvaW50IiwicG9pbnRlciIsInBvaW50IiwiZHJhZyIsImRlbHRhWSIsInVwZGF0ZUhvc2VIZWlnaHQiLCJ2aWV3VG9Nb2RlbERlbHRhWSIsIm5venpsZSIsInNwb3V0SGFuZGxlIiwiY2hpbGRyZW4iLCJsZWZ0IiwicmlnaHQiLCJzcG91dEFuZE5venpsZSIsIm5venpsZUF0dGFjaG1lbnRPdXRlclkiLCJhbmdsZVByb3BlcnR5Iiwibm96emxlQXR0YWNobWVudE91dGVyWCIsInNpbiIsInN0YXJ0WCIsInN0YXJ0WSIsInN0YXJ0UG9pbnRBbmdsZSIsImluaXRpYWxIb3NlQW5nbGUiLCJ4IiwibW9kZWxUb1ZpZXdZIiwicm90YXRpb25QaXZvdFkiLCJkZWx0YVgiLCJyb3RhdGlvblBpdm90WCIsImF0YW4yIiwiZW5kWSIsImVuZFgiLCJmaW5hbFBvaW50QW5nbGUiLCJhbmdsZU1vdmVkIiwiYW5nbGVUb1VwZGF0ZSIsImxpbmtBdHRyaWJ1dGUiLCJzZXRUcmFuc2xhdGlvbiIsImluaXRpYWxQb3NpdGlvbiIsInVwZGF0ZWRFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJ1cGRhdGUiLCJtdXRhdGUiLCJoZWlnaHQiLCJzZXRTaGFwZSIsImVsYm93SW5uZXJZIiwic2V0Um90YXRpb24iLCJyZXNldCIsInNoYXBlIiwibW92ZVRvIiwiZWxib3dPdXRlclgiLCJsaW5lVG8iLCJub3p6bGVBdHRhY2htZW50SW5uZXJYIiwibm96emxlQXR0YWNobWVudElubmVyWSIsImFyYyIsImVsYm93TG93ZXJZIiwiZWxib3dMb3dlclgiLCJtb2RlbFRvVmlld0RlbHRhWCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiSG9zZU5vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTQtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogSG9zZU5vZGUgcmVwcmVzZW50cyBhIGRyYWdnYWJsZSBhbmQgYmVuZGFibGUgaG9zZS5cclxuICogVGhlIGhvc2UgY2FuIGJlIGV4cGFuZGVkIGluIHRoZSB5IGRpcmVjdGlvbiBieSBkcmFnZ2luZyB0aGUgYXR0YWNoZWQgaGFuZGxlLlxyXG4gKiBIb3NlIGNhbiBiZSBiZW50IGFib3V0IGl0cyBlbGJvdyBieSBkcmFnZ2luZyB0aGUgc3BvdXQgaGFuZGxlLiBUaGUgcm90YXRpb24gaXMgbGltaXRlZCB0byA5MCBkZWdyZWVzLlxyXG4gKiBIb3NlIGFkanVzdHMgaXRzIGhlaWdodCBhbmQgd2lkdGggdG8gZW5zdXJlIHRoYXQgdGhlIG5venpsZSBpcyBhbHdheXMgYWJvdmUgdGhlIGdyb3VuZC5cclxuICpcclxuICogQGF1dGhvciBTaWRkaGFydGhhIENoaW50aGFwYWxseSAoQWN0dWFsIENvbmNlcHRzKVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4va2l0ZS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IHsgSW1hZ2UsIE5vZGUsIFBhdGgsIFNpbXBsZURyYWdIYW5kbGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IGhhbmRsZV9wbmcgZnJvbSAnLi4vLi4vLi4vaW1hZ2VzL2hhbmRsZV9wbmcuanMnO1xyXG5pbXBvcnQgbm96emxlX3BuZyBmcm9tICcuLi8uLi8uLi9pbWFnZXMvbm96emxlX3BuZy5qcyc7XHJcbmltcG9ydCBzcG91dEhhbmRsZV9wbmcgZnJvbSAnLi4vLi4vLi4vaW1hZ2VzL3Nwb3V0SGFuZGxlX3BuZy5qcyc7XHJcbmltcG9ydCBmbHVpZFByZXNzdXJlQW5kRmxvdyBmcm9tICcuLi8uLi9mbHVpZFByZXNzdXJlQW5kRmxvdy5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgQ09STkVSX1JBRElVUyA9IDM7IC8vIHB4XHJcblxyXG5jbGFzcyBIb3NlTm9kZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0hvc2V9IGhvc2UgbW9kZWxcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5LjxWZWN0b3IyPn0gdGFua1Bvc2l0aW9uUHJvcGVydHkgdGhlIGJvdHRvbSBsZWZ0IG9mIHRoZSB0YW5rIGZyYW1lXHJcbiAgICogQHBhcmFtIHtNb2RlbFZpZXdUcmFuc2Zvcm0yfSBtb2RlbFZpZXdUcmFuc2Zvcm0gdHJhbnNmb3JtIHRvIGNvbnZlcnQgYmV0d2VlbiBtb2RlbCBhbmQgdmlldyB2YWx1ZXNcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5Ljxib29sZWFuPn0gaXNIb3NlVmlzaWJsZVByb3BlcnR5IGNvbnRyb2xzIHRoZSBob3NlIHZpc2liaWxpdHlcclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIGhvc2UsIHRhbmtQb3NpdGlvblByb3BlcnR5LCBtb2RlbFZpZXdUcmFuc2Zvcm0sIGlzSG9zZVZpc2libGVQcm9wZXJ0eSwgb3B0aW9ucyApIHtcclxuXHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuaG9zZSA9IGhvc2U7XHJcbiAgICB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybSA9IG1vZGVsVmlld1RyYW5zZm9ybTtcclxuICAgIHRoaXMudGFua1Bvc2l0aW9uUHJvcGVydHkgPSB0YW5rUG9zaXRpb25Qcm9wZXJ0eTtcclxuXHJcbiAgICAvLyBXaGVuIHRoZSBob3NlIGlzIGFib3ZlXHJcbiAgICBpZiAoIHRoaXMuaG9zZS5lbGJvd091dGVyWSA+PSAwLjIgKiBNYXRoLmNvcyggdGhpcy5ob3NlLmFuZ2xlV2l0aFZlcnRpY2FsICkgKSB7XHJcbiAgICAgIHRoaXMuaG9zZVNoYXBlID0gY3JlYXRlVG9wU2hhcGUoIHRoaXMuaG9zZSwgdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0gKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmhvc2VTaGFwZSA9IGNyZWF0ZUJvdHRvbVNoYXBlKCB0aGlzLmhvc2UsIHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ob3NlUGF0aCA9IG5ldyBQYXRoKCB0aGlzLmhvc2VTaGFwZSwgeyB0b3A6IDEwMCwgc3Ryb2tlOiAnZ3JleScsIGZpbGw6ICcjMDBGRjAwJyB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB0aGlzLmhvc2VQYXRoICk7XHJcblxyXG4gICAgdGhpcy5oYW5kbGVOb2RlQ2VudGVyWCA9ICggdGhpcy5ob3NlLmVsYm93SW5uZXJYIC0gKCB0aGlzLmhvc2UuTDEgKSApIC8gMiArIHRoaXMuaG9zZS5MMTtcclxuXHJcbiAgICB0aGlzLmhhbmRsZU5vZGUgPSBuZXcgSW1hZ2UoIGhhbmRsZV9wbmcsIHtcclxuICAgICAgcm90YXRpb246IE1hdGguUEksXHJcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICBzY2FsZTogMC4zLFxyXG4gICAgICB5OiB0aGlzLmhvc2VQYXRoLmJvdHRvbSArIHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3RGVsdGFZKCB0aGlzLmhvc2Uud2lkdGggKSxcclxuICAgICAgY2VudGVyWDogbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggdGhpcy5oYW5kbGVOb2RlQ2VudGVyWCApXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB0aGlzLmhhbmRsZU5vZGUgKTtcclxuICAgIHRoaXMuaGFuZGxlTm9kZS50b3VjaEFyZWEgPSB0aGlzLmhhbmRsZU5vZGUubG9jYWxCb3VuZHMuZGlsYXRlZFhZKCAyMCwgMjAgKTtcclxuXHJcbiAgICBsZXQgY2xpY2tZT2Zmc2V0O1xyXG4gICAgbGV0IGluaXRpYWxIZWlnaHQ7XHJcbiAgICB0aGlzLmhhbmRsZU5vZGUuYWRkSW5wdXRMaXN0ZW5lciggbmV3IFNpbXBsZURyYWdIYW5kbGVyKCB7XHJcbiAgICAgIHN0YXJ0OiBldmVudCA9PiB7XHJcbiAgICAgICAgaW5pdGlhbEhlaWdodCA9IHRoaXMuaG9zZS5oZWlnaHRQcm9wZXJ0eS52YWx1ZTtcclxuICAgICAgICBjbGlja1lPZmZzZXQgPSB0aGlzLmdsb2JhbFRvUGFyZW50UG9pbnQoIGV2ZW50LnBvaW50ZXIucG9pbnQgKS55O1xyXG4gICAgICB9LFxyXG4gICAgICBkcmFnOiBldmVudCA9PiB7XHJcbiAgICAgICAgY29uc3QgZGVsdGFZID0gdGhpcy5nbG9iYWxUb1BhcmVudFBvaW50KCBldmVudC5wb2ludGVyLnBvaW50ICkueSAtIGNsaWNrWU9mZnNldDtcclxuICAgICAgICB0aGlzLnVwZGF0ZUhvc2VIZWlnaHQoIC1tb2RlbFZpZXdUcmFuc2Zvcm0udmlld1RvTW9kZWxEZWx0YVkoIGRlbHRhWSApICsgaW5pdGlhbEhlaWdodCApO1xyXG4gICAgICB9XHJcbiAgICB9ICkgKTtcclxuXHJcbiAgICBjb25zdCBub3p6bGUgPSBuZXcgSW1hZ2UoIG5venpsZV9wbmcsIHsgc2NhbGU6IDAuNzUgfSApO1xyXG5cclxuICAgIHRoaXMuc3BvdXRIYW5kbGUgPSBuZXcgTm9kZSgge1xyXG4gICAgICBjaGlsZHJlbjogWyBuZXcgSW1hZ2UoIHNwb3V0SGFuZGxlX3BuZyApIF0sXHJcbiAgICAgIHNjYWxlOiAwLjc1LFxyXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgYm90dG9tOiBub3p6bGUuYm90dG9tLFxyXG4gICAgICBsZWZ0OiBub3p6bGUucmlnaHQgLSA0XHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLnNwb3V0SGFuZGxlLnRvdWNoQXJlYSA9IHRoaXMuc3BvdXRIYW5kbGUubG9jYWxCb3VuZHMuZGlsYXRlZFhZKCAxMCwgMTAgKTtcclxuXHJcbiAgICB0aGlzLnNwb3V0QW5kTm96emxlID0gbmV3IE5vZGUoIHtcclxuICAgICAgY2hpbGRyZW46IFsgbm96emxlLCB0aGlzLnNwb3V0SGFuZGxlIF0sXHJcbiAgICAgIGJvdHRvbTogdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdEZWx0YVkoIHRoaXMuaG9zZS5ub3p6bGVBdHRhY2htZW50T3V0ZXJZICkgKyAxMTYgKyA0MCAqIE1hdGguY29zKCB0aGlzLmhvc2UuYW5nbGVQcm9wZXJ0eS52YWx1ZSApLFxyXG4gICAgICBsZWZ0OiB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIHRoaXMuaG9zZS5ub3p6bGVBdHRhY2htZW50T3V0ZXJYICkgLSAxOSAqIE1hdGguc2luKCB0aGlzLmhvc2UuYW5nbGVQcm9wZXJ0eS52YWx1ZSApLFxyXG4gICAgICByb3RhdGlvbjogdGhpcy5ob3NlLmFuZ2xlV2l0aFZlcnRpY2FsXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5zcG91dEFuZE5venpsZSApO1xyXG5cclxuICAgIGxldCBzdGFydFg7XHJcbiAgICBsZXQgc3RhcnRZO1xyXG4gICAgbGV0IHN0YXJ0UG9pbnRBbmdsZTtcclxuICAgIGxldCBpbml0aWFsSG9zZUFuZ2xlO1xyXG4gICAgdGhpcy5zcG91dEhhbmRsZS5hZGRJbnB1dExpc3RlbmVyKCBuZXcgU2ltcGxlRHJhZ0hhbmRsZXIoIHtcclxuICAgICAgc3RhcnQ6IGV2ZW50ID0+IHtcclxuXHJcbiAgICAgICAgc3RhcnRZID0gdGhpcy5nbG9iYWxUb1BhcmVudFBvaW50KCBldmVudC5wb2ludGVyLnBvaW50ICkueTtcclxuICAgICAgICBzdGFydFggPSB0aGlzLmdsb2JhbFRvUGFyZW50UG9pbnQoIGV2ZW50LnBvaW50ZXIucG9pbnQgKS54O1xyXG5cclxuICAgICAgICBpbml0aWFsSG9zZUFuZ2xlID0gdGhpcy5ob3NlLmFuZ2xlUHJvcGVydHkudmFsdWUgKiAxODAgLyBNYXRoLlBJO1xyXG5cclxuICAgICAgICBjb25zdCBkZWx0YVkgPSB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIHRoaXMuaG9zZS5yb3RhdGlvblBpdm90WSArIHRoaXMudGFua1Bvc2l0aW9uUHJvcGVydHkudmFsdWUueSApIC0gc3RhcnRZO1xyXG4gICAgICAgIGNvbnN0IGRlbHRhWCA9IHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggdGhpcy5ob3NlLnJvdGF0aW9uUGl2b3RYICsgdGhpcy50YW5rUG9zaXRpb25Qcm9wZXJ0eS52YWx1ZS54ICsgMTAgKSAtIHN0YXJ0WDtcclxuXHJcbiAgICAgICAgc3RhcnRQb2ludEFuZ2xlID0gTWF0aC5hdGFuMiggZGVsdGFZLCBkZWx0YVggKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGRyYWc6IGV2ZW50ID0+IHtcclxuXHJcbiAgICAgICAgY29uc3QgZW5kWSA9IHRoaXMuZ2xvYmFsVG9QYXJlbnRQb2ludCggZXZlbnQucG9pbnRlci5wb2ludCApLnk7XHJcbiAgICAgICAgY29uc3QgZW5kWCA9IHRoaXMuZ2xvYmFsVG9QYXJlbnRQb2ludCggZXZlbnQucG9pbnRlci5wb2ludCApLng7XHJcblxyXG4gICAgICAgIGNvbnN0IGRlbHRhWSA9IHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggdGhpcy5ob3NlLnJvdGF0aW9uUGl2b3RZICsgdGhpcy50YW5rUG9zaXRpb25Qcm9wZXJ0eS52YWx1ZS55ICkgLSBlbmRZO1xyXG4gICAgICAgIGNvbnN0IGRlbHRhWCA9IHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggdGhpcy5ob3NlLnJvdGF0aW9uUGl2b3RYICsgdGhpcy50YW5rUG9zaXRpb25Qcm9wZXJ0eS52YWx1ZS54ICsgMTAgKSAtIGVuZFg7XHJcblxyXG4gICAgICAgIGlmICggZGVsdGFZID4gMCApIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZpbmFsUG9pbnRBbmdsZSA9IE1hdGguYXRhbjIoIGRlbHRhWSwgZGVsdGFYICk7XHJcbiAgICAgICAgY29uc3QgYW5nbGVNb3ZlZCA9ICggZmluYWxQb2ludEFuZ2xlIC0gc3RhcnRQb2ludEFuZ2xlICkgKiAxODAgLyBNYXRoLlBJO1xyXG5cclxuICAgICAgICBsZXQgYW5nbGVUb1VwZGF0ZSA9IGluaXRpYWxIb3NlQW5nbGUgLSBhbmdsZU1vdmVkO1xyXG4gICAgICAgIGFuZ2xlVG9VcGRhdGUgPSBhbmdsZVRvVXBkYXRlID4gOTAgPyA5MCA6IGFuZ2xlVG9VcGRhdGUgPCAwID8gMCA6IGFuZ2xlVG9VcGRhdGU7XHJcbiAgICAgICAgdGhpcy5ob3NlLmFuZ2xlUHJvcGVydHkudmFsdWUgPSBNYXRoLlBJICogKCBhbmdsZVRvVXBkYXRlICkgLyAxODA7XHJcbiAgICAgIH1cclxuICAgIH0gKSApO1xyXG5cclxuICAgIC8vIGFkZCBvYnNlcnZlcnNcclxuICAgIGlzSG9zZVZpc2libGVQcm9wZXJ0eS5saW5rQXR0cmlidXRlKCB0aGlzLCAndmlzaWJsZScgKTtcclxuXHJcbiAgICB0aGlzLnNldFRyYW5zbGF0aW9uKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCB0aGlzLmhvc2UuaW5pdGlhbFBvc2l0aW9uLnggKSxcclxuICAgICAgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggdGhpcy5ob3NlLmluaXRpYWxQb3NpdGlvbi55ICkgKTtcclxuXHJcbiAgICB0aGlzLmhvc2UudXBkYXRlZEVtaXR0ZXIuYWRkTGlzdGVuZXIoICgpID0+IHtcclxuICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLm11dGF0ZSggb3B0aW9ucyApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgaG9zZSBoZWlnaHQgd2hpbGUgZW5zdXJpbmcgdGhhdCB0aGUgbm96emxlIGRvZXMgbm90IGdvIGJlbG93IHRoZSBncm91bmRcclxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IHRvIHdoaWNoIHRoZSBob3NlIG5lZWRzIHRvIGJlIGV4cGFuZGVkIG9yIGNvbnRyYWN0ZWQuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICB1cGRhdGVIb3NlSGVpZ2h0KCBoZWlnaHQgKSB7XHJcbiAgICBoZWlnaHQgPSBoZWlnaHQgPiB0aGlzLnRhbmtQb3NpdGlvblByb3BlcnR5LnZhbHVlLnkgKyAyID8gdGhpcy50YW5rUG9zaXRpb25Qcm9wZXJ0eS52YWx1ZS55ICsgMiA6XHJcbiAgICAgICAgICAgICBoZWlnaHQgPCB0aGlzLnRhbmtQb3NpdGlvblByb3BlcnR5LnZhbHVlLnkgLSAyNSA/IHRoaXMudGFua1Bvc2l0aW9uUHJvcGVydHkudmFsdWUueSAtIDI1IDogaGVpZ2h0O1xyXG5cclxuICAgIHRoaXMuaG9zZS5oZWlnaHRQcm9wZXJ0eS52YWx1ZSA9IGhlaWdodDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIGhvc2Ugbm9kZSB3aXRoIHRoZSBsYXRlc3QgaGVpZ2h0IGFuZCBhbmdsZS5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIHVwZGF0ZSgpIHtcclxuXHJcbiAgICBpZiAoIHRoaXMuaG9zZS5lbGJvd091dGVyWSA+PSAwLjIgKiBNYXRoLmNvcyggdGhpcy5ob3NlLmFuZ2xlV2l0aFZlcnRpY2FsICkgKSB7XHJcbiAgICAgIHRoaXMuaG9zZVBhdGguc2V0U2hhcGUoIGNyZWF0ZVRvcFNoYXBlKCB0aGlzLmhvc2UsIHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtICkgKTtcclxuICAgICAgdGhpcy5oYW5kbGVOb2RlQ2VudGVyWCA9ICggdGhpcy5ob3NlLmVsYm93SW5uZXJYIC0gdGhpcy5ob3NlLkwxICkgLyAyICsgdGhpcy5ob3NlLkwxO1xyXG4gICAgICB0aGlzLmhhbmRsZU5vZGUuY2VudGVyWCA9IHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggdGhpcy5oYW5kbGVOb2RlQ2VudGVyWCApO1xyXG4gICAgICB0aGlzLmhhbmRsZU5vZGUueSA9IHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggdGhpcy5ob3NlLmVsYm93SW5uZXJZICkgLSAxMTUgLSAxMTk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5ob3NlUGF0aC5zZXRTaGFwZSggY3JlYXRlQm90dG9tU2hhcGUoIHRoaXMuaG9zZSwgdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0gKSApO1xyXG4gICAgICB0aGlzLmhhbmRsZU5vZGVDZW50ZXJYID0gKCB0aGlzLmhvc2UuZWxib3dJbm5lclggLSAoIHRoaXMuaG9zZS5MMSApICkgLyAyICsgdGhpcy5ob3NlLkwxO1xyXG4gICAgICB0aGlzLmhhbmRsZU5vZGUuY2VudGVyWCA9IHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggdGhpcy5oYW5kbGVOb2RlQ2VudGVyWCApO1xyXG4gICAgICB0aGlzLmhhbmRsZU5vZGUueSA9IHRoaXMuaG9zZVBhdGguYm90dG9tICsgdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdEZWx0YVkoIHRoaXMuaG9zZS53aWR0aCApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3BvdXRBbmROb3p6bGUuc2V0Um90YXRpb24oIHRoaXMuaG9zZS5hbmdsZVdpdGhWZXJ0aWNhbCApO1xyXG4gICAgdGhpcy5zcG91dEFuZE5venpsZS5ib3R0b20gPSB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld0RlbHRhWSggdGhpcy5ob3NlLm5venpsZUF0dGFjaG1lbnRPdXRlclkgKSArIDExNiArIDI5ICogTWF0aC5jb3MoIHRoaXMuaG9zZS5hbmdsZVByb3BlcnR5LnZhbHVlICk7XHJcbiAgICB0aGlzLnNwb3V0QW5kTm96emxlLmxlZnQgPSB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIHRoaXMuaG9zZS5ub3p6bGVBdHRhY2htZW50T3V0ZXJYICkgLSAxOSAqIE1hdGguc2luKCB0aGlzLmhvc2UuYW5nbGVQcm9wZXJ0eS52YWx1ZSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5zZXRUcmFuc2xhdGlvbiggdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCB0aGlzLmhvc2UuaW5pdGlhbFBvc2l0aW9uLnggKSxcclxuICAgICAgdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCB0aGlzLmhvc2UuaW5pdGlhbFBvc2l0aW9uLnkgKSApO1xyXG4gICAgdGhpcy5ob3NlLnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBjcmVhdGVzIHRoZSBzaGFwZSBvZiB0aGUgaG9zZSB3aGVuIHRoZSB5LWRyYWcgaGFuZGxlIGlzIGFib3ZlIHRoZSB0b3Agb2YgdGhlIGhvbGVcclxuZnVuY3Rpb24gY3JlYXRlVG9wU2hhcGUoIGhvc2UsIG1vZGVsVmlld1RyYW5zZm9ybSApIHtcclxuICBsZXQgc2hhcGUgPSBuZXcgU2hhcGUoKTtcclxuICBzaGFwZSA9IHNoYXBlLm1vdmVUbyggbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggaG9zZS5lbGJvd091dGVyWCApLCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCBob3NlLmVsYm93T3V0ZXJZICkgKVxyXG4gICAgLmxpbmVUbyggbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggaG9zZS5ub3p6bGVBdHRhY2htZW50T3V0ZXJYICksIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2Uubm96emxlQXR0YWNobWVudE91dGVyWSApIClcclxuICAgIC5saW5lVG8oIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2Uubm96emxlQXR0YWNobWVudElubmVyWCApLCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCBob3NlLm5venpsZUF0dGFjaG1lbnRJbm5lclkgKSApXHJcbiAgICAubGluZVRvKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLmVsYm93SW5uZXJYICksIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2UuZWxib3dJbm5lclkgKSAtIENPUk5FUl9SQURJVVMgKiBNYXRoLmNvcyggaG9zZS5hbmdsZVdpdGhWZXJ0aWNhbCApIClcclxuICAgIC5hcmMoIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2UuZWxib3dJbm5lclggKSAtIENPUk5FUl9SQURJVVMsIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2UuZWxib3dJbm5lclkgKSAtIENPUk5FUl9SQURJVVMsIENPUk5FUl9SQURJVVMsIGhvc2UuYW5nbGVXaXRoVmVydGljYWwsIE1hdGguUEkgLyAyLCBmYWxzZSApXHJcbiAgICAubGluZVRvKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLkwxIC0gaG9zZS53aWR0aCApICsgQ09STkVSX1JBRElVUywgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggaG9zZS5lbGJvd0lubmVyWSApICk7XHJcblxyXG4gIGlmICggaG9zZS5lbGJvd0lubmVyWSAtIGhvc2Uud2lkdGggPiAwLjYgKSB7XHJcbiAgICBzaGFwZSA9IHNoYXBlLmFyYyggbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggaG9zZS5MMSAtIGhvc2Uud2lkdGggKSArIENPUk5FUl9SQURJVVMsIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2UuZWxib3dJbm5lclkgKSArIENPUk5FUl9SQURJVVMsIENPUk5FUl9SQURJVVMsIC1NYXRoLlBJIC8gMiwgTWF0aC5QSSwgdHJ1ZSApXHJcbiAgICAgIC5saW5lVG8oIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2UuTDEgLSBob3NlLndpZHRoICksIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2Uud2lkdGggKSAtIENPUk5FUl9SQURJVVMgKVxyXG4gICAgICAuYXJjKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLkwxIC0gaG9zZS53aWR0aCApIC0gQ09STkVSX1JBRElVUywgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggaG9zZS53aWR0aCApIC0gQ09STkVSX1JBRElVUywgQ09STkVSX1JBRElVUywgMCwgTWF0aC5QSSAvIDIsIGZhbHNlICk7XHJcbiAgfVxyXG5cclxuICBzaGFwZSA9IHNoYXBlLmxpbmVUbyggbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggMCApLCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCBob3NlLndpZHRoICkgKVxyXG4gICAgLmxpbmVUbyggbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggMCApLCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCAwICkgKTtcclxuXHJcbiAgaWYgKCBob3NlLmVsYm93SW5uZXJZIC0gaG9zZS53aWR0aCA+IDAuNiApIHtcclxuICAgIHNoYXBlID0gc2hhcGUubGluZVRvKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLkwxICkgLSBDT1JORVJfUkFESVVTLCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCAwICkgKVxyXG4gICAgICAuYXJjKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLkwxICkgLSBDT1JORVJfUkFESVVTLCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCAwICkgLSBDT1JORVJfUkFESVVTLCBDT1JORVJfUkFESVVTLCBNYXRoLlBJIC8gMiwgMCwgdHJ1ZSApXHJcbiAgICAgIC5saW5lVG8oIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2UuTDEgKSwgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggaG9zZS5lbGJvd0xvd2VyWSApICsgQ09STkVSX1JBRElVUyApXHJcbiAgICAgIC5hcmMoIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2UuTDEgKSArIENPUk5FUl9SQURJVVMsIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2UuZWxib3dMb3dlclkgKSArIENPUk5FUl9SQURJVVMsIENPUk5FUl9SQURJVVMsIE1hdGguUEksIC1NYXRoLlBJIC8gMiwgZmFsc2UgKTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBzaGFwZSA9IHNoYXBlLmxpbmVUbyggbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggaG9zZS5MMSApLCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCBob3NlLmVsYm93TG93ZXJZICkgKTtcclxuICB9XHJcblxyXG4gIHNoYXBlID0gc2hhcGUubGluZVRvKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLmVsYm93TG93ZXJYICksIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2UuZWxib3dMb3dlclkgKSApXHJcbiAgICAuYXJjKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLmVsYm93SW5uZXJYICksIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2UuZWxib3dJbm5lclkgKSwgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3RGVsdGFYKCBob3NlLndpZHRoICksXHJcbiAgICAgIE1hdGguUEkgLyAyLCBob3NlLmFuZ2xlV2l0aFZlcnRpY2FsLCB0cnVlICk7XHJcblxyXG4gIHJldHVybiBzaGFwZTtcclxufVxyXG5cclxuLy8gY3JlYXRlcyB0aGUgc2hhcGUgb2YgdGhlIGhvc2Ugd2hlbiB0aGUgeS1kcmFnIGhhbmRsZSBpcyBiZWxvdyAobm90IGFib3ZlKSB0aGUgdG9wIG9mIHRoZSBob2xlXHJcbmZ1bmN0aW9uIGNyZWF0ZUJvdHRvbVNoYXBlKCBob3NlLCBtb2RlbFZpZXdUcmFuc2Zvcm0gKSB7XHJcbiAgbGV0IHNoYXBlID0gbmV3IFNoYXBlKCk7XHJcbiAgc2hhcGUgPSBzaGFwZS5tb3ZlVG8oIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2UuZWxib3dPdXRlclggKSwgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggaG9zZS5lbGJvd091dGVyWSApIClcclxuICAgIC5saW5lVG8oIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2Uubm96emxlQXR0YWNobWVudE91dGVyWCApLCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCBob3NlLm5venpsZUF0dGFjaG1lbnRPdXRlclkgKSApXHJcbiAgICAubGluZVRvKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLm5venpsZUF0dGFjaG1lbnRJbm5lclggKSwgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggaG9zZS5ub3p6bGVBdHRhY2htZW50SW5uZXJZICkgKVxyXG4gICAgLmxpbmVUbyggbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggaG9zZS5lbGJvd0lubmVyWCApLCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCBob3NlLmVsYm93SW5uZXJZICkgLSBDT1JORVJfUkFESVVTICogTWF0aC5jb3MoIGhvc2UuYW5nbGVXaXRoVmVydGljYWwgKSApXHJcbiAgICAuYXJjKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLmVsYm93SW5uZXJYICkgLSBDT1JORVJfUkFESVVTLCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCBob3NlLmVsYm93SW5uZXJZICkgLSBDT1JORVJfUkFESVVTLCBDT1JORVJfUkFESVVTLCBob3NlLmFuZ2xlV2l0aFZlcnRpY2FsLCBNYXRoLlBJIC8gMiwgZmFsc2UgKVxyXG4gICAgLmxpbmVUbyggbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggaG9zZS5MMSApICsgQ09STkVSX1JBRElVUywgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggaG9zZS5lbGJvd0lubmVyWSApICk7XHJcblxyXG4gIGlmICggLWhvc2UuZWxib3dJbm5lclkgKyBob3NlLndpZHRoID4gMC42ICkge1xyXG4gICAgc2hhcGUgPSBzaGFwZS5hcmMoIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2UuTDEgKSArIENPUk5FUl9SQURJVVMsIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2UuZWxib3dJbm5lclkgKSAtIENPUk5FUl9SQURJVVMsIENPUk5FUl9SQURJVVMsIE1hdGguUEkgLyAyLCBNYXRoLlBJLCBmYWxzZSApXHJcbiAgICAgIC5saW5lVG8oIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2UuTDEgKSwgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggaG9zZS53aWR0aCApICsgQ09STkVSX1JBRElVUyApXHJcbiAgICAgIC5hcmMoIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2UuTDEgKSAtIENPUk5FUl9SQURJVVMsIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2Uud2lkdGggKSArIENPUk5FUl9SQURJVVMsIENPUk5FUl9SQURJVVMsIDAsIC1NYXRoLlBJIC8gMiwgdHJ1ZSApO1xyXG4gIH1cclxuXHJcbiAgc2hhcGUgPSBzaGFwZS5saW5lVG8oIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIDAgKSwgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggaG9zZS53aWR0aCApIClcclxuICAgIC5saW5lVG8oIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIDAgKSwgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggMCApICk7XHJcblxyXG4gIGlmICggLWhvc2UuZWxib3dJbm5lclkgKyBob3NlLndpZHRoID4gMC42ICkge1xyXG4gICAgc2hhcGUgPSBzaGFwZS5saW5lVG8oIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2UuTDEgLSBob3NlLndpZHRoICkgLSBDT1JORVJfUkFESVVTLCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCAwICkgKVxyXG4gICAgICAuYXJjKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLkwxIC0gaG9zZS53aWR0aCApIC0gQ09STkVSX1JBRElVUywgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggMCApICsgQ09STkVSX1JBRElVUywgQ09STkVSX1JBRElVUywgLU1hdGguUEkgLyAyLCAwLCBmYWxzZSApXHJcbiAgICAgIC5saW5lVG8oIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIGhvc2UuTDEgLSBob3NlLndpZHRoICksIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2UuZWxib3dMb3dlclkgKSAtIENPUk5FUl9SQURJVVMgKVxyXG4gICAgICAuYXJjKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLkwxIC0gaG9zZS53aWR0aCApICsgQ09STkVSX1JBRElVUywgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggaG9zZS5lbGJvd0xvd2VyWSApIC0gQ09STkVSX1JBRElVUywgQ09STkVSX1JBRElVUywgTWF0aC5QSSwgTWF0aC5QSSAvIDIsIHRydWUgKTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBzaGFwZSA9IHNoYXBlLmxpbmVUbyggbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggaG9zZS5MMSAtIGhvc2Uud2lkdGggKSwgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggaG9zZS5lbGJvd0xvd2VyWSApICk7XHJcbiAgfVxyXG4gIHNoYXBlID0gc2hhcGUubGluZVRvKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLmVsYm93TG93ZXJYICksIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2UuZWxib3dMb3dlclkgKSApXHJcbiAgICAuYXJjKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBob3NlLmVsYm93SW5uZXJYICksIG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGhvc2UuZWxib3dJbm5lclkgKSwgbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3RGVsdGFYKCBob3NlLndpZHRoICksXHJcbiAgICAgIE1hdGguUEkgLyAyLCBob3NlLmFuZ2xlV2l0aFZlcnRpY2FsLCB0cnVlICk7XHJcblxyXG4gIHJldHVybiBzaGFwZTtcclxufVxyXG5cclxuZmx1aWRQcmVzc3VyZUFuZEZsb3cucmVnaXN0ZXIoICdIb3NlTm9kZScsIEhvc2VOb2RlICk7XHJcbmV4cG9ydCBkZWZhdWx0IEhvc2VOb2RlOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxLQUFLLFFBQVEsZ0NBQWdDO0FBQ3RELFNBQVNDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLGlCQUFpQixRQUFRLG1DQUFtQztBQUN4RixPQUFPQyxVQUFVLE1BQU0sK0JBQStCO0FBQ3RELE9BQU9DLFVBQVUsTUFBTSwrQkFBK0I7QUFDdEQsT0FBT0MsZUFBZSxNQUFNLG9DQUFvQztBQUNoRSxPQUFPQyxvQkFBb0IsTUFBTSwrQkFBK0I7O0FBRWhFO0FBQ0EsTUFBTUMsYUFBYSxHQUFHLENBQUMsQ0FBQyxDQUFDOztBQUV6QixNQUFNQyxRQUFRLFNBQVNSLElBQUksQ0FBQztFQUUxQjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFUyxXQUFXQSxDQUFFQyxJQUFJLEVBQUVDLG9CQUFvQixFQUFFQyxrQkFBa0IsRUFBRUMscUJBQXFCLEVBQUVDLE9BQU8sRUFBRztJQUU1RixLQUFLLENBQUMsQ0FBQztJQUVQLElBQUksQ0FBQ0osSUFBSSxHQUFHQSxJQUFJO0lBQ2hCLElBQUksQ0FBQ0Usa0JBQWtCLEdBQUdBLGtCQUFrQjtJQUM1QyxJQUFJLENBQUNELG9CQUFvQixHQUFHQSxvQkFBb0I7O0lBRWhEO0lBQ0EsSUFBSyxJQUFJLENBQUNELElBQUksQ0FBQ0ssV0FBVyxJQUFJLEdBQUcsR0FBR0MsSUFBSSxDQUFDQyxHQUFHLENBQUUsSUFBSSxDQUFDUCxJQUFJLENBQUNRLGlCQUFrQixDQUFDLEVBQUc7TUFDNUUsSUFBSSxDQUFDQyxTQUFTLEdBQUdDLGNBQWMsQ0FBRSxJQUFJLENBQUNWLElBQUksRUFBRSxJQUFJLENBQUNFLGtCQUFtQixDQUFDO0lBQ3ZFLENBQUMsTUFDSTtN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