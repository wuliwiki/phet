// Copyright 2022-2023, University of Colorado Boulder

/**
 * Scenery Node that displays a representation of curve mode being manipulated by slider
 *
 * @author Martin Veillette
 */

import CurveNode from './CurveNode.js';
import calculusGrapher from '../../calculusGrapher.js';
import CalculusGrapherConstants from '../CalculusGrapherConstants.js';
import ChartTransform from '../../../../bamboo/js/ChartTransform.js';
import ChartRectangle from '../../../../bamboo/js/ChartRectangle.js';
import CurveManipulationMode from '../model/CurveManipulationMode.js';
import TransformedCurve from '../model/TransformedCurve.js';
import Multilink from '../../../../axon/js/Multilink.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import { Node } from '../../../../scenery/js/imports.js';
import CalculusGrapherColors from '../CalculusGrapherColors.js';
import CurveManipulationIconNode from './CurveManipulationIconNode.js';
export default class CurveManipulationDisplayNode extends Node {
  constructor(curveManipulationProperties, curveManipulationStroke, tandem) {
    const curve = new TransformedCurve({
      numberOfPoints: 300,
      xRange: CalculusGrapherConstants.CURVE_X_RANGE,
      // The curve for CurveManipulationDisplayNode is not instrumented. If you decide to instrument in the future,
      // be aware that instrumenting has performance implications, and it's not sufficient to simply add a tandem here.
      // Proceed with caution!
      tandem: Tandem.OPT_OUT
    });

    // chart transform for the curve
    const chartTransform = new ChartTransform({
      viewWidth: 100,
      viewHeight: 40,
      modelXRange: CalculusGrapherConstants.CURVE_X_RANGE,
      modelYRange: CalculusGrapherConstants.CURVE_MANIPULATION_Y_RANGE
    });
    const chartRectangle = new ChartRectangle(chartTransform);
    const curveNode = new CurveNode(curve, chartTransform, {
      renderer: 'canvas',
      // address aliasing on iPad, see https://github.com/phetsims/calculus-grapher/issues/242
      clipArea: chartRectangle.getShape(),
      stroke: curveManipulationStroke,
      discontinuousPointsFill: CalculusGrapherColors.panelFillProperty,
      tandem: tandem.createTandem('curveNode')
    });
    super({
      children: [chartRectangle, curveNode],
      tandem: tandem
    });

    // convenience variables for drawing curves, making sure the
    // curves will not be clipped  (see #89)
    const verticalMargin = 0.25;
    const xCenter = chartTransform.modelXRange.getCenter();
    const xMax = chartTransform.modelXRange.getMax();
    const yMax = chartTransform.modelYRange.getMax() - verticalMargin;
    const yMin = chartTransform.modelYRange.getMin() + verticalMargin;
    assert && assert(yMax > yMin, 'yMax value should be greater than yMin');
    Multilink.multilink([curveManipulationProperties.modeProperty, curveManipulationProperties.widthProperty], (mode, width) => {
      curve.reset();
      if (mode === CurveManipulationMode.HILL) {
        curve.hill(width, xCenter, yMax);
        curve.shift(0, -yMax / 2);
      } else if (mode === CurveManipulationMode.TRIANGLE) {
        curve.triangle(width, xCenter, yMax);
        curve.shift(0, -yMax / 2);
      } else if (mode === CurveManipulationMode.PEDESTAL) {
        curve.pedestal(width, xCenter, yMax);
        curve.shift(0, -yMax / 2);
      } else if (mode === CurveManipulationMode.PARABOLA) {
        curve.parabola(width, xCenter, yMax);
        curve.shift(0, -yMax / 2);
      } else if (mode === CurveManipulationMode.SINUSOID) {
        curve.sinusoid(width, xCenter, -yMax);
      } else if (mode === CurveManipulationMode.FREEFORM) {
        CurveManipulationIconNode.freeformIconCurve(curve, yMin, 2 * yMax);
        curve.shift(0, -yMax);
      } else if (mode === CurveManipulationMode.TILT) {
        curve.tilt(xMax, 2 * yMax);
        curve.shift(0, -yMax);
      } else if (mode === CurveManipulationMode.SHIFT) {
        curve.shift(xMax, yMin);
      } else {
        throw new Error(`unsupported mode: ${mode}`);
      }
      curve.curveChangedEmitter.emit();
    });
  }
}
calculusGrapher.register('CurveManipulationDisplayNode', CurveManipulationDisplayNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDdXJ2ZU5vZGUiLCJjYWxjdWx1c0dyYXBoZXIiLCJDYWxjdWx1c0dyYXBoZXJDb25zdGFudHMiLCJDaGFydFRyYW5zZm9ybSIsIkNoYXJ0UmVjdGFuZ2xlIiwiQ3VydmVNYW5pcHVsYXRpb25Nb2RlIiwiVHJhbnNmb3JtZWRDdXJ2ZSIsIk11bHRpbGluayIsIlRhbmRlbSIsIk5vZGUiLCJDYWxjdWx1c0dyYXBoZXJDb2xvcnMiLCJDdXJ2ZU1hbmlwdWxhdGlvbkljb25Ob2RlIiwiQ3VydmVNYW5pcHVsYXRpb25EaXNwbGF5Tm9kZSIsImNvbnN0cnVjdG9yIiwiY3VydmVNYW5pcHVsYXRpb25Qcm9wZXJ0aWVzIiwiY3VydmVNYW5pcHVsYXRpb25TdHJva2UiLCJ0YW5kZW0iLCJjdXJ2ZSIsIm51bWJlck9mUG9pbnRzIiwieFJhbmdlIiwiQ1VSVkVfWF9SQU5HRSIsIk9QVF9PVVQiLCJjaGFydFRyYW5zZm9ybSIsInZpZXdXaWR0aCIsInZpZXdIZWlnaHQiLCJtb2RlbFhSYW5nZSIsIm1vZGVsWVJhbmdlIiwiQ1VSVkVfTUFOSVBVTEFUSU9OX1lfUkFOR0UiLCJjaGFydFJlY3RhbmdsZSIsImN1cnZlTm9kZSIsInJlbmRlcmVyIiwiY2xpcEFyZWEiLCJnZXRTaGFwZSIsInN0cm9rZSIsImRpc2NvbnRpbnVvdXNQb2ludHNGaWxsIiwicGFuZWxGaWxsUHJvcGVydHkiLCJjcmVhdGVUYW5kZW0iLCJjaGlsZHJlbiIsInZlcnRpY2FsTWFyZ2luIiwieENlbnRlciIsImdldENlbnRlciIsInhNYXgiLCJnZXRNYXgiLCJ5TWF4IiwieU1pbiIsImdldE1pbiIsImFzc2VydCIsIm11bHRpbGluayIsIm1vZGVQcm9wZXJ0eSIsIndpZHRoUHJvcGVydHkiLCJtb2RlIiwid2lkdGgiLCJyZXNldCIsIkhJTEwiLCJoaWxsIiwic2hpZnQiLCJUUklBTkdMRSIsInRyaWFuZ2xlIiwiUEVERVNUQUwiLCJwZWRlc3RhbCIsIlBBUkFCT0xBIiwicGFyYWJvbGEiLCJTSU5VU09JRCIsInNpbnVzb2lkIiwiRlJFRUZPUk0iLCJmcmVlZm9ybUljb25DdXJ2ZSIsIlRJTFQiLCJ0aWx0IiwiU0hJRlQiLCJFcnJvciIsImN1cnZlQ2hhbmdlZEVtaXR0ZXIiLCJlbWl0IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJDdXJ2ZU1hbmlwdWxhdGlvbkRpc3BsYXlOb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIyLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFNjZW5lcnkgTm9kZSB0aGF0IGRpc3BsYXlzIGEgcmVwcmVzZW50YXRpb24gb2YgY3VydmUgbW9kZSBiZWluZyBtYW5pcHVsYXRlZCBieSBzbGlkZXJcclxuICpcclxuICogQGF1dGhvciBNYXJ0aW4gVmVpbGxldHRlXHJcbiAqL1xyXG5cclxuaW1wb3J0IEN1cnZlTm9kZSBmcm9tICcuL0N1cnZlTm9kZS5qcyc7XHJcbmltcG9ydCBjYWxjdWx1c0dyYXBoZXIgZnJvbSAnLi4vLi4vY2FsY3VsdXNHcmFwaGVyLmpzJztcclxuaW1wb3J0IENhbGN1bHVzR3JhcGhlckNvbnN0YW50cyBmcm9tICcuLi9DYWxjdWx1c0dyYXBoZXJDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgQ2hhcnRUcmFuc2Zvcm0gZnJvbSAnLi4vLi4vLi4vLi4vYmFtYm9vL2pzL0NoYXJ0VHJhbnNmb3JtLmpzJztcclxuaW1wb3J0IENoYXJ0UmVjdGFuZ2xlIGZyb20gJy4uLy4uLy4uLy4uL2JhbWJvby9qcy9DaGFydFJlY3RhbmdsZS5qcyc7XHJcbmltcG9ydCBDdXJ2ZU1hbmlwdWxhdGlvbk1vZGUgZnJvbSAnLi4vbW9kZWwvQ3VydmVNYW5pcHVsYXRpb25Nb2RlLmpzJztcclxuaW1wb3J0IFRyYW5zZm9ybWVkQ3VydmUgZnJvbSAnLi4vbW9kZWwvVHJhbnNmb3JtZWRDdXJ2ZS5qcyc7XHJcbmltcG9ydCBNdWx0aWxpbmsgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9NdWx0aWxpbmsuanMnO1xyXG5pbXBvcnQgQ3VydmVNYW5pcHVsYXRpb25Qcm9wZXJ0aWVzIGZyb20gJy4uL21vZGVsL0N1cnZlTWFuaXB1bGF0aW9uUHJvcGVydGllcy5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCB7IE5vZGUsIFRDb2xvciB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBDYWxjdWx1c0dyYXBoZXJDb2xvcnMgZnJvbSAnLi4vQ2FsY3VsdXNHcmFwaGVyQ29sb3JzLmpzJztcclxuaW1wb3J0IEN1cnZlTWFuaXB1bGF0aW9uSWNvbk5vZGUgZnJvbSAnLi9DdXJ2ZU1hbmlwdWxhdGlvbkljb25Ob2RlLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1cnZlTWFuaXB1bGF0aW9uRGlzcGxheU5vZGUgZXh0ZW5kcyBOb2RlIHtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBjdXJ2ZU1hbmlwdWxhdGlvblByb3BlcnRpZXM6IEN1cnZlTWFuaXB1bGF0aW9uUHJvcGVydGllcyxcclxuICAgICAgICAgICAgICAgICAgICAgIGN1cnZlTWFuaXB1bGF0aW9uU3Ryb2tlOiBUQ29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0YW5kZW06IFRhbmRlbSApIHtcclxuXHJcbiAgICBjb25zdCBjdXJ2ZSA9IG5ldyBUcmFuc2Zvcm1lZEN1cnZlKCB7XHJcbiAgICAgIG51bWJlck9mUG9pbnRzOiAzMDAsXHJcbiAgICAgIHhSYW5nZTogQ2FsY3VsdXNHcmFwaGVyQ29uc3RhbnRzLkNVUlZFX1hfUkFOR0UsXHJcblxyXG4gICAgICAvLyBUaGUgY3VydmUgZm9yIEN1cnZlTWFuaXB1bGF0aW9uRGlzcGxheU5vZGUgaXMgbm90IGluc3RydW1lbnRlZC4gSWYgeW91IGRlY2lkZSB0byBpbnN0cnVtZW50IGluIHRoZSBmdXR1cmUsXHJcbiAgICAgIC8vIGJlIGF3YXJlIHRoYXQgaW5zdHJ1bWVudGluZyBoYXMgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLCBhbmQgaXQncyBub3Qgc3VmZmljaWVudCB0byBzaW1wbHkgYWRkIGEgdGFuZGVtIGhlcmUuXHJcbiAgICAgIC8vIFByb2NlZWQgd2l0aCBjYXV0aW9uIVxyXG4gICAgICB0YW5kZW06IFRhbmRlbS5PUFRfT1VUXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gY2hhcnQgdHJhbnNmb3JtIGZvciB0aGUgY3VydmVcclxuICAgIGNvbnN0IGNoYXJ0VHJhbnNmb3JtID0gbmV3IENoYXJ0VHJhbnNmb3JtKCB7XHJcbiAgICAgIHZpZXdXaWR0aDogMTAwLFxyXG4gICAgICB2aWV3SGVpZ2h0OiA0MCxcclxuICAgICAgbW9kZWxYUmFuZ2U6IENhbGN1bHVzR3JhcGhlckNvbnN0YW50cy5DVVJWRV9YX1JBTkdFLFxyXG4gICAgICBtb2RlbFlSYW5nZTogQ2FsY3VsdXNHcmFwaGVyQ29uc3RhbnRzLkNVUlZFX01BTklQVUxBVElPTl9ZX1JBTkdFXHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgY2hhcnRSZWN0YW5nbGUgPSBuZXcgQ2hhcnRSZWN0YW5nbGUoIGNoYXJ0VHJhbnNmb3JtICk7XHJcblxyXG4gICAgY29uc3QgY3VydmVOb2RlID0gbmV3IEN1cnZlTm9kZSggY3VydmUsIGNoYXJ0VHJhbnNmb3JtLCB7XHJcbiAgICAgIHJlbmRlcmVyOiAnY2FudmFzJywgLy8gYWRkcmVzcyBhbGlhc2luZyBvbiBpUGFkLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL2NhbGN1bHVzLWdyYXBoZXIvaXNzdWVzLzI0MlxyXG4gICAgICBjbGlwQXJlYTogY2hhcnRSZWN0YW5nbGUuZ2V0U2hhcGUoKSxcclxuICAgICAgc3Ryb2tlOiBjdXJ2ZU1hbmlwdWxhdGlvblN0cm9rZSxcclxuICAgICAgZGlzY29udGludW91c1BvaW50c0ZpbGw6IENhbGN1bHVzR3JhcGhlckNvbG9ycy5wYW5lbEZpbGxQcm9wZXJ0eSxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnY3VydmVOb2RlJyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgc3VwZXIoIHtcclxuICAgICAgY2hpbGRyZW46IFsgY2hhcnRSZWN0YW5nbGUsIGN1cnZlTm9kZSBdLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGNvbnZlbmllbmNlIHZhcmlhYmxlcyBmb3IgZHJhd2luZyBjdXJ2ZXMsIG1ha2luZyBzdXJlIHRoZVxyXG4gICAgLy8gY3VydmVzIHdpbGwgbm90IGJlIGNsaXBwZWQgIChzZWUgIzg5KVxyXG4gICAgY29uc3QgdmVydGljYWxNYXJnaW4gPSAwLjI1O1xyXG4gICAgY29uc3QgeENlbnRlciA9IGNoYXJ0VHJhbnNmb3JtLm1vZGVsWFJhbmdlLmdldENlbnRlcigpO1xyXG4gICAgY29uc3QgeE1heCA9IGNoYXJ0VHJhbnNmb3JtLm1vZGVsWFJhbmdlLmdldE1heCgpO1xyXG4gICAgY29uc3QgeU1heCA9IGNoYXJ0VHJhbnNmb3JtLm1vZGVsWVJhbmdlLmdldE1heCgpIC0gdmVydGljYWxNYXJnaW47XHJcbiAgICBjb25zdCB5TWluID0gY2hhcnRUcmFuc2Zvcm0ubW9kZWxZUmFuZ2UuZ2V0TWluKCkgKyB2ZXJ0aWNhbE1hcmdpbjtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIHlNYXggPiB5TWluLCAneU1heCB2YWx1ZSBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIHlNaW4nICk7XHJcblxyXG4gICAgTXVsdGlsaW5rLm11bHRpbGluayhcclxuICAgICAgWyBjdXJ2ZU1hbmlwdWxhdGlvblByb3BlcnRpZXMubW9kZVByb3BlcnR5LCBjdXJ2ZU1hbmlwdWxhdGlvblByb3BlcnRpZXMud2lkdGhQcm9wZXJ0eSBdLFxyXG4gICAgICAoIG1vZGUsIHdpZHRoICkgPT4ge1xyXG5cclxuICAgICAgICBjdXJ2ZS5yZXNldCgpO1xyXG5cclxuICAgICAgICBpZiAoIG1vZGUgPT09IEN1cnZlTWFuaXB1bGF0aW9uTW9kZS5ISUxMICkge1xyXG4gICAgICAgICAgY3VydmUuaGlsbCggd2lkdGgsIHhDZW50ZXIsIHlNYXggKTtcclxuICAgICAgICAgIGN1cnZlLnNoaWZ0KCAwLCAteU1heCAvIDIgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIG1vZGUgPT09IEN1cnZlTWFuaXB1bGF0aW9uTW9kZS5UUklBTkdMRSApIHtcclxuICAgICAgICAgIGN1cnZlLnRyaWFuZ2xlKCB3aWR0aCwgeENlbnRlciwgeU1heCApO1xyXG4gICAgICAgICAgY3VydmUuc2hpZnQoIDAsIC15TWF4IC8gMiApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICggbW9kZSA9PT0gQ3VydmVNYW5pcHVsYXRpb25Nb2RlLlBFREVTVEFMICkge1xyXG4gICAgICAgICAgY3VydmUucGVkZXN0YWwoIHdpZHRoLCB4Q2VudGVyLCB5TWF4ICk7XHJcbiAgICAgICAgICBjdXJ2ZS5zaGlmdCggMCwgLXlNYXggLyAyICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCBtb2RlID09PSBDdXJ2ZU1hbmlwdWxhdGlvbk1vZGUuUEFSQUJPTEEgKSB7XHJcbiAgICAgICAgICBjdXJ2ZS5wYXJhYm9sYSggd2lkdGgsIHhDZW50ZXIsIHlNYXggKTtcclxuICAgICAgICAgIGN1cnZlLnNoaWZ0KCAwLCAteU1heCAvIDIgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIG1vZGUgPT09IEN1cnZlTWFuaXB1bGF0aW9uTW9kZS5TSU5VU09JRCApIHtcclxuICAgICAgICAgIGN1cnZlLnNpbnVzb2lkKCB3aWR0aCwgeENlbnRlciwgLXlNYXggKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIG1vZGUgPT09IEN1cnZlTWFuaXB1bGF0aW9uTW9kZS5GUkVFRk9STSApIHtcclxuICAgICAgICAgIEN1cnZlTWFuaXB1bGF0aW9uSWNvbk5vZGUuZnJlZWZvcm1JY29uQ3VydmUoIGN1cnZlLCB5TWluLCAyICogeU1heCApO1xyXG4gICAgICAgICAgY3VydmUuc2hpZnQoIDAsIC15TWF4ICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCBtb2RlID09PSBDdXJ2ZU1hbmlwdWxhdGlvbk1vZGUuVElMVCApIHtcclxuICAgICAgICAgIGN1cnZlLnRpbHQoIHhNYXgsIDIgKiB5TWF4ICk7XHJcbiAgICAgICAgICBjdXJ2ZS5zaGlmdCggMCwgLXlNYXggKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIG1vZGUgPT09IEN1cnZlTWFuaXB1bGF0aW9uTW9kZS5TSElGVCApIHtcclxuICAgICAgICAgIGN1cnZlLnNoaWZ0KCB4TWF4LCB5TWluICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCBgdW5zdXBwb3J0ZWQgbW9kZTogJHttb2RlfWAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN1cnZlLmN1cnZlQ2hhbmdlZEVtaXR0ZXIuZW1pdCgpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuY2FsY3VsdXNHcmFwaGVyLnJlZ2lzdGVyKCAnQ3VydmVNYW5pcHVsYXRpb25EaXNwbGF5Tm9kZScsIEN1cnZlTWFuaXB1bGF0aW9uRGlzcGxheU5vZGUgKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFNBQVMsTUFBTSxnQkFBZ0I7QUFDdEMsT0FBT0MsZUFBZSxNQUFNLDBCQUEwQjtBQUN0RCxPQUFPQyx3QkFBd0IsTUFBTSxnQ0FBZ0M7QUFDckUsT0FBT0MsY0FBYyxNQUFNLHlDQUF5QztBQUNwRSxPQUFPQyxjQUFjLE1BQU0seUNBQXlDO0FBQ3BFLE9BQU9DLHFCQUFxQixNQUFNLG1DQUFtQztBQUNyRSxPQUFPQyxnQkFBZ0IsTUFBTSw4QkFBOEI7QUFDM0QsT0FBT0MsU0FBUyxNQUFNLGtD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