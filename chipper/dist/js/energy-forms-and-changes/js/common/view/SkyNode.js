// Copyright 2019-2022, University of Colorado Boulder

/**
 * A scenery node that represents a floating "sky" layer that fades in and out
 *
 * @author Chris Klusendorf (PhET Interactive Simulations)
 */

import { LinearGradient, Node, Rectangle } from '../../../../scenery/js/imports.js';
import energyFormsAndChanges from '../../energyFormsAndChanges.js';

// constants
const FADE_HEIGHT = 200; // height of the gradient regions of this node, in view coordinates

// colors
const TRANSPARENT_FILL = 'rgba( 255, 255, 255, 0 )';
const OPAQUE_FILL = 'white';
class SkyNode extends Node {
  /**
   * @param {Bounds2} layoutBounds - the layout bounds of the parent screen
   * @param {number} fullOpaqueYPosition - the y position at which this node should become completely opaque, in view coordinates
   * @param {Object} [options]
   */
  constructor(layoutBounds, fullOpaqueYPosition, options) {
    super(options);
    const transparentToOpaque = new LinearGradient(0, 0, 0, FADE_HEIGHT).addColorStop(0, OPAQUE_FILL).addColorStop(1, TRANSPARENT_FILL);
    const opaqueToTransparent = new LinearGradient(0, 0, 0, FADE_HEIGHT).addColorStop(0, TRANSPARENT_FILL).addColorStop(1, OPAQUE_FILL);

    // add a rectangle that fades in in the upward direction, and position it so that the top edge is right below
    // where energy chunks are removed from the screen. this gives the effect that they fade out completely before
    // they are removed
    const transparentToOpaqueRectangle = new Rectangle(0, 0, layoutBounds.width, FADE_HEIGHT, {
      fill: transparentToOpaque,
      centerX: layoutBounds.centerX,
      top: fullOpaqueYPosition
    });
    this.addChild(transparentToOpaqueRectangle);

    // add a solid rectangle
    const opaqueRectangle = new Rectangle(0, 0, layoutBounds.width, layoutBounds.height * 3, {
      fill: OPAQUE_FILL,
      centerX: transparentToOpaqueRectangle.centerX,
      bottom: transparentToOpaqueRectangle.top
    });
    this.addChild(opaqueRectangle);

    // add a rectangle that fades out
    const opaqueToTransparentRectangle = new Rectangle(0, 0, layoutBounds.width, FADE_HEIGHT, {
      fill: opaqueToTransparent,
      centerX: opaqueRectangle.centerX,
      bottom: opaqueRectangle.top
    });
    this.addChild(opaqueToTransparentRectangle);
  }
}
energyFormsAndChanges.register('SkyNode', SkyNode);
export default SkyNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMaW5lYXJHcmFkaWVudCIsIk5vZGUiLCJSZWN0YW5nbGUiLCJlbmVyZ3lGb3Jtc0FuZENoYW5nZXMiLCJGQURFX0hFSUdIVCIsIlRSQU5TUEFSRU5UX0ZJTEwiLCJPUEFRVUVfRklMTCIsIlNreU5vZGUiLCJjb25zdHJ1Y3RvciIsImxheW91dEJvdW5kcyIsImZ1bGxPcGFxdWVZUG9zaXRpb24iLCJvcHRpb25zIiwidHJhbnNwYXJlbnRUb09wYXF1ZSIsImFkZENvbG9yU3RvcCIsIm9wYXF1ZVRvVHJhbnNwYXJlbnQiLCJ0cmFuc3BhcmVudFRvT3BhcXVlUmVjdGFuZ2xlIiwid2lkdGgiLCJmaWxsIiwiY2VudGVyWCIsInRvcCIsImFkZENoaWxkIiwib3BhcXVlUmVjdGFuZ2xlIiwiaGVpZ2h0IiwiYm90dG9tIiwib3BhcXVlVG9UcmFuc3BhcmVudFJlY3RhbmdsZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiU2t5Tm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOS0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBBIHNjZW5lcnkgbm9kZSB0aGF0IHJlcHJlc2VudHMgYSBmbG9hdGluZyBcInNreVwiIGxheWVyIHRoYXQgZmFkZXMgaW4gYW5kIG91dFxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIEtsdXNlbmRvcmYgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGluZWFyR3JhZGllbnQsIE5vZGUsIFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBlbmVyZ3lGb3Jtc0FuZENoYW5nZXMgZnJvbSAnLi4vLi4vZW5lcmd5Rm9ybXNBbmRDaGFuZ2VzLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBGQURFX0hFSUdIVCA9IDIwMDsgLy8gaGVpZ2h0IG9mIHRoZSBncmFkaWVudCByZWdpb25zIG9mIHRoaXMgbm9kZSwgaW4gdmlldyBjb29yZGluYXRlc1xyXG5cclxuLy8gY29sb3JzXHJcbmNvbnN0IFRSQU5TUEFSRU5UX0ZJTEwgPSAncmdiYSggMjU1LCAyNTUsIDI1NSwgMCApJztcclxuY29uc3QgT1BBUVVFX0ZJTEwgPSAnd2hpdGUnO1xyXG5cclxuY2xhc3MgU2t5Tm9kZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0JvdW5kczJ9IGxheW91dEJvdW5kcyAtIHRoZSBsYXlvdXQgYm91bmRzIG9mIHRoZSBwYXJlbnQgc2NyZWVuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZ1bGxPcGFxdWVZUG9zaXRpb24gLSB0aGUgeSBwb3NpdGlvbiBhdCB3aGljaCB0aGlzIG5vZGUgc2hvdWxkIGJlY29tZSBjb21wbGV0ZWx5IG9wYXF1ZSwgaW4gdmlldyBjb29yZGluYXRlc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggbGF5b3V0Qm91bmRzLCBmdWxsT3BhcXVlWVBvc2l0aW9uLCBvcHRpb25zICkge1xyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcbiAgICBjb25zdCB0cmFuc3BhcmVudFRvT3BhcXVlID0gbmV3IExpbmVhckdyYWRpZW50KCAwLCAwLCAwLCBGQURFX0hFSUdIVCApXHJcbiAgICAgIC5hZGRDb2xvclN0b3AoIDAsIE9QQVFVRV9GSUxMIClcclxuICAgICAgLmFkZENvbG9yU3RvcCggMSwgVFJBTlNQQVJFTlRfRklMTCApO1xyXG4gICAgY29uc3Qgb3BhcXVlVG9UcmFuc3BhcmVudCA9IG5ldyBMaW5lYXJHcmFkaWVudCggMCwgMCwgMCwgRkFERV9IRUlHSFQgKVxyXG4gICAgICAuYWRkQ29sb3JTdG9wKCAwLCBUUkFOU1BBUkVOVF9GSUxMIClcclxuICAgICAgLmFkZENvbG9yU3RvcCggMSwgT1BBUVVFX0ZJTEwgKTtcclxuXHJcbiAgICAvLyBhZGQgYSByZWN0YW5nbGUgdGhhdCBmYWRlcyBpbiBpbiB0aGUgdXB3YXJkIGRpcmVjdGlvbiwgYW5kIHBvc2l0aW9uIGl0IHNvIHRoYXQgdGhlIHRvcCBlZGdlIGlzIHJpZ2h0IGJlbG93XHJcbiAgICAvLyB3aGVyZSBlbmVyZ3kgY2h1bmtzIGFyZSByZW1vdmVkIGZyb20gdGhlIHNjcmVlbi4gdGhpcyBnaXZlcyB0aGUgZWZmZWN0IHRoYXQgdGhleSBmYWRlIG91dCBjb21wbGV0ZWx5IGJlZm9yZVxyXG4gICAgLy8gdGhleSBhcmUgcmVtb3ZlZFxyXG4gICAgY29uc3QgdHJhbnNwYXJlbnRUb09wYXF1ZVJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoIDAsIDAsIGxheW91dEJvdW5kcy53aWR0aCwgRkFERV9IRUlHSFQsIHtcclxuICAgICAgICBmaWxsOiB0cmFuc3BhcmVudFRvT3BhcXVlLFxyXG4gICAgICAgIGNlbnRlclg6IGxheW91dEJvdW5kcy5jZW50ZXJYLFxyXG4gICAgICAgIHRvcDogZnVsbE9wYXF1ZVlQb3NpdGlvblxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdHJhbnNwYXJlbnRUb09wYXF1ZVJlY3RhbmdsZSApO1xyXG5cclxuICAgIC8vIGFkZCBhIHNvbGlkIHJlY3RhbmdsZVxyXG4gICAgY29uc3Qgb3BhcXVlUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSggMCwgMCwgbGF5b3V0Qm91bmRzLndpZHRoLCBsYXlvdXRCb3VuZHMuaGVpZ2h0ICogMywge1xyXG4gICAgICAgIGZpbGw6IE9QQVFVRV9GSUxMLFxyXG4gICAgICAgIGNlbnRlclg6IHRyYW5zcGFyZW50VG9PcGFxdWVSZWN0YW5nbGUuY2VudGVyWCxcclxuICAgICAgICBib3R0b206IHRyYW5zcGFyZW50VG9PcGFxdWVSZWN0YW5nbGUudG9wXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBvcGFxdWVSZWN0YW5nbGUgKTtcclxuXHJcbiAgICAvLyBhZGQgYSByZWN0YW5nbGUgdGhhdCBmYWRlcyBvdXRcclxuICAgIGNvbnN0IG9wYXF1ZVRvVHJhbnNwYXJlbnRSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKCAwLCAwLCBsYXlvdXRCb3VuZHMud2lkdGgsIEZBREVfSEVJR0hULCB7XHJcbiAgICAgICAgZmlsbDogb3BhcXVlVG9UcmFuc3BhcmVudCxcclxuICAgICAgICBjZW50ZXJYOiBvcGFxdWVSZWN0YW5nbGUuY2VudGVyWCxcclxuICAgICAgICBib3R0b206IG9wYXF1ZVJlY3RhbmdsZS50b3BcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIG9wYXF1ZVRvVHJhbnNwYXJlbnRSZWN0YW5nbGUgKTtcclxuICB9XHJcbn1cclxuXHJcbmVuZXJneUZvcm1zQW5kQ2hhbmdlcy5yZWdpc3RlciggJ1NreU5vZGUnLCBTa3lOb2RlICk7XHJcbmV4cG9ydCBkZWZhdWx0IFNreU5vZGU7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVNBLGNBQWMsRUFBRUMsSUFBSSxFQUFFQyxTQUFTLFFBQVEsbUNBQW1DO0FBQ25GLE9BQU9DLHFCQUFxQixNQUFNLGdDQUFnQzs7QUFFbEU7QUFDQSxNQUFNQyxXQUFXLEdBQUcsR0FBRyxDQUFDLENBQUM7O0FBRXpCO0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcsMEJBQTBCO0FBQ25ELE1BQU1DLFdBQVcsR0FBRyxPQUFPO0FBRTNCLE1BQU1DLE9BQU8sU0FBU04sSUFBSSxDQUFDO0VBRXpCO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRU8sV0FBV0EsQ0FBRUMsWUFBWSxFQUFFQyxtQkFBbUIsRUFBRUMsT0FBTyxFQUFHO0lBQ3hELEtBQUssQ0FBRUEsT0FBUSxDQUFDO0lBRWhCLE1BQU1DLG1CQUFtQixHQUFHLElBQUlaLGNBQWMsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRUksV0FBWSxDQUFDLENBQ25FUyxZQUFZLENBQUUsQ0FBQyxFQUFFUCxXQUFZLENBQUMsQ0FDOUJPLFlBQVksQ0FBRSxDQUFDLEVBQUVSLGdCQUFpQixDQUFDO0lBQ3RDLE1BQU1TLG1CQUFtQixHQUFHLElBQUlkLGNBQWMsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRUksV0FBWSxDQUFDLENBQ25FUyxZQUFZLENBQUUsQ0FBQyxFQUFFUixnQkFBaUIsQ0FBQyxDQUNuQ1EsWUFBWSxDQUFFLENBQUMsRUFBRVAsV0FBWSxDQUFDOztJQUVqQztJQUNBO0lBQ0E7SUFDQSxNQUFNUyw0QkFBNEIsR0FBRyxJQUFJYixTQUFTLENBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRU8sWUFBWSxDQUFDTyxLQUFLLEVBQUVaLFdBQVcsRUFBRTtNQUN2RmEsSUFBSSxFQUFFTCxtQkFBbUI7TUFDekJNLE9BQU8sRUFBRVQsWUFBWSxDQUFDUyxPQUFPO01BQzdCQyxHQUFHLEVBQUVUO0lBQ1AsQ0FDRixDQUFDO0lBQ0QsSUFBSSxDQUFDVSxRQUFRLENBQUVMLDRCQUE2QixDQUFDOztJQUU3QztJQUNBLE1BQU1NLGVBQWUsR0FBRyxJQUFJbkIsU0FBUyxDQUFFLENBQUMsRUFBRSxDQUFDLEVBQUVPLFlBQVksQ0FBQ08sS0FBSyxFQUFFUCxZQUFZLENBQUNhLE1BQU0sR0FBRyxDQUFDLEVBQUU7TUFDdEZMLElBQUksRUFBRVgsV0FBVztNQUNqQlksT0FBTyxFQUFFSCw0QkFBNEIsQ0FBQ0csT0FBTztNQUM3Q0ssTUFBTSxFQUFFUiw0QkFBNEIsQ0FBQ0k7SUFDdkMsQ0FDRixDQUFDO0lBQ0QsSUFBSSxDQUFDQyxRQUFRLENBQUVDLGVBQWdCLENBQUM7O0lBRWhDO0lBQ0EsTUFBTUcsNEJBQTRCLEdBQUcsSUFBSXRCLFNBQVMsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFTyxZQUFZLENBQUNPLEtBQUssRUFBRVosV0FBVyxFQUFFO01BQ3ZGYSxJQUFJLEVBQUVILG1CQUFtQjtNQUN6QkksT0FBTyxFQUFFRyxlQUFlLENBQUNILE9BQU87TUFDaENLLE1BQU0sRUFBRUYsZUFBZSxDQUFDRjtJQUMxQixDQUNGLENBQUM7SUFDRCxJQUFJLENBQUNDLFFBQVEsQ0FBRUksNEJBQTZCLENBQUM7RUFDL0M7QUFDRjtBQUVBckIscUJBQXFCLENBQUNzQixRQUFRLENBQUUsU0FBUyxFQUFFbEIsT0FBUSxDQUFDO0FBQ3BELGVBQWVBLE9BQU8ifQ==