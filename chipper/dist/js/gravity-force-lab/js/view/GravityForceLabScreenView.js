// Copyright 2013-2023, University of Colorado Boulder

/**
 * The ScreenView that displays the gravity force lab screen.
 *
 * @author Anton Ulyanov (Mlearner)
 * @author Aadish Gupta (PhET Interactive Simulations)
 * @author Sam Reid (PhET Interactive Simulations)
 */

import DerivedProperty from '../../../axon/js/DerivedProperty.js';
import Bounds2 from '../../../dot/js/Bounds2.js';
import Range from '../../../dot/js/Range.js';
import Vector2 from '../../../dot/js/Vector2.js';
import InverseSquareLawCommonStrings from '../../../inverse-square-law-common/js/InverseSquareLawCommonStrings.js';
import ISLCQueryParameters from '../../../inverse-square-law-common/js/ISLCQueryParameters.js';
import DefaultDirection from '../../../inverse-square-law-common/js/view/DefaultDirection.js';
import ISLCGridNode from '../../../inverse-square-law-common/js/view/ISLCGridNode.js';
import ISLCObjectEnum from '../../../inverse-square-law-common/js/model/ISLCObjectEnum.js';
import ISLCRulerNode from '../../../inverse-square-law-common/js/view/ISLCRulerNode.js';
import ISLCRulerRegionsNode from '../../../inverse-square-law-common/js/view/ISLCRulerRegionsNode.js';
import ScreenView from '../../../joist/js/ScreenView.js';
import ModelViewTransform2 from '../../../phetcommon/js/view/ModelViewTransform2.js';
import ResetAllButton from '../../../scenery-phet/js/buttons/ResetAllButton.js';
import { Node, Voicing } from '../../../scenery/js/imports.js';
import ContinuousPropertySoundGenerator from '../../../tambo/js/sound-generators/ContinuousPropertySoundGenerator.js';
import SoundLevelEnum from '../../../tambo/js/SoundLevelEnum.js';
import soundManager from '../../../tambo/js/soundManager.js';
import saturatedSineLoopTrimmed_wav from '../../sounds/saturatedSineLoopTrimmed_wav.js';
import gravityForceLab from '../gravityForceLab.js';
import GravityForceLabConstants from '../GravityForceLabConstants.js';
import GravityForceLabStrings from '../GravityForceLabStrings.js';
import GravityForceLabForceDescriber from './describers/GravityForceLabForceDescriber.js';
import GravityForceLabPositionDescriber from './describers/GravityForceLabPositionDescriber.js';
import GravityForceLabRulerAlerter from './describers/GravityForceLabRulerAlerter.js';
import MassDescriber from './describers/MassDescriber.js';
import GravityForceLabAlertManager from './GravityForceLabAlertManager.js';
import GravityForceLabControlPanel from './GravityForceLabControlPanel.js';
import GravityForceLabScreenSummaryNode from './GravityForceLabScreenSummaryNode.js';
import MassBoundarySoundGenerator from './MassBoundarySoundGenerator.js';
import MassControl from './MassControl.js';
import MassDescriptionNode from './MassDescriptionNode.js';
import MassNode from './MassNode.js';
import MassSoundGenerator from './MassSoundGenerator.js';
import SpherePositionsDescriptionNode from './SpherePositionsDescriptionNode.js';
const mass1AbbreviatedString = GravityForceLabStrings.mass1Abbreviated;
const mass1String = GravityForceLabStrings.mass1;
const mass2AbbreviatedString = GravityForceLabStrings.mass2Abbreviated;
const mass2String = GravityForceLabStrings.mass2;
const unitsMetersString = InverseSquareLawCommonStrings.units.meters;
const massControlsLabelString = GravityForceLabStrings.a11y.controls.massControlsLabel;
const massControlsHelpTextString = GravityForceLabStrings.a11y.controls.massControlsHelpText;
const massControlsHelpTextDensityString = GravityForceLabStrings.a11y.controls.massControlsHelpTextDensity;

// constants
const SHOW_GRID = ISLCQueryParameters.showGrid;
const SHOW_RULER_REGIONS = ISLCQueryParameters.showRulerRegions;
const OBJECT_ONE = ISLCObjectEnum.OBJECT_ONE;
const OBJECT_TWO = ISLCObjectEnum.OBJECT_TWO;
const BOUNDARY_SOUNDS_LEVEL = 1;
const MASS_SOUND_LEVEL = 0.7;
const MASS_SOUND_THRESHOLDS = [10, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000];
class GravityForceLabScreenView extends ScreenView {
  constructor(model, tandem) {
    // force text isn't retrieved directly in the screenview, we simply initialize and access it in various Nodes
    const positionDescriber = new GravityForceLabPositionDescriber(model, mass1AbbreviatedString, mass2AbbreviatedString);
    const forceDescriber = new GravityForceLabForceDescriber(model, mass1AbbreviatedString, mass2AbbreviatedString, positionDescriber);
    const massDescriber = new MassDescriber(model, forceDescriber);
    super({
      layoutBounds: new Bounds2(0, 0, 768, 464),
      screenSummaryContent: new GravityForceLabScreenSummaryNode(model, massDescriber, forceDescriber, positionDescriber),
      tandem: tandem
    });
    const alertManager = new GravityForceLabAlertManager(model, massDescriber, forceDescriber, {
      descriptionAlertNode: this
    });

    // Create the model-view transform.  The primary units used in the model are meters, so significant zoom is used.
    // The multipliers for the 2nd parameter can be used to adjust where the point (0, 0) in the model, which is
    // between the two masses.
    const modelViewTransform = ModelViewTransform2.createSinglePointScaleInvertedYMapping(Vector2.ZERO, new Vector2(this.layoutBounds.width / 2, this.layoutBounds.height / 2), 50);

    // add the mass nodes to the screen
    const mass1Node = new MassNode(model, model.object1, this.layoutBounds, modelViewTransform, alertManager, forceDescriber, positionDescriber, {
      label: mass1AbbreviatedString,
      otherObjectLabel: mass2AbbreviatedString,
      defaultDirection: DefaultDirection.LEFT,
      arrowColor: '#66f',
      forceArrowHeight: 85,
      tandem: tandem.createTandem('mass1Node')
    });
    const mass2Node = new MassNode(model, model.object2, this.layoutBounds, modelViewTransform, alertManager, forceDescriber, positionDescriber, {
      label: mass2AbbreviatedString,
      otherObjectLabel: mass1AbbreviatedString,
      defaultDirection: DefaultDirection.RIGHT,
      arrowColor: '#f66',
      forceArrowHeight: 135,
      tandem: tandem.createTandem('mass2Node')
    });
    const massPositionsNode = new SpherePositionsDescriptionNode(model, positionDescriber);
    massPositionsNode.addChild(mass1Node);
    massPositionsNode.addChild(mass2Node);
    const massControlsNode = new Node({
      labelTagName: 'h3',
      labelContent: massControlsLabelString,
      tagName: 'div',
      descriptionContent: massControlsHelpTextString
    });

    // a list of Properties to that, when changed, should trigger an update in descriptions in the MassControl
    const propertiesToMonitorForDescriptionChanges = [model.forceProperty, model.constantRadiusProperty];

    // mass controls
    const massControl1 = new MassControl(mass1String, model.object1.valueProperty, GravityForceLabConstants.MASS_RANGE, GravityForceLabConstants.MASS_BLUE_COLOR, OBJECT_ONE, propertiesToMonitorForDescriptionChanges, alertManager, massDescriber, tandem.createTandem('massControl1'));
    massControlsNode.addChild(massControl1);
    const massControl2 = new MassControl(mass2String, model.object2.valueProperty, GravityForceLabConstants.MASS_RANGE, GravityForceLabConstants.MASS_RED_COLOR, OBJECT_TWO, propertiesToMonitorForDescriptionChanges, alertManager, massDescriber, tandem.createTandem('massControl2'));
    massControlsNode.addChild(massControl2);
    model.constantRadiusProperty.link(constantRadius => {
      massControlsNode.descriptionContent = constantRadius ? massControlsHelpTextDensityString : massControlsHelpTextString;
    });
    const parameterControlPanel = new GravityForceLabControlPanel(model, {
      tandem: tandem.createTandem('parameterControlPanel'),
      fill: '#FDF498',
      xMargin: 10,
      yMargin: 10,
      minWidth: 150,
      align: 'left'
    });
    const resetAllButton = new ResetAllButton({
      listener: () => {
        model.reset();
        gravityForceLabRuler.reset();
        this.forceSoundGenerator.reset();
        rulerDescriber.reset();
      },
      scale: 0.81,
      tandem: tandem.createTandem('resetAllButton')
    });

    // positioning the nodes
    // Do this before the ruler, so the ruler can have the correct region positions
    resetAllButton.bottom = this.layoutBounds.bottom - 7.4;
    resetAllButton.right = this.layoutBounds.width - 15;
    parameterControlPanel.right = resetAllButton.left - 15;
    parameterControlPanel.bottom = resetAllButton.bottom;
    massControl2.top = massControl1.top = parameterControlPanel.top;
    massControl2.right = parameterControlPanel.left - 35;
    massControl1.right = massControl2.left - 35;

    // create down here because it needs positions of other items in the screen view
    const rulerRegionPositions = [mass2Node.top, mass1Node.top, mass1Node.localToGlobalPoint(mass1Node.centerPoint.center).y - 20, mass1Node.localToGlobalPoint(mass1Node.centerPoint.center).y + 20, mass1Node.localToGlobalPoint(new Vector2(0, mass1Node.dragNode.bottom)).y, massControl1.top, this.layoutBounds.bottom];
    const rulerDescriber = new GravityForceLabRulerAlerter(model, mass1AbbreviatedString, mass2AbbreviatedString, modelViewTransform, rulerRegionPositions, positionDescriber, {
      descriptionAlertNode: this // Use the ScreenView to alert description
    });

    // ruler drag bounds (in model coordinate frame) - assumes a single point scale inverted Y mapping
    const minX = model.leftObjectBoundary;
    const minY = modelViewTransform.viewToModelY(massControl2.top + 10); // bottom bound because Y is inverted
    const maxX = model.rightObjectBoundary;
    const maxY = -modelViewTransform.viewToModelDeltaY(this.layoutBounds.height / 2); // top bound because Y is inverted

    // @private - added to object for animation stepping
    const gravityForceLabRuler = new ISLCRulerNode(model.rulerPositionProperty, new Bounds2(minX, minY, maxX, maxY), modelViewTransform, () => model.object1.positionProperty.value,
    // wrap this in a closure instead of exposing this all to the ruler.
    rulerDescriber, {
      tandem: tandem.createTandem('rulerNode'),
      phetioInputEnabledPropertyInstrumented: true,
      unitString: unitsMetersString,
      backgroundFill: 'rgb(236, 225, 113)',
      snapToNearest: GravityForceLabConstants.POSITION_SNAP_VALUE
    });

    // child order
    this.children = [massPositionsNode,
    // the arrows and their labels should be above both masses (and their markers) but below
    // the ruler and control panels
    mass1Node.arrowNode, mass2Node.arrowNode, gravityForceLabRuler, massControlsNode, parameterControlPanel, resetAllButton];

    // pdom
    const mass1DescriptionNode = new MassDescriptionNode(model, model.object1, massDescriber, forceDescriber, positionDescriber);
    const mass2DescriptionNode = new MassDescriptionNode(model, model.object2, massDescriber, forceDescriber, positionDescriber);
    this.addChild(mass1DescriptionNode);
    this.addChild(mass2DescriptionNode);
    this.pdomPlayAreaNode.pdomOrder = [mass1DescriptionNode, mass2DescriptionNode, massPositionsNode, mass1Node.arrowNode, mass2Node.arrowNode, massControlsNode, gravityForceLabRuler];
    this.pdomControlAreaNode.pdomOrder = [parameterControlPanel, resetAllButton];
    if (SHOW_GRID) {
      const gridNode = new ISLCGridNode(GravityForceLabConstants.POSITION_SNAP_VALUE, this.layoutBounds, modelViewTransform, {
        stroke: 'rgba( 250, 100, 100, 0.6 )'
      });
      this.addChild(gridNode);
    }
    if (SHOW_RULER_REGIONS) {
      const gridNode = new ISLCRulerRegionsNode(rulerRegionPositions, this.layoutBounds);
      this.addChild(gridNode);
    }
    mass1Node.addInputListener({
      focus: () => {
        positionDescriber.lastMoveCloser = null;
      }
    });
    mass2Node.addInputListener({
      focus: () => {
        positionDescriber.lastMoveCloser = null;
      }
    });

    // voicing - Make sure that the Utterances from Alerters only announce when the content under this ScreenView
    // is visible
    Voicing.registerUtteranceToNode(alertManager.constantSizeChangedContextResponseUtterance, this);

    // @private - sound generation for the force sound
    this.forceSoundGenerator = new ContinuousPropertySoundGenerator(model.forceProperty, saturatedSineLoopTrimmed_wav, new Range(model.getMinForce(), model.getMaxForce()), {
      initialOutputLevel: 0.15,
      resetInProgressProperty: resetAllButton.buttonModel.isFiringProperty,
      trimSilence: false // a very precise sound file is used, so make sure it doesn't get changed
    });

    soundManager.addSoundGenerator(this.forceSoundGenerator);

    // sound generation for the mass values
    const massSliderDraggingViaPointer = new DerivedProperty([massControl1.sliderDragStateProperty, massControl2.sliderDragStateProperty], (massControl1SliderDragState, massControl2SliderDragState) => {
      return massControl1SliderDragState === MassControl.SliderDragState.DRAGGING_VIA_POINTER || massControl2SliderDragState === MassControl.SliderDragState.DRAGGING_VIA_POINTER;
    });
    soundManager.addSoundGenerator(new MassSoundGenerator(model.object1.valueProperty, GravityForceLabConstants.MASS_RANGE, resetAllButton.buttonModel.isFiringProperty, {
      initialOutputLevel: MASS_SOUND_LEVEL,
      playBasedOnThresholdsProperty: massSliderDraggingViaPointer,
      thresholdValues: MASS_SOUND_THRESHOLDS
    }), {
      sonificationLevel: SoundLevelEnum.EXTRA
    });
    soundManager.addSoundGenerator(new MassSoundGenerator(model.object2.valueProperty, GravityForceLabConstants.MASS_RANGE, resetAllButton.buttonModel.isFiringProperty, {
      initialOutputLevel: MASS_SOUND_LEVEL,
      playBasedOnThresholdsProperty: massSliderDraggingViaPointer,
      thresholdValues: MASS_SOUND_THRESHOLDS
    }), {
      sonificationLevel: SoundLevelEnum.EXTRA
    });

    // sound generation for masses reaching the inner or outer motion boundaries
    soundManager.addSoundGenerator(new MassBoundarySoundGenerator(model.object1, model, 'left', {
      initialOutputLevel: BOUNDARY_SOUNDS_LEVEL
    }));
    soundManager.addSoundGenerator(new MassBoundarySoundGenerator(model.object2, model, 'right', {
      initialOutputLevel: BOUNDARY_SOUNDS_LEVEL
    }));
  }

  /**
   * step the view
   * @param {number} dt
   * @public
   */
  step(dt) {
    this.forceSoundGenerator.step(dt);
  }
}
gravityForceLab.register('GravityForceLabScreenView', GravityForceLabScreenView);
export default GravityForceLabScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJCb3VuZHMyIiwiUmFuZ2UiLCJWZWN0b3IyIiwiSW52ZXJzZVNxdWFyZUxhd0NvbW1vblN0cmluZ3MiLCJJU0xDUXVlcnlQYXJhbWV0ZXJzIiwiRGVmYXVsdERpcmVjdGlvbiIsIklTTENHcmlkTm9kZSIsIklTTENPYmplY3RFbnVtIiwiSVNMQ1J1bGVyTm9kZSIsIklTTENSdWxlclJlZ2lvbnNOb2RlIiwiU2NyZWVuVmlldyIsIk1vZGVsVmlld1RyYW5zZm9ybTIiLCJSZXNldEFsbEJ1dHRvbiIsIk5vZGUiLCJWb2ljaW5nIiwiQ29udGludW91c1Byb3BlcnR5U291bmRHZW5lcmF0b3IiLCJTb3VuZExldmVsRW51bSIsInNvdW5kTWFuYWdlciIsInNhdHVyYXRlZFNpbmVMb29wVHJpbW1lZF93YXYiLCJncmF2aXR5Rm9yY2VMYWIiLCJHcmF2aXR5Rm9yY2VMYWJDb25zdGFudHMiLCJHcmF2aXR5Rm9yY2VMYWJTdHJpbmdzIiwiR3Jhdml0eUZvcmNlTGFiRm9yY2VEZXNjcmliZXIiLCJHcmF2aXR5Rm9yY2VMYWJQb3NpdGlvbkRlc2NyaWJlciIsIkdyYXZpdHlGb3JjZUxhYlJ1bGVyQWxlcnRlciIsIk1hc3NEZXNjcmliZXIiLCJHcmF2aXR5Rm9yY2VMYWJBbGVydE1hbmFnZXIiLCJHcmF2aXR5Rm9yY2VMYWJDb250cm9sUGFuZWwiLCJHcmF2aXR5Rm9yY2VMYWJTY3JlZW5TdW1tYXJ5Tm9kZSIsIk1hc3NCb3VuZGFyeVNvdW5kR2VuZXJhdG9yIiwiTWFzc0NvbnRyb2wiLCJNYXNzRGVzY3JpcHRpb25Ob2RlIiwiTWFzc05vZGUiLCJNYXNzU291bmRHZW5lcmF0b3IiLCJTcGhlcmVQb3NpdGlvbnNEZXNjcmlwdGlvbk5vZGUiLCJtYXNzMUFiYnJldmlhdGVkU3RyaW5nIiwibWFzczFBYmJyZXZpYXRlZCIsIm1hc3MxU3RyaW5nIiwibWFzczEiLCJtYXNzMkFiYnJldmlhdGVkU3RyaW5nIiwibWFzczJBYmJyZXZpYXRlZCIsIm1hc3MyU3RyaW5nIiwibWFzczIiLCJ1bml0c01ldGVyc1N0cmluZyIsInVuaXRzIiwibWV0ZXJzIiwibWFzc0NvbnRyb2xzTGFiZWxTdHJpbmciLCJhMTF5IiwiY29udHJvbHMiLCJtYXNzQ29udHJvbHNMYWJlbCIsIm1hc3NDb250cm9sc0hlbHBUZXh0U3RyaW5nIiwibWFzc0NvbnRyb2xzSGVscFRleHQiLCJtYXNzQ29udHJvbHNIZWxwVGV4dERlbnNpdHlTdHJpbmciLCJtYXNzQ29udHJvbHNIZWxwVGV4dERlbnNpdHkiLCJTSE9XX0dSSUQiLCJzaG93R3JpZCIsIlNIT1dfUlVMRVJfUkVHSU9OUyIsInNob3dSdWxlclJlZ2lvbnMiLCJPQkpFQ1RfT05FIiwiT0JKRUNUX1RXTyIsIkJPVU5EQVJZX1NPVU5EU19MRVZFTCIsIk1BU1NfU09VTkRfTEVWRUwiLCJNQVNTX1NPVU5EX1RIUkVTSE9MRFMiLCJHcmF2aXR5Rm9yY2VMYWJTY3JlZW5WaWV3IiwiY29uc3RydWN0b3IiLCJtb2RlbCIsInRhbmRlbSIsInBvc2l0aW9uRGVzY3JpYmVyIiwiZm9yY2VEZXNjcmliZXIiLCJtYXNzRGVzY3JpYmVyIiwibGF5b3V0Qm91bmRzIiwic2NyZWVuU3VtbWFyeUNvbnRlbnQiLCJhbGVydE1hbmFnZXIiLCJkZXNjcmlwdGlvbkFsZXJ0Tm9kZSIsIm1vZGVsVmlld1RyYW5zZm9ybSIsImNyZWF0ZVNpbmdsZVBvaW50U2NhbGVJbnZlcnRlZFlNYXBwaW5nIiwiWkVSTyIsIndpZHRoIiwiaGVpZ2h0IiwibWFzczFOb2RlIiwib2JqZWN0MSIsImxhYmVsIiwib3RoZXJPYmplY3RMYWJlbCIsImRlZmF1bHREaXJlY3Rpb24iLCJMRUZUIiwiYXJyb3dDb2xvciIsImZvcmNlQXJyb3dIZWlnaHQiLCJjcmVhdGVUYW5kZW0iLCJtYXNzMk5vZGUiLCJvYmplY3QyIiwiUklHSFQiLCJtYXNzUG9zaXRpb25zTm9kZSIsImFkZENoaWxkIiwibWFzc0NvbnRyb2xzTm9kZSIsImxhYmVsVGFnTmFtZSIsImxhYmVsQ29udGVudCIsInRhZ05hbWUiLCJkZXNjcmlwdGlvbkNvbnRlbnQiLCJwcm9wZXJ0aWVzVG9Nb25pdG9yRm9yRGVzY3JpcHRpb25DaGFuZ2VzIiwiZm9yY2VQcm9wZXJ0eSIsImNvbnN0YW50UmFkaXVzUHJvcGVydHkiLCJtYXNzQ29udHJvbDEiLCJ2YWx1ZVByb3BlcnR5IiwiTUFTU19SQU5HRSIsIk1BU1NfQkxVRV9DT0xPUiIsIm1hc3NDb250cm9sMiIsIk1BU1NfUkVEX0NPTE9SIiwibGluayIsImNvbnN0YW50UmFkaXVzIiwicGFyYW1ldGVyQ29udHJvbFBhbmVsIiwiZmlsbCIsInhNYXJnaW4iLCJ5TWFyZ2luIiwibWluV2lkdGgiLCJhbGlnbiIsInJlc2V0QWxsQnV0dG9uIiwibGlzdGVuZXIiLCJyZXNldCIsImdyYXZpdHlGb3JjZUxhYlJ1bGVyIiwiZm9yY2VTb3VuZEdlbmVyYXRvciIsInJ1bGVyRGVzY3JpYmVyIiwic2NhbGUiLCJib3R0b20iLCJyaWdodCIsImxlZnQiLCJ0b3AiLCJydWxlclJlZ2lvblBvc2l0aW9ucyIsImxvY2FsVG9HbG9iYWxQb2ludCIsImNlbnRlclBvaW50IiwiY2VudGVyIiwieSIsImRyYWdOb2RlIiwibWluWCIsImxlZnRPYmplY3RCb3VuZGFyeSIsIm1pblkiLCJ2aWV3VG9Nb2RlbFkiLCJtYXhYIiwicmlnaHRPYmplY3RCb3VuZGFyeSIsIm1heFkiLCJ2aWV3VG9Nb2RlbERlbHRhWSIsInJ1bGVyUG9zaXRpb25Qcm9wZXJ0eSIsInBvc2l0aW9uUHJvcGVydHkiLCJ2YWx1ZSIsInBoZXRpb0lucHV0RW5hYmxlZFByb3BlcnR5SW5zdHJ1bWVudGVkIiwidW5pdFN0cmluZyIsImJhY2tncm91bmRGaWxsIiwic25hcFRvTmVhcmVzdCIsIlBPU0lUSU9OX1NOQVBfVkFMVUUiLCJjaGlsZHJlbiIsImFycm93Tm9kZSIsIm1hc3MxRGVzY3JpcHRpb25Ob2RlIiwibWFzczJEZXNjcmlwdGlvbk5vZGUiLCJwZG9tUGxheUFyZWFOb2RlIiwicGRvbU9yZGVyIiwicGRvbUNvbnRyb2xBcmVhTm9kZSIsImdyaWROb2RlIiwic3Ryb2tlIiwiYWRkSW5wdXRMaXN0ZW5lciIsImZvY3VzIiwibGFzdE1vdmVDbG9zZXIiLCJyZWdpc3RlclV0dGVyYW5jZVRvTm9kZSIsImNvbnN0YW50U2l6ZUNoYW5nZWRDb250ZXh0UmVzcG9uc2VVdHRlcmFuY2UiLCJnZXRNaW5Gb3JjZSIsImdldE1heEZvcmNlIiwiaW5pdGlhbE91dHB1dExldmVsIiwicmVzZXRJblByb2dyZXNzUHJvcGVydHkiLCJidXR0b25Nb2RlbCIsImlzRmlyaW5nUHJvcGVydHkiLCJ0cmltU2lsZW5jZSIsImFkZFNvdW5kR2VuZXJhdG9yIiwibWFzc1NsaWRlckRyYWdnaW5nVmlhUG9pbnRlciIsInNsaWRlckRyYWdTdGF0ZVByb3BlcnR5IiwibWFzc0NvbnRyb2wxU2xpZGVyRHJhZ1N0YXRlIiwibWFzc0NvbnRyb2wyU2xpZGVyRHJhZ1N0YXRlIiwiU2xpZGVyRHJhZ1N0YXRlIiwiRFJBR0dJTkdfVklBX1BPSU5URVIiLCJwbGF5QmFzZWRPblRocmVzaG9sZHNQcm9wZXJ0eSIsInRocmVzaG9sZFZhbHVlcyIsInNvbmlmaWNhdGlvbkxldmVsIiwiRVhUUkEiLCJzdGVwIiwiZHQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkdyYXZpdHlGb3JjZUxhYlNjcmVlblZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTMtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogVGhlIFNjcmVlblZpZXcgdGhhdCBkaXNwbGF5cyB0aGUgZ3Jhdml0eSBmb3JjZSBsYWIgc2NyZWVuLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEFudG9uIFVseWFub3YgKE1sZWFybmVyKVxyXG4gKiBAYXV0aG9yIEFhZGlzaCBHdXB0YSAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgRGVyaXZlZFByb3BlcnR5IGZyb20gJy4uLy4uLy4uL2F4b24vanMvRGVyaXZlZFByb3BlcnR5LmpzJztcclxuaW1wb3J0IEJvdW5kczIgZnJvbSAnLi4vLi4vLi4vZG90L2pzL0JvdW5kczIuanMnO1xyXG5pbXBvcnQgUmFuZ2UgZnJvbSAnLi4vLi4vLi4vZG90L2pzL1JhbmdlLmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgSW52ZXJzZVNxdWFyZUxhd0NvbW1vblN0cmluZ3MgZnJvbSAnLi4vLi4vLi4vaW52ZXJzZS1zcXVhcmUtbGF3LWNvbW1vbi9qcy9JbnZlcnNlU3F1YXJlTGF3Q29tbW9uU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBJU0xDUXVlcnlQYXJhbWV0ZXJzIGZyb20gJy4uLy4uLy4uL2ludmVyc2Utc3F1YXJlLWxhdy1jb21tb24vanMvSVNMQ1F1ZXJ5UGFyYW1ldGVycy5qcyc7XHJcbmltcG9ydCBEZWZhdWx0RGlyZWN0aW9uIGZyb20gJy4uLy4uLy4uL2ludmVyc2Utc3F1YXJlLWxhdy1jb21tb24vanMvdmlldy9EZWZhdWx0RGlyZWN0aW9uLmpzJztcclxuaW1wb3J0IElTTENHcmlkTm9kZSBmcm9tICcuLi8uLi8uLi9pbnZlcnNlLXNxdWFyZS1sYXctY29tbW9uL2pzL3ZpZXcvSVNMQ0dyaWROb2RlLmpzJztcclxuaW1wb3J0IElTTENPYmplY3RFbnVtIGZyb20gJy4uLy4uLy4uL2ludmVyc2Utc3F1YXJlLWxhdy1jb21tb24vanMvbW9kZWwvSVNMQ09iamVjdEVudW0uanMnO1xyXG5pbXBvcnQgSVNMQ1J1bGVyTm9kZSBmcm9tICcuLi8uLi8uLi9pbnZlcnNlLXNxdWFyZS1sYXctY29tbW9uL2pzL3ZpZXcvSVNMQ1J1bGVyTm9kZS5qcyc7XHJcbmltcG9ydCBJU0xDUnVsZXJSZWdpb25zTm9kZSBmcm9tICcuLi8uLi8uLi9pbnZlcnNlLXNxdWFyZS1sYXctY29tbW9uL2pzL3ZpZXcvSVNMQ1J1bGVyUmVnaW9uc05vZGUuanMnO1xyXG5pbXBvcnQgU2NyZWVuVmlldyBmcm9tICcuLi8uLi8uLi9qb2lzdC9qcy9TY3JlZW5WaWV3LmpzJztcclxuaW1wb3J0IE1vZGVsVmlld1RyYW5zZm9ybTIgZnJvbSAnLi4vLi4vLi4vcGhldGNvbW1vbi9qcy92aWV3L01vZGVsVmlld1RyYW5zZm9ybTIuanMnO1xyXG5pbXBvcnQgUmVzZXRBbGxCdXR0b24gZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL2J1dHRvbnMvUmVzZXRBbGxCdXR0b24uanMnO1xyXG5pbXBvcnQgeyBOb2RlLCBWb2ljaW5nIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IENvbnRpbnVvdXNQcm9wZXJ0eVNvdW5kR2VuZXJhdG9yIGZyb20gJy4uLy4uLy4uL3RhbWJvL2pzL3NvdW5kLWdlbmVyYXRvcnMvQ29udGludW91c1Byb3BlcnR5U291bmRHZW5lcmF0b3IuanMnO1xyXG5pbXBvcnQgU291bmRMZXZlbEVudW0gZnJvbSAnLi4vLi4vLi4vdGFtYm8vanMvU291bmRMZXZlbEVudW0uanMnO1xyXG5pbXBvcnQgc291bmRNYW5hZ2VyIGZyb20gJy4uLy4uLy4uL3RhbWJvL2pzL3NvdW5kTWFuYWdlci5qcyc7XHJcbmltcG9ydCBzYXR1cmF0ZWRTaW5lTG9vcFRyaW1tZWRfd2F2IGZyb20gJy4uLy4uL3NvdW5kcy9zYXR1cmF0ZWRTaW5lTG9vcFRyaW1tZWRfd2F2LmpzJztcclxuaW1wb3J0IGdyYXZpdHlGb3JjZUxhYiBmcm9tICcuLi9ncmF2aXR5Rm9yY2VMYWIuanMnO1xyXG5pbXBvcnQgR3Jhdml0eUZvcmNlTGFiQ29uc3RhbnRzIGZyb20gJy4uL0dyYXZpdHlGb3JjZUxhYkNvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBHcmF2aXR5Rm9yY2VMYWJTdHJpbmdzIGZyb20gJy4uL0dyYXZpdHlGb3JjZUxhYlN0cmluZ3MuanMnO1xyXG5pbXBvcnQgR3Jhdml0eUZvcmNlTGFiRm9yY2VEZXNjcmliZXIgZnJvbSAnLi9kZXNjcmliZXJzL0dyYXZpdHlGb3JjZUxhYkZvcmNlRGVzY3JpYmVyLmpzJztcclxuaW1wb3J0IEdyYXZpdHlGb3JjZUxhYlBvc2l0aW9uRGVzY3JpYmVyIGZyb20gJy4vZGVzY3JpYmVycy9HcmF2aXR5Rm9yY2VMYWJQb3NpdGlvbkRlc2NyaWJlci5qcyc7XHJcbmltcG9ydCBHcmF2aXR5Rm9yY2VMYWJSdWxlckFsZXJ0ZXIgZnJvbSAnLi9kZXNjcmliZXJzL0dyYXZpdHlGb3JjZUxhYlJ1bGVyQWxlcnRlci5qcyc7XHJcbmltcG9ydCBNYXNzRGVzY3JpYmVyIGZyb20gJy4vZGVzY3JpYmVycy9NYXNzRGVzY3JpYmVyLmpzJztcclxuaW1wb3J0IEdyYXZpdHlGb3JjZUxhYkFsZXJ0TWFuYWdlciBmcm9tICcuL0dyYXZpdHlGb3JjZUxhYkFsZXJ0TWFuYWdlci5qcyc7XHJcbmltcG9ydCBHcmF2aXR5Rm9yY2VMYWJDb250cm9sUGFuZWwgZnJvbSAnLi9HcmF2aXR5Rm9yY2VMYWJDb250cm9sUGFuZWwuanMnO1xyXG5pbXBvcnQgR3Jhdml0eUZvcmNlTGFiU2NyZWVuU3VtbWFyeU5vZGUgZnJvbSAnLi9HcmF2aXR5Rm9yY2VMYWJTY3JlZW5TdW1tYXJ5Tm9kZS5qcyc7XHJcbmltcG9ydCBNYXNzQm91bmRhcnlTb3VuZEdlbmVyYXRvciBmcm9tICcuL01hc3NCb3VuZGFyeVNvdW5kR2VuZXJhdG9yLmpzJztcclxuaW1wb3J0IE1hc3NDb250cm9sIGZyb20gJy4vTWFzc0NvbnRyb2wuanMnO1xyXG5pbXBvcnQgTWFzc0Rlc2NyaXB0aW9uTm9kZSBmcm9tICcuL01hc3NEZXNjcmlwdGlvbk5vZGUuanMnO1xyXG5pbXBvcnQgTWFzc05vZGUgZnJvbSAnLi9NYXNzTm9kZS5qcyc7XHJcbmltcG9ydCBNYXNzU291bmRHZW5lcmF0b3IgZnJvbSAnLi9NYXNzU291bmRHZW5lcmF0b3IuanMnO1xyXG5pbXBvcnQgU3BoZXJlUG9zaXRpb25zRGVzY3JpcHRpb25Ob2RlIGZyb20gJy4vU3BoZXJlUG9zaXRpb25zRGVzY3JpcHRpb25Ob2RlLmpzJztcclxuXHJcbmNvbnN0IG1hc3MxQWJicmV2aWF0ZWRTdHJpbmcgPSBHcmF2aXR5Rm9yY2VMYWJTdHJpbmdzLm1hc3MxQWJicmV2aWF0ZWQ7XHJcbmNvbnN0IG1hc3MxU3RyaW5nID0gR3Jhdml0eUZvcmNlTGFiU3RyaW5ncy5tYXNzMTtcclxuY29uc3QgbWFzczJBYmJyZXZpYXRlZFN0cmluZyA9IEdyYXZpdHlGb3JjZUxhYlN0cmluZ3MubWFzczJBYmJyZXZpYXRlZDtcclxuY29uc3QgbWFzczJTdHJpbmcgPSBHcmF2aXR5Rm9yY2VMYWJTdHJpbmdzLm1hc3MyO1xyXG5jb25zdCB1bml0c01ldGVyc1N0cmluZyA9IEludmVyc2VTcXVhcmVMYXdDb21tb25TdHJpbmdzLnVuaXRzLm1ldGVycztcclxuY29uc3QgbWFzc0NvbnRyb2xzTGFiZWxTdHJpbmcgPSBHcmF2aXR5Rm9yY2VMYWJTdHJpbmdzLmExMXkuY29udHJvbHMubWFzc0NvbnRyb2xzTGFiZWw7XHJcbmNvbnN0IG1hc3NDb250cm9sc0hlbHBUZXh0U3RyaW5nID0gR3Jhdml0eUZvcmNlTGFiU3RyaW5ncy5hMTF5LmNvbnRyb2xzLm1hc3NDb250cm9sc0hlbHBUZXh0O1xyXG5jb25zdCBtYXNzQ29udHJvbHNIZWxwVGV4dERlbnNpdHlTdHJpbmcgPSBHcmF2aXR5Rm9yY2VMYWJTdHJpbmdzLmExMXkuY29udHJvbHMubWFzc0NvbnRyb2xzSGVscFRleHREZW5zaXR5O1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IFNIT1dfR1JJRCA9IElTTENRdWVyeVBhcmFtZXRlcnMuc2hvd0dyaWQ7XHJcbmNvbnN0IFNIT1dfUlVMRVJfUkVHSU9OUyA9IElTTENRdWVyeVBhcmFtZXRlcnMuc2hvd1J1bGVyUmVnaW9ucztcclxuY29uc3QgT0JKRUNUX09ORSA9IElTTENPYmplY3RFbnVtLk9CSkVDVF9PTkU7XHJcbmNvbnN0IE9CSkVDVF9UV08gPSBJU0xDT2JqZWN0RW51bS5PQkpFQ1RfVFdPO1xyXG5jb25zdCBCT1VOREFSWV9TT1VORFNfTEVWRUwgPSAxO1xyXG5jb25zdCBNQVNTX1NPVU5EX0xFVkVMID0gMC43O1xyXG5jb25zdCBNQVNTX1NPVU5EX1RIUkVTSE9MRFMgPSBbIDEwLCAxMDAsIDIwMCwgMzAwLCA0MDAsIDUwMCwgNjAwLCA3MDAsIDgwMCwgOTAwLCAxMDAwIF07XHJcblxyXG5jbGFzcyBHcmF2aXR5Rm9yY2VMYWJTY3JlZW5WaWV3IGV4dGVuZHMgU2NyZWVuVmlldyB7XHJcbiAgY29uc3RydWN0b3IoIG1vZGVsLCB0YW5kZW0gKSB7XHJcblxyXG4gICAgLy8gZm9yY2UgdGV4dCBpc24ndCByZXRyaWV2ZWQgZGlyZWN0bHkgaW4gdGhlIHNjcmVlbnZpZXcsIHdlIHNpbXBseSBpbml0aWFsaXplIGFuZCBhY2Nlc3MgaXQgaW4gdmFyaW91cyBOb2Rlc1xyXG4gICAgY29uc3QgcG9zaXRpb25EZXNjcmliZXIgPSBuZXcgR3Jhdml0eUZvcmNlTGFiUG9zaXRpb25EZXNjcmliZXIoIG1vZGVsLCBtYXNzMUFiYnJldmlhdGVkU3RyaW5nLCBtYXNzMkFiYnJldmlhdGVkU3RyaW5nICk7XHJcbiAgICBjb25zdCBmb3JjZURlc2NyaWJlciA9IG5ldyBHcmF2aXR5Rm9yY2VMYWJGb3JjZURlc2NyaWJlciggbW9kZWwsIG1hc3MxQWJicmV2aWF0ZWRTdHJpbmcsIG1hc3MyQWJicmV2aWF0ZWRTdHJpbmcsIHBvc2l0aW9uRGVzY3JpYmVyICk7XHJcbiAgICBjb25zdCBtYXNzRGVzY3JpYmVyID0gbmV3IE1hc3NEZXNjcmliZXIoIG1vZGVsLCBmb3JjZURlc2NyaWJlciApO1xyXG5cclxuICAgIHN1cGVyKCB7XHJcbiAgICAgIGxheW91dEJvdW5kczogbmV3IEJvdW5kczIoIDAsIDAsIDc2OCwgNDY0ICksXHJcbiAgICAgIHNjcmVlblN1bW1hcnlDb250ZW50OiBuZXcgR3Jhdml0eUZvcmNlTGFiU2NyZWVuU3VtbWFyeU5vZGUoIG1vZGVsLCBtYXNzRGVzY3JpYmVyLCBmb3JjZURlc2NyaWJlciwgcG9zaXRpb25EZXNjcmliZXIgKSxcclxuICAgICAgdGFuZGVtOiB0YW5kZW1cclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBhbGVydE1hbmFnZXIgPSBuZXcgR3Jhdml0eUZvcmNlTGFiQWxlcnRNYW5hZ2VyKCBtb2RlbCwgbWFzc0Rlc2NyaWJlciwgZm9yY2VEZXNjcmliZXIsIHtcclxuICAgICAgZGVzY3JpcHRpb25BbGVydE5vZGU6IHRoaXNcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIG1vZGVsLXZpZXcgdHJhbnNmb3JtLiAgVGhlIHByaW1hcnkgdW5pdHMgdXNlZCBpbiB0aGUgbW9kZWwgYXJlIG1ldGVycywgc28gc2lnbmlmaWNhbnQgem9vbSBpcyB1c2VkLlxyXG4gICAgLy8gVGhlIG11bHRpcGxpZXJzIGZvciB0aGUgMm5kIHBhcmFtZXRlciBjYW4gYmUgdXNlZCB0byBhZGp1c3Qgd2hlcmUgdGhlIHBvaW50ICgwLCAwKSBpbiB0aGUgbW9kZWwsIHdoaWNoIGlzXHJcbiAgICAvLyBiZXR3ZWVuIHRoZSB0d28gbWFzc2VzLlxyXG4gICAgY29uc3QgbW9kZWxWaWV3VHJhbnNmb3JtID0gTW9kZWxWaWV3VHJhbnNmb3JtMi5jcmVhdGVTaW5nbGVQb2ludFNjYWxlSW52ZXJ0ZWRZTWFwcGluZyhcclxuICAgICAgVmVjdG9yMi5aRVJPLFxyXG4gICAgICBuZXcgVmVjdG9yMiggdGhpcy5sYXlvdXRCb3VuZHMud2lkdGggLyAyLCB0aGlzLmxheW91dEJvdW5kcy5oZWlnaHQgLyAyICksXHJcbiAgICAgIDUwXHJcbiAgICApO1xyXG5cclxuICAgIC8vIGFkZCB0aGUgbWFzcyBub2RlcyB0byB0aGUgc2NyZWVuXHJcbiAgICBjb25zdCBtYXNzMU5vZGUgPSBuZXcgTWFzc05vZGUoXHJcbiAgICAgIG1vZGVsLFxyXG4gICAgICBtb2RlbC5vYmplY3QxLFxyXG4gICAgICB0aGlzLmxheW91dEJvdW5kcyxcclxuICAgICAgbW9kZWxWaWV3VHJhbnNmb3JtLFxyXG4gICAgICBhbGVydE1hbmFnZXIsXHJcbiAgICAgIGZvcmNlRGVzY3JpYmVyLFxyXG4gICAgICBwb3NpdGlvbkRlc2NyaWJlcixcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiBtYXNzMUFiYnJldmlhdGVkU3RyaW5nLFxyXG4gICAgICAgIG90aGVyT2JqZWN0TGFiZWw6IG1hc3MyQWJicmV2aWF0ZWRTdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdERpcmVjdGlvbjogRGVmYXVsdERpcmVjdGlvbi5MRUZULFxyXG4gICAgICAgIGFycm93Q29sb3I6ICcjNjZmJyxcclxuICAgICAgICBmb3JjZUFycm93SGVpZ2h0OiA4NSxcclxuICAgICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdtYXNzMU5vZGUnIClcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBtYXNzMk5vZGUgPSBuZXcgTWFzc05vZGUoXHJcbiAgICAgIG1vZGVsLFxyXG4gICAgICBtb2RlbC5vYmplY3QyLFxyXG4gICAgICB0aGlzLmxheW91dEJvdW5kcyxcclxuICAgICAgbW9kZWxWaWV3VHJhbnNmb3JtLFxyXG4gICAgICBhbGVydE1hbmFnZXIsXHJcbiAgICAgIGZvcmNlRGVzY3JpYmVyLFxyXG4gICAgICBwb3NpdGlvbkRlc2NyaWJlcixcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiBtYXNzMkFiYnJldmlhdGVkU3RyaW5nLFxyXG4gICAgICAgIG90aGVyT2JqZWN0TGFiZWw6IG1hc3MxQWJicmV2aWF0ZWRTdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdERpcmVjdGlvbjogRGVmYXVsdERpcmVjdGlvbi5SSUdIVCxcclxuICAgICAgICBhcnJvd0NvbG9yOiAnI2Y2NicsXHJcbiAgICAgICAgZm9yY2VBcnJvd0hlaWdodDogMTM1LFxyXG4gICAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ21hc3MyTm9kZScgKVxyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IG1hc3NQb3NpdGlvbnNOb2RlID0gbmV3IFNwaGVyZVBvc2l0aW9uc0Rlc2NyaXB0aW9uTm9kZSggbW9kZWwsIHBvc2l0aW9uRGVzY3JpYmVyICk7XHJcbiAgICBtYXNzUG9zaXRpb25zTm9kZS5hZGRDaGlsZCggbWFzczFOb2RlICk7XHJcbiAgICBtYXNzUG9zaXRpb25zTm9kZS5hZGRDaGlsZCggbWFzczJOb2RlICk7XHJcblxyXG4gICAgY29uc3QgbWFzc0NvbnRyb2xzTm9kZSA9IG5ldyBOb2RlKCB7XHJcbiAgICAgIGxhYmVsVGFnTmFtZTogJ2gzJyxcclxuICAgICAgbGFiZWxDb250ZW50OiBtYXNzQ29udHJvbHNMYWJlbFN0cmluZyxcclxuICAgICAgdGFnTmFtZTogJ2RpdicsXHJcbiAgICAgIGRlc2NyaXB0aW9uQ29udGVudDogbWFzc0NvbnRyb2xzSGVscFRleHRTdHJpbmdcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBhIGxpc3Qgb2YgUHJvcGVydGllcyB0byB0aGF0LCB3aGVuIGNoYW5nZWQsIHNob3VsZCB0cmlnZ2VyIGFuIHVwZGF0ZSBpbiBkZXNjcmlwdGlvbnMgaW4gdGhlIE1hc3NDb250cm9sXHJcbiAgICBjb25zdCBwcm9wZXJ0aWVzVG9Nb25pdG9yRm9yRGVzY3JpcHRpb25DaGFuZ2VzID0gWyBtb2RlbC5mb3JjZVByb3BlcnR5LCBtb2RlbC5jb25zdGFudFJhZGl1c1Byb3BlcnR5IF07XHJcblxyXG4gICAgLy8gbWFzcyBjb250cm9sc1xyXG4gICAgY29uc3QgbWFzc0NvbnRyb2wxID0gbmV3IE1hc3NDb250cm9sKFxyXG4gICAgICBtYXNzMVN0cmluZyxcclxuICAgICAgbW9kZWwub2JqZWN0MS52YWx1ZVByb3BlcnR5LFxyXG4gICAgICBHcmF2aXR5Rm9yY2VMYWJDb25zdGFudHMuTUFTU19SQU5HRSxcclxuICAgICAgR3Jhdml0eUZvcmNlTGFiQ29uc3RhbnRzLk1BU1NfQkxVRV9DT0xPUixcclxuICAgICAgT0JKRUNUX09ORSxcclxuICAgICAgcHJvcGVydGllc1RvTW9uaXRvckZvckRlc2NyaXB0aW9uQ2hhbmdlcyxcclxuICAgICAgYWxlcnRNYW5hZ2VyLFxyXG4gICAgICBtYXNzRGVzY3JpYmVyLFxyXG4gICAgICB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnbWFzc0NvbnRyb2wxJyApXHJcbiAgICApO1xyXG4gICAgbWFzc0NvbnRyb2xzTm9kZS5hZGRDaGlsZCggbWFzc0NvbnRyb2wxICk7XHJcblxyXG4gICAgY29uc3QgbWFzc0NvbnRyb2wyID0gbmV3IE1hc3NDb250cm9sKFxyXG4gICAgICBtYXNzMlN0cmluZyxcclxuICAgICAgbW9kZWwub2JqZWN0Mi52YWx1ZVByb3BlcnR5LFxyXG4gICAgICBHcmF2aXR5Rm9yY2VMYWJDb25zdGFudHMuTUFTU19SQU5HRSxcclxuICAgICAgR3Jhdml0eUZvcmNlTGFiQ29uc3RhbnRzLk1BU1NfUkVEX0NPTE9SLFxyXG4gICAgICBPQkpFQ1RfVFdPLFxyXG4gICAgICBwcm9wZXJ0aWVzVG9Nb25pdG9yRm9yRGVzY3JpcHRpb25DaGFuZ2VzLFxyXG4gICAgICBhbGVydE1hbmFnZXIsXHJcbiAgICAgIG1hc3NEZXNjcmliZXIsXHJcbiAgICAgIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdtYXNzQ29udHJvbDInIClcclxuICAgICk7XHJcbiAgICBtYXNzQ29udHJvbHNOb2RlLmFkZENoaWxkKCBtYXNzQ29udHJvbDIgKTtcclxuXHJcbiAgICBtb2RlbC5jb25zdGFudFJhZGl1c1Byb3BlcnR5LmxpbmsoIGNvbnN0YW50UmFkaXVzID0+IHtcclxuICAgICAgbWFzc0NvbnRyb2xzTm9kZS5kZXNjcmlwdGlvbkNvbnRlbnQgPSBjb25zdGFudFJhZGl1cyA/IG1hc3NDb250cm9sc0hlbHBUZXh0RGVuc2l0eVN0cmluZyA6IG1hc3NDb250cm9sc0hlbHBUZXh0U3RyaW5nO1xyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IHBhcmFtZXRlckNvbnRyb2xQYW5lbCA9IG5ldyBHcmF2aXR5Rm9yY2VMYWJDb250cm9sUGFuZWwoIG1vZGVsLCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3BhcmFtZXRlckNvbnRyb2xQYW5lbCcgKSxcclxuICAgICAgZmlsbDogJyNGREY0OTgnLFxyXG4gICAgICB4TWFyZ2luOiAxMCxcclxuICAgICAgeU1hcmdpbjogMTAsXHJcbiAgICAgIG1pbldpZHRoOiAxNTAsXHJcbiAgICAgIGFsaWduOiAnbGVmdCdcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCByZXNldEFsbEJ1dHRvbiA9IG5ldyBSZXNldEFsbEJ1dHRvbigge1xyXG4gICAgICBsaXN0ZW5lcjogKCkgPT4ge1xyXG4gICAgICAgIG1vZGVsLnJlc2V0KCk7XHJcbiAgICAgICAgZ3Jhdml0eUZvcmNlTGFiUnVsZXIucmVzZXQoKTtcclxuICAgICAgICB0aGlzLmZvcmNlU291bmRHZW5lcmF0b3IucmVzZXQoKTtcclxuICAgICAgICBydWxlckRlc2NyaWJlci5yZXNldCgpO1xyXG4gICAgICB9LFxyXG4gICAgICBzY2FsZTogMC44MSxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncmVzZXRBbGxCdXR0b24nIClcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBwb3NpdGlvbmluZyB0aGUgbm9kZXNcclxuICAgIC8vIERvIHRoaXMgYmVmb3JlIHRoZSBydWxlciwgc28gdGhlIHJ1bGVyIGNhbiBoYXZlIHRoZSBjb3JyZWN0IHJlZ2lvbiBwb3NpdGlvbnNcclxuICAgIHJlc2V0QWxsQnV0dG9uLmJvdHRvbSA9IHRoaXMubGF5b3V0Qm91bmRzLmJvdHRvbSAtIDcuNDtcclxuICAgIHJlc2V0QWxsQnV0dG9uLnJpZ2h0ID0gdGhpcy5sYXlvdXRCb3VuZHMud2lkdGggLSAxNTtcclxuICAgIHBhcmFtZXRlckNvbnRyb2xQYW5lbC5yaWdodCA9IHJlc2V0QWxsQnV0dG9uLmxlZnQgLSAxNTtcclxuICAgIHBhcmFtZXRlckNvbnRyb2xQYW5lbC5ib3R0b20gPSByZXNldEFsbEJ1dHRvbi5ib3R0b207XHJcbiAgICBtYXNzQ29udHJvbDIudG9wID0gbWFzc0NvbnRyb2wxLnRvcCA9IHBhcmFtZXRlckNvbnRyb2xQYW5lbC50b3A7XHJcbiAgICBtYXNzQ29udHJvbDIucmlnaHQgPSBwYXJhbWV0ZXJDb250cm9sUGFuZWwubGVmdCAtIDM1O1xyXG4gICAgbWFzc0NvbnRyb2wxLnJpZ2h0ID0gbWFzc0NvbnRyb2wyLmxlZnQgLSAzNTtcclxuXHJcbiAgICAvLyBjcmVhdGUgZG93biBoZXJlIGJlY2F1c2UgaXQgbmVlZHMgcG9zaXRpb25zIG9mIG90aGVyIGl0ZW1zIGluIHRoZSBzY3JlZW4gdmlld1xyXG4gICAgY29uc3QgcnVsZXJSZWdpb25Qb3NpdGlvbnMgPSBbXHJcbiAgICAgIG1hc3MyTm9kZS50b3AsXHJcbiAgICAgIG1hc3MxTm9kZS50b3AsXHJcbiAgICAgIG1hc3MxTm9kZS5sb2NhbFRvR2xvYmFsUG9pbnQoIG1hc3MxTm9kZS5jZW50ZXJQb2ludC5jZW50ZXIgKS55IC0gMjAsXHJcbiAgICAgIG1hc3MxTm9kZS5sb2NhbFRvR2xvYmFsUG9pbnQoIG1hc3MxTm9kZS5jZW50ZXJQb2ludC5jZW50ZXIgKS55ICsgMjAsXHJcbiAgICAgIG1hc3MxTm9kZS5sb2NhbFRvR2xvYmFsUG9pbnQoIG5ldyBWZWN0b3IyKCAwLCBtYXNzMU5vZGUuZHJhZ05vZGUuYm90dG9tICkgKS55LFxyXG4gICAgICBtYXNzQ29udHJvbDEudG9wLFxyXG4gICAgICB0aGlzLmxheW91dEJvdW5kcy5ib3R0b21cclxuICAgIF07XHJcblxyXG4gICAgY29uc3QgcnVsZXJEZXNjcmliZXIgPSBuZXcgR3Jhdml0eUZvcmNlTGFiUnVsZXJBbGVydGVyKCBtb2RlbCwgbWFzczFBYmJyZXZpYXRlZFN0cmluZywgbWFzczJBYmJyZXZpYXRlZFN0cmluZyxcclxuICAgICAgbW9kZWxWaWV3VHJhbnNmb3JtLCBydWxlclJlZ2lvblBvc2l0aW9ucywgcG9zaXRpb25EZXNjcmliZXIsIHtcclxuICAgICAgICBkZXNjcmlwdGlvbkFsZXJ0Tm9kZTogdGhpcyAvLyBVc2UgdGhlIFNjcmVlblZpZXcgdG8gYWxlcnQgZGVzY3JpcHRpb25cclxuICAgICAgfSApO1xyXG5cclxuICAgIC8vIHJ1bGVyIGRyYWcgYm91bmRzIChpbiBtb2RlbCBjb29yZGluYXRlIGZyYW1lKSAtIGFzc3VtZXMgYSBzaW5nbGUgcG9pbnQgc2NhbGUgaW52ZXJ0ZWQgWSBtYXBwaW5nXHJcbiAgICBjb25zdCBtaW5YID0gbW9kZWwubGVmdE9iamVjdEJvdW5kYXJ5O1xyXG4gICAgY29uc3QgbWluWSA9IG1vZGVsVmlld1RyYW5zZm9ybS52aWV3VG9Nb2RlbFkoIG1hc3NDb250cm9sMi50b3AgKyAxMCApOyAvLyBib3R0b20gYm91bmQgYmVjYXVzZSBZIGlzIGludmVydGVkXHJcbiAgICBjb25zdCBtYXhYID0gbW9kZWwucmlnaHRPYmplY3RCb3VuZGFyeTtcclxuICAgIGNvbnN0IG1heFkgPSAtbW9kZWxWaWV3VHJhbnNmb3JtLnZpZXdUb01vZGVsRGVsdGFZKCB0aGlzLmxheW91dEJvdW5kcy5oZWlnaHQgLyAyICk7IC8vIHRvcCBib3VuZCBiZWNhdXNlIFkgaXMgaW52ZXJ0ZWRcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSAtIGFkZGVkIHRvIG9iamVjdCBmb3IgYW5pbWF0aW9uIHN0ZXBwaW5nXHJcbiAgICBjb25zdCBncmF2aXR5Rm9yY2VMYWJSdWxlciA9IG5ldyBJU0xDUnVsZXJOb2RlKFxyXG4gICAgICBtb2RlbC5ydWxlclBvc2l0aW9uUHJvcGVydHksXHJcbiAgICAgIG5ldyBCb3VuZHMyKCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZICksXHJcbiAgICAgIG1vZGVsVmlld1RyYW5zZm9ybSxcclxuICAgICAgKCkgPT4gbW9kZWwub2JqZWN0MS5wb3NpdGlvblByb3BlcnR5LnZhbHVlLCAvLyB3cmFwIHRoaXMgaW4gYSBjbG9zdXJlIGluc3RlYWQgb2YgZXhwb3NpbmcgdGhpcyBhbGwgdG8gdGhlIHJ1bGVyLlxyXG4gICAgICBydWxlckRlc2NyaWJlciwge1xyXG4gICAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3J1bGVyTm9kZScgKSxcclxuICAgICAgICBwaGV0aW9JbnB1dEVuYWJsZWRQcm9wZXJ0eUluc3RydW1lbnRlZDogdHJ1ZSxcclxuICAgICAgICB1bml0U3RyaW5nOiB1bml0c01ldGVyc1N0cmluZyxcclxuICAgICAgICBiYWNrZ3JvdW5kRmlsbDogJ3JnYigyMzYsIDIyNSwgMTEzKScsXHJcbiAgICAgICAgc25hcFRvTmVhcmVzdDogR3Jhdml0eUZvcmNlTGFiQ29uc3RhbnRzLlBPU0lUSU9OX1NOQVBfVkFMVUVcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBjaGlsZCBvcmRlclxyXG4gICAgdGhpcy5jaGlsZHJlbiA9IFtcclxuICAgICAgbWFzc1Bvc2l0aW9uc05vZGUsXHJcblxyXG4gICAgICAvLyB0aGUgYXJyb3dzIGFuZCB0aGVpciBsYWJlbHMgc2hvdWxkIGJlIGFib3ZlIGJvdGggbWFzc2VzIChhbmQgdGhlaXIgbWFya2VycykgYnV0IGJlbG93XHJcbiAgICAgIC8vIHRoZSBydWxlciBhbmQgY29udHJvbCBwYW5lbHNcclxuICAgICAgbWFzczFOb2RlLmFycm93Tm9kZSxcclxuICAgICAgbWFzczJOb2RlLmFycm93Tm9kZSxcclxuICAgICAgZ3Jhdml0eUZvcmNlTGFiUnVsZXIsXHJcbiAgICAgIG1hc3NDb250cm9sc05vZGUsXHJcbiAgICAgIHBhcmFtZXRlckNvbnRyb2xQYW5lbCxcclxuICAgICAgcmVzZXRBbGxCdXR0b25cclxuICAgIF07XHJcblxyXG4gICAgLy8gcGRvbVxyXG4gICAgY29uc3QgbWFzczFEZXNjcmlwdGlvbk5vZGUgPSBuZXcgTWFzc0Rlc2NyaXB0aW9uTm9kZSggbW9kZWwsIG1vZGVsLm9iamVjdDEsIG1hc3NEZXNjcmliZXIsIGZvcmNlRGVzY3JpYmVyLCBwb3NpdGlvbkRlc2NyaWJlciApO1xyXG4gICAgY29uc3QgbWFzczJEZXNjcmlwdGlvbk5vZGUgPSBuZXcgTWFzc0Rlc2NyaXB0aW9uTm9kZSggbW9kZWwsIG1vZGVsLm9iamVjdDIsIG1hc3NEZXNjcmliZXIsIGZvcmNlRGVzY3JpYmVyLCBwb3NpdGlvbkRlc2NyaWJlciApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggbWFzczFEZXNjcmlwdGlvbk5vZGUgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIG1hc3MyRGVzY3JpcHRpb25Ob2RlICk7XHJcblxyXG4gICAgdGhpcy5wZG9tUGxheUFyZWFOb2RlLnBkb21PcmRlciA9IFtcclxuICAgICAgbWFzczFEZXNjcmlwdGlvbk5vZGUsXHJcbiAgICAgIG1hc3MyRGVzY3JpcHRpb25Ob2RlLFxyXG4gICAgICBtYXNzUG9zaXRpb25zTm9kZSxcclxuICAgICAgbWFzczFOb2RlLmFycm93Tm9kZSxcclxuICAgICAgbWFzczJOb2RlLmFycm93Tm9kZSxcclxuICAgICAgbWFzc0NvbnRyb2xzTm9kZSxcclxuICAgICAgZ3Jhdml0eUZvcmNlTGFiUnVsZXJcclxuICAgIF07XHJcbiAgICB0aGlzLnBkb21Db250cm9sQXJlYU5vZGUucGRvbU9yZGVyID0gW1xyXG4gICAgICBwYXJhbWV0ZXJDb250cm9sUGFuZWwsXHJcbiAgICAgIHJlc2V0QWxsQnV0dG9uXHJcbiAgICBdO1xyXG5cclxuICAgIGlmICggU0hPV19HUklEICkge1xyXG4gICAgICBjb25zdCBncmlkTm9kZSA9IG5ldyBJU0xDR3JpZE5vZGUoXHJcbiAgICAgICAgR3Jhdml0eUZvcmNlTGFiQ29uc3RhbnRzLlBPU0lUSU9OX1NOQVBfVkFMVUUsXHJcbiAgICAgICAgdGhpcy5sYXlvdXRCb3VuZHMsXHJcbiAgICAgICAgbW9kZWxWaWV3VHJhbnNmb3JtLFxyXG4gICAgICAgIHsgc3Ryb2tlOiAncmdiYSggMjUwLCAxMDAsIDEwMCwgMC42ICknIH0gKTtcclxuICAgICAgdGhpcy5hZGRDaGlsZCggZ3JpZE5vZGUgKTtcclxuICAgIH1cclxuICAgIGlmICggU0hPV19SVUxFUl9SRUdJT05TICkge1xyXG4gICAgICBjb25zdCBncmlkTm9kZSA9IG5ldyBJU0xDUnVsZXJSZWdpb25zTm9kZSggcnVsZXJSZWdpb25Qb3NpdGlvbnMsIHRoaXMubGF5b3V0Qm91bmRzICk7XHJcbiAgICAgIHRoaXMuYWRkQ2hpbGQoIGdyaWROb2RlICk7XHJcbiAgICB9XHJcblxyXG4gICAgbWFzczFOb2RlLmFkZElucHV0TGlzdGVuZXIoIHtcclxuICAgICAgZm9jdXM6ICgpID0+IHtcclxuICAgICAgICBwb3NpdGlvbkRlc2NyaWJlci5sYXN0TW92ZUNsb3NlciA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICAgIG1hc3MyTm9kZS5hZGRJbnB1dExpc3RlbmVyKCB7XHJcbiAgICAgIGZvY3VzOiAoKSA9PiB7XHJcbiAgICAgICAgcG9zaXRpb25EZXNjcmliZXIubGFzdE1vdmVDbG9zZXIgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gdm9pY2luZyAtIE1ha2Ugc3VyZSB0aGF0IHRoZSBVdHRlcmFuY2VzIGZyb20gQWxlcnRlcnMgb25seSBhbm5vdW5jZSB3aGVuIHRoZSBjb250ZW50IHVuZGVyIHRoaXMgU2NyZWVuVmlld1xyXG4gICAgLy8gaXMgdmlzaWJsZVxyXG4gICAgVm9pY2luZy5yZWdpc3RlclV0dGVyYW5jZVRvTm9kZSggYWxlcnRNYW5hZ2VyLmNvbnN0YW50U2l6ZUNoYW5nZWRDb250ZXh0UmVzcG9uc2VVdHRlcmFuY2UsIHRoaXMgKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSAtIHNvdW5kIGdlbmVyYXRpb24gZm9yIHRoZSBmb3JjZSBzb3VuZFxyXG4gICAgdGhpcy5mb3JjZVNvdW5kR2VuZXJhdG9yID0gbmV3IENvbnRpbnVvdXNQcm9wZXJ0eVNvdW5kR2VuZXJhdG9yKFxyXG4gICAgICBtb2RlbC5mb3JjZVByb3BlcnR5LFxyXG4gICAgICBzYXR1cmF0ZWRTaW5lTG9vcFRyaW1tZWRfd2F2LFxyXG4gICAgICBuZXcgUmFuZ2UoIG1vZGVsLmdldE1pbkZvcmNlKCksIG1vZGVsLmdldE1heEZvcmNlKCkgKSxcclxuICAgICAge1xyXG4gICAgICAgIGluaXRpYWxPdXRwdXRMZXZlbDogMC4xNSxcclxuICAgICAgICByZXNldEluUHJvZ3Jlc3NQcm9wZXJ0eTogcmVzZXRBbGxCdXR0b24uYnV0dG9uTW9kZWwuaXNGaXJpbmdQcm9wZXJ0eSxcclxuICAgICAgICB0cmltU2lsZW5jZTogZmFsc2UgLy8gYSB2ZXJ5IHByZWNpc2Ugc291bmQgZmlsZSBpcyB1c2VkLCBzbyBtYWtlIHN1cmUgaXQgZG9lc24ndCBnZXQgY2hhbmdlZFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgc291bmRNYW5hZ2VyLmFkZFNvdW5kR2VuZXJhdG9yKCB0aGlzLmZvcmNlU291bmRHZW5lcmF0b3IgKTtcclxuXHJcbiAgICAvLyBzb3VuZCBnZW5lcmF0aW9uIGZvciB0aGUgbWFzcyB2YWx1ZXNcclxuICAgIGNvbnN0IG1hc3NTbGlkZXJEcmFnZ2luZ1ZpYVBvaW50ZXIgPSBuZXcgRGVyaXZlZFByb3BlcnR5KFxyXG4gICAgICBbIG1hc3NDb250cm9sMS5zbGlkZXJEcmFnU3RhdGVQcm9wZXJ0eSwgbWFzc0NvbnRyb2wyLnNsaWRlckRyYWdTdGF0ZVByb3BlcnR5IF0sXHJcbiAgICAgICggbWFzc0NvbnRyb2wxU2xpZGVyRHJhZ1N0YXRlLCBtYXNzQ29udHJvbDJTbGlkZXJEcmFnU3RhdGUgKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICggbWFzc0NvbnRyb2wxU2xpZGVyRHJhZ1N0YXRlID09PSBNYXNzQ29udHJvbC5TbGlkZXJEcmFnU3RhdGUuRFJBR0dJTkdfVklBX1BPSU5URVIgfHxcclxuICAgICAgICAgICAgICAgICBtYXNzQ29udHJvbDJTbGlkZXJEcmFnU3RhdGUgPT09IE1hc3NDb250cm9sLlNsaWRlckRyYWdTdGF0ZS5EUkFHR0lOR19WSUFfUE9JTlRFUiApO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgc291bmRNYW5hZ2VyLmFkZFNvdW5kR2VuZXJhdG9yKFxyXG4gICAgICBuZXcgTWFzc1NvdW5kR2VuZXJhdG9yKFxyXG4gICAgICAgIG1vZGVsLm9iamVjdDEudmFsdWVQcm9wZXJ0eSxcclxuICAgICAgICBHcmF2aXR5Rm9yY2VMYWJDb25zdGFudHMuTUFTU19SQU5HRSxcclxuICAgICAgICByZXNldEFsbEJ1dHRvbi5idXR0b25Nb2RlbC5pc0ZpcmluZ1Byb3BlcnR5LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGluaXRpYWxPdXRwdXRMZXZlbDogTUFTU19TT1VORF9MRVZFTCxcclxuICAgICAgICAgIHBsYXlCYXNlZE9uVGhyZXNob2xkc1Byb3BlcnR5OiBtYXNzU2xpZGVyRHJhZ2dpbmdWaWFQb2ludGVyLFxyXG4gICAgICAgICAgdGhyZXNob2xkVmFsdWVzOiBNQVNTX1NPVU5EX1RIUkVTSE9MRFNcclxuICAgICAgICB9XHJcbiAgICAgICksXHJcbiAgICAgIHsgc29uaWZpY2F0aW9uTGV2ZWw6IFNvdW5kTGV2ZWxFbnVtLkVYVFJBIH1cclxuICAgICk7XHJcbiAgICBzb3VuZE1hbmFnZXIuYWRkU291bmRHZW5lcmF0b3IoXHJcbiAgICAgIG5ldyBNYXNzU291bmRHZW5lcmF0b3IoXHJcbiAgICAgICAgbW9kZWwub2JqZWN0Mi52YWx1ZVByb3BlcnR5LFxyXG4gICAgICAgIEdyYXZpdHlGb3JjZUxhYkNvbnN0YW50cy5NQVNTX1JBTkdFLFxyXG4gICAgICAgIHJlc2V0QWxsQnV0dG9uLmJ1dHRvbk1vZGVsLmlzRmlyaW5nUHJvcGVydHksXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaW5pdGlhbE91dHB1dExldmVsOiBNQVNTX1NPVU5EX0xFVkVMLFxyXG4gICAgICAgICAgcGxheUJhc2VkT25UaHJlc2hvbGRzUHJvcGVydHk6IG1hc3NTbGlkZXJEcmFnZ2luZ1ZpYVBvaW50ZXIsXHJcbiAgICAgICAgICB0aHJlc2hvbGRWYWx1ZXM6IE1BU1NfU09VTkRfVEhSRVNIT0xEU1xyXG4gICAgICAgIH1cclxuICAgICAgKSxcclxuICAgICAgeyBzb25pZmljYXRpb25MZXZlbDogU291bmRMZXZlbEVudW0uRVhUUkEgfVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBzb3VuZCBnZW5lcmF0aW9uIGZvciBtYXNzZXMgcmVhY2hpbmcgdGhlIGlubmVyIG9yIG91dGVyIG1vdGlvbiBib3VuZGFyaWVzXHJcbiAgICBzb3VuZE1hbmFnZXIuYWRkU291bmRHZW5lcmF0b3IoIG5ldyBNYXNzQm91bmRhcnlTb3VuZEdlbmVyYXRvciggbW9kZWwub2JqZWN0MSwgbW9kZWwsICdsZWZ0Jywge1xyXG4gICAgICBpbml0aWFsT3V0cHV0TGV2ZWw6IEJPVU5EQVJZX1NPVU5EU19MRVZFTFxyXG4gICAgfSApICk7XHJcbiAgICBzb3VuZE1hbmFnZXIuYWRkU291bmRHZW5lcmF0b3IoIG5ldyBNYXNzQm91bmRhcnlTb3VuZEdlbmVyYXRvciggbW9kZWwub2JqZWN0MiwgbW9kZWwsICdyaWdodCcsIHtcclxuICAgICAgaW5pdGlhbE91dHB1dExldmVsOiBCT1VOREFSWV9TT1VORFNfTEVWRUxcclxuICAgIH0gKSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogc3RlcCB0aGUgdmlld1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBzdGVwKCBkdCApIHtcclxuICAgIHRoaXMuZm9yY2VTb3VuZEdlbmVyYXRvci5zdGVwKCBkdCApO1xyXG4gIH1cclxufVxyXG5cclxuZ3Jhdml0eUZvcmNlTGFiLnJlZ2lzdGVyKCAnR3Jhdml0eUZvcmNlTGFiU2NyZWVuVmlldycsIEdyYXZpdHlGb3JjZUxhYlNjcmVlblZpZXcgKTtcclxuZXhwb3J0IGRlZmF1bHQgR3Jhdml0eUZvcmNlTGFiU2NyZWVuVmlldzsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLGVBQWUsTUFBTSxxQ0FBcUM7QUFDakUsT0FBT0MsT0FBTyxNQUFNLDRCQUE0QjtBQUNoRCxPQUFPQyxLQUFL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