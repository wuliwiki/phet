// Copyright 2023, University of Colorado Boulder

/**
 * Main model for My Solar System.
 * In charge of keeping track of the position and states of the bodies,
 * their center of mass, and the time.
 *
 * @author AgustÃ­n Vallejo (PhET Interactive Simulations)
 */

import solarSystemCommon from '../solarSystemCommon.js';
import Body from './Body.js';
import BooleanProperty from '../../../axon/js/BooleanProperty.js';
import EnumerationProperty from '../../../axon/js/EnumerationProperty.js';
import TimeSpeed from '../../../scenery-phet/js/TimeSpeed.js';
import createObservableArray from '../../../axon/js/createObservableArray.js';
import Range from '../../../dot/js/Range.js';
import NumberProperty from '../../../axon/js/NumberProperty.js';
import DerivedProperty from '../../../axon/js/DerivedProperty.js';
import Utils from '../../../dot/js/Utils.js';
import Vector2 from '../../../dot/js/Vector2.js';
import SolarSystemCommonColors from '../SolarSystemCommonColors.js';
import Multilink from '../../../axon/js/Multilink.js';
import SolarSystemCommonConstants from '../SolarSystemCommonConstants.js';
import Emitter from '../../../axon/js/Emitter.js';
import LabMode from './LabMode.js';
import optionize from '../../../phet-core/js/optionize.js';
import TinyEmitter from '../../../axon/js/TinyEmitter.js';
const timeFormatter = new Map([[TimeSpeed.FAST, 7 / 4], [TimeSpeed.NORMAL, 1], [TimeSpeed.SLOW, 1 / 4]]);
export default class SolarSystemCommonModel {
  // Bodies will consist of all bodies from availableBodies that have isActiveProperty.value === true, and will be in
  // order.
  bodies = createObservableArray();
  userControlledProperty = new BooleanProperty(false);
  userInteractingEmitter = new Emitter();

  // Time control parameters
  // Scale of the model's dt
  // Transform between model's and view's times

  hasPlayedProperty = new BooleanProperty(false);
  bodyAddedEmitter = new TinyEmitter();
  bodyRemovedEmitter = new TinyEmitter();

  // Indicates if any body is far from the play area

  isAnyBodyCollidedProperty = new BooleanProperty(false);

  // Indicates if any force arrow is currently off scale
  // Power of 10 to which the force is scaled

  // Define the mode bodies will go to when restarted. Is updated when the user changes a body.
  startingBodyState = [{
    active: true,
    mass: 250,
    position: new Vector2(0, 0),
    velocity: new Vector2(0, -11.1)
  }, {
    active: true,
    mass: 25,
    position: new Vector2(200, 0),
    velocity: new Vector2(0, 111)
  }];
  constructor(providedOptions) {
    const options = optionize()({
      timeScale: 1,
      timeMultiplier: SolarSystemCommonConstants.TIME_MULTIPLIER
    }, providedOptions);
    const tandem = options.tandem;
    this.isLab = options.isLab;
    this.labModeProperty = new EnumerationProperty(LabMode.SUN_PLANET, {
      tandem: tandem.createTandem('labModeProperty')
    });
    this.availableBodies = [new Body(0, 250, new Vector2(0, 0), new Vector2(0, -11.1), this.userControlledProperty, SolarSystemCommonColors.firstBodyColorProperty), new Body(1, 25, new Vector2(200, 0), new Vector2(0, 111), this.userControlledProperty, SolarSystemCommonColors.secondBodyColorProperty), new Body(2, 0.1, new Vector2(100, 0), new Vector2(0, 150), this.userControlledProperty, SolarSystemCommonColors.thirdBodyColorProperty), new Body(3, 0.1, new Vector2(-100, -100), new Vector2(120, 0), this.userControlledProperty, SolarSystemCommonColors.fourthBodyColorProperty)];

    // Activate the first two bodies by default
    this.availableBodies[0].isActiveProperty.value = true;
    this.availableBodies[1].isActiveProperty.value = true;

    // Define the default mode the bodies will show up in
    this.defaultBodyState = this.availableBodies.map(body => body.info);

    // We want to synchronize availableBodies and bodies, so that bodies is effectively availableBodies.filter( isActive )
    // Order matters, AND we don't want to remove items unnecessarily, so some additional logic is required.
    Multilink.multilinkAny(this.availableBodies.map(body => body.isActiveProperty), () => {
      const idealBodies = this.availableBodies.filter(body => body.isActiveProperty.value);

      // Remove all inactive bodies
      this.bodies.filter(body => !body.isActiveProperty.value).forEach(body => {
        this.bodies.remove(body);
        body.reset();
      });

      // Add in active bodies (in order)
      for (let i = 0; i < idealBodies.length; i++) {
        if (this.bodies[i] !== idealBodies[i]) {
          this.bodies.splice(i, 0, idealBodies[i]);
        }
      }
    });
    this.isAnyBodyEscapedProperty = DerivedProperty.or([...this.availableBodies.map(body => body.escapedProperty), this.isAnyBodyCollidedProperty]);
    this.isAnyForceOffscaleProperty = DerivedProperty.or(this.availableBodies.map(body => body.forceOffscaleProperty));
    this.availableBodies.forEach(body => {
      body.collidedEmitter.addListener(() => {
        this.isAnyBodyCollidedProperty.value = true;
      });
      Multilink.lazyMultilink([body.userControlledPositionProperty, body.userControlledVelocityProperty, body.userControlledMassProperty], (userControlledPosition, userControlledVelocity, userControlledMass) => {
        if (userControlledPosition || userControlledVelocity) {
          this.isPlayingProperty.value = false;
        }
        if (!this.isAnyBodyEscapedProperty.value) {
          this.saveStartingBodyState();
        }
        this.userInteractingEmitter.emit();
        this.userControlledProperty.value = true;
      });
    });
    this.loadBodyStates(this.startingBodyState);
    this.numberOfActiveBodiesProperty = new NumberProperty(this.bodies.length);
    this.engine = options.engineFactory(this.bodies);
    this.engine.reset();

    // Time settings
    // timeScale controls the velocity of time
    this.timeScale = options.timeScale;
    this.timeMultiplier = options.timeMultiplier;
    this.timeProperty = new NumberProperty(0);
    this.isPlayingProperty = new BooleanProperty(false);
    this.timeSpeedProperty = new EnumerationProperty(TimeSpeed.NORMAL);

    // Visibility properties for checkboxes
    this.pathVisibleProperty = new BooleanProperty(true, {
      tandem: tandem.createTandem('pathVisibleProperty')
    });
    this.gravityVisibleProperty = new BooleanProperty(false, {
      tandem: tandem.createTandem('gravityVisibleProperty')
    });
    this.velocityVisibleProperty = new BooleanProperty(true, {
      tandem: tandem.createTandem('velocityVisibleProperty')
    });
    this.gridVisibleProperty = new BooleanProperty(false, {
      tandem: tandem.createTandem('gridVisibleProperty')
    });
    this.measuringTapeVisibleProperty = new BooleanProperty(false, {
      tandem: tandem.createTandem('measuringTapeVisibleProperty')
    });
    this.valuesVisibleProperty = new BooleanProperty(false, {
      tandem: tandem.createTandem('valuesVisibleProperty')
    });
    this.moreDataProperty = new BooleanProperty(false, {
      tandem: tandem.createTandem('moreDataProperty')
    });
    this.realUnitsProperty = new BooleanProperty(false, {
      tandem: tandem.createTandem('realUnitsProperty')
    });
    this.forceScaleProperty = new NumberProperty(0, {
      range: new Range(-2, 8)
    });
    this.zoomLevelProperty = new NumberProperty(4, {
      range: new Range(1, 6),
      tandem: tandem.createTandem('zoomLevelProperty'),
      numberType: 'Integer'
    });
    this.zoomProperty = new DerivedProperty([this.zoomLevelProperty], zoomLevel => {
      return Utils.linear(1, 6, 0.25, 1.25, zoomLevel);
    });
    this.pathVisibleProperty.link(visible => {
      this.clearPaths();
    });
  }
  saveStartingBodyState() {
    this.startingBodyState = this.availableBodies.map(body => body.info);
  }

  /**
   * Sets the available bodies initial states according to bodiesInfo
   */
  loadBodyStates(bodiesInfo, preventCollision = false) {
    for (let i = 0; i < SolarSystemCommonConstants.NUM_BODIES; i++) {
      const bodyInfo = bodiesInfo[i];
      if (bodyInfo) {
        this.availableBodies[i].isActiveProperty.value = bodyInfo.active;

        // Setting initial values and then resetting the body to make sure the body is in the correct state
        this.availableBodies[i].massProperty.setInitialValue(bodyInfo.mass);
        this.availableBodies[i].positionProperty.setInitialValue(bodyInfo.position);
        this.availableBodies[i].velocityProperty.setInitialValue(bodyInfo.velocity);
        this.availableBodies[i].reset();
        if (preventCollision) {
          this.availableBodies[i].preventCollision(this.bodies);
        }
      } else {
        this.availableBodies[i].isActiveProperty.value = false;
      }
    }
    this.saveStartingBodyState();
  }

  /**
   * Adds the next available body to the system and checks that is doesn't collide with any other bodies.
   */
  addNextBody() {
    const newBody = this.availableBodies.find(body => !body.isActiveProperty.value);
    if (newBody) {
      newBody.reset();
      newBody.preventCollision(this.bodies);
      newBody.isActiveProperty.value = true;
    }
    this.saveStartingBodyState();
    this.bodyAddedEmitter.emit();
    this.isAnyBodyCollidedProperty.reset();
  }
  removeLastBody() {
    const numberOfActiveBodies = this.bodies.length - 1;
    const lastBody = this.bodies[numberOfActiveBodies];
    lastBody.isActiveProperty.value = false;
    this.saveStartingBodyState();
    this.bodyRemovedEmitter.emit();
    this.isAnyBodyCollidedProperty.reset();
  }
  reset() {
    this.isPlayingProperty.value = false; // Pause the sim
    this.timeSpeedProperty.reset();
    this.zoomLevelProperty.reset();
    this.pathVisibleProperty.reset();
    this.gravityVisibleProperty.reset();
    this.velocityVisibleProperty.reset();
    this.gridVisibleProperty.reset();
    this.measuringTapeVisibleProperty.reset();
    this.valuesVisibleProperty.reset();
    this.moreDataProperty.reset();
    this.realUnitsProperty.reset();
    this.userControlledProperty.reset();
    this.forceScaleProperty.reset();
    this.startingBodyState = this.defaultBodyState;
    this.restart();
  }

  // Restart is for when the time controls are brought back to 0
  // Bodies move to their last modified position
  restart() {
    this.isAnyBodyCollidedProperty.reset();
    this.hasPlayedProperty.value = false;
    this.isPlayingProperty.value = false; // Pause the sim
    this.timeProperty.reset(); // Reset the time
    this.loadBodyStates(this.startingBodyState); // Reset the bodies
    this.update();
  }

  /**
   * Updating for when the bodies are changed
   */
  update() {
    this.engine.update(this.bodies);
    this.numberOfActiveBodiesProperty.value = this.bodies.length;
  }
  stepOnce(dt) {
    this.hasPlayedProperty.value = true;
    let adjustedDT = dt * timeFormatter.get(this.timeSpeedProperty.value) * this.timeScale;
    const count = Math.ceil(adjustedDT / 0.02);
    adjustedDT /= count;
    for (let i = 0; i < count; i++) {
      // Only modify the properties on the last step
      const updateProperties = i === count - 1;
      this.engine.run(adjustedDT, updateProperties);
      this.engine.checkCollisions();
      this.timeProperty.value += adjustedDT * this.timeMultiplier;
      if (this.pathVisibleProperty) {
        this.bodies.forEach(body => body.addPathPoint());
      }
    }
  }
  step(dt) {
    this.update();
    if (this.isPlayingProperty.value) {
      this.stepOnce(dt);
    }
  }
  clearPaths() {
    this.bodies.forEach(body => {
      body.clearPath();
    });
  }
}
solarSystemCommon.register('SolarSystemCommonModel', SolarSystemCommonModel);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzb2xhclN5c3RlbUNvbW1vbiIsIkJvZHkiLCJCb29sZWFuUHJvcGVydHkiLCJFbnVtZXJhdGlvblByb3BlcnR5IiwiVGltZVNwZWVkIiwiY3JlYXRlT2JzZXJ2YWJsZUFycmF5IiwiUmFuZ2UiLCJOdW1iZXJQcm9wZXJ0eSIsIkRlcml2ZWRQcm9wZXJ0eSIsIlV0aWxzIiwiVmVjdG9yMiIsIlNvbGFyU3lzdGVtQ29tbW9uQ29sb3JzIiwiTXVsdGlsaW5rIiwiU29sYXJTeXN0ZW1Db21tb25Db25zdGFudHMiLCJFbWl0dGVyIiwiTGFiTW9kZSIsIm9wdGlvbml6ZSIsIlRpbnlFbWl0dGVyIiwidGltZUZvcm1hdHRlciIsIk1hcCIsIkZBU1QiLCJOT1JNQUwiLCJTTE9XIiwiU29sYXJTeXN0ZW1Db21tb25Nb2RlbCIsImJvZGllcyIsInVzZXJDb250cm9sbGVkUHJvcGVydHkiLCJ1c2VySW50ZXJhY3RpbmdFbWl0dGVyIiwiaGFzUGxheWVkUHJvcGVydHkiLCJib2R5QWRkZWRFbWl0dGVyIiwiYm9keVJlbW92ZWRFbWl0dGVyIiwiaXNBbnlCb2R5Q29sbGlkZWRQcm9wZXJ0eSIsInN0YXJ0aW5nQm9keVN0YXRlIiwiYWN0aXZlIiwibWFzcyIsInBvc2l0aW9uIiwidmVsb2NpdHkiLCJjb25zdHJ1Y3RvciIsInByb3ZpZGVkT3B0aW9ucyIsIm9wdGlvbnMiLCJ0aW1lU2NhbGUiLCJ0aW1lTXVsdGlwbGllciIsIlRJTUVfTVVMVElQTElFUiIsInRhbmRlbSIsImlzTGFiIiwibGFiTW9kZVByb3BlcnR5IiwiU1VOX1BMQU5FVCIsImNyZWF0ZVRhbmRlbSIsImF2YWlsYWJsZUJvZGllcyIsImZpcnN0Qm9keUNvbG9yUHJvcGVydHkiLCJzZWNvbmRCb2R5Q29sb3JQcm9wZXJ0eSIsInRoaXJkQm9keUNvbG9yUHJvcGVydHkiLCJmb3VydGhCb2R5Q29sb3JQcm9wZXJ0eSIsImlzQWN0aXZlUHJvcGVydHkiLCJ2YWx1ZSIsImRlZmF1bHRCb2R5U3RhdGUiLCJtYXAiLCJib2R5IiwiaW5mbyIsIm11bHRpbGlua0FueSIsImlkZWFsQm9kaWVzIiwiZmlsdGVyIiwiZm9yRWFjaCIsInJlbW92ZSIsInJlc2V0IiwiaSIsImxlbmd0aCIsInNwbGljZSIsImlzQW55Qm9keUVzY2FwZWRQcm9wZXJ0eSIsIm9yIiwiZXNjYXBlZFByb3BlcnR5IiwiaXNBbnlGb3JjZU9mZnNjYWxlUHJvcGVydHkiLCJmb3JjZU9mZnNjYWxlUHJvcGVydHkiLCJjb2xsaWRlZEVtaXR0ZXIiLCJhZGRMaXN0ZW5lciIsImxhenlNdWx0aWxpbmsiLCJ1c2VyQ29udHJvbGxlZFBvc2l0aW9uUHJvcGVydHkiLCJ1c2VyQ29udHJvbGxlZFZlbG9jaXR5UHJvcGVydHkiLCJ1c2VyQ29udHJvbGxlZE1hc3NQcm9wZXJ0eSIsInVzZXJDb250cm9sbGVkUG9zaXRpb24iLCJ1c2VyQ29udHJvbGxlZFZlbG9jaXR5IiwidXNlckNvbnRyb2xsZWRNYXNzIiwiaXNQbGF5aW5nUHJvcGVydHkiLCJzYXZlU3RhcnRpbmdCb2R5U3RhdGUiLCJlbWl0IiwibG9hZEJvZHlTdGF0ZXMiLCJudW1iZXJPZkFjdGl2ZUJvZGllc1Byb3BlcnR5IiwiZW5naW5lIiwiZW5naW5lRmFjdG9yeSIsInRpbWVQcm9wZXJ0eSIsInRpbWVTcGVlZFByb3BlcnR5IiwicGF0aFZpc2libGVQcm9wZXJ0eSIsImdyYXZpdHlWaXNpYmxlUHJvcGVydHkiLCJ2ZWxvY2l0eVZpc2libGVQcm9wZXJ0eSIsImdyaWRWaXNpYmxlUHJvcGVydHkiLCJtZWFzdXJpbmdUYXBlVmlzaWJsZVByb3BlcnR5IiwidmFsdWVzVmlzaWJsZVByb3BlcnR5IiwibW9yZURhdGFQcm9wZXJ0eSIsInJlYWxVbml0c1Byb3BlcnR5IiwiZm9yY2VTY2FsZVByb3BlcnR5IiwicmFuZ2UiLCJ6b29tTGV2ZWxQcm9wZXJ0eSIsIm51bWJlclR5cGUiLCJ6b29tUHJvcGVydHkiLCJ6b29tTGV2ZWwiLCJsaW5lYXIiLCJsaW5rIiwidmlzaWJsZSIsImNsZWFyUGF0aHMiLCJib2RpZXNJbmZvIiwicHJldmVudENvbGxpc2lvbiIsIk5VTV9CT0RJRVMiLCJib2R5SW5mbyIsIm1hc3NQcm9wZXJ0eSIsInNldEluaXRpYWxWYWx1ZSIsInBvc2l0aW9uUHJvcGVydHkiLCJ2ZWxvY2l0eVByb3BlcnR5IiwiYWRkTmV4dEJvZHkiLCJuZXdCb2R5IiwiZmluZCIsInJlbW92ZUxhc3RCb2R5IiwibnVtYmVyT2ZBY3RpdmVCb2RpZXMiLCJsYXN0Qm9keSIsInJlc3RhcnQiLCJ1cGRhdGUiLCJzdGVwT25jZSIsImR0IiwiYWRqdXN0ZWREVCIsImdldCIsImNvdW50IiwiTWF0aCIsImNlaWwiLCJ1cGRhdGVQcm9wZXJ0aWVzIiwicnVuIiwiY2hlY2tDb2xsaXNpb25zIiwiYWRkUGF0aFBvaW50Iiwic3RlcCIsImNsZWFyUGF0aCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiU29sYXJTeXN0ZW1Db21tb25Nb2RlbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogTWFpbiBtb2RlbCBmb3IgTXkgU29sYXIgU3lzdGVtLlxyXG4gKiBJbiBjaGFyZ2Ugb2Yga2VlcGluZyB0cmFjayBvZiB0aGUgcG9zaXRpb24gYW5kIHN0YXRlcyBvZiB0aGUgYm9kaWVzLFxyXG4gKiB0aGVpciBjZW50ZXIgb2YgbWFzcywgYW5kIHRoZSB0aW1lLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEFndXN0w61uIFZhbGxlam8gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IFRhbmRlbSBmcm9tICcuLi8uLi8uLi90YW5kZW0vanMvVGFuZGVtLmpzJztcclxuaW1wb3J0IHNvbGFyU3lzdGVtQ29tbW9uIGZyb20gJy4uL3NvbGFyU3lzdGVtQ29tbW9uLmpzJztcclxuaW1wb3J0IEJvZHkgZnJvbSAnLi9Cb2R5LmpzJztcclxuaW1wb3J0IEJvb2xlYW5Qcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi9heG9uL2pzL0Jvb2xlYW5Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBFbnVtZXJhdGlvblByb3BlcnR5IGZyb20gJy4uLy4uLy4uL2F4b24vanMvRW51bWVyYXRpb25Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBUaW1lU3BlZWQgZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1RpbWVTcGVlZC5qcyc7XHJcbmltcG9ydCBjcmVhdGVPYnNlcnZhYmxlQXJyYXksIHsgT2JzZXJ2YWJsZUFycmF5IH0gZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9jcmVhdGVPYnNlcnZhYmxlQXJyYXkuanMnO1xyXG5pbXBvcnQgRW5naW5lIGZyb20gJy4vRW5naW5lLmpzJztcclxuaW1wb3J0IFJhbmdlIGZyb20gJy4uLy4uLy4uL2RvdC9qcy9SYW5nZS5qcyc7XHJcbmltcG9ydCBOdW1iZXJQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi9heG9uL2pzL051bWJlclByb3BlcnR5LmpzJztcclxuaW1wb3J0IFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9SZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IERlcml2ZWRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi9heG9uL2pzL0Rlcml2ZWRQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBVdGlscyBmcm9tICcuLi8uLi8uLi9kb3QvanMvVXRpbHMuanMnO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCBTb2xhclN5c3RlbUNvbW1vbkNvbG9ycyBmcm9tICcuLi9Tb2xhclN5c3RlbUNvbW1vbkNvbG9ycy5qcyc7XHJcbmltcG9ydCBNdWx0aWxpbmsgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9NdWx0aWxpbmsuanMnO1xyXG5pbXBvcnQgU29sYXJTeXN0ZW1Db21tb25Db25zdGFudHMgZnJvbSAnLi4vU29sYXJTeXN0ZW1Db21tb25Db25zdGFudHMuanMnO1xyXG5pbXBvcnQgRW1pdHRlciBmcm9tICcuLi8uLi8uLi9heG9uL2pzL0VtaXR0ZXIuanMnO1xyXG5pbXBvcnQgTGFiTW9kZSBmcm9tICcuL0xhYk1vZGUuanMnO1xyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgVGlueUVtaXR0ZXIgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9UaW55RW1pdHRlci5qcyc7XHJcblxyXG5jb25zdCB0aW1lRm9ybWF0dGVyID0gbmV3IE1hcDxUaW1lU3BlZWQsIG51bWJlcj4oIFtcclxuICBbIFRpbWVTcGVlZC5GQVNULCA3IC8gNCBdLFxyXG4gIFsgVGltZVNwZWVkLk5PUk1BTCwgMSBdLFxyXG4gIFsgVGltZVNwZWVkLlNMT1csIDEgLyA0IF1cclxuXSApO1xyXG5cclxudHlwZSBTZWxmT3B0aW9uczxFbmdpbmVUeXBlIGV4dGVuZHMgRW5naW5lPiA9IHtcclxuICBlbmdpbmVGYWN0b3J5OiAoIGJvZGllczogT2JzZXJ2YWJsZUFycmF5PEJvZHk+ICkgPT4gRW5naW5lVHlwZTtcclxuICBpc0xhYjogYm9vbGVhbjtcclxuICB0YW5kZW06IFRhbmRlbTtcclxuICB0aW1lU2NhbGU/OiBudW1iZXI7XHJcbiAgdGltZU11bHRpcGxpZXI/OiBudW1iZXI7XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBCb2R5SW5mbyA9IHtcclxuICBtYXNzOiBudW1iZXI7XHJcbiAgcG9zaXRpb246IFZlY3RvcjI7XHJcbiAgdmVsb2NpdHk6IFZlY3RvcjI7XHJcbiAgYWN0aXZlOiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29tbW9uTW9kZWxPcHRpb25zPEVuZ2luZVR5cGUgZXh0ZW5kcyBFbmdpbmU+ID0gU2VsZk9wdGlvbnM8RW5naW5lVHlwZT47XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBTb2xhclN5c3RlbUNvbW1vbk1vZGVsPEVuZ2luZVR5cGUgZXh0ZW5kcyBFbmdpbmUgPSBFbmdpbmU+IHtcclxuXHJcbiAgLy8gQm9kaWVzIHdpbGwgY29uc2lzdCBvZiBhbGwgYm9kaWVzIGZyb20gYXZhaWxhYmxlQm9kaWVzIHRoYXQgaGF2ZSBpc0FjdGl2ZVByb3BlcnR5LnZhbHVlID09PSB0cnVlLCBhbmQgd2lsbCBiZSBpblxyXG4gIC8vIG9yZGVyLlxyXG4gIHB1YmxpYyByZWFkb25seSBib2RpZXM6IE9ic2VydmFibGVBcnJheTxCb2R5PiA9IGNyZWF0ZU9ic2VydmFibGVBcnJheSgpO1xyXG4gIHB1YmxpYyByZWFkb25seSBhdmFpbGFibGVCb2RpZXM6IEJvZHlbXTtcclxuICBwdWJsaWMgcmVhZG9ubHkgdXNlckNvbnRyb2xsZWRQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlICk7XHJcblxyXG4gIHB1YmxpYyBudW1iZXJPZkFjdGl2ZUJvZGllc1Byb3BlcnR5OiBOdW1iZXJQcm9wZXJ0eTtcclxuICBwdWJsaWMgZW5naW5lOiBFbmdpbmVUeXBlO1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgdXNlckludGVyYWN0aW5nRW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XHJcblxyXG4gIC8vIFRpbWUgY29udHJvbCBwYXJhbWV0ZXJzXHJcbiAgcHVibGljIHRpbWVTY2FsZTogbnVtYmVyOyAvLyBTY2FsZSBvZiB0aGUgbW9kZWwncyBkdFxyXG4gIHB1YmxpYyB0aW1lTXVsdGlwbGllcjogbnVtYmVyOyAvLyBUcmFuc2Zvcm0gYmV0d2VlbiBtb2RlbCdzIGFuZCB2aWV3J3MgdGltZXNcclxuICBwdWJsaWMgcmVhZG9ubHkgdGltZVByb3BlcnR5OiBOdW1iZXJQcm9wZXJ0eTtcclxuICBwdWJsaWMgcmVhZG9ubHkgaXNQbGF5aW5nUHJvcGVydHk6IEJvb2xlYW5Qcm9wZXJ0eTtcclxuICBwdWJsaWMgcmVhZG9ubHkgdGltZVNwZWVkUHJvcGVydHk6IEVudW1lcmF0aW9uUHJvcGVydHk8VGltZVNwZWVkPjtcclxuICBwdWJsaWMgcmVhZG9ubHkgaGFzUGxheWVkUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCBmYWxzZSApO1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgcGF0aFZpc2libGVQcm9wZXJ0eTogQm9vbGVhblByb3BlcnR5O1xyXG4gIHB1YmxpYyByZWFkb25seSBncmF2aXR5VmlzaWJsZVByb3BlcnR5OiBCb29sZWFuUHJvcGVydHk7XHJcbiAgcHVibGljIHJlYWRvbmx5IHZlbG9jaXR5VmlzaWJsZVByb3BlcnR5OiBCb29sZWFuUHJvcGVydHk7XHJcbiAgcHVibGljIHJlYWRvbmx5IGdyaWRWaXNpYmxlUHJvcGVydHk6IEJvb2xlYW5Qcm9wZXJ0eTtcclxuICBwdWJsaWMgcmVhZG9ubHkgbWVhc3VyaW5nVGFwZVZpc2libGVQcm9wZXJ0eTogQm9vbGVhblByb3BlcnR5O1xyXG4gIHB1YmxpYyByZWFkb25seSB2YWx1ZXNWaXNpYmxlUHJvcGVydHk6IEJvb2xlYW5Qcm9wZXJ0eTtcclxuICBwdWJsaWMgcmVhZG9ubHkgbW9yZURhdGFQcm9wZXJ0eTogQm9vbGVhblByb3BlcnR5O1xyXG4gIHB1YmxpYyByZWFkb25seSByZWFsVW5pdHNQcm9wZXJ0eTogQm9vbGVhblByb3BlcnR5O1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgem9vbUxldmVsUHJvcGVydHk6IE51bWJlclByb3BlcnR5O1xyXG4gIHB1YmxpYyByZWFkb25seSB6b29tUHJvcGVydHk6IFJlYWRPbmx5UHJvcGVydHk8bnVtYmVyPjtcclxuICBwdWJsaWMgcmVhZG9ubHkgaXNMYWI6IGJvb2xlYW47XHJcbiAgcHVibGljIHJlYWRvbmx5IGxhYk1vZGVQcm9wZXJ0eTogRW51bWVyYXRpb25Qcm9wZXJ0eTxMYWJNb2RlPjtcclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IGJvZHlBZGRlZEVtaXR0ZXI6IFRpbnlFbWl0dGVyID0gbmV3IFRpbnlFbWl0dGVyKCk7XHJcbiAgcHVibGljIHJlYWRvbmx5IGJvZHlSZW1vdmVkRW1pdHRlcjogVGlueUVtaXR0ZXIgPSBuZXcgVGlueUVtaXR0ZXIoKTtcclxuXHJcbiAgLy8gSW5kaWNhdGVzIGlmIGFueSBib2R5IGlzIGZhciBmcm9tIHRoZSBwbGF5IGFyZWFcclxuICBwdWJsaWMgcmVhZG9ubHkgaXNBbnlCb2R5RXNjYXBlZFByb3BlcnR5OiBSZWFkT25seVByb3BlcnR5PGJvb2xlYW4+O1xyXG4gIHB1YmxpYyByZWFkb25seSBpc0FueUJvZHlDb2xsaWRlZFByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKTtcclxuXHJcbiAgLy8gSW5kaWNhdGVzIGlmIGFueSBmb3JjZSBhcnJvdyBpcyBjdXJyZW50bHkgb2ZmIHNjYWxlXHJcbiAgcHVibGljIHJlYWRvbmx5IGZvcmNlU2NhbGVQcm9wZXJ0eTogTnVtYmVyUHJvcGVydHk7IC8vIFBvd2VyIG9mIDEwIHRvIHdoaWNoIHRoZSBmb3JjZSBpcyBzY2FsZWRcclxuICBwdWJsaWMgcmVhZG9ubHkgaXNBbnlGb3JjZU9mZnNjYWxlUHJvcGVydHk6IFJlYWRPbmx5UHJvcGVydHk8Ym9vbGVhbj47XHJcblxyXG4gIC8vIERlZmluZSB0aGUgbW9kZSBib2RpZXMgd2lsbCBnbyB0byB3aGVuIHJlc3RhcnRlZC4gSXMgdXBkYXRlZCB3aGVuIHRoZSB1c2VyIGNoYW5nZXMgYSBib2R5LlxyXG4gIHByaXZhdGUgc3RhcnRpbmdCb2R5U3RhdGU6IEJvZHlJbmZvW10gPSBbXHJcbiAgICB7IGFjdGl2ZTogdHJ1ZSwgbWFzczogMjUwLCBwb3NpdGlvbjogbmV3IFZlY3RvcjIoIDAsIDAgKSwgdmVsb2NpdHk6IG5ldyBWZWN0b3IyKCAwLCAtMTEuMSApIH0sXHJcbiAgICB7IGFjdGl2ZTogdHJ1ZSwgbWFzczogMjUsIHBvc2l0aW9uOiBuZXcgVmVjdG9yMiggMjAwLCAwICksIHZlbG9jaXR5OiBuZXcgVmVjdG9yMiggMCwgMTExICkgfVxyXG4gIF07XHJcbiAgcHJvdGVjdGVkIGRlZmF1bHRCb2R5U3RhdGU6IEJvZHlJbmZvW107XHJcblxyXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3RvciggcHJvdmlkZWRPcHRpb25zOiBDb21tb25Nb2RlbE9wdGlvbnM8RW5naW5lVHlwZT4gKSB7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxDb21tb25Nb2RlbE9wdGlvbnM8RW5naW5lVHlwZT4sIFNlbGZPcHRpb25zPEVuZ2luZVR5cGU+PigpKCB7XHJcbiAgICAgIHRpbWVTY2FsZTogMSxcclxuICAgICAgdGltZU11bHRpcGxpZXI6IFNvbGFyU3lzdGVtQ29tbW9uQ29uc3RhbnRzLlRJTUVfTVVMVElQTElFUlxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgY29uc3QgdGFuZGVtID0gb3B0aW9ucy50YW5kZW07XHJcblxyXG4gICAgdGhpcy5pc0xhYiA9IG9wdGlvbnMuaXNMYWI7XHJcbiAgICB0aGlzLmxhYk1vZGVQcm9wZXJ0eSA9IG5ldyBFbnVtZXJhdGlvblByb3BlcnR5KCBMYWJNb2RlLlNVTl9QTEFORVQsIHtcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnbGFiTW9kZVByb3BlcnR5JyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5hdmFpbGFibGVCb2RpZXMgPSBbXHJcbiAgICAgIG5ldyBCb2R5KCAwLCAyNTAsIG5ldyBWZWN0b3IyKCAwLCAwICksIG5ldyBWZWN0b3IyKCAwLCAtMTEuMSApLCB0aGlzLnVzZXJDb250cm9sbGVkUHJvcGVydHksIFNvbGFyU3lzdGVtQ29tbW9uQ29sb3JzLmZpcnN0Qm9keUNvbG9yUHJvcGVydHkgKSxcclxuICAgICAgbmV3IEJvZHkoIDEsIDI1LCBuZXcgVmVjdG9yMiggMjAwLCAwICksIG5ldyBWZWN0b3IyKCAwLCAxMTEgKSwgdGhpcy51c2VyQ29udHJvbGxlZFByb3BlcnR5LCBTb2xhclN5c3RlbUNvbW1vbkNvbG9ycy5zZWNvbmRCb2R5Q29sb3JQcm9wZXJ0eSApLFxyXG4gICAgICBuZXcgQm9keSggMiwgMC4xLCBuZXcgVmVjdG9yMiggMTAwLCAwICksIG5ldyBWZWN0b3IyKCAwLCAxNTAgKSwgdGhpcy51c2VyQ29udHJvbGxlZFByb3BlcnR5LCBTb2xhclN5c3RlbUNvbW1vbkNvbG9ycy50aGlyZEJvZHlDb2xvclByb3BlcnR5ICksXHJcbiAgICAgIG5ldyBCb2R5KCAzLCAwLjEsIG5ldyBWZWN0b3IyKCAtMTAwLCAtMTAwICksIG5ldyBWZWN0b3IyKCAxMjAsIDAgKSwgdGhpcy51c2VyQ29udHJvbGxlZFByb3BlcnR5LCBTb2xhclN5c3RlbUNvbW1vbkNvbG9ycy5mb3VydGhCb2R5Q29sb3JQcm9wZXJ0eSApXHJcbiAgICBdO1xyXG5cclxuICAgIC8vIEFjdGl2YXRlIHRoZSBmaXJzdCB0d28gYm9kaWVzIGJ5IGRlZmF1bHRcclxuICAgIHRoaXMuYXZhaWxhYmxlQm9kaWVzWyAwIF0uaXNBY3RpdmVQcm9wZXJ0eS52YWx1ZSA9IHRydWU7XHJcbiAgICB0aGlzLmF2YWlsYWJsZUJvZGllc1sgMSBdLmlzQWN0aXZlUHJvcGVydHkudmFsdWUgPSB0cnVlO1xyXG5cclxuICAgIC8vIERlZmluZSB0aGUgZGVmYXVsdCBtb2RlIHRoZSBib2RpZXMgd2lsbCBzaG93IHVwIGluXHJcbiAgICB0aGlzLmRlZmF1bHRCb2R5U3RhdGUgPSB0aGlzLmF2YWlsYWJsZUJvZGllcy5tYXAoIGJvZHkgPT4gYm9keS5pbmZvICk7XHJcblxyXG4gICAgLy8gV2Ugd2FudCB0byBzeW5jaHJvbml6ZSBhdmFpbGFibGVCb2RpZXMgYW5kIGJvZGllcywgc28gdGhhdCBib2RpZXMgaXMgZWZmZWN0aXZlbHkgYXZhaWxhYmxlQm9kaWVzLmZpbHRlciggaXNBY3RpdmUgKVxyXG4gICAgLy8gT3JkZXIgbWF0dGVycywgQU5EIHdlIGRvbid0IHdhbnQgdG8gcmVtb3ZlIGl0ZW1zIHVubmVjZXNzYXJpbHksIHNvIHNvbWUgYWRkaXRpb25hbCBsb2dpYyBpcyByZXF1aXJlZC5cclxuICAgIE11bHRpbGluay5tdWx0aWxpbmtBbnkoIHRoaXMuYXZhaWxhYmxlQm9kaWVzLm1hcCggYm9keSA9PiBib2R5LmlzQWN0aXZlUHJvcGVydHkgKSwgKCkgPT4ge1xyXG4gICAgICBjb25zdCBpZGVhbEJvZGllcyA9IHRoaXMuYXZhaWxhYmxlQm9kaWVzLmZpbHRlciggYm9keSA9PiBib2R5LmlzQWN0aXZlUHJvcGVydHkudmFsdWUgKTtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSBhbGwgaW5hY3RpdmUgYm9kaWVzXHJcbiAgICAgIHRoaXMuYm9kaWVzLmZpbHRlciggYm9keSA9PiAhYm9keS5pc0FjdGl2ZVByb3BlcnR5LnZhbHVlICkuZm9yRWFjaCggYm9keSA9PiB7XHJcbiAgICAgICAgdGhpcy5ib2RpZXMucmVtb3ZlKCBib2R5ICk7XHJcbiAgICAgICAgYm9keS5yZXNldCgpO1xyXG4gICAgICB9ICk7XHJcblxyXG4gICAgICAvLyBBZGQgaW4gYWN0aXZlIGJvZGllcyAoaW4gb3JkZXIpXHJcbiAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGlkZWFsQm9kaWVzLmxlbmd0aDsgaSsrICkge1xyXG4gICAgICAgIGlmICggdGhpcy5ib2RpZXNbIGkgXSAhPT0gaWRlYWxCb2RpZXNbIGkgXSApIHtcclxuICAgICAgICAgIHRoaXMuYm9kaWVzLnNwbGljZSggaSwgMCwgaWRlYWxCb2RpZXNbIGkgXSApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuaXNBbnlCb2R5RXNjYXBlZFByb3BlcnR5ID0gRGVyaXZlZFByb3BlcnR5Lm9yKCBbIC4uLnRoaXMuYXZhaWxhYmxlQm9kaWVzLm1hcCggYm9keSA9PiBib2R5LmVzY2FwZWRQcm9wZXJ0eSApLCB0aGlzLmlzQW55Qm9keUNvbGxpZGVkUHJvcGVydHkgXSApO1xyXG5cclxuICAgIHRoaXMuaXNBbnlGb3JjZU9mZnNjYWxlUHJvcGVydHkgPSBEZXJpdmVkUHJvcGVydHkub3IoIHRoaXMuYXZhaWxhYmxlQm9kaWVzLm1hcCggYm9keSA9PiBib2R5LmZvcmNlT2Zmc2NhbGVQcm9wZXJ0eSApICk7XHJcblxyXG4gICAgdGhpcy5hdmFpbGFibGVCb2RpZXMuZm9yRWFjaCggYm9keSA9PiB7XHJcbiAgICAgIGJvZHkuY29sbGlkZWRFbWl0dGVyLmFkZExpc3RlbmVyKCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc0FueUJvZHlDb2xsaWRlZFByb3BlcnR5LnZhbHVlID0gdHJ1ZTtcclxuICAgICAgfSApO1xyXG5cclxuICAgICAgTXVsdGlsaW5rLmxhenlNdWx0aWxpbmsoXHJcbiAgICAgICAgWyBib2R5LnVzZXJDb250cm9sbGVkUG9zaXRpb25Qcm9wZXJ0eSwgYm9keS51c2VyQ29udHJvbGxlZFZlbG9jaXR5UHJvcGVydHksIGJvZHkudXNlckNvbnRyb2xsZWRNYXNzUHJvcGVydHkgXSxcclxuICAgICAgICAoIHVzZXJDb250cm9sbGVkUG9zaXRpb246IGJvb2xlYW4sIHVzZXJDb250cm9sbGVkVmVsb2NpdHk6IGJvb2xlYW4sIHVzZXJDb250cm9sbGVkTWFzczogYm9vbGVhbiApID0+IHtcclxuICAgICAgICAgIGlmICggdXNlckNvbnRyb2xsZWRQb3NpdGlvbiB8fCB1c2VyQ29udHJvbGxlZFZlbG9jaXR5ICkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUGxheWluZ1Byb3BlcnR5LnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoICF0aGlzLmlzQW55Qm9keUVzY2FwZWRQcm9wZXJ0eS52YWx1ZSApIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlU3RhcnRpbmdCb2R5U3RhdGUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMudXNlckludGVyYWN0aW5nRW1pdHRlci5lbWl0KCk7XHJcbiAgICAgICAgICB0aGlzLnVzZXJDb250cm9sbGVkUHJvcGVydHkudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmxvYWRCb2R5U3RhdGVzKCB0aGlzLnN0YXJ0aW5nQm9keVN0YXRlICk7XHJcbiAgICB0aGlzLm51bWJlck9mQWN0aXZlQm9kaWVzUHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHkoIHRoaXMuYm9kaWVzLmxlbmd0aCApO1xyXG4gICAgdGhpcy5lbmdpbmUgPSBvcHRpb25zLmVuZ2luZUZhY3RvcnkoIHRoaXMuYm9kaWVzICk7XHJcbiAgICB0aGlzLmVuZ2luZS5yZXNldCgpO1xyXG5cclxuXHJcbiAgICAvLyBUaW1lIHNldHRpbmdzXHJcbiAgICAvLyB0aW1lU2NhbGUgY29udHJvbHMgdGhlIHZlbG9jaXR5IG9mIHRpbWVcclxuICAgIHRoaXMudGltZVNjYWxlID0gb3B0aW9ucy50aW1lU2NhbGU7XHJcbiAgICB0aGlzLnRpbWVNdWx0aXBsaWVyID0gb3B0aW9ucy50aW1lTXVsdGlwbGllcjtcclxuICAgIHRoaXMudGltZVByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCAwICk7XHJcbiAgICB0aGlzLmlzUGxheWluZ1Byb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKTtcclxuICAgIHRoaXMudGltZVNwZWVkUHJvcGVydHkgPSBuZXcgRW51bWVyYXRpb25Qcm9wZXJ0eSggVGltZVNwZWVkLk5PUk1BTCApO1xyXG5cclxuICAgIC8vIFZpc2liaWxpdHkgcHJvcGVydGllcyBmb3IgY2hlY2tib3hlc1xyXG4gICAgdGhpcy5wYXRoVmlzaWJsZVByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggdHJ1ZSwgeyB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdwYXRoVmlzaWJsZVByb3BlcnR5JyApIH0gKTtcclxuICAgIHRoaXMuZ3Jhdml0eVZpc2libGVQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlLCB7IHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2dyYXZpdHlWaXNpYmxlUHJvcGVydHknICkgfSApO1xyXG4gICAgdGhpcy52ZWxvY2l0eVZpc2libGVQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIHRydWUsIHsgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAndmVsb2NpdHlWaXNpYmxlUHJvcGVydHknICkgfSApO1xyXG4gICAgdGhpcy5ncmlkVmlzaWJsZVByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UsIHsgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnZ3JpZFZpc2libGVQcm9wZXJ0eScgKSB9ICk7XHJcbiAgICB0aGlzLm1lYXN1cmluZ1RhcGVWaXNpYmxlUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCBmYWxzZSwgeyB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdtZWFzdXJpbmdUYXBlVmlzaWJsZVByb3BlcnR5JyApIH0gKTtcclxuICAgIHRoaXMudmFsdWVzVmlzaWJsZVByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UsIHsgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAndmFsdWVzVmlzaWJsZVByb3BlcnR5JyApIH0gKTtcclxuICAgIHRoaXMubW9yZURhdGFQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlLCB7IHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ21vcmVEYXRhUHJvcGVydHknICkgfSApO1xyXG4gICAgdGhpcy5yZWFsVW5pdHNQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlLCB7IHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3JlYWxVbml0c1Byb3BlcnR5JyApIH0gKTtcclxuXHJcblxyXG4gICAgdGhpcy5mb3JjZVNjYWxlUHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHkoIDAsIHtcclxuICAgICAgcmFuZ2U6IG5ldyBSYW5nZSggLTIsIDggKVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy56b29tTGV2ZWxQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggNCwge1xyXG4gICAgICByYW5nZTogbmV3IFJhbmdlKCAxLCA2ICksXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3pvb21MZXZlbFByb3BlcnR5JyApLFxyXG4gICAgICBudW1iZXJUeXBlOiAnSW50ZWdlcidcclxuICAgIH0gKTtcclxuICAgIHRoaXMuem9vbVByb3BlcnR5ID0gbmV3IERlcml2ZWRQcm9wZXJ0eSggWyB0aGlzLnpvb21MZXZlbFByb3BlcnR5IF0sIHpvb21MZXZlbCA9PiB7XHJcbiAgICAgIHJldHVybiBVdGlscy5saW5lYXIoIDEsIDYsIDAuMjUsIDEuMjUsIHpvb21MZXZlbCApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMucGF0aFZpc2libGVQcm9wZXJ0eS5saW5rKCB2aXNpYmxlID0+IHtcclxuICAgICAgdGhpcy5jbGVhclBhdGhzKCk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2F2ZVN0YXJ0aW5nQm9keVN0YXRlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zdGFydGluZ0JvZHlTdGF0ZSA9IHRoaXMuYXZhaWxhYmxlQm9kaWVzLm1hcCggYm9keSA9PiBib2R5LmluZm8gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIGF2YWlsYWJsZSBib2RpZXMgaW5pdGlhbCBzdGF0ZXMgYWNjb3JkaW5nIHRvIGJvZGllc0luZm9cclxuICAgKi9cclxuICBwdWJsaWMgbG9hZEJvZHlTdGF0ZXMoIGJvZGllc0luZm86IEJvZHlJbmZvW10sIHByZXZlbnRDb2xsaXNpb24gPSBmYWxzZSApOiB2b2lkIHtcclxuICAgIGZvciAoIGxldCBpID0gMDsgaSA8IFNvbGFyU3lzdGVtQ29tbW9uQ29uc3RhbnRzLk5VTV9CT0RJRVM7IGkrKyApIHtcclxuICAgICAgY29uc3QgYm9keUluZm8gPSBib2RpZXNJbmZvWyBpIF07XHJcblxyXG4gICAgICBpZiAoIGJvZHlJbmZvICkge1xyXG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQm9kaWVzWyBpIF0uaXNBY3RpdmVQcm9wZXJ0eS52YWx1ZSA9IGJvZHlJbmZvLmFjdGl2ZTtcclxuXHJcbiAgICAgICAgLy8gU2V0dGluZyBpbml0aWFsIHZhbHVlcyBhbmQgdGhlbiByZXNldHRpbmcgdGhlIGJvZHkgdG8gbWFrZSBzdXJlIHRoZSBib2R5IGlzIGluIHRoZSBjb3JyZWN0IHN0YXRlXHJcbiAgICAgICAgdGhpcy5hdmFpbGFibGVCb2RpZXNbIGkgXS5tYXNzUHJvcGVydHkuc2V0SW5pdGlhbFZhbHVlKCBib2R5SW5mby5tYXNzICk7XHJcbiAgICAgICAgdGhpcy5hdmFpbGFibGVCb2RpZXNbIGkgXS5wb3NpdGlvblByb3BlcnR5LnNldEluaXRpYWxWYWx1ZSggYm9keUluZm8ucG9zaXRpb24gKTtcclxuICAgICAgICB0aGlzLmF2YWlsYWJsZUJvZGllc1sgaSBdLnZlbG9jaXR5UHJvcGVydHkuc2V0SW5pdGlhbFZhbHVlKCBib2R5SW5mby52ZWxvY2l0eSApO1xyXG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQm9kaWVzWyBpIF0ucmVzZXQoKTtcclxuICAgICAgICBpZiAoIHByZXZlbnRDb2xsaXNpb24gKSB7XHJcbiAgICAgICAgICB0aGlzLmF2YWlsYWJsZUJvZGllc1sgaSBdLnByZXZlbnRDb2xsaXNpb24oIHRoaXMuYm9kaWVzICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQm9kaWVzWyBpIF0uaXNBY3RpdmVQcm9wZXJ0eS52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zYXZlU3RhcnRpbmdCb2R5U3RhdGUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgdGhlIG5leHQgYXZhaWxhYmxlIGJvZHkgdG8gdGhlIHN5c3RlbSBhbmQgY2hlY2tzIHRoYXQgaXMgZG9lc24ndCBjb2xsaWRlIHdpdGggYW55IG90aGVyIGJvZGllcy5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkTmV4dEJvZHkoKTogdm9pZCB7XHJcbiAgICBjb25zdCBuZXdCb2R5ID0gdGhpcy5hdmFpbGFibGVCb2RpZXMuZmluZCggYm9keSA9PiAhYm9keS5pc0FjdGl2ZVByb3BlcnR5LnZhbHVlICk7XHJcbiAgICBpZiAoIG5ld0JvZHkgKSB7XHJcbiAgICAgIG5ld0JvZHkucmVzZXQoKTtcclxuICAgICAgbmV3Qm9keS5wcmV2ZW50Q29sbGlzaW9uKCB0aGlzLmJvZGllcyApO1xyXG4gICAgICBuZXdCb2R5LmlzQWN0aXZlUHJvcGVydHkudmFsdWUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zYXZlU3RhcnRpbmdCb2R5U3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLmJvZHlBZGRlZEVtaXR0ZXIuZW1pdCgpO1xyXG4gICAgdGhpcy5pc0FueUJvZHlDb2xsaWRlZFByb3BlcnR5LnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVtb3ZlTGFzdEJvZHkoKTogdm9pZCB7XHJcbiAgICBjb25zdCBudW1iZXJPZkFjdGl2ZUJvZGllcyA9IHRoaXMuYm9kaWVzLmxlbmd0aCAtIDE7XHJcbiAgICBjb25zdCBsYXN0Qm9keSA9IHRoaXMuYm9kaWVzWyBudW1iZXJPZkFjdGl2ZUJvZGllcyBdO1xyXG4gICAgbGFzdEJvZHkuaXNBY3RpdmVQcm9wZXJ0eS52YWx1ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5zYXZlU3RhcnRpbmdCb2R5U3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLmJvZHlSZW1vdmVkRW1pdHRlci5lbWl0KCk7XHJcbiAgICB0aGlzLmlzQW55Qm9keUNvbGxpZGVkUHJvcGVydHkucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcclxuICAgIHRoaXMuaXNQbGF5aW5nUHJvcGVydHkudmFsdWUgPSBmYWxzZTsgLy8gUGF1c2UgdGhlIHNpbVxyXG4gICAgdGhpcy50aW1lU3BlZWRQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy56b29tTGV2ZWxQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5wYXRoVmlzaWJsZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLmdyYXZpdHlWaXNpYmxlUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMudmVsb2NpdHlWaXNpYmxlUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMuZ3JpZFZpc2libGVQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5tZWFzdXJpbmdUYXBlVmlzaWJsZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLnZhbHVlc1Zpc2libGVQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5tb3JlRGF0YVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLnJlYWxVbml0c1Byb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLnVzZXJDb250cm9sbGVkUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMuZm9yY2VTY2FsZVByb3BlcnR5LnJlc2V0KCk7XHJcblxyXG4gICAgdGhpcy5zdGFydGluZ0JvZHlTdGF0ZSA9IHRoaXMuZGVmYXVsdEJvZHlTdGF0ZTtcclxuXHJcbiAgICB0aGlzLnJlc3RhcnQoKTtcclxuICB9XHJcblxyXG4gIC8vIFJlc3RhcnQgaXMgZm9yIHdoZW4gdGhlIHRpbWUgY29udHJvbHMgYXJlIGJyb3VnaHQgYmFjayB0byAwXHJcbiAgLy8gQm9kaWVzIG1vdmUgdG8gdGhlaXIgbGFzdCBtb2RpZmllZCBwb3NpdGlvblxyXG4gIHB1YmxpYyByZXN0YXJ0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5pc0FueUJvZHlDb2xsaWRlZFByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLmhhc1BsYXllZFByb3BlcnR5LnZhbHVlID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzUGxheWluZ1Byb3BlcnR5LnZhbHVlID0gZmFsc2U7IC8vIFBhdXNlIHRoZSBzaW1cclxuICAgIHRoaXMudGltZVByb3BlcnR5LnJlc2V0KCk7IC8vIFJlc2V0IHRoZSB0aW1lXHJcbiAgICB0aGlzLmxvYWRCb2R5U3RhdGVzKCB0aGlzLnN0YXJ0aW5nQm9keVN0YXRlICk7IC8vIFJlc2V0IHRoZSBib2RpZXNcclxuICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGluZyBmb3Igd2hlbiB0aGUgYm9kaWVzIGFyZSBjaGFuZ2VkXHJcbiAgICovXHJcbiAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZW5naW5lLnVwZGF0ZSggdGhpcy5ib2RpZXMgKTtcclxuICAgIHRoaXMubnVtYmVyT2ZBY3RpdmVCb2RpZXNQcm9wZXJ0eS52YWx1ZSA9IHRoaXMuYm9kaWVzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGVwT25jZSggZHQ6IG51bWJlciApOiB2b2lkIHtcclxuICAgIHRoaXMuaGFzUGxheWVkUHJvcGVydHkudmFsdWUgPSB0cnVlO1xyXG4gICAgbGV0IGFkanVzdGVkRFQgPSBkdCAqIHRpbWVGb3JtYXR0ZXIuZ2V0KCB0aGlzLnRpbWVTcGVlZFByb3BlcnR5LnZhbHVlICkhICogdGhpcy50aW1lU2NhbGU7XHJcbiAgICBjb25zdCBjb3VudCA9IE1hdGguY2VpbCggYWRqdXN0ZWREVCAvIDAuMDIgKTtcclxuICAgIGFkanVzdGVkRFQgLz0gY291bnQ7XHJcblxyXG4gICAgZm9yICggbGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKyApIHtcclxuICAgICAgLy8gT25seSBtb2RpZnkgdGhlIHByb3BlcnRpZXMgb24gdGhlIGxhc3Qgc3RlcFxyXG4gICAgICBjb25zdCB1cGRhdGVQcm9wZXJ0aWVzID0gaSA9PT0gY291bnQgLSAxO1xyXG4gICAgICB0aGlzLmVuZ2luZS5ydW4oIGFkanVzdGVkRFQsIHVwZGF0ZVByb3BlcnRpZXMgKTtcclxuICAgICAgdGhpcy5lbmdpbmUuY2hlY2tDb2xsaXNpb25zKCk7XHJcbiAgICAgIHRoaXMudGltZVByb3BlcnR5LnZhbHVlICs9IGFkanVzdGVkRFQgKiB0aGlzLnRpbWVNdWx0aXBsaWVyO1xyXG4gICAgICBpZiAoIHRoaXMucGF0aFZpc2libGVQcm9wZXJ0eSApIHtcclxuICAgICAgICB0aGlzLmJvZGllcy5mb3JFYWNoKCBib2R5ID0+IGJvZHkuYWRkUGF0aFBvaW50KCkgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0ZXAoIGR0OiBudW1iZXIgKTogdm9pZCB7XHJcbiAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgIGlmICggdGhpcy5pc1BsYXlpbmdQcm9wZXJ0eS52YWx1ZSApIHtcclxuICAgICAgdGhpcy5zdGVwT25jZSggZHQgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBjbGVhclBhdGhzKCk6IHZvaWQge1xyXG4gICAgdGhpcy5ib2RpZXMuZm9yRWFjaCggYm9keSA9PiB7XHJcbiAgICAgIGJvZHkuY2xlYXJQYXRoKCk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG59XHJcblxyXG5zb2xhclN5c3RlbUNvbW1vbi5yZWdpc3RlciggJ1NvbGFyU3lzdGVtQ29tbW9uTW9kZWwnLCBTb2xhclN5c3RlbUNvbW1vbk1vZGVsICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQSxPQUFPQSxpQkFBaUIsTUFBTSx5QkFBeUI7QUFDdkQsT0FBT0MsSUFBSSxNQUFNLFdBQVc7QUFDNUIsT0FBT0MsZUFBZSxNQUFNLHFDQUFxQztBQUNqRSxPQUFPQyxtQkFBbUIsTUFBTSx5Q0FBeUM7QUFDekUsT0FBT0MsU0FBUyxNQUFNLHVDQUF1QztBQUM3RCxPQUFPQyxxQkFBcUIsTUFBMkIsMkNBQTJDO0FBRWxHLE9BQU9DLEtBQUssTUFBTSwwQkFBMEI7QUFDNUMsT0FBT0MsY0FBYyxNQUFNLG9DQUFvQztBQUUvRCxPQUFPQyxlQUFlLE1BQU0scUNBQXFDO0FBQ2pFLE9BQU9DLEtBQUssTUFBTSwwQkFBMEI7QUFDNUMsT0FBT0MsT0FBTyxNQUFNLDRCQUE0QjtBQUNoRCxPQUFPQyx1QkFBdUIsTUFBTSwrQkFBK0I7QUFDbkUsT0FBT0MsU0FBUyxNQUFNLCtCQUErQjtB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