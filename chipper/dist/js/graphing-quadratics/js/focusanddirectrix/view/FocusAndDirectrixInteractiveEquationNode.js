// Copyright 2018-2023, University of Colorado Boulder

/**
 * Alternate vertex form equation, y = (1/(4p))(x - h)^2 + k, with coefficients that can be changed via sliders.
 * All sliders have a linear taper.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import merge from '../../../../phet-core/js/merge.js';
import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
import MathSymbols from '../../../../scenery-phet/js/MathSymbols.js';
import NumberDisplay from '../../../../scenery-phet/js/NumberDisplay.js';
import { HBox, Line, Node, RichText, VBox } from '../../../../scenery/js/imports.js';
import GQColors from '../../common/GQColors.js';
import GQConstants from '../../common/GQConstants.js';
import GQSymbols from '../../common/GQSymbols.js';
import LinearSlider from '../../common/view/LinearSlider.js';
import graphingQuadratics from '../../graphingQuadratics.js';
export default class FocusAndDirectrixInteractiveEquationNode extends Node {
  /**
   * Constructor parameters are coefficients of the alternate vertex form: y = (1/(4p))(x - h)^2 + k
   */
  constructor(pProperty, hProperty, kProperty, tandem) {
    const options = {
      tandem: tandem,
      phetioDocumentation: 'the interactive equation in this accordion box'
    };

    // equation
    const equationNode = new EquationNode(pProperty, hProperty, kProperty, tandem.createTandem('equationNode'));

    // value sliders
    const pSlider = new LinearSlider(GQSymbols.p, pProperty, {
      // p=0 is not supported by this sim because it results in division by zero for 1/(4p).
      // see https://github.com/phetsims/graphing-quadratics/issues/31
      skipZero: true,
      interval: GQConstants.FOCUS_AND_DIRECTRIX_INTERVAL_P,
      labelColor: GQColors.FOCUS_AND_DIRECTRIX_P,
      tandem: tandem.createTandem('pSlider'),
      phetioDocumentation: StringUtils.fillIn(GQConstants.SLIDER_DOC, {
        symbol: 'p'
      })
    });
    const hSlider = new LinearSlider(GQSymbols.h, hProperty, {
      interval: GQConstants.FOCUS_AND_DIRECTRIX_INTERVAL_H,
      labelColor: GQColors.FOCUS_AND_DIRECTRIX_H,
      tandem: tandem.createTandem('hSlider'),
      phetioDocumentation: StringUtils.fillIn(GQConstants.SLIDER_DOC, {
        symbol: 'h'
      })
    });
    const kSlider = new LinearSlider(GQSymbols.k, kProperty, {
      interval: GQConstants.FOCUS_AND_DIRECTRIX_INTERVAL_K,
      labelColor: GQColors.FOCUS_AND_DIRECTRIX_K,
      tandem: tandem.createTandem('kSlider'),
      phetioDocumentation: StringUtils.fillIn(GQConstants.SLIDER_DOC, {
        symbol: 'k'
      })
    });
    options.children = [equationNode, pSlider, hSlider, kSlider];
    super(options);

    // horizontally align sliders under their associated values in the equation
    const ySpacing = 3;
    pSlider.x = this.globalToLocalBounds(equationNode.pGlobalBounds).centerX;
    pSlider.top = equationNode.bottom + ySpacing;
    hSlider.x = this.globalToLocalBounds(equationNode.hGlobalBounds).centerX;
    hSlider.top = equationNode.bottom + ySpacing;
    kSlider.x = this.globalToLocalBounds(equationNode.kGlobalBounds).centerX;
    kSlider.top = equationNode.bottom + ySpacing;
  }
}

/**
 * The equation that appears above the sliders.
 */
class EquationNode extends Node {
  constructor(pProperty, hProperty, kProperty, tandem) {
    const options = {
      tandem: tandem,
      phetioDocumentation: 'the equation that changes as the sliders are adjusted'
    };

    // options for parts of the equation
    const equationOptions = {
      font: GQConstants.INTERACTIVE_EQUATION_FONT
    };
    const xyOptions = merge({}, equationOptions, {
      maxWidth: 20 // determined empirically
    });

    // y
    const yNode = new RichText(GQSymbols.y, xyOptions);

    // =
    const equalsNode = new RichText(MathSymbols.EQUAL_TO, equationOptions);

    // 1
    const numeratorNode = new RichText('1', equationOptions);

    // 4(
    const fourParenNode = new RichText('4(', equationOptions);

    // p value
    const pNode = new NumberDisplay(pProperty, pProperty.range, merge({}, GQConstants.NUMBER_DISPLAY_OPTIONS, {
      textOptions: {
        fill: GQColors.FOCUS_AND_DIRECTRIX_P
      },
      decimalPlaces: GQConstants.FOCUS_AND_DIRECTRIX_DECIMALS_P
    }));

    // )
    const parenNode = new RichText(')', equationOptions);

    // 4(p)
    const denominatorNode = new HBox({
      align: 'center',
      children: [fourParenNode, pNode, parenNode]
    });

    // horizontal line between numerator and denominator
    const fractionLineLength = 1.1 * Math.max(numeratorNode.width, denominatorNode.width);
    const fractionLine = new Line(0, 0, fractionLineLength, 0, {
      stroke: 'black',
      lineWidth: 1
    });

    // 1/4p
    const fractionNode = new VBox({
      spacing: 2,
      align: 'center',
      children: [numeratorNode, fractionLine, denominatorNode],
      scale: 0.85
    });

    // (
    const anotherParenNode = new RichText('(', equationOptions);

    // x
    const xNode = new RichText(GQSymbols.x, xyOptions);

    // -
    const minusNode = new RichText(MathSymbols.MINUS, equationOptions);

    // h value
    const hNode = new NumberDisplay(hProperty, hProperty.range, merge({}, GQConstants.NUMBER_DISPLAY_OPTIONS, {
      textOptions: {
        fill: GQColors.FOCUS_AND_DIRECTRIX_H
      },
      decimalPlaces: GQConstants.FOCUS_AND_DIRECTRIX_DECIMALS_H
    }));

    // )^2
    const parenSquaredNode = new RichText(')<sup>2</sup>', equationOptions);

    // +
    const plusNode = new RichText(MathSymbols.PLUS, equationOptions);

    // k value
    const kNode = new NumberDisplay(kProperty, kProperty.range, merge({}, GQConstants.NUMBER_DISPLAY_OPTIONS, {
      textOptions: {
        fill: GQColors.FOCUS_AND_DIRECTRIX_K
      },
      decimalPlaces: GQConstants.FOCUS_AND_DIRECTRIX_DECIMALS_K
    }));

    // layout
    equalsNode.left = yNode.right + GQConstants.EQUATION_OPERATOR_SPACING;
    fractionNode.left = equalsNode.right + GQConstants.EQUATION_OPERATOR_SPACING;
    fractionNode.centerY = equalsNode.centerY;
    anotherParenNode.left = fractionNode.right + GQConstants.EQUATION_TERM_SPACING;
    xNode.left = anotherParenNode.right + GQConstants.EQUATION_TERM_SPACING;
    minusNode.left = xNode.right + GQConstants.EQUATION_OPERATOR_SPACING;
    hNode.left = minusNode.right + GQConstants.EQUATION_OPERATOR_SPACING;
    parenSquaredNode.left = hNode.right + GQConstants.EQUATION_TERM_SPACING;
    plusNode.left = parenSquaredNode.right + GQConstants.EQUATION_OPERATOR_SPACING;
    kNode.left = plusNode.right + GQConstants.EQUATION_OPERATOR_SPACING;
    hNode.bottom = equalsNode.bottom;
    kNode.bottom = equalsNode.bottom;

    // y = (1/(4p))(x - h)^2 + k
    options.children = [yNode, equalsNode, fractionNode, anotherParenNode, xNode, minusNode, hNode, parenSquaredNode, plusNode, kNode];
    super(options);
    this.pNode = pNode;
    this.hNode = hNode;
    this.kNode = kNode;
  }

  // Gets the global bounds of p, h, k, used for layout
  get pGlobalBounds() {
    return this.pNode.getGlobalBounds();
  }
  get hGlobalBounds() {
    return this.hNode.getGlobalBounds();
  }
  get kGlobalBounds() {
    return this.kNode.getGlobalBounds();
  }
}
graphingQuadratics.register('FocusAndDirectrixInteractiveEquationNode', FocusAndDirectrixInteractiveEquationNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZXJnZSIsIlN0cmluZ1V0aWxzIiwiTWF0aFN5bWJvbHMiLCJOdW1iZXJEaXNwbGF5IiwiSEJveCIsIkxpbmUiLCJOb2RlIiwiUmljaFRleHQiLCJWQm94IiwiR1FDb2xvcnMiLCJHUUNvbnN0YW50cyIsIkdRU3ltYm9scyIsIkxpbmVhclNsaWRlciIsImdyYXBoaW5nUXVhZHJhdGljcyIsIkZvY3VzQW5kRGlyZWN0cml4SW50ZXJhY3RpdmVFcXVhdGlvbk5vZGUiLCJjb25zdHJ1Y3RvciIsInBQcm9wZXJ0eSIsImhQcm9wZXJ0eSIsImtQcm9wZXJ0eSIsInRhbmRlbSIsIm9wdGlvbnMiLCJwaGV0aW9Eb2N1bWVudGF0aW9uIiwiZXF1YXRpb25Ob2RlIiwiRXF1YXRpb25Ob2RlIiwiY3JlYXRlVGFuZGVtIiwicFNsaWRlciIsInAiLCJza2lwWmVybyIsImludGVydmFsIiwiRk9DVVNfQU5EX0RJUkVDVFJJWF9JTlRFUlZBTF9QIiwibGFiZWxDb2xvciIsIkZPQ1VTX0FORF9ESVJFQ1RSSVhfUCIsImZpbGxJbiIsIlNMSURFUl9ET0MiLCJzeW1ib2wiLCJoU2xpZGVyIiwiaCIsIkZPQ1VTX0FORF9ESVJFQ1RSSVhfSU5URVJWQUxfSCIsIkZPQ1VTX0FORF9ESVJFQ1RSSVhfSCIsImtTbGlkZXIiLCJrIiwiRk9DVVNfQU5EX0RJUkVDVFJJWF9JTlRFUlZBTF9LIiwiRk9DVVNfQU5EX0RJUkVDVFJJWF9LIiwiY2hpbGRyZW4iLCJ5U3BhY2luZyIsIngiLCJnbG9iYWxUb0xvY2FsQm91bmRzIiwicEdsb2JhbEJvdW5kcyIsImNlbnRlclgiLCJ0b3AiLCJib3R0b20iLCJoR2xvYmFsQm91bmRzIiwia0dsb2JhbEJvdW5kcyIsImVxdWF0aW9uT3B0aW9ucyIsImZvbnQiLCJJTlRFUkFDVElWRV9FUVVBVElPTl9GT05UIiwieHlPcHRpb25zIiwibWF4V2lkdGgiLCJ5Tm9kZSIsInkiLCJlcXVhbHNOb2RlIiwiRVFVQUxfVE8iLCJudW1lcmF0b3JOb2RlIiwiZm91clBhcmVuTm9kZSIsInBOb2RlIiwicmFuZ2UiLCJOVU1CRVJfRElTUExBWV9PUFRJT05TIiwidGV4dE9wdGlvbnMiLCJmaWxsIiwiZGVjaW1hbFBsYWNlcyIsIkZPQ1VTX0FORF9ESVJFQ1RSSVhfREVDSU1BTFNfUCIsInBhcmVuTm9kZSIsImRlbm9taW5hdG9yTm9kZSIsImFsaWduIiwiZnJhY3Rpb25MaW5lTGVuZ3RoIiwiTWF0aCIsIm1heCIsIndpZHRoIiwiZnJhY3Rpb25MaW5lIiwic3Ryb2tlIiwibGluZVdpZHRoIiwiZnJhY3Rpb25Ob2RlIiwic3BhY2luZyIsInNjYWxlIiwiYW5vdGhlclBhcmVuTm9kZSIsInhOb2RlIiwibWludXNOb2RlIiwiTUlOVVMiLCJoTm9kZSIsIkZPQ1VTX0FORF9ESVJFQ1RSSVhfREVDSU1BTFNfSCIsInBhcmVuU3F1YXJlZE5vZGUiLCJwbHVzTm9kZSIsIlBMVVMiLCJrTm9kZSIsIkZPQ1VTX0FORF9ESVJFQ1RSSVhfREVDSU1BTFNfSyIsImxlZnQiLCJyaWdodCIsIkVRVUFUSU9OX09QRVJBVE9SX1NQQUNJTkciLCJjZW50ZXJZIiwiRVFVQVRJT05fVEVSTV9TUEFDSU5HIiwiZ2V0R2xvYmFsQm91bmRzIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJGb2N1c0FuZERpcmVjdHJpeEludGVyYWN0aXZlRXF1YXRpb25Ob2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE4LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEFsdGVybmF0ZSB2ZXJ0ZXggZm9ybSBlcXVhdGlvbiwgeSA9ICgxLyg0cCkpKHggLSBoKV4yICsgaywgd2l0aCBjb2VmZmljaWVudHMgdGhhdCBjYW4gYmUgY2hhbmdlZCB2aWEgc2xpZGVycy5cclxuICogQWxsIHNsaWRlcnMgaGF2ZSBhIGxpbmVhciB0YXBlci5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgTnVtYmVyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9OdW1iZXJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IG1lcmdlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tZXJnZS5qcyc7XHJcbmltcG9ydCBTdHJpbmdVdGlscyBmcm9tICcuLi8uLi8uLi8uLi9waGV0Y29tbW9uL2pzL3V0aWwvU3RyaW5nVXRpbHMuanMnO1xyXG5pbXBvcnQgTWF0aFN5bWJvbHMgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL01hdGhTeW1ib2xzLmpzJztcclxuaW1wb3J0IE51bWJlckRpc3BsYXkgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL051bWJlckRpc3BsYXkuanMnO1xyXG5pbXBvcnQgeyBIQm94LCBMaW5lLCBOb2RlLCBOb2RlT3B0aW9ucywgUmljaFRleHQsIFZCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5pbXBvcnQgR1FDb2xvcnMgZnJvbSAnLi4vLi4vY29tbW9uL0dRQ29sb3JzLmpzJztcclxuaW1wb3J0IEdRQ29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9HUUNvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBHUVN5bWJvbHMgZnJvbSAnLi4vLi4vY29tbW9uL0dRU3ltYm9scy5qcyc7XHJcbmltcG9ydCBMaW5lYXJTbGlkZXIgZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXcvTGluZWFyU2xpZGVyLmpzJztcclxuaW1wb3J0IGdyYXBoaW5nUXVhZHJhdGljcyBmcm9tICcuLi8uLi9ncmFwaGluZ1F1YWRyYXRpY3MuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9jdXNBbmREaXJlY3RyaXhJbnRlcmFjdGl2ZUVxdWF0aW9uTm9kZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RvciBwYXJhbWV0ZXJzIGFyZSBjb2VmZmljaWVudHMgb2YgdGhlIGFsdGVybmF0ZSB2ZXJ0ZXggZm9ybTogeSA9ICgxLyg0cCkpKHggLSBoKV4yICsga1xyXG4gICAqL1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggcFByb3BlcnR5OiBOdW1iZXJQcm9wZXJ0eSwgaFByb3BlcnR5OiBOdW1iZXJQcm9wZXJ0eSwga1Byb3BlcnR5OiBOdW1iZXJQcm9wZXJ0eSwgdGFuZGVtOiBUYW5kZW0gKSB7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9uczogTm9kZU9wdGlvbnMgPSB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLFxyXG4gICAgICBwaGV0aW9Eb2N1bWVudGF0aW9uOiAndGhlIGludGVyYWN0aXZlIGVxdWF0aW9uIGluIHRoaXMgYWNjb3JkaW9uIGJveCdcclxuICAgIH07XHJcblxyXG4gICAgLy8gZXF1YXRpb25cclxuICAgIGNvbnN0IGVxdWF0aW9uTm9kZSA9IG5ldyBFcXVhdGlvbk5vZGUoIHBQcm9wZXJ0eSwgaFByb3BlcnR5LCBrUHJvcGVydHksIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdlcXVhdGlvbk5vZGUnICkgKTtcclxuXHJcbiAgICAvLyB2YWx1ZSBzbGlkZXJzXHJcbiAgICBjb25zdCBwU2xpZGVyID0gbmV3IExpbmVhclNsaWRlciggR1FTeW1ib2xzLnAsIHBQcm9wZXJ0eSwge1xyXG5cclxuICAgICAgLy8gcD0wIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBzaW0gYmVjYXVzZSBpdCByZXN1bHRzIGluIGRpdmlzaW9uIGJ5IHplcm8gZm9yIDEvKDRwKS5cclxuICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9ncmFwaGluZy1xdWFkcmF0aWNzL2lzc3Vlcy8zMVxyXG4gICAgICBza2lwWmVybzogdHJ1ZSxcclxuICAgICAgaW50ZXJ2YWw6IEdRQ29uc3RhbnRzLkZPQ1VTX0FORF9ESVJFQ1RSSVhfSU5URVJWQUxfUCxcclxuICAgICAgbGFiZWxDb2xvcjogR1FDb2xvcnMuRk9DVVNfQU5EX0RJUkVDVFJJWF9QLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdwU2xpZGVyJyApLFxyXG4gICAgICBwaGV0aW9Eb2N1bWVudGF0aW9uOiBTdHJpbmdVdGlscy5maWxsSW4oIEdRQ29uc3RhbnRzLlNMSURFUl9ET0MsIHsgc3ltYm9sOiAncCcgfSApXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCBoU2xpZGVyID0gbmV3IExpbmVhclNsaWRlciggR1FTeW1ib2xzLmgsIGhQcm9wZXJ0eSwge1xyXG4gICAgICBpbnRlcnZhbDogR1FDb25zdGFudHMuRk9DVVNfQU5EX0RJUkVDVFJJWF9JTlRFUlZBTF9ILFxyXG4gICAgICBsYWJlbENvbG9yOiBHUUNvbG9ycy5GT0NVU19BTkRfRElSRUNUUklYX0gsXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2hTbGlkZXInICksXHJcbiAgICAgIHBoZXRpb0RvY3VtZW50YXRpb246IFN0cmluZ1V0aWxzLmZpbGxJbiggR1FDb25zdGFudHMuU0xJREVSX0RPQywgeyBzeW1ib2w6ICdoJyB9IClcclxuICAgIH0gKTtcclxuICAgIGNvbnN0IGtTbGlkZXIgPSBuZXcgTGluZWFyU2xpZGVyKCBHUVN5bWJvbHMuaywga1Byb3BlcnR5LCB7XHJcbiAgICAgIGludGVydmFsOiBHUUNvbnN0YW50cy5GT0NVU19BTkRfRElSRUNUUklYX0lOVEVSVkFMX0ssXHJcbiAgICAgIGxhYmVsQ29sb3I6IEdRQ29sb3JzLkZPQ1VTX0FORF9ESVJFQ1RSSVhfSyxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAna1NsaWRlcicgKSxcclxuICAgICAgcGhldGlvRG9jdW1lbnRhdGlvbjogU3RyaW5nVXRpbHMuZmlsbEluKCBHUUNvbnN0YW50cy5TTElERVJfRE9DLCB7IHN5bWJvbDogJ2snIH0gKVxyXG4gICAgfSApO1xyXG5cclxuICAgIG9wdGlvbnMuY2hpbGRyZW4gPSBbIGVxdWF0aW9uTm9kZSwgcFNsaWRlciwgaFNsaWRlciwga1NsaWRlciBdO1xyXG5cclxuICAgIHN1cGVyKCBvcHRpb25zICk7XHJcblxyXG4gICAgLy8gaG9yaXpvbnRhbGx5IGFsaWduIHNsaWRlcnMgdW5kZXIgdGhlaXIgYXNzb2NpYXRlZCB2YWx1ZXMgaW4gdGhlIGVxdWF0aW9uXHJcbiAgICBjb25zdCB5U3BhY2luZyA9IDM7XHJcbiAgICBwU2xpZGVyLnggPSB0aGlzLmdsb2JhbFRvTG9jYWxCb3VuZHMoIGVxdWF0aW9uTm9kZS5wR2xvYmFsQm91bmRzICkuY2VudGVyWDtcclxuICAgIHBTbGlkZXIudG9wID0gZXF1YXRpb25Ob2RlLmJvdHRvbSArIHlTcGFjaW5nO1xyXG4gICAgaFNsaWRlci54ID0gdGhpcy5nbG9iYWxUb0xvY2FsQm91bmRzKCBlcXVhdGlvbk5vZGUuaEdsb2JhbEJvdW5kcyApLmNlbnRlclg7XHJcbiAgICBoU2xpZGVyLnRvcCA9IGVxdWF0aW9uTm9kZS5ib3R0b20gKyB5U3BhY2luZztcclxuICAgIGtTbGlkZXIueCA9IHRoaXMuZ2xvYmFsVG9Mb2NhbEJvdW5kcyggZXF1YXRpb25Ob2RlLmtHbG9iYWxCb3VuZHMgKS5jZW50ZXJYO1xyXG4gICAga1NsaWRlci50b3AgPSBlcXVhdGlvbk5vZGUuYm90dG9tICsgeVNwYWNpbmc7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogVGhlIGVxdWF0aW9uIHRoYXQgYXBwZWFycyBhYm92ZSB0aGUgc2xpZGVycy5cclxuICovXHJcbmNsYXNzIEVxdWF0aW9uTm9kZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IHBOb2RlOiBOb2RlO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgaE5vZGU6IE5vZGU7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBrTm9kZTogTm9kZTtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBwUHJvcGVydHk6IE51bWJlclByb3BlcnR5LCBoUHJvcGVydHk6IE51bWJlclByb3BlcnR5LCBrUHJvcGVydHk6IE51bWJlclByb3BlcnR5LCB0YW5kZW06IFRhbmRlbSApIHtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zOiBOb2RlT3B0aW9ucyA9IHtcclxuICAgICAgdGFuZGVtOiB0YW5kZW0sXHJcbiAgICAgIHBoZXRpb0RvY3VtZW50YXRpb246ICd0aGUgZXF1YXRpb24gdGhhdCBjaGFuZ2VzIGFzIHRoZSBzbGlkZXJzIGFyZSBhZGp1c3RlZCdcclxuICAgIH07XHJcblxyXG4gICAgLy8gb3B0aW9ucyBmb3IgcGFydHMgb2YgdGhlIGVxdWF0aW9uXHJcbiAgICBjb25zdCBlcXVhdGlvbk9wdGlvbnMgPSB7XHJcbiAgICAgIGZvbnQ6IEdRQ29uc3RhbnRzLklOVEVSQUNUSVZFX0VRVUFUSU9OX0ZPTlRcclxuICAgIH07XHJcbiAgICBjb25zdCB4eU9wdGlvbnMgPSBtZXJnZSgge30sIGVxdWF0aW9uT3B0aW9ucywge1xyXG4gICAgICBtYXhXaWR0aDogMjAgLy8gZGV0ZXJtaW5lZCBlbXBpcmljYWxseVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIHlcclxuICAgIGNvbnN0IHlOb2RlID0gbmV3IFJpY2hUZXh0KCBHUVN5bWJvbHMueSwgeHlPcHRpb25zICk7XHJcblxyXG4gICAgLy8gPVxyXG4gICAgY29uc3QgZXF1YWxzTm9kZSA9IG5ldyBSaWNoVGV4dCggTWF0aFN5bWJvbHMuRVFVQUxfVE8sIGVxdWF0aW9uT3B0aW9ucyApO1xyXG5cclxuICAgIC8vIDFcclxuICAgIGNvbnN0IG51bWVyYXRvck5vZGUgPSBuZXcgUmljaFRleHQoICcxJywgZXF1YXRpb25PcHRpb25zICk7XHJcblxyXG4gICAgLy8gNChcclxuICAgIGNvbnN0IGZvdXJQYXJlbk5vZGUgPSBuZXcgUmljaFRleHQoICc0KCcsIGVxdWF0aW9uT3B0aW9ucyApO1xyXG5cclxuICAgIC8vIHAgdmFsdWVcclxuICAgIGNvbnN0IHBOb2RlID0gbmV3IE51bWJlckRpc3BsYXkoIHBQcm9wZXJ0eSwgcFByb3BlcnR5LnJhbmdlLFxyXG4gICAgICBtZXJnZSgge30sIEdRQ29uc3RhbnRzLk5VTUJFUl9ESVNQTEFZX09QVElPTlMsIHtcclxuICAgICAgICB0ZXh0T3B0aW9uczoge1xyXG4gICAgICAgICAgZmlsbDogR1FDb2xvcnMuRk9DVVNfQU5EX0RJUkVDVFJJWF9QXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZWNpbWFsUGxhY2VzOiBHUUNvbnN0YW50cy5GT0NVU19BTkRfRElSRUNUUklYX0RFQ0lNQUxTX1BcclxuICAgICAgfSApICk7XHJcblxyXG4gICAgLy8gKVxyXG4gICAgY29uc3QgcGFyZW5Ob2RlID0gbmV3IFJpY2hUZXh0KCAnKScsIGVxdWF0aW9uT3B0aW9ucyApO1xyXG5cclxuICAgIC8vIDQocClcclxuICAgIGNvbnN0IGRlbm9taW5hdG9yTm9kZSA9IG5ldyBIQm94KCB7XHJcbiAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgY2hpbGRyZW46IFsgZm91clBhcmVuTm9kZSwgcE5vZGUsIHBhcmVuTm9kZSBdXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gaG9yaXpvbnRhbCBsaW5lIGJldHdlZW4gbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvclxyXG4gICAgY29uc3QgZnJhY3Rpb25MaW5lTGVuZ3RoID0gMS4xICogTWF0aC5tYXgoIG51bWVyYXRvck5vZGUud2lkdGgsIGRlbm9taW5hdG9yTm9kZS53aWR0aCApO1xyXG4gICAgY29uc3QgZnJhY3Rpb25MaW5lID0gbmV3IExpbmUoIDAsIDAsIGZyYWN0aW9uTGluZUxlbmd0aCwgMCwge1xyXG4gICAgICBzdHJva2U6ICdibGFjaycsXHJcbiAgICAgIGxpbmVXaWR0aDogMVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIDEvNHBcclxuICAgIGNvbnN0IGZyYWN0aW9uTm9kZSA9IG5ldyBWQm94KCB7XHJcbiAgICAgIHNwYWNpbmc6IDIsXHJcbiAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgY2hpbGRyZW46IFsgbnVtZXJhdG9yTm9kZSwgZnJhY3Rpb25MaW5lLCBkZW5vbWluYXRvck5vZGUgXSxcclxuICAgICAgc2NhbGU6IDAuODVcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyAoXHJcbiAgICBjb25zdCBhbm90aGVyUGFyZW5Ob2RlID0gbmV3IFJpY2hUZXh0KCAnKCcsIGVxdWF0aW9uT3B0aW9ucyApO1xyXG5cclxuICAgIC8vIHhcclxuICAgIGNvbnN0IHhOb2RlID0gbmV3IFJpY2hUZXh0KCBHUVN5bWJvbHMueCwgeHlPcHRpb25zICk7XHJcblxyXG4gICAgLy8gLVxyXG4gICAgY29uc3QgbWludXNOb2RlID0gbmV3IFJpY2hUZXh0KCBNYXRoU3ltYm9scy5NSU5VUywgZXF1YXRpb25PcHRpb25zICk7XHJcblxyXG4gICAgLy8gaCB2YWx1ZVxyXG4gICAgY29uc3QgaE5vZGUgPSBuZXcgTnVtYmVyRGlzcGxheSggaFByb3BlcnR5LCBoUHJvcGVydHkucmFuZ2UsXHJcbiAgICAgIG1lcmdlKCB7fSwgR1FDb25zdGFudHMuTlVNQkVSX0RJU1BMQVlfT1BUSU9OUywge1xyXG4gICAgICAgIHRleHRPcHRpb25zOiB7XHJcbiAgICAgICAgICBmaWxsOiBHUUNvbG9ycy5GT0NVU19BTkRfRElSRUNUUklYX0hcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlY2ltYWxQbGFjZXM6IEdRQ29uc3RhbnRzLkZPQ1VTX0FORF9ESVJFQ1RSSVhfREVDSU1BTFNfSFxyXG4gICAgICB9ICkgKTtcclxuXHJcbiAgICAvLyApXjJcclxuICAgIGNvbnN0IHBhcmVuU3F1YXJlZE5vZGUgPSBuZXcgUmljaFRleHQoICcpPHN1cD4yPC9zdXA+JywgZXF1YXRpb25PcHRpb25zICk7XHJcblxyXG4gICAgLy8gK1xyXG4gICAgY29uc3QgcGx1c05vZGUgPSBuZXcgUmljaFRleHQoIE1hdGhTeW1ib2xzLlBMVVMsIGVxdWF0aW9uT3B0aW9ucyApO1xyXG5cclxuICAgIC8vIGsgdmFsdWVcclxuICAgIGNvbnN0IGtOb2RlID0gbmV3IE51bWJlckRpc3BsYXkoIGtQcm9wZXJ0eSwga1Byb3BlcnR5LnJhbmdlLFxyXG4gICAgICBtZXJnZSgge30sIEdRQ29uc3RhbnRzLk5VTUJFUl9ESVNQTEFZX09QVElPTlMsIHtcclxuICAgICAgICB0ZXh0T3B0aW9uczoge1xyXG4gICAgICAgICAgZmlsbDogR1FDb2xvcnMuRk9DVVNfQU5EX0RJUkVDVFJJWF9LXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZWNpbWFsUGxhY2VzOiBHUUNvbnN0YW50cy5GT0NVU19BTkRfRElSRUNUUklYX0RFQ0lNQUxTX0tcclxuICAgICAgfSApICk7XHJcblxyXG4gICAgLy8gbGF5b3V0XHJcbiAgICBlcXVhbHNOb2RlLmxlZnQgPSB5Tm9kZS5yaWdodCArIEdRQ29uc3RhbnRzLkVRVUFUSU9OX09QRVJBVE9SX1NQQUNJTkc7XHJcbiAgICBmcmFjdGlvbk5vZGUubGVmdCA9IGVxdWFsc05vZGUucmlnaHQgKyBHUUNvbnN0YW50cy5FUVVBVElPTl9PUEVSQVRPUl9TUEFDSU5HO1xyXG4gICAgZnJhY3Rpb25Ob2RlLmNlbnRlclkgPSBlcXVhbHNOb2RlLmNlbnRlclk7XHJcbiAgICBhbm90aGVyUGFyZW5Ob2RlLmxlZnQgPSBmcmFjdGlvbk5vZGUucmlnaHQgKyBHUUNvbnN0YW50cy5FUVVBVElPTl9URVJNX1NQQUNJTkc7XHJcbiAgICB4Tm9kZS5sZWZ0ID0gYW5vdGhlclBhcmVuTm9kZS5yaWdodCArIEdRQ29uc3RhbnRzLkVRVUFUSU9OX1RFUk1fU1BBQ0lORztcclxuICAgIG1pbnVzTm9kZS5sZWZ0ID0geE5vZGUucmlnaHQgKyBHUUNvbnN0YW50cy5FUVVBVElPTl9PUEVSQVRPUl9TUEFDSU5HO1xyXG4gICAgaE5vZGUubGVmdCA9IG1pbnVzTm9kZS5yaWdodCArIEdRQ29uc3RhbnRzLkVRVUFUSU9OX09QRVJBVE9SX1NQQUNJTkc7XHJcbiAgICBwYXJlblNxdWFyZWROb2RlLmxlZnQgPSBoTm9kZS5yaWdodCArIEdRQ29uc3RhbnRzLkVRVUFUSU9OX1RFUk1fU1BBQ0lORztcclxuICAgIHBsdXNOb2RlLmxlZnQgPSBwYXJlblNxdWFyZWROb2RlLnJpZ2h0ICsgR1FDb25zdGFudHMuRVFVQVRJT05fT1BFUkFUT1JfU1BBQ0lORztcclxuICAgIGtOb2RlLmxlZnQgPSBwbHVzTm9kZS5yaWdodCArIEdRQ29uc3RhbnRzLkVRVUFUSU9OX09QRVJBVE9SX1NQQUNJTkc7XHJcbiAgICBoTm9kZS5ib3R0b20gPSBlcXVhbHNOb2RlLmJvdHRvbTtcclxuICAgIGtOb2RlLmJvdHRvbSA9IGVxdWFsc05vZGUuYm90dG9tO1xyXG5cclxuICAgIC8vIHkgPSAoMS8oNHApKSh4IC0gaCleMiArIGtcclxuICAgIG9wdGlvbnMuY2hpbGRyZW4gPSBbIHlOb2RlLCBlcXVhbHNOb2RlLCBmcmFjdGlvbk5vZGUsXHJcbiAgICAgIGFub3RoZXJQYXJlbk5vZGUsIHhOb2RlLCBtaW51c05vZGUsIGhOb2RlLCBwYXJlblNxdWFyZWROb2RlLCBwbHVzTm9kZSwga05vZGUgXTtcclxuXHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG5cclxuICAgIHRoaXMucE5vZGUgPSBwTm9kZTtcclxuICAgIHRoaXMuaE5vZGUgPSBoTm9kZTtcclxuICAgIHRoaXMua05vZGUgPSBrTm9kZTtcclxuICB9XHJcblxyXG4gIC8vIEdldHMgdGhlIGdsb2JhbCBib3VuZHMgb2YgcCwgaCwgaywgdXNlZCBmb3IgbGF5b3V0XHJcbiAgcHVibGljIGdldCBwR2xvYmFsQm91bmRzKCk6IEJvdW5kczIge1xyXG4gICAgcmV0dXJuIHRoaXMucE5vZGUuZ2V0R2xvYmFsQm91bmRzKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGhHbG9iYWxCb3VuZHMoKTogQm91bmRzMiB7XHJcbiAgICByZXR1cm4gdGhpcy5oTm9kZS5nZXRHbG9iYWxCb3VuZHMoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQga0dsb2JhbEJvdW5kcygpOiBCb3VuZHMyIHtcclxuICAgIHJldHVybiB0aGlzLmtOb2RlLmdldEdsb2JhbEJvdW5kcygpO1xyXG4gIH1cclxufVxyXG5cclxuZ3JhcGhpbmdRdWFkcmF0aWNzLnJlZ2lzdGVyKCAnRm9jdXNBbmREaXJlY3RyaXhJbnRlcmFjdGl2ZUVxdWF0aW9uTm9kZScsIEZvY3VzQW5kRGlyZWN0cml4SW50ZXJhY3RpdmVFcXVhdGlvbk5vZGUgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJQSxPQUFPQSxLQUFLLE1BQU0sbUNBQW1DO0FBQ3JELE9BQU9DLFdBQVcsTUFBTSwrQ0FBK0M7QUFDdkUsT0FBT0MsV0FBVyxNQUFNLDRDQUE0QztBQUNwRSxPQUFPQyxhQUFhLE1BQU0sOENBQThDO0FBQ3hFLFNBQVNDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQWVDLFFBQVEsRUFBRUMsSUFBSSxRQUFRLG1DQUFtQztBQUVqRyxPQUFPQyxRQUFRLE1BQU0sMEJBQTBCO0FBQy9DLE9BQU9DLFdBQVcsTUFBTSw2QkFBNkI7QUFDckQsT0FBT0MsU0FBUyxNQUFNLDJCQUEyQjtBQUNqRCxPQUFPQyxZQUFZLE1BQU0sbUNBQW1DO0FBQzVELE9BQU9DLGtCQUFrQixNQUFNLDZCQUE2QjtBQUU1RCxlQUFlLE1BQU1DLHdDQUF3QyxTQUFTUixJQUFJLENBQUM7RUFFekU7QUFDRjtBQUNBO0VBQ1NTLFdBQVdBLENBQUVDLFNBQXlCLEVBQUVDLFNBQXlCLEVBQUVDLFNBQXlCLEVBQUVDLE1BQWMsRUFBRztJQUVwSCxNQUFNQyxPQUFvQixHQUFHO01BQzNCRCxNQUFNLEVBQUVBLE1BQU07TUFDZEUsbUJBQW1CLEVBQUU7SUFDdkIsQ0FBQzs7SUFFRDtJQUNBLE1BQU1DLFlBQVksR0FBRyxJQUFJQyxZQUFZLENBQUVQLFNBQVMsRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQUVDLE1BQU0sQ0FBQ0ssWUFBWSxDQUFFLGNBQWUsQ0FBRSxDQUFD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