// Copyright 2022-2023, University of Colorado Boulder

/**
 * Responsible for keeping two opposite sides of the quadrilateral and calculating if they are parallel within
 * tolerance intervals.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import Utils from '../../../../dot/js/Utils.js';
import quadrilateral from '../../quadrilateral.js';
import QuadrilateralQueryParameters from '../QuadrilateralQueryParameters.js';
import QuadrilateralShapeModel from './QuadrilateralShapeModel.js';
export default class ParallelSideChecker {
  // The tolerance interval used to compare angles in the calculation that determines if two opposite sides are
  // parallel. Without a bit of tolerance it would be extremely difficult to create parallel sides. This value
  // will be different depending on the runtime environment controlled by query parameters.

  // A Property indicating that the provided sides are parallel, ONLY FOR DEBUGGING. Use areSidesParallel() when the
  // QuadrilateralShapeModel is stable instead.
  //
  // It is unfortunate that this Property is not public, but that is not possible because the value of this Property
  // is dependent on multiple `QuadrilateralVertex.positionProperty`s. When moving sides, this value will have bad transient values
  // as vertex positions change one at a time. See QuadrilateralShapeModel.updateOrderDependentProperties() for more
  // information.
  /**
   * @param sidePair - The QuadrilateralSidePair with opposite sides that we want to inspect for parallelism
   * @param shapeChangedEmitter - Emitter for when the quadrilateral shape changes in some way.
   * @param tandem
   */
  constructor(sidePair, shapeChangedEmitter, tandem) {
    this.sidePair = sidePair;
    this.isParallelProperty = new BooleanProperty(false, {
      tandem: tandem.createTandem('isParallelProperty'),
      phetioReadOnly: true
    });
    this.parallelAngleToleranceInterval = QuadrilateralShapeModel.getWidenedToleranceInterval(QuadrilateralQueryParameters.parallelAngleToleranceInterval);

    // For debugging only. This Property may become true/false as QuadrilateralVertex positionProperties are set one at a time. When
    // moving sides, this can change intermittently. Use areSidesParallel() when the shape is stable instead.
    shapeChangedEmitter.addListener(() => {
      this.isParallelProperty.value = this.areSidesParallel();
    });
  }

  /**
   * Returns true if two angles are close enough to each other that they should be considered equal. They are close
   * enough if they are within the parallelAngleToleranceInterval.
   */
  isAngleEqualToOther(angle1, angle2) {
    return Utils.equalsEpsilon(angle1, angle2, this.parallelAngleToleranceInterval);
  }

  /**
   * Returns whether the two sides are currently parallel within parallelAngleToleranceInterval.
   */
  areSidesParallel() {
    const side1 = this.sidePair.component1;
    const side2 = this.sidePair.component2;
    assert && assert(side1.vertex1.angleProperty.value !== null, 'angles need to be available to determine parallel state');
    assert && assert(side2.vertex2.angleProperty.value !== null, 'angles need to be available to determine parallel state');

    // Two sides are parallel if the vertex angles of a shared adjacent side add up to Math.PI. The quadrilateral is
    // constructed such that the shared adjacent side is composed of vertex1 of side1 and vertex2 of side2.
    // We use this to determine which angles to inspect in the calculation.
    //                                  side1
    //                        vertex1---------------vertex2
    //                           |                   |
    //      shared adjacent side |                   |
    //                           |                   |
    //                           |-------------------|
    //                        vertex2   side2       vertex1
    return this.isAngleEqualToOther(side1.vertex1.angleProperty.value + side2.vertex2.angleProperty.value, Math.PI);
  }
}
quadrilateral.register('ParallelSideChecker', ParallelSideChecker);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJVdGlscyIsInF1YWRyaWxhdGVyYWwiLCJRdWFkcmlsYXRlcmFsUXVlcnlQYXJhbWV0ZXJzIiwiUXVhZHJpbGF0ZXJhbFNoYXBlTW9kZWwiLCJQYXJhbGxlbFNpZGVDaGVja2VyIiwiY29uc3RydWN0b3IiLCJzaWRlUGFpciIsInNoYXBlQ2hhbmdlZEVtaXR0ZXIiLCJ0YW5kZW0iLCJpc1BhcmFsbGVsUHJvcGVydHkiLCJjcmVhdGVUYW5kZW0iLCJwaGV0aW9SZWFkT25seSIsInBhcmFsbGVsQW5nbGVUb2xlcmFuY2VJbnRlcnZhbCIsImdldFdpZGVuZWRUb2xlcmFuY2VJbnRlcnZhbCIsImFkZExpc3RlbmVyIiwidmFsdWUiLCJhcmVTaWRlc1BhcmFsbGVsIiwiaXNBbmdsZUVxdWFsVG9PdGhlciIsImFuZ2xlMSIsImFuZ2xlMiIsImVxdWFsc0Vwc2lsb24iLCJzaWRlMSIsImNvbXBvbmVudDEiLCJzaWRlMiIsImNvbXBvbmVudDIiLCJhc3NlcnQiLCJ2ZXJ0ZXgxIiwiYW5nbGVQcm9wZXJ0eSIsInZlcnRleDIiLCJNYXRoIiwiUEkiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlBhcmFsbGVsU2lkZUNoZWNrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjItMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogUmVzcG9uc2libGUgZm9yIGtlZXBpbmcgdHdvIG9wcG9zaXRlIHNpZGVzIG9mIHRoZSBxdWFkcmlsYXRlcmFsIGFuZCBjYWxjdWxhdGluZyBpZiB0aGV5IGFyZSBwYXJhbGxlbCB3aXRoaW5cclxuICogdG9sZXJhbmNlIGludGVydmFscy5cclxuICpcclxuICogQGF1dGhvciBKZXNzZSBHcmVlbmJlcmcgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IEJvb2xlYW5Qcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Jvb2xlYW5Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBURW1pdHRlciBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RFbWl0dGVyLmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IFRhbmRlbSBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvVGFuZGVtLmpzJztcclxuaW1wb3J0IHF1YWRyaWxhdGVyYWwgZnJvbSAnLi4vLi4vcXVhZHJpbGF0ZXJhbC5qcyc7XHJcbmltcG9ydCBRdWFkcmlsYXRlcmFsUXVlcnlQYXJhbWV0ZXJzIGZyb20gJy4uL1F1YWRyaWxhdGVyYWxRdWVyeVBhcmFtZXRlcnMuanMnO1xyXG5pbXBvcnQgUXVhZHJpbGF0ZXJhbFNpZGVQYWlyIGZyb20gJy4vUXVhZHJpbGF0ZXJhbFNpZGVQYWlyLmpzJztcclxuaW1wb3J0IFF1YWRyaWxhdGVyYWxTaGFwZU1vZGVsIGZyb20gJy4vUXVhZHJpbGF0ZXJhbFNoYXBlTW9kZWwuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFyYWxsZWxTaWRlQ2hlY2tlciB7XHJcblxyXG4gIC8vIFRoZSB0b2xlcmFuY2UgaW50ZXJ2YWwgdXNlZCB0byBjb21wYXJlIGFuZ2xlcyBpbiB0aGUgY2FsY3VsYXRpb24gdGhhdCBkZXRlcm1pbmVzIGlmIHR3byBvcHBvc2l0ZSBzaWRlcyBhcmVcclxuICAvLyBwYXJhbGxlbC4gV2l0aG91dCBhIGJpdCBvZiB0b2xlcmFuY2UgaXQgd291bGQgYmUgZXh0cmVtZWx5IGRpZmZpY3VsdCB0byBjcmVhdGUgcGFyYWxsZWwgc2lkZXMuIFRoaXMgdmFsdWVcclxuICAvLyB3aWxsIGJlIGRpZmZlcmVudCBkZXBlbmRpbmcgb24gdGhlIHJ1bnRpbWUgZW52aXJvbm1lbnQgY29udHJvbGxlZCBieSBxdWVyeSBwYXJhbWV0ZXJzLlxyXG4gIHByaXZhdGUgcmVhZG9ubHkgcGFyYWxsZWxBbmdsZVRvbGVyYW5jZUludGVydmFsOiBudW1iZXI7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBzaWRlUGFpcjogUXVhZHJpbGF0ZXJhbFNpZGVQYWlyO1xyXG5cclxuICAvLyBBIFByb3BlcnR5IGluZGljYXRpbmcgdGhhdCB0aGUgcHJvdmlkZWQgc2lkZXMgYXJlIHBhcmFsbGVsLCBPTkxZIEZPUiBERUJVR0dJTkcuIFVzZSBhcmVTaWRlc1BhcmFsbGVsKCkgd2hlbiB0aGVcclxuICAvLyBRdWFkcmlsYXRlcmFsU2hhcGVNb2RlbCBpcyBzdGFibGUgaW5zdGVhZC5cclxuICAvL1xyXG4gIC8vIEl0IGlzIHVuZm9ydHVuYXRlIHRoYXQgdGhpcyBQcm9wZXJ0eSBpcyBub3QgcHVibGljLCBidXQgdGhhdCBpcyBub3QgcG9zc2libGUgYmVjYXVzZSB0aGUgdmFsdWUgb2YgdGhpcyBQcm9wZXJ0eVxyXG4gIC8vIGlzIGRlcGVuZGVudCBvbiBtdWx0aXBsZSBgUXVhZHJpbGF0ZXJhbFZlcnRleC5wb3NpdGlvblByb3BlcnR5YHMuIFdoZW4gbW92aW5nIHNpZGVzLCB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBiYWQgdHJhbnNpZW50IHZhbHVlc1xyXG4gIC8vIGFzIHZlcnRleCBwb3NpdGlvbnMgY2hhbmdlIG9uZSBhdCBhIHRpbWUuIFNlZSBRdWFkcmlsYXRlcmFsU2hhcGVNb2RlbC51cGRhdGVPcmRlckRlcGVuZGVudFByb3BlcnRpZXMoKSBmb3IgbW9yZVxyXG4gIC8vIGluZm9ybWF0aW9uLlxyXG4gIHByaXZhdGUgcmVhZG9ubHkgaXNQYXJhbGxlbFByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHNpZGVQYWlyIC0gVGhlIFF1YWRyaWxhdGVyYWxTaWRlUGFpciB3aXRoIG9wcG9zaXRlIHNpZGVzIHRoYXQgd2Ugd2FudCB0byBpbnNwZWN0IGZvciBwYXJhbGxlbGlzbVxyXG4gICAqIEBwYXJhbSBzaGFwZUNoYW5nZWRFbWl0dGVyIC0gRW1pdHRlciBmb3Igd2hlbiB0aGUgcXVhZHJpbGF0ZXJhbCBzaGFwZSBjaGFuZ2VzIGluIHNvbWUgd2F5LlxyXG4gICAqIEBwYXJhbSB0YW5kZW1cclxuICAgKi9cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHNpZGVQYWlyOiBRdWFkcmlsYXRlcmFsU2lkZVBhaXIsIHNoYXBlQ2hhbmdlZEVtaXR0ZXI6IFRFbWl0dGVyLCB0YW5kZW06IFRhbmRlbSApIHtcclxuXHJcbiAgICB0aGlzLnNpZGVQYWlyID0gc2lkZVBhaXI7XHJcblxyXG4gICAgdGhpcy5pc1BhcmFsbGVsUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCBmYWxzZSwge1xyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdpc1BhcmFsbGVsUHJvcGVydHknICksXHJcbiAgICAgIHBoZXRpb1JlYWRPbmx5OiB0cnVlXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5wYXJhbGxlbEFuZ2xlVG9sZXJhbmNlSW50ZXJ2YWwgPSBRdWFkcmlsYXRlcmFsU2hhcGVNb2RlbC5nZXRXaWRlbmVkVG9sZXJhbmNlSW50ZXJ2YWwoIFF1YWRyaWxhdGVyYWxRdWVyeVBhcmFtZXRlcnMucGFyYWxsZWxBbmdsZVRvbGVyYW5jZUludGVydmFsICk7XHJcblxyXG4gICAgLy8gRm9yIGRlYnVnZ2luZyBvbmx5LiBUaGlzIFByb3BlcnR5IG1heSBiZWNvbWUgdHJ1ZS9mYWxzZSBhcyBRdWFkcmlsYXRlcmFsVmVydGV4IHBvc2l0aW9uUHJvcGVydGllcyBhcmUgc2V0IG9uZSBhdCBhIHRpbWUuIFdoZW5cclxuICAgIC8vIG1vdmluZyBzaWRlcywgdGhpcyBjYW4gY2hhbmdlIGludGVybWl0dGVudGx5LiBVc2UgYXJlU2lkZXNQYXJhbGxlbCgpIHdoZW4gdGhlIHNoYXBlIGlzIHN0YWJsZSBpbnN0ZWFkLlxyXG4gICAgc2hhcGVDaGFuZ2VkRW1pdHRlci5hZGRMaXN0ZW5lciggKCkgPT4ge1xyXG4gICAgICB0aGlzLmlzUGFyYWxsZWxQcm9wZXJ0eS52YWx1ZSA9IHRoaXMuYXJlU2lkZXNQYXJhbGxlbCgpO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIHR3byBhbmdsZXMgYXJlIGNsb3NlIGVub3VnaCB0byBlYWNoIG90aGVyIHRoYXQgdGhleSBzaG91bGQgYmUgY29uc2lkZXJlZCBlcXVhbC4gVGhleSBhcmUgY2xvc2VcclxuICAgKiBlbm91Z2ggaWYgdGhleSBhcmUgd2l0aGluIHRoZSBwYXJhbGxlbEFuZ2xlVG9sZXJhbmNlSW50ZXJ2YWwuXHJcbiAgICovXHJcbiAgcHVibGljIGlzQW5nbGVFcXVhbFRvT3RoZXIoIGFuZ2xlMTogbnVtYmVyLCBhbmdsZTI6IG51bWJlciApOiBib29sZWFuIHtcclxuICAgIHJldHVybiBVdGlscy5lcXVhbHNFcHNpbG9uKCBhbmdsZTEsIGFuZ2xlMiwgdGhpcy5wYXJhbGxlbEFuZ2xlVG9sZXJhbmNlSW50ZXJ2YWwgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgdHdvIHNpZGVzIGFyZSBjdXJyZW50bHkgcGFyYWxsZWwgd2l0aGluIHBhcmFsbGVsQW5nbGVUb2xlcmFuY2VJbnRlcnZhbC5cclxuICAgKi9cclxuICBwdWJsaWMgYXJlU2lkZXNQYXJhbGxlbCgpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IHNpZGUxID0gdGhpcy5zaWRlUGFpci5jb21wb25lbnQxO1xyXG4gICAgY29uc3Qgc2lkZTIgPSB0aGlzLnNpZGVQYWlyLmNvbXBvbmVudDI7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBzaWRlMS52ZXJ0ZXgxLmFuZ2xlUHJvcGVydHkudmFsdWUgIT09IG51bGwsICdhbmdsZXMgbmVlZCB0byBiZSBhdmFpbGFibGUgdG8gZGV0ZXJtaW5lIHBhcmFsbGVsIHN0YXRlJyApO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggc2lkZTIudmVydGV4Mi5hbmdsZVByb3BlcnR5LnZhbHVlICE9PSBudWxsLCAnYW5nbGVzIG5lZWQgdG8gYmUgYXZhaWxhYmxlIHRvIGRldGVybWluZSBwYXJhbGxlbCBzdGF0ZScgKTtcclxuXHJcbiAgICAvLyBUd28gc2lkZXMgYXJlIHBhcmFsbGVsIGlmIHRoZSB2ZXJ0ZXggYW5nbGVzIG9mIGEgc2hhcmVkIGFkamFjZW50IHNpZGUgYWRkIHVwIHRvIE1hdGguUEkuIFRoZSBxdWFkcmlsYXRlcmFsIGlzXHJcbiAgICAvLyBjb25zdHJ1Y3RlZCBzdWNoIHRoYXQgdGhlIHNoYXJlZCBhZGphY2VudCBzaWRlIGlzIGNvbXBvc2VkIG9mIHZlcnRleDEgb2Ygc2lkZTEgYW5kIHZlcnRleDIgb2Ygc2lkZTIuXHJcbiAgICAvLyBXZSB1c2UgdGhpcyB0byBkZXRlcm1pbmUgd2hpY2ggYW5nbGVzIHRvIGluc3BlY3QgaW4gdGhlIGNhbGN1bGF0aW9uLlxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZTFcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgdmVydGV4MS0tLS0tLS0tLS0tLS0tLXZlcnRleDJcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICB8XHJcbiAgICAvLyAgICAgIHNoYXJlZCBhZGphY2VudCBzaWRlIHwgICAgICAgICAgICAgICAgICAgfFxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgIHxcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleDIgICBzaWRlMiAgICAgICB2ZXJ0ZXgxXHJcbiAgICByZXR1cm4gdGhpcy5pc0FuZ2xlRXF1YWxUb090aGVyKCBzaWRlMS52ZXJ0ZXgxLmFuZ2xlUHJvcGVydHkudmFsdWUhICsgc2lkZTIudmVydGV4Mi5hbmdsZVByb3BlcnR5LnZhbHVlISwgTWF0aC5QSSApO1xyXG4gIH1cclxufVxyXG5cclxucXVhZHJpbGF0ZXJhbC5yZWdpc3RlciggJ1BhcmFsbGVsU2lkZUNoZWNrZXInLCBQYXJhbGxlbFNpZGVDaGVja2VyICk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLGVBQWUsTUFBTSx3Q0FBd0M7QUFHcEUsT0FBT0MsS0FBSyxNQUFNLDZCQUE2QjtBQUUvQyxPQUFPQyxhQUFhLE1BQU0sd0JBQXdCO0FBQ2xELE9BQU9DLDRCQUE0QixNQUFNLG9DQUFvQztBQUU3RSxPQUFPQyx1QkFBdUIsTUFBTSw4QkFBOEI7QUFFbEUsZUFBZSxNQUFNQyxtQkFBbUIsQ0FBQztFQUV2QztFQUNBO0VBQ0E7O0VBS0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFHQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ1NDLFdBQVdBLENBQUVDLFFBQStCLEVBQUVDLG1CQUE2QixFQUFFQyxNQUFjLEVBQUc7SUFFbkcsSUFBSSxDQUFDRixRQUFRLEdBQUdBLFFBQVE7SUFFeEIsSUFBSSxDQUFDRyxrQkFBa0IsR0FBRyxJQUFJVixlQUFlLENBQUUsS0FBSyxFQUFFO01BQ3BEUyxNQUFNLEVBQUVBLE1BQU0sQ0FBQ0UsWUFBWSxDQUFFLG9CQUFxQixDQUFDO01BQ25EQyxjQUFjLEVBQUU7SUFDbEIsQ0FBRSxDQUFDO0lBRUgsSUFBSSxDQUFDQyw4QkFBOEIsR0FBR1QsdUJBQXVCLENBQUNVLDJCQUEyQixDQUFFWCw0QkFBNEIsQ0FBQ1UsOEJBQStCLENBQUM7O0lBRXhKO0lBQ0E7SUFDQUwsbUJBQW1CLENBQUNPLFdBQVcsQ0FBRSxNQUFNO01BQ3JDLElBQUksQ0FBQ0wsa0JBQWtCLENBQUNNLEtBQUssR0FBRyxJQUFJLENBQUNDLGdCQUFnQixDQUFDLENBQUM7SUFDekQsQ0FBRSxDQUFDO0VBQ0w7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7RUFDU0MsbUJBQW1CQSxDQUFFQyxNQUFjLEVBQUVDLE1BQWMsRUFBWTtJQUNwRSxPQUFPbkIsS0FBSyxDQUFDb0IsYUFBYSxDQUFFRixNQUFNLEVBQUVDLE1BQU0sRUFBRSxJQUFJLENBQUNQLDhCQUErQixDQUFDO0VBQ25GOztFQUVBO0FBQ0Y7QUFDQTtFQUNTSSxnQkFBZ0JBLENBQUEsRUFBWTtJQUNqQyxNQUFNSyxLQUFLLEdBQUcsSUFBSSxDQUFDZixRQUFRLENBQUNnQixVQUFVO0lBQ3RDLE1BQU1DLEtBQUssR0FBRyxJQUFJLENBQUNqQixRQUFRLENBQUNrQixVQUFVO0lBQ3RDQyxNQUFNLElBQUlBLE1BQU0sQ0FBRUosS0FBSyxDQUFDSyxPQUFPLENBQUNDLGFBQWEsQ0FBQ1osS0FBSyxLQUFLLElBQUksRUFBRSx5REFBMEQsQ0FBQztJQUN6SFUsTUFBTSxJQUFJQSxNQUFNLENBQUVGLEtBQUssQ0FBQ0ssT0FBTyxDQUFDRCxhQUFhLENBQUNaLEtBQUssS0FBSyxJQUFJLEVBQUUseURBQTBELENBQUM7O0lBRXpIO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsT0FBTyxJQUFJLENBQUNFLG1CQUFtQixDQUFFSSxLQUFLLENBQUNLLE9BQU8sQ0FBQ0MsYUFBYSxDQUFDWixLQUFLLEdBQUlRLEtBQUssQ0FBQ0ssT0FBTyxDQUFDRCxhQUFhLENBQUNaLEtBQU0sRUFBRWMsSUFBSSxDQUFDQyxFQUFHLENBQUM7RUFDckg7QUFDRjtBQUVBN0IsYUFBYSxDQUFDOEIsUUFBUSxDQUFFLHFCQUFxQixFQUFFM0IsbUJBQW9CLENBQUMifQ==