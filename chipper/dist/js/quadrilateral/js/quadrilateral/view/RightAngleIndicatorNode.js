// Copyright 2022-2023, University of Colorado Boulder

/**
 * A representation of the angle when it is a right angle.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import { Path } from '../../../../scenery/js/imports.js';
import { Line, Shape } from '../../../../kite/js/imports.js';
import QuadrilateralColors from '../../QuadrilateralColors.js';
import quadrilateral from '../../quadrilateral.js';
// in model coordinates, length of a side of the indicator from the edge of a line between two vertices
const SIDE_LENGTH = 0.12;
export default class RightAngleIndicatorNode extends Path {
  /**
   * @param vertex1 - The QuadrilateralVertex being represented, indicator will be visible when angle at this vertex is 90 degrees
   * @param vertex2 - QuadrilateralVertex with a side connected to vertexA in the clockwise direction
   * @param vertex3 - QuadrilateralVertex with a side connected to vertexB in the counterclockwise direction
   * @param cornerGuideVisibleProperty
   * @param shapeModel
   * @param modelViewTransform
   */
  constructor(vertex1, vertex2, vertex3, cornerGuideVisibleProperty, shapeModel, modelViewTransform) {
    super(null, {
      stroke: QuadrilateralColors.rightAngleIndicatorStrokeColorProperty,
      lineWidth: 2
    });
    this.shapeModel = shapeModel;
    this.modelViewTransform = modelViewTransform;
    this.cornerGuideVisibleProperty = cornerGuideVisibleProperty;

    // indicator visibility matches how we name shapes.
    const redrawShapeListener = () => {
      this.redrawShape(vertex1, vertex2, vertex3);
    };
    cornerGuideVisibleProperty.link(redrawShapeListener);
    shapeModel.shapeChangedEmitter.addListener(redrawShapeListener);
  }

  /**
   * Draws the "right angle indicator" shape - a right angle bracket that gets drawn between two adjacent sides
   * in the interior of the quadrilateral.
   */
  redrawShape(vertex1, vertex2, vertex3) {
    assert && assert(vertex1.angleProperty.value, 'Angle must be available to draw the indicator');
    const angle = vertex1.angleProperty.value;
    this.visible = this.shapeModel.isRightAngle(angle) && this.cornerGuideVisibleProperty.value;

    // if visible, we need to redraw the shape
    if (this.visible) {
      const vertex1Position = vertex1.positionProperty.value;

      // The line from vertex1 to vertex2 (clockwise connected side)
      const firstLine = new Line(vertex1Position, vertex2.positionProperty.value);

      // the line from vertex1 to vertex3 (counterclockwise connected side)
      const secondLine = new Line(vertex1Position, vertex3.positionProperty.value);

      // point along the first side where we start drawing
      const t1 = Math.min(SIDE_LENGTH / firstLine.getArcLength(), 1);
      const pointAlongFirstInnerLine = firstLine.positionAt(t1);

      // point along the second side where we finish drawing
      const t2 = Math.min(SIDE_LENGTH / secondLine.getArcLength(), 1);
      const pointAlongSecondInnerLine = secondLine.positionAt(t2);

      // intersection point between the perpendicular lines
      const innerPoint = pointAlongSecondInnerLine.plus(pointAlongFirstInnerLine.minus(vertex1Position));

      // We now have all points for our "square" shape
      const shape = new Shape();
      shape.moveToPoint(pointAlongFirstInnerLine);
      shape.lineToPoint(innerPoint);
      shape.lineToPoint(pointAlongSecondInnerLine);
      this.shape = this.modelViewTransform.modelToViewShape(shape);
    }
  }
}
quadrilateral.register('RightAngleIndicatorNode', RightAngleIndicatorNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYXRoIiwiTGluZSIsIlNoYXBlIiwiUXVhZHJpbGF0ZXJhbENvbG9ycyIsInF1YWRyaWxhdGVyYWwiLCJTSURFX0xFTkdUSCIsIlJpZ2h0QW5nbGVJbmRpY2F0b3JOb2RlIiwiY29uc3RydWN0b3IiLCJ2ZXJ0ZXgxIiwidmVydGV4MiIsInZlcnRleDMiLCJjb3JuZXJHdWlkZVZpc2libGVQcm9wZXJ0eSIsInNoYXBlTW9kZWwiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJzdHJva2UiLCJyaWdodEFuZ2xlSW5kaWNhdG9yU3Ryb2tlQ29sb3JQcm9wZXJ0eSIsImxpbmVXaWR0aCIsInJlZHJhd1NoYXBlTGlzdGVuZXIiLCJyZWRyYXdTaGFwZSIsImxpbmsiLCJzaGFwZUNoYW5nZWRFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJhc3NlcnQiLCJhbmdsZVByb3BlcnR5IiwidmFsdWUiLCJhbmdsZSIsInZpc2libGUiLCJpc1JpZ2h0QW5nbGUiLCJ2ZXJ0ZXgxUG9zaXRpb24iLCJwb3NpdGlvblByb3BlcnR5IiwiZmlyc3RMaW5lIiwic2Vjb25kTGluZSIsInQxIiwiTWF0aCIsIm1pbiIsImdldEFyY0xlbmd0aCIsInBvaW50QWxvbmdGaXJzdElubmVyTGluZSIsInBvc2l0aW9uQXQiLCJ0MiIsInBvaW50QWxvbmdTZWNvbmRJbm5lckxpbmUiLCJpbm5lclBvaW50IiwicGx1cyIsIm1pbnVzIiwic2hhcGUiLCJtb3ZlVG9Qb2ludCIsImxpbmVUb1BvaW50IiwibW9kZWxUb1ZpZXdTaGFwZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiUmlnaHRBbmdsZUluZGljYXRvck5vZGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjItMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQSByZXByZXNlbnRhdGlvbiBvZiB0aGUgYW5nbGUgd2hlbiBpdCBpcyBhIHJpZ2h0IGFuZ2xlLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEplc3NlIEdyZWVuYmVyZyAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgeyBQYXRoIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFF1YWRyaWxhdGVyYWxWZXJ0ZXggZnJvbSAnLi4vbW9kZWwvUXVhZHJpbGF0ZXJhbFZlcnRleC5qcyc7XHJcbmltcG9ydCBRdWFkcmlsYXRlcmFsU2hhcGVNb2RlbCBmcm9tICcuLi9tb2RlbC9RdWFkcmlsYXRlcmFsU2hhcGVNb2RlbC5qcyc7XHJcbmltcG9ydCB7IExpbmUsIFNoYXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4va2l0ZS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IE1vZGVsVmlld1RyYW5zZm9ybTIgZnJvbSAnLi4vLi4vLi4vLi4vcGhldGNvbW1vbi9qcy92aWV3L01vZGVsVmlld1RyYW5zZm9ybTIuanMnO1xyXG5pbXBvcnQgUXVhZHJpbGF0ZXJhbENvbG9ycyBmcm9tICcuLi8uLi9RdWFkcmlsYXRlcmFsQ29sb3JzLmpzJztcclxuaW1wb3J0IHF1YWRyaWxhdGVyYWwgZnJvbSAnLi4vLi4vcXVhZHJpbGF0ZXJhbC5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuXHJcbi8vIGluIG1vZGVsIGNvb3JkaW5hdGVzLCBsZW5ndGggb2YgYSBzaWRlIG9mIHRoZSBpbmRpY2F0b3IgZnJvbSB0aGUgZWRnZSBvZiBhIGxpbmUgYmV0d2VlbiB0d28gdmVydGljZXNcclxuY29uc3QgU0lERV9MRU5HVEggPSAwLjEyO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmlnaHRBbmdsZUluZGljYXRvck5vZGUgZXh0ZW5kcyBQYXRoIHtcclxuICBwcml2YXRlIHJlYWRvbmx5IHNoYXBlTW9kZWw6IFF1YWRyaWxhdGVyYWxTaGFwZU1vZGVsO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgbW9kZWxWaWV3VHJhbnNmb3JtOiBNb2RlbFZpZXdUcmFuc2Zvcm0yO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY29ybmVyR3VpZGVWaXNpYmxlUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PGJvb2xlYW4+O1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gdmVydGV4MSAtIFRoZSBRdWFkcmlsYXRlcmFsVmVydGV4IGJlaW5nIHJlcHJlc2VudGVkLCBpbmRpY2F0b3Igd2lsbCBiZSB2aXNpYmxlIHdoZW4gYW5nbGUgYXQgdGhpcyB2ZXJ0ZXggaXMgOTAgZGVncmVlc1xyXG4gICAqIEBwYXJhbSB2ZXJ0ZXgyIC0gUXVhZHJpbGF0ZXJhbFZlcnRleCB3aXRoIGEgc2lkZSBjb25uZWN0ZWQgdG8gdmVydGV4QSBpbiB0aGUgY2xvY2t3aXNlIGRpcmVjdGlvblxyXG4gICAqIEBwYXJhbSB2ZXJ0ZXgzIC0gUXVhZHJpbGF0ZXJhbFZlcnRleCB3aXRoIGEgc2lkZSBjb25uZWN0ZWQgdG8gdmVydGV4QiBpbiB0aGUgY291bnRlcmNsb2Nrd2lzZSBkaXJlY3Rpb25cclxuICAgKiBAcGFyYW0gY29ybmVyR3VpZGVWaXNpYmxlUHJvcGVydHlcclxuICAgKiBAcGFyYW0gc2hhcGVNb2RlbFxyXG4gICAqIEBwYXJhbSBtb2RlbFZpZXdUcmFuc2Zvcm1cclxuICAgKi9cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHZlcnRleDE6IFF1YWRyaWxhdGVyYWxWZXJ0ZXgsIHZlcnRleDI6IFF1YWRyaWxhdGVyYWxWZXJ0ZXgsIHZlcnRleDM6IFF1YWRyaWxhdGVyYWxWZXJ0ZXgsIGNvcm5lckd1aWRlVmlzaWJsZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPiwgc2hhcGVNb2RlbDogUXVhZHJpbGF0ZXJhbFNoYXBlTW9kZWwsIG1vZGVsVmlld1RyYW5zZm9ybTogTW9kZWxWaWV3VHJhbnNmb3JtMiApIHtcclxuICAgIHN1cGVyKCBudWxsLCB7XHJcbiAgICAgIHN0cm9rZTogUXVhZHJpbGF0ZXJhbENvbG9ycy5yaWdodEFuZ2xlSW5kaWNhdG9yU3Ryb2tlQ29sb3JQcm9wZXJ0eSxcclxuICAgICAgbGluZVdpZHRoOiAyXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5zaGFwZU1vZGVsID0gc2hhcGVNb2RlbDtcclxuICAgIHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtID0gbW9kZWxWaWV3VHJhbnNmb3JtO1xyXG4gICAgdGhpcy5jb3JuZXJHdWlkZVZpc2libGVQcm9wZXJ0eSA9IGNvcm5lckd1aWRlVmlzaWJsZVByb3BlcnR5O1xyXG5cclxuICAgIC8vIGluZGljYXRvciB2aXNpYmlsaXR5IG1hdGNoZXMgaG93IHdlIG5hbWUgc2hhcGVzLlxyXG4gICAgY29uc3QgcmVkcmF3U2hhcGVMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgdGhpcy5yZWRyYXdTaGFwZSggdmVydGV4MSwgdmVydGV4MiwgdmVydGV4MyApO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb3JuZXJHdWlkZVZpc2libGVQcm9wZXJ0eS5saW5rKCByZWRyYXdTaGFwZUxpc3RlbmVyICk7XHJcbiAgICBzaGFwZU1vZGVsLnNoYXBlQ2hhbmdlZEVtaXR0ZXIuYWRkTGlzdGVuZXIoIHJlZHJhd1NoYXBlTGlzdGVuZXIgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdzIHRoZSBcInJpZ2h0IGFuZ2xlIGluZGljYXRvclwiIHNoYXBlIC0gYSByaWdodCBhbmdsZSBicmFja2V0IHRoYXQgZ2V0cyBkcmF3biBiZXR3ZWVuIHR3byBhZGphY2VudCBzaWRlc1xyXG4gICAqIGluIHRoZSBpbnRlcmlvciBvZiB0aGUgcXVhZHJpbGF0ZXJhbC5cclxuICAgKi9cclxuICBwcml2YXRlIHJlZHJhd1NoYXBlKCB2ZXJ0ZXgxOiBRdWFkcmlsYXRlcmFsVmVydGV4LCB2ZXJ0ZXgyOiBRdWFkcmlsYXRlcmFsVmVydGV4LCB2ZXJ0ZXgzOiBRdWFkcmlsYXRlcmFsVmVydGV4ICk6IHZvaWQge1xyXG5cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIHZlcnRleDEuYW5nbGVQcm9wZXJ0eS52YWx1ZSwgJ0FuZ2xlIG11c3QgYmUgYXZhaWxhYmxlIHRvIGRyYXcgdGhlIGluZGljYXRvcicgKTtcclxuICAgIGNvbnN0IGFuZ2xlID0gdmVydGV4MS5hbmdsZVByb3BlcnR5LnZhbHVlITtcclxuXHJcbiAgICB0aGlzLnZpc2libGUgPSB0aGlzLnNoYXBlTW9kZWwuaXNSaWdodEFuZ2xlKCBhbmdsZSApICYmIHRoaXMuY29ybmVyR3VpZGVWaXNpYmxlUHJvcGVydHkudmFsdWU7XHJcblxyXG4gICAgLy8gaWYgdmlzaWJsZSwgd2UgbmVlZCB0byByZWRyYXcgdGhlIHNoYXBlXHJcbiAgICBpZiAoIHRoaXMudmlzaWJsZSApIHtcclxuICAgICAgY29uc3QgdmVydGV4MVBvc2l0aW9uID0gdmVydGV4MS5wb3NpdGlvblByb3BlcnR5LnZhbHVlO1xyXG5cclxuICAgICAgLy8gVGhlIGxpbmUgZnJvbSB2ZXJ0ZXgxIHRvIHZlcnRleDIgKGNsb2Nrd2lzZSBjb25uZWN0ZWQgc2lkZSlcclxuICAgICAgY29uc3QgZmlyc3RMaW5lID0gbmV3IExpbmUoIHZlcnRleDFQb3NpdGlvbiwgdmVydGV4Mi5wb3NpdGlvblByb3BlcnR5LnZhbHVlICk7XHJcblxyXG4gICAgICAvLyB0aGUgbGluZSBmcm9tIHZlcnRleDEgdG8gdmVydGV4MyAoY291bnRlcmNsb2Nrd2lzZSBjb25uZWN0ZWQgc2lkZSlcclxuICAgICAgY29uc3Qgc2Vjb25kTGluZSA9IG5ldyBMaW5lKCB2ZXJ0ZXgxUG9zaXRpb24sIHZlcnRleDMucG9zaXRpb25Qcm9wZXJ0eS52YWx1ZSApO1xyXG5cclxuICAgICAgLy8gcG9pbnQgYWxvbmcgdGhlIGZpcnN0IHNpZGUgd2hlcmUgd2Ugc3RhcnQgZHJhd2luZ1xyXG4gICAgICBjb25zdCB0MSA9IE1hdGgubWluKCBTSURFX0xFTkdUSCAvIGZpcnN0TGluZS5nZXRBcmNMZW5ndGgoKSwgMSApO1xyXG4gICAgICBjb25zdCBwb2ludEFsb25nRmlyc3RJbm5lckxpbmUgPSBmaXJzdExpbmUucG9zaXRpb25BdCggdDEgKTtcclxuXHJcbiAgICAgIC8vIHBvaW50IGFsb25nIHRoZSBzZWNvbmQgc2lkZSB3aGVyZSB3ZSBmaW5pc2ggZHJhd2luZ1xyXG4gICAgICBjb25zdCB0MiA9IE1hdGgubWluKCBTSURFX0xFTkdUSCAvIHNlY29uZExpbmUuZ2V0QXJjTGVuZ3RoKCksIDEgKTtcclxuICAgICAgY29uc3QgcG9pbnRBbG9uZ1NlY29uZElubmVyTGluZSA9IHNlY29uZExpbmUucG9zaXRpb25BdCggdDIgKTtcclxuXHJcbiAgICAgIC8vIGludGVyc2VjdGlvbiBwb2ludCBiZXR3ZWVuIHRoZSBwZXJwZW5kaWN1bGFyIGxpbmVzXHJcbiAgICAgIGNvbnN0IGlubmVyUG9pbnQgPSBwb2ludEFsb25nU2Vjb25kSW5uZXJMaW5lLnBsdXMoIHBvaW50QWxvbmdGaXJzdElubmVyTGluZS5taW51cyggdmVydGV4MVBvc2l0aW9uICkgKTtcclxuXHJcbiAgICAgIC8vIFdlIG5vdyBoYXZlIGFsbCBwb2ludHMgZm9yIG91ciBcInNxdWFyZVwiIHNoYXBlXHJcbiAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFNoYXBlKCk7XHJcbiAgICAgIHNoYXBlLm1vdmVUb1BvaW50KCBwb2ludEFsb25nRmlyc3RJbm5lckxpbmUgKTtcclxuICAgICAgc2hhcGUubGluZVRvUG9pbnQoIGlubmVyUG9pbnQgKTtcclxuICAgICAgc2hhcGUubGluZVRvUG9pbnQoIHBvaW50QWxvbmdTZWNvbmRJbm5lckxpbmUgKTtcclxuXHJcbiAgICAgIHRoaXMuc2hhcGUgPSB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1NoYXBlKCBzaGFwZSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxucXVhZHJpbGF0ZXJhbC5yZWdpc3RlciggJ1JpZ2h0QW5nbGVJbmRpY2F0b3JOb2RlJywgUmlnaHRBbmdsZUluZGljYXRvck5vZGUgKTtcclxuIl0sIm1hcHBpbmdz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