// Copyright 2021-2023, University of Colorado Boulder

/**
 * A class that generates many descriptions for the quadrilateral and simulation. It assembles strings that describe
 * (in natural english) the state of the simulation and the geometric properties of the quadrilateral.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import quadrilateral from '../../quadrilateral.js';
import QuadrilateralStrings from '../../QuadrilateralStrings.js';
import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
import NamedQuadrilateral from '../model/NamedQuadrilateral.js';
import QuadrilateralVertexLabel from '../model/QuadrilateralVertexLabel.js';
import QuadrilateralVertexDescriber from './QuadrilateralVertexDescriber.js';
import QuadrilateralSideDescriber from './QuadrilateralSideDescriber.js';
import QuadrilateralSideLabel from '../model/QuadrilateralSideLabel.js';
import QuadrilateralConstants from '../../QuadrilateralConstants.js';
import ResponsePacket from '../../../../utterance-queue/js/ResponsePacket.js';

// Alias for string types used in this sim - to support string Properties (dynamic locales), strings, and often
// null values for functions. Even though Voicing and Interactive Description do not support dynamic locales, code
// still uses Properties to reduce technical debt.
// constants
const firstDetailsStatementPatternStringProperty = QuadrilateralStrings.a11y.voicing.firstDetailsStatementPatternStringProperty;
const aBStringProperty = QuadrilateralStrings.a11y.aBStringProperty;
const bCStringProperty = QuadrilateralStrings.a11y.bCStringProperty;
const cDStringProperty = QuadrilateralStrings.a11y.cDStringProperty;
const dAStringProperty = QuadrilateralStrings.a11y.dAStringProperty;
const sideABStringProperty = QuadrilateralStrings.a11y.sideABStringProperty;
const sideBCStringProperty = QuadrilateralStrings.a11y.sideBCStringProperty;
const sideCDStringProperty = QuadrilateralStrings.a11y.sideCDStringProperty;
const sideDAStringProperty = QuadrilateralStrings.a11y.sideDAStringProperty;
const allStringProperty = QuadrilateralStrings.a11y.voicing.details.allStringProperty;
const oppositeStringProperty = QuadrilateralStrings.a11y.voicing.details.oppositeStringProperty;
const rightAnglesStringProperty = QuadrilateralStrings.a11y.voicing.details.rightAnglesStringProperty;
const equalStringProperty = QuadrilateralStrings.a11y.voicing.details.equalStringProperty;
const pairsOfAdjacentStringProperty = QuadrilateralStrings.a11y.voicing.details.pairsOfAdjacentStringProperty;
const onePairOfAdjacentStringProperty = QuadrilateralStrings.a11y.voicing.details.onePairOfAdjacentStringProperty;
const onePairOfOppositeStringProperty = QuadrilateralStrings.a11y.voicing.details.onePairOfOppositeStringProperty;
const noStringStringProperty = QuadrilateralStrings.a11y.voicing.details.noStringStringProperty;
const vertexAStringProperty = QuadrilateralStrings.vertexAStringProperty;
const vertexBStringProperty = QuadrilateralStrings.vertexBStringProperty;
const vertexCStringProperty = QuadrilateralStrings.vertexCStringProperty;
const vertexDStringProperty = QuadrilateralStrings.vertexDStringProperty;
const youHaveASizedNamedShapePatternStringProperty = QuadrilateralStrings.a11y.voicing.youHaveASizedNamedShapePatternStringProperty;
const youHaveASizedShapePatternStringProperty = QuadrilateralStrings.a11y.voicing.youHaveASizedShapePatternStringProperty;
const isoscelesTrapezoidDetailsPatternStringProperty = QuadrilateralStrings.a11y.voicing.isoscelesTrapezoidDetailsPatternStringProperty;
const allRightAnglesAllSidesEqualStringProperty = QuadrilateralStrings.a11y.voicing.allRightAnglesAllSidesEqualStringProperty;
const oppositeSidesInParallelStringProperty = QuadrilateralStrings.a11y.voicing.oppositeSidesInParallelStringProperty;
const trapezoidDetailsPatternStringProperty = QuadrilateralStrings.a11y.voicing.trapezoidDetailsPatternStringProperty;
const kiteDetailsShortPatternStringProperty = QuadrilateralStrings.a11y.voicing.kiteDetailsShortPatternStringProperty;
const dartDetailsShortPatternStringProperty = QuadrilateralStrings.a11y.voicing.dartDetailsShortPatternStringProperty;
const dartDetailsPatternStringProperty = QuadrilateralStrings.a11y.voicing.dartDetailsPatternStringProperty;
const kiteDetailsPatternStringProperty = QuadrilateralStrings.a11y.voicing.kiteDetailsPatternStringProperty;
const convexQuadrilateralDetailsStringProperty = QuadrilateralStrings.a11y.voicing.convexQuadrilateralDetailsStringProperty;
const concaveQuadrilateralDetailsPatternStringProperty = QuadrilateralStrings.a11y.voicing.concaveQuadrilateralDetailsPatternStringProperty;
const allSidesEqualStringProperty = QuadrilateralStrings.a11y.voicing.allSidesEqualStringProperty;
const allRightAnglesStringProperty = QuadrilateralStrings.a11y.voicing.allRightAnglesStringProperty;
const triangleDetailsPatternStringProperty = QuadrilateralStrings.a11y.voicing.triangleDetailsPatternStringProperty;
const sidesDescriptionPatternStringProperty = QuadrilateralStrings.a11y.voicing.sidesDescriptionPatternStringProperty;
const longestSidesDescriptionPatternStringProperty = QuadrilateralStrings.a11y.voicing.longestSidesDescriptionPatternStringProperty;
const longestSideDescriptionPatternStringProperty = QuadrilateralStrings.a11y.voicing.longestSideDescriptionPatternStringProperty;
const shortestSidesDescriptionPatternStringProperty = QuadrilateralStrings.a11y.voicing.shortestSidesDescriptionPatternStringProperty;
const shortestSideDescriptionPatternStringProperty = QuadrilateralStrings.a11y.voicing.shortestSideDescriptionPatternStringProperty;
const sideLengthDescriptionPatternStringProperty = QuadrilateralStrings.a11y.voicing.sideLengthDescriptionPatternStringProperty;
const cornersRightDescriptionStringProperty = QuadrilateralStrings.a11y.voicing.cornersRightDescriptionStringProperty;
const widestCornersDescriptionPatternStringProperty = QuadrilateralStrings.a11y.voicing.widestCornersDescriptionPatternStringProperty;
const widestCornerDescriptionPatternStringProperty = QuadrilateralStrings.a11y.voicing.widestCornerDescriptionPatternStringProperty;
const smallestCornersDescriptionPatternStringProperty = QuadrilateralStrings.a11y.voicing.smallestCornersDescriptionPatternStringProperty;
const smallestCornerDescriptionPatternStringProperty = QuadrilateralStrings.a11y.voicing.smallestCornerDescriptionPatternStringProperty;
const cornersDescriptionPatternStringProperty = QuadrilateralStrings.a11y.voicing.cornersDescriptionPatternStringProperty;
const numberOfWedgesPatternStringProperty = QuadrilateralStrings.a11y.voicing.numberOfWedgesPatternStringProperty;
const tinyStringProperty = QuadrilateralStrings.a11y.voicing.sizes.tinyStringProperty;
const verySmallStringProperty = QuadrilateralStrings.a11y.voicing.sizes.verySmallStringProperty;
const smallStringProperty = QuadrilateralStrings.a11y.voicing.sizes.smallStringProperty;
const mediumSizedStringProperty = QuadrilateralStrings.a11y.voicing.sizes.mediumSizedStringProperty;
const largeStringProperty = QuadrilateralStrings.a11y.voicing.sizes.largeStringProperty;
const youHaveAShapeHintPatternStringProperty = QuadrilateralStrings.a11y.voicing.youHaveAShapeHintPatternStringProperty;
const resetShapeStringProperty = QuadrilateralStrings.resetShapeStringProperty;
const resetShapeContextResponseStringProperty = QuadrilateralStrings.a11y.voicing.resetShape.contextResponseStringProperty;
const shapeNameWithArticlesMap = new Map();
shapeNameWithArticlesMap.set(NamedQuadrilateral.SQUARE, QuadrilateralStrings.a11y.voicing.shapeNames.withArticles.squareStringProperty);
shapeNameWithArticlesMap.set(NamedQuadrilateral.RECTANGLE, QuadrilateralStrings.a11y.voicing.shapeNames.withArticles.rectangleStringProperty);
shapeNameWithArticlesMap.set(NamedQuadrilateral.RHOMBUS, QuadrilateralStrings.a11y.voicing.shapeNames.withArticles.rhombusStringProperty);
shapeNameWithArticlesMap.set(NamedQuadrilateral.KITE, QuadrilateralStrings.a11y.voicing.shapeNames.withArticles.kiteStringProperty);
shapeNameWithArticlesMap.set(NamedQuadrilateral.ISOSCELES_TRAPEZOID, QuadrilateralStrings.a11y.voicing.shapeNames.withArticles.isoscelesTrapezoidStringProperty);
shapeNameWithArticlesMap.set(NamedQuadrilateral.TRAPEZOID, QuadrilateralStrings.a11y.voicing.shapeNames.withArticles.trapezoidStringProperty);
shapeNameWithArticlesMap.set(NamedQuadrilateral.CONCAVE_QUADRILATERAL, QuadrilateralStrings.a11y.voicing.shapeNames.withArticles.concaveQuadrilateralStringProperty);
shapeNameWithArticlesMap.set(NamedQuadrilateral.CONVEX_QUADRILATERAL, QuadrilateralStrings.a11y.voicing.shapeNames.withArticles.convexQuadrilateralStringProperty);
shapeNameWithArticlesMap.set(NamedQuadrilateral.PARALLELOGRAM, QuadrilateralStrings.a11y.voicing.shapeNames.withArticles.parallelogramStringProperty);
shapeNameWithArticlesMap.set(NamedQuadrilateral.DART, QuadrilateralStrings.a11y.voicing.shapeNames.withArticles.dartStringProperty);
shapeNameWithArticlesMap.set(NamedQuadrilateral.TRIANGLE, QuadrilateralStrings.a11y.voicing.shapeNames.withArticles.triangleStringProperty);
const shapeNameMap = new Map();
shapeNameMap.set(NamedQuadrilateral.SQUARE, QuadrilateralStrings.a11y.voicing.shapeNames.withoutArticles.squareStringProperty);
shapeNameMap.set(NamedQuadrilateral.RECTANGLE, QuadrilateralStrings.a11y.voicing.shapeNames.withoutArticles.rectangleStringProperty);
shapeNameMap.set(NamedQuadrilateral.RHOMBUS, QuadrilateralStrings.a11y.voicing.shapeNames.withoutArticles.rhombusStringProperty);
shapeNameMap.set(NamedQuadrilateral.KITE, QuadrilateralStrings.a11y.voicing.shapeNames.withoutArticles.kiteStringProperty);
shapeNameMap.set(NamedQuadrilateral.ISOSCELES_TRAPEZOID, QuadrilateralStrings.a11y.voicing.shapeNames.withoutArticles.isoscelesTrapezoidStringProperty);
shapeNameMap.set(NamedQuadrilateral.TRAPEZOID, QuadrilateralStrings.a11y.voicing.shapeNames.withoutArticles.trapezoidStringProperty);
shapeNameMap.set(NamedQuadrilateral.CONCAVE_QUADRILATERAL, QuadrilateralStrings.a11y.voicing.shapeNames.withoutArticles.concaveQuadrilateralStringProperty);
shapeNameMap.set(NamedQuadrilateral.CONVEX_QUADRILATERAL, QuadrilateralStrings.a11y.voicing.shapeNames.withoutArticles.convexQuadrilateralStringProperty);
shapeNameMap.set(NamedQuadrilateral.PARALLELOGRAM, QuadrilateralStrings.a11y.voicing.shapeNames.withoutArticles.parallelogramStringProperty);
shapeNameMap.set(NamedQuadrilateral.DART, QuadrilateralStrings.a11y.voicing.shapeNames.withoutArticles.dartStringProperty);
shapeNameMap.set(NamedQuadrilateral.TRIANGLE, QuadrilateralStrings.a11y.voicing.shapeNames.withoutArticles.triangleStringProperty);

// A map that goes from QuadrilateralVertexLabel -> letter label (like "A")
const vertexLabelMap = new Map();
vertexLabelMap.set(QuadrilateralVertexLabel.VERTEX_A, vertexAStringProperty);
vertexLabelMap.set(QuadrilateralVertexLabel.VERTEX_B, vertexBStringProperty);
vertexLabelMap.set(QuadrilateralVertexLabel.VERTEX_C, vertexCStringProperty);
vertexLabelMap.set(QuadrilateralVertexLabel.VERTEX_D, vertexDStringProperty);

// A map that goes from QuadrilateralSideLabel -> "full" side label (like "Side AB")
const fullSideLabelMap = new Map();
fullSideLabelMap.set(QuadrilateralSideLabel.SIDE_AB, sideABStringProperty);
fullSideLabelMap.set(QuadrilateralSideLabel.SIDE_BC, sideBCStringProperty);
fullSideLabelMap.set(QuadrilateralSideLabel.SIDE_CD, sideCDStringProperty);
fullSideLabelMap.set(QuadrilateralSideLabel.SIDE_DA, sideDAStringProperty);

// A map that goes from QuadrilateralSideLabel -> letters label (like "AB")
const sideLabelMap = new Map();
sideLabelMap.set(QuadrilateralSideLabel.SIDE_AB, aBStringProperty);
sideLabelMap.set(QuadrilateralSideLabel.SIDE_BC, bCStringProperty);
sideLabelMap.set(QuadrilateralSideLabel.SIDE_CD, cDStringProperty);
sideLabelMap.set(QuadrilateralSideLabel.SIDE_DA, dAStringProperty);

// Thresholds that are used to describe the size of the current shape. All are relative to the displayed grid
// and the area of a grid cell.
const GRID_CELL_AREA = Math.pow(QuadrilateralConstants.GRID_SPACING, 2);
const TINY_THRESHOLD = GRID_CELL_AREA * 4;
const VERY_SMALL_THRESHOLD = GRID_CELL_AREA * 12;
const SMALL_THRESHOLD = GRID_CELL_AREA * 24;
const MEDIUM_SIZED_THRESHOLD = GRID_CELL_AREA * 48;
export default class QuadrilateralDescriber {
  constructor(shapeModel, shapeNameVisibleProperty, markersVisibleProperty, modelViewTransform) {
    this.shapeModel = shapeModel;
    this.shapeNameVisibleProperty = shapeNameVisibleProperty;
    this.markersVisibleProperty = markersVisibleProperty;
    this.sideABDescriber = new QuadrilateralSideDescriber(shapeModel.sideAB, shapeModel, markersVisibleProperty, modelViewTransform);
    this.sideBCDescriber = new QuadrilateralSideDescriber(shapeModel.sideBC, shapeModel, markersVisibleProperty, modelViewTransform);
    this.sideCDDescriber = new QuadrilateralSideDescriber(shapeModel.sideCD, shapeModel, markersVisibleProperty, modelViewTransform);
    this.sideDADescriber = new QuadrilateralSideDescriber(shapeModel.sideDA, shapeModel, markersVisibleProperty, modelViewTransform);
    this.sideDescribers = [this.sideABDescriber, this.sideBCDescriber, this.sideCDDescriber, this.sideDADescriber];
    this.vertexADescriber = new QuadrilateralVertexDescriber(shapeModel.vertexA, shapeModel, markersVisibleProperty);
    this.vertexBDescriber = new QuadrilateralVertexDescriber(shapeModel.vertexB, shapeModel, markersVisibleProperty);
    this.vertexCDescriber = new QuadrilateralVertexDescriber(shapeModel.vertexC, shapeModel, markersVisibleProperty);
    this.vertexDDescriber = new QuadrilateralVertexDescriber(shapeModel.vertexD, shapeModel, markersVisibleProperty);
  }

  /**
   * Return the QuadrilateralVertexDescriber that can be used to describe a vertex of the provided QuadrilateralVertexLabel.
   */
  getVertexDescriberForLabel(vertexLabel) {
    return vertexLabel === QuadrilateralVertexLabel.VERTEX_A ? this.vertexADescriber : vertexLabel === QuadrilateralVertexLabel.VERTEX_B ? this.vertexBDescriber : vertexLabel === QuadrilateralVertexLabel.VERTEX_C ? this.vertexCDescriber : this.vertexDDescriber;
  }

  /**
   * Get a description of the quadrilateral shape, just including the shape name. Will return something like
   * "a rectangle" or
   * "a trapezoid" or
   * "a concave quadrilateral"
   */
  getShapeDescription() {
    // of type NamedQuadrilateral enumeration
    const shapeName = this.shapeModel.shapeNameProperty.value;
    return QuadrilateralDescriber.getShapeNameWithArticlesDescription(shapeName);
  }

  /**
   * Returns the actual name of the NamedQuadrilateral, with an article before the name for english
   * phrases.
   */
  static getShapeNameWithArticlesDescription(shapeName) {
    const shapeNameDescriptionProperty = shapeNameWithArticlesMap.get(shapeName);
    assert && assert(shapeNameDescriptionProperty, 'There must be shape name description for the current shape state.');
    return shapeNameDescriptionProperty;
  }

  /**
   * Get the shape name in isolation without any articles.
   */
  static getShapeNameDescription(shapeName) {
    const shapeNameDescriptionProperty = shapeNameMap.get(shapeName);
    assert && assert(shapeNameDescriptionProperty, 'There must be shape name description for the current shape state.');
    return shapeNameDescriptionProperty;
  }

  /**
   * Gets the label string for a side from its QuadrilateralSideLabel. Just the label without other context like
   * "AB" or
   * "DA"
   */
  static getSideLabelString(sideLabel) {
    const sideLabelStringProperty = sideLabelMap.get(sideLabel);
    assert && assert(sideLabelStringProperty, 'There must be a side label description.');
    return sideLabelStringProperty;
  }

  /**
   * Gets a label string for the provided QuadrilateralVertexLabel. Returns something like
   * "A" or
   * "B"
   */
  static getVertexLabelString(vertexLabel) {
    const vertexLabelStringProperty = vertexLabelMap.get(vertexLabel);
    assert && assert(vertexLabelStringProperty, 'There must be a label for the vertex.');
    return vertexLabelStringProperty;
  }

  /**
   * Returns a string describing the shape that you have in a pattern like
   * "You have a square." or
   * "You have an isosceles trapezoid."
   */
  getYouHaveAShapeDescription() {
    const shapeDescriptionString = this.getShapeDescription();
    return StringUtils.fillIn(youHaveAShapeHintPatternStringProperty, {
      shapeDescription: shapeDescriptionString
    });
  }

  /**
   * Returns a description that is spoken when the user uses the "check shape" feature (global hotkey "ctrl + c").
   */
  getCheckShapeDescription() {
    let description;
    if (this.shapeNameVisibleProperty.value) {
      description = this.getYouHaveAShapeDescription();
    } else {
      description = this.getShapePropertiesDescription();
    }
    return description;
  }

  /**
   * Returns a description of the current shape's geometric properties (without saying the shape name). Typically
   * this is used when the user hides the shape name in the user interface.
   */
  getShapePropertiesDescription() {
    const currentShapeName = this.shapeModel.shapeNameProperty.value;
    if (currentShapeName === NamedQuadrilateral.SQUARE) {
      return this.getSquareDetailsString();
    } else if (currentShapeName === NamedQuadrilateral.RECTANGLE) {
      return this.getRectangleDetailsString();
    } else if (currentShapeName === NamedQuadrilateral.RHOMBUS) {
      return this.getRhombusDetailsString();
    } else if (currentShapeName === NamedQuadrilateral.PARALLELOGRAM) {
      return this.getParallelogramDetailsString();
    } else if (currentShapeName === NamedQuadrilateral.TRAPEZOID) {
      assert && assert(this.shapeModel.parallelSidePairsProperty.value.length === 1, 'A Trapezoid should have one parallel side pair');
      const parallelSidePair = this.shapeModel.parallelSidePairsProperty.value[0];
      return this.getTrapezoidDetailsString(parallelSidePair);
    } else if (currentShapeName === NamedQuadrilateral.ISOSCELES_TRAPEZOID) {
      assert && assert(this.shapeModel.oppositeEqualSidePairsProperty.value.length === 1, 'An Isosceles Trapezoid should have one pair of sides equal in length');
      const oppositeEqualSidePair = this.shapeModel.oppositeEqualSidePairsProperty.value[0];
      assert && assert(this.shapeModel.parallelSidePairsProperty.value.length === 1, 'A Trapezoid should have one parallel side pair.');
      const parallelSidePair = this.shapeModel.parallelSidePairsProperty.value[0];
      return this.getIsoscelesTrapezoidDetailsString(oppositeEqualSidePair, parallelSidePair);
    } else if (currentShapeName === NamedQuadrilateral.KITE) {
      assert && assert(this.shapeModel.oppositeEqualVertexPairsProperty.value.length === 1, 'A kite should have only one pair of opposite equal vertices');
      const oppositeEqualVertexPair = this.shapeModel.oppositeEqualVertexPairsProperty.value[0];
      return this.getKiteDetailsString(oppositeEqualVertexPair, kiteDetailsPatternStringProperty);
    } else if (currentShapeName === NamedQuadrilateral.DART) {
      return this.getDartDetailsString(dartDetailsPatternStringProperty);
    } else if (currentShapeName === NamedQuadrilateral.CONCAVE_QUADRILATERAL) {
      return this.getConcaveQuadrilateralDetailsString();
    } else if (currentShapeName === NamedQuadrilateral.CONVEX_QUADRILATERAL) {
      return this.getConvexQuadrilateralDetailsString();
    } else if (currentShapeName === NamedQuadrilateral.TRIANGLE) {
      return this.getTriangleDetailsString();
    }
    assert && assert(false, 'Could not find shapePropertiesDescriptionProperty for shape.');
    return '';
  }

  /**
   * Returns a description of the shape size. Something like
   * "tiny" or
   * "small" or
   * "large"
   */
  getSizeDescription() {
    const area = this.shapeModel.areaProperty.value;
    if (area < TINY_THRESHOLD) {
      return tinyStringProperty;
    } else if (area < VERY_SMALL_THRESHOLD) {
      return verySmallStringProperty;
    } else if (area < SMALL_THRESHOLD) {
      return smallStringProperty;
    } else if (area < MEDIUM_SIZED_THRESHOLD) {
      return mediumSizedStringProperty;
    } else {
      return largeStringProperty;
    }
  }

  /**
   * Returns the first details statement for the Voicing toolbar. Details are broken up into numbered statements.
   * This first one provides the current named shape and its size.
   */
  getFirstDetailsStatement() {
    const sizeDescriptionStringProperty = this.getSizeDescription();
    if (this.shapeNameVisibleProperty.value) {
      return StringUtils.fillIn(youHaveASizedNamedShapePatternStringProperty, {
        size: sizeDescriptionStringProperty,
        shapeName: QuadrilateralDescriber.getShapeNameDescription(this.shapeModel.shapeNameProperty.value)
      });
    } else {
      return StringUtils.fillIn(youHaveASizedShapePatternStringProperty, {
        size: sizeDescriptionStringProperty
      });
    }
  }

  /**
   * Returns the second "details" statement for the Voicing toolbar. Details are broken up into three numbered
   * statements. This one is a summary about equal corner angles and equal side lengths. Will return something like
   * "Right now, opposite corners are equal and opposite sides are equal." or
   * "Right now, on pair of opposite corners are equal and opposite sides are equal" or
   * "Right now, no corners are equal and no sides are equal."
   */
  getSecondDetailsStatement() {
    const adjacentEqualVertexPairs = this.shapeModel.adjacentEqualVertexPairsProperty.value;
    const adjacentEqualSidePairs = this.shapeModel.adjacentEqualSidePairsProperty.value;
    let cornerTypeString;
    let angleEqualityString;
    let sideTypeString;
    if (this.shapeModel.isParallelogram()) {
      // If all adjacent vertices are equal then all are right angles. Otherwise, opposite angles must be equal.
      cornerTypeString = adjacentEqualVertexPairs.length === 4 ? allStringProperty : oppositeStringProperty;
      angleEqualityString = adjacentEqualVertexPairs.length === 4 ? rightAnglesStringProperty : equalStringProperty;

      // if all adjacent sides are equal in length, all sides are equal, otherwise only opposite sides are equal
      sideTypeString = adjacentEqualSidePairs.length === 4 ? allStringProperty : oppositeStringProperty;
    } else {
      const oppositeEqualVertexPairs = this.shapeModel.oppositeEqualVertexPairsProperty.value;
      const oppositeEqualSidePairs = this.shapeModel.oppositeEqualSidePairsProperty.value;
      cornerTypeString = adjacentEqualVertexPairs.length === 2 ? pairsOfAdjacentStringProperty : adjacentEqualVertexPairs.length === 1 ? onePairOfAdjacentStringProperty : oppositeEqualVertexPairs.length === 1 ? onePairOfOppositeStringProperty : noStringStringProperty;
      angleEqualityString = adjacentEqualVertexPairs.length === 1 && this.shapeModel.isInterAngleEqualToOther(adjacentEqualVertexPairs[0].component1.angleProperty.value, Math.PI / 2) ? rightAnglesStringProperty : oppositeEqualVertexPairs.length === 1 && this.shapeModel.isInterAngleEqualToOther(oppositeEqualVertexPairs[0].component1.angleProperty.value, Math.PI / 2) ? rightAnglesStringProperty :
      // if two pairs of adjacent angles exist but we are not parallelogram, all cannot be
      // right angles. OR, no angles are equal.
      equalStringProperty;
      sideTypeString = adjacentEqualSidePairs.length === 2 ? pairsOfAdjacentStringProperty : adjacentEqualSidePairs.length === 1 ? onePairOfAdjacentStringProperty : oppositeEqualSidePairs.length === 1 ? onePairOfOppositeStringProperty : noStringStringProperty;
    }
    return StringUtils.fillIn(firstDetailsStatementPatternStringProperty, {
      cornerType: cornerTypeString,
      angleEquality: angleEqualityString,
      sideType: sideTypeString
    });
  }

  /**
   * Returns the third "details" statement for the Voicing toolbar. This is a qualitative description of the current
   * shape, that does not include shape name.
   */
  getThirdDetailsStatement() {
    const shapeName = this.shapeModel.shapeNameProperty.value;
    let description = null;
    if (shapeName === NamedQuadrilateral.SQUARE || shapeName === NamedQuadrilateral.RHOMBUS || shapeName === NamedQuadrilateral.RECTANGLE) {
      // these shapes skip the shape details because it is duplicated with other details content
      description = null;
    } else if (shapeName === NamedQuadrilateral.PARALLELOGRAM) {
      description = this.getParallelogramDetailsString();
    } else if (shapeName === NamedQuadrilateral.ISOSCELES_TRAPEZOID) {
      assert && assert(this.shapeModel.oppositeEqualSidePairsProperty.value.length === 1, 'An Isosceles Trapezoid should have one pair of sides equal in length');
      const oppositeEqualSidePair = this.shapeModel.oppositeEqualSidePairsProperty.value[0];
      assert && assert(this.shapeModel.parallelSidePairsProperty.value.length === 1, 'A Trapezoid should have one parallel side pair.');
      const parallelSidePair = this.shapeModel.parallelSidePairsProperty.value[0];
      description = this.getIsoscelesTrapezoidDetailsString(oppositeEqualSidePair, parallelSidePair);
    } else if (shapeName === NamedQuadrilateral.TRAPEZOID) {
      assert && assert(this.shapeModel.parallelSidePairsProperty.value.length === 1, 'A Trapezoid should have one parallel side pair');
      const parallelSidePair = this.shapeModel.parallelSidePairsProperty.value[0];
      description = this.getTrapezoidDetailsString(parallelSidePair);
    } else if (shapeName === NamedQuadrilateral.KITE) {
      assert && assert(this.shapeModel.oppositeEqualVertexPairsProperty.value.length === 1, 'A kite should have only one pair of opposite equal vertices');
      const oppositeEqualVertexPair = this.shapeModel.oppositeEqualVertexPairsProperty.value[0];
      description = this.getKiteDetailsString(oppositeEqualVertexPair);
    } else if (shapeName === NamedQuadrilateral.DART) {
      description = this.getDartDetailsString();
    } else if (shapeName === NamedQuadrilateral.CONCAVE_QUADRILATERAL) {
      description = this.getConcaveQuadrilateralDetailsString();
    } else if (shapeName === NamedQuadrilateral.CONVEX_QUADRILATERAL) {
      description = this.getConvexQuadrilateralDetailsString();
    } else if (shapeName === NamedQuadrilateral.TRIANGLE) {
      description = this.getTriangleDetailsString();
    }
    return description;
  }

  /**
   * The fourth description of the "details" button in the Voicing toolbar. Returns a description of the longest and
   * shortest sides of the shape. Only returns a string if shape "markers" are displayed - otherwise this more
   * quantitative content is skipped.
   */
  getFourthDetailsStatement() {
    let description = null;

    // This description is only included if markers are visible
    if (!this.markersVisibleProperty.value) {
      return description;
    }
    const longestSideDescriber = _.maxBy(this.sideDescribers, sideDescriber => sideDescriber.side.lengthProperty.value);
    const shortestSideDescriber = _.minBy(this.sideDescribers, sideDescriber => sideDescriber.side.lengthProperty.value);
    const longestSide = _.maxBy(this.shapeModel.sides, side => side.lengthProperty.value);
    const shortestSide = _.minBy(this.shapeModel.sides, side => side.lengthProperty.value);
    const longestSideDescription = longestSideDescriber.getSideUnitsDescription();
    const shortestSideDescription = shortestSideDescriber.getSideUnitsDescription();
    if (this.shapeModel.getAreAllLengthsEqual()) {
      // All sides the same length, combine into a shorter string
      description = StringUtils.fillIn(sidesDescriptionPatternStringProperty, {
        description: longestSideDescription
      });
    } else {
      let longestSubString;
      let shortestSubString;
      if (_.some(this.shapeModel.oppositeEqualSidePairsProperty.value, oppositeEqualSidePair => oppositeEqualSidePair.includesComponent(longestSide)) || _.some(this.shapeModel.adjacentEqualSidePairsProperty.value, adjacentEqualSidePair => adjacentEqualSidePair.includesComponent(longestSide))) {
        // multiple sides of the same "longest" length, pluralize
        longestSubString = StringUtils.fillIn(longestSidesDescriptionPatternStringProperty, {
          description: longestSideDescription
        });
      } else {
        longestSubString = StringUtils.fillIn(longestSideDescriptionPatternStringProperty, {
          description: longestSideDescription
        });
      }
      if (_.some(this.shapeModel.oppositeEqualSidePairsProperty.value, oppositeEqualSidePair => oppositeEqualSidePair.includesComponent(shortestSide)) || _.some(this.shapeModel.adjacentEqualSidePairsProperty.value, adjacentEqualSidePair => adjacentEqualSidePair.includesComponent(shortestSide))) {
        // multiple sides of the same "longest" length, pluralize
        shortestSubString = StringUtils.fillIn(shortestSidesDescriptionPatternStringProperty, {
          description: shortestSideDescription
        });
      } else {
        shortestSubString = StringUtils.fillIn(shortestSideDescriptionPatternStringProperty, {
          description: shortestSideDescription
        });
      }
      description = StringUtils.fillIn(sideLengthDescriptionPatternStringProperty, {
        longest: longestSubString,
        shortest: shortestSubString
      });
    }
    return description;
  }

  /**
   * The fifth statement of the "details" button in the Voicing toolbar. Returns a description of the widest and
   * smallest angles of the shape. Only returns a string if corner guides are displayed - otherwise this more
   * quantitative content is skipped.
   */
  getFifthDetailsStatement() {
    let description = null;
    if (!this.markersVisibleProperty.value) {
      return description;
    } else {
      const widestVertex = _.maxBy(this.shapeModel.vertices, vertex => vertex.angleProperty.value);
      const smallestVertex = _.minBy(this.shapeModel.vertices, vertex => vertex.angleProperty.value);
      const widestVertexDescription = this.getDetailsWedgesDescription(widestVertex.angleProperty.value);
      const smallestVertexDescription = this.getDetailsWedgesDescription(smallestVertex.angleProperty.value);
      if (this.shapeModel.getAreAllAnglesRight()) {
        // All corners the same angle, combine into a shorter string
        description = cornersRightDescriptionStringProperty;
      } else {
        let longestSubString;
        let shortestSubString;
        if (_.some(this.shapeModel.oppositeEqualVertexPairsProperty.value, oppositeEQualVertexPair => oppositeEQualVertexPair.includesComponent(widestVertex)) || _.some(this.shapeModel.adjacentEqualVertexPairsProperty.value, adjacentEqualVertexPair => adjacentEqualVertexPair.includesComponent(widestVertex))) {
          // multiple vertices of the same "widest" angle, pluralize
          longestSubString = StringUtils.fillIn(widestCornersDescriptionPatternStringProperty, {
            description: widestVertexDescription
          });
        } else {
          longestSubString = StringUtils.fillIn(widestCornerDescriptionPatternStringProperty, {
            description: widestVertexDescription
          });
        }
        if (_.some(this.shapeModel.oppositeEqualVertexPairsProperty.value, oppositeEqualVertexPair => oppositeEqualVertexPair.includesComponent(smallestVertex)) || _.some(this.shapeModel.adjacentEqualVertexPairsProperty.value, adjacentEqualVertexPair => adjacentEqualVertexPair.includesComponent(smallestVertex))) {
          // multiple sides of the same "longest" length, pluralize
          shortestSubString = StringUtils.fillIn(smallestCornersDescriptionPatternStringProperty, {
            description: smallestVertexDescription
          });
        } else {
          shortestSubString = StringUtils.fillIn(smallestCornerDescriptionPatternStringProperty, {
            description: smallestVertexDescription
          });
        }
        description = StringUtils.fillIn(cornersDescriptionPatternStringProperty, {
          longest: longestSubString,
          shortest: shortestSubString
        });
      }
      return description;
    }
  }

  /**
   * For the details button, we are going to describe 'flat' angles as the number of wedges as a special case because
   * in english it sounds nicer when combined with other details content.
   */
  getDetailsWedgesDescription(angle) {
    let descriptionString;
    if (this.shapeModel.isFlatAngle(angle)) {
      descriptionString = StringUtils.fillIn(numberOfWedgesPatternStringProperty, {
        numberOfWedges: 6
      });
    } else {
      descriptionString = QuadrilateralVertexDescriber.getWedgesDescription(angle, this.shapeModel);
    }
    return descriptionString;
  }

  /**
   * Returns a qualitative description for a square.
   */
  getSquareDetailsString() {
    return allRightAnglesAllSidesEqualStringProperty;
  }

  /**
   * Returns a qualitative deqcription for a rectangle.
   */
  getRectangleDetailsString() {
    return allRightAnglesStringProperty;
  }

  /**
   * Returns a qualitative description for a rhombus.
   */
  getRhombusDetailsString() {
    return allSidesEqualStringProperty;
  }

  /**
   * Returns a qualitative description for a parallelogram.
   */
  getParallelogramDetailsString() {
    return oppositeSidesInParallelStringProperty;
  }

  /**
   * Returns a qualitative description for a trapezoid.
   */
  getTrapezoidDetailsString(parallelSidePair) {
    let firstSideLabel;
    let secondSideLabel;
    if (parallelSidePair.includesComponent(this.shapeModel.sideAB)) {
      firstSideLabel = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_AB);
      secondSideLabel = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_CD);
    } else {
      firstSideLabel = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_BC);
      secondSideLabel = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_DA);
    }
    return StringUtils.fillIn(trapezoidDetailsPatternStringProperty, {
      firstSide: firstSideLabel,
      secondSide: secondSideLabel
    });
  }

  /**
   * Returns a qualitative description for an isosceles trapezoid. Indicates which opposite/parallel side
   * pairs are equal.
   */
  getIsoscelesTrapezoidDetailsString(oppositeEqualSidePair, parallelSidePair) {
    let equalFirstSideString;
    let equalSecondSideString;
    let parallelFirstSideString;
    let parallelSecondSideString;
    if (oppositeEqualSidePair.includesComponent(this.shapeModel.sideAB)) {
      // top sides and bottom side are equal in length, left and right sides are parallel
      equalFirstSideString = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_AB);
      equalSecondSideString = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_CD);
      parallelFirstSideString = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_DA);
      parallelSecondSideString = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_BC);
    } else {
      // left and right sides are equal in length, top and bottom sides are parallel
      equalFirstSideString = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_DA);
      equalSecondSideString = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_BC);
      parallelFirstSideString = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_AB);
      parallelSecondSideString = QuadrilateralDescriber.getSideLabelString(QuadrilateralSideLabel.SIDE_CD);
    }
    return StringUtils.fillIn(isoscelesTrapezoidDetailsPatternStringProperty, {
      equalFirstSide: equalFirstSideString,
      equalSecondSide: equalSecondSideString,
      parallelFirstSide: parallelFirstSideString,
      parallelSecondSide: parallelSecondSideString
    });
  }

  /**
   * Returns a qualitative description for a kite.
   * @param oppositeEqualVertexPair
   * @param patternString - Some contexts need a more verbose description around this pattern. Must include placeholders
   *                        `firstCorner` and `secondCorner`.
   */
  getKiteDetailsString(oppositeEqualVertexPair, patternString = kiteDetailsShortPatternStringProperty) {
    let firstCornerStringProperty;
    let secondCornerStringProperty;
    if (oppositeEqualVertexPair.includesComponent(this.shapeModel.vertexA)) {
      // opposite equal vertices for the kite are A and C
      firstCornerStringProperty = QuadrilateralDescriber.getVertexLabelString(QuadrilateralVertexLabel.VERTEX_A);
      secondCornerStringProperty = QuadrilateralDescriber.getVertexLabelString(QuadrilateralVertexLabel.VERTEX_C);
    } else {
      firstCornerStringProperty = QuadrilateralDescriber.getVertexLabelString(QuadrilateralVertexLabel.VERTEX_B);
      secondCornerStringProperty = QuadrilateralDescriber.getVertexLabelString(QuadrilateralVertexLabel.VERTEX_D);
    }
    return StringUtils.fillIn(patternString, {
      firstCorner: firstCornerStringProperty,
      secondCorner: secondCornerStringProperty
    });
  }

  /**
   * Returns a qualitative description for a dart.
   * @param patternString - Some contexts need a more verbose description around this pattern. Must include placeholders
   *                        `firstCorner` and `secondCorner`.
   */
  getDartDetailsString(patternString = dartDetailsShortPatternStringProperty) {
    const concaveVertex = this.shapeModel.vertices.find(vertex => vertex.angleProperty.value > Math.PI);
    assert && assert(concaveVertex, 'A dart has one vertex with angle greater than Math.PI.');
    const inwardCornerLabel = concaveVertex.vertexLabel;

    // the vertices with equal angles for a dart will be the ones adjacent to the inward vertex
    let firstCornerLabel;
    let secondCornerLabel;
    if (inwardCornerLabel === QuadrilateralVertexLabel.VERTEX_A || inwardCornerLabel === QuadrilateralVertexLabel.VERTEX_C) {
      firstCornerLabel = QuadrilateralVertexLabel.VERTEX_B;
      secondCornerLabel = QuadrilateralVertexLabel.VERTEX_D;
    } else {
      firstCornerLabel = QuadrilateralVertexLabel.VERTEX_A;
      secondCornerLabel = QuadrilateralVertexLabel.VERTEX_C;
    }
    return StringUtils.fillIn(patternString, {
      inwardCorner: QuadrilateralDescriber.getVertexLabelString(inwardCornerLabel),
      firstCorner: QuadrilateralDescriber.getVertexLabelString(firstCornerLabel),
      secondCorner: QuadrilateralDescriber.getVertexLabelString(secondCornerLabel)
    });
  }

  /**
   * Returns a qualitative description for a concave quadrilateral, describing which vertex is pointing in
   * toward the shape.
   */
  getConcaveQuadrilateralDetailsString() {
    const concaveVertex = this.shapeModel.vertices.find(vertex => vertex.angleProperty.value > Math.PI);
    assert && assert(concaveVertex, 'A convex quad has one vertex with angle greater than Math.PI.');
    const inwardCornerLabel = concaveVertex.vertexLabel;
    return StringUtils.fillIn(concaveQuadrilateralDetailsPatternStringProperty, {
      inwardCorner: QuadrilateralDescriber.getVertexLabelString(inwardCornerLabel)
    });
  }

  /**
   * Returns a qualitative description of the convex quadrilateral.
   */
  getConvexQuadrilateralDetailsString() {
    return convexQuadrilateralDetailsStringProperty;
  }

  /**
   * Returns a qualitative description for a triangle, calling out which vertex looks "flat".
   */
  getTriangleDetailsString() {
    const flatVertex = this.shapeModel.vertices.find(vertex => this.shapeModel.isStaticAngleEqualToOther(vertex.angleProperty.value, Math.PI));
    assert && assert(flatVertex, 'A triangle has one vertex with an angle equal to Math.PI.');
    return StringUtils.fillIn(triangleDetailsPatternStringProperty, {
      flatCorner: QuadrilateralDescriber.getVertexLabelString(flatVertex.vertexLabel)
    });
  }

  /**
   * Returns a ResponsePacket with the content for responses that should be included when the shape (and only the shape)
   * is reset.
   */
  static RESET_SHAPE_RESPONSE_PACKET = new ResponsePacket({
    nameResponse: resetShapeStringProperty,
    contextResponse: resetShapeContextResponseStringProperty
  });
}
quadrilateral.register('QuadrilateralDescriber', QuadrilateralDescriber);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJxdWFkcmlsYXRlcmFsIiwiUXVhZHJpbGF0ZXJhbFN0cmluZ3MiLCJTdHJpbmdVdGlscyIsIk5hbWVkUXVhZHJpbGF0ZXJhbCIsIlF1YWRyaWxhdGVyYWxWZXJ0ZXhMYWJlbCIsIlF1YWRyaWxhdGVyYWxWZXJ0ZXhEZXNjcmliZXIiLCJRdWFkcmlsYXRlcmFsU2lkZURlc2NyaWJlciIsIlF1YWRyaWxhdGVyYWxTaWRlTGFiZWwiLCJRdWFkcmlsYXRlcmFsQ29uc3RhbnRzIiwiUmVzcG9uc2VQYWNrZXQiLCJmaXJzdERldGFpbHNTdGF0ZW1lbnRQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJhMTF5Iiwidm9pY2luZyIsImFCU3RyaW5nUHJvcGVydHkiLCJiQ1N0cmluZ1Byb3BlcnR5IiwiY0RTdHJpbmdQcm9wZXJ0eSIsImRBU3RyaW5nUHJvcGVydHkiLCJzaWRlQUJTdHJpbmdQcm9wZXJ0eSIsInNpZGVCQ1N0cmluZ1Byb3BlcnR5Iiwic2lkZUNEU3RyaW5nUHJvcGVydHkiLCJzaWRlREFTdHJpbmdQcm9wZXJ0eSIsImFsbFN0cmluZ1Byb3BlcnR5IiwiZGV0YWlscyIsIm9wcG9zaXRlU3RyaW5nUHJvcGVydHkiLCJyaWdodEFuZ2xlc1N0cmluZ1Byb3BlcnR5IiwiZXF1YWxTdHJpbmdQcm9wZXJ0eSIsInBhaXJzT2ZBZGphY2VudFN0cmluZ1Byb3BlcnR5Iiwib25lUGFpck9mQWRqYWNlbnRTdHJpbmdQcm9wZXJ0eSIsIm9uZVBhaXJPZk9wcG9zaXRlU3RyaW5nUHJvcGVydHkiLCJub1N0cmluZ1N0cmluZ1Byb3BlcnR5IiwidmVydGV4QVN0cmluZ1Byb3BlcnR5IiwidmVydGV4QlN0cmluZ1Byb3BlcnR5IiwidmVydGV4Q1N0cmluZ1Byb3BlcnR5IiwidmVydGV4RFN0cmluZ1Byb3BlcnR5IiwieW91SGF2ZUFTaXplZE5hbWVkU2hhcGVQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJ5b3VIYXZlQVNpemVkU2hhcGVQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJpc29zY2VsZXNUcmFwZXpvaWREZXRhaWxzUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwiYWxsUmlnaHRBbmdsZXNBbGxTaWRlc0VxdWFsU3RyaW5nUHJvcGVydHkiLCJvcHBvc2l0ZVNpZGVzSW5QYXJhbGxlbFN0cmluZ1Byb3BlcnR5IiwidHJhcGV6b2lkRGV0YWlsc1BhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsImtpdGVEZXRhaWxzU2hvcnRQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJkYXJ0RGV0YWlsc1Nob3J0UGF0dGVyblN0cmluZ1Byb3BlcnR5IiwiZGFydERldGFpbHNQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJraXRlRGV0YWlsc1BhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsImNvbnZleFF1YWRyaWxhdGVyYWxEZXRhaWxzU3RyaW5nUHJvcGVydHkiLCJjb25jYXZlUXVhZHJpbGF0ZXJhbERldGFpbHNQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJhbGxTaWRlc0VxdWFsU3RyaW5nUHJvcGVydHkiLCJhbGxSaWdodEFuZ2xlc1N0cmluZ1Byb3BlcnR5IiwidHJpYW5nbGVEZXRhaWxzUGF0dGVyblN0cmluZ1Byb3BlcnR5Iiwic2lkZXNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsImxvbmdlc3RTaWRlc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwibG9uZ2VzdFNpZGVEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsInNob3J0ZXN0U2lkZXNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsInNob3J0ZXN0U2lkZURlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5Iiwic2lkZUxlbmd0aERlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwiY29ybmVyc1JpZ2h0RGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eSIsIndpZGVzdENvcm5lcnNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsIndpZGVzdENvcm5lckRlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5Iiwic21hbGxlc3RDb3JuZXJzRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJzbWFsbGVzdENvcm5lckRlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwiY29ybmVyc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwibnVtYmVyT2ZXZWRnZXNQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJ0aW55U3RyaW5nUHJvcGVydHkiLCJzaXplcyIsInZlcnlTbWFsbFN0cmluZ1Byb3BlcnR5Iiwic21hbGxTdHJpbmdQcm9wZXJ0eSIsIm1lZGl1bVNpemVkU3RyaW5nUHJvcGVydHkiLCJsYXJnZVN0cmluZ1Byb3BlcnR5IiwieW91SGF2ZUFTaGFwZUhpbnRQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJyZXNldFNoYXBlU3RyaW5nUHJvcGVydHkiLCJyZXNldFNoYXBlQ29udGV4dFJlc3BvbnNlU3RyaW5nUHJvcGVydHkiLCJyZXNldFNoYXBlIiwiY29udGV4dFJlc3BvbnNlU3RyaW5nUHJvcGVydHkiLCJzaGFwZU5hbWVXaXRoQXJ0aWNsZXNNYXAiLCJNYXAiLCJzZXQiLCJTUVVBUkUiLCJzaGFwZU5hbWVzIiwid2l0aEFydGljbGVzIiwic3F1YXJlU3RyaW5nUHJvcGVydHkiLCJSRUNUQU5HTEUiLCJyZWN0YW5nbGVTdHJpbmdQcm9wZXJ0eSIsIlJIT01CVVMiLCJyaG9tYnVzU3RyaW5nUHJvcGVydHkiLCJLSVRFIiwia2l0ZVN0cmluZ1Byb3BlcnR5IiwiSVNPU0NFTEVTX1RSQVBFWk9JRCIsImlzb3NjZWxlc1RyYXBlem9pZFN0cmluZ1Byb3BlcnR5IiwiVFJBUEVaT0lEIiwidHJhcGV6b2lkU3RyaW5nUHJvcGVydHkiLCJDT05DQVZFX1FVQURSSUxBVEVSQUwiLCJjb25jYXZlUXVhZHJpbGF0ZXJhbFN0cmluZ1Byb3BlcnR5IiwiQ09OVkVYX1FVQURSSUxBVEVSQUwiLCJjb252ZXhRdWFkcmlsYXRlcmFsU3RyaW5nUHJvcGVydHkiLCJQQVJBTExFTE9HUkFNIiwicGFyYWxsZWxvZ3JhbVN0cmluZ1Byb3BlcnR5IiwiREFSVCIsImRhcnRTdHJpbmdQcm9wZXJ0eSIsIlRSSUFOR0xFIiwidHJpYW5nbGVTdHJpbmdQcm9wZXJ0eSIsInNoYXBlTmFtZU1hcCIsIndpdGhvdXRBcnRpY2xlcyIsInZlcnRleExhYmVsTWFwIiwiVkVSVEVYX0EiLCJWRVJURVhfQiIsIlZFUlRFWF9DIiwiVkVSVEVYX0QiLCJmdWxsU2lkZUxhYmVsTWFwIiwiU0lERV9BQiIsIlNJREVfQkMiLCJTSURFX0NEIiwiU0lERV9EQSIsInNpZGVMYWJlbE1hcCIsIkdSSURfQ0VMTF9BUkVBIiwiTWF0aCIsInBvdyIsIkdSSURfU1BBQ0lORyIsIlRJTllfVEhSRVNIT0xEIiwiVkVSWV9TTUFMTF9USFJFU0hPTEQiLCJTTUFMTF9USFJFU0hPTEQiLCJNRURJVU1fU0laRURfVEhSRVNIT0xEIiwiUXVhZHJpbGF0ZXJhbERlc2NyaWJlciIsImNvbnN0cnVjdG9yIiwic2hhcGVNb2RlbCIsInNoYXBlTmFtZVZpc2libGVQcm9wZXJ0eSIsIm1hcmtlcnNWaXNpYmxlUHJvcGVydHkiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJzaWRlQUJEZXNjcmliZXIiLCJzaWRlQUIiLCJzaWRlQkNEZXNjcmliZXIiLCJzaWRlQkMiLCJzaWRlQ0REZXNjcmliZXIiLCJzaWRlQ0QiLCJzaWRlREFEZXNjcmliZXIiLCJzaWRlREEiLCJzaWRlRGVzY3JpYmVycyIsInZlcnRleEFEZXNjcmliZXIiLCJ2ZXJ0ZXhBIiwidmVydGV4QkRlc2NyaWJlciIsInZlcnRleEIiLCJ2ZXJ0ZXhDRGVzY3JpYmVyIiwidmVydGV4QyIsInZlcnRleEREZXNjcmliZXIiLCJ2ZXJ0ZXhEIiwiZ2V0VmVydGV4RGVzY3JpYmVyRm9yTGFiZWwiLCJ2ZXJ0ZXhMYWJlbCIsImdldFNoYXBlRGVzY3JpcHRpb24iLCJzaGFwZU5hbWUiLCJzaGFwZU5hbWVQcm9wZXJ0eSIsInZhbHVlIiwiZ2V0U2hhcGVOYW1lV2l0aEFydGljbGVzRGVzY3JpcHRpb24iLCJzaGFwZU5hbWVEZXNjcmlwdGlvblByb3BlcnR5IiwiZ2V0IiwiYXNzZXJ0IiwiZ2V0U2hhcGVOYW1lRGVzY3JpcHRpb24iLCJnZXRTaWRlTGFiZWxTdHJpbmciLCJzaWRlTGFiZWwiLCJzaWRlTGFiZWxTdHJpbmdQcm9wZXJ0eSIsImdldFZlcnRleExhYmVsU3RyaW5nIiwidmVydGV4TGFiZWxTdHJpbmdQcm9wZXJ0eSIsImdldFlvdUhhdmVBU2hhcGVEZXNjcmlwdGlvbiIsInNoYXBlRGVzY3JpcHRpb25TdHJpbmciLCJmaWxsSW4iLCJzaGFwZURlc2NyaXB0aW9uIiwiZ2V0Q2hlY2tTaGFwZURlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJnZXRTaGFwZVByb3BlcnRpZXNEZXNjcmlwdGlvbiIsImN1cnJlbnRTaGFwZU5hbWUiLCJnZXRTcXVhcmVEZXRhaWxzU3RyaW5nIiwiZ2V0UmVjdGFuZ2xlRGV0YWlsc1N0cmluZyIsImdldFJob21idXNEZXRhaWxzU3RyaW5nIiwiZ2V0UGFyYWxsZWxvZ3JhbURldGFpbHNTdHJpbmciLCJwYXJhbGxlbFNpZGVQYWlyc1Byb3BlcnR5IiwibGVuZ3RoIiwicGFyYWxsZWxTaWRlUGFpciIsImdldFRyYXBlem9pZERldGFpbHNTdHJpbmciLCJvcHBvc2l0ZUVxdWFsU2lkZVBhaXJzUHJvcGVydHkiLCJvcHBvc2l0ZUVxdWFsU2lkZVBhaXIiLCJnZXRJc29zY2VsZXNUcmFwZXpvaWREZXRhaWxzU3RyaW5nIiwib3Bwb3NpdGVFcXVhbFZlcnRleFBhaXJzUHJvcGVydHkiLCJvcHBvc2l0ZUVxdWFsVmVydGV4UGFpciIsImdldEtpdGVEZXRhaWxzU3RyaW5nIiwiZ2V0RGFydERldGFpbHNTdHJpbmciLCJnZXRDb25jYXZlUXVhZHJpbGF0ZXJhbERldGFpbHNTdHJpbmciLCJnZXRDb252ZXhRdWFkcmlsYXRlcmFsRGV0YWlsc1N0cmluZyIsImdldFRyaWFuZ2xlRGV0YWlsc1N0cmluZyIsImdldFNpemVEZXNjcmlwdGlvbiIsImFyZWEiLCJhcmVhUHJvcGVydHkiLCJnZXRGaXJzdERldGFpbHNTdGF0ZW1lbnQiLCJzaXplRGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eSIsInNpemUiLCJnZXRTZWNvbmREZXRhaWxzU3RhdGVtZW50IiwiYWRqYWNlbnRFcXVhbFZlcnRleFBhaXJzIiwiYWRqYWNlbnRFcXVhbFZlcnRleFBhaXJzUHJvcGVydHkiLCJhZGphY2VudEVxdWFsU2lkZVBhaXJzIiwiYWRqYWNlbnRFcXVhbFNpZGVQYWlyc1Byb3BlcnR5IiwiY29ybmVyVHlwZVN0cmluZyIsImFuZ2xlRXF1YWxpdHlTdHJpbmciLCJzaWRlVHlwZVN0cmluZyIsImlzUGFyYWxsZWxvZ3JhbSIsIm9wcG9zaXRlRXF1YWxWZXJ0ZXhQYWlycyIsIm9wcG9zaXRlRXF1YWxTaWRlUGFpcnMiLCJpc0ludGVyQW5nbGVFcXVhbFRvT3RoZXIiLCJjb21wb25lbnQxIiwiYW5nbGVQcm9wZXJ0eSIsIlBJIiwiY29ybmVyVHlwZSIsImFuZ2xlRXF1YWxpdHkiLCJzaWRlVHlwZSIsImdldFRoaXJkRGV0YWlsc1N0YXRlbWVudCIsImdldEZvdXJ0aERldGFpbHNTdGF0ZW1lbnQiLCJsb25nZXN0U2lkZURlc2NyaWJlciIsIl8iLCJtYXhCeSIsInNpZGVEZXNjcmliZXIiLCJzaWRlIiwibGVuZ3RoUHJvcGVydHkiLCJzaG9ydGVzdFNpZGVEZXNjcmliZXIiLCJtaW5CeSIsImxvbmdlc3RTaWRlIiwic2lkZXMiLCJzaG9ydGVzdFNpZGUiLCJsb25nZXN0U2lkZURlc2NyaXB0aW9uIiwiZ2V0U2lkZVVuaXRzRGVzY3JpcHRpb24iLCJzaG9ydGVzdFNpZGVEZXNjcmlwdGlvbiIsImdldEFyZUFsbExlbmd0aHNFcXVhbCIsImxvbmdlc3RTdWJTdHJpbmciLCJzaG9ydGVzdFN1YlN0cmluZyIsInNvbWUiLCJpbmNsdWRlc0NvbXBvbmVudCIsImFkamFjZW50RXF1YWxTaWRlUGFpciIsImxvbmdlc3QiLCJzaG9ydGVzdCIsImdldEZpZnRoRGV0YWlsc1N0YXRlbWVudCIsIndpZGVzdFZlcnRleCIsInZlcnRpY2VzIiwidmVydGV4Iiwic21hbGxlc3RWZXJ0ZXgiLCJ3aWRlc3RWZXJ0ZXhEZXNjcmlwdGlvbiIsImdldERldGFpbHNXZWRnZXNEZXNjcmlwdGlvbiIsInNtYWxsZXN0VmVydGV4RGVzY3JpcHRpb24iLCJnZXRBcmVBbGxBbmdsZXNSaWdodCIsIm9wcG9zaXRlRVF1YWxWZXJ0ZXhQYWlyIiwiYWRqYWNlbnRFcXVhbFZlcnRleFBhaXIiLCJhbmdsZSIsImRlc2NyaXB0aW9uU3RyaW5nIiwiaXNGbGF0QW5nbGUiLCJudW1iZXJPZldlZGdlcyIsImdldFdlZGdlc0Rlc2NyaXB0aW9uIiwiZmlyc3RTaWRlTGFiZWwiLCJzZWNvbmRTaWRlTGFiZWwiLCJmaXJzdFNpZGUiLCJzZWNvbmRTaWRlIiwiZXF1YWxGaXJzdFNpZGVTdHJpbmciLCJlcXVhbFNlY29uZFNpZGVTdHJpbmciLCJwYXJhbGxlbEZpcnN0U2lkZVN0cmluZyIsInBhcmFsbGVsU2Vjb25kU2lkZVN0cmluZyIsImVxdWFsRmlyc3RTaWRlIiwiZXF1YWxTZWNvbmRTaWRlIiwicGFyYWxsZWxGaXJzdFNpZGUiLCJwYXJhbGxlbFNlY29uZFNpZGUiLCJwYXR0ZXJuU3RyaW5nIiwiZmlyc3RDb3JuZXJTdHJpbmdQcm9wZXJ0eSIsInNlY29uZENvcm5lclN0cmluZ1Byb3BlcnR5IiwiZmlyc3RDb3JuZXIiLCJzZWNvbmRDb3JuZXIiLCJjb25jYXZlVmVydGV4IiwiZmluZCIsImlud2FyZENvcm5lckxhYmVsIiwiZmlyc3RDb3JuZXJMYWJlbCIsInNlY29uZENvcm5lckxhYmVsIiwiaW53YXJkQ29ybmVyIiwiZmxhdFZlcnRleCIsImlzU3RhdGljQW5nbGVFcXVhbFRvT3RoZXIiLCJmbGF0Q29ybmVyIiwiUkVTRVRfU0hBUEVfUkVTUE9OU0VfUEFDS0VUIiwibmFtZVJlc3BvbnNlIiwiY29udGV4dFJlc3BvbnNlIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJRdWFkcmlsYXRlcmFsRGVzY3JpYmVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEEgY2xhc3MgdGhhdCBnZW5lcmF0ZXMgbWFueSBkZXNjcmlwdGlvbnMgZm9yIHRoZSBxdWFkcmlsYXRlcmFsIGFuZCBzaW11bGF0aW9uLiBJdCBhc3NlbWJsZXMgc3RyaW5ncyB0aGF0IGRlc2NyaWJlXHJcbiAqIChpbiBuYXR1cmFsIGVuZ2xpc2gpIHRoZSBzdGF0ZSBvZiB0aGUgc2ltdWxhdGlvbiBhbmQgdGhlIGdlb21ldHJpYyBwcm9wZXJ0aWVzIG9mIHRoZSBxdWFkcmlsYXRlcmFsLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEplc3NlIEdyZWVuYmVyZyAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgcXVhZHJpbGF0ZXJhbCBmcm9tICcuLi8uLi9xdWFkcmlsYXRlcmFsLmpzJztcclxuaW1wb3J0IFF1YWRyaWxhdGVyYWxTdHJpbmdzIGZyb20gJy4uLy4uL1F1YWRyaWxhdGVyYWxTdHJpbmdzLmpzJztcclxuaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvdXRpbC9TdHJpbmdVdGlscy5qcyc7XHJcbmltcG9ydCBOYW1lZFF1YWRyaWxhdGVyYWwgZnJvbSAnLi4vbW9kZWwvTmFtZWRRdWFkcmlsYXRlcmFsLmpzJztcclxuaW1wb3J0IFF1YWRyaWxhdGVyYWxTaGFwZU1vZGVsIGZyb20gJy4uL21vZGVsL1F1YWRyaWxhdGVyYWxTaGFwZU1vZGVsLmpzJztcclxuaW1wb3J0IFF1YWRyaWxhdGVyYWxWZXJ0ZXhMYWJlbCBmcm9tICcuLi9tb2RlbC9RdWFkcmlsYXRlcmFsVmVydGV4TGFiZWwuanMnO1xyXG5pbXBvcnQgUXVhZHJpbGF0ZXJhbFZlcnRleERlc2NyaWJlciBmcm9tICcuL1F1YWRyaWxhdGVyYWxWZXJ0ZXhEZXNjcmliZXIuanMnO1xyXG5pbXBvcnQgUXVhZHJpbGF0ZXJhbFNpZGVEZXNjcmliZXIgZnJvbSAnLi9RdWFkcmlsYXRlcmFsU2lkZURlc2NyaWJlci5qcyc7XHJcbmltcG9ydCBRdWFkcmlsYXRlcmFsU2lkZUxhYmVsIGZyb20gJy4uL21vZGVsL1F1YWRyaWxhdGVyYWxTaWRlTGFiZWwuanMnO1xyXG5pbXBvcnQgUXVhZHJpbGF0ZXJhbFNpZGVQYWlyIGZyb20gJy4uL21vZGVsL1F1YWRyaWxhdGVyYWxTaWRlUGFpci5qcyc7XHJcbmltcG9ydCBRdWFkcmlsYXRlcmFsVmVydGV4UGFpciBmcm9tICcuLi9tb2RlbC9RdWFkcmlsYXRlcmFsVmVydGV4UGFpci5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IFF1YWRyaWxhdGVyYWxDb25zdGFudHMgZnJvbSAnLi4vLi4vUXVhZHJpbGF0ZXJhbENvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBSZXNwb25zZVBhY2tldCBmcm9tICcuLi8uLi8uLi8uLi91dHRlcmFuY2UtcXVldWUvanMvUmVzcG9uc2VQYWNrZXQuanMnO1xyXG5pbXBvcnQgTW9kZWxWaWV3VHJhbnNmb3JtMiBmcm9tICcuLi8uLi8uLi8uLi9waGV0Y29tbW9uL2pzL3ZpZXcvTW9kZWxWaWV3VHJhbnNmb3JtMi5qcyc7XHJcbmltcG9ydCB7IFBET01WYWx1ZVR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5cclxuLy8gQWxpYXMgZm9yIHN0cmluZyB0eXBlcyB1c2VkIGluIHRoaXMgc2ltIC0gdG8gc3VwcG9ydCBzdHJpbmcgUHJvcGVydGllcyAoZHluYW1pYyBsb2NhbGVzKSwgc3RyaW5ncywgYW5kIG9mdGVuXHJcbi8vIG51bGwgdmFsdWVzIGZvciBmdW5jdGlvbnMuIEV2ZW4gdGhvdWdoIFZvaWNpbmcgYW5kIEludGVyYWN0aXZlIERlc2NyaXB0aW9uIGRvIG5vdCBzdXBwb3J0IGR5bmFtaWMgbG9jYWxlcywgY29kZVxyXG4vLyBzdGlsbCB1c2VzIFByb3BlcnRpZXMgdG8gcmVkdWNlIHRlY2huaWNhbCBkZWJ0LlxyXG5leHBvcnQgdHlwZSBRdWFkcmlsYXRlcmFsU3RyaW5nVHlwZSA9IFBET01WYWx1ZVR5cGU7XHJcbmV4cG9ydCB0eXBlIE51bGxhYmxlUXVhZHJpbGF0ZXJhbFN0cmluZ1R5cGUgPSBRdWFkcmlsYXRlcmFsU3RyaW5nVHlwZSB8IG51bGw7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgZmlyc3REZXRhaWxzU3RhdGVtZW50UGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLmZpcnN0RGV0YWlsc1N0YXRlbWVudFBhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgYUJTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkuYUJTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgYkNTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkuYkNTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgY0RTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkuY0RTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgZEFTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkuZEFTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3Qgc2lkZUFCU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnNpZGVBQlN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBzaWRlQkNTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkuc2lkZUJDU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IHNpZGVDRFN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS5zaWRlQ0RTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3Qgc2lkZURBU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnNpZGVEQVN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBhbGxTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5kZXRhaWxzLmFsbFN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBvcHBvc2l0ZVN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLmRldGFpbHMub3Bwb3NpdGVTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgcmlnaHRBbmdsZXNTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5kZXRhaWxzLnJpZ2h0QW5nbGVzU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IGVxdWFsU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuZGV0YWlscy5lcXVhbFN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBwYWlyc09mQWRqYWNlbnRTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5kZXRhaWxzLnBhaXJzT2ZBZGphY2VudFN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBvbmVQYWlyT2ZBZGphY2VudFN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLmRldGFpbHMub25lUGFpck9mQWRqYWNlbnRTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3Qgb25lUGFpck9mT3Bwb3NpdGVTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5kZXRhaWxzLm9uZVBhaXJPZk9wcG9zaXRlU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IG5vU3RyaW5nU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuZGV0YWlscy5ub1N0cmluZ1N0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCB2ZXJ0ZXhBU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy52ZXJ0ZXhBU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IHZlcnRleEJTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLnZlcnRleEJTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgdmVydGV4Q1N0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MudmVydGV4Q1N0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCB2ZXJ0ZXhEU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy52ZXJ0ZXhEU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IHlvdUhhdmVBU2l6ZWROYW1lZFNoYXBlUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnlvdUhhdmVBU2l6ZWROYW1lZFNoYXBlUGF0dGVyblN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCB5b3VIYXZlQVNpemVkU2hhcGVQYXR0ZXJuU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcueW91SGF2ZUFTaXplZFNoYXBlUGF0dGVyblN0cmluZ1Byb3BlcnR5O1xyXG5cclxuY29uc3QgaXNvc2NlbGVzVHJhcGV6b2lkRGV0YWlsc1BhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5pc29zY2VsZXNUcmFwZXpvaWREZXRhaWxzUGF0dGVyblN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBhbGxSaWdodEFuZ2xlc0FsbFNpZGVzRXF1YWxTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5hbGxSaWdodEFuZ2xlc0FsbFNpZGVzRXF1YWxTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3Qgb3Bwb3NpdGVTaWRlc0luUGFyYWxsZWxTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5vcHBvc2l0ZVNpZGVzSW5QYXJhbGxlbFN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCB0cmFwZXpvaWREZXRhaWxzUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnRyYXBlem9pZERldGFpbHNQYXR0ZXJuU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IGtpdGVEZXRhaWxzU2hvcnRQYXR0ZXJuU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcua2l0ZURldGFpbHNTaG9ydFBhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgZGFydERldGFpbHNTaG9ydFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5kYXJ0RGV0YWlsc1Nob3J0UGF0dGVyblN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBkYXJ0RGV0YWlsc1BhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5kYXJ0RGV0YWlsc1BhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcclxuY29uc3Qga2l0ZURldGFpbHNQYXR0ZXJuU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcua2l0ZURldGFpbHNQYXR0ZXJuU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IGNvbnZleFF1YWRyaWxhdGVyYWxEZXRhaWxzU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuY29udmV4UXVhZHJpbGF0ZXJhbERldGFpbHNTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgY29uY2F2ZVF1YWRyaWxhdGVyYWxEZXRhaWxzUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLmNvbmNhdmVRdWFkcmlsYXRlcmFsRGV0YWlsc1BhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgYWxsU2lkZXNFcXVhbFN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLmFsbFNpZGVzRXF1YWxTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgYWxsUmlnaHRBbmdsZXNTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5hbGxSaWdodEFuZ2xlc1N0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCB0cmlhbmdsZURldGFpbHNQYXR0ZXJuU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcudHJpYW5nbGVEZXRhaWxzUGF0dGVyblN0cmluZ1Byb3BlcnR5O1xyXG5cclxuY29uc3Qgc2lkZXNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaWRlc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBsb25nZXN0U2lkZXNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5sb25nZXN0U2lkZXNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgbG9uZ2VzdFNpZGVEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5sb25nZXN0U2lkZURlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBzaG9ydGVzdFNpZGVzRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuc2hvcnRlc3RTaWRlc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBzaG9ydGVzdFNpZGVEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaG9ydGVzdFNpZGVEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcclxuY29uc3Qgc2lkZUxlbmd0aERlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnNpZGVMZW5ndGhEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcclxuXHJcbmNvbnN0IGNvcm5lcnNSaWdodERlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuY29ybmVyc1JpZ2h0RGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eTtcclxuY29uc3Qgd2lkZXN0Q29ybmVyc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLndpZGVzdENvcm5lcnNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcclxuY29uc3Qgd2lkZXN0Q29ybmVyRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcud2lkZXN0Q29ybmVyRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IHNtYWxsZXN0Q29ybmVyc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnNtYWxsZXN0Q29ybmVyc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBzbWFsbGVzdENvcm5lckRlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnNtYWxsZXN0Q29ybmVyRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IGNvcm5lcnNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5jb3JuZXJzRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IG51bWJlck9mV2VkZ2VzUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLm51bWJlck9mV2VkZ2VzUGF0dGVyblN0cmluZ1Byb3BlcnR5O1xyXG5cclxuY29uc3QgdGlueVN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnNpemVzLnRpbnlTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgdmVyeVNtYWxsU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuc2l6ZXMudmVyeVNtYWxsU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IHNtYWxsU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuc2l6ZXMuc21hbGxTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgbWVkaXVtU2l6ZWRTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaXplcy5tZWRpdW1TaXplZFN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBsYXJnZVN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnNpemVzLmxhcmdlU3RyaW5nUHJvcGVydHk7XHJcblxyXG5jb25zdCB5b3VIYXZlQVNoYXBlSGludFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy55b3VIYXZlQVNoYXBlSGludFBhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgcmVzZXRTaGFwZVN0cmluZ1Byb3BlcnR5ID0gUXVhZHJpbGF0ZXJhbFN0cmluZ3MucmVzZXRTaGFwZVN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCByZXNldFNoYXBlQ29udGV4dFJlc3BvbnNlU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcucmVzZXRTaGFwZS5jb250ZXh0UmVzcG9uc2VTdHJpbmdQcm9wZXJ0eTtcclxuXHJcbmNvbnN0IHNoYXBlTmFtZVdpdGhBcnRpY2xlc01hcCA9IG5ldyBNYXA8TmFtZWRRdWFkcmlsYXRlcmFsIHwgbnVsbCwgVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPj4oKTtcclxuc2hhcGVOYW1lV2l0aEFydGljbGVzTWFwLnNldCggTmFtZWRRdWFkcmlsYXRlcmFsLlNRVUFSRSwgUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnNoYXBlTmFtZXMud2l0aEFydGljbGVzLnNxdWFyZVN0cmluZ1Byb3BlcnR5ICk7XHJcbnNoYXBlTmFtZVdpdGhBcnRpY2xlc01hcC5zZXQoIE5hbWVkUXVhZHJpbGF0ZXJhbC5SRUNUQU5HTEUsIFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaGFwZU5hbWVzLndpdGhBcnRpY2xlcy5yZWN0YW5nbGVTdHJpbmdQcm9wZXJ0eSApO1xyXG5zaGFwZU5hbWVXaXRoQXJ0aWNsZXNNYXAuc2V0KCBOYW1lZFF1YWRyaWxhdGVyYWwuUkhPTUJVUywgUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnNoYXBlTmFtZXMud2l0aEFydGljbGVzLnJob21idXNTdHJpbmdQcm9wZXJ0eSApO1xyXG5zaGFwZU5hbWVXaXRoQXJ0aWNsZXNNYXAuc2V0KCBOYW1lZFF1YWRyaWxhdGVyYWwuS0lURSwgUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnNoYXBlTmFtZXMud2l0aEFydGljbGVzLmtpdGVTdHJpbmdQcm9wZXJ0eSApO1xyXG5zaGFwZU5hbWVXaXRoQXJ0aWNsZXNNYXAuc2V0KCBOYW1lZFF1YWRyaWxhdGVyYWwuSVNPU0NFTEVTX1RSQVBFWk9JRCwgUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnNoYXBlTmFtZXMud2l0aEFydGljbGVzLmlzb3NjZWxlc1RyYXBlem9pZFN0cmluZ1Byb3BlcnR5ICk7XHJcbnNoYXBlTmFtZVdpdGhBcnRpY2xlc01hcC5zZXQoIE5hbWVkUXVhZHJpbGF0ZXJhbC5UUkFQRVpPSUQsIFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaGFwZU5hbWVzLndpdGhBcnRpY2xlcy50cmFwZXpvaWRTdHJpbmdQcm9wZXJ0eSApO1xyXG5zaGFwZU5hbWVXaXRoQXJ0aWNsZXNNYXAuc2V0KCBOYW1lZFF1YWRyaWxhdGVyYWwuQ09OQ0FWRV9RVUFEUklMQVRFUkFMLCBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuc2hhcGVOYW1lcy53aXRoQXJ0aWNsZXMuY29uY2F2ZVF1YWRyaWxhdGVyYWxTdHJpbmdQcm9wZXJ0eSApO1xyXG5zaGFwZU5hbWVXaXRoQXJ0aWNsZXNNYXAuc2V0KCBOYW1lZFF1YWRyaWxhdGVyYWwuQ09OVkVYX1FVQURSSUxBVEVSQUwsIFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaGFwZU5hbWVzLndpdGhBcnRpY2xlcy5jb252ZXhRdWFkcmlsYXRlcmFsU3RyaW5nUHJvcGVydHkgKTtcclxuc2hhcGVOYW1lV2l0aEFydGljbGVzTWFwLnNldCggTmFtZWRRdWFkcmlsYXRlcmFsLlBBUkFMTEVMT0dSQU0sIFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaGFwZU5hbWVzLndpdGhBcnRpY2xlcy5wYXJhbGxlbG9ncmFtU3RyaW5nUHJvcGVydHkgKTtcclxuc2hhcGVOYW1lV2l0aEFydGljbGVzTWFwLnNldCggTmFtZWRRdWFkcmlsYXRlcmFsLkRBUlQsIFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaGFwZU5hbWVzLndpdGhBcnRpY2xlcy5kYXJ0U3RyaW5nUHJvcGVydHkgKTtcclxuc2hhcGVOYW1lV2l0aEFydGljbGVzTWFwLnNldCggTmFtZWRRdWFkcmlsYXRlcmFsLlRSSUFOR0xFLCBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuc2hhcGVOYW1lcy53aXRoQXJ0aWNsZXMudHJpYW5nbGVTdHJpbmdQcm9wZXJ0eSApO1xyXG5cclxuY29uc3Qgc2hhcGVOYW1lTWFwID0gbmV3IE1hcDxOYW1lZFF1YWRyaWxhdGVyYWwsIFRSZWFkT25seVByb3BlcnR5PHN0cmluZz4+KCk7XHJcbnNoYXBlTmFtZU1hcC5zZXQoIE5hbWVkUXVhZHJpbGF0ZXJhbC5TUVVBUkUsIFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaGFwZU5hbWVzLndpdGhvdXRBcnRpY2xlcy5zcXVhcmVTdHJpbmdQcm9wZXJ0eSApO1xyXG5zaGFwZU5hbWVNYXAuc2V0KCBOYW1lZFF1YWRyaWxhdGVyYWwuUkVDVEFOR0xFLCBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuc2hhcGVOYW1lcy53aXRob3V0QXJ0aWNsZXMucmVjdGFuZ2xlU3RyaW5nUHJvcGVydHkgKTtcclxuc2hhcGVOYW1lTWFwLnNldCggTmFtZWRRdWFkcmlsYXRlcmFsLlJIT01CVVMsIFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaGFwZU5hbWVzLndpdGhvdXRBcnRpY2xlcy5yaG9tYnVzU3RyaW5nUHJvcGVydHkgKTtcclxuc2hhcGVOYW1lTWFwLnNldCggTmFtZWRRdWFkcmlsYXRlcmFsLktJVEUsIFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaGFwZU5hbWVzLndpdGhvdXRBcnRpY2xlcy5raXRlU3RyaW5nUHJvcGVydHkgKTtcclxuc2hhcGVOYW1lTWFwLnNldCggTmFtZWRRdWFkcmlsYXRlcmFsLklTT1NDRUxFU19UUkFQRVpPSUQsIFF1YWRyaWxhdGVyYWxTdHJpbmdzLmExMXkudm9pY2luZy5zaGFwZU5hbWVzLndpdGhvdXRBcnRpY2xlcy5pc29zY2VsZXNUcmFwZXpvaWRTdHJpbmdQcm9wZXJ0eSApO1xyXG5zaGFwZU5hbWVNYXAuc2V0KCBOYW1lZFF1YWRyaWxhdGVyYWwuVFJBUEVaT0lELCBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuc2hhcGVOYW1lcy53aXRob3V0QXJ0aWNsZXMudHJhcGV6b2lkU3RyaW5nUHJvcGVydHkgKTtcclxuc2hhcGVOYW1lTWFwLnNldCggTmFtZWRRdWFkcmlsYXRlcmFsLkNPTkNBVkVfUVVBRFJJTEFURVJBTCwgUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnNoYXBlTmFtZXMud2l0aG91dEFydGljbGVzLmNvbmNhdmVRdWFkcmlsYXRlcmFsU3RyaW5nUHJvcGVydHkgKTtcclxuc2hhcGVOYW1lTWFwLnNldCggTmFtZWRRdWFkcmlsYXRlcmFsLkNPTlZFWF9RVUFEUklMQVRFUkFMLCBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuc2hhcGVOYW1lcy53aXRob3V0QXJ0aWNsZXMuY29udmV4UXVhZHJpbGF0ZXJhbFN0cmluZ1Byb3BlcnR5ICk7XHJcbnNoYXBlTmFtZU1hcC5zZXQoIE5hbWVkUXVhZHJpbGF0ZXJhbC5QQVJBTExFTE9HUkFNLCBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuc2hhcGVOYW1lcy53aXRob3V0QXJ0aWNsZXMucGFyYWxsZWxvZ3JhbVN0cmluZ1Byb3BlcnR5ICk7XHJcbnNoYXBlTmFtZU1hcC5zZXQoIE5hbWVkUXVhZHJpbGF0ZXJhbC5EQVJULCBRdWFkcmlsYXRlcmFsU3RyaW5ncy5hMTF5LnZvaWNpbmcuc2hhcGVOYW1lcy53aXRob3V0QXJ0aWNsZXMuZGFydFN0cmluZ1Byb3BlcnR5ICk7XHJcbnNoYXBlTmFtZU1hcC5zZXQoIE5hbWVkUXVhZHJpbGF0ZXJhbC5UUklBTkdMRSwgUXVhZHJpbGF0ZXJhbFN0cmluZ3MuYTExeS52b2ljaW5nLnNoYXBlTmFtZXMud2l0aG91dEFydGljbGVzLnRyaWFuZ2xlU3RyaW5nUHJvcGVydHkgKTtcclxuXHJcbi8vIEEgbWFwIHRoYXQgZ29lcyBmcm9tIFF1YWRyaWxhdGVyYWxWZXJ0ZXhMYWJlbCAtPiBsZXR0ZXIgbGFiZWwgKGxpa2UgXCJBXCIpXHJcbmNvbnN0IHZlcnRleExhYmVsTWFwID0gbmV3IE1hcDxRdWFkcmlsYXRlcmFsVmVydGV4TGFiZWwsIFRSZWFkT25seVByb3BlcnR5PHN0cmluZz4+KCk7XHJcbnZlcnRleExhYmVsTWFwLnNldCggUXVhZHJpbGF0ZXJhbFZlcnRleExhYmVsLlZFUlRFWF9BLCB2ZXJ0ZXhBU3RyaW5nUHJvcGVydHkgKTtcclxudmVydGV4TGFiZWxNYXAuc2V0KCBRdWFkcmlsYXRlcmFsVmVydGV4TGFiZWwuVkVSVEVYX0IsIHZlcnRleEJTdHJpbmdQcm9wZXJ0eSApO1xyXG52ZXJ0ZXhMYWJlbE1hcC5zZXQoIFF1YWRyaWxhdGVyYWxWZXJ0ZXhMYWJlbC5WRVJURVhfQywgdmVydGV4Q1N0cmluZ1Byb3BlcnR5ICk7XHJcbnZlcnRleExhYmVsTWFwLnNldCggUXVhZHJpbGF0ZXJhbFZlcnRleExhYmVsLlZFUlRFWF9ELCB2ZXJ0ZXhEU3RyaW5nUHJvcGVydHkgKTtcclxuXHJcbi8vIEEgbWFwIHRoYXQgZ29lcyBmcm9tIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwgLT4gXCJmdWxsXCIgc2lkZSBsYWJlbCAobGlrZSBcIlNpZGUgQUJcIilcclxuY29uc3QgZnVsbFNpZGVMYWJlbE1hcCA9IG5ldyBNYXA8UXVhZHJpbGF0ZXJhbFNpZGVMYWJlbCwgVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPj4oKTtcclxuZnVsbFNpZGVMYWJlbE1hcC5zZXQoIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwuU0lERV9BQiwgc2lkZUFCU3RyaW5nUHJvcGVydHkgKTtcclxuZnVsbFNpZGVMYWJlbE1hcC5zZXQoIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwuU0lERV9CQywgc2lkZUJDU3RyaW5nUHJvcGVydHkgKTtcclxuZnVsbFNpZGVMYWJlbE1hcC5zZXQoIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwuU0lERV9DRCwgc2lkZUNEU3RyaW5nUHJvcGVydHkgKTtcclxuZnVsbFNpZGVMYWJlbE1hcC5zZXQoIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwuU0lERV9EQSwgc2lkZURBU3RyaW5nUHJvcGVydHkgKTtcclxuXHJcbi8vIEEgbWFwIHRoYXQgZ29lcyBmcm9tIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwgLT4gbGV0dGVycyBsYWJlbCAobGlrZSBcIkFCXCIpXHJcbmNvbnN0IHNpZGVMYWJlbE1hcCA9IG5ldyBNYXA8UXVhZHJpbGF0ZXJhbFNpZGVMYWJlbCwgVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPj4oKTtcclxuc2lkZUxhYmVsTWFwLnNldCggUXVhZHJpbGF0ZXJhbFNpZGVMYWJlbC5TSURFX0FCLCBhQlN0cmluZ1Byb3BlcnR5ICk7XHJcbnNpZGVMYWJlbE1hcC5zZXQoIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwuU0lERV9CQywgYkNTdHJpbmdQcm9wZXJ0eSApO1xyXG5zaWRlTGFiZWxNYXAuc2V0KCBRdWFkcmlsYXRlcmFsU2lkZUxhYmVsLlNJREVfQ0QsIGNEU3RyaW5nUHJvcGVydHkgKTtcclxuc2lkZUxhYmVsTWFwLnNldCggUXVhZHJpbGF0ZXJhbFNpZGVMYWJlbC5TSURFX0RBLCBkQVN0cmluZ1Byb3BlcnR5ICk7XHJcblxyXG4vLyBUaHJlc2hvbGRzIHRoYXQgYXJlIHVzZWQgdG8gZGVzY3JpYmUgdGhlIHNpemUgb2YgdGhlIGN1cnJlbnQgc2hhcGUuIEFsbCBhcmUgcmVsYXRpdmUgdG8gdGhlIGRpc3BsYXllZCBncmlkXHJcbi8vIGFuZCB0aGUgYXJlYSBvZiBhIGdyaWQgY2VsbC5cclxuY29uc3QgR1JJRF9DRUxMX0FSRUEgPSBNYXRoLnBvdyggUXVhZHJpbGF0ZXJhbENvbnN0YW50cy5HUklEX1NQQUNJTkcsIDIgKTtcclxuY29uc3QgVElOWV9USFJFU0hPTEQgPSBHUklEX0NFTExfQVJFQSAqIDQ7XHJcbmNvbnN0IFZFUllfU01BTExfVEhSRVNIT0xEID0gR1JJRF9DRUxMX0FSRUEgKiAxMjtcclxuY29uc3QgU01BTExfVEhSRVNIT0xEID0gR1JJRF9DRUxMX0FSRUEgKiAyNDtcclxuY29uc3QgTUVESVVNX1NJWkVEX1RIUkVTSE9MRCA9IEdSSURfQ0VMTF9BUkVBICogNDg7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWFkcmlsYXRlcmFsRGVzY3JpYmVyIHtcclxuICBwcml2YXRlIHJlYWRvbmx5IHNoYXBlTW9kZWw6IFF1YWRyaWxhdGVyYWxTaGFwZU1vZGVsO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgc2hhcGVOYW1lVmlzaWJsZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPjtcclxuICBwcml2YXRlIHJlYWRvbmx5IG1hcmtlcnNWaXNpYmxlUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PGJvb2xlYW4+O1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgc2lkZUFCRGVzY3JpYmVyOiBRdWFkcmlsYXRlcmFsU2lkZURlc2NyaWJlcjtcclxuICBwdWJsaWMgcmVhZG9ubHkgc2lkZUJDRGVzY3JpYmVyOiBRdWFkcmlsYXRlcmFsU2lkZURlc2NyaWJlcjtcclxuICBwdWJsaWMgcmVhZG9ubHkgc2lkZUNERGVzY3JpYmVyOiBRdWFkcmlsYXRlcmFsU2lkZURlc2NyaWJlcjtcclxuICBwdWJsaWMgcmVhZG9ubHkgc2lkZURBRGVzY3JpYmVyOiBRdWFkcmlsYXRlcmFsU2lkZURlc2NyaWJlcjtcclxuICBwcml2YXRlIHJlYWRvbmx5IHNpZGVEZXNjcmliZXJzOiByZWFkb25seSBRdWFkcmlsYXRlcmFsU2lkZURlc2NyaWJlcltdO1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgdmVydGV4QURlc2NyaWJlcjogUXVhZHJpbGF0ZXJhbFZlcnRleERlc2NyaWJlcjtcclxuICBwdWJsaWMgcmVhZG9ubHkgdmVydGV4QkRlc2NyaWJlcjogUXVhZHJpbGF0ZXJhbFZlcnRleERlc2NyaWJlcjtcclxuICBwdWJsaWMgcmVhZG9ubHkgdmVydGV4Q0Rlc2NyaWJlcjogUXVhZHJpbGF0ZXJhbFZlcnRleERlc2NyaWJlcjtcclxuICBwdWJsaWMgcmVhZG9ubHkgdmVydGV4RERlc2NyaWJlcjogUXVhZHJpbGF0ZXJhbFZlcnRleERlc2NyaWJlcjtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBzaGFwZU1vZGVsOiBRdWFkcmlsYXRlcmFsU2hhcGVNb2RlbCwgc2hhcGVOYW1lVmlzaWJsZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPiwgbWFya2Vyc1Zpc2libGVQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8Ym9vbGVhbj4sIG1vZGVsVmlld1RyYW5zZm9ybTogTW9kZWxWaWV3VHJhbnNmb3JtMiApIHtcclxuICAgIHRoaXMuc2hhcGVNb2RlbCA9IHNoYXBlTW9kZWw7XHJcbiAgICB0aGlzLnNoYXBlTmFtZVZpc2libGVQcm9wZXJ0eSA9IHNoYXBlTmFtZVZpc2libGVQcm9wZXJ0eTtcclxuICAgIHRoaXMubWFya2Vyc1Zpc2libGVQcm9wZXJ0eSA9IG1hcmtlcnNWaXNpYmxlUHJvcGVydHk7XHJcblxyXG4gICAgdGhpcy5zaWRlQUJEZXNjcmliZXIgPSBuZXcgUXVhZHJpbGF0ZXJhbFNpZGVEZXNjcmliZXIoIHNoYXBlTW9kZWwuc2lkZUFCLCBzaGFwZU1vZGVsLCBtYXJrZXJzVmlzaWJsZVByb3BlcnR5LCBtb2RlbFZpZXdUcmFuc2Zvcm0gKTtcclxuICAgIHRoaXMuc2lkZUJDRGVzY3JpYmVyID0gbmV3IFF1YWRyaWxhdGVyYWxTaWRlRGVzY3JpYmVyKCBzaGFwZU1vZGVsLnNpZGVCQywgc2hhcGVNb2RlbCwgbWFya2Vyc1Zpc2libGVQcm9wZXJ0eSwgbW9kZWxWaWV3VHJhbnNmb3JtICk7XHJcbiAgICB0aGlzLnNpZGVDRERlc2NyaWJlciA9IG5ldyBRdWFkcmlsYXRlcmFsU2lkZURlc2NyaWJlciggc2hhcGVNb2RlbC5zaWRlQ0QsIHNoYXBlTW9kZWwsIG1hcmtlcnNWaXNpYmxlUHJvcGVydHksIG1vZGVsVmlld1RyYW5zZm9ybSApO1xyXG4gICAgdGhpcy5zaWRlREFEZXNjcmliZXIgPSBuZXcgUXVhZHJpbGF0ZXJhbFNpZGVEZXNjcmliZXIoIHNoYXBlTW9kZWwuc2lkZURBLCBzaGFwZU1vZGVsLCBtYXJrZXJzVmlzaWJsZVByb3BlcnR5LCBtb2RlbFZpZXdUcmFuc2Zvcm0gKTtcclxuICAgIHRoaXMuc2lkZURlc2NyaWJlcnMgPSBbIHRoaXMuc2lkZUFCRGVzY3JpYmVyLCB0aGlzLnNpZGVCQ0Rlc2NyaWJlciwgdGhpcy5zaWRlQ0REZXNjcmliZXIsIHRoaXMuc2lkZURBRGVzY3JpYmVyIF07XHJcblxyXG4gICAgdGhpcy52ZXJ0ZXhBRGVzY3JpYmVyID0gbmV3IFF1YWRyaWxhdGVyYWxWZXJ0ZXhEZXNjcmliZXIoIHNoYXBlTW9kZWwudmVydGV4QSwgc2hhcGVNb2RlbCwgbWFya2Vyc1Zpc2libGVQcm9wZXJ0eSApO1xyXG4gICAgdGhpcy52ZXJ0ZXhCRGVzY3JpYmVyID0gbmV3IFF1YWRyaWxhdGVyYWxWZXJ0ZXhEZXNjcmliZXIoIHNoYXBlTW9kZWwudmVydGV4Qiwgc2hhcGVNb2RlbCwgbWFya2Vyc1Zpc2libGVQcm9wZXJ0eSApO1xyXG4gICAgdGhpcy52ZXJ0ZXhDRGVzY3JpYmVyID0gbmV3IFF1YWRyaWxhdGVyYWxWZXJ0ZXhEZXNjcmliZXIoIHNoYXBlTW9kZWwudmVydGV4Qywgc2hhcGVNb2RlbCwgbWFya2Vyc1Zpc2libGVQcm9wZXJ0eSApO1xyXG4gICAgdGhpcy52ZXJ0ZXhERGVzY3JpYmVyID0gbmV3IFF1YWRyaWxhdGVyYWxWZXJ0ZXhEZXNjcmliZXIoIHNoYXBlTW9kZWwudmVydGV4RCwgc2hhcGVNb2RlbCwgbWFya2Vyc1Zpc2libGVQcm9wZXJ0eSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJuIHRoZSBRdWFkcmlsYXRlcmFsVmVydGV4RGVzY3JpYmVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGVzY3JpYmUgYSB2ZXJ0ZXggb2YgdGhlIHByb3ZpZGVkIFF1YWRyaWxhdGVyYWxWZXJ0ZXhMYWJlbC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0VmVydGV4RGVzY3JpYmVyRm9yTGFiZWwoIHZlcnRleExhYmVsOiBRdWFkcmlsYXRlcmFsVmVydGV4TGFiZWwgKTogUXVhZHJpbGF0ZXJhbFZlcnRleERlc2NyaWJlciB7XHJcbiAgICByZXR1cm4gdmVydGV4TGFiZWwgPT09IFF1YWRyaWxhdGVyYWxWZXJ0ZXhMYWJlbC5WRVJURVhfQSA/IHRoaXMudmVydGV4QURlc2NyaWJlciA6XHJcbiAgICAgICAgICAgdmVydGV4TGFiZWwgPT09IFF1YWRyaWxhdGVyYWxWZXJ0ZXhMYWJlbC5WRVJURVhfQiA/IHRoaXMudmVydGV4QkRlc2NyaWJlciA6XHJcbiAgICAgICAgICAgdmVydGV4TGFiZWwgPT09IFF1YWRyaWxhdGVyYWxWZXJ0ZXhMYWJlbC5WRVJURVhfQyA/IHRoaXMudmVydGV4Q0Rlc2NyaWJlciA6XHJcbiAgICAgICAgICAgdGhpcy52ZXJ0ZXhERGVzY3JpYmVyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGEgZGVzY3JpcHRpb24gb2YgdGhlIHF1YWRyaWxhdGVyYWwgc2hhcGUsIGp1c3QgaW5jbHVkaW5nIHRoZSBzaGFwZSBuYW1lLiBXaWxsIHJldHVybiBzb21ldGhpbmcgbGlrZVxyXG4gICAqIFwiYSByZWN0YW5nbGVcIiBvclxyXG4gICAqIFwiYSB0cmFwZXpvaWRcIiBvclxyXG4gICAqIFwiYSBjb25jYXZlIHF1YWRyaWxhdGVyYWxcIlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRTaGFwZURlc2NyaXB0aW9uKCk6IFF1YWRyaWxhdGVyYWxTdHJpbmdUeXBlIHtcclxuXHJcbiAgICAvLyBvZiB0eXBlIE5hbWVkUXVhZHJpbGF0ZXJhbCBlbnVtZXJhdGlvblxyXG4gICAgY29uc3Qgc2hhcGVOYW1lID0gdGhpcy5zaGFwZU1vZGVsLnNoYXBlTmFtZVByb3BlcnR5LnZhbHVlO1xyXG4gICAgcmV0dXJuIFF1YWRyaWxhdGVyYWxEZXNjcmliZXIuZ2V0U2hhcGVOYW1lV2l0aEFydGljbGVzRGVzY3JpcHRpb24oIHNoYXBlTmFtZSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYWN0dWFsIG5hbWUgb2YgdGhlIE5hbWVkUXVhZHJpbGF0ZXJhbCwgd2l0aCBhbiBhcnRpY2xlIGJlZm9yZSB0aGUgbmFtZSBmb3IgZW5nbGlzaFxyXG4gICAqIHBocmFzZXMuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXRTaGFwZU5hbWVXaXRoQXJ0aWNsZXNEZXNjcmlwdGlvbiggc2hhcGVOYW1lOiBOYW1lZFF1YWRyaWxhdGVyYWwgfCBudWxsICk6IFRSZWFkT25seVByb3BlcnR5PHN0cmluZz4ge1xyXG4gICAgY29uc3Qgc2hhcGVOYW1lRGVzY3JpcHRpb25Qcm9wZXJ0eSA9IHNoYXBlTmFtZVdpdGhBcnRpY2xlc01hcC5nZXQoIHNoYXBlTmFtZSApO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggc2hhcGVOYW1lRGVzY3JpcHRpb25Qcm9wZXJ0eSwgJ1RoZXJlIG11c3QgYmUgc2hhcGUgbmFtZSBkZXNjcmlwdGlvbiBmb3IgdGhlIGN1cnJlbnQgc2hhcGUgc3RhdGUuJyApO1xyXG4gICAgcmV0dXJuIHNoYXBlTmFtZURlc2NyaXB0aW9uUHJvcGVydHkhO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBzaGFwZSBuYW1lIGluIGlzb2xhdGlvbiB3aXRob3V0IGFueSBhcnRpY2xlcy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldFNoYXBlTmFtZURlc2NyaXB0aW9uKCBzaGFwZU5hbWU6IE5hbWVkUXVhZHJpbGF0ZXJhbCApOiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+IHtcclxuICAgIGNvbnN0IHNoYXBlTmFtZURlc2NyaXB0aW9uUHJvcGVydHkgPSBzaGFwZU5hbWVNYXAuZ2V0KCBzaGFwZU5hbWUgKTtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIHNoYXBlTmFtZURlc2NyaXB0aW9uUHJvcGVydHksICdUaGVyZSBtdXN0IGJlIHNoYXBlIG5hbWUgZGVzY3JpcHRpb24gZm9yIHRoZSBjdXJyZW50IHNoYXBlIHN0YXRlLicgKTtcclxuICAgIHJldHVybiBzaGFwZU5hbWVEZXNjcmlwdGlvblByb3BlcnR5ITtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIGxhYmVsIHN0cmluZyBmb3IgYSBzaWRlIGZyb20gaXRzIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwuIEp1c3QgdGhlIGxhYmVsIHdpdGhvdXQgb3RoZXIgY29udGV4dCBsaWtlXHJcbiAgICogXCJBQlwiIG9yXHJcbiAgICogXCJEQVwiXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXRTaWRlTGFiZWxTdHJpbmcoIHNpZGVMYWJlbDogUXVhZHJpbGF0ZXJhbFNpZGVMYWJlbCApOiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+IHtcclxuICAgIGNvbnN0IHNpZGVMYWJlbFN0cmluZ1Byb3BlcnR5ID0gc2lkZUxhYmVsTWFwLmdldCggc2lkZUxhYmVsICkhO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggc2lkZUxhYmVsU3RyaW5nUHJvcGVydHksICdUaGVyZSBtdXN0IGJlIGEgc2lkZSBsYWJlbCBkZXNjcmlwdGlvbi4nICk7XHJcbiAgICByZXR1cm4gc2lkZUxhYmVsU3RyaW5nUHJvcGVydHk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIGEgbGFiZWwgc3RyaW5nIGZvciB0aGUgcHJvdmlkZWQgUXVhZHJpbGF0ZXJhbFZlcnRleExhYmVsLiBSZXR1cm5zIHNvbWV0aGluZyBsaWtlXHJcbiAgICogXCJBXCIgb3JcclxuICAgKiBcIkJcIlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0VmVydGV4TGFiZWxTdHJpbmcoIHZlcnRleExhYmVsOiBRdWFkcmlsYXRlcmFsVmVydGV4TGFiZWwgKTogVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPiB7XHJcbiAgICBjb25zdCB2ZXJ0ZXhMYWJlbFN0cmluZ1Byb3BlcnR5ID0gdmVydGV4TGFiZWxNYXAuZ2V0KCB2ZXJ0ZXhMYWJlbCApITtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIHZlcnRleExhYmVsU3RyaW5nUHJvcGVydHksICdUaGVyZSBtdXN0IGJlIGEgbGFiZWwgZm9yIHRoZSB2ZXJ0ZXguJyApO1xyXG4gICAgcmV0dXJuIHZlcnRleExhYmVsU3RyaW5nUHJvcGVydHk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIGRlc2NyaWJpbmcgdGhlIHNoYXBlIHRoYXQgeW91IGhhdmUgaW4gYSBwYXR0ZXJuIGxpa2VcclxuICAgKiBcIllvdSBoYXZlIGEgc3F1YXJlLlwiIG9yXHJcbiAgICogXCJZb3UgaGF2ZSBhbiBpc29zY2VsZXMgdHJhcGV6b2lkLlwiXHJcbiAgICovXHJcbiAgcHVibGljIGdldFlvdUhhdmVBU2hhcGVEZXNjcmlwdGlvbigpOiBzdHJpbmcge1xyXG4gICAgY29uc3Qgc2hhcGVEZXNjcmlwdGlvblN0cmluZyA9IHRoaXMuZ2V0U2hhcGVEZXNjcmlwdGlvbigpO1xyXG4gICAgcmV0dXJuIFN0cmluZ1V0aWxzLmZpbGxJbiggeW91SGF2ZUFTaGFwZUhpbnRQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgc2hhcGVEZXNjcmlwdGlvbjogc2hhcGVEZXNjcmlwdGlvblN0cmluZ1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIGRlc2NyaXB0aW9uIHRoYXQgaXMgc3Bva2VuIHdoZW4gdGhlIHVzZXIgdXNlcyB0aGUgXCJjaGVjayBzaGFwZVwiIGZlYXR1cmUgKGdsb2JhbCBob3RrZXkgXCJjdHJsICsgY1wiKS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0Q2hlY2tTaGFwZURlc2NyaXB0aW9uKCk6IFF1YWRyaWxhdGVyYWxTdHJpbmdUeXBlIHtcclxuICAgIGxldCBkZXNjcmlwdGlvbjogUXVhZHJpbGF0ZXJhbFN0cmluZ1R5cGU7XHJcbiAgICBpZiAoIHRoaXMuc2hhcGVOYW1lVmlzaWJsZVByb3BlcnR5LnZhbHVlICkge1xyXG4gICAgICBkZXNjcmlwdGlvbiA9IHRoaXMuZ2V0WW91SGF2ZUFTaGFwZURlc2NyaXB0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZGVzY3JpcHRpb24gPSB0aGlzLmdldFNoYXBlUHJvcGVydGllc0Rlc2NyaXB0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBjdXJyZW50IHNoYXBlJ3MgZ2VvbWV0cmljIHByb3BlcnRpZXMgKHdpdGhvdXQgc2F5aW5nIHRoZSBzaGFwZSBuYW1lKS4gVHlwaWNhbGx5XHJcbiAgICogdGhpcyBpcyB1c2VkIHdoZW4gdGhlIHVzZXIgaGlkZXMgdGhlIHNoYXBlIG5hbWUgaW4gdGhlIHVzZXIgaW50ZXJmYWNlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRTaGFwZVByb3BlcnRpZXNEZXNjcmlwdGlvbigpOiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+IHwgc3RyaW5nIHtcclxuICAgIGNvbnN0IGN1cnJlbnRTaGFwZU5hbWUgPSB0aGlzLnNoYXBlTW9kZWwuc2hhcGVOYW1lUHJvcGVydHkudmFsdWU7XHJcbiAgICBpZiAoIGN1cnJlbnRTaGFwZU5hbWUgPT09IE5hbWVkUXVhZHJpbGF0ZXJhbC5TUVVBUkUgKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldFNxdWFyZURldGFpbHNTdHJpbmcoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBjdXJyZW50U2hhcGVOYW1lID09PSBOYW1lZFF1YWRyaWxhdGVyYWwuUkVDVEFOR0xFICkge1xyXG4gICAgICByZXR1cm4gdGhpcy5nZXRSZWN0YW5nbGVEZXRhaWxzU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggY3VycmVudFNoYXBlTmFtZSA9PT0gTmFtZWRRdWFkcmlsYXRlcmFsLlJIT01CVVMgKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldFJob21idXNEZXRhaWxzU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggY3VycmVudFNoYXBlTmFtZSA9PT0gTmFtZWRRdWFkcmlsYXRlcmFsLlBBUkFMTEVMT0dSQU0gKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldFBhcmFsbGVsb2dyYW1EZXRhaWxzU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggY3VycmVudFNoYXBlTmFtZSA9PT0gTmFtZWRRdWFkcmlsYXRlcmFsLlRSQVBFWk9JRCApIHtcclxuICAgICAgYXNzZXJ0ICYmIGFzc2VydCggdGhpcy5zaGFwZU1vZGVsLnBhcmFsbGVsU2lkZVBhaXJzUHJvcGVydHkudmFsdWUubGVuZ3RoID09PSAxLCAnQSBUcmFwZXpvaWQgc2hvdWxkIGhhdmUgb25lIHBhcmFsbGVsIHNpZGUgcGFpcicgKTtcclxuICAgICAgY29uc3QgcGFyYWxsZWxTaWRlUGFpciA9IHRoaXMuc2hhcGVNb2RlbC5wYXJhbGxlbFNpZGVQYWlyc1Byb3BlcnR5LnZhbHVlWyAwIF07XHJcbiAgICAgIHJldHVybiB0aGlzLmdldFRyYXBlem9pZERldGFpbHNTdHJpbmcoIHBhcmFsbGVsU2lkZVBhaXIgKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBjdXJyZW50U2hhcGVOYW1lID09PSBOYW1lZFF1YWRyaWxhdGVyYWwuSVNPU0NFTEVTX1RSQVBFWk9JRCApIHtcclxuICAgICAgYXNzZXJ0ICYmIGFzc2VydCggdGhpcy5zaGFwZU1vZGVsLm9wcG9zaXRlRXF1YWxTaWRlUGFpcnNQcm9wZXJ0eS52YWx1ZS5sZW5ndGggPT09IDEsXHJcbiAgICAgICAgJ0FuIElzb3NjZWxlcyBUcmFwZXpvaWQgc2hvdWxkIGhhdmUgb25lIHBhaXIgb2Ygc2lkZXMgZXF1YWwgaW4gbGVuZ3RoJyApO1xyXG4gICAgICBjb25zdCBvcHBvc2l0ZUVxdWFsU2lkZVBhaXIgPSB0aGlzLnNoYXBlTW9kZWwub3Bwb3NpdGVFcXVhbFNpZGVQYWlyc1Byb3BlcnR5LnZhbHVlWyAwIF07XHJcblxyXG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCB0aGlzLnNoYXBlTW9kZWwucGFyYWxsZWxTaWRlUGFpcnNQcm9wZXJ0eS52YWx1ZS5sZW5ndGggPT09IDEsXHJcbiAgICAgICAgJ0EgVHJhcGV6b2lkIHNob3VsZCBoYXZlIG9uZSBwYXJhbGxlbCBzaWRlIHBhaXIuJyApO1xyXG4gICAgICBjb25zdCBwYXJhbGxlbFNpZGVQYWlyID0gdGhpcy5zaGFwZU1vZGVsLnBhcmFsbGVsU2lkZVBhaXJzUHJvcGVydHkudmFsdWVbIDAgXTtcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLmdldElzb3NjZWxlc1RyYXBlem9pZERldGFpbHNTdHJpbmcoXHJcbiAgICAgICAgb3Bwb3NpdGVFcXVhbFNpZGVQYWlyLFxyXG4gICAgICAgIHBhcmFsbGVsU2lkZVBhaXJcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBjdXJyZW50U2hhcGVOYW1lID09PSBOYW1lZFF1YWRyaWxhdGVyYWwuS0lURSApIHtcclxuICAgICAgYXNzZXJ0ICYmIGFzc2VydCggdGhpcy5zaGFwZU1vZGVsLm9wcG9zaXRlRXF1YWxWZXJ0ZXhQYWlyc1Byb3BlcnR5LnZhbHVlLmxlbmd0aCA9PT0gMSxcclxuICAgICAgICAnQSBraXRlIHNob3VsZCBoYXZlIG9ubHkgb25lIHBhaXIgb2Ygb3Bwb3NpdGUgZXF1YWwgdmVydGljZXMnICk7XHJcbiAgICAgIGNvbnN0IG9wcG9zaXRlRXF1YWxWZXJ0ZXhQYWlyID0gdGhpcy5zaGFwZU1vZGVsLm9wcG9zaXRlRXF1YWxWZXJ0ZXhQYWlyc1Byb3BlcnR5LnZhbHVlWyAwIF07XHJcbiAgICAgIHJldHVybiB0aGlzLmdldEtpdGVEZXRhaWxzU3RyaW5nKCBvcHBvc2l0ZUVxdWFsVmVydGV4UGFpciwga2l0ZURldGFpbHNQYXR0ZXJuU3RyaW5nUHJvcGVydHkgKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBjdXJyZW50U2hhcGVOYW1lID09PSBOYW1lZFF1YWRyaWxhdGVyYWwuREFSVCApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZ2V0RGFydERldGFpbHNTdHJpbmcoIGRhcnREZXRhaWxzUGF0dGVyblN0cmluZ1Byb3BlcnR5ICk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggY3VycmVudFNoYXBlTmFtZSA9PT0gTmFtZWRRdWFkcmlsYXRlcmFsLkNPTkNBVkVfUVVBRFJJTEFURVJBTCApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29uY2F2ZVF1YWRyaWxhdGVyYWxEZXRhaWxzU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggY3VycmVudFNoYXBlTmFtZSA9PT0gTmFtZWRRdWFkcmlsYXRlcmFsLkNPTlZFWF9RVUFEUklMQVRFUkFMICkge1xyXG4gICAgICByZXR1cm4gdGhpcy5nZXRDb252ZXhRdWFkcmlsYXRlcmFsRGV0YWlsc1N0cmluZygpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIGN1cnJlbnRTaGFwZU5hbWUgPT09IE5hbWVkUXVhZHJpbGF0ZXJhbC5UUklBTkdMRSApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZ2V0VHJpYW5nbGVEZXRhaWxzU3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggZmFsc2UsICdDb3VsZCBub3QgZmluZCBzaGFwZVByb3BlcnRpZXNEZXNjcmlwdGlvblByb3BlcnR5IGZvciBzaGFwZS4nICk7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgZGVzY3JpcHRpb24gb2YgdGhlIHNoYXBlIHNpemUuIFNvbWV0aGluZyBsaWtlXHJcbiAgICogXCJ0aW55XCIgb3JcclxuICAgKiBcInNtYWxsXCIgb3JcclxuICAgKiBcImxhcmdlXCJcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0U2l6ZURlc2NyaXB0aW9uKCk6IFRSZWFkT25seVByb3BlcnR5PHN0cmluZz4ge1xyXG4gICAgY29uc3QgYXJlYSA9IHRoaXMuc2hhcGVNb2RlbC5hcmVhUHJvcGVydHkudmFsdWU7XHJcbiAgICBpZiAoIGFyZWEgPCBUSU5ZX1RIUkVTSE9MRCApIHtcclxuICAgICAgcmV0dXJuIHRpbnlTdHJpbmdQcm9wZXJ0eTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBhcmVhIDwgVkVSWV9TTUFMTF9USFJFU0hPTEQgKSB7XHJcbiAgICAgIHJldHVybiB2ZXJ5U21hbGxTdHJpbmdQcm9wZXJ0eTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBhcmVhIDwgU01BTExfVEhSRVNIT0xEICkge1xyXG4gICAgICByZXR1cm4gc21hbGxTdHJpbmdQcm9wZXJ0eTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBhcmVhIDwgTUVESVVNX1NJWkVEX1RIUkVTSE9MRCApIHtcclxuICAgICAgcmV0dXJuIG1lZGl1bVNpemVkU3RyaW5nUHJvcGVydHk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcmV0dXJuIGxhcmdlU3RyaW5nUHJvcGVydHk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBkZXRhaWxzIHN0YXRlbWVudCBmb3IgdGhlIFZvaWNpbmcgdG9vbGJhci4gRGV0YWlscyBhcmUgYnJva2VuIHVwIGludG8gbnVtYmVyZWQgc3RhdGVtZW50cy5cclxuICAgKiBUaGlzIGZpcnN0IG9uZSBwcm92aWRlcyB0aGUgY3VycmVudCBuYW1lZCBzaGFwZSBhbmQgaXRzIHNpemUuXHJcbiAgICovXHJcbiAgcHVibGljIGdldEZpcnN0RGV0YWlsc1N0YXRlbWVudCgpOiBzdHJpbmcge1xyXG4gICAgY29uc3Qgc2l6ZURlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHkgPSB0aGlzLmdldFNpemVEZXNjcmlwdGlvbigpO1xyXG4gICAgaWYgKCB0aGlzLnNoYXBlTmFtZVZpc2libGVQcm9wZXJ0eS52YWx1ZSApIHtcclxuICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLmZpbGxJbiggeW91SGF2ZUFTaXplZE5hbWVkU2hhcGVQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICBzaXplOiBzaXplRGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eSxcclxuICAgICAgICBzaGFwZU5hbWU6IFF1YWRyaWxhdGVyYWxEZXNjcmliZXIuZ2V0U2hhcGVOYW1lRGVzY3JpcHRpb24oIHRoaXMuc2hhcGVNb2RlbC5zaGFwZU5hbWVQcm9wZXJ0eS52YWx1ZSApXHJcbiAgICAgIH0gKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZXR1cm4gU3RyaW5nVXRpbHMuZmlsbEluKCB5b3VIYXZlQVNpemVkU2hhcGVQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICBzaXplOiBzaXplRGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eVxyXG4gICAgICB9ICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBzZWNvbmQgXCJkZXRhaWxzXCIgc3RhdGVtZW50IGZvciB0aGUgVm9pY2luZyB0b29sYmFyLiBEZXRhaWxzIGFyZSBicm9rZW4gdXAgaW50byB0aHJlZSBudW1iZXJlZFxyXG4gICAqIHN0YXRlbWVudHMuIFRoaXMgb25lIGlzIGEgc3VtbWFyeSBhYm91dCBlcXVhbCBjb3JuZXIgYW5nbGVzIGFuZCBlcXVhbCBzaWRlIGxlbmd0aHMuIFdpbGwgcmV0dXJuIHNvbWV0aGluZyBsaWtlXHJcbiAgICogXCJSaWdodCBub3csIG9wcG9zaXRlIGNvcm5lcnMgYXJlIGVxdWFsIGFuZCBvcHBvc2l0ZSBzaWRlcyBhcmUgZXF1YWwuXCIgb3JcclxuICAgKiBcIlJpZ2h0IG5vdywgb24gcGFpciBvZiBvcHBvc2l0ZSBjb3JuZXJzIGFyZSBlcXVhbCBhbmQgb3Bwb3NpdGUgc2lkZXMgYXJlIGVxdWFsXCIgb3JcclxuICAgKiBcIlJpZ2h0IG5vdywgbm8gY29ybmVycyBhcmUgZXF1YWwgYW5kIG5vIHNpZGVzIGFyZSBlcXVhbC5cIlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRTZWNvbmREZXRhaWxzU3RhdGVtZW50KCk6IHN0cmluZyB7XHJcblxyXG4gICAgY29uc3QgYWRqYWNlbnRFcXVhbFZlcnRleFBhaXJzID0gdGhpcy5zaGFwZU1vZGVsLmFkamFjZW50RXF1YWxWZXJ0ZXhQYWlyc1Byb3BlcnR5LnZhbHVlO1xyXG4gICAgY29uc3QgYWRqYWNlbnRFcXVhbFNpZGVQYWlycyA9IHRoaXMuc2hhcGVNb2RlbC5hZGphY2VudEVxdWFsU2lkZVBhaXJzUHJvcGVydHkudmFsdWU7XHJcblxyXG4gICAgbGV0IGNvcm5lclR5cGVTdHJpbmc7XHJcbiAgICBsZXQgYW5nbGVFcXVhbGl0eVN0cmluZztcclxuICAgIGxldCBzaWRlVHlwZVN0cmluZztcclxuICAgIGlmICggdGhpcy5zaGFwZU1vZGVsLmlzUGFyYWxsZWxvZ3JhbSgpICkge1xyXG5cclxuICAgICAgLy8gSWYgYWxsIGFkamFjZW50IHZlcnRpY2VzIGFyZSBlcXVhbCB0aGVuIGFsbCBhcmUgcmlnaHQgYW5nbGVzLiBPdGhlcndpc2UsIG9wcG9zaXRlIGFuZ2xlcyBtdXN0IGJlIGVxdWFsLlxyXG4gICAgICBjb3JuZXJUeXBlU3RyaW5nID0gYWRqYWNlbnRFcXVhbFZlcnRleFBhaXJzLmxlbmd0aCA9PT0gNCA/IGFsbFN0cmluZ1Byb3BlcnR5IDogb3Bwb3NpdGVTdHJpbmdQcm9wZXJ0eTtcclxuICAgICAgYW5nbGVFcXVhbGl0eVN0cmluZyA9IGFkamFjZW50RXF1YWxWZXJ0ZXhQYWlycy5sZW5ndGggPT09IDQgPyByaWdodEFuZ2xlc1N0cmluZ1Byb3BlcnR5IDogZXF1YWxTdHJpbmdQcm9wZXJ0eTtcclxuXHJcbiAgICAgIC8vIGlmIGFsbCBhZGphY2VudCBzaWRlcyBhcmUgZXF1YWwgaW4gbGVuZ3RoLCBhbGwgc2lkZXMgYXJlIGVxdWFsLCBvdGhlcndpc2Ugb25seSBvcHBvc2l0ZSBzaWRlcyBhcmUgZXF1YWxcclxuICAgICAgc2lkZVR5cGVTdHJpbmcgPSBhZGphY2VudEVxdWFsU2lkZVBhaXJzLmxlbmd0aCA9PT0gNCA/IGFsbFN0cmluZ1Byb3BlcnR5IDogb3Bwb3NpdGVTdHJpbmdQcm9wZXJ0eTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBvcHBvc2l0ZUVxdWFsVmVydGV4UGFpcnMgPSB0aGlzLnNoYXBlTW9kZWwub3Bwb3NpdGVFcXVhbFZlcnRleFBhaXJzUHJvcGVydHkudmFsdWU7XHJcbiAgICAgIGNvbnN0IG9wcG9zaXRlRXF1YWxTaWRlUGFpcnMgPSB0aGlzLnNoYXBlTW9kZWwub3Bwb3NpdGVFcXVhbFNpZGVQYWlyc1Byb3BlcnR5LnZhbHVlO1xyXG5cclxuICAgICAgY29ybmVyVHlwZVN0cmluZyA9IGFkamFjZW50RXF1YWxWZXJ0ZXhQYWlycy5sZW5ndGggPT09IDIgPyBwYWlyc09mQWRqYWNlbnRTdHJpbmdQcm9wZXJ0eSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBhZGphY2VudEVxdWFsVmVydGV4UGFpcnMubGVuZ3RoID09PSAxID8gb25lUGFpck9mQWRqYWNlbnRTdHJpbmdQcm9wZXJ0eSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBvcHBvc2l0ZUVxdWFsVmVydGV4UGFpcnMubGVuZ3RoID09PSAxID8gb25lUGFpck9mT3Bwb3NpdGVTdHJpbmdQcm9wZXJ0eSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBub1N0cmluZ1N0cmluZ1Byb3BlcnR5O1xyXG5cclxuICAgICAgYW5nbGVFcXVhbGl0eVN0cmluZyA9IGFkamFjZW50RXF1YWxWZXJ0ZXhQYWlycy5sZW5ndGggPT09IDEgJiYgdGhpcy5zaGFwZU1vZGVsLmlzSW50ZXJBbmdsZUVxdWFsVG9PdGhlciggYWRqYWNlbnRFcXVhbFZlcnRleFBhaXJzWyAwIF0uY29tcG9uZW50MS5hbmdsZVByb3BlcnR5LnZhbHVlISwgTWF0aC5QSSAvIDIgKSA/IHJpZ2h0QW5nbGVzU3RyaW5nUHJvcGVydHkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Bwb3NpdGVFcXVhbFZlcnRleFBhaXJzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLnNoYXBlTW9kZWwuaXNJbnRlckFuZ2xlRXF1YWxUb090aGVyKCBvcHBvc2l0ZUVxdWFsVmVydGV4UGFpcnNbIDAgXS5jb21wb25lbnQxLmFuZ2xlUHJvcGVydHkudmFsdWUhLCBNYXRoLlBJIC8gMiApID8gcmlnaHRBbmdsZXNTdHJpbmdQcm9wZXJ0eSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHR3byBwYWlycyBvZiBhZGphY2VudCBhbmdsZXMgZXhpc3QgYnV0IHdlIGFyZSBub3QgcGFyYWxsZWxvZ3JhbSwgYWxsIGNhbm5vdCBiZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByaWdodCBhbmdsZXMuIE9SLCBubyBhbmdsZXMgYXJlIGVxdWFsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1YWxTdHJpbmdQcm9wZXJ0eTtcclxuXHJcbiAgICAgIHNpZGVUeXBlU3RyaW5nID0gYWRqYWNlbnRFcXVhbFNpZGVQYWlycy5sZW5ndGggPT09IDIgPyBwYWlyc09mQWRqYWNlbnRTdHJpbmdQcm9wZXJ0eSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRFcXVhbFNpZGVQYWlycy5sZW5ndGggPT09IDEgPyBvbmVQYWlyT2ZBZGphY2VudFN0cmluZ1Byb3BlcnR5IDpcclxuICAgICAgICAgICAgICAgICAgICAgICBvcHBvc2l0ZUVxdWFsU2lkZVBhaXJzLmxlbmd0aCA9PT0gMSA/IG9uZVBhaXJPZk9wcG9zaXRlU3RyaW5nUHJvcGVydHkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgIG5vU3RyaW5nU3RyaW5nUHJvcGVydHk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFN0cmluZ1V0aWxzLmZpbGxJbiggZmlyc3REZXRhaWxzU3RhdGVtZW50UGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIGNvcm5lclR5cGU6IGNvcm5lclR5cGVTdHJpbmcsXHJcbiAgICAgIGFuZ2xlRXF1YWxpdHk6IGFuZ2xlRXF1YWxpdHlTdHJpbmcsXHJcbiAgICAgIHNpZGVUeXBlOiBzaWRlVHlwZVN0cmluZ1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgdGhpcmQgXCJkZXRhaWxzXCIgc3RhdGVtZW50IGZvciB0aGUgVm9pY2luZyB0b29sYmFyLiBUaGlzIGlzIGEgcXVhbGl0YXRpdmUgZGVzY3JpcHRpb24gb2YgdGhlIGN1cnJlbnRcclxuICAgKiBzaGFwZSwgdGhhdCBkb2VzIG5vdCBpbmNsdWRlIHNoYXBlIG5hbWUuXHJcbiAgICovXHJcbiAgcHVibGljIGdldFRoaXJkRGV0YWlsc1N0YXRlbWVudCgpOiBOdWxsYWJsZVF1YWRyaWxhdGVyYWxTdHJpbmdUeXBlIHtcclxuICAgIGNvbnN0IHNoYXBlTmFtZSA9IHRoaXMuc2hhcGVNb2RlbC5zaGFwZU5hbWVQcm9wZXJ0eS52YWx1ZTtcclxuXHJcbiAgICBsZXQgZGVzY3JpcHRpb24gPSBudWxsO1xyXG4gICAgaWYgKCBzaGFwZU5hbWUgPT09IE5hbWVkUXVhZHJpbGF0ZXJhbC5TUVVBUkUgfHxcclxuICAgICAgICAgc2hhcGVOYW1lID09PSBOYW1lZFF1YWRyaWxhdGVyYWwuUkhPTUJVUyB8fFxyXG4gICAgICAgICBzaGFwZU5hbWUgPT09IE5hbWVkUXVhZHJpbGF0ZXJhbC5SRUNUQU5HTEUgKSB7XHJcblxyXG4gICAgICAvLyB0aGVzZSBzaGFwZXMgc2tpcCB0aGUgc2hhcGUgZGV0YWlscyBiZWNhdXNlIGl0IGlzIGR1cGxpY2F0ZWQgd2l0aCBvdGhlciBkZXRhaWxzIGNvbnRlbnRcclxuICAgICAgZGVzY3JpcHRpb24gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIHNoYXBlTmFtZSA9PT0gTmFtZWRRdWFkcmlsYXRlcmFsLlBBUkFMTEVMT0dSQU0gKSB7XHJcbiAgICAgIGRlc2NyaXB0aW9uID0gdGhpcy5nZXRQYXJhbGxlbG9ncmFtRGV0YWlsc1N0cmluZygpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIHNoYXBlTmFtZSA9PT0gTmFtZWRRdWFkcmlsYXRlcmFsLklTT1NDRUxFU19UUkFQRVpPSUQgKSB7XHJcblxyXG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCB0aGlzLnNoYXBlTW9kZWwub3Bwb3NpdGVFcXVhbFNpZGVQYWlyc1Byb3BlcnR5LnZhbHVlLmxlbmd0aCA9PT0gMSxcclxuICAgICAgICAnQW4gSXNvc2NlbGVzIFRyYXBlem9pZCBzaG91bGQgaGF2ZSBvbmUgcGFpciBvZiBzaWRlcyBlcXVhbCBpbiBsZW5ndGgnICk7XHJcbiAgICAgIGNvbnN0IG9wcG9zaXRlRXF1YWxTaWRlUGFpciA9IHRoaXMuc2hhcGVNb2RlbC5vcHBvc2l0ZUVxdWFsU2lkZVBhaXJzUHJvcGVydHkudmFsdWVbIDAgXTtcclxuXHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIHRoaXMuc2hhcGVNb2RlbC5wYXJhbGxlbFNpZGVQYWlyc1Byb3BlcnR5LnZhbHVlLmxlbmd0aCA9PT0gMSxcclxuICAgICAgICAnQSBUcmFwZXpvaWQgc2hvdWxkIGhhdmUgb25lIHBhcmFsbGVsIHNpZGUgcGFpci4nICk7XHJcbiAgICAgIGNvbnN0IHBhcmFsbGVsU2lkZVBhaXIgPSB0aGlzLnNoYXBlTW9kZWwucGFyYWxsZWxTaWRlUGFpcnNQcm9wZXJ0eS52YWx1ZVsgMCBdO1xyXG5cclxuICAgICAgZGVzY3JpcHRpb24gPSB0aGlzLmdldElzb3NjZWxlc1RyYXBlem9pZERldGFpbHNTdHJpbmcoXHJcbiAgICAgICAgb3Bwb3NpdGVFcXVhbFNpZGVQYWlyLFxyXG4gICAgICAgIHBhcmFsbGVsU2lkZVBhaXJcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBzaGFwZU5hbWUgPT09IE5hbWVkUXVhZHJpbGF0ZXJhbC5UUkFQRVpPSUQgKSB7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIHRoaXMuc2hhcGVNb2RlbC5wYXJhbGxlbFNpZGVQYWlyc1Byb3BlcnR5LnZhbHVlLmxlbmd0aCA9PT0gMSwgJ0EgVHJhcGV6b2lkIHNob3VsZCBoYXZlIG9uZSBwYXJhbGxlbCBzaWRlIHBhaXInICk7XHJcbiAgICAgIGNvbnN0IHBhcmFsbGVsU2lkZVBhaXIgPSB0aGlzLnNoYXBlTW9kZWwucGFyYWxsZWxTaWRlUGFpcnNQcm9wZXJ0eS52YWx1ZVsgMCBdO1xyXG4gICAgICBkZXNjcmlwdGlvbiA9IHRoaXMuZ2V0VHJhcGV6b2lkRGV0YWlsc1N0cmluZyggcGFyYWxsZWxTaWRlUGFpciApO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIHNoYXBlTmFtZSA9PT0gTmFtZWRRdWFkcmlsYXRlcmFsLktJVEUgKSB7XHJcblxyXG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCB0aGlzLnNoYXBlTW9kZWwub3Bwb3NpdGVFcXVhbFZlcnRleFBhaXJzUHJvcGVydHkudmFsdWUubGVuZ3RoID09PSAxLFxyXG4gICAgICAgICdBIGtpdGUgc2hvdWxkIGhhdmUgb25seSBvbmUgcGFpciBvZiBvcHBvc2l0ZSBlcXVhbCB2ZXJ0aWNlcycgKTtcclxuICAgICAgY29uc3Qgb3Bwb3NpdGVFcXVhbFZlcnRleFBhaXIgPSB0aGlzLnNoYXBlTW9kZWwub3Bwb3NpdGVFcXVhbFZlcnRleFBhaXJzUHJvcGVydHkudmFsdWVbIDAgXTtcclxuICAgICAgZGVzY3JpcHRpb24gPSB0aGlzLmdldEtpdGVEZXRhaWxzU3RyaW5nKCBvcHBvc2l0ZUVxdWFsVmVydGV4UGFpciApO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIHNoYXBlTmFtZSA9PT0gTmFtZWRRdWFkcmlsYXRlcmFsLkRBUlQgKSB7XHJcbiAgICAgIGRlc2NyaXB0aW9uID0gdGhpcy5nZXREYXJ0RGV0YWlsc1N0cmluZygpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIHNoYXBlTmFtZSA9PT0gTmFtZWRRdWFkcmlsYXRlcmFsLkNPTkNBVkVfUVVBRFJJTEFURVJBTCApIHtcclxuICAgICAgZGVzY3JpcHRpb24gPSB0aGlzLmdldENvbmNhdmVRdWFkcmlsYXRlcmFsRGV0YWlsc1N0cmluZygpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIHNoYXBlTmFtZSA9PT0gTmFtZWRRdWFkcmlsYXRlcmFsLkNPTlZFWF9RVUFEUklMQVRFUkFMICkge1xyXG4gICAgICBkZXNjcmlwdGlvbiA9IHRoaXMuZ2V0Q29udmV4UXVhZHJpbGF0ZXJhbERldGFpbHNTdHJpbmcoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBzaGFwZU5hbWUgPT09IE5hbWVkUXVhZHJpbGF0ZXJhbC5UUklBTkdMRSApIHtcclxuICAgICAgZGVzY3JpcHRpb24gPSB0aGlzLmdldFRyaWFuZ2xlRGV0YWlsc1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkZXNjcmlwdGlvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBmb3VydGggZGVzY3JpcHRpb24gb2YgdGhlIFwiZGV0YWlsc1wiIGJ1dHRvbiBpbiB0aGUgVm9pY2luZyB0b29sYmFyLiBSZXR1cm5zIGEgZGVzY3JpcHRpb24gb2YgdGhlIGxvbmdlc3QgYW5kXHJcbiAgICogc2hvcnRlc3Qgc2lkZXMgb2YgdGhlIHNoYXBlLiBPbmx5IHJldHVybnMgYSBzdHJpbmcgaWYgc2hhcGUgXCJtYXJrZXJzXCIgYXJlIGRpc3BsYXllZCAtIG90aGVyd2lzZSB0aGlzIG1vcmVcclxuICAgKiBxdWFudGl0YXRpdmUgY29udGVudCBpcyBza2lwcGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRGb3VydGhEZXRhaWxzU3RhdGVtZW50KCk6IG51bGwgfCBzdHJpbmcge1xyXG4gICAgbGV0IGRlc2NyaXB0aW9uOiBudWxsIHwgc3RyaW5nID0gbnVsbDtcclxuXHJcbiAgICAvLyBUaGlzIGRlc2NyaXB0aW9uIGlzIG9ubHkgaW5jbHVkZWQgaWYgbWFya2VycyBhcmUgdmlzaWJsZVxyXG4gICAgaWYgKCAhdGhpcy5tYXJrZXJzVmlzaWJsZVByb3BlcnR5LnZhbHVlICkge1xyXG4gICAgICByZXR1cm4gZGVzY3JpcHRpb247XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbG9uZ2VzdFNpZGVEZXNjcmliZXIgPSBfLm1heEJ5KCB0aGlzLnNpZGVEZXNjcmliZXJzLCBzaWRlRGVzY3JpYmVyID0+IHNpZGVEZXNjcmliZXIuc2lkZS5sZW5ndGhQcm9wZXJ0eS52YWx1ZSApITtcclxuICAgIGNvbnN0IHNob3J0ZXN0U2lkZURlc2NyaWJlciA9IF8ubWluQnkoIHRoaXMuc2lkZURlc2NyaWJlcnMsIHNpZGVEZXNjcmliZXIgPT4gc2lkZURlc2NyaWJlci5zaWRlLmxlbmd0aFByb3BlcnR5LnZhbHVlICkhO1xyXG4gICAgY29uc3QgbG9uZ2VzdFNpZGUgPSBfLm1heEJ5KCB0aGlzLnNoYXBlTW9kZWwuc2lkZXMsIHNpZGUgPT4gc2lkZS5sZW5ndGhQcm9wZXJ0eS52YWx1ZSApITtcclxuICAgIGNvbnN0IHNob3J0ZXN0U2lkZSA9IF8ubWluQnkoIHRoaXMuc2hhcGVNb2RlbC5zaWRlcywgc2lkZSA9PiBzaWRlLmxlbmd0aFByb3BlcnR5LnZhbHVlICkhO1xyXG5cclxuICAgIGNvbnN0IGxvbmdlc3RTaWRlRGVzY3JpcHRpb24gPSBsb25nZXN0U2lkZURlc2NyaWJlci5nZXRTaWRlVW5pdHNEZXNjcmlwdGlvbigpO1xyXG4gICAgY29uc3Qgc2hvcnRlc3RTaWRlRGVzY3JpcHRpb24gPSBzaG9ydGVzdFNpZGVEZXNjcmliZXIuZ2V0U2lkZVVuaXRzRGVzY3JpcHRpb24oKTtcclxuXHJcbiAgICBpZiAoIHRoaXMuc2hhcGVNb2RlbC5nZXRBcmVBbGxMZW5ndGhzRXF1YWwoKSApIHtcclxuXHJcbiAgICAgIC8vIEFsbCBzaWRlcyB0aGUgc2FtZSBsZW5ndGgsIGNvbWJpbmUgaW50byBhIHNob3J0ZXIgc3RyaW5nXHJcbiAgICAgIGRlc2NyaXB0aW9uID0gU3RyaW5nVXRpbHMuZmlsbEluKCBzaWRlc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgZGVzY3JpcHRpb246IGxvbmdlc3RTaWRlRGVzY3JpcHRpb25cclxuICAgICAgfSApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcblxyXG4gICAgICBsZXQgbG9uZ2VzdFN1YlN0cmluZztcclxuICAgICAgbGV0IHNob3J0ZXN0U3ViU3RyaW5nO1xyXG4gICAgICBpZiAoIF8uc29tZSggdGhpcy5zaGFwZU1vZGVsLm9wcG9zaXRlRXF1YWxTaWRlUGFpcnNQcm9wZXJ0eS52YWx1ZSwgb3Bwb3NpdGVFcXVhbFNpZGVQYWlyID0+IG9wcG9zaXRlRXF1YWxTaWRlUGFpci5pbmNsdWRlc0NvbXBvbmVudCggbG9uZ2VzdFNpZGUgKSApIHx8XHJcbiAgICAgICAgICAgXy5zb21lKCB0aGlzLnNoYXBlTW9kZWwuYWRqYWNlbnRFcXVhbFNpZGVQYWlyc1Byb3BlcnR5LnZhbHVlLCBhZGphY2VudEVxdWFsU2lkZVBhaXIgPT4gYWRqYWNlbnRFcXVhbFNpZGVQYWlyLmluY2x1ZGVzQ29tcG9uZW50KCBsb25nZXN0U2lkZSApICkgKSB7XHJcblxyXG4gICAgICAgIC8vIG11bHRpcGxlIHNpZGVzIG9mIHRoZSBzYW1lIFwibG9uZ2VzdFwiIGxlbmd0aCwgcGx1cmFsaXplXHJcbiAgICAgICAgbG9uZ2VzdFN1YlN0cmluZyA9IFN0cmluZ1V0aWxzLmZpbGxJbiggbG9uZ2VzdFNpZGVzRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBsb25nZXN0U2lkZURlc2NyaXB0aW9uXHJcbiAgICAgICAgfSApO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGxvbmdlc3RTdWJTdHJpbmcgPSBTdHJpbmdVdGlscy5maWxsSW4oIGxvbmdlc3RTaWRlRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBsb25nZXN0U2lkZURlc2NyaXB0aW9uXHJcbiAgICAgICAgfSApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIF8uc29tZSggdGhpcy5zaGFwZU1vZGVsLm9wcG9zaXRlRXF1YWxTaWRlUGFpcnNQcm9wZXJ0eS52YWx1ZSwgb3Bwb3NpdGVFcXVhbFNpZGVQYWlyID0+IG9wcG9zaXRlRXF1YWxTaWRlUGFpci5pbmNsdWRlc0NvbXBvbmVudCggc2hvcnRlc3RTaWRlICkgKSB8fFxyXG4gICAgICAgICAgIF8uc29tZSggdGhpcy5zaGFwZU1vZGVsLmFkamFjZW50RXF1YWxTaWRlUGFpcnNQcm9wZXJ0eS52YWx1ZSwgYWRqYWNlbnRFcXVhbFNpZGVQYWlyID0+IGFkamFjZW50RXF1YWxTaWRlUGFpci5pbmNsdWRlc0NvbXBvbmVudCggc2hvcnRlc3RTaWRlICkgKSApIHtcclxuXHJcbiAgICAgICAgLy8gbXVsdGlwbGUgc2lkZXMgb2YgdGhlIHNhbWUgXCJsb25nZXN0XCIgbGVuZ3RoLCBwbHVyYWxpemVcclxuICAgICAgICBzaG9ydGVzdFN1YlN0cmluZyA9IFN0cmluZ1V0aWxzLmZpbGxJbiggc2hvcnRlc3RTaWRlc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc2hvcnRlc3RTaWRlRGVzY3JpcHRpb25cclxuICAgICAgICB9ICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgc2hvcnRlc3RTdWJTdHJpbmcgPSBTdHJpbmdVdGlscy5maWxsSW4oIHNob3J0ZXN0U2lkZURlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc2hvcnRlc3RTaWRlRGVzY3JpcHRpb25cclxuICAgICAgICB9ICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRlc2NyaXB0aW9uID0gU3RyaW5nVXRpbHMuZmlsbEluKCBzaWRlTGVuZ3RoRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICBsb25nZXN0OiBsb25nZXN0U3ViU3RyaW5nLFxyXG4gICAgICAgIHNob3J0ZXN0OiBzaG9ydGVzdFN1YlN0cmluZ1xyXG4gICAgICB9ICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGZpZnRoIHN0YXRlbWVudCBvZiB0aGUgXCJkZXRhaWxzXCIgYnV0dG9uIGluIHRoZSBWb2ljaW5nIHRvb2xiYXIuIFJldHVybnMgYSBkZXNjcmlwdGlvbiBvZiB0aGUgd2lkZXN0IGFuZFxyXG4gICAqIHNtYWxsZXN0IGFuZ2xlcyBvZiB0aGUgc2hhcGUuIE9ubHkgcmV0dXJucyBhIHN0cmluZyBpZiBjb3JuZXIgZ3VpZGVzIGFyZSBkaXNwbGF5ZWQgLSBvdGhlcndpc2UgdGhpcyBtb3JlXHJcbiAgICogcXVhbnRpdGF0aXZlIGNvbnRlbnQgaXMgc2tpcHBlZC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0RmlmdGhEZXRhaWxzU3RhdGVtZW50KCk6IE51bGxhYmxlUXVhZHJpbGF0ZXJhbFN0cmluZ1R5cGUge1xyXG4gICAgbGV0IGRlc2NyaXB0aW9uOiBOdWxsYWJsZVF1YWRyaWxhdGVyYWxTdHJpbmdUeXBlID0gbnVsbDtcclxuXHJcbiAgICBpZiAoICF0aGlzLm1hcmtlcnNWaXNpYmxlUHJvcGVydHkudmFsdWUgKSB7XHJcbiAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCB3aWRlc3RWZXJ0ZXggPSBfLm1heEJ5KCB0aGlzLnNoYXBlTW9kZWwudmVydGljZXMsIHZlcnRleCA9PiB2ZXJ0ZXguYW5nbGVQcm9wZXJ0eS52YWx1ZSApITtcclxuICAgICAgY29uc3Qgc21hbGxlc3RWZXJ0ZXggPSBfLm1pbkJ5KCB0aGlzLnNoYXBlTW9kZWwudmVydGljZXMsIHZlcnRleCA9PiB2ZXJ0ZXguYW5nbGVQcm9wZXJ0eS52YWx1ZSApITtcclxuXHJcbiAgICAgIGNvbnN0IHdpZGVzdFZlcnRleERlc2NyaXB0aW9uID0gdGhpcy5nZXREZXRhaWxzV2VkZ2VzRGVzY3JpcHRpb24oIHdpZGVzdFZlcnRleC5hbmdsZVByb3BlcnR5LnZhbHVlISApO1xyXG4gICAgICBjb25zdCBzbWFsbGVzdFZlcnRleERlc2NyaXB0aW9uID0gdGhpcy5nZXREZXRhaWxzV2VkZ2VzRGVzY3JpcHRpb24oIHNtYWxsZXN0VmVydGV4LmFuZ2xlUHJvcGVydHkudmFsdWUhICk7XHJcblxyXG4gICAgICBpZiAoIHRoaXMuc2hhcGVNb2RlbC5nZXRBcmVBbGxBbmdsZXNSaWdodCgpICkge1xyXG5cclxuICAgICAgICAvLyBBbGwgY29ybmVycyB0aGUgc2FtZSBhbmdsZSwgY29tYmluZSBpbnRvIGEgc2hvcnRlciBzdHJpbmdcclxuICAgICAgICBkZXNjcmlwdGlvbiA9IGNvcm5lcnNSaWdodERlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgIGxldCBsb25nZXN0U3ViU3RyaW5nO1xyXG4gICAgICAgIGxldCBzaG9ydGVzdFN1YlN0cmluZztcclxuICAgICAgICBpZiAoIF8uc29tZSggdGhpcy5zaGFwZU1vZGVsLm9wcG9zaXRlRXF1YWxWZXJ0ZXhQYWlyc1Byb3BlcnR5LnZhbHVlLCBvcHBvc2l0ZUVRdWFsVmVydGV4UGFpciA9PiBvcHBvc2l0ZUVRdWFsVmVydGV4UGFpci5pbmNsdWRlc0NvbXBvbmVudCggd2lkZXN0VmVydGV4ICkgKSB8fFxyXG4gICAgICAgICAgICAgXy5zb21lKCB0aGlzLnNoYXBlTW9kZWwuYWRqYWNlbnRFcXVhbFZlcnRleFBhaXJzUHJvcGVydHkudmFsdWUsIGFkamFjZW50RXF1YWxWZXJ0ZXhQYWlyID0+IGFkamFjZW50RXF1YWxWZXJ0ZXhQYWlyLmluY2x1ZGVzQ29tcG9uZW50KCB3aWRlc3RWZXJ0ZXggKSApICkge1xyXG5cclxuICAgICAgICAgIC8vIG11bHRpcGxlIHZlcnRpY2VzIG9mIHRoZSBzYW1lIFwid2lkZXN0XCIgYW5nbGUsIHBsdXJhbGl6ZVxyXG4gICAgICAgICAgbG9uZ2VzdFN1YlN0cmluZyA9IFN0cmluZ1V0aWxzLmZpbGxJbiggd2lkZXN0Q29ybmVyc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB3aWRlc3RWZXJ0ZXhEZXNjcmlwdGlvblxyXG4gICAgICAgICAgfSApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGxvbmdlc3RTdWJTdHJpbmcgPSBTdHJpbmdVdGlscy5maWxsSW4oIHdpZGVzdENvcm5lckRlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB3aWRlc3RWZXJ0ZXhEZXNjcmlwdGlvblxyXG4gICAgICAgICAgfSApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCBfLnNvbWUoIHRoaXMuc2hhcGVNb2RlbC5vcHBvc2l0ZUVxdWFsVmVydGV4UGFpcnNQcm9wZXJ0eS52YWx1ZSwgb3Bwb3NpdGVFcXVhbFZlcnRleFBhaXIgPT4gb3Bwb3NpdGVFcXVhbFZlcnRleFBhaXIuaW5jbHVkZXNDb21wb25lbnQoIHNtYWxsZXN0VmVydGV4ICkgKSB8fFxyXG4gICAgICAgICAgICAgXy5zb21lKCB0aGlzLnNoYXBlTW9kZWwuYWRqYWNlbnRFcXVhbFZlcnRleFBhaXJzUHJvcGVydHkudmFsdWUsIGFkamFjZW50RXF1YWxWZXJ0ZXhQYWlyID0+IGFkamFjZW50RXF1YWxWZXJ0ZXhQYWlyLmluY2x1ZGVzQ29tcG9uZW50KCBzbWFsbGVzdFZlcnRleCApICkgKSB7XHJcblxyXG4gICAgICAgICAgLy8gbXVsdGlwbGUgc2lkZXMgb2YgdGhlIHNhbWUgXCJsb25nZXN0XCIgbGVuZ3RoLCBwbHVyYWxpemVcclxuICAgICAgICAgIHNob3J0ZXN0U3ViU3RyaW5nID0gU3RyaW5nVXRpbHMuZmlsbEluKCBzbWFsbGVzdENvcm5lcnNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogc21hbGxlc3RWZXJ0ZXhEZXNjcmlwdGlvblxyXG4gICAgICAgICAgfSApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHNob3J0ZXN0U3ViU3RyaW5nID0gU3RyaW5nVXRpbHMuZmlsbEluKCBzbWFsbGVzdENvcm5lckRlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzbWFsbGVzdFZlcnRleERlc2NyaXB0aW9uXHJcbiAgICAgICAgICB9ICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZXNjcmlwdGlvbiA9IFN0cmluZ1V0aWxzLmZpbGxJbiggY29ybmVyc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgICBsb25nZXN0OiBsb25nZXN0U3ViU3RyaW5nLFxyXG4gICAgICAgICAgc2hvcnRlc3Q6IHNob3J0ZXN0U3ViU3RyaW5nXHJcbiAgICAgICAgfSApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZGVzY3JpcHRpb247XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGb3IgdGhlIGRldGFpbHMgYnV0dG9uLCB3ZSBhcmUgZ29pbmcgdG8gZGVzY3JpYmUgJ2ZsYXQnIGFuZ2xlcyBhcyB0aGUgbnVtYmVyIG9mIHdlZGdlcyBhcyBhIHNwZWNpYWwgY2FzZSBiZWNhdXNlXHJcbiAgICogaW4gZW5nbGlzaCBpdCBzb3VuZHMgbmljZXIgd2hlbiBjb21iaW5lZCB3aXRoIG90aGVyIGRldGFpbHMgY29udGVudC5cclxuICAgKi9cclxuICBwcml2YXRlIGdldERldGFpbHNXZWRnZXNEZXNjcmlwdGlvbiggYW5nbGU6IG51bWJlciApOiBOdWxsYWJsZVF1YWRyaWxhdGVyYWxTdHJpbmdUeXBlIHtcclxuICAgIGxldCBkZXNjcmlwdGlvblN0cmluZztcclxuICAgIGlmICggdGhpcy5zaGFwZU1vZGVsLmlzRmxhdEFuZ2xlKCBhbmdsZSApICkge1xyXG4gICAgICBkZXNjcmlwdGlvblN0cmluZyA9IFN0cmluZ1V0aWxzLmZpbGxJbiggbnVtYmVyT2ZXZWRnZXNQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICBudW1iZXJPZldlZGdlczogNlxyXG4gICAgICB9ICk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZGVzY3JpcHRpb25TdHJpbmcgPSBRdWFkcmlsYXRlcmFsVmVydGV4RGVzY3JpYmVyLmdldFdlZGdlc0Rlc2NyaXB0aW9uKCBhbmdsZSwgdGhpcy5zaGFwZU1vZGVsICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlc2NyaXB0aW9uU3RyaW5nO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIHF1YWxpdGF0aXZlIGRlc2NyaXB0aW9uIGZvciBhIHNxdWFyZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0U3F1YXJlRGV0YWlsc1N0cmluZygpOiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+IHtcclxuICAgIHJldHVybiBhbGxSaWdodEFuZ2xlc0FsbFNpZGVzRXF1YWxTdHJpbmdQcm9wZXJ0eTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBxdWFsaXRhdGl2ZSBkZXFjcmlwdGlvbiBmb3IgYSByZWN0YW5nbGUuXHJcbiAgICovXHJcbiAgcHVibGljIGdldFJlY3RhbmdsZURldGFpbHNTdHJpbmcoKTogVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gYWxsUmlnaHRBbmdsZXNTdHJpbmdQcm9wZXJ0eTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBxdWFsaXRhdGl2ZSBkZXNjcmlwdGlvbiBmb3IgYSByaG9tYnVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRSaG9tYnVzRGV0YWlsc1N0cmluZygpOiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+IHtcclxuICAgIHJldHVybiBhbGxTaWRlc0VxdWFsU3RyaW5nUHJvcGVydHk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgcXVhbGl0YXRpdmUgZGVzY3JpcHRpb24gZm9yIGEgcGFyYWxsZWxvZ3JhbS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0UGFyYWxsZWxvZ3JhbURldGFpbHNTdHJpbmcoKTogVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gb3Bwb3NpdGVTaWRlc0luUGFyYWxsZWxTdHJpbmdQcm9wZXJ0eTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBxdWFsaXRhdGl2ZSBkZXNjcmlwdGlvbiBmb3IgYSB0cmFwZXpvaWQuXHJcbiAgICovXHJcbiAgcHVibGljIGdldFRyYXBlem9pZERldGFpbHNTdHJpbmcoIHBhcmFsbGVsU2lkZVBhaXI6IFF1YWRyaWxhdGVyYWxTaWRlUGFpciApOiBzdHJpbmcge1xyXG5cclxuICAgIGxldCBmaXJzdFNpZGVMYWJlbDogUXVhZHJpbGF0ZXJhbFN0cmluZ1R5cGU7XHJcbiAgICBsZXQgc2Vjb25kU2lkZUxhYmVsOiBRdWFkcmlsYXRlcmFsU3RyaW5nVHlwZTtcclxuXHJcbiAgICBpZiAoIHBhcmFsbGVsU2lkZVBhaXIuaW5jbHVkZXNDb21wb25lbnQoIHRoaXMuc2hhcGVNb2RlbC5zaWRlQUIgKSApIHtcclxuICAgICAgZmlyc3RTaWRlTGFiZWwgPSBRdWFkcmlsYXRlcmFsRGVzY3JpYmVyLmdldFNpZGVMYWJlbFN0cmluZyggUXVhZHJpbGF0ZXJhbFNpZGVMYWJlbC5TSURFX0FCICk7XHJcbiAgICAgIHNlY29uZFNpZGVMYWJlbCA9IFF1YWRyaWxhdGVyYWxEZXNjcmliZXIuZ2V0U2lkZUxhYmVsU3RyaW5nKCBRdWFkcmlsYXRlcmFsU2lkZUxhYmVsLlNJREVfQ0QgKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBmaXJzdFNpZGVMYWJlbCA9IFF1YWRyaWxhdGVyYWxEZXNjcmliZXIuZ2V0U2lkZUxhYmVsU3RyaW5nKCBRdWFkcmlsYXRlcmFsU2lkZUxhYmVsLlNJREVfQkMgKTtcclxuICAgICAgc2Vjb25kU2lkZUxhYmVsID0gUXVhZHJpbGF0ZXJhbERlc2NyaWJlci5nZXRTaWRlTGFiZWxTdHJpbmcoIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwuU0lERV9EQSApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBTdHJpbmdVdGlscy5maWxsSW4oIHRyYXBlem9pZERldGFpbHNQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgZmlyc3RTaWRlOiBmaXJzdFNpZGVMYWJlbCxcclxuICAgICAgc2Vjb25kU2lkZTogc2Vjb25kU2lkZUxhYmVsXHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgcXVhbGl0YXRpdmUgZGVzY3JpcHRpb24gZm9yIGFuIGlzb3NjZWxlcyB0cmFwZXpvaWQuIEluZGljYXRlcyB3aGljaCBvcHBvc2l0ZS9wYXJhbGxlbCBzaWRlXHJcbiAgICogcGFpcnMgYXJlIGVxdWFsLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRJc29zY2VsZXNUcmFwZXpvaWREZXRhaWxzU3RyaW5nKCBvcHBvc2l0ZUVxdWFsU2lkZVBhaXI6IFF1YWRyaWxhdGVyYWxTaWRlUGFpciwgcGFyYWxsZWxTaWRlUGFpcjogUXVhZHJpbGF0ZXJhbFNpZGVQYWlyICk6IHN0cmluZyB7XHJcbiAgICBsZXQgZXF1YWxGaXJzdFNpZGVTdHJpbmc6IFF1YWRyaWxhdGVyYWxTdHJpbmdUeXBlO1xyXG4gICAgbGV0IGVxdWFsU2Vjb25kU2lkZVN0cmluZzogUXVhZHJpbGF0ZXJhbFN0cmluZ1R5cGU7XHJcbiAgICBsZXQgcGFyYWxsZWxGaXJzdFNpZGVTdHJpbmc6IFF1YWRyaWxhdGVyYWxTdHJpbmdUeXBlO1xyXG4gICAgbGV0IHBhcmFsbGVsU2Vjb25kU2lkZVN0cmluZzogUXVhZHJpbGF0ZXJhbFN0cmluZ1R5cGU7XHJcblxyXG4gICAgaWYgKCBvcHBvc2l0ZUVxdWFsU2lkZVBhaXIuaW5jbHVkZXNDb21wb25lbnQoIHRoaXMuc2hhcGVNb2RlbC5zaWRlQUIgKSApIHtcclxuXHJcbiAgICAgIC8vIHRvcCBzaWRlcyBhbmQgYm90dG9tIHNpZGUgYXJlIGVxdWFsIGluIGxlbmd0aCwgbGVmdCBhbmQgcmlnaHQgc2lkZXMgYXJlIHBhcmFsbGVsXHJcbiAgICAgIGVxdWFsRmlyc3RTaWRlU3RyaW5nID0gUXVhZHJpbGF0ZXJhbERlc2NyaWJlci5nZXRTaWRlTGFiZWxTdHJpbmcoIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwuU0lERV9BQiApO1xyXG4gICAgICBlcXVhbFNlY29uZFNpZGVTdHJpbmcgPSBRdWFkcmlsYXRlcmFsRGVzY3JpYmVyLmdldFNpZGVMYWJlbFN0cmluZyggUXVhZHJpbGF0ZXJhbFNpZGVMYWJlbC5TSURFX0NEICk7XHJcbiAgICAgIHBhcmFsbGVsRmlyc3RTaWRlU3RyaW5nID0gUXVhZHJpbGF0ZXJhbERlc2NyaWJlci5nZXRTaWRlTGFiZWxTdHJpbmcoIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwuU0lERV9EQSApO1xyXG4gICAgICBwYXJhbGxlbFNlY29uZFNpZGVTdHJpbmcgPSBRdWFkcmlsYXRlcmFsRGVzY3JpYmVyLmdldFNpZGVMYWJlbFN0cmluZyggUXVhZHJpbGF0ZXJhbFNpZGVMYWJlbC5TSURFX0JDICk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuXHJcbiAgICAgIC8vIGxlZnQgYW5kIHJpZ2h0IHNpZGVzIGFyZSBlcXVhbCBpbiBsZW5ndGgsIHRvcCBhbmQgYm90dG9tIHNpZGVzIGFyZSBwYXJhbGxlbFxyXG4gICAgICBlcXVhbEZpcnN0U2lkZVN0cmluZyA9IFF1YWRyaWxhdGVyYWxEZXNjcmliZXIuZ2V0U2lkZUxhYmVsU3RyaW5nKCBRdWFkcmlsYXRlcmFsU2lkZUxhYmVsLlNJREVfREEgKTtcclxuICAgICAgZXF1YWxTZWNvbmRTaWRlU3RyaW5nID0gUXVhZHJpbGF0ZXJhbERlc2NyaWJlci5nZXRTaWRlTGFiZWxTdHJpbmcoIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwuU0lERV9CQyApO1xyXG4gICAgICBwYXJhbGxlbEZpcnN0U2lkZVN0cmluZyA9IFF1YWRyaWxhdGVyYWxEZXNjcmliZXIuZ2V0U2lkZUxhYmVsU3RyaW5nKCBRdWFkcmlsYXRlcmFsU2lkZUxhYmVsLlNJREVfQUIgKTtcclxuICAgICAgcGFyYWxsZWxTZWNvbmRTaWRlU3RyaW5nID0gUXVhZHJpbGF0ZXJhbERlc2NyaWJlci5nZXRTaWRlTGFiZWxTdHJpbmcoIFF1YWRyaWxhdGVyYWxTaWRlTGFiZWwuU0lERV9DRCApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBTdHJpbmdVdGlscy5maWxsSW4oIGlzb3NjZWxlc1RyYXBlem9pZERldGFpbHNQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgZXF1YWxGaXJzdFNpZGU6IGVxdWFsRmlyc3RTaWRlU3RyaW5nLFxyXG4gICAgICBlcXVhbFNlY29uZFNpZGU6IGVxdWFsU2Vjb25kU2lkZVN0cmluZyxcclxuICAgICAgcGFyYWxsZWxGaXJzdFNpZGU6IHBhcmFsbGVsRmlyc3RTaWRlU3RyaW5nLFxyXG4gICAgICBwYXJhbGxlbFNlY29uZFNpZGU6IHBhcmFsbGVsU2Vjb25kU2lkZVN0cmluZ1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIHF1YWxpdGF0aXZlIGRlc2NyaXB0aW9uIGZvciBhIGtpdGUuXHJcbiAgICogQHBhcmFtIG9wcG9zaXRlRXF1YWxWZXJ0ZXhQYWlyXHJcbiAgICogQHBhcmFtIHBhdHRlcm5TdHJpbmcgLSBTb21lIGNvbnRleHRzIG5lZWQgYSBtb3JlIHZlcmJvc2UgZGVzY3JpcHRpb24gYXJvdW5kIHRoaXMgcGF0dGVybi4gTXVzdCBpbmNsdWRlIHBsYWNlaG9sZGVyc1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgYGZpcnN0Q29ybmVyYCBhbmQgYHNlY29uZENvcm5lcmAuXHJcbiAgICovXHJcbiAgcHVibGljIGdldEtpdGVEZXRhaWxzU3RyaW5nKCBvcHBvc2l0ZUVxdWFsVmVydGV4UGFpcjogUXVhZHJpbGF0ZXJhbFZlcnRleFBhaXIsIHBhdHRlcm5TdHJpbmc6IFRSZWFkT25seVByb3BlcnR5PHN0cmluZz4gPSBraXRlRGV0YWlsc1Nob3J0UGF0dGVyblN0cmluZ1Byb3BlcnR5ICk6IHN0cmluZyB7XHJcbiAgICBsZXQgZmlyc3RDb3JuZXJTdHJpbmdQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPjtcclxuICAgIGxldCBzZWNvbmRDb3JuZXJTdHJpbmdQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPjtcclxuICAgIGlmICggb3Bwb3NpdGVFcXVhbFZlcnRleFBhaXIuaW5jbHVkZXNDb21wb25lbnQoIHRoaXMuc2hhcGVNb2RlbC52ZXJ0ZXhBICkgKSB7XHJcblxyXG4gICAgICAvLyBvcHBvc2l0ZSBlcXVhbCB2ZXJ0aWNlcyBmb3IgdGhlIGtpdGUgYXJlIEEgYW5kIENcclxuICAgICAgZmlyc3RDb3JuZXJTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxEZXNjcmliZXIuZ2V0VmVydGV4TGFiZWxTdHJpbmcoIFF1YWRyaWxhdGVyYWxWZXJ0ZXhMYWJlbC5WRVJURVhfQSApO1xyXG4gICAgICBzZWNvbmRDb3JuZXJTdHJpbmdQcm9wZXJ0eSA9IFF1YWRyaWxhdGVyYWxEZXNjcmliZXIuZ2V0VmVydGV4TGFiZWxTdHJpbmcoIFF1YWRyaWxhdGVyYWxWZXJ0ZXhMYWJlbC5WRVJURVhfQyApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGZpcnN0Q29ybmVyU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsRGVzY3JpYmVyLmdldFZlcnRleExhYmVsU3RyaW5nKCBRdWFkcmlsYXRlcmFsVmVydGV4TGFiZWwuVkVSVEVYX0IgKTtcclxuICAgICAgc2Vjb25kQ29ybmVyU3RyaW5nUHJvcGVydHkgPSBRdWFkcmlsYXRlcmFsRGVzY3JpYmVyLmdldFZlcnRleExhYmVsU3RyaW5nKCBRdWFkcmlsYXRlcmFsVmVydGV4TGFiZWwuVkVSVEVYX0QgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gU3RyaW5nVXRpbHMuZmlsbEluKCBwYXR0ZXJuU3RyaW5nLCB7XHJcbiAgICAgIGZpcnN0Q29ybmVyOiBmaXJzdENvcm5lclN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBzZWNvbmRDb3JuZXI6IHNlY29uZENvcm5lclN0cmluZ1Byb3BlcnR5XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgcXVhbGl0YXRpdmUgZGVzY3JpcHRpb24gZm9yIGEgZGFydC5cclxuICAgKiBAcGFyYW0gcGF0dGVyblN0cmluZyAtIFNvbWUgY29udGV4dHMgbmVlZCBhIG1vcmUgdmVyYm9zZSBkZXNjcmlwdGlvbiBhcm91bmQgdGhpcyBwYXR0ZXJuLiBNdXN0IGluY2x1ZGUgcGxhY2Vob2xkZXJzXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBgZmlyc3RDb3JuZXJgIGFuZCBgc2Vjb25kQ29ybmVyYC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0RGFydERldGFpbHNTdHJpbmcoIHBhdHRlcm5TdHJpbmc6IFRSZWFkT25seVByb3BlcnR5PHN0cmluZz4gPSBkYXJ0RGV0YWlsc1Nob3J0UGF0dGVyblN0cmluZ1Byb3BlcnR5ICk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBjb25jYXZlVmVydGV4ID0gdGhpcy5zaGFwZU1vZGVsLnZlcnRpY2VzLmZpbmQoIHZlcnRleCA9PiB2ZXJ0ZXguYW5nbGVQcm9wZXJ0eS52YWx1ZSEgPiBNYXRoLlBJICkhO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggY29uY2F2ZVZlcnRleCwgJ0EgZGFydCBoYXMgb25lIHZlcnRleCB3aXRoIGFuZ2xlIGdyZWF0ZXIgdGhhbiBNYXRoLlBJLicgKTtcclxuXHJcbiAgICBjb25zdCBpbndhcmRDb3JuZXJMYWJlbCA9IGNvbmNhdmVWZXJ0ZXgudmVydGV4TGFiZWw7XHJcblxyXG4gICAgLy8gdGhlIHZlcnRpY2VzIHdpdGggZXF1YWwgYW5nbGVzIGZvciBhIGRhcnQgd2lsbCBiZSB0aGUgb25lcyBhZGphY2VudCB0byB0aGUgaW53YXJkIHZlcnRleFxyXG4gICAgbGV0IGZpcnN0Q29ybmVyTGFiZWw6IFF1YWRyaWxhdGVyYWxWZXJ0ZXhMYWJlbDtcclxuICAgIGxldCBzZWNvbmRDb3JuZXJMYWJlbDogUXVhZHJpbGF0ZXJhbFZlcnRleExhYmVsO1xyXG4gICAgaWYgKCBpbndhcmRDb3JuZXJMYWJlbCA9PT0gUXVhZHJpbGF0ZXJhbFZlcnRleExhYmVsLlZFUlRFWF9BIHx8IGlud2FyZENvcm5lckxhYmVsID09PSBRdWFkcmlsYXRlcmFsVmVydGV4TGFiZWwuVkVSVEVYX0MgKSB7XHJcbiAgICAgIGZpcnN0Q29ybmVyTGFiZWwgPSBRdWFkcmlsYXRlcmFsVmVydGV4TGFiZWwuVkVSVEVYX0I7XHJcbiAgICAgIHNlY29uZENvcm5lckxhYmVsID0gUXVhZHJpbGF0ZXJhbFZlcnRleExhYmVsLlZFUlRFWF9EO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGZpcnN0Q29ybmVyTGFiZWwgPSBRdWFkcmlsYXRlcmFsVmVydGV4TGFiZWwuVkVSVEVYX0E7XHJcbiAgICAgIHNlY29uZENvcm5lckxhYmVsID0gUXVhZHJpbGF0ZXJhbFZlcnRleExhYmVsLlZFUlRFWF9DO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBTdHJpbmdVdGlscy5maWxsSW4oIHBhdHRlcm5TdHJpbmcsIHtcclxuICAgICAgaW53YXJkQ29ybmVyOiBRdWFkcmlsYXRlcmFsRGVzY3JpYmVyLmdldFZlcnRleExhYmVsU3RyaW5nKCBpbndhcmRDb3JuZXJMYWJlbCApLFxyXG4gICAgICBmaXJzdENvcm5lcjogUXVhZHJpbGF0ZXJhbERlc2NyaWJlci5nZXRWZXJ0ZXhMYWJlbFN0cmluZyggZmlyc3RDb3JuZXJMYWJlbCApLFxyXG4gICAgICBzZWNvbmRDb3JuZXI6IFF1YWRyaWxhdGVyYWxEZXNjcmliZXIuZ2V0VmVydGV4TGFiZWxTdHJpbmcoIHNlY29uZENvcm5lckxhYmVsIClcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBxdWFsaXRhdGl2ZSBkZXNjcmlwdGlvbiBmb3IgYSBjb25jYXZlIHF1YWRyaWxhdGVyYWwsIGRlc2NyaWJpbmcgd2hpY2ggdmVydGV4IGlzIHBvaW50aW5nIGluXHJcbiAgICogdG93YXJkIHRoZSBzaGFwZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0Q29uY2F2ZVF1YWRyaWxhdGVyYWxEZXRhaWxzU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBjb25jYXZlVmVydGV4ID0gdGhpcy5zaGFwZU1vZGVsLnZlcnRpY2VzLmZpbmQoIHZlcnRleCA9PiB2ZXJ0ZXguYW5nbGVQcm9wZXJ0eS52YWx1ZSEgPiBNYXRoLlBJICkhO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggY29uY2F2ZVZlcnRleCwgJ0EgY29udmV4IHF1YWQgaGFzIG9uZSB2ZXJ0ZXggd2l0aCBhbmdsZSBncmVhdGVyIHRoYW4gTWF0aC5QSS4nICk7XHJcbiAgICBjb25zdCBpbndhcmRDb3JuZXJMYWJlbCA9IGNvbmNhdmVWZXJ0ZXgudmVydGV4TGFiZWw7XHJcblxyXG4gICAgcmV0dXJuIFN0cmluZ1V0aWxzLmZpbGxJbiggY29uY2F2ZVF1YWRyaWxhdGVyYWxEZXRhaWxzUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIGlud2FyZENvcm5lcjogUXVhZHJpbGF0ZXJhbERlc2NyaWJlci5nZXRWZXJ0ZXhMYWJlbFN0cmluZyggaW53YXJkQ29ybmVyTGFiZWwgKVxyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIHF1YWxpdGF0aXZlIGRlc2NyaXB0aW9uIG9mIHRoZSBjb252ZXggcXVhZHJpbGF0ZXJhbC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0Q29udmV4UXVhZHJpbGF0ZXJhbERldGFpbHNTdHJpbmcoKTogVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gY29udmV4UXVhZHJpbGF0ZXJhbERldGFpbHNTdHJpbmdQcm9wZXJ0eTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBxdWFsaXRhdGl2ZSBkZXNjcmlwdGlvbiBmb3IgYSB0cmlhbmdsZSwgY2FsbGluZyBvdXQgd2hpY2ggdmVydGV4IGxvb2tzIFwiZmxhdFwiLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRUcmlhbmdsZURldGFpbHNTdHJpbmcoKTogc3RyaW5nIHtcclxuXHJcbiAgICBjb25zdCBmbGF0VmVydGV4ID0gdGhpcy5zaGFwZU1vZGVsLnZlcnRpY2VzLmZpbmQoXHJcbiAgICAgIHZlcnRleCA9PiB0aGlzLnNoYXBlTW9kZWwuaXNTdGF0aWNBbmdsZUVxdWFsVG9PdGhlciggdmVydGV4LmFuZ2xlUHJvcGVydHkudmFsdWUhLCBNYXRoLlBJIClcclxuICAgICkhO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggZmxhdFZlcnRleCwgJ0EgdHJpYW5nbGUgaGFzIG9uZSB2ZXJ0ZXggd2l0aCBhbiBhbmdsZSBlcXVhbCB0byBNYXRoLlBJLicgKTtcclxuXHJcbiAgICByZXR1cm4gU3RyaW5nVXRpbHMuZmlsbEluKCB0cmlhbmdsZURldGFpbHNQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgZmxhdENvcm5lcjogUXVhZHJpbGF0ZXJhbERlc2NyaWJlci5nZXRWZXJ0ZXhMYWJlbFN0cmluZyggZmxhdFZlcnRleC52ZXJ0ZXhMYWJlbCApXHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgUmVzcG9uc2VQYWNrZXQgd2l0aCB0aGUgY29udGVudCBmb3IgcmVzcG9uc2VzIHRoYXQgc2hvdWxkIGJlIGluY2x1ZGVkIHdoZW4gdGhlIHNoYXBlIChhbmQgb25seSB0aGUgc2hhcGUpXHJcbiAgICogaXMgcmVzZXQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBSRVNFVF9TSEFQRV9SRVNQT05TRV9QQUNLRVQgPSBuZXcgUmVzcG9uc2VQYWNrZXQoIHtcclxuICAgIG5hbWVSZXNwb25zZTogcmVzZXRTaGFwZVN0cmluZ1Byb3BlcnR5LFxyXG4gICAgY29udGV4dFJlc3BvbnNlOiByZXNldFNoYXBlQ29udGV4dFJlc3BvbnNlU3RyaW5nUHJvcGVydHlcclxuICB9ICk7XHJcbn1cclxuXHJcbnF1YWRyaWxhdGVyYWwucmVnaXN0ZXIoICdRdWFkcmlsYXRlcmFsRGVzY3JpYmVyJywgUXVhZHJpbGF0ZXJhbERlc2NyaWJlciApO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxhQUFhLE1BQU0sd0JBQXdCO0FBQ2xELE9BQU9DLG9CQUFvQixNQUFNLCtCQUErQjtBQUNoRSxPQUFPQyxXQUFXLE1BQU0sK0NBQStDO0FBQ3ZFLE9BQU9DLGtCQUFrQixNQUFNLGdDQUFnQztBQUUvRCxPQUFPQyx3QkFBd0IsTUFBTSxzQ0FBc0M7QUFDM0UsT0FBT0MsNEJBQTRCLE1BQU0sbUNBQW1DO0FBQzVFLE9BQU9DLDBCQUEwQixNQUFNLGlDQUFpQztBQUN4RSxPQUFPQyxzQkFBc0IsTUFBTSxvQ0FBb0M7QUFJdkUsT0FBT0Msc0JBQXNCLE1BQU0saUNBQWlDO0FBQ3BFLE9BQU9DLGNBQWMsTUFBTSxrREFBa0Q7O0FBSTdFO0FBQ0E7QUFDQTtBQUlBO0FBQ0EsTUFBTUMsMENBQTBDLEdBQUdULG9CQUFvQixDQUFDVSxJQUFJLENBQUNDLE9BQU8sQ0FBQ0YsMENBQTBDO0FBQy9ILE1BQU1HLGdCQUFnQixHQUFHWixvQkFBb0IsQ0FBQ1UsSUFBSSxDQUFDRSxnQkFBZ0I7QUFDbkUsTUFBTUMsZ0JBQWdCLEdBQUdiLG9CQUFvQixDQUFD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