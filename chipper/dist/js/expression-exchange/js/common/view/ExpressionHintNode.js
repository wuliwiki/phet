// Copyright 2016-2022, University of Colorado Boulder

/**
 * This type represents a Scenery node that represents a hint that is presented to the user when two coins can be
 * combined into an expression.  The hint looks like a rectangle with a rip in the middle, and the coins are enclosed
 * on either side of the rip.
 *
 * @author John Blanco
 */

import Multilink from '../../../../axon/js/Multilink.js';
import { Shape } from '../../../../kite/js/imports.js';
import { Node, Path } from '../../../../scenery/js/imports.js';
import expressionExchange from '../../expressionExchange.js';
import EESharedConstants from '../EESharedConstants.js';

// constants
const HINT_BACKGROUND_COLOR = EESharedConstants.EXPRESSION_BACKGROUND_COLOR;
const INSET = 10; // in screen coordinates
const NUM_ZIG_ZAGS = 5;
const ZIG_ZAG_AMPLITUDE = 2;
class ExpressionHintNode extends Node {
  /**
   * @param {ExpressionHint} expressionHint - model of an expression hint
   */
  constructor(expressionHint) {
    super({
      pickable: false
    });
    const boundsUpdateMultilink = Multilink.multilink([expressionHint.anchorCoinTerm.localViewBoundsProperty, expressionHint.movingCoinTerm.localViewBoundsProperty], () => {
      // convenience vars
      const anchorCTBounds = expressionHint.anchorCoinTerm.localViewBoundsProperty.get();
      const movingCTBounds = expressionHint.movingCoinTerm.localViewBoundsProperty.get();

      // clear out any previous hint
      this.removeAllChildren();

      // the hint can be on the left or right side of the 'anchor coin', depending upon where the moving coin term is
      const anchorCoinTermOnLeft = expressionHint.movingCoinTerm.positionProperty.get().x > expressionHint.anchorCoinTerm.positionProperty.get().x;

      // calculate size and position for each half of the hint
      const height = Math.max(anchorCTBounds.height, movingCTBounds.height) + 2 * INSET;
      const top = expressionHint.anchorCoinTerm.positionProperty.get().y - height / 2;
      let leftHalfWidth;
      let rightHalfWidth;
      let leftHalfCenterX;
      if (anchorCoinTermOnLeft) {
        leftHalfWidth = anchorCTBounds.width + 2 * INSET;
        rightHalfWidth = movingCTBounds.width + 2 * INSET;
        leftHalfCenterX = expressionHint.anchorCoinTerm.positionProperty.get().x + anchorCTBounds.centerX;
      } else {
        // anchor coin term is on the right
        leftHalfWidth = movingCTBounds.width + 2 * INSET;
        rightHalfWidth = anchorCTBounds.width + 2 * INSET;
        leftHalfCenterX = expressionHint.anchorCoinTerm.positionProperty.get().x + anchorCTBounds.centerX - anchorCTBounds.width / 2 - INSET - movingCTBounds.width / 2 - INSET;
      }

      // draw rectangle on three sides with zig-zag line on remaining side
      const leftHalfShape = new Shape().moveTo(leftHalfWidth, 0).lineTo(0, 0).lineTo(0, height).lineTo(leftHalfWidth, height);
      leftHalfShape.zigZagTo(leftHalfWidth, 0, ZIG_ZAG_AMPLITUDE, NUM_ZIG_ZAGS, false);
      leftHalfShape.close();
      const leftHalf = new Path(leftHalfShape, {
        fill: HINT_BACKGROUND_COLOR,
        centerX: leftHalfCenterX,
        top: top
      });
      this.addChild(leftHalf);

      // draw rectangle on three sides with zig-zag line on remaining side
      const rightHalfShape = new Shape().moveTo(0, 0).lineTo(rightHalfWidth, 0).lineTo(rightHalfWidth, height).lineTo(0, height);
      rightHalfShape.zigZagTo(0, 0, ZIG_ZAG_AMPLITUDE, NUM_ZIG_ZAGS, false);
      rightHalfShape.close();
      this.addChild(new Path(rightHalfShape, {
        fill: HINT_BACKGROUND_COLOR,
        left: leftHalf.right,
        top: top
      }));
    });

    // define dispose function
    this.expressionHintNodeDispose = () => {
      boundsUpdateMultilink.dispose();
    };
  }

  // @public
  dispose() {
    this.expressionHintNodeDispose();
    super.dispose();
  }
}
expressionExchange.register('ExpressionHintNode', ExpressionHintNode);
export default ExpressionHintNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNdWx0aWxpbmsiLCJTaGFwZSIsIk5vZGUiLCJQYXRoIiwiZXhwcmVzc2lvbkV4Y2hhbmdlIiwiRUVTaGFyZWRDb25zdGFudHMiLCJISU5UX0JBQ0tHUk9VTkRfQ09MT1IiLCJFWFBSRVNTSU9OX0JBQ0tHUk9VTkRfQ09MT1IiLCJJTlNFVCIsIk5VTV9aSUdfWkFHUyIsIlpJR19aQUdfQU1QTElUVURFIiwiRXhwcmVzc2lvbkhpbnROb2RlIiwiY29uc3RydWN0b3IiLCJleHByZXNzaW9uSGludCIsInBpY2thYmxlIiwiYm91bmRzVXBkYXRlTXVsdGlsaW5rIiwibXVsdGlsaW5rIiwiYW5jaG9yQ29pblRlcm0iLCJsb2NhbFZpZXdCb3VuZHNQcm9wZXJ0eSIsIm1vdmluZ0NvaW5UZXJtIiwiYW5jaG9yQ1RCb3VuZHMiLCJnZXQiLCJtb3ZpbmdDVEJvdW5kcyIsInJlbW92ZUFsbENoaWxkcmVuIiwiYW5jaG9yQ29pblRlcm1PbkxlZnQiLCJwb3NpdGlvblByb3BlcnR5IiwieCIsImhlaWdodCIsIk1hdGgiLCJtYXgiLCJ0b3AiLCJ5IiwibGVmdEhhbGZXaWR0aCIsInJpZ2h0SGFsZldpZHRoIiwibGVmdEhhbGZDZW50ZXJYIiwid2lkdGgiLCJjZW50ZXJYIiwibGVmdEhhbGZTaGFwZSIsIm1vdmVUbyIsImxpbmVUbyIsInppZ1phZ1RvIiwiY2xvc2UiLCJsZWZ0SGFsZiIsImZpbGwiLCJhZGRDaGlsZCIsInJpZ2h0SGFsZlNoYXBlIiwibGVmdCIsInJpZ2h0IiwiZXhwcmVzc2lvbkhpbnROb2RlRGlzcG9zZSIsImRpc3Bvc2UiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkV4cHJlc3Npb25IaW50Tm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNi0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBUaGlzIHR5cGUgcmVwcmVzZW50cyBhIFNjZW5lcnkgbm9kZSB0aGF0IHJlcHJlc2VudHMgYSBoaW50IHRoYXQgaXMgcHJlc2VudGVkIHRvIHRoZSB1c2VyIHdoZW4gdHdvIGNvaW5zIGNhbiBiZVxyXG4gKiBjb21iaW5lZCBpbnRvIGFuIGV4cHJlc3Npb24uICBUaGUgaGludCBsb29rcyBsaWtlIGEgcmVjdGFuZ2xlIHdpdGggYSByaXAgaW4gdGhlIG1pZGRsZSwgYW5kIHRoZSBjb2lucyBhcmUgZW5jbG9zZWRcclxuICogb24gZWl0aGVyIHNpZGUgb2YgdGhlIHJpcC5cclxuICpcclxuICogQGF1dGhvciBKb2huIEJsYW5jb1xyXG4gKi9cclxuXHJcbmltcG9ydCBNdWx0aWxpbmsgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9NdWx0aWxpbmsuanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCB7IE5vZGUsIFBhdGggfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgZXhwcmVzc2lvbkV4Y2hhbmdlIGZyb20gJy4uLy4uL2V4cHJlc3Npb25FeGNoYW5nZS5qcyc7XHJcbmltcG9ydCBFRVNoYXJlZENvbnN0YW50cyBmcm9tICcuLi9FRVNoYXJlZENvbnN0YW50cy5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgSElOVF9CQUNLR1JPVU5EX0NPTE9SID0gRUVTaGFyZWRDb25zdGFudHMuRVhQUkVTU0lPTl9CQUNLR1JPVU5EX0NPTE9SO1xyXG5jb25zdCBJTlNFVCA9IDEwOyAvLyBpbiBzY3JlZW4gY29vcmRpbmF0ZXNcclxuY29uc3QgTlVNX1pJR19aQUdTID0gNTtcclxuY29uc3QgWklHX1pBR19BTVBMSVRVREUgPSAyO1xyXG5cclxuY2xhc3MgRXhwcmVzc2lvbkhpbnROb2RlIGV4dGVuZHMgTm9kZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7RXhwcmVzc2lvbkhpbnR9IGV4cHJlc3Npb25IaW50IC0gbW9kZWwgb2YgYW4gZXhwcmVzc2lvbiBoaW50XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIGV4cHJlc3Npb25IaW50ICkge1xyXG4gICAgc3VwZXIoIHsgcGlja2FibGU6IGZhbHNlIH0gKTtcclxuXHJcbiAgICBjb25zdCBib3VuZHNVcGRhdGVNdWx0aWxpbmsgPSBNdWx0aWxpbmsubXVsdGlsaW5rKFxyXG4gICAgICBbXHJcbiAgICAgICAgZXhwcmVzc2lvbkhpbnQuYW5jaG9yQ29pblRlcm0ubG9jYWxWaWV3Qm91bmRzUHJvcGVydHksXHJcbiAgICAgICAgZXhwcmVzc2lvbkhpbnQubW92aW5nQ29pblRlcm0ubG9jYWxWaWV3Qm91bmRzUHJvcGVydHlcclxuICAgICAgXSxcclxuICAgICAgKCkgPT4ge1xyXG5cclxuICAgICAgICAvLyBjb252ZW5pZW5jZSB2YXJzXHJcbiAgICAgICAgY29uc3QgYW5jaG9yQ1RCb3VuZHMgPSBleHByZXNzaW9uSGludC5hbmNob3JDb2luVGVybS5sb2NhbFZpZXdCb3VuZHNQcm9wZXJ0eS5nZXQoKTtcclxuICAgICAgICBjb25zdCBtb3ZpbmdDVEJvdW5kcyA9IGV4cHJlc3Npb25IaW50Lm1vdmluZ0NvaW5UZXJtLmxvY2FsVmlld0JvdW5kc1Byb3BlcnR5LmdldCgpO1xyXG5cclxuICAgICAgICAvLyBjbGVhciBvdXQgYW55IHByZXZpb3VzIGhpbnRcclxuICAgICAgICB0aGlzLnJlbW92ZUFsbENoaWxkcmVuKCk7XHJcblxyXG4gICAgICAgIC8vIHRoZSBoaW50IGNhbiBiZSBvbiB0aGUgbGVmdCBvciByaWdodCBzaWRlIG9mIHRoZSAnYW5jaG9yIGNvaW4nLCBkZXBlbmRpbmcgdXBvbiB3aGVyZSB0aGUgbW92aW5nIGNvaW4gdGVybSBpc1xyXG4gICAgICAgIGNvbnN0IGFuY2hvckNvaW5UZXJtT25MZWZ0ID0gZXhwcmVzc2lvbkhpbnQubW92aW5nQ29pblRlcm0ucG9zaXRpb25Qcm9wZXJ0eS5nZXQoKS54ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb25IaW50LmFuY2hvckNvaW5UZXJtLnBvc2l0aW9uUHJvcGVydHkuZ2V0KCkueDtcclxuXHJcbiAgICAgICAgLy8gY2FsY3VsYXRlIHNpemUgYW5kIHBvc2l0aW9uIGZvciBlYWNoIGhhbGYgb2YgdGhlIGhpbnRcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heCggYW5jaG9yQ1RCb3VuZHMuaGVpZ2h0LCBtb3ZpbmdDVEJvdW5kcy5oZWlnaHQgKSArIDIgKiBJTlNFVDtcclxuICAgICAgICBjb25zdCB0b3AgPSBleHByZXNzaW9uSGludC5hbmNob3JDb2luVGVybS5wb3NpdGlvblByb3BlcnR5LmdldCgpLnkgLSBoZWlnaHQgLyAyO1xyXG4gICAgICAgIGxldCBsZWZ0SGFsZldpZHRoO1xyXG4gICAgICAgIGxldCByaWdodEhhbGZXaWR0aDtcclxuICAgICAgICBsZXQgbGVmdEhhbGZDZW50ZXJYO1xyXG4gICAgICAgIGlmICggYW5jaG9yQ29pblRlcm1PbkxlZnQgKSB7XHJcbiAgICAgICAgICBsZWZ0SGFsZldpZHRoID0gYW5jaG9yQ1RCb3VuZHMud2lkdGggKyAyICogSU5TRVQ7XHJcbiAgICAgICAgICByaWdodEhhbGZXaWR0aCA9IG1vdmluZ0NUQm91bmRzLndpZHRoICsgMiAqIElOU0VUO1xyXG4gICAgICAgICAgbGVmdEhhbGZDZW50ZXJYID0gZXhwcmVzc2lvbkhpbnQuYW5jaG9yQ29pblRlcm0ucG9zaXRpb25Qcm9wZXJ0eS5nZXQoKS54ICsgYW5jaG9yQ1RCb3VuZHMuY2VudGVyWDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IC8vIGFuY2hvciBjb2luIHRlcm0gaXMgb24gdGhlIHJpZ2h0XHJcbiAgICAgICAgICBsZWZ0SGFsZldpZHRoID0gbW92aW5nQ1RCb3VuZHMud2lkdGggKyAyICogSU5TRVQ7XHJcbiAgICAgICAgICByaWdodEhhbGZXaWR0aCA9IGFuY2hvckNUQm91bmRzLndpZHRoICsgMiAqIElOU0VUO1xyXG4gICAgICAgICAgbGVmdEhhbGZDZW50ZXJYID0gZXhwcmVzc2lvbkhpbnQuYW5jaG9yQ29pblRlcm0ucG9zaXRpb25Qcm9wZXJ0eS5nZXQoKS54ICsgYW5jaG9yQ1RCb3VuZHMuY2VudGVyWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBhbmNob3JDVEJvdW5kcy53aWR0aCAvIDIgLSBJTlNFVCAtIG1vdmluZ0NUQm91bmRzLndpZHRoIC8gMiAtIElOU0VUO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZHJhdyByZWN0YW5nbGUgb24gdGhyZWUgc2lkZXMgd2l0aCB6aWctemFnIGxpbmUgb24gcmVtYWluaW5nIHNpZGVcclxuICAgICAgICBjb25zdCBsZWZ0SGFsZlNoYXBlID0gbmV3IFNoYXBlKClcclxuICAgICAgICAgIC5tb3ZlVG8oIGxlZnRIYWxmV2lkdGgsIDAgKVxyXG4gICAgICAgICAgLmxpbmVUbyggMCwgMCApXHJcbiAgICAgICAgICAubGluZVRvKCAwLCBoZWlnaHQgKVxyXG4gICAgICAgICAgLmxpbmVUbyggbGVmdEhhbGZXaWR0aCwgaGVpZ2h0ICk7XHJcbiAgICAgICAgbGVmdEhhbGZTaGFwZS56aWdaYWdUbyggbGVmdEhhbGZXaWR0aCwgMCwgWklHX1pBR19BTVBMSVRVREUsIE5VTV9aSUdfWkFHUywgZmFsc2UgKTtcclxuICAgICAgICBsZWZ0SGFsZlNoYXBlLmNsb3NlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxlZnRIYWxmID0gbmV3IFBhdGgoIGxlZnRIYWxmU2hhcGUsIHtcclxuICAgICAgICAgIGZpbGw6IEhJTlRfQkFDS0dST1VORF9DT0xPUixcclxuICAgICAgICAgIGNlbnRlclg6IGxlZnRIYWxmQ2VudGVyWCxcclxuICAgICAgICAgIHRvcDogdG9wXHJcbiAgICAgICAgfSApO1xyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoIGxlZnRIYWxmICk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgcmVjdGFuZ2xlIG9uIHRocmVlIHNpZGVzIHdpdGggemlnLXphZyBsaW5lIG9uIHJlbWFpbmluZyBzaWRlXHJcbiAgICAgICAgY29uc3QgcmlnaHRIYWxmU2hhcGUgPSBuZXcgU2hhcGUoKVxyXG4gICAgICAgICAgLm1vdmVUbyggMCwgMCApXHJcbiAgICAgICAgICAubGluZVRvKCByaWdodEhhbGZXaWR0aCwgMCApXHJcbiAgICAgICAgICAubGluZVRvKCByaWdodEhhbGZXaWR0aCwgaGVpZ2h0IClcclxuICAgICAgICAgIC5saW5lVG8oIDAsIGhlaWdodCApO1xyXG4gICAgICAgIHJpZ2h0SGFsZlNoYXBlLnppZ1phZ1RvKCAwLCAwLCBaSUdfWkFHX0FNUExJVFVERSwgTlVNX1pJR19aQUdTLCBmYWxzZSApO1xyXG4gICAgICAgIHJpZ2h0SGFsZlNoYXBlLmNsb3NlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoIG5ldyBQYXRoKCByaWdodEhhbGZTaGFwZSwge1xyXG4gICAgICAgICAgZmlsbDogSElOVF9CQUNLR1JPVU5EX0NPTE9SLFxyXG4gICAgICAgICAgbGVmdDogbGVmdEhhbGYucmlnaHQsXHJcbiAgICAgICAgICB0b3A6IHRvcFxyXG4gICAgICAgIH0gKSApO1xyXG4gICAgICB9ICk7XHJcblxyXG4gICAgLy8gZGVmaW5lIGRpc3Bvc2UgZnVuY3Rpb25cclxuICAgIHRoaXMuZXhwcmVzc2lvbkhpbnROb2RlRGlzcG9zZSA9ICgpID0+IHtcclxuICAgICAgYm91bmRzVXBkYXRlTXVsdGlsaW5rLmRpc3Bvc2UoKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBAcHVibGljXHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIHRoaXMuZXhwcmVzc2lvbkhpbnROb2RlRGlzcG9zZSgpO1xyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwcmVzc2lvbkV4Y2hhbmdlLnJlZ2lzdGVyKCAnRXhwcmVzc2lvbkhpbnROb2RlJywgRXhwcmVzc2lvbkhpbnROb2RlICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFeHByZXNzaW9uSGlu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