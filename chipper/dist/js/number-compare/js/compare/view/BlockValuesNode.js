// Copyright 2019-2023, University of Colorado Boulder

/**
 * Class for a 'Block Values' Node, which creates two stacks of blocks that represent the given left and right current
 * numbers.
 *
 * @author Chris Klusendorf (PhET Interactive Simulations)
 */

import { Node, Rectangle, VBox } from '../../../../scenery/js/imports.js';
import numberCompare from '../../numberCompare.js';
import NumberCompareColors from '../../common/NumberCompareColors.js';
import Multilink from '../../../../axon/js/Multilink.js';
import NumberSuiteCommonConstants from '../../../../number-suite-common/js/common/NumberSuiteCommonConstants.js';

// When originally developed, the height was 468 and the desired SIDE_LENGTH was 20.8 (for a max of 20 blocks), use
// this factor for maintainability.
const SIDE_LENGTH_FACTOR = 0.0487;
const PADDING = 2; // padding between blocks
const SIDE_LENGTH = NumberSuiteCommonConstants.TALL_LOWER_ACCORDION_BOX_HEIGHT * SIDE_LENGTH_FACTOR - PADDING;
class BlockValuesNode extends Node {
  constructor(leftCurrentNumberProperty, rightCurrentNumberProperty) {
    super();

    // Overwrites current children, no need for disposal
    Multilink.multilink([leftCurrentNumberProperty, rightCurrentNumberProperty], (leftCurrentNumber, rightCurrentNumber) => {
      this.children = [BlockValuesNode.getBlockValuesNode(leftCurrentNumber, rightCurrentNumber)];
    });
  }

  /**
   * Draws a blockValuesNode, which is two 'towers' of blocks, where the height of each tower corresponds to the
   * values of the provided numbers.
   */
  static getBlockValuesNode(leftCurrentNumber, rightCurrentNumber) {
    // create the base, which sits below the block stacks
    const baseNode = new Rectangle(0, 0, SIDE_LENGTH * 2 + PADDING, 1.25, {
      fill: 'black'
    });
    const leftBlocks = [];
    const rightBlocks = [];

    // create and add the left blocks
    _.times(leftCurrentNumber, () => {
      leftBlocks.push(new Rectangle(0, 0, SIDE_LENGTH, SIDE_LENGTH, {
        fill: NumberCompareColors.purpleHighlightColorProperty
      }));
    });
    const leftStack = new VBox({
      children: leftBlocks,
      spacing: PADDING,
      excludeInvisibleChildrenFromBounds: false,
      left: baseNode.left,
      bottom: baseNode.top - PADDING
    });

    // create and add the right blocks
    _.times(rightCurrentNumber, () => {
      rightBlocks.push(new Rectangle(0, 0, SIDE_LENGTH, SIDE_LENGTH, {
        fill: NumberCompareColors.orangeHighlightColorProperty
      }));
    });
    const rightStack = new VBox({
      children: rightBlocks,
      spacing: PADDING,
      excludeInvisibleChildrenFromBounds: false,
      right: baseNode.right,
      bottom: baseNode.top - PADDING
    });
    return new Node({
      children: [leftStack, rightStack, baseNode]
    });
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
}
numberCompare.register('BlockValuesNode', BlockValuesNode);
export default BlockValuesNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJOb2RlIiwiUmVjdGFuZ2xlIiwiVkJveCIsIm51bWJlckNvbXBhcmUiLCJOdW1iZXJDb21wYXJlQ29sb3JzIiwiTXVsdGlsaW5rIiwiTnVtYmVyU3VpdGVDb21tb25Db25zdGFudHMiLCJTSURFX0xFTkdUSF9GQUNUT1IiLCJQQURESU5HIiwiU0lERV9MRU5HVEgiLCJUQUxMX0xPV0VSX0FDQ09SRElPTl9CT1hfSEVJR0hUIiwiQmxvY2tWYWx1ZXNOb2RlIiwiY29uc3RydWN0b3IiLCJsZWZ0Q3VycmVudE51bWJlclByb3BlcnR5IiwicmlnaHRDdXJyZW50TnVtYmVyUHJvcGVydHkiLCJtdWx0aWxpbmsiLCJsZWZ0Q3VycmVudE51bWJlciIsInJpZ2h0Q3VycmVudE51bWJlciIsImNoaWxkcmVuIiwiZ2V0QmxvY2tWYWx1ZXNOb2RlIiwiYmFzZU5vZGUiLCJmaWxsIiwibGVmdEJsb2NrcyIsInJpZ2h0QmxvY2tzIiwiXyIsInRpbWVzIiwicHVzaCIsInB1cnBsZUhpZ2hsaWdodENvbG9yUHJvcGVydHkiLCJsZWZ0U3RhY2siLCJzcGFjaW5nIiwiZXhjbHVkZUludmlzaWJsZUNoaWxkcmVuRnJvbUJvdW5kcyIsImxlZnQiLCJib3R0b20iLCJ0b3AiLCJvcmFuZ2VIaWdobGlnaHRDb2xvclByb3BlcnR5IiwicmlnaHRTdGFjayIsInJpZ2h0IiwiZGlzcG9zZSIsImFzc2VydCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQmxvY2tWYWx1ZXNOb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIENsYXNzIGZvciBhICdCbG9jayBWYWx1ZXMnIE5vZGUsIHdoaWNoIGNyZWF0ZXMgdHdvIHN0YWNrcyBvZiBibG9ja3MgdGhhdCByZXByZXNlbnQgdGhlIGdpdmVuIGxlZnQgYW5kIHJpZ2h0IGN1cnJlbnRcclxuICogbnVtYmVycy5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBLbHVzZW5kb3JmIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IE5vZGUsIFJlY3RhbmdsZSwgVkJveCB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IG51bWJlckNvbXBhcmUgZnJvbSAnLi4vLi4vbnVtYmVyQ29tcGFyZS5qcyc7XHJcbmltcG9ydCBOdW1iZXJDb21wYXJlQ29sb3JzIGZyb20gJy4uLy4uL2NvbW1vbi9OdW1iZXJDb21wYXJlQ29sb3JzLmpzJztcclxuaW1wb3J0IE11bHRpbGluayBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL011bHRpbGluay5qcyc7XHJcbmltcG9ydCBOdW1iZXJTdWl0ZUNvbW1vbkNvbnN0YW50cyBmcm9tICcuLi8uLi8uLi8uLi9udW1iZXItc3VpdGUtY29tbW9uL2pzL2NvbW1vbi9OdW1iZXJTdWl0ZUNvbW1vbkNvbnN0YW50cy5qcyc7XHJcblxyXG4vLyBXaGVuIG9yaWdpbmFsbHkgZGV2ZWxvcGVkLCB0aGUgaGVpZ2h0IHdhcyA0NjggYW5kIHRoZSBkZXNpcmVkIFNJREVfTEVOR1RIIHdhcyAyMC44IChmb3IgYSBtYXggb2YgMjAgYmxvY2tzKSwgdXNlXHJcbi8vIHRoaXMgZmFjdG9yIGZvciBtYWludGFpbmFiaWxpdHkuXHJcbmNvbnN0IFNJREVfTEVOR1RIX0ZBQ1RPUiA9IDAuMDQ4NztcclxuY29uc3QgUEFERElORyA9IDI7IC8vIHBhZGRpbmcgYmV0d2VlbiBibG9ja3NcclxuY29uc3QgU0lERV9MRU5HVEggPSBOdW1iZXJTdWl0ZUNvbW1vbkNvbnN0YW50cy5UQUxMX0xPV0VSX0FDQ09SRElPTl9CT1hfSEVJR0hUICogU0lERV9MRU5HVEhfRkFDVE9SIC0gUEFERElORztcclxuXHJcbmNsYXNzIEJsb2NrVmFsdWVzTm9kZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGxlZnRDdXJyZW50TnVtYmVyUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PG51bWJlcj4sIHJpZ2h0Q3VycmVudE51bWJlclByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxudW1iZXI+ICkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICAvLyBPdmVyd3JpdGVzIGN1cnJlbnQgY2hpbGRyZW4sIG5vIG5lZWQgZm9yIGRpc3Bvc2FsXHJcbiAgICBNdWx0aWxpbmsubXVsdGlsaW5rKCBbIGxlZnRDdXJyZW50TnVtYmVyUHJvcGVydHksIHJpZ2h0Q3VycmVudE51bWJlclByb3BlcnR5IF0sXHJcbiAgICAgICggbGVmdEN1cnJlbnROdW1iZXIsIHJpZ2h0Q3VycmVudE51bWJlciApID0+IHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gWyBCbG9ja1ZhbHVlc05vZGUuZ2V0QmxvY2tWYWx1ZXNOb2RlKCBsZWZ0Q3VycmVudE51bWJlciwgcmlnaHRDdXJyZW50TnVtYmVyICkgXTtcclxuICAgICAgfSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhd3MgYSBibG9ja1ZhbHVlc05vZGUsIHdoaWNoIGlzIHR3byAndG93ZXJzJyBvZiBibG9ja3MsIHdoZXJlIHRoZSBoZWlnaHQgb2YgZWFjaCB0b3dlciBjb3JyZXNwb25kcyB0byB0aGVcclxuICAgKiB2YWx1ZXMgb2YgdGhlIHByb3ZpZGVkIG51bWJlcnMuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXRCbG9ja1ZhbHVlc05vZGUoIGxlZnRDdXJyZW50TnVtYmVyOiBudW1iZXIsIHJpZ2h0Q3VycmVudE51bWJlcjogbnVtYmVyICk6IE5vZGUge1xyXG5cclxuICAgIC8vIGNyZWF0ZSB0aGUgYmFzZSwgd2hpY2ggc2l0cyBiZWxvdyB0aGUgYmxvY2sgc3RhY2tzXHJcbiAgICBjb25zdCBiYXNlTm9kZSA9IG5ldyBSZWN0YW5nbGUoIDAsIDAsIFNJREVfTEVOR1RIICogMiArIFBBRERJTkcsIDEuMjUsIHtcclxuICAgICAgZmlsbDogJ2JsYWNrJ1xyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGxlZnRCbG9ja3M6IE5vZGVbXSA9IFtdO1xyXG4gICAgY29uc3QgcmlnaHRCbG9ja3M6IE5vZGVbXSA9IFtdO1xyXG5cclxuICAgIC8vIGNyZWF0ZSBhbmQgYWRkIHRoZSBsZWZ0IGJsb2Nrc1xyXG4gICAgXy50aW1lcyggbGVmdEN1cnJlbnROdW1iZXIsICgpID0+IHtcclxuICAgICAgbGVmdEJsb2Nrcy5wdXNoKCBuZXcgUmVjdGFuZ2xlKCAwLCAwLCBTSURFX0xFTkdUSCwgU0lERV9MRU5HVEgsIHtcclxuICAgICAgICBmaWxsOiBOdW1iZXJDb21wYXJlQ29sb3JzLnB1cnBsZUhpZ2hsaWdodENvbG9yUHJvcGVydHlcclxuICAgICAgfSApICk7XHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCBsZWZ0U3RhY2sgPSBuZXcgVkJveCgge1xyXG4gICAgICBjaGlsZHJlbjogbGVmdEJsb2NrcyxcclxuICAgICAgc3BhY2luZzogUEFERElORyxcclxuICAgICAgZXhjbHVkZUludmlzaWJsZUNoaWxkcmVuRnJvbUJvdW5kczogZmFsc2UsXHJcbiAgICAgIGxlZnQ6IGJhc2VOb2RlLmxlZnQsXHJcbiAgICAgIGJvdHRvbTogYmFzZU5vZGUudG9wIC0gUEFERElOR1xyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGNyZWF0ZSBhbmQgYWRkIHRoZSByaWdodCBibG9ja3NcclxuICAgIF8udGltZXMoIHJpZ2h0Q3VycmVudE51bWJlciwgKCkgPT4ge1xyXG4gICAgICByaWdodEJsb2Nrcy5wdXNoKCBuZXcgUmVjdGFuZ2xlKCAwLCAwLCBTSURFX0xFTkdUSCwgU0lERV9MRU5HVEgsIHtcclxuICAgICAgICBmaWxsOiBOdW1iZXJDb21wYXJlQ29sb3JzLm9yYW5nZUhpZ2hsaWdodENvbG9yUHJvcGVydHlcclxuICAgICAgfSApICk7XHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCByaWdodFN0YWNrID0gbmV3IFZCb3goIHtcclxuICAgICAgY2hpbGRyZW46IHJpZ2h0QmxvY2tzLFxyXG4gICAgICBzcGFjaW5nOiBQQURESU5HLFxyXG4gICAgICBleGNsdWRlSW52aXNpYmxlQ2hpbGRyZW5Gcm9tQm91bmRzOiBmYWxzZSxcclxuICAgICAgcmlnaHQ6IGJhc2VOb2RlLnJpZ2h0LFxyXG4gICAgICBib3R0b206IGJhc2VOb2RlLnRvcCAtIFBBRERJTkdcclxuICAgIH0gKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IE5vZGUoIHtcclxuICAgICAgY2hpbGRyZW46IFsgbGVmdFN0YWNrLCByaWdodFN0YWNrLCBiYXNlTm9kZSBdXHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGZhbHNlLCAnZGlzcG9zZSBpcyBub3Qgc3VwcG9ydGVkLCBleGlzdHMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltJyApO1xyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxubnVtYmVyQ29tcGFyZS5yZWdpc3RlciggJ0Jsb2NrVmFsdWVzTm9kZScsIEJsb2NrVmFsdWVzTm9kZSApO1xyXG5leHBvcnQgZGVmYXVsdCBCbG9ja1ZhbHVlc05vZGU7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBU0EsSUFBSSxFQUFFQyxTQUFTLEVBQUVDLElBQUksUUFBUSxtQ0FBbUM7QUFFekUsT0FBT0MsYUFBYSxNQUFNLHdCQUF3QjtBQUNsRCxPQUFPQyxtQkFBbUIsTUFBTSxxQ0FBcUM7QUFDckUsT0FBT0MsU0FBUyxNQUFNLGtDQUFrQztBQUN4RCxPQUFPQywwQkFBMEIsTUFBTSx5RUFBeUU7O0FBRWhIO0FBQ0E7QUFDQSxNQUFNQyxrQkFBa0IsR0FBRyxNQUFN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