// Copyright 2018-2023, University of Colorado Boulder

/**
 * The class that handles showing a draggable point that follows a graph and shows its x and y values
 *
 * @author Saurabh Totey
 * @author Arnab Purkayastha
 */

import NumberProperty from '../../../../axon/js/NumberProperty.js';
import Range from '../../../../dot/js/Range.js';
import Utils from '../../../../dot/js/Utils.js';
import { Shape } from '../../../../kite/js/imports.js';
import merge from '../../../../phet-core/js/merge.js';
import ArrowNode from '../../../../scenery-phet/js/ArrowNode.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import ScientificNotationNode from '../../../../scenery-phet/js/ScientificNotationNode.js';
import { Circle, DragListener, Node, Path, RichText, Text } from '../../../../scenery/js/imports.js';
import Panel from '../../../../sun/js/Panel.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import BlackbodyConstants from '../../BlackbodyConstants.js';
import blackbodySpectrum from '../../blackbodySpectrum.js';
import BlackbodyColors from './BlackbodyColors.js';
class GraphValuesPointNode extends Node {
  /**
   * Constructs the GraphValuesPointNode given the body to follow and the axes that will handle coordinate conversions.
   * Alignment isn't handled in constructor, but is rather done in the update method due to the non-static nature of
   * this view.
   * @param {BlackbodyBodyModel} body
   * @param {ZoomableAxesView} axes
   * @param {Object} [options]
   */
  constructor(body, axes, options) {
    options = merge({
      circleOptions: {
        radius: 5,
        fill: BlackbodyColors.graphValuesPointProperty
      },
      dashedLineOptions: {
        stroke: BlackbodyColors.graphValuesDashedLineProperty,
        lineDash: [4, 4]
      },
      valueTextOptions: {
        fill: BlackbodyColors.graphValuesLabelsProperty,
        font: new PhetFont(18),
        maxWidth: 50
      },
      arrowSpacing: 30,
      arrowLength: 20,
      arrowOptions: {
        fill: '#64dc64',
        headHeight: 13,
        headWidth: 12,
        tailWidth: 6
      },
      labelOffset: 5,
      cursor: 'ew-resize',
      tandem: Tandem.REQUIRED
    }, options);
    super(options);

    // @private
    this.body = body;
    this.axes = axes;
    this.graphPointCircle = new Circle(options.circleOptions);
    this.dashedVerticalLinePath = new Path(null, options.dashedLineOptions);
    this.dashedHorizontalLinePath = new Path(null, options.dashedLineOptions);
    this.wavelengthValueText = new Text('', options.valueTextOptions);
    this.spectralPowerDensityValueText = new RichText('', options.valueTextOptions);
    this.spectralPowerDensityNode = new Panel(this.spectralPowerDensityValueText, {
      fill: BlackbodyColors.backgroundProperty,
      stroke: BlackbodyColors.backgroundProperty,
      cornerRadius: 0,
      xMargin: options.labelOffset,
      yMargin: 0
    });
    this.labelOffset = options.labelOffset;
    const halfArrowSpacing = options.arrowSpacing / 2;
    const arrowTip = halfArrowSpacing + options.arrowLength;
    this.cueingArrows = new Node({
      children: [new ArrowNode(halfArrowSpacing, 0, arrowTip, 0, options.arrowOptions), new ArrowNode(-halfArrowSpacing, 0, -arrowTip, 0, options.arrowOptions)],
      tandem: options.tandem.createTandem('cueingArrows')
    });
    this.arrowsVisible = true;

    // Extend bounds of point and cuing arrows
    this.graphPointCircle.mouseArea = this.graphPointCircle.localBounds.dilated(4);
    this.graphPointCircle.touchArea = this.cueingArrows.localBounds.dilated(4);

    // @public {Property.<number>}
    this.wavelengthProperty = new NumberProperty(this.body.peakWavelength, {
      range: new Range(0, BlackbodyConstants.maxHorizontalZoom)
    });

    // Links a change in the body's temperature to always set the wavelength to the peak wavelength
    this.body.temperatureProperty.link(() => {
      // Clamp to make sure wavelength Property is within graph bounds
      this.wavelengthProperty.value = this.body.peakWavelength;
      this.update();
    });

    // Sets up the drag handler for the point circle and vertical dashed line
    let clickXOffset;
    const graphValueDragHandler = new DragListener({
      start: event => {
        clickXOffset = this.graphPointCircle.globalToParentPoint(event.pointer.point).x - this.graphPointCircle.x;
      },
      drag: event => {
        const x = this.graphPointCircle.globalToParentPoint(event.pointer.point).x - clickXOffset;

        // Clamp to make sure wavelength Property is within graph bounds
        this.wavelengthProperty.value = Utils.clamp(this.axes.viewXToWavelength(x), 0, this.axes.viewXToWavelength(this.axes.horizontalAxisLength));
        this.update();
      },
      end: () => {
        this.cueingArrows.visible = false;
        this.arrowsVisible = false;
      },
      allowTouchSnag: true,
      dragCursor: 'ew-resize',
      tandem: options.tandem.createTandem('dragListener')
    });
    this.graphPointCircle.addInputListener(graphValueDragHandler);
    this.cueingArrows.addInputListener(graphValueDragHandler);
    this.dashedVerticalLinePath.addInputListener(graphValueDragHandler);

    // Adds children in rendering order
    this.addChild(this.dashedVerticalLinePath);
    this.addChild(this.dashedHorizontalLinePath);
    this.addChild(this.cueingArrows);
    this.addChild(this.wavelengthValueText);
    this.addChild(this.spectralPowerDensityNode);
    this.addChild(this.graphPointCircle);
  }

  /**
   * Puts this node back at the peak of the graph
   * @public
   */
  reset() {
    this.wavelengthProperty.value = this.body.peakWavelength;
    this.arrowsVisible = true;
    this.update();
  }

  /**
   * Updates the position of the circle and the dashed lines of this graphValuesPointNode
   * @public
   */
  update() {
    // Update spectral power density for changes in wavelength
    const spectralPowerDensityOfPoint = this.body.getSpectralPowerDensityAt(this.wavelengthProperty.value);

    // Updates position of graph point circle in view
    this.graphPointCircle.centerX = this.axes.wavelengthToViewX(this.wavelengthProperty.value);
    this.graphPointCircle.centerY = this.axes.spectralPowerDensityToViewY(spectralPowerDensityOfPoint);
    this.graphPointCircle.visible = this.graphPointCircle.centerX <= this.axes.horizontalAxisLength && this.graphPointCircle.centerY >= -this.axes.verticalAxisLength;

    // Update cueing arrows to line up with graph point circle
    this.cueingArrows.center = this.graphPointCircle.center;
    this.cueingArrows.visible = this.arrowsVisible && this.graphPointCircle.visible;

    // Updates value labels' text
    this.wavelengthValueText.string = Utils.toFixed(this.wavelengthProperty.value / 1000.0, 3); // nm to microns

    // Spectral Power Density is given special case for scientific notation
    const spectralPowerDensityValue = spectralPowerDensityOfPoint * 1e33; // multiplier is to match y axis
    if (spectralPowerDensityValue < 0.01 && spectralPowerDensityValue !== 0) {
      const notationObject = ScientificNotationNode.toScientificNotation(spectralPowerDensityValue, {
        mantissaDecimalPlaces: 0
      });
      let formattedString = notationObject.mantissa;
      if (notationObject.exponent !== '0') {
        // Using unicode Thin Space and Hair Space to reduce distance between numbers and "X" in notation
        formattedString += `\u2009\u00D7\u200A10<sup>${notationObject.exponent}</sup>`;
      }
      this.spectralPowerDensityValueText.string = formattedString;
    } else {
      this.spectralPowerDensityValueText.string = spectralPowerDensityValue.toPrecision(4);
    }

    // Updates value labels' positioning
    this.wavelengthValueText.centerX = this.graphPointCircle.centerX;
    this.wavelengthValueText.top = this.labelOffset;
    this.spectralPowerDensityNode.centerY = this.graphPointCircle.centerY;
    this.spectralPowerDensityNode.right = -2;

    // Clamps label positions so that they don't go off the graph
    if (this.wavelengthValueText.right > this.axes.horizontalAxisLength - this.labelOffset) {
      this.wavelengthValueText.right = this.axes.horizontalAxisLength - this.labelOffset;
    } else if (this.wavelengthValueText.left < this.labelOffset) {
      this.wavelengthValueText.left = this.labelOffset;
    }
    if (this.spectralPowerDensityNode.top < -this.axes.verticalAxisLength + this.labelOffset) {
      this.spectralPowerDensityNode.top = -this.axes.verticalAxisLength + this.labelOffset;
    } else if (this.spectralPowerDensityNode.bottom > this.labelOffset) {
      this.spectralPowerDensityNode.bottom = this.labelOffset;
    }

    // Updates dashed lines to follow graph point circle
    this.dashedVerticalLinePath.shape = new Shape();
    this.dashedHorizontalLinePath.shape = new Shape();
    this.dashedVerticalLinePath.shape.moveTo(this.graphPointCircle.centerX, 0);
    this.dashedHorizontalLinePath.shape.moveTo(0, this.graphPointCircle.centerY);
    if (this.graphPointCircle.centerX > this.axes.horizontalAxisLength) {
      this.dashedHorizontalLinePath.shape.lineTo(this.axes.horizontalAxisLength, this.graphPointCircle.centerY);
      this.dashedVerticalLinePath.visible = false;
    } else {
      this.dashedHorizontalLinePath.shape.lineTo(this.graphPointCircle.centerX, this.graphPointCircle.centerY);
      this.dashedVerticalLinePath.visible = true;
    }
    if (this.graphPointCircle.centerY > -this.axes.verticalAxisLength) {
      this.dashedVerticalLinePath.shape.lineTo(this.graphPointCircle.centerX, this.graphPointCircle.centerY);
      this.dashedHorizontalLinePath.visible = true;
    } else {
      this.dashedVerticalLinePath.shape.lineTo(this.graphPointCircle.centerX, -this.axes.verticalAxisLength);
      this.dashedHorizontalLinePath.visible = false;
    }
    this.dashedVerticalLinePath.visible = this.graphPointCircle.centerX <= this.axes.horizontalAxisLength;

    // Don't extend touch/mouse areas when distance is so small, avoids errors when showing pointer areas
    if (this.graphPointCircle.centerY < -1e-8) {
      this.dashedVerticalLinePath.touchArea = this.dashedVerticalLinePath.localBounds.dilated(4);
      this.dashedVerticalLinePath.mouseArea = this.dashedVerticalLinePath.localBounds.dilated(4);
    } else {
      this.dashedVerticalLinePath.touchArea = null;
      this.dashedVerticalLinePath.mouseArea = null;
    }
  }
}
blackbodySpectrum.register('GraphValuesPointNode', GraphValuesPointNode);
export default GraphValuesPointNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJOdW1iZXJQcm9wZXJ0eSIsIlJhbmdlIiwiVXRpbHMiLCJTaGFwZSIsIm1lcmdlIiwiQXJyb3dOb2RlIiwiUGhldEZvbnQiLCJTY2llbnRpZmljTm90YXRpb25Ob2RlIiwiQ2lyY2xlIiwiRHJhZ0xpc3RlbmVyIiwiTm9kZSIsIlBhdGgiLCJSaWNoVGV4dCIsIlRleHQiLCJQYW5lbCIsIlRhbmRlbSIsIkJsYWNrYm9keUNvbnN0YW50cyIsImJsYWNrYm9keVNwZWN0cnVtIiwiQmxhY2tib2R5Q29sb3JzIiwiR3JhcGhWYWx1ZXNQb2ludE5vZGUiLCJjb25zdHJ1Y3RvciIsImJvZHkiLCJheGVzIiwib3B0aW9ucyIsImNpcmNsZU9wdGlvbnMiLCJyYWRpdXMiLCJmaWxsIiwiZ3JhcGhWYWx1ZXNQb2ludFByb3BlcnR5IiwiZGFzaGVkTGluZU9wdGlvbnMiLCJzdHJva2UiLCJncmFwaFZhbHVlc0Rhc2hlZExpbmVQcm9wZXJ0eSIsImxpbmVEYXNoIiwidmFsdWVUZXh0T3B0aW9ucyIsImdyYXBoVmFsdWVzTGFiZWxzUHJvcGVydHkiLCJmb250IiwibWF4V2lkdGgiLCJhcnJvd1NwYWNpbmciLCJhcnJvd0xlbmd0aCIsImFycm93T3B0aW9ucyIsImhlYWRIZWlnaHQiLCJoZWFkV2lkdGgiLCJ0YWlsV2lkdGgiLCJsYWJlbE9mZnNldCIsImN1cnNvciIsInRhbmRlbSIsIlJFUVVJUkVEIiwiZ3JhcGhQb2ludENpcmNsZSIsImRhc2hlZFZlcnRpY2FsTGluZVBhdGgiLCJkYXNoZWRIb3Jpem9udGFsTGluZVBhdGgiLCJ3YXZlbGVuZ3RoVmFsdWVUZXh0Iiwic3BlY3RyYWxQb3dlckRlbnNpdHlWYWx1ZVRleHQiLCJzcGVjdHJhbFBvd2VyRGVuc2l0eU5vZGUiLCJiYWNrZ3JvdW5kUHJvcGVydHkiLCJjb3JuZXJSYWRpdXMiLCJ4TWFyZ2luIiwieU1hcmdpbiIsImhhbGZBcnJvd1NwYWNpbmciLCJhcnJvd1RpcCIsImN1ZWluZ0Fycm93cyIsImNoaWxkcmVuIiwiY3JlYXRlVGFuZGVtIiwiYXJyb3dzVmlzaWJsZSIsIm1vdXNlQXJlYSIsImxvY2FsQm91bmRzIiwiZGlsYXRlZCIsInRvdWNoQXJlYSIsIndhdmVsZW5ndGhQcm9wZXJ0eSIsInBlYWtXYXZlbGVuZ3RoIiwicmFuZ2UiLCJtYXhIb3Jpem9udGFsWm9vbSIsInRlbXBlcmF0dXJlUHJvcGVydHkiLCJsaW5rIiwidmFsdWUiLCJ1cGRhdGUiLCJjbGlja1hPZmZzZXQiLCJncmFwaFZhbHVlRHJhZ0hhbmRsZXIiLCJzdGFydCIsImV2ZW50IiwiZ2xvYmFsVG9QYXJlbnRQb2ludCIsInBvaW50ZXIiLCJwb2ludCIsIngiLCJkcmFnIiwiY2xhbXAiLCJ2aWV3WFRvV2F2ZWxlbmd0aCIsImhvcml6b250YWxBeGlzTGVuZ3RoIiwiZW5kIiwidmlzaWJsZSIsImFsbG93VG91Y2hTbmFnIiwiZHJhZ0N1cnNvciIsImFkZElucHV0TGlzdGVuZXIiLCJhZGRDaGlsZCIsInJlc2V0Iiwic3BlY3RyYWxQb3dlckRlbnNpdHlPZlBvaW50IiwiZ2V0U3BlY3RyYWxQb3dlckRlbnNpdHlBdCIsImNlbnRlclgiLCJ3YXZlbGVuZ3RoVG9WaWV3WCIsImNlbnRlclkiLCJzcGVjdHJhbFBvd2VyRGVuc2l0eVRvVmlld1kiLCJ2ZXJ0aWNhbEF4aXNMZW5ndGgiLCJjZW50ZXIiLCJzdHJpbmciLCJ0b0ZpeGVkIiwic3BlY3RyYWxQb3dlckRlbnNpdHlWYWx1ZSIsIm5vdGF0aW9uT2JqZWN0IiwidG9TY2llbnRpZmljTm90YXRpb24iLCJtYW50aXNzYURlY2ltYWxQbGFjZXMiLCJmb3JtYXR0ZWRTdHJpbmciLCJtYW50aXNzYSIsImV4cG9uZW50IiwidG9QcmVjaXNpb24iLCJ0b3AiLCJyaWdodCIsImxlZnQiLCJib3R0b20iLCJzaGFwZSIsIm1vdmVUbyIsImxpbmVUbyIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiR3JhcGhWYWx1ZXNQb2ludE5vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTgtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogVGhlIGNsYXNzIHRoYXQgaGFuZGxlcyBzaG93aW5nIGEgZHJhZ2dhYmxlIHBvaW50IHRoYXQgZm9sbG93cyBhIGdyYXBoIGFuZCBzaG93cyBpdHMgeCBhbmQgeSB2YWx1ZXNcclxuICpcclxuICogQGF1dGhvciBTYXVyYWJoIFRvdGV5XHJcbiAqIEBhdXRob3IgQXJuYWIgUHVya2F5YXN0aGFcclxuICovXHJcblxyXG5pbXBvcnQgTnVtYmVyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9OdW1iZXJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBSYW5nZSBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvUmFuZ2UuanMnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IHsgU2hhcGUgfSBmcm9tICcuLi8uLi8uLi8uLi9raXRlL2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IEFycm93Tm9kZSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvQXJyb3dOb2RlLmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XHJcbmltcG9ydCBTY2llbnRpZmljTm90YXRpb25Ob2RlIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9TY2llbnRpZmljTm90YXRpb25Ob2RlLmpzJztcclxuaW1wb3J0IHsgQ2lyY2xlLCBEcmFnTGlzdGVuZXIsIE5vZGUsIFBhdGgsIFJpY2hUZXh0LCBUZXh0IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFBhbmVsIGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9QYW5lbC5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBCbGFja2JvZHlDb25zdGFudHMgZnJvbSAnLi4vLi4vQmxhY2tib2R5Q29uc3RhbnRzLmpzJztcclxuaW1wb3J0IGJsYWNrYm9keVNwZWN0cnVtIGZyb20gJy4uLy4uL2JsYWNrYm9keVNwZWN0cnVtLmpzJztcclxuaW1wb3J0IEJsYWNrYm9keUNvbG9ycyBmcm9tICcuL0JsYWNrYm9keUNvbG9ycy5qcyc7XHJcblxyXG5jbGFzcyBHcmFwaFZhbHVlc1BvaW50Tm9kZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIHRoZSBHcmFwaFZhbHVlc1BvaW50Tm9kZSBnaXZlbiB0aGUgYm9keSB0byBmb2xsb3cgYW5kIHRoZSBheGVzIHRoYXQgd2lsbCBoYW5kbGUgY29vcmRpbmF0ZSBjb252ZXJzaW9ucy5cclxuICAgKiBBbGlnbm1lbnQgaXNuJ3QgaGFuZGxlZCBpbiBjb25zdHJ1Y3RvciwgYnV0IGlzIHJhdGhlciBkb25lIGluIHRoZSB1cGRhdGUgbWV0aG9kIGR1ZSB0byB0aGUgbm9uLXN0YXRpYyBuYXR1cmUgb2ZcclxuICAgKiB0aGlzIHZpZXcuXHJcbiAgICogQHBhcmFtIHtCbGFja2JvZHlCb2R5TW9kZWx9IGJvZHlcclxuICAgKiBAcGFyYW0ge1pvb21hYmxlQXhlc1ZpZXd9IGF4ZXNcclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIGJvZHksIGF4ZXMsIG9wdGlvbnMgKSB7XHJcblxyXG4gICAgb3B0aW9ucyA9IG1lcmdlKCB7XHJcbiAgICAgIGNpcmNsZU9wdGlvbnM6IHtcclxuICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgZmlsbDogQmxhY2tib2R5Q29sb3JzLmdyYXBoVmFsdWVzUG9pbnRQcm9wZXJ0eVxyXG4gICAgICB9LFxyXG4gICAgICBkYXNoZWRMaW5lT3B0aW9uczoge1xyXG4gICAgICAgIHN0cm9rZTogQmxhY2tib2R5Q29sb3JzLmdyYXBoVmFsdWVzRGFzaGVkTGluZVByb3BlcnR5LFxyXG4gICAgICAgIGxpbmVEYXNoOiBbIDQsIDQgXVxyXG4gICAgICB9LFxyXG4gICAgICB2YWx1ZVRleHRPcHRpb25zOiB7XHJcbiAgICAgICAgZmlsbDogQmxhY2tib2R5Q29sb3JzLmdyYXBoVmFsdWVzTGFiZWxzUHJvcGVydHksXHJcbiAgICAgICAgZm9udDogbmV3IFBoZXRGb250KCAxOCApLFxyXG4gICAgICAgIG1heFdpZHRoOiA1MFxyXG4gICAgICB9LFxyXG4gICAgICBhcnJvd1NwYWNpbmc6IDMwLFxyXG4gICAgICBhcnJvd0xlbmd0aDogMjAsXHJcbiAgICAgIGFycm93T3B0aW9uczoge1xyXG4gICAgICAgIGZpbGw6ICcjNjRkYzY0JyxcclxuICAgICAgICBoZWFkSGVpZ2h0OiAxMyxcclxuICAgICAgICBoZWFkV2lkdGg6IDEyLFxyXG4gICAgICAgIHRhaWxXaWR0aDogNlxyXG4gICAgICB9LFxyXG4gICAgICBsYWJlbE9mZnNldDogNSxcclxuICAgICAgY3Vyc29yOiAnZXctcmVzaXplJyxcclxuICAgICAgdGFuZGVtOiBUYW5kZW0uUkVRVUlSRURcclxuICAgIH0sIG9wdGlvbnMgKTtcclxuXHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG5cclxuICAgIC8vIEBwcml2YXRlXHJcbiAgICB0aGlzLmJvZHkgPSBib2R5O1xyXG4gICAgdGhpcy5heGVzID0gYXhlcztcclxuICAgIHRoaXMuZ3JhcGhQb2ludENpcmNsZSA9IG5ldyBDaXJjbGUoIG9wdGlvbnMuY2lyY2xlT3B0aW9ucyApO1xyXG4gICAgdGhpcy5kYXNoZWRWZXJ0aWNhbExpbmVQYXRoID0gbmV3IFBhdGgoIG51bGwsIG9wdGlvbnMuZGFzaGVkTGluZU9wdGlvbnMgKTtcclxuICAgIHRoaXMuZGFzaGVkSG9yaXpvbnRhbExpbmVQYXRoID0gbmV3IFBhdGgoIG51bGwsIG9wdGlvbnMuZGFzaGVkTGluZU9wdGlvbnMgKTtcclxuICAgIHRoaXMud2F2ZWxlbmd0aFZhbHVlVGV4dCA9IG5ldyBUZXh0KCAnJywgb3B0aW9ucy52YWx1ZVRleHRPcHRpb25zICk7XHJcbiAgICB0aGlzLnNwZWN0cmFsUG93ZXJEZW5zaXR5VmFsdWVUZXh0ID0gbmV3IFJpY2hUZXh0KCAnJywgb3B0aW9ucy52YWx1ZVRleHRPcHRpb25zICk7XHJcbiAgICB0aGlzLnNwZWN0cmFsUG93ZXJEZW5zaXR5Tm9kZSA9IG5ldyBQYW5lbCggdGhpcy5zcGVjdHJhbFBvd2VyRGVuc2l0eVZhbHVlVGV4dCwge1xyXG4gICAgICBmaWxsOiBCbGFja2JvZHlDb2xvcnMuYmFja2dyb3VuZFByb3BlcnR5LFxyXG4gICAgICBzdHJva2U6IEJsYWNrYm9keUNvbG9ycy5iYWNrZ3JvdW5kUHJvcGVydHksXHJcbiAgICAgIGNvcm5lclJhZGl1czogMCxcclxuICAgICAgeE1hcmdpbjogb3B0aW9ucy5sYWJlbE9mZnNldCxcclxuICAgICAgeU1hcmdpbjogMFxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5sYWJlbE9mZnNldCA9IG9wdGlvbnMubGFiZWxPZmZzZXQ7XHJcblxyXG4gICAgY29uc3QgaGFsZkFycm93U3BhY2luZyA9IG9wdGlvbnMuYXJyb3dTcGFjaW5nIC8gMjtcclxuICAgIGNvbnN0IGFycm93VGlwID0gaGFsZkFycm93U3BhY2luZyArIG9wdGlvbnMuYXJyb3dMZW5ndGg7XHJcbiAgICB0aGlzLmN1ZWluZ0Fycm93cyA9IG5ldyBOb2RlKCB7XHJcbiAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgbmV3IEFycm93Tm9kZSggaGFsZkFycm93U3BhY2luZywgMCwgYXJyb3dUaXAsIDAsIG9wdGlvbnMuYXJyb3dPcHRpb25zICksXHJcbiAgICAgICAgbmV3IEFycm93Tm9kZSggLWhhbGZBcnJvd1NwYWNpbmcsIDAsIC1hcnJvd1RpcCwgMCwgb3B0aW9ucy5hcnJvd09wdGlvbnMgKVxyXG4gICAgICBdLFxyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2N1ZWluZ0Fycm93cycgKVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hcnJvd3NWaXNpYmxlID0gdHJ1ZTtcclxuXHJcbiAgICAvLyBFeHRlbmQgYm91bmRzIG9mIHBvaW50IGFuZCBjdWluZyBhcnJvd3NcclxuICAgIHRoaXMuZ3JhcGhQb2ludENpcmNsZS5tb3VzZUFyZWEgPSB0aGlzLmdyYXBoUG9pbnRDaXJjbGUubG9jYWxCb3VuZHMuZGlsYXRlZCggNCApO1xyXG4gICAgdGhpcy5ncmFwaFBvaW50Q2lyY2xlLnRvdWNoQXJlYSA9IHRoaXMuY3VlaW5nQXJyb3dzLmxvY2FsQm91bmRzLmRpbGF0ZWQoIDQgKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtQcm9wZXJ0eS48bnVtYmVyPn1cclxuICAgIHRoaXMud2F2ZWxlbmd0aFByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCB0aGlzLmJvZHkucGVha1dhdmVsZW5ndGgsIHtcclxuICAgICAgcmFuZ2U6IG5ldyBSYW5nZSggMCwgQmxhY2tib2R5Q29uc3RhbnRzLm1heEhvcml6b250YWxab29tIClcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBMaW5rcyBhIGNoYW5nZSBpbiB0aGUgYm9keSdzIHRlbXBlcmF0dXJlIHRvIGFsd2F5cyBzZXQgdGhlIHdhdmVsZW5ndGggdG8gdGhlIHBlYWsgd2F2ZWxlbmd0aFxyXG4gICAgdGhpcy5ib2R5LnRlbXBlcmF0dXJlUHJvcGVydHkubGluayggKCkgPT4ge1xyXG5cclxuICAgICAgLy8gQ2xhbXAgdG8gbWFrZSBzdXJlIHdhdmVsZW5ndGggUHJvcGVydHkgaXMgd2l0aGluIGdyYXBoIGJvdW5kc1xyXG4gICAgICB0aGlzLndhdmVsZW5ndGhQcm9wZXJ0eS52YWx1ZSA9IHRoaXMuYm9keS5wZWFrV2F2ZWxlbmd0aDtcclxuICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBTZXRzIHVwIHRoZSBkcmFnIGhhbmRsZXIgZm9yIHRoZSBwb2ludCBjaXJjbGUgYW5kIHZlcnRpY2FsIGRhc2hlZCBsaW5lXHJcbiAgICBsZXQgY2xpY2tYT2Zmc2V0O1xyXG4gICAgY29uc3QgZ3JhcGhWYWx1ZURyYWdIYW5kbGVyID0gbmV3IERyYWdMaXN0ZW5lcigge1xyXG4gICAgICBzdGFydDogZXZlbnQgPT4ge1xyXG4gICAgICAgIGNsaWNrWE9mZnNldCA9IHRoaXMuZ3JhcGhQb2ludENpcmNsZS5nbG9iYWxUb1BhcmVudFBvaW50KCBldmVudC5wb2ludGVyLnBvaW50ICkueCAtIHRoaXMuZ3JhcGhQb2ludENpcmNsZS54O1xyXG4gICAgICB9LFxyXG4gICAgICBkcmFnOiBldmVudCA9PiB7XHJcbiAgICAgICAgY29uc3QgeCA9IHRoaXMuZ3JhcGhQb2ludENpcmNsZS5nbG9iYWxUb1BhcmVudFBvaW50KCBldmVudC5wb2ludGVyLnBvaW50ICkueCAtIGNsaWNrWE9mZnNldDtcclxuXHJcbiAgICAgICAgLy8gQ2xhbXAgdG8gbWFrZSBzdXJlIHdhdmVsZW5ndGggUHJvcGVydHkgaXMgd2l0aGluIGdyYXBoIGJvdW5kc1xyXG4gICAgICAgIHRoaXMud2F2ZWxlbmd0aFByb3BlcnR5LnZhbHVlID0gVXRpbHMuY2xhbXAoXHJcbiAgICAgICAgICB0aGlzLmF4ZXMudmlld1hUb1dhdmVsZW5ndGgoIHggKSxcclxuICAgICAgICAgIDAsXHJcbiAgICAgICAgICB0aGlzLmF4ZXMudmlld1hUb1dhdmVsZW5ndGgoIHRoaXMuYXhlcy5ob3Jpem9udGFsQXhpc0xlbmd0aCApXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICB9LFxyXG4gICAgICBlbmQ6ICgpID0+IHtcclxuICAgICAgICB0aGlzLmN1ZWluZ0Fycm93cy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hcnJvd3NWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGFsbG93VG91Y2hTbmFnOiB0cnVlLFxyXG4gICAgICBkcmFnQ3Vyc29yOiAnZXctcmVzaXplJyxcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdkcmFnTGlzdGVuZXInIClcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmdyYXBoUG9pbnRDaXJjbGUuYWRkSW5wdXRMaXN0ZW5lciggZ3JhcGhWYWx1ZURyYWdIYW5kbGVyICk7XHJcbiAgICB0aGlzLmN1ZWluZ0Fycm93cy5hZGRJbnB1dExpc3RlbmVyKCBncmFwaFZhbHVlRHJhZ0hhbmRsZXIgKTtcclxuICAgIHRoaXMuZGFzaGVkVmVydGljYWxMaW5lUGF0aC5hZGRJbnB1dExpc3RlbmVyKCBncmFwaFZhbHVlRHJhZ0hhbmRsZXIgKTtcclxuXHJcbiAgICAvLyBBZGRzIGNoaWxkcmVuIGluIHJlbmRlcmluZyBvcmRlclxyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5kYXNoZWRWZXJ0aWNhbExpbmVQYXRoICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB0aGlzLmRhc2hlZEhvcml6b250YWxMaW5lUGF0aCApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5jdWVpbmdBcnJvd3MgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHRoaXMud2F2ZWxlbmd0aFZhbHVlVGV4dCApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5zcGVjdHJhbFBvd2VyRGVuc2l0eU5vZGUgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHRoaXMuZ3JhcGhQb2ludENpcmNsZSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUHV0cyB0aGlzIG5vZGUgYmFjayBhdCB0aGUgcGVhayBvZiB0aGUgZ3JhcGhcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLndhdmVsZW5ndGhQcm9wZXJ0eS52YWx1ZSA9IHRoaXMuYm9keS5wZWFrV2F2ZWxlbmd0aDtcclxuICAgIHRoaXMuYXJyb3dzVmlzaWJsZSA9IHRydWU7XHJcbiAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIGNpcmNsZSBhbmQgdGhlIGRhc2hlZCBsaW5lcyBvZiB0aGlzIGdyYXBoVmFsdWVzUG9pbnROb2RlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHVwZGF0ZSgpIHtcclxuXHJcbiAgICAvLyBVcGRhdGUgc3BlY3RyYWwgcG93ZXIgZGVuc2l0eSBmb3IgY2hhbmdlcyBpbiB3YXZlbGVuZ3RoXHJcbiAgICBjb25zdCBzcGVjdHJhbFBvd2VyRGVuc2l0eU9mUG9pbnQgPSB0aGlzLmJvZHkuZ2V0U3BlY3RyYWxQb3dlckRlbnNpdHlBdCggdGhpcy53YXZlbGVuZ3RoUHJvcGVydHkudmFsdWUgKTtcclxuXHJcbiAgICAvLyBVcGRhdGVzIHBvc2l0aW9uIG9mIGdyYXBoIHBvaW50IGNpcmNsZSBpbiB2aWV3XHJcbiAgICB0aGlzLmdyYXBoUG9pbnRDaXJjbGUuY2VudGVyWCA9IHRoaXMuYXhlcy53YXZlbGVuZ3RoVG9WaWV3WCggdGhpcy53YXZlbGVuZ3RoUHJvcGVydHkudmFsdWUgKTtcclxuICAgIHRoaXMuZ3JhcGhQb2ludENpcmNsZS5jZW50ZXJZID0gdGhpcy5heGVzLnNwZWN0cmFsUG93ZXJEZW5zaXR5VG9WaWV3WSggc3BlY3RyYWxQb3dlckRlbnNpdHlPZlBvaW50ICk7XHJcbiAgICB0aGlzLmdyYXBoUG9pbnRDaXJjbGUudmlzaWJsZSA9IHRoaXMuZ3JhcGhQb2ludENpcmNsZS5jZW50ZXJYIDw9IHRoaXMuYXhlcy5ob3Jpem9udGFsQXhpc0xlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdyYXBoUG9pbnRDaXJjbGUuY2VudGVyWSA+PSAtdGhpcy5heGVzLnZlcnRpY2FsQXhpc0xlbmd0aDtcclxuXHJcbiAgICAvLyBVcGRhdGUgY3VlaW5nIGFycm93cyB0byBsaW5lIHVwIHdpdGggZ3JhcGggcG9pbnQgY2lyY2xlXHJcbiAgICB0aGlzLmN1ZWluZ0Fycm93cy5jZW50ZXIgPSB0aGlzLmdyYXBoUG9pbnRDaXJjbGUuY2VudGVyO1xyXG4gICAgdGhpcy5jdWVpbmdBcnJvd3MudmlzaWJsZSA9IHRoaXMuYXJyb3dzVmlzaWJsZSAmJiB0aGlzLmdyYXBoUG9pbnRDaXJjbGUudmlzaWJsZTtcclxuXHJcbiAgICAvLyBVcGRhdGVzIHZhbHVlIGxhYmVscycgdGV4dFxyXG4gICAgdGhpcy53YXZlbGVuZ3RoVmFsdWVUZXh0LnN0cmluZyA9IFV0aWxzLnRvRml4ZWQoIHRoaXMud2F2ZWxlbmd0aFByb3BlcnR5LnZhbHVlIC8gMTAwMC4wLCAzICk7IC8vIG5tIHRvIG1pY3JvbnNcclxuXHJcbiAgICAvLyBTcGVjdHJhbCBQb3dlciBEZW5zaXR5IGlzIGdpdmVuIHNwZWNpYWwgY2FzZSBmb3Igc2NpZW50aWZpYyBub3RhdGlvblxyXG4gICAgY29uc3Qgc3BlY3RyYWxQb3dlckRlbnNpdHlWYWx1ZSA9IHNwZWN0cmFsUG93ZXJEZW5zaXR5T2ZQb2ludCAqIDFlMzM7IC8vIG11bHRpcGxpZXIgaXMgdG8gbWF0Y2ggeSBheGlzXHJcbiAgICBpZiAoIHNwZWN0cmFsUG93ZXJEZW5zaXR5VmFsdWUgPCAwLjAxICYmIHNwZWN0cmFsUG93ZXJEZW5zaXR5VmFsdWUgIT09IDAgKSB7XHJcbiAgICAgIGNvbnN0IG5vdGF0aW9uT2JqZWN0ID0gU2NpZW50aWZpY05vdGF0aW9uTm9kZS50b1NjaWVudGlmaWNOb3RhdGlvbiggc3BlY3RyYWxQb3dlckRlbnNpdHlWYWx1ZSwge1xyXG4gICAgICAgIG1hbnRpc3NhRGVjaW1hbFBsYWNlczogMFxyXG4gICAgICB9ICk7XHJcbiAgICAgIGxldCBmb3JtYXR0ZWRTdHJpbmcgPSBub3RhdGlvbk9iamVjdC5tYW50aXNzYTtcclxuICAgICAgaWYgKCBub3RhdGlvbk9iamVjdC5leHBvbmVudCAhPT0gJzAnICkge1xyXG5cclxuICAgICAgICAvLyBVc2luZyB1bmljb2RlIFRoaW4gU3BhY2UgYW5kIEhhaXIgU3BhY2UgdG8gcmVkdWNlIGRpc3RhbmNlIGJldHdlZW4gbnVtYmVycyBhbmQgXCJYXCIgaW4gbm90YXRpb25cclxuICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgKz0gYFxcdTIwMDlcXHUwMEQ3XFx1MjAwQTEwPHN1cD4ke25vdGF0aW9uT2JqZWN0LmV4cG9uZW50fTwvc3VwPmA7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zcGVjdHJhbFBvd2VyRGVuc2l0eVZhbHVlVGV4dC5zdHJpbmcgPSBmb3JtYXR0ZWRTdHJpbmc7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5zcGVjdHJhbFBvd2VyRGVuc2l0eVZhbHVlVGV4dC5zdHJpbmcgPSBzcGVjdHJhbFBvd2VyRGVuc2l0eVZhbHVlLnRvUHJlY2lzaW9uKCA0ICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlcyB2YWx1ZSBsYWJlbHMnIHBvc2l0aW9uaW5nXHJcbiAgICB0aGlzLndhdmVsZW5ndGhWYWx1ZVRleHQuY2VudGVyWCA9IHRoaXMuZ3JhcGhQb2ludENpcmNsZS5jZW50ZXJYO1xyXG4gICAgdGhpcy53YXZlbGVuZ3RoVmFsdWVUZXh0LnRvcCA9IHRoaXMubGFiZWxPZmZzZXQ7XHJcbiAgICB0aGlzLnNwZWN0cmFsUG93ZXJEZW5zaXR5Tm9kZS5jZW50ZXJZID0gdGhpcy5ncmFwaFBvaW50Q2lyY2xlLmNlbnRlclk7XHJcbiAgICB0aGlzLnNwZWN0cmFsUG93ZXJEZW5zaXR5Tm9kZS5yaWdodCA9IC0yO1xyXG5cclxuICAgIC8vIENsYW1wcyBsYWJlbCBwb3NpdGlvbnMgc28gdGhhdCB0aGV5IGRvbid0IGdvIG9mZiB0aGUgZ3JhcGhcclxuICAgIGlmICggdGhpcy53YXZlbGVuZ3RoVmFsdWVUZXh0LnJpZ2h0ID4gdGhpcy5heGVzLmhvcml6b250YWxBeGlzTGVuZ3RoIC0gdGhpcy5sYWJlbE9mZnNldCApIHtcclxuICAgICAgdGhpcy53YXZlbGVuZ3RoVmFsdWVUZXh0LnJpZ2h0ID0gdGhpcy5heGVzLmhvcml6b250YWxBeGlzTGVuZ3RoIC0gdGhpcy5sYWJlbE9mZnNldDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCB0aGlzLndhdmVsZW5ndGhWYWx1ZVRleHQubGVmdCA8IHRoaXMubGFiZWxPZmZzZXQgKSB7XHJcbiAgICAgIHRoaXMud2F2ZWxlbmd0aFZhbHVlVGV4dC5sZWZ0ID0gdGhpcy5sYWJlbE9mZnNldDtcclxuICAgIH1cclxuICAgIGlmICggdGhpcy5zcGVjdHJhbFBvd2VyRGVuc2l0eU5vZGUudG9wIDwgLXRoaXMuYXhlcy52ZXJ0aWNhbEF4aXNMZW5ndGggKyB0aGlzLmxhYmVsT2Zmc2V0ICkge1xyXG4gICAgICB0aGlzLnNwZWN0cmFsUG93ZXJEZW5zaXR5Tm9kZS50b3AgPSAtdGhpcy5heGVzLnZlcnRpY2FsQXhpc0xlbmd0aCArIHRoaXMubGFiZWxPZmZzZXQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggdGhpcy5zcGVjdHJhbFBvd2VyRGVuc2l0eU5vZGUuYm90dG9tID4gdGhpcy5sYWJlbE9mZnNldCApIHtcclxuICAgICAgdGhpcy5zcGVjdHJhbFBvd2VyRGVuc2l0eU5vZGUuYm90dG9tID0gdGhpcy5sYWJlbE9mZnNldDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGVzIGRhc2hlZCBsaW5lcyB0byBmb2xsb3cgZ3JhcGggcG9pbnQgY2lyY2xlXHJcbiAgICB0aGlzLmRhc2hlZFZlcnRpY2FsTGluZVBhdGguc2hhcGUgPSBuZXcgU2hhcGUoKTtcclxuICAgIHRoaXMuZGFzaGVkSG9yaXpvbnRhbExpbmVQYXRoLnNoYXBlID0gbmV3IFNoYXBlKCk7XHJcblxyXG4gICAgdGhpcy5kYXNoZWRWZXJ0aWNhbExpbmVQYXRoLnNoYXBlLm1vdmVUbyggdGhpcy5ncmFwaFBvaW50Q2lyY2xlLmNlbnRlclgsIDAgKTtcclxuICAgIHRoaXMuZGFzaGVkSG9yaXpvbnRhbExpbmVQYXRoLnNoYXBlLm1vdmVUbyggMCwgdGhpcy5ncmFwaFBvaW50Q2lyY2xlLmNlbnRlclkgKTtcclxuXHJcbiAgICBpZiAoIHRoaXMuZ3JhcGhQb2ludENpcmNsZS5jZW50ZXJYID4gdGhpcy5heGVzLmhvcml6b250YWxBeGlzTGVuZ3RoICkge1xyXG4gICAgICB0aGlzLmRhc2hlZEhvcml6b250YWxMaW5lUGF0aC5zaGFwZS5saW5lVG8oIHRoaXMuYXhlcy5ob3Jpem9udGFsQXhpc0xlbmd0aCwgdGhpcy5ncmFwaFBvaW50Q2lyY2xlLmNlbnRlclkgKTtcclxuICAgICAgdGhpcy5kYXNoZWRWZXJ0aWNhbExpbmVQYXRoLnZpc2libGUgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmRhc2hlZEhvcml6b250YWxMaW5lUGF0aC5zaGFwZS5saW5lVG8oIHRoaXMuZ3JhcGhQb2ludENpcmNsZS5jZW50ZXJYLCB0aGlzLmdyYXBoUG9pbnRDaXJjbGUuY2VudGVyWSApO1xyXG4gICAgICB0aGlzLmRhc2hlZFZlcnRpY2FsTGluZVBhdGgudmlzaWJsZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCB0aGlzLmdyYXBoUG9pbnRDaXJjbGUuY2VudGVyWSA+IC10aGlzLmF4ZXMudmVydGljYWxBeGlzTGVuZ3RoICkge1xyXG4gICAgICB0aGlzLmRhc2hlZFZlcnRpY2FsTGluZVBhdGguc2hhcGUubGluZVRvKCB0aGlzLmdyYXBoUG9pbnRDaXJjbGUuY2VudGVyWCwgdGhpcy5ncmFwaFBvaW50Q2lyY2xlLmNlbnRlclkgKTtcclxuICAgICAgdGhpcy5kYXNoZWRIb3Jpem9udGFsTGluZVBhdGgudmlzaWJsZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5kYXNoZWRWZXJ0aWNhbExpbmVQYXRoLnNoYXBlLmxpbmVUbyggdGhpcy5ncmFwaFBvaW50Q2lyY2xlLmNlbnRlclgsIC10aGlzLmF4ZXMudmVydGljYWxBeGlzTGVuZ3RoICk7XHJcbiAgICAgIHRoaXMuZGFzaGVkSG9yaXpvbnRhbExpbmVQYXRoLnZpc2libGUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRhc2hlZFZlcnRpY2FsTGluZVBhdGgudmlzaWJsZSA9IHRoaXMuZ3JhcGhQb2ludENpcmNsZS5jZW50ZXJYIDw9IHRoaXMuYXhlcy5ob3Jpem9udGFsQXhpc0xlbmd0aDtcclxuXHJcbiAgICAvLyBEb24ndCBleHRlbmQgdG91Y2gvbW91c2UgYXJlYXMgd2hlbiBkaXN0YW5jZSBpcyBzbyBzbWFsbCwgYXZvaWRzIGVycm9ycyB3aGVuIHNob3dpbmcgcG9pbnRlciBhcmVhc1xyXG4gICAgaWYgKCB0aGlzLmdyYXBoUG9pbnRDaXJjbGUuY2VudGVyWSA8IC0xZS04ICkge1xyXG4gICAgICB0aGlzLmRhc2hlZFZlcnRpY2FsTGluZVBhdGgudG91Y2hBcmVhID0gdGhpcy5kYXNoZWRWZXJ0aWNhbExpbmVQYXRoLmxvY2FsQm91bmRzLmRpbGF0ZWQoIDQgKTtcclxuICAgICAgdGhpcy5kYXNoZWRWZXJ0aWNhbExpbmVQYXRoLm1vdXNlQXJlYSA9IHRoaXMuZGFzaGVkVmVydGljYWxMaW5lUGF0aC5sb2NhbEJvdW5kcy5kaWxhdGVkKCA0ICk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5kYXNoZWRWZXJ0aWNhbExpbmVQYXRoLnRvdWNoQXJlYSA9IG51bGw7XHJcbiAgICAgIHRoaXMuZGFzaGVkVmVydGljYWxMaW5lUGF0aC5tb3VzZUFyZWEgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmJsYWNrYm9keVNwZWN0cnVtLnJlZ2lzdGVyKCAnR3JhcGhWYWx1ZXNQb2ludE5vZGUnLCBHcmFwaFZhbHVlc1BvaW50Tm9kZSApO1xyXG5leHBvcnQgZGVmYXVsdCBHcmFwaFZhbHVlc1BvaW50Tm9kZTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsY0FBYyxNQUFNLHVDQUF1QztBQUNsRSxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9B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