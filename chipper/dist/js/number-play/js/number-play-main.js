// Copyright 2019-2023, University of Colorado Boulder

/**
 * Main entry point for the sim.
 *
 * @author Chris Klusendorf (PhET Interactive Simulations)
 */

import Sim from '../../joist/js/Sim.js';
import simLauncher from '../../joist/js/simLauncher.js';
import Tandem from '../../tandem/js/Tandem.js';
import NumberPlayGameScreen from './game/NumberPlayGameScreen.js';
import LabScreen from '../../number-suite-common/js/lab/LabScreen.js';
import NumberPlayStrings from './NumberPlayStrings.js';
import TenScreen from './ten/TenScreen.js';
import TwentyScreen from './twenty/TwentyScreen.js';
import numberPlaySpeechSynthesisAnnouncer from './common/view/numberPlaySpeechSynthesisAnnouncer.js';
import { Display } from '../../scenery/js/imports.js';
import DerivedProperty from '../../axon/js/DerivedProperty.js';
import audioManager from '../../joist/js/audioManager.js';
import SpeechSynthesisAnnouncer from '../../utterance-queue/js/SpeechSynthesisAnnouncer.js';
import soundManager from '../../tambo/js/soundManager.js';
import numberPlayPreferences from './common/model/numberPlayPreferences.js';
import PreferencesModel from '../../joist/js/preferences/PreferencesModel.js';
import NumberPlayPreferencesNode from './common/view/NumberPlayPreferencesNode.js';
import AutoHearControl from '../../number-suite-common/js/common/view/AutoHearControl.js';
import NumberSuiteCommonPreferencesNode from '../../number-suite-common/js/common/view/NumberSuiteCommonPreferencesNode.js';
import numberPlayUtteranceQueue from './common/view/numberPlayUtteranceQueue.js';
import LanguageAndVoiceControl from '../../number-suite-common/js/common/view/LanguageAndVoiceControl.js';
import localeProperty from '../../joist/js/i18n/localeProperty.js';
import MathSymbols from '../../scenery-phet/js/MathSymbols.js';
const numberPlayTitleStringProperty = NumberPlayStrings['number-play'].titleStringProperty;
const LAB_SCREEN_SYMBOLS = [MathSymbols.EQUAL_TO, MathSymbols.PLUS, MathSymbols.MINUS];
const simOptions = {
  credits: {
    leadDesign: 'Amanda McGarry',
    softwareDevelopment: 'Chris Klusendorf, Luisa Vargas',
    team: 'Catherine Carter, Sylvia CeledÃ³n-Pattichis, Michael Kauzmann, Chris Malley (PixelZoom, Inc.), Ariel Paul, Kathy Perkins, Marla Schulz, Ian Whitacre',
    qualityAssurance: 'Jaron Droder, Clifford Hardin, Emily Miller, Nancy Salpepi, Martin Veillette, Kathryn Woessner',
    graphicArts: 'Mariah Hermsmeyer',
    thanks: 'Andrea Barraugh (Math Transformations), Kristin Donley, Bertha Orona'
  },
  preferencesModel: new PreferencesModel({
    simulationOptions: {
      customPreferences: [{
        createContent: () => new NumberPlayPreferencesNode()
      }]
    },
    audioOptions: {
      customPreferences: [{
        createContent: () => new AutoHearControl(numberPlayPreferences, numberPlaySpeechSynthesisAnnouncer, NumberPlayStrings.automaticallyHearTotalStringProperty, NumberPlayStrings.automaticallyHearTotalDescriptionStringProperty, NumberSuiteCommonPreferencesNode.hasScreenType(TenScreen) || NumberSuiteCommonPreferencesNode.hasScreenType(TwentyScreen))
      }]
    },
    localizationOptions: {
      includeLocalePanel: false,
      customPreferences: [{
        createContent: () => new LanguageAndVoiceControl(localeProperty, numberPlayPreferences.primaryVoiceProperty, numberPlayUtteranceQueue)
      }]
    }
  })
};

// launch the sim - beware that scenery Image nodes created outside of simLauncher.launch() will have zero bounds
// until the images are fully loaded, see https://github.com/phetsims/coulombs-law/issues/70
simLauncher.launch(() => {
  const sim = new Sim(numberPlayTitleStringProperty, [new TenScreen(Tandem.ROOT.createTandem('tenScreen')), new TwentyScreen(Tandem.ROOT.createTandem('twentyScreen')), new NumberPlayGameScreen(Tandem.ROOT.createTandem('numberPlayGameScreen')), new LabScreen(LAB_SCREEN_SYMBOLS, numberPlayPreferences, Tandem.ROOT.createTandem('numberPlayLabScreen'))], simOptions);
  sim.start();
  soundManager.setOutputLevelForCategory('user-interface', 0);

  // initialize the SpeechSynthesisAnnouncers that will use speech synthesis for general sim use and setting preferences
  if (SpeechSynthesisAnnouncer.isSpeechSynthesisSupported()) {
    numberPlaySpeechSynthesisAnnouncer.initialize(Display.userGestureEmitter, {
      // specify the Properties that control whether output is allowed with speech synthesis
      speechAllowedProperty: new DerivedProperty([sim.isConstructionCompleteProperty, sim.browserTabVisibleProperty, sim.activeProperty, sim.isSettingPhetioStateProperty, audioManager.audioEnabledProperty], (simConstructionComplete, simVisible, simActive, simSettingPhetioState, audioEnabled) => {
        return simConstructionComplete && simVisible && simActive && !simSettingPhetioState && audioEnabled;
      })
    });
    numberPlaySpeechSynthesisAnnouncer.enabledProperty.value = true;
  }
  numberPlayUtteranceQueue.initialize(sim.selectedScreenProperty);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTaW0iLCJzaW1MYXVuY2hlciIsIlRhbmRlbSIsIk51bWJlclBsYXlHYW1lU2NyZWVuIiwiTGFiU2NyZWVuIiwiTnVtYmVyUGxheVN0cmluZ3MiLCJUZW5TY3JlZW4iLCJUd2VudHlTY3JlZW4iLCJudW1iZXJQbGF5U3BlZWNoU3ludGhlc2lzQW5ub3VuY2VyIiwiRGlzcGxheSIsIkRlcml2ZWRQcm9wZXJ0eSIsImF1ZGlvTWFuYWdlciIsIlNwZWVjaFN5bnRoZXNpc0Fubm91bmNlciIsInNvdW5kTWFuYWdlciIsIm51bWJlclBsYXlQcmVmZXJlbmNlcyIsIlByZWZlcmVuY2VzTW9kZWwiLCJOdW1iZXJQbGF5UHJlZmVyZW5jZXNOb2RlIiwiQXV0b0hlYXJDb250cm9sIiwiTnVtYmVyU3VpdGVDb21tb25QcmVmZXJlbmNlc05vZGUiLCJudW1iZXJQbGF5VXR0ZXJhbmNlUXVldWUiLCJMYW5ndWFnZUFuZFZvaWNlQ29udHJvbCIsImxvY2FsZVByb3BlcnR5IiwiTWF0aFN5bWJvbHMiLCJudW1iZXJQbGF5VGl0bGVTdHJpbmdQcm9wZXJ0eSIsInRpdGxlU3RyaW5nUHJvcGVydHkiLCJMQUJfU0NSRUVOX1NZTUJPTFMiLCJFUVVBTF9UTyIsIlBMVVMiLCJNSU5VUyIsInNpbU9wdGlvbnMiLCJjcmVkaXRzIiwibGVhZERlc2lnbiIsInNvZnR3YXJlRGV2ZWxvcG1lbnQiLCJ0ZWFtIiwicXVhbGl0eUFzc3VyYW5jZSIsImdyYXBoaWNBcnRzIiwidGhhbmtzIiwicHJlZmVyZW5jZXNNb2RlbCIsInNpbXVsYXRpb25PcHRpb25zIiwiY3VzdG9tUHJlZmVyZW5jZXMiLCJjcmVhdGVDb250ZW50IiwiYXVkaW9PcHRpb25zIiwiYXV0b21hdGljYWxseUhlYXJUb3RhbFN0cmluZ1Byb3BlcnR5IiwiYXV0b21hdGljYWxseUhlYXJUb3RhbERlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHkiLCJoYXNTY3JlZW5UeXBlIiwibG9jYWxpemF0aW9uT3B0aW9ucyIsImluY2x1ZGVMb2NhbGVQYW5lbCIsInByaW1hcnlWb2ljZVByb3BlcnR5IiwibGF1bmNoIiwic2ltIiwiUk9PVCIsImNyZWF0ZVRhbmRlbSIsInN0YXJ0Iiwic2V0T3V0cHV0TGV2ZWxGb3JDYXRlZ29yeSIsImlzU3BlZWNoU3ludGhlc2lzU3VwcG9ydGVkIiwiaW5pdGlhbGl6ZSIsInVzZXJHZXN0dXJlRW1pdHRlciIsInNwZWVjaEFsbG93ZWRQcm9wZXJ0eSIsImlzQ29uc3RydWN0aW9uQ29tcGxldGVQcm9wZXJ0eSIsImJyb3dzZXJUYWJWaXNpYmxlUHJvcGVydHkiLCJhY3RpdmVQcm9wZXJ0eSIsImlzU2V0dGluZ1BoZXRpb1N0YXRlUHJvcGVydHkiLCJhdWRpb0VuYWJsZWRQcm9wZXJ0eSIsInNpbUNvbnN0cnVjdGlvbkNvbXBsZXRlIiwic2ltVmlzaWJsZSIsInNpbUFjdGl2ZSIsInNpbVNldHRpbmdQaGV0aW9TdGF0ZSIsImF1ZGlvRW5hYmxlZCIsImVuYWJsZWRQcm9wZXJ0eSIsInZhbHVlIiwic2VsZWN0ZWRTY3JlZW5Qcm9wZXJ0eSJdLCJzb3VyY2VzIjpbIm51bWJlci1wbGF5LW1haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTktMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogTWFpbiBlbnRyeSBwb2ludCBmb3IgdGhlIHNpbS5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBLbHVzZW5kb3JmIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCBTaW0sIHsgU2ltT3B0aW9ucyB9IGZyb20gJy4uLy4uL2pvaXN0L2pzL1NpbS5qcyc7XHJcbmltcG9ydCBzaW1MYXVuY2hlciBmcm9tICcuLi8uLi9qb2lzdC9qcy9zaW1MYXVuY2hlci5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBOdW1iZXJQbGF5R2FtZVNjcmVlbiBmcm9tICcuL2dhbWUvTnVtYmVyUGxheUdhbWVTY3JlZW4uanMnO1xyXG5pbXBvcnQgTGFiU2NyZWVuIGZyb20gJy4uLy4uL251bWJlci1zdWl0ZS1jb21tb24vanMvbGFiL0xhYlNjcmVlbi5qcyc7XHJcbmltcG9ydCBOdW1iZXJQbGF5U3RyaW5ncyBmcm9tICcuL051bWJlclBsYXlTdHJpbmdzLmpzJztcclxuaW1wb3J0IFRlblNjcmVlbiBmcm9tICcuL3Rlbi9UZW5TY3JlZW4uanMnO1xyXG5pbXBvcnQgVHdlbnR5U2NyZWVuIGZyb20gJy4vdHdlbnR5L1R3ZW50eVNjcmVlbi5qcyc7XHJcbmltcG9ydCBudW1iZXJQbGF5U3BlZWNoU3ludGhlc2lzQW5ub3VuY2VyIGZyb20gJy4vY29tbW9uL3ZpZXcvbnVtYmVyUGxheVNwZWVjaFN5bnRoZXNpc0Fubm91bmNlci5qcyc7XHJcbmltcG9ydCB7IERpc3BsYXkgfSBmcm9tICcuLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgRGVyaXZlZFByb3BlcnR5IGZyb20gJy4uLy4uL2F4b24vanMvRGVyaXZlZFByb3BlcnR5LmpzJztcclxuaW1wb3J0IGF1ZGlvTWFuYWdlciBmcm9tICcuLi8uLi9qb2lzdC9qcy9hdWRpb01hbmFnZXIuanMnO1xyXG5pbXBvcnQgU3BlZWNoU3ludGhlc2lzQW5ub3VuY2VyIGZyb20gJy4uLy4uL3V0dGVyYW5jZS1xdWV1ZS9qcy9TcGVlY2hTeW50aGVzaXNBbm5vdW5jZXIuanMnO1xyXG5pbXBvcnQgc291bmRNYW5hZ2VyIGZyb20gJy4uLy4uL3RhbWJvL2pzL3NvdW5kTWFuYWdlci5qcyc7XHJcbmltcG9ydCBudW1iZXJQbGF5UHJlZmVyZW5jZXMgZnJvbSAnLi9jb21tb24vbW9kZWwvbnVtYmVyUGxheVByZWZlcmVuY2VzLmpzJztcclxuaW1wb3J0IFByZWZlcmVuY2VzTW9kZWwgZnJvbSAnLi4vLi4vam9pc3QvanMvcHJlZmVyZW5jZXMvUHJlZmVyZW5jZXNNb2RlbC5qcyc7XHJcbmltcG9ydCBOdW1iZXJQbGF5UHJlZmVyZW5jZXNOb2RlIGZyb20gJy4vY29tbW9uL3ZpZXcvTnVtYmVyUGxheVByZWZlcmVuY2VzTm9kZS5qcyc7XHJcbmltcG9ydCBBdXRvSGVhckNvbnRyb2wgZnJvbSAnLi4vLi4vbnVtYmVyLXN1aXRlLWNvbW1vbi9qcy9jb21tb24vdmlldy9BdXRvSGVhckNvbnRyb2wuanMnO1xyXG5pbXBvcnQgTnVtYmVyU3VpdGVDb21tb25QcmVmZXJlbmNlc05vZGUgZnJvbSAnLi4vLi4vbnVtYmVyLXN1aXRlLWNvbW1vbi9qcy9jb21tb24vdmlldy9OdW1iZXJTdWl0ZUNvbW1vblByZWZlcmVuY2VzTm9kZS5qcyc7XHJcbmltcG9ydCBudW1iZXJQbGF5VXR0ZXJhbmNlUXVldWUgZnJvbSAnLi9jb21tb24vdmlldy9udW1iZXJQbGF5VXR0ZXJhbmNlUXVldWUuanMnO1xyXG5pbXBvcnQgTGFuZ3VhZ2VBbmRWb2ljZUNvbnRyb2wgZnJvbSAnLi4vLi4vbnVtYmVyLXN1aXRlLWNvbW1vbi9qcy9jb21tb24vdmlldy9MYW5ndWFnZUFuZFZvaWNlQ29udHJvbC5qcyc7XHJcbmltcG9ydCBsb2NhbGVQcm9wZXJ0eSBmcm9tICcuLi8uLi9qb2lzdC9qcy9pMThuL2xvY2FsZVByb3BlcnR5LmpzJztcclxuaW1wb3J0IE1hdGhTeW1ib2xzIGZyb20gJy4uLy4uL3NjZW5lcnktcGhldC9qcy9NYXRoU3ltYm9scy5qcyc7XHJcblxyXG5jb25zdCBudW1iZXJQbGF5VGl0bGVTdHJpbmdQcm9wZXJ0eSA9IE51bWJlclBsYXlTdHJpbmdzWyAnbnVtYmVyLXBsYXknIF0udGl0bGVTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgTEFCX1NDUkVFTl9TWU1CT0xTID0gWyBNYXRoU3ltYm9scy5FUVVBTF9UTywgTWF0aFN5bWJvbHMuUExVUywgTWF0aFN5bWJvbHMuTUlOVVMgXTtcclxuXHJcbmNvbnN0IHNpbU9wdGlvbnM6IFNpbU9wdGlvbnMgPSB7XHJcbiAgY3JlZGl0czoge1xyXG4gICAgbGVhZERlc2lnbjogJ0FtYW5kYSBNY0dhcnJ5JyxcclxuICAgIHNvZnR3YXJlRGV2ZWxvcG1lbnQ6ICdDaHJpcyBLbHVzZW5kb3JmLCBMdWlzYSBWYXJnYXMnLFxyXG4gICAgdGVhbTogJ0NhdGhlcmluZSBDYXJ0ZXIsIFN5bHZpYSBDZWxlZMOzbi1QYXR0aWNoaXMsIE1pY2hhZWwgS2F1em1hbm4sIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKSwgQXJpZWwgUGF1bCwgS2F0aHkgUGVya2lucywgTWFybGEgU2NodWx6LCBJYW4gV2hpdGFjcmUnLFxyXG4gICAgcXVhbGl0eUFzc3VyYW5jZTogJ0phcm9uIERyb2RlciwgQ2xpZmZvcmQgSGFyZGluLCBFbWlseSBNaWxsZXIsIE5hbmN5IFNhbHBlcGksIE1hcnRpbiBWZWlsbGV0dGUsIEthdGhyeW4gV29lc3NuZXInLFxyXG4gICAgZ3JhcGhpY0FydHM6ICdNYXJpYWggSGVybXNtZXllcicsXHJcbiAgICB0aGFua3M6ICdBbmRyZWEgQmFycmF1Z2ggKE1hdGggVHJhbnNmb3JtYXRpb25zKSwgS3Jpc3RpbiBEb25sZXksIEJlcnRoYSBPcm9uYSdcclxuICB9LFxyXG4gIHByZWZlcmVuY2VzTW9kZWw6IG5ldyBQcmVmZXJlbmNlc01vZGVsKCB7XHJcbiAgICBzaW11bGF0aW9uT3B0aW9uczoge1xyXG4gICAgICBjdXN0b21QcmVmZXJlbmNlczogWyB7XHJcbiAgICAgICAgY3JlYXRlQ29udGVudDogKCkgPT4gbmV3IE51bWJlclBsYXlQcmVmZXJlbmNlc05vZGUoKVxyXG4gICAgICB9IF1cclxuICAgIH0sXHJcbiAgICBhdWRpb09wdGlvbnM6IHtcclxuICAgICAgY3VzdG9tUHJlZmVyZW5jZXM6IFsge1xyXG4gICAgICAgIGNyZWF0ZUNvbnRlbnQ6ICgpID0+IG5ldyBBdXRvSGVhckNvbnRyb2woXHJcbiAgICAgICAgICBudW1iZXJQbGF5UHJlZmVyZW5jZXMsXHJcbiAgICAgICAgICBudW1iZXJQbGF5U3BlZWNoU3ludGhlc2lzQW5ub3VuY2VyLFxyXG4gICAgICAgICAgTnVtYmVyUGxheVN0cmluZ3MuYXV0b21hdGljYWxseUhlYXJUb3RhbFN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICAgICAgTnVtYmVyUGxheVN0cmluZ3MuYXV0b21hdGljYWxseUhlYXJUb3RhbERlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHksXHJcbiAgICAgICAgICBOdW1iZXJTdWl0ZUNvbW1vblByZWZlcmVuY2VzTm9kZS5oYXNTY3JlZW5UeXBlKCBUZW5TY3JlZW4gKSB8fCBOdW1iZXJTdWl0ZUNvbW1vblByZWZlcmVuY2VzTm9kZS5oYXNTY3JlZW5UeXBlKCBUd2VudHlTY3JlZW4gKSApXHJcbiAgICAgIH0gXVxyXG4gICAgfSxcclxuICAgIGxvY2FsaXphdGlvbk9wdGlvbnM6IHtcclxuICAgICAgaW5jbHVkZUxvY2FsZVBhbmVsOiBmYWxzZSxcclxuICAgICAgY3VzdG9tUHJlZmVyZW5jZXM6IFsge1xyXG4gICAgICAgIGNyZWF0ZUNvbnRlbnQ6ICgpID0+IG5ldyBMYW5ndWFnZUFuZFZvaWNlQ29udHJvbChcclxuICAgICAgICAgIGxvY2FsZVByb3BlcnR5LFxyXG4gICAgICAgICAgbnVtYmVyUGxheVByZWZlcmVuY2VzLnByaW1hcnlWb2ljZVByb3BlcnR5LFxyXG4gICAgICAgICAgbnVtYmVyUGxheVV0dGVyYW5jZVF1ZXVlXHJcbiAgICAgICAgKVxyXG4gICAgICB9IF1cclxuICAgIH1cclxuICB9IClcclxufTtcclxuXHJcbi8vIGxhdW5jaCB0aGUgc2ltIC0gYmV3YXJlIHRoYXQgc2NlbmVyeSBJbWFnZSBub2RlcyBjcmVhdGVkIG91dHNpZGUgb2Ygc2ltTGF1bmNoZXIubGF1bmNoKCkgd2lsbCBoYXZlIHplcm8gYm91bmRzXHJcbi8vIHVudGlsIHRoZSBpbWFnZXMgYXJlIGZ1bGx5IGxvYWRlZCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9jb3Vsb21icy1sYXcvaXNzdWVzLzcwXHJcbnNpbUxhdW5jaGVyLmxhdW5jaCggKCkgPT4ge1xyXG5cclxuICBjb25zdCBzaW0gPSBuZXcgU2ltKCBudW1iZXJQbGF5VGl0bGVTdHJpbmdQcm9wZXJ0eSwgW1xyXG4gICAgbmV3IFRlblNjcmVlbiggVGFuZGVtLlJPT1QuY3JlYXRlVGFuZGVtKCAndGVuU2NyZWVuJyApICksXHJcbiAgICBuZXcgVHdlbnR5U2NyZWVuKCBUYW5kZW0uUk9PVC5jcmVhdGVUYW5kZW0oICd0d2VudHlTY3JlZW4nICkgKSxcclxuICAgIG5ldyBOdW1iZXJQbGF5R2FtZVNjcmVlbiggVGFuZGVtLlJPT1QuY3JlYXRlVGFuZGVtKCAnbnVtYmVyUGxheUdhbWVTY3JlZW4nICkgKSxcclxuICAgIG5ldyBMYWJTY3JlZW4oIExBQl9TQ1JFRU5fU1lNQk9MUywgbnVtYmVyUGxheVByZWZlcmVuY2VzLCBUYW5kZW0uUk9PVC5jcmVhdGVUYW5kZW0oICdudW1iZXJQbGF5TGFiU2NyZWVuJyApIClcclxuICBdLCBzaW1PcHRpb25zICk7XHJcbiAgc2ltLnN0YXJ0KCk7XHJcblxyXG4gIHNvdW5kTWFuYWdlci5zZXRPdXRwdXRMZXZlbEZvckNhdGVnb3J5KCAndXNlci1pbnRlcmZhY2UnLCAwICk7XHJcblxyXG4gIC8vIGluaXRpYWxpemUgdGhlIFNwZWVjaFN5bnRoZXNpc0Fubm91bmNlcnMgdGhhdCB3aWxsIHVzZSBzcGVlY2ggc3ludGhlc2lzIGZvciBnZW5lcmFsIHNpbSB1c2UgYW5kIHNldHRpbmcgcHJlZmVyZW5jZXNcclxuICBpZiAoIFNwZWVjaFN5bnRoZXNpc0Fubm91bmNlci5pc1NwZWVjaFN5bnRoZXNpc1N1cHBvcnRlZCgpICkge1xyXG4gICAgbnVtYmVyUGxheVNwZWVjaFN5bnRoZXNpc0Fubm91bmNlci5pbml0aWFsaXplKCBEaXNwbGF5LnVzZXJHZXN0dXJlRW1pdHRlciwge1xyXG5cclxuICAgICAgLy8gc3BlY2lmeSB0aGUgUHJvcGVydGllcyB0aGF0IGNvbnRyb2wgd2hldGhlciBvdXRwdXQgaXMgYWxsb3dlZCB3aXRoIHNwZWVjaCBzeW50aGVzaXNcclxuICAgICAgc3BlZWNoQWxsb3dlZFByb3BlcnR5OiBuZXcgRGVyaXZlZFByb3BlcnR5KCBbXHJcbiAgICAgICAgc2ltLmlzQ29uc3RydWN0aW9uQ29tcGxldGVQcm9wZXJ0eSxcclxuICAgICAgICBzaW0uYnJvd3NlclRhYlZpc2libGVQcm9wZXJ0eSxcclxuICAgICAgICBzaW0uYWN0aXZlUHJvcGVydHksXHJcbiAgICAgICAgc2ltLmlzU2V0dGluZ1BoZXRpb1N0YXRlUHJvcGVydHksXHJcbiAgICAgICAgYXVkaW9NYW5hZ2VyLmF1ZGlvRW5hYmxlZFByb3BlcnR5XHJcbiAgICAgIF0sICggc2ltQ29uc3RydWN0aW9uQ29tcGxldGUsIHNpbVZpc2libGUsIHNpbUFjdGl2ZSwgc2ltU2V0dGluZ1BoZXRpb1N0YXRlLCBhdWRpb0VuYWJsZWQgKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHNpbUNvbnN0cnVjdGlvbkNvbXBsZXRlICYmIHNpbVZpc2libGUgJiYgc2ltQWN0aXZlICYmICFzaW1TZXR0aW5nUGhldGlvU3RhdGUgJiYgYXVkaW9FbmFibGVkO1xyXG4gICAgICB9IClcclxuICAgIH0gKTtcclxuICAgIG51bWJlclBsYXlTcGVlY2hTeW50aGVzaXNBbm5vdW5jZXIuZW5hYmxlZFByb3BlcnR5LnZhbHVlID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIG51bWJlclBsYXlVdHRlcmFuY2VRdWV1ZS5pbml0aWFsaXplKCBzaW0uc2VsZWN0ZWRTY3JlZW5Qcm9wZXJ0eSApO1xyXG59ICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLEdBQUcsTUFBc0IsdUJBQXVCO0FBQ3ZELE9BQU9DLFdBQVcsTUFBTSwrQkFBK0I7QUFDdkQsT0FBT0MsTUFBTSxNQUFNLDJCQUEyQjtBQUM5QyxPQUFPQyxvQkFBb0IsTUFBTSxnQ0FBZ0M7QUFDakUsT0FBT0MsU0FBUyxNQUFNLCtDQUErQztBQUNyRSxPQUFPQyxpQkFBaUIsTUFBTSx3QkFBd0I7QUFDdEQsT0FBT0MsU0FBUyxNQUFNLG9CQUFv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