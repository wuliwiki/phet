// Copyright 2021-2023, University of Colorado Boulder

/**
 * SubitizeLoadingBarNode contains the loading bar animation that happens after the user presses play when they enter
 * the subitize game screen.
 *
 * @author Luisa Vargas
 * @author Chris Klusendorf (PhET Interactive Simulations)
 */

import { Color, Node, Rectangle } from '../../../../scenery/js/imports.js';
import numberPlay from '../../numberPlay.js';
import Animation from '../../../../twixt/js/Animation.js';
import Easing from '../../../../twixt/js/Easing.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import NumberPlayColors from '../../common/NumberPlayColors.js';
// constants
const RECTANGLE_WIDTH = 280;
const RECTANGLE_HEIGHT = 30;
const RECTANGLE_LINE_WIDTH = 2;
const RECTANGLE_OUTER_CORNER_RADIUS = 8;
const RECTANGLE_INNER_CORNER_RADIUS = RECTANGLE_OUTER_CORNER_RADIUS - RECTANGLE_LINE_WIDTH / 2;
class SubitizeLoadingBarNode extends Node {
  // used to store the animation, null if no animation is in progress

  // the width of the loadingBarRectangle during the animation

  constructor(newChallengeCallback, isLoadingBarAnimatingProperty) {
    super();
    this.newChallengeCallback = newChallengeCallback;
    this.isLoadingBarAnimatingProperty = isLoadingBarAnimatingProperty;

    // the rectangle that is a border to the filled rectangle
    const borderRectangle = new Rectangle(0, 0, RECTANGLE_WIDTH, RECTANGLE_HEIGHT, RECTANGLE_OUTER_CORNER_RADIUS, RECTANGLE_OUTER_CORNER_RADIUS, {
      fill: Color.WHITE,
      stroke: Color.BLACK,
      lineWidth: RECTANGLE_LINE_WIDTH
    });
    borderRectangle.center = Vector2.ZERO;
    this.addChild(borderRectangle);

    // the rectangle whose width will increase from left to right to 'fill' the border rectangle
    const loadingBarRectangle = new Rectangle(0, RECTANGLE_LINE_WIDTH / 2, 0, RECTANGLE_HEIGHT - RECTANGLE_LINE_WIDTH, RECTANGLE_INNER_CORNER_RADIUS, RECTANGLE_INNER_CORNER_RADIUS, {
      fill: NumberPlayColors.subitizeGameColorProperty
    });
    loadingBarRectangle.left = borderRectangle.left + RECTANGLE_LINE_WIDTH;
    loadingBarRectangle.centerY = borderRectangle.centerY;
    this.addChild(loadingBarRectangle);
    this.loadingBarWidthProperty = new NumberProperty(0, {
      isValidValue: value => value >= 0 && value <= RECTANGLE_WIDTH - RECTANGLE_LINE_WIDTH
    });
    this.loadingBarAnimation = null;
    this.reset();
    this.loadingBarWidthProperty.link(loadingBarWidth => loadingBarRectangle.setRectWidth(loadingBarWidth));

    // cancel the animation and hide the loading bar node if isLoadingBarAnimatingProperty is set to false
    isLoadingBarAnimatingProperty.link(loadingBarAnimating => !loadingBarAnimating && this.reset());
  }

  /**
   * Reset the loading bar by cancelling any existing animation and recreating the animation to fill the rectangle.
   */
  reset() {
    this.visible = false;
    if (this.loadingBarAnimation) {
      this.loadingBarAnimation.stop();
      this.loadingBarAnimation = null;
    }
    this.loadingBarWidthProperty.reset();
    this.loadingBarAnimation = new Animation({
      delay: 0.1,
      duration: 2,
      targets: [{
        property: this.loadingBarWidthProperty,
        easing: Easing.LINEAR,
        to: RECTANGLE_WIDTH - RECTANGLE_LINE_WIDTH
      }]
    });
    this.loadingBarAnimation.finishEmitter.addListener(() => this.end());
  }

  /**
   * Start the loading bar by making the loading bar node visible and starting the animation.
   */
  start() {
    this.visible = true;
    this.isLoadingBarAnimatingProperty.value = true;
    this.loadingBarAnimation && this.loadingBarAnimation.start();
  }

  /**
   * End the loading bar by starting a new challenge.
   */
  end() {
    this.loadingBarAnimation = null;
    this.newChallengeCallback();
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
}
numberPlay.register('SubitizeLoadingBarNode', SubitizeLoadingBarNode);
export default SubitizeLoadingBarNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb2xvciIsIk5vZGUiLCJSZWN0YW5nbGUiLCJudW1iZXJQbGF5IiwiQW5pbWF0aW9uIiwiRWFzaW5nIiwiTnVtYmVyUHJvcGVydHkiLCJWZWN0b3IyIiwiTnVtYmVyUGxheUNvbG9ycyIsIlJFQ1RBTkdMRV9XSURUSCIsIlJFQ1RBTkdMRV9IRUlHSFQiLCJSRUNUQU5HTEVfTElORV9XSURUSCIsIlJFQ1RBTkdMRV9PVVRFUl9DT1JORVJfUkFESVVTIiwiUkVDVEFOR0xFX0lOTkVSX0NPUk5FUl9SQURJVVMiLCJTdWJpdGl6ZUxvYWRpbmdCYXJOb2RlIiwiY29uc3RydWN0b3IiLCJuZXdDaGFsbGVuZ2VDYWxsYmFjayIsImlzTG9hZGluZ0JhckFuaW1hdGluZ1Byb3BlcnR5IiwiYm9yZGVyUmVjdGFuZ2xlIiwiZmlsbCIsIldISVRFIiwic3Ryb2tlIiwiQkxBQ0siLCJsaW5lV2lkdGgiLCJjZW50ZXIiLCJaRVJPIiwiYWRkQ2hpbGQiLCJsb2FkaW5nQmFyUmVjdGFuZ2xlIiwic3ViaXRpemVHYW1lQ29sb3JQcm9wZXJ0eSIsImxlZnQiLCJjZW50ZXJZIiwibG9hZGluZ0JhcldpZHRoUHJvcGVydHkiLCJpc1ZhbGlkVmFsdWUiLCJ2YWx1ZSIsImxvYWRpbmdCYXJBbmltYXRpb24iLCJyZXNldCIsImxpbmsiLCJsb2FkaW5nQmFyV2lkdGgiLCJzZXRSZWN0V2lkdGgiLCJsb2FkaW5nQmFyQW5pbWF0aW5nIiwidmlzaWJsZSIsInN0b3AiLCJkZWxheSIsImR1cmF0aW9uIiwidGFyZ2V0cyIsInByb3BlcnR5IiwiZWFzaW5nIiwiTElORUFSIiwidG8iLCJmaW5pc2hFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJlbmQiLCJzdGFydCIsImRpc3Bvc2UiLCJhc3NlcnQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlN1Yml0aXplTG9hZGluZ0Jhck5vZGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU3ViaXRpemVMb2FkaW5nQmFyTm9kZSBjb250YWlucyB0aGUgbG9hZGluZyBiYXIgYW5pbWF0aW9uIHRoYXQgaGFwcGVucyBhZnRlciB0aGUgdXNlciBwcmVzc2VzIHBsYXkgd2hlbiB0aGV5IGVudGVyXHJcbiAqIHRoZSBzdWJpdGl6ZSBnYW1lIHNjcmVlbi5cclxuICpcclxuICogQGF1dGhvciBMdWlzYSBWYXJnYXNcclxuICogQGF1dGhvciBDaHJpcyBLbHVzZW5kb3JmIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENvbG9yLCBOb2RlLCBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgbnVtYmVyUGxheSBmcm9tICcuLi8uLi9udW1iZXJQbGF5LmpzJztcclxuaW1wb3J0IEFuaW1hdGlvbiBmcm9tICcuLi8uLi8uLi8uLi90d2l4dC9qcy9BbmltYXRpb24uanMnO1xyXG5pbXBvcnQgRWFzaW5nIGZyb20gJy4uLy4uLy4uLy4uL3R3aXh0L2pzL0Vhc2luZy5qcyc7XHJcbmltcG9ydCBOdW1iZXJQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL051bWJlclByb3BlcnR5LmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgTnVtYmVyUGxheUNvbG9ycyBmcm9tICcuLi8uLi9jb21tb24vTnVtYmVyUGxheUNvbG9ycy5qcyc7XHJcbmltcG9ydCBUUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgUkVDVEFOR0xFX1dJRFRIID0gMjgwO1xyXG5jb25zdCBSRUNUQU5HTEVfSEVJR0hUID0gMzA7XHJcbmNvbnN0IFJFQ1RBTkdMRV9MSU5FX1dJRFRIID0gMjtcclxuY29uc3QgUkVDVEFOR0xFX09VVEVSX0NPUk5FUl9SQURJVVMgPSA4O1xyXG5jb25zdCBSRUNUQU5HTEVfSU5ORVJfQ09STkVSX1JBRElVUyA9IFJFQ1RBTkdMRV9PVVRFUl9DT1JORVJfUkFESVVTIC0gUkVDVEFOR0xFX0xJTkVfV0lEVEggLyAyO1xyXG5cclxuY2xhc3MgU3ViaXRpemVMb2FkaW5nQmFyTm9kZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IGlzTG9hZGluZ0JhckFuaW1hdGluZ1Byb3BlcnR5OiBUUHJvcGVydHk8Ym9vbGVhbj47XHJcbiAgcHJpdmF0ZSByZWFkb25seSBuZXdDaGFsbGVuZ2VDYWxsYmFjazogKCkgPT4gdm9pZDtcclxuXHJcbiAgLy8gdXNlZCB0byBzdG9yZSB0aGUgYW5pbWF0aW9uLCBudWxsIGlmIG5vIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzc1xyXG4gIHByaXZhdGUgbG9hZGluZ0JhckFuaW1hdGlvbjogQW5pbWF0aW9uIHwgbnVsbDtcclxuXHJcbiAgLy8gdGhlIHdpZHRoIG9mIHRoZSBsb2FkaW5nQmFyUmVjdGFuZ2xlIGR1cmluZyB0aGUgYW5pbWF0aW9uXHJcbiAgcHJpdmF0ZSByZWFkb25seSBsb2FkaW5nQmFyV2lkdGhQcm9wZXJ0eTogUHJvcGVydHk8bnVtYmVyPjtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBuZXdDaGFsbGVuZ2VDYWxsYmFjazogKCkgPT4gdm9pZCwgaXNMb2FkaW5nQmFyQW5pbWF0aW5nUHJvcGVydHk6IFRQcm9wZXJ0eTxib29sZWFuPiApIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5uZXdDaGFsbGVuZ2VDYWxsYmFjayA9IG5ld0NoYWxsZW5nZUNhbGxiYWNrO1xyXG4gICAgdGhpcy5pc0xvYWRpbmdCYXJBbmltYXRpbmdQcm9wZXJ0eSA9IGlzTG9hZGluZ0JhckFuaW1hdGluZ1Byb3BlcnR5O1xyXG5cclxuICAgIC8vIHRoZSByZWN0YW5nbGUgdGhhdCBpcyBhIGJvcmRlciB0byB0aGUgZmlsbGVkIHJlY3RhbmdsZVxyXG4gICAgY29uc3QgYm9yZGVyUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSggMCwgMCwgUkVDVEFOR0xFX1dJRFRILCBSRUNUQU5HTEVfSEVJR0hULCBSRUNUQU5HTEVfT1VURVJfQ09STkVSX1JBRElVUyxcclxuICAgICAgUkVDVEFOR0xFX09VVEVSX0NPUk5FUl9SQURJVVMsIHtcclxuICAgICAgICBmaWxsOiBDb2xvci5XSElURSxcclxuICAgICAgICBzdHJva2U6IENvbG9yLkJMQUNLLFxyXG4gICAgICAgIGxpbmVXaWR0aDogUkVDVEFOR0xFX0xJTkVfV0lEVEhcclxuICAgICAgfSApO1xyXG4gICAgYm9yZGVyUmVjdGFuZ2xlLmNlbnRlciA9IFZlY3RvcjIuWkVSTztcclxuICAgIHRoaXMuYWRkQ2hpbGQoIGJvcmRlclJlY3RhbmdsZSApO1xyXG5cclxuICAgIC8vIHRoZSByZWN0YW5nbGUgd2hvc2Ugd2lkdGggd2lsbCBpbmNyZWFzZSBmcm9tIGxlZnQgdG8gcmlnaHQgdG8gJ2ZpbGwnIHRoZSBib3JkZXIgcmVjdGFuZ2xlXHJcbiAgICBjb25zdCBsb2FkaW5nQmFyUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSggMCwgUkVDVEFOR0xFX0xJTkVfV0lEVEggLyAyLCAwLCBSRUNUQU5HTEVfSEVJR0hUIC0gUkVDVEFOR0xFX0xJTkVfV0lEVEgsXHJcbiAgICAgIFJFQ1RBTkdMRV9JTk5FUl9DT1JORVJfUkFESVVTLCBSRUNUQU5HTEVfSU5ORVJfQ09STkVSX1JBRElVUywge1xyXG4gICAgICAgIGZpbGw6IE51bWJlclBsYXlDb2xvcnMuc3ViaXRpemVHYW1lQ29sb3JQcm9wZXJ0eVxyXG4gICAgICB9ICk7XHJcbiAgICBsb2FkaW5nQmFyUmVjdGFuZ2xlLmxlZnQgPSBib3JkZXJSZWN0YW5nbGUubGVmdCArIFJFQ1RBTkdMRV9MSU5FX1dJRFRIO1xyXG4gICAgbG9hZGluZ0JhclJlY3RhbmdsZS5jZW50ZXJZID0gYm9yZGVyUmVjdGFuZ2xlLmNlbnRlclk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBsb2FkaW5nQmFyUmVjdGFuZ2xlICk7XHJcblxyXG4gICAgdGhpcy5sb2FkaW5nQmFyV2lkdGhQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggMCwge1xyXG4gICAgICBpc1ZhbGlkVmFsdWU6ICggdmFsdWU6IG51bWJlciApID0+ICggdmFsdWUgPj0gMCApICYmICggdmFsdWUgPD0gUkVDVEFOR0xFX1dJRFRIIC0gUkVDVEFOR0xFX0xJTkVfV0lEVEggKVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMubG9hZGluZ0JhckFuaW1hdGlvbiA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5yZXNldCgpO1xyXG5cclxuICAgIHRoaXMubG9hZGluZ0JhcldpZHRoUHJvcGVydHkubGluayggbG9hZGluZ0JhcldpZHRoID0+IGxvYWRpbmdCYXJSZWN0YW5nbGUuc2V0UmVjdFdpZHRoKCBsb2FkaW5nQmFyV2lkdGggKSApO1xyXG5cclxuICAgIC8vIGNhbmNlbCB0aGUgYW5pbWF0aW9uIGFuZCBoaWRlIHRoZSBsb2FkaW5nIGJhciBub2RlIGlmIGlzTG9hZGluZ0JhckFuaW1hdGluZ1Byb3BlcnR5IGlzIHNldCB0byBmYWxzZVxyXG4gICAgaXNMb2FkaW5nQmFyQW5pbWF0aW5nUHJvcGVydHkubGluayggbG9hZGluZ0JhckFuaW1hdGluZyA9PiAhbG9hZGluZ0JhckFuaW1hdGluZyAmJiB0aGlzLnJlc2V0KCkgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0IHRoZSBsb2FkaW5nIGJhciBieSBjYW5jZWxsaW5nIGFueSBleGlzdGluZyBhbmltYXRpb24gYW5kIHJlY3JlYXRpbmcgdGhlIGFuaW1hdGlvbiB0byBmaWxsIHRoZSByZWN0YW5nbGUuXHJcbiAgICovXHJcbiAgcHJpdmF0ZSByZXNldCgpOiB2b2lkIHtcclxuICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgIGlmICggdGhpcy5sb2FkaW5nQmFyQW5pbWF0aW9uICkge1xyXG4gICAgICB0aGlzLmxvYWRpbmdCYXJBbmltYXRpb24uc3RvcCgpO1xyXG4gICAgICB0aGlzLmxvYWRpbmdCYXJBbmltYXRpb24gPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubG9hZGluZ0JhcldpZHRoUHJvcGVydHkucmVzZXQoKTtcclxuXHJcbiAgICB0aGlzLmxvYWRpbmdCYXJBbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKCB7XHJcbiAgICAgIGRlbGF5OiAwLjEsXHJcbiAgICAgIGR1cmF0aW9uOiAyLFxyXG4gICAgICB0YXJnZXRzOiBbIHtcclxuICAgICAgICBwcm9wZXJ0eTogdGhpcy5sb2FkaW5nQmFyV2lkdGhQcm9wZXJ0eSxcclxuICAgICAgICBlYXNpbmc6IEVhc2luZy5MSU5FQVIsXHJcbiAgICAgICAgdG86IFJFQ1RBTkdMRV9XSURUSCAtIFJFQ1RBTkdMRV9MSU5FX1dJRFRIXHJcbiAgICAgIH0gXVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMubG9hZGluZ0JhckFuaW1hdGlvbi5maW5pc2hFbWl0dGVyLmFkZExpc3RlbmVyKCAoKSA9PiB0aGlzLmVuZCgpICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGFydCB0aGUgbG9hZGluZyBiYXIgYnkgbWFraW5nIHRoZSBsb2FkaW5nIGJhciBub2RlIHZpc2libGUgYW5kIHN0YXJ0aW5nIHRoZSBhbmltYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXJ0KCk6IHZvaWQge1xyXG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgIHRoaXMuaXNMb2FkaW5nQmFyQW5pbWF0aW5nUHJvcGVydHkudmFsdWUgPSB0cnVlO1xyXG4gICAgdGhpcy5sb2FkaW5nQmFyQW5pbWF0aW9uICYmIHRoaXMubG9hZGluZ0JhckFuaW1hdGlvbi5zdGFydCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRW5kIHRoZSBsb2FkaW5nIGJhciBieSBzdGFydGluZyBhIG5ldyBjaGFsbGVuZ2UuXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBlbmQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmxvYWRpbmdCYXJBbmltYXRpb24gPSBudWxsO1xyXG4gICAgdGhpcy5uZXdDaGFsbGVuZ2VDYWxsYmFjaygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBmYWxzZSwgJ2Rpc3Bvc2UgaXMgbm90IHN1cHBvcnRlZCwgZXhpc3RzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbScgKTtcclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICB9XHJcbn1cclxuXHJcbm51bWJlclBsYXkucmVnaXN0ZXIoICdTdWJpdGl6ZUxvYWRpbmdCYXJOb2RlJywgU3ViaXRpemVMb2FkaW5nQmFyTm9kZSApO1xyXG5leHBvcnQgZGVmYXVsdCBTdWJpdGl6ZUxvYWRpbmdCYXJOb2RlOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBU0EsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLFNBQVMsUUFBUSxtQ0FBbUM7QUFDMUUsT0FBT0MsVUFBVSxNQUFNLHFCQUFxQjtBQUM1QyxPQUFPQyxTQUFTLE1BQU0sbUNBQW1DO0FBQ3pELE9BQU9DLE1BQU0sTUFBTSxnQ0FBZ0M7QUFDbkQsT0FBT0MsY0FBYyxNQUFNLHVDQUF1QztBQUNsRSxPQUFPQyxPQUFPLE1BQU0sK0JBQStCO0FBQ25ELE9BQU9DLGdCQUFnQixNQUFNLGtDQUFrQztBQUkvRDtBQUNBLE1BQU1DLGVBQWUsR0FBRyxHQUFHO0FBQzNCLE1BQU1DLGdCQUFnQixHQUFHLEVBQUU7QUFDM0IsTUFBTUMsb0JBQW9CLEdBQUcsQ0FBQztBQUM5QixNQUFNQyw2QkFBNkIsR0FBRyxDQUFDO0FBQ3ZDLE1BQU1DLDZCQUE2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