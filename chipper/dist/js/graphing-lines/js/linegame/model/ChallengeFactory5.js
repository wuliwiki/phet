// Copyright 2013-2023, University of Colorado Boulder

/**
 * Creates game challenges for Level 5, as specified in the design document.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import Range from '../../../../dot/js/Range.js';
import Fraction from '../../../../phetcommon/js/model/Fraction.js';
import { Color } from '../../../../scenery/js/imports.js';
import Line from '../../common/model/Line.js';
import graphingLines from '../../graphingLines.js';
import BaseChallengeFactory from './BaseChallengeFactory.js';
import EquationForm from './EquationForm.js';
import GraphTheLine from './GraphTheLine.js';
import MakeTheEquation from './MakeTheEquation.js';
import ManipulationMode from './ManipulationMode.js';
import PlaceThePoints from './PlaceThePoints.js';
import ValuePool from './ValuePool.js';
export default class ChallengeFactory5 extends BaseChallengeFactory {
  constructor() {
    super();
  }

  /**
   * Creates challenges for this game level.
   */
  createChallenges() {
    const challenges = [];

    // hoist vars
    let equationForm;
    let slope;
    let yIntercept;
    let point;
    let line;
    let x1;
    let y1;
    let x2;
    let y2;
    let rise;
    let run;

    // for y-intercept manipulation challenges
    const yIntercepts = ValuePool.rangeToArray(this.yRange);

    // CHALLENGE 1: Make-the-Equation, slope-intercept form, slope=0
    yIntercept = ValuePool.choose(yIntercepts);
    challenges.push(new MakeTheEquation('1. MakeTheEquation, slope=0, slope and intercept variable', Line.createSlopeIntercept(0, 1, yIntercept), EquationForm.SLOPE_INTERCEPT, ManipulationMode.SLOPE_INTERCEPT, this.xRange, this.yRange));

    // CHALLENGE 2: Graph-the-Line, slope-intercept form, slope=0
    yIntercept = ValuePool.choose(yIntercepts);
    challenges.push(new GraphTheLine('2. GraphTheLine, slope=0, slope and intercept variable', Line.createSlopeIntercept(0, 1, yIntercept), EquationForm.SLOPE_INTERCEPT, ManipulationMode.SLOPE_INTERCEPT, this.xRange, this.yRange));

    // CHALLENGE 3: Graph-the-Line, slope-intercept or point-slope form (random choice), 2 variables
    {
      // randomly choose equation form
      equationForm = ValuePool.choose([EquationForm.SLOPE_INTERCEPT, EquationForm.POINT_SLOPE]);

      // random points
      const range = new Range(-5, 5);
      assert && assert(this.xRange.containsRange(range) && this.yRange.containsRange(range));
      const xList = ValuePool.rangeToArray(range);
      const yList = ValuePool.rangeToArray(range);
      x1 = equationForm === EquationForm.SLOPE_INTERCEPT ? 0 : ValuePool.choose(xList);
      y1 = ValuePool.choose(yList);
      x2 = ValuePool.choose(xList);
      if (x2 === x1) {
        x2 = ValuePool.choose(xList); // prevent undefined slope
      }

      y2 = ValuePool.choose(yList);

      // exclude slopes of +1 and -1
      slope = (y2 - y1) / (x2 - x1);
      if (slope === 1 || slope === -1) {
        y2 = ValuePool.choose(yList);
      }

      // challenge
      line = new Line(x1, y1, x2, y2, Color.BLACK);
      if (equationForm === EquationForm.SLOPE_INTERCEPT) {
        challenges.push(new GraphTheLine('3. GraphTheLine, random choice of slope-intercept, points in [-5,5]', line, EquationForm.SLOPE_INTERCEPT, ManipulationMode.SLOPE_INTERCEPT, this.xRange, this.yRange));
      } else {
        challenges.push(new GraphTheLine('3: GraphTheLine, random choice of point-slope, points in [-5,5]', line, EquationForm.POINT_SLOPE, ManipulationMode.POINT_SLOPE, this.xRange, this.yRange));
      }
    }

    // CHALLENGE 4: Make-the-Equation, slope-intercept or point-slope form (random choice), 2 variables,
    // random slope with exclusions
    {
      // randomly choose equation form
      equationForm = ValuePool.choose([EquationForm.SLOPE_INTERCEPT, EquationForm.POINT_SLOPE]);

      // exclude slopes whose simplified absolute value matches these
      const excludedSlopes = [new Fraction(1, 1), new Fraction(2, 1), new Fraction(1, 2), new Fraction(1, 3), new Fraction(1, 4), new Fraction(2, 3)];

      // choose rise and run such that they don't make an undefined or excluded slope
      const riseList = ValuePool.rangeToArray(this.yRange);
      const runList = ValuePool.rangeToArray(this.xRange);
      rise = ValuePool.choose(riseList);
      run = ValuePool.choose(runList);
      let excluded = true;
      while (excluded && runList.length > 0) {
        slope = new Fraction(rise, run).getValue();
        excluded = false;
        // is this an excluded or undefined slope?
        for (let i = 0; i < excludedSlopes.length; i++) {
          if (run === 0 || slope === excludedSlopes[i].getValue()) {
            excluded = true;
            run = ValuePool.choose(runList); // choose a new run, and remove it from runList
            break;
          }
        }
      }
      if (excluded) {
        run = 5; // a run that's not in excludedSlopes
      }

      assert && assert(run !== 0);

      // points
      point = BaseChallengeFactory.choosePointForSlope(new Fraction(rise, run), this.xRange, this.yRange);
      x1 = equationForm === EquationForm.SLOPE_INTERCEPT ? 0 : point.x;
      y1 = point.y;
      x2 = x1 + run;
      y2 = y1 + rise;

      // challenge
      line = new Line(x1, y1, x2, y2, Color.BLACK);
      if (equationForm === EquationForm.SLOPE_INTERCEPT) {
        challenges.push(new GraphTheLine('4: GraphTheLine, random choice of slope-intercept, some excluded slopes', line, EquationForm.SLOPE_INTERCEPT, ManipulationMode.SLOPE_INTERCEPT, this.xRange, this.yRange));
      } else {
        challenges.push(new GraphTheLine('4: GraphTheLine, random choice of point-slope, some excluded slopes', line, EquationForm.POINT_SLOPE, ManipulationMode.POINT_SLOPE, this.xRange, this.yRange));
      }
    }

    // CHALLENGES 5 & 6: 2 Place-the-Point challenges
    ChallengeFactory5.addPlaceThePointsChallenges(challenges, this.xRange, this.yRange);
    return challenges;
  }

  /**
   * Adds 2 'Place the Point' challenges, 1 slope-intercept form, 1 point-slope form.
   * Pulled out into a method that can be reused in level=6.
   * @param challenges - add challenges to this array
   * @param xRange - range of the graph's x-axis
   * @param yRange - range of the graph's y-axis
   */
  static addPlaceThePointsChallenges(challenges, xRange, yRange) {
    // all ranges limited to [-5,5]
    const range = new Range(-5, 5);
    assert && assert(xRange.containsRange(range) && yRange.containsRange(range));
    const xList = ValuePool.rangeToArray(range);
    const yList = ValuePool.rangeToArray(range);
    const riseList = ValuePool.rangeToArray(range, true /* exclude zero slope */);
    const runList = ValuePool.rangeToArray(range, true /* exclude undefined slope */);

    // CHALLENGE 5: slope-intercept form, slope and intercept variable
    let x1 = 0; // y-intercept must be an integer
    let y1 = ValuePool.choose(yList);
    let rise = ValuePool.choose(riseList);
    let run = ValuePool.choose(runList);
    if (Math.abs(rise / run) === 1) {
      // prevent unit slope
      run = ValuePool.choose(runList);
    }
    challenges.push(new PlaceThePoints('5: PlaceThePoints, slope-intercept, random points', new Line(x1, y1, x1 + run, y1 + rise, Color.BLACK), EquationForm.SLOPE_INTERCEPT, xRange, yRange));

    // CHALLENGE 6: point-slope form, point and slope variable
    x1 = ValuePool.choose(xList);
    y1 = ValuePool.choose(yList);
    rise = ValuePool.choose(riseList);
    run = ValuePool.choose(runList);
    if (Math.abs(rise / run) === 1) {
      // prevent unit slope
      run = ValuePool.choose(runList);
    }
    challenges.push(new PlaceThePoints('6: PlaceThePoints, point-slope, random points', new Line(x1, y1, x1 + run, y1 + rise, Color.BLACK), EquationForm.POINT_SLOPE, xRange, yRange));
  }
}
graphingLines.register('ChallengeFactory5', ChallengeFactory5);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSYW5nZSIsIkZyYWN0aW9uIiwiQ29sb3IiLCJMaW5lIiwiZ3JhcGhpbmdMaW5lcyIsIkJhc2VDaGFsbGVuZ2VGYWN0b3J5IiwiRXF1YXRpb25Gb3JtIiwiR3JhcGhUaGVMaW5lIiwiTWFrZVRoZUVxdWF0aW9uIiwiTWFuaXB1bGF0aW9uTW9kZSIsIlBsYWNlVGhlUG9pbnRzIiwiVmFsdWVQb29sIiwiQ2hhbGxlbmdlRmFjdG9yeTUiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZUNoYWxsZW5nZXMiLCJjaGFsbGVuZ2VzIiwiZXF1YXRpb25Gb3JtIiwic2xvcGUiLCJ5SW50ZXJjZXB0IiwicG9pbnQiLCJsaW5lIiwieDEiLCJ5MSIsIngyIiwieTIiLCJyaXNlIiwicnVuIiwieUludGVyY2VwdHMiLCJyYW5nZVRvQXJyYXkiLCJ5UmFuZ2UiLCJjaG9vc2UiLCJwdXNoIiwiY3JlYXRlU2xvcGVJbnRlcmNlcHQiLCJTTE9QRV9JTlRFUkNFUFQiLCJ4UmFuZ2UiLCJQT0lOVF9TTE9QRSIsInJhbmdlIiwiYXNzZXJ0IiwiY29udGFpbnNSYW5nZSIsInhMaXN0IiwieUxpc3QiLCJCTEFDSyIsImV4Y2x1ZGVkU2xvcGVzIiwicmlzZUxpc3QiLCJydW5MaXN0IiwiZXhjbHVkZWQiLCJsZW5ndGgiLCJnZXRWYWx1ZSIsImkiLCJjaG9vc2VQb2ludEZvclNsb3BlIiwieCIsInkiLCJhZGRQbGFjZVRoZVBvaW50c0NoYWxsZW5nZXMiLCJNYXRoIiwiYWJzIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJDaGFsbGVuZ2VGYWN0b3J5NS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxMy0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGdhbWUgY2hhbGxlbmdlcyBmb3IgTGV2ZWwgNSwgYXMgc3BlY2lmaWVkIGluIHRoZSBkZXNpZ24gZG9jdW1lbnQuXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IFJhbmdlIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9SYW5nZS5qcyc7XHJcbmltcG9ydCBGcmFjdGlvbiBmcm9tICcuLi8uLi8uLi8uLi9waGV0Y29tbW9uL2pzL21vZGVsL0ZyYWN0aW9uLmpzJztcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgTGluZSBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvTGluZS5qcyc7XHJcbmltcG9ydCBncmFwaGluZ0xpbmVzIGZyb20gJy4uLy4uL2dyYXBoaW5nTGluZXMuanMnO1xyXG5pbXBvcnQgQmFzZUNoYWxsZW5nZUZhY3RvcnkgZnJvbSAnLi9CYXNlQ2hhbGxlbmdlRmFjdG9yeS5qcyc7XHJcbmltcG9ydCBDaGFsbGVuZ2UgZnJvbSAnLi9DaGFsbGVuZ2UuanMnO1xyXG5pbXBvcnQgRXF1YXRpb25Gb3JtIGZyb20gJy4vRXF1YXRpb25Gb3JtLmpzJztcclxuaW1wb3J0IEdyYXBoVGhlTGluZSBmcm9tICcuL0dyYXBoVGhlTGluZS5qcyc7XHJcbmltcG9ydCBNYWtlVGhlRXF1YXRpb24gZnJvbSAnLi9NYWtlVGhlRXF1YXRpb24uanMnO1xyXG5pbXBvcnQgTWFuaXB1bGF0aW9uTW9kZSBmcm9tICcuL01hbmlwdWxhdGlvbk1vZGUuanMnO1xyXG5pbXBvcnQgUGxhY2VUaGVQb2ludHMgZnJvbSAnLi9QbGFjZVRoZVBvaW50cy5qcyc7XHJcbmltcG9ydCBWYWx1ZVBvb2wgZnJvbSAnLi9WYWx1ZVBvb2wuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhbGxlbmdlRmFjdG9yeTUgZXh0ZW5kcyBCYXNlQ2hhbGxlbmdlRmFjdG9yeSB7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGNoYWxsZW5nZXMgZm9yIHRoaXMgZ2FtZSBsZXZlbC5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgY3JlYXRlQ2hhbGxlbmdlcygpOiBDaGFsbGVuZ2VbXSB7XHJcblxyXG4gICAgY29uc3QgY2hhbGxlbmdlcyA9IFtdO1xyXG5cclxuICAgIC8vIGhvaXN0IHZhcnNcclxuICAgIGxldCBlcXVhdGlvbkZvcm07XHJcbiAgICBsZXQgc2xvcGU7XHJcbiAgICBsZXQgeUludGVyY2VwdDtcclxuICAgIGxldCBwb2ludDtcclxuICAgIGxldCBsaW5lO1xyXG4gICAgbGV0IHgxO1xyXG4gICAgbGV0IHkxO1xyXG4gICAgbGV0IHgyO1xyXG4gICAgbGV0IHkyO1xyXG4gICAgbGV0IHJpc2U7XHJcbiAgICBsZXQgcnVuO1xyXG5cclxuICAgIC8vIGZvciB5LWludGVyY2VwdCBtYW5pcHVsYXRpb24gY2hhbGxlbmdlc1xyXG4gICAgY29uc3QgeUludGVyY2VwdHMgPSBWYWx1ZVBvb2wucmFuZ2VUb0FycmF5KCB0aGlzLnlSYW5nZSApO1xyXG5cclxuICAgIC8vIENIQUxMRU5HRSAxOiBNYWtlLXRoZS1FcXVhdGlvbiwgc2xvcGUtaW50ZXJjZXB0IGZvcm0sIHNsb3BlPTBcclxuICAgIHlJbnRlcmNlcHQgPSBWYWx1ZVBvb2wuY2hvb3NlKCB5SW50ZXJjZXB0cyApO1xyXG4gICAgY2hhbGxlbmdlcy5wdXNoKCBuZXcgTWFrZVRoZUVxdWF0aW9uKFxyXG4gICAgICAnMS4gTWFrZVRoZUVxdWF0aW9uLCBzbG9wZT0wLCBzbG9wZSBhbmQgaW50ZXJjZXB0IHZhcmlhYmxlJyxcclxuICAgICAgTGluZS5jcmVhdGVTbG9wZUludGVyY2VwdCggMCwgMSwgeUludGVyY2VwdCApLFxyXG4gICAgICBFcXVhdGlvbkZvcm0uU0xPUEVfSU5URVJDRVBULFxyXG4gICAgICBNYW5pcHVsYXRpb25Nb2RlLlNMT1BFX0lOVEVSQ0VQVCxcclxuICAgICAgdGhpcy54UmFuZ2UsIHRoaXMueVJhbmdlICkgKTtcclxuXHJcbiAgICAvLyBDSEFMTEVOR0UgMjogR3JhcGgtdGhlLUxpbmUsIHNsb3BlLWludGVyY2VwdCBmb3JtLCBzbG9wZT0wXHJcbiAgICB5SW50ZXJjZXB0ID0gVmFsdWVQb29sLmNob29zZSggeUludGVyY2VwdHMgKTtcclxuICAgIGNoYWxsZW5nZXMucHVzaCggbmV3IEdyYXBoVGhlTGluZShcclxuICAgICAgJzIuIEdyYXBoVGhlTGluZSwgc2xvcGU9MCwgc2xvcGUgYW5kIGludGVyY2VwdCB2YXJpYWJsZScsXHJcbiAgICAgIExpbmUuY3JlYXRlU2xvcGVJbnRlcmNlcHQoIDAsIDEsIHlJbnRlcmNlcHQgKSxcclxuICAgICAgRXF1YXRpb25Gb3JtLlNMT1BFX0lOVEVSQ0VQVCxcclxuICAgICAgTWFuaXB1bGF0aW9uTW9kZS5TTE9QRV9JTlRFUkNFUFQsXHJcbiAgICAgIHRoaXMueFJhbmdlLCB0aGlzLnlSYW5nZSApICk7XHJcblxyXG4gICAgLy8gQ0hBTExFTkdFIDM6IEdyYXBoLXRoZS1MaW5lLCBzbG9wZS1pbnRlcmNlcHQgb3IgcG9pbnQtc2xvcGUgZm9ybSAocmFuZG9tIGNob2ljZSksIDIgdmFyaWFibGVzXHJcbiAgICB7XHJcbiAgICAgIC8vIHJhbmRvbWx5IGNob29zZSBlcXVhdGlvbiBmb3JtXHJcbiAgICAgIGVxdWF0aW9uRm9ybSA9IFZhbHVlUG9vbC5jaG9vc2UoIFsgRXF1YXRpb25Gb3JtLlNMT1BFX0lOVEVSQ0VQVCwgRXF1YXRpb25Gb3JtLlBPSU5UX1NMT1BFIF0gKTtcclxuXHJcbiAgICAgIC8vIHJhbmRvbSBwb2ludHNcclxuICAgICAgY29uc3QgcmFuZ2UgPSBuZXcgUmFuZ2UoIC01LCA1ICk7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIHRoaXMueFJhbmdlLmNvbnRhaW5zUmFuZ2UoIHJhbmdlICkgJiYgdGhpcy55UmFuZ2UuY29udGFpbnNSYW5nZSggcmFuZ2UgKSApO1xyXG4gICAgICBjb25zdCB4TGlzdCA9IFZhbHVlUG9vbC5yYW5nZVRvQXJyYXkoIHJhbmdlICk7XHJcbiAgICAgIGNvbnN0IHlMaXN0ID0gVmFsdWVQb29sLnJhbmdlVG9BcnJheSggcmFuZ2UgKTtcclxuICAgICAgeDEgPSAoIGVxdWF0aW9uRm9ybSA9PT0gRXF1YXRpb25Gb3JtLlNMT1BFX0lOVEVSQ0VQVCApID8gMCA6IFZhbHVlUG9vbC5jaG9vc2UoIHhMaXN0ICk7XHJcbiAgICAgIHkxID0gVmFsdWVQb29sLmNob29zZSggeUxpc3QgKTtcclxuICAgICAgeDIgPSBWYWx1ZVBvb2wuY2hvb3NlKCB4TGlzdCApO1xyXG4gICAgICBpZiAoIHgyID09PSB4MSApIHtcclxuICAgICAgICB4MiA9IFZhbHVlUG9vbC5jaG9vc2UoIHhMaXN0ICk7IC8vIHByZXZlbnQgdW5kZWZpbmVkIHNsb3BlXHJcbiAgICAgIH1cclxuICAgICAgeTIgPSBWYWx1ZVBvb2wuY2hvb3NlKCB5TGlzdCApO1xyXG5cclxuICAgICAgLy8gZXhjbHVkZSBzbG9wZXMgb2YgKzEgYW5kIC0xXHJcbiAgICAgIHNsb3BlID0gKCB5MiAtIHkxICkgLyAoIHgyIC0geDEgKTtcclxuICAgICAgaWYgKCBzbG9wZSA9PT0gMSB8fCBzbG9wZSA9PT0gLTEgKSB7XHJcbiAgICAgICAgeTIgPSBWYWx1ZVBvb2wuY2hvb3NlKCB5TGlzdCApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBjaGFsbGVuZ2VcclxuICAgICAgbGluZSA9IG5ldyBMaW5lKCB4MSwgeTEsIHgyLCB5MiwgQ29sb3IuQkxBQ0sgKTtcclxuICAgICAgaWYgKCBlcXVhdGlvbkZvcm0gPT09IEVxdWF0aW9uRm9ybS5TTE9QRV9JTlRFUkNFUFQgKSB7XHJcbiAgICAgICAgY2hhbGxlbmdlcy5wdXNoKCBuZXcgR3JhcGhUaGVMaW5lKFxyXG4gICAgICAgICAgJzMuIEdyYXBoVGhlTGluZSwgcmFuZG9tIGNob2ljZSBvZiBzbG9wZS1pbnRlcmNlcHQsIHBvaW50cyBpbiBbLTUsNV0nLFxyXG4gICAgICAgICAgbGluZSwgRXF1YXRpb25Gb3JtLlNMT1BFX0lOVEVSQ0VQVCxcclxuICAgICAgICAgIE1hbmlwdWxhdGlvbk1vZGUuU0xPUEVfSU5URVJDRVBULFxyXG4gICAgICAgICAgdGhpcy54UmFuZ2UsIHRoaXMueVJhbmdlICkgKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBjaGFsbGVuZ2VzLnB1c2goIG5ldyBHcmFwaFRoZUxpbmUoXHJcbiAgICAgICAgICAnMzogR3JhcGhUaGVMaW5lLCByYW5kb20gY2hvaWNlIG9mIHBvaW50LXNsb3BlLCBwb2ludHMgaW4gWy01LDVdJyxcclxuICAgICAgICAgIGxpbmUsIEVxdWF0aW9uRm9ybS5QT0lOVF9TTE9QRSxcclxuICAgICAgICAgIE1hbmlwdWxhdGlvbk1vZGUuUE9JTlRfU0xPUEUsXHJcbiAgICAgICAgICB0aGlzLnhSYW5nZSwgdGhpcy55UmFuZ2UgKSApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ0hBTExFTkdFIDQ6IE1ha2UtdGhlLUVxdWF0aW9uLCBzbG9wZS1pbnRlcmNlcHQgb3IgcG9pbnQtc2xvcGUgZm9ybSAocmFuZG9tIGNob2ljZSksIDIgdmFyaWFibGVzLFxyXG4gICAgLy8gcmFuZG9tIHNsb3BlIHdpdGggZXhjbHVzaW9uc1xyXG4gICAge1xyXG4gICAgICAvLyByYW5kb21seSBjaG9vc2UgZXF1YXRpb24gZm9ybVxyXG4gICAgICBlcXVhdGlvbkZvcm0gPSBWYWx1ZVBvb2wuY2hvb3NlKCBbIEVxdWF0aW9uRm9ybS5TTE9QRV9JTlRFUkNFUFQsIEVxdWF0aW9uRm9ybS5QT0lOVF9TTE9QRSBdICk7XHJcblxyXG4gICAgICAvLyBleGNsdWRlIHNsb3BlcyB3aG9zZSBzaW1wbGlmaWVkIGFic29sdXRlIHZhbHVlIG1hdGNoZXMgdGhlc2VcclxuICAgICAgY29uc3QgZXhjbHVkZWRTbG9wZXMgPSBbXHJcbiAgICAgICAgbmV3IEZyYWN0aW9uKCAxLCAxICksXHJcbiAgICAgICAgbmV3IEZyYWN0aW9uKCAyLCAxICksXHJcbiAgICAgICAgbmV3IEZyYWN0aW9uKCAxLCAyICksXHJcbiAgICAgICAgbmV3IEZyYWN0aW9uKCAxLCAzICksXHJcbiAgICAgICAgbmV3IEZyYWN0aW9uKCAxLCA0ICksXHJcbiAgICAgICAgbmV3IEZyYWN0aW9uKCAyLCAzIClcclxuICAgICAgXTtcclxuXHJcbiAgICAgIC8vIGNob29zZSByaXNlIGFuZCBydW4gc3VjaCB0aGF0IHRoZXkgZG9uJ3QgbWFrZSBhbiB1bmRlZmluZWQgb3IgZXhjbHVkZWQgc2xvcGVcclxuICAgICAgY29uc3QgcmlzZUxpc3QgPSBWYWx1ZVBvb2wucmFuZ2VUb0FycmF5KCB0aGlzLnlSYW5nZSApO1xyXG4gICAgICBjb25zdCBydW5MaXN0ID0gVmFsdWVQb29sLnJhbmdlVG9BcnJheSggdGhpcy54UmFuZ2UgKTtcclxuICAgICAgcmlzZSA9IFZhbHVlUG9vbC5jaG9vc2UoIHJpc2VMaXN0ICk7XHJcbiAgICAgIHJ1biA9IFZhbHVlUG9vbC5jaG9vc2UoIHJ1bkxpc3QgKTtcclxuICAgICAgbGV0IGV4Y2x1ZGVkID0gdHJ1ZTtcclxuICAgICAgd2hpbGUgKCBleGNsdWRlZCAmJiBydW5MaXN0Lmxlbmd0aCA+IDAgKSB7XHJcbiAgICAgICAgc2xvcGUgPSBuZXcgRnJhY3Rpb24oIHJpc2UsIHJ1biApLmdldFZhbHVlKCk7XHJcbiAgICAgICAgZXhjbHVkZWQgPSBmYWxzZTtcclxuICAgICAgICAvLyBpcyB0aGlzIGFuIGV4Y2x1ZGVkIG9yIHVuZGVmaW5lZCBzbG9wZT9cclxuICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBleGNsdWRlZFNsb3Blcy5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgICAgIGlmICggcnVuID09PSAwIHx8IHNsb3BlID09PSBleGNsdWRlZFNsb3Blc1sgaSBdLmdldFZhbHVlKCkgKSB7XHJcbiAgICAgICAgICAgIGV4Y2x1ZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgcnVuID0gVmFsdWVQb29sLmNob29zZSggcnVuTGlzdCApOyAvLyBjaG9vc2UgYSBuZXcgcnVuLCBhbmQgcmVtb3ZlIGl0IGZyb20gcnVuTGlzdFxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCBleGNsdWRlZCApIHtcclxuICAgICAgICBydW4gPSA1OyAvLyBhIHJ1biB0aGF0J3Mgbm90IGluIGV4Y2x1ZGVkU2xvcGVzXHJcbiAgICAgIH1cclxuICAgICAgYXNzZXJ0ICYmIGFzc2VydCggcnVuICE9PSAwICk7XHJcblxyXG4gICAgICAvLyBwb2ludHNcclxuICAgICAgcG9pbnQgPSBCYXNlQ2hhbGxlbmdlRmFjdG9yeS5jaG9vc2VQb2ludEZvclNsb3BlKCBuZXcgRnJhY3Rpb24oIHJpc2UsIHJ1biApLCB0aGlzLnhSYW5nZSwgdGhpcy55UmFuZ2UgKTtcclxuICAgICAgeDEgPSAoIGVxdWF0aW9uRm9ybSA9PT0gRXF1YXRpb25Gb3JtLlNMT1BFX0lOVEVSQ0VQVCApID8gMCA6IHBvaW50Lng7XHJcbiAgICAgIHkxID0gcG9pbnQueTtcclxuICAgICAgeDIgPSB4MSArIHJ1bjtcclxuICAgICAgeTIgPSB5MSArIHJpc2U7XHJcblxyXG4gICAgICAvLyBjaGFsbGVuZ2VcclxuICAgICAgbGluZSA9IG5ldyBMaW5lKCB4MSwgeTEsIHgyLCB5MiwgQ29sb3IuQkxBQ0sgKTtcclxuICAgICAgaWYgKCBlcXVhdGlvbkZvcm0gPT09IEVxdWF0aW9uRm9ybS5TTE9QRV9JTlRFUkNFUFQgKSB7XHJcbiAgICAgICAgY2hhbGxlbmdlcy5wdXNoKCBuZXcgR3JhcGhUaGVMaW5lKFxyXG4gICAgICAgICAgJzQ6IEdyYXBoVGhlTGluZSwgcmFuZG9tIGNob2ljZSBvZiBzbG9wZS1pbnRlcmNlcHQsIHNvbWUgZXhjbHVkZWQgc2xvcGVzJyxcclxuICAgICAgICAgIGxpbmUsXHJcbiAgICAgICAgICBFcXVhdGlvbkZvcm0uU0xPUEVfSU5URVJDRVBULFxyXG4gICAgICAgICAgTWFuaXB1bGF0aW9uTW9kZS5TTE9QRV9JTlRFUkNFUFQsXHJcbiAgICAgICAgICB0aGlzLnhSYW5nZSwgdGhpcy55UmFuZ2UgKSApO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGNoYWxsZW5nZXMucHVzaCggbmV3IEdyYXBoVGhlTGluZShcclxuICAgICAgICAgICc0OiBHcmFwaFRoZUxpbmUsIHJhbmRvbSBjaG9pY2Ugb2YgcG9pbnQtc2xvcGUsIHNvbWUgZXhjbHVkZWQgc2xvcGVzJyxcclxuICAgICAgICAgIGxpbmUsXHJcbiAgICAgICAgICBFcXVhdGlvbkZvcm0uUE9JTlRfU0xPUEUsXHJcbiAgICAgICAgICBNYW5pcHVsYXRpb25Nb2RlLlBPSU5UX1NMT1BFLFxyXG4gICAgICAgICAgdGhpcy54UmFuZ2UsIHRoaXMueVJhbmdlICkgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENIQUxMRU5HRVMgNSAmIDY6IDIgUGxhY2UtdGhlLVBvaW50IGNoYWxsZW5nZXNcclxuICAgIENoYWxsZW5nZUZhY3Rvcnk1LmFkZFBsYWNlVGhlUG9pbnRzQ2hhbGxlbmdlcyggY2hhbGxlbmdlcywgdGhpcy54UmFuZ2UsIHRoaXMueVJhbmdlICk7XHJcblxyXG4gICAgcmV0dXJuIGNoYWxsZW5nZXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIDIgJ1BsYWNlIHRoZSBQb2ludCcgY2hhbGxlbmdlcywgMSBzbG9wZS1pbnRlcmNlcHQgZm9ybSwgMSBwb2ludC1zbG9wZSBmb3JtLlxyXG4gICAqIFB1bGxlZCBvdXQgaW50byBhIG1ldGhvZCB0aGF0IGNhbiBiZSByZXVzZWQgaW4gbGV2ZWw9Ni5cclxuICAgKiBAcGFyYW0gY2hhbGxlbmdlcyAtIGFkZCBjaGFsbGVuZ2VzIHRvIHRoaXMgYXJyYXlcclxuICAgKiBAcGFyYW0geFJhbmdlIC0gcmFuZ2Ugb2YgdGhlIGdyYXBoJ3MgeC1heGlzXHJcbiAgICogQHBhcmFtIHlSYW5nZSAtIHJhbmdlIG9mIHRoZSBncmFwaCdzIHktYXhpc1xyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgYWRkUGxhY2VUaGVQb2ludHNDaGFsbGVuZ2VzKCBjaGFsbGVuZ2VzOiBDaGFsbGVuZ2VbXSwgeFJhbmdlOiBSYW5nZSwgeVJhbmdlOiBSYW5nZSApOiB2b2lkIHtcclxuXHJcbiAgICAvLyBhbGwgcmFuZ2VzIGxpbWl0ZWQgdG8gWy01LDVdXHJcbiAgICBjb25zdCByYW5nZSA9IG5ldyBSYW5nZSggLTUsIDUgKTtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIHhSYW5nZS5jb250YWluc1JhbmdlKCByYW5nZSApICYmIHlSYW5nZS5jb250YWluc1JhbmdlKCByYW5nZSApICk7XHJcbiAgICBjb25zdCB4TGlzdCA9IFZhbHVlUG9vbC5yYW5nZVRvQXJyYXkoIHJhbmdlICk7XHJcbiAgICBjb25zdCB5TGlzdCA9IFZhbHVlUG9vbC5yYW5nZVRvQXJyYXkoIHJhbmdlICk7XHJcbiAgICBjb25zdCByaXNlTGlzdCA9IFZhbHVlUG9vbC5yYW5nZVRvQXJyYXkoIHJhbmdlLCB0cnVlIC8qIGV4Y2x1ZGUgemVybyBzbG9wZSAqLyApO1xyXG4gICAgY29uc3QgcnVuTGlzdCA9IFZhbHVlUG9vbC5yYW5nZVRvQXJyYXkoIHJhbmdlLCB0cnVlIC8qIGV4Y2x1ZGUgdW5kZWZpbmVkIHNsb3BlICovICk7XHJcblxyXG4gICAgLy8gQ0hBTExFTkdFIDU6IHNsb3BlLWludGVyY2VwdCBmb3JtLCBzbG9wZSBhbmQgaW50ZXJjZXB0IHZhcmlhYmxlXHJcbiAgICBsZXQgeDEgPSAwOyAvLyB5LWludGVyY2VwdCBtdXN0IGJlIGFuIGludGVnZXJcclxuICAgIGxldCB5MSA9IFZhbHVlUG9vbC5jaG9vc2UoIHlMaXN0ICk7XHJcbiAgICBsZXQgcmlzZSA9IFZhbHVlUG9vbC5jaG9vc2UoIHJpc2VMaXN0ICk7XHJcbiAgICBsZXQgcnVuID0gVmFsdWVQb29sLmNob29zZSggcnVuTGlzdCApO1xyXG4gICAgaWYgKCBNYXRoLmFicyggcmlzZSAvIHJ1biApID09PSAxICkgeyAvLyBwcmV2ZW50IHVuaXQgc2xvcGVcclxuICAgICAgcnVuID0gVmFsdWVQb29sLmNob29zZSggcnVuTGlzdCApO1xyXG4gICAgfVxyXG4gICAgY2hhbGxlbmdlcy5wdXNoKCBuZXcgUGxhY2VUaGVQb2ludHMoXHJcbiAgICAgICc1OiBQbGFjZVRoZVBvaW50cywgc2xvcGUtaW50ZXJjZXB0LCByYW5kb20gcG9pbnRzJyxcclxuICAgICAgbmV3IExpbmUoIHgxLCB5MSwgeDEgKyBydW4sIHkxICsgcmlzZSwgQ29sb3IuQkxBQ0sgKSxcclxuICAgICAgRXF1YXRpb25Gb3JtLlNMT1BFX0lOVEVSQ0VQVCwgeFJhbmdlLCB5UmFuZ2UgKSApO1xyXG5cclxuICAgIC8vIENIQUxMRU5HRSA2OiBwb2ludC1zbG9wZSBmb3JtLCBwb2ludCBhbmQgc2xvcGUgdmFyaWFibGVcclxuICAgIHgxID0gVmFsdWVQb29sLmNob29zZSggeExpc3QgKTtcclxuICAgIHkxID0gVmFsdWVQb29sLmNob29zZSggeUxpc3QgKTtcclxuICAgIHJpc2UgPSBWYWx1ZVBvb2wuY2hvb3NlKCByaXNlTGlzdCApO1xyXG4gICAgcnVuID0gVmFsdWVQb29sLmNob29zZSggcnVuTGlzdCApO1xyXG4gICAgaWYgKCBNYXRoLmFicyggcmlzZSAvIHJ1biApID09PSAxICkgeyAvLyBwcmV2ZW50IHVuaXQgc2xvcGVcclxuICAgICAgcnVuID0gVmFsdWVQb29sLmNob29zZSggcnVuTGlzdCApO1xyXG4gICAgfVxyXG4gICAgY2hhbGxlbmdlcy5wdXNoKCBuZXcgUGxhY2VUaGVQb2ludHMoXHJcbiAgICAgICc2OiBQbGFjZVRoZVBvaW50cywgcG9pbnQtc2xvcGUsIHJhbmRvbSBwb2ludHMnLFxyXG4gICAgICBuZXcgTGluZSggeDEsIHkxLCB4MSArIHJ1biwgeTEgKyByaXNlLCBDb2xvci5CTEFDSyApLFxyXG4gICAgICBFcXVhdGlvbkZvcm0uUE9JTlRfU0xPUEUsIHhSYW5nZSwgeVJhbmdlICkgKTtcclxuICB9XHJcbn1cclxuXHJcbmdyYXBoaW5nTGluZXMucmVnaXN0ZXIoICdDaGFs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