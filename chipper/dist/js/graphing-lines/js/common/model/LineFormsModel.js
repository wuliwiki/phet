// Copyright 2013-2023, University of Colorado Boulder

/**
 * LineFormsModel is the base class for the 'Slope', 'Slope-Intercept' and 'Point-Slope' models.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import createObservableArray from '../../../../axon/js/createObservableArray.js';
import Multilink from '../../../../axon/js/Multilink.js';
import Property from '../../../../axon/js/Property.js';
import Bounds2 from '../../../../dot/js/Bounds2.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import ModelViewTransform2 from '../../../../phetcommon/js/view/ModelViewTransform2.js';
import graphingLines from '../../graphingLines.js';
import GLConstants from '../GLConstants.js';
import Graph from './Graph.js';
import PointTool from './PointTool.js';

// constants
const GRID_VIEW_UNITS = 530; // max dimension (width or height) of the grid in view coordinates
const ORIGIN_OFFSET = new Vector2(315, 330); // offset of the graph's origin in view coordinates

export default class LineFormsModel {
  // the line that the user interacts with

  // radius of the manipulators

  // model-view transform, created in the model because it's dependent on graph axes ranges

  // static lines

  // point tools, drag bounds determined by 'eye balling' so that the point tool nodes remain on screen

  constructor(interactiveLine, tandem) {
    this.interactiveLineProperty = new Property(interactiveLine);
    this.manipulatorRadius = GLConstants.MANIPULATOR_RADIUS;
    this.graph = new Graph(GLConstants.X_AXIS_RANGE, GLConstants.Y_AXIS_RANGE);
    const modelViewTransformScale = GRID_VIEW_UNITS / Math.max(this.graph.xRange.getLength(), this.graph.yRange.getLength()); // view units / model units
    this.modelViewTransform = ModelViewTransform2.createOffsetXYScaleMapping(ORIGIN_OFFSET, modelViewTransformScale, -modelViewTransformScale); // y is inverted

    this.savedLines = createObservableArray();
    this.standardLines = createObservableArray();

    // Update the lines seen by the graph.
    // unmultilink is unnecessary because we own these Properties, and the model exists for the lifetime of the sim.
    Multilink.multilink([this.interactiveLineProperty, this.savedLines.lengthProperty, this.standardLines.lengthProperty], () => {
      this.graph.lines.clear();

      // Add lines in the order that PointTool will see them: interactiveLine, standardLines, savedLines
      // This should match the order of rendering in LineFormsGraphNode.
      this.graph.lines.add(this.interactiveLineProperty.value);
      this.standardLines.forEach(line => this.graph.lines.add(line));
      this.savedLines.forEach(line => this.graph.lines.add(line));
    });
    this.pointTool1 = new PointTool(new Vector2(-5, -10.5), 'up', this.graph.lines, new Bounds2(this.graph.xRange.min - 1, this.graph.yRange.min - 1, this.graph.xRange.max + 3, this.graph.yRange.max + 3));
    this.pointTool2 = new PointTool(new Vector2(3, -13), 'down', this.graph.lines, new Bounds2(this.graph.xRange.min - 1, this.graph.yRange.min - 3, this.graph.xRange.max + 3, this.graph.yRange.max + 1));
  }
  reset() {
    this.interactiveLineProperty.reset();
    this.savedLines.clear();
    this.standardLines.clear();
    this.pointTool1.reset();
    this.pointTool2.reset();
  }
}
graphingLines.register('LineFormsModel', LineFormsModel);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVPYnNlcnZhYmxlQXJyYXkiLCJNdWx0aWxpbmsiLCJQcm9wZXJ0eSIsIkJvdW5kczIiLCJWZWN0b3IyIiwiTW9kZWxWaWV3VHJhbnNmb3JtMiIsImdyYXBoaW5nTGluZXMiLCJHTENvbnN0YW50cyIsIkdyYXBoIiwiUG9pbnRUb29sIiwiR1JJRF9WSUVXX1VOSVRTIiwiT1JJR0lOX09GRlNFVCIsIkxpbmVGb3Jtc01vZGVsIiwiY29uc3RydWN0b3IiLCJpbnRlcmFjdGl2ZUxpbmUiLCJ0YW5kZW0iLCJpbnRlcmFjdGl2ZUxpbmVQcm9wZXJ0eSIsIm1hbmlwdWxhdG9yUmFkaXVzIiwiTUFOSVBVTEFUT1JfUkFESVVTIiwiZ3JhcGgiLCJYX0FYSVNfUkFOR0UiLCJZX0FYSVNfUkFOR0UiLCJtb2RlbFZpZXdUcmFuc2Zvcm1TY2FsZSIsIk1hdGgiLCJtYXgiLCJ4UmFuZ2UiLCJnZXRMZW5ndGgiLCJ5UmFuZ2UiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJjcmVhdGVPZmZzZXRYWVNjYWxlTWFwcGluZyIsInNhdmVkTGluZXMiLCJzdGFuZGFyZExpbmVzIiwibXVsdGlsaW5rIiwibGVuZ3RoUHJvcGVydHkiLCJsaW5lcyIsImNsZWFyIiwiYWRkIiwidmFsdWUiLCJmb3JFYWNoIiwibGluZSIsInBvaW50VG9vbDEiLCJtaW4iLCJwb2ludFRvb2wyIiwicmVzZXQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkxpbmVGb3Jtc01vZGVsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDEzLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIExpbmVGb3Jtc01vZGVsIGlzIHRoZSBiYXNlIGNsYXNzIGZvciB0aGUgJ1Nsb3BlJywgJ1Nsb3BlLUludGVyY2VwdCcgYW5kICdQb2ludC1TbG9wZScgbW9kZWxzLlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCBjcmVhdGVPYnNlcnZhYmxlQXJyYXksIHsgT2JzZXJ2YWJsZUFycmF5IH0gZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9jcmVhdGVPYnNlcnZhYmxlQXJyYXkuanMnO1xyXG5pbXBvcnQgTXVsdGlsaW5rIGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvTXVsdGlsaW5rLmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgQm91bmRzMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvQm91bmRzMi5qcyc7XHJcbmltcG9ydCBWZWN0b3IyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyLmpzJztcclxuaW1wb3J0IFRNb2RlbCBmcm9tICcuLi8uLi8uLi8uLi9qb2lzdC9qcy9UTW9kZWwuanMnO1xyXG5pbXBvcnQgTW9kZWxWaWV3VHJhbnNmb3JtMiBmcm9tICcuLi8uLi8uLi8uLi9waGV0Y29tbW9uL2pzL3ZpZXcvTW9kZWxWaWV3VHJhbnNmb3JtMi5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBncmFwaGluZ0xpbmVzIGZyb20gJy4uLy4uL2dyYXBoaW5nTGluZXMuanMnO1xyXG5pbXBvcnQgR0xDb25zdGFudHMgZnJvbSAnLi4vR0xDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgR3JhcGggZnJvbSAnLi9HcmFwaC5qcyc7XHJcbmltcG9ydCBMaW5lIGZyb20gJy4vTGluZS5qcyc7XHJcbmltcG9ydCBQb2ludFRvb2wgZnJvbSAnLi9Qb2ludFRvb2wuanMnO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IEdSSURfVklFV19VTklUUyA9IDUzMDsgLy8gbWF4IGRpbWVuc2lvbiAod2lkdGggb3IgaGVpZ2h0KSBvZiB0aGUgZ3JpZCBpbiB2aWV3IGNvb3JkaW5hdGVzXHJcbmNvbnN0IE9SSUdJTl9PRkZTRVQgPSBuZXcgVmVjdG9yMiggMzE1LCAzMzAgKTsgLy8gb2Zmc2V0IG9mIHRoZSBncmFwaCdzIG9yaWdpbiBpbiB2aWV3IGNvb3JkaW5hdGVzXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5lRm9ybXNNb2RlbCBpbXBsZW1lbnRzIFRNb2RlbCB7XHJcblxyXG4gIC8vIHRoZSBsaW5lIHRoYXQgdGhlIHVzZXIgaW50ZXJhY3RzIHdpdGhcclxuICBwdWJsaWMgcmVhZG9ubHkgaW50ZXJhY3RpdmVMaW5lUHJvcGVydHk6IFByb3BlcnR5PExpbmU+O1xyXG5cclxuICAvLyByYWRpdXMgb2YgdGhlIG1hbmlwdWxhdG9yc1xyXG4gIHB1YmxpYyByZWFkb25seSBtYW5pcHVsYXRvclJhZGl1czogbnVtYmVyO1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgZ3JhcGg6IEdyYXBoO1xyXG5cclxuICAvLyBtb2RlbC12aWV3IHRyYW5zZm9ybSwgY3JlYXRlZCBpbiB0aGUgbW9kZWwgYmVjYXVzZSBpdCdzIGRlcGVuZGVudCBvbiBncmFwaCBheGVzIHJhbmdlc1xyXG4gIHB1YmxpYyByZWFkb25seSBtb2RlbFZpZXdUcmFuc2Zvcm06IE1vZGVsVmlld1RyYW5zZm9ybTI7XHJcblxyXG4gIC8vIHN0YXRpYyBsaW5lc1xyXG4gIHB1YmxpYyByZWFkb25seSBzYXZlZExpbmVzOiBPYnNlcnZhYmxlQXJyYXk8TGluZT47XHJcbiAgcHVibGljIHJlYWRvbmx5IHN0YW5kYXJkTGluZXM6IE9ic2VydmFibGVBcnJheTxMaW5lPjtcclxuXHJcbiAgLy8gcG9pbnQgdG9vbHMsIGRyYWcgYm91bmRzIGRldGVybWluZWQgYnkgJ2V5ZSBiYWxsaW5nJyBzbyB0aGF0IHRoZSBwb2ludCB0b29sIG5vZGVzIHJlbWFpbiBvbiBzY3JlZW5cclxuICBwdWJsaWMgcmVhZG9ubHkgcG9pbnRUb29sMTogUG9pbnRUb29sO1xyXG4gIHB1YmxpYyByZWFkb25seSBwb2ludFRvb2wyOiBQb2ludFRvb2w7XHJcblxyXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3RvciggaW50ZXJhY3RpdmVMaW5lOiBMaW5lLCB0YW5kZW06IFRhbmRlbSApIHtcclxuXHJcbiAgICB0aGlzLmludGVyYWN0aXZlTGluZVByb3BlcnR5ID0gbmV3IFByb3BlcnR5KCBpbnRlcmFjdGl2ZUxpbmUgKTtcclxuXHJcbiAgICB0aGlzLm1hbmlwdWxhdG9yUmFkaXVzID0gR0xDb25zdGFudHMuTUFOSVBVTEFUT1JfUkFESVVTO1xyXG5cclxuICAgIHRoaXMuZ3JhcGggPSBuZXcgR3JhcGgoIEdMQ29uc3RhbnRzLlhfQVhJU19SQU5HRSwgR0xDb25zdGFudHMuWV9BWElTX1JBTkdFICk7XHJcblxyXG4gICAgY29uc3QgbW9kZWxWaWV3VHJhbnNmb3JtU2NhbGUgPSBHUklEX1ZJRVdfVU5JVFMgLyBNYXRoLm1heCggdGhpcy5ncmFwaC54UmFuZ2UuZ2V0TGVuZ3RoKCksIHRoaXMuZ3JhcGgueVJhbmdlLmdldExlbmd0aCgpICk7IC8vIHZpZXcgdW5pdHMgLyBtb2RlbCB1bml0c1xyXG4gICAgdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0gPSBNb2RlbFZpZXdUcmFuc2Zvcm0yLmNyZWF0ZU9mZnNldFhZU2NhbGVNYXBwaW5nKCBPUklHSU5fT0ZGU0VULCBtb2RlbFZpZXdUcmFuc2Zvcm1TY2FsZSwgLW1vZGVsVmlld1RyYW5zZm9ybVNjYWxlICk7IC8vIHkgaXMgaW52ZXJ0ZWRcclxuXHJcbiAgICB0aGlzLnNhdmVkTGluZXMgPSBjcmVhdGVPYnNlcnZhYmxlQXJyYXkoKTtcclxuICAgIHRoaXMuc3RhbmRhcmRMaW5lcyA9IGNyZWF0ZU9ic2VydmFibGVBcnJheSgpO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgbGluZXMgc2VlbiBieSB0aGUgZ3JhcGguXHJcbiAgICAvLyB1bm11bHRpbGluayBpcyB1bm5lY2Vzc2FyeSBiZWNhdXNlIHdlIG93biB0aGVzZSBQcm9wZXJ0aWVzLCBhbmQgdGhlIG1vZGVsIGV4aXN0cyBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBzaW0uXHJcbiAgICBNdWx0aWxpbmsubXVsdGlsaW5rKFxyXG4gICAgICBbIHRoaXMuaW50ZXJhY3RpdmVMaW5lUHJvcGVydHksIHRoaXMuc2F2ZWRMaW5lcy5sZW5ndGhQcm9wZXJ0eSwgdGhpcy5zdGFuZGFyZExpbmVzLmxlbmd0aFByb3BlcnR5IF0sXHJcbiAgICAgICgpID0+IHtcclxuICAgICAgICB0aGlzLmdyYXBoLmxpbmVzLmNsZWFyKCk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBsaW5lcyBpbiB0aGUgb3JkZXIgdGhhdCBQb2ludFRvb2wgd2lsbCBzZWUgdGhlbTogaW50ZXJhY3RpdmVMaW5lLCBzdGFuZGFyZExpbmVzLCBzYXZlZExpbmVzXHJcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgbWF0Y2ggdGhlIG9yZGVyIG9mIHJlbmRlcmluZyBpbiBMaW5lRm9ybXNHcmFwaE5vZGUuXHJcbiAgICAgICAgdGhpcy5ncmFwaC5saW5lcy5hZGQoIHRoaXMuaW50ZXJhY3RpdmVMaW5lUHJvcGVydHkudmFsdWUgKTtcclxuICAgICAgICB0aGlzLnN0YW5kYXJkTGluZXMuZm9yRWFjaCggbGluZSA9PiB0aGlzLmdyYXBoLmxpbmVzLmFkZCggbGluZSApICk7XHJcbiAgICAgICAgdGhpcy5zYXZlZExpbmVzLmZvckVhY2goIGxpbmUgPT4gdGhpcy5ncmFwaC5saW5lcy5hZGQoIGxpbmUgKSApO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMucG9pbnRUb29sMSA9IG5ldyBQb2ludFRvb2woIG5ldyBWZWN0b3IyKCAtNSwgLTEwLjUgKSwgJ3VwJywgdGhpcy5ncmFwaC5saW5lcyxcclxuICAgICAgbmV3IEJvdW5kczIoIHRoaXMuZ3JhcGgueFJhbmdlLm1pbiAtIDEsIHRoaXMuZ3JhcGgueVJhbmdlLm1pbiAtIDEsIHRoaXMuZ3JhcGgueFJhbmdlLm1heCArIDMsIHRoaXMuZ3JhcGgueVJhbmdlLm1heCArIDMgKSApO1xyXG4gICAgdGhpcy5wb2ludFRvb2wyID0gbmV3IFBvaW50VG9vbCggbmV3IFZlY3RvcjIoIDMsIC0xMyApLCAnZG93bicsIHRoaXMuZ3JhcGgubGluZXMsXHJcbiAgICAgIG5ldyBCb3VuZHMyKCB0aGlzLmdyYXBoLnhSYW5nZS5taW4gLSAxLCB0aGlzLmdyYXBoLnlSYW5nZS5taW4gLSAzLCB0aGlzLmdyYXBoLnhSYW5nZS5tYXggKyAzLCB0aGlzLmdyYXBoLnlSYW5nZS5tYXggKyAxICkgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcclxuICAgIHRoaXMuaW50ZXJhY3RpdmVMaW5lUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMuc2F2ZWRMaW5lcy5jbGVhcigpO1xyXG4gICAgdGhpcy5zdGFuZGFyZExpbmVzLmNsZWFyKCk7XHJcbiAgICB0aGlzLnBvaW50VG9vbDEucmVzZXQoKTtcclxuICAgIHRoaXMucG9pbnRUb29sMi5yZXNldCgpO1xyXG4gIH1cclxufVxyXG5cclxuZ3JhcGhpbmdMaW5lcy5yZWdpc3RlciggJ0xpbmVGb3Jtc01vZGVsJywgTGluZUZvcm1zTW9kZWwgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EscUJBQXFCLE1BQTJCLDhDQUE4QztBQUNyRyxPQUFPQyxTQUFTLE1BQU0sa0NBQWtDO0FBQ3hELE9BQU9DLFFBQVEsTUFBTSxpQ0FBaUM7QUFDdEQsT0FBT0MsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxPQUFPQyxPQUFPLE1BQU0sK0JBQStCO0FBRW5ELE9BQU9DLG1CQUFtQixNQUFNLHVEQUF1RDtBQUV2RixPQUFPQyxhQUFhLE1BQU0sd0JBQXdCO0FBQ2xELE9BQU9DLFdBQVcsTUFBTSxtQkFBbUI7QUFDM0MsT0FBT0MsS0FBSyxNQUFNLFlBQVk7QUFFOUIsT0FBT0MsU0FBUyxNQUFNLGdCQUFnQjs7QUFFdEM7QUFDQSxNQUFNQyxlQUFlLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFDN0IsTUFBTUMsYUFBYSxHQUFHLElBQUlQLE9BQU8sQ0FBRSxH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