// Copyright 2013-2023, University of Colorado Boulder

/**
 * Base class for accordion boxes that contains the interactive equation and related controls
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { HBox, HSeparator, VBox } from '../../../../scenery/js/imports.js';
import AccordionBox from '../../../../sun/js/AccordionBox.js';
import TextPushButton from '../../../../sun/js/buttons/TextPushButton.js';
import graphingLines from '../../graphingLines.js';
import GraphingLinesStrings from '../../GraphingLinesStrings.js';
import GLColors from '../GLColors.js';
// constants
const BUTTON_FONT = new PhetFont(18);
export default class EquationAccordionBox extends AccordionBox {
  constructor(titleNode, interactiveEquationNode, interactiveLineProperty, savedLines, expandedProperty, tandem) {
    const options = {
      titleNode: titleNode,
      expandedProperty: expandedProperty,
      fill: GLColors.CONTROL_PANEL_BACKGROUND,
      titleXSpacing: 5,
      titleYMargin: 10,
      contentXMargin: 10,
      contentYMargin: 10,
      contentYSpacing: 0,
      buttonXMargin: 10,
      buttonYMargin: 10,
      expandCollapseButtonOptions: {
        sideLength: 30
      },
      tandem: tandem
    };

    // Save Line button
    const saveLineButton = new TextPushButton(GraphingLinesStrings.saveLine, {
      listener: () => savedLines.add(interactiveLineProperty.value.withColor(GLColors.SAVED_LINE_NORMAL)),
      font: BUTTON_FONT,
      baseColor: 'white',
      xMargin: 10
    });

    // Erase Lines button
    const eraseLinesButton = new TextPushButton(GraphingLinesStrings.eraseLines, {
      listener: () => savedLines.clear(),
      font: BUTTON_FONT,
      baseColor: 'white',
      xMargin: 10
    });

    // horizontal layout of buttons
    const buttonGroup = new HBox({
      spacing: 20,
      maxWidth: 320,
      children: [saveLineButton, eraseLinesButton]
    });

    // Disable eraseLinesButton when there are no saved lines. unlink not needed.
    savedLines.lengthProperty.link(length => {
      eraseLinesButton.enabled = length > 0;
    });
    const separatorOptions = {
      stroke: 'rgb( 212, 212, 212 )'
    };
    const contentNode = new VBox({
      align: 'center',
      spacing: 10,
      children: [new HSeparator(separatorOptions), interactiveEquationNode, new HSeparator(separatorOptions), buttonGroup]
    });
    super(contentNode, options);
  }
}
graphingLines.register('EquationAccordionBox', EquationAccordionBox);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQaGV0Rm9udCIsIkhCb3giLCJIU2VwYXJhdG9yIiwiVkJveCIsIkFjY29yZGlvbkJveCIsIlRleHRQdXNoQnV0dG9uIiwiZ3JhcGhpbmdMaW5lcyIsIkdyYXBoaW5nTGluZXNTdHJpbmdzIiwiR0xDb2xvcnMiLCJCVVRUT05fRk9OVCIsIkVxdWF0aW9uQWNjb3JkaW9uQm94IiwiY29uc3RydWN0b3IiLCJ0aXRsZU5vZGUiLCJpbnRlcmFjdGl2ZUVxdWF0aW9uTm9kZSIsImludGVyYWN0aXZlTGluZVByb3BlcnR5Iiwic2F2ZWRMaW5lcyIsImV4cGFuZGVkUHJvcGVydHkiLCJ0YW5kZW0iLCJvcHRpb25zIiwiZmlsbCIsIkNPTlRST0xfUEFORUxfQkFDS0dST1VORCIsInRpdGxlWFNwYWNpbmciLCJ0aXRsZVlNYXJnaW4iLCJjb250ZW50WE1hcmdpbiIsImNvbnRlbnRZTWFyZ2luIiwiY29udGVudFlTcGFjaW5nIiwiYnV0dG9uWE1hcmdpbiIsImJ1dHRvbllNYXJnaW4iLCJleHBhbmRDb2xsYXBzZUJ1dHRvbk9wdGlvbnMiLCJzaWRlTGVuZ3RoIiwic2F2ZUxpbmVCdXR0b24iLCJzYXZlTGluZSIsImxpc3RlbmVyIiwiYWRkIiwidmFsdWUiLCJ3aXRoQ29sb3IiLCJTQVZFRF9MSU5FX05PUk1BTCIsImZvbnQiLCJiYXNlQ29sb3IiLCJ4TWFyZ2luIiwiZXJhc2VMaW5lc0J1dHRvbiIsImVyYXNlTGluZXMiLCJjbGVhciIsImJ1dHRvbkdyb3VwIiwic3BhY2luZyIsIm1heFdpZHRoIiwiY2hpbGRyZW4iLCJsZW5ndGhQcm9wZXJ0eSIsImxpbmsiLCJsZW5ndGgiLCJlbmFibGVkIiwic2VwYXJhdG9yT3B0aW9ucyIsInN0cm9rZSIsImNvbnRlbnROb2RlIiwiYWxpZ24iLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkVxdWF0aW9uQWNjb3JkaW9uQm94LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDEzLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIGFjY29yZGlvbiBib3hlcyB0aGF0IGNvbnRhaW5zIHRoZSBpbnRlcmFjdGl2ZSBlcXVhdGlvbiBhbmQgcmVsYXRlZCBjb250cm9sc1xyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IE9ic2VydmFibGVBcnJheSB9IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvY3JlYXRlT2JzZXJ2YWJsZUFycmF5LmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBQaGV0Rm9udCBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvUGhldEZvbnQuanMnO1xyXG5pbXBvcnQgeyBIQm94LCBIU2VwYXJhdG9yLCBOb2RlLCBWQm94IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IEFjY29yZGlvbkJveCwgeyBBY2NvcmRpb25Cb3hPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL0FjY29yZGlvbkJveC5qcyc7XHJcbmltcG9ydCBUZXh0UHVzaEJ1dHRvbiBmcm9tICcuLi8uLi8uLi8uLi9zdW4vanMvYnV0dG9ucy9UZXh0UHVzaEJ1dHRvbi5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBncmFwaGluZ0xpbmVzIGZyb20gJy4uLy4uL2dyYXBoaW5nTGluZXMuanMnO1xyXG5pbXBvcnQgR3JhcGhpbmdMaW5lc1N0cmluZ3MgZnJvbSAnLi4vLi4vR3JhcGhpbmdMaW5lc1N0cmluZ3MuanMnO1xyXG5pbXBvcnQgR0xDb2xvcnMgZnJvbSAnLi4vR0xDb2xvcnMuanMnO1xyXG5pbXBvcnQgTGluZSBmcm9tICcuLi9tb2RlbC9MaW5lLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBCVVRUT05fRk9OVCA9IG5ldyBQaGV0Rm9udCggMTggKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVxdWF0aW9uQWNjb3JkaW9uQm94IGV4dGVuZHMgQWNjb3JkaW9uQm94IHtcclxuXHJcbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKCB0aXRsZU5vZGU6IE5vZGUsIGludGVyYWN0aXZlRXF1YXRpb25Ob2RlOiBOb2RlLCBpbnRlcmFjdGl2ZUxpbmVQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8TGluZT4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlZExpbmVzOiBPYnNlcnZhYmxlQXJyYXk8TGluZT4sIGV4cGFuZGVkUHJvcGVydHk6IFByb3BlcnR5PGJvb2xlYW4+LCB0YW5kZW06IFRhbmRlbSApIHtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zOiBBY2NvcmRpb25Cb3hPcHRpb25zID0ge1xyXG4gICAgICB0aXRsZU5vZGU6IHRpdGxlTm9kZSxcclxuICAgICAgZXhwYW5kZWRQcm9wZXJ0eTogZXhwYW5kZWRQcm9wZXJ0eSxcclxuICAgICAgZmlsbDogR0xDb2xvcnMuQ09OVFJPTF9QQU5FTF9CQUNLR1JPVU5ELFxyXG4gICAgICB0aXRsZVhTcGFjaW5nOiA1LFxyXG4gICAgICB0aXRsZVlNYXJnaW46IDEwLFxyXG4gICAgICBjb250ZW50WE1hcmdpbjogMTAsXHJcbiAgICAgIGNvbnRlbnRZTWFyZ2luOiAxMCxcclxuICAgICAgY29udGVudFlTcGFjaW5nOiAwLFxyXG4gICAgICBidXR0b25YTWFyZ2luOiAxMCxcclxuICAgICAgYnV0dG9uWU1hcmdpbjogMTAsXHJcbiAgICAgIGV4cGFuZENvbGxhcHNlQnV0dG9uT3B0aW9uczoge1xyXG4gICAgICAgIHNpZGVMZW5ndGg6IDMwXHJcbiAgICAgIH0sXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNhdmUgTGluZSBidXR0b25cclxuICAgIGNvbnN0IHNhdmVMaW5lQnV0dG9uID0gbmV3IFRleHRQdXNoQnV0dG9uKCBHcmFwaGluZ0xpbmVzU3RyaW5ncy5zYXZlTGluZSwge1xyXG4gICAgICBsaXN0ZW5lcjogKCkgPT4gc2F2ZWRMaW5lcy5hZGQoIGludGVyYWN0aXZlTGluZVByb3BlcnR5LnZhbHVlLndpdGhDb2xvciggR0xDb2xvcnMuU0FWRURfTElORV9OT1JNQUwgKSApLFxyXG4gICAgICBmb250OiBCVVRUT05fRk9OVCxcclxuICAgICAgYmFzZUNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICB4TWFyZ2luOiAxMFxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIEVyYXNlIExpbmVzIGJ1dHRvblxyXG4gICAgY29uc3QgZXJhc2VMaW5lc0J1dHRvbiA9IG5ldyBUZXh0UHVzaEJ1dHRvbiggR3JhcGhpbmdMaW5lc1N0cmluZ3MuZXJhc2VMaW5lcywge1xyXG4gICAgICBsaXN0ZW5lcjogKCkgPT4gc2F2ZWRMaW5lcy5jbGVhcigpLFxyXG4gICAgICBmb250OiBCVVRUT05fRk9OVCxcclxuICAgICAgYmFzZUNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICB4TWFyZ2luOiAxMFxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGhvcml6b250YWwgbGF5b3V0IG9mIGJ1dHRvbnNcclxuICAgIGNvbnN0IGJ1dHRvbkdyb3VwID0gbmV3IEhCb3goIHtcclxuICAgICAgc3BhY2luZzogMjAsXHJcbiAgICAgIG1heFdpZHRoOiAzMjAsXHJcbiAgICAgIGNoaWxkcmVuOiBbIHNhdmVMaW5lQnV0dG9uLCBlcmFzZUxpbmVzQnV0dG9uIF1cclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBEaXNhYmxlIGVyYXNlTGluZXNCdXR0b24gd2hlbiB0aGVyZSBhcmUgbm8gc2F2ZWQgbGluZXMuIHVubGluayBub3QgbmVlZGVkLlxyXG4gICAgc2F2ZWRMaW5lcy5sZW5ndGhQcm9wZXJ0eS5saW5rKCBsZW5ndGggPT4ge1xyXG4gICAgICBlcmFzZUxpbmVzQnV0dG9uLmVuYWJsZWQgPSAoIGxlbmd0aCA+IDAgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBzZXBhcmF0b3JPcHRpb25zID0geyBzdHJva2U6ICdyZ2IoIDIxMiwgMjEyLCAyMTIgKScgfTtcclxuXHJcbiAgICBjb25zdCBjb250ZW50Tm9kZSA9IG5ldyBWQm94KCB7XHJcbiAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgc3BhY2luZzogMTAsXHJcbiAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgbmV3IEhTZXBhcmF0b3IoIHNlcGFyYXRvck9wdGlvbnMgKSxcclxuICAgICAgICBpbnRlcmFjdGl2ZUVxdWF0aW9uTm9kZSxcclxuICAgICAgICBuZXcgSFNlcGFyYXRvciggc2VwYXJhdG9yT3B0aW9ucyApLFxyXG4gICAgICAgIGJ1dHRvbkdyb3VwXHJcbiAgICAgIF1cclxuICAgIH0gKTtcclxuXHJcbiAgICBzdXBlciggY29udGVudE5vZGUsIG9wdGlvbnMgKTtcclxuICB9XHJcbn1cclxuXHJcbmdyYXBoaW5nTGluZXMucmVnaXN0ZXIoICdFcXVhdGlvbkFjY29yZGlvbkJveCcsIEVxdWF0aW9uQWNjb3JkaW9uQm94ICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUtBLE9BQU9BLFFBQVEsTUFBTSx5Q0FBeUM7QUFDOUQsU0FBU0MsSUFBSSxFQUFFQyxVQUFVLEVBQVFDLElBQUksUUFBUSxtQ0FBbUM7QUFDaEYsT0FBT0MsWUFBWSxNQUErQixvQ0FBb0M7QUFDdEYsT0FBT0MsY0FBYyxNQUFNLDhDQUE4QztBQUV6RSxPQUFPQyxhQUFhLE1BQU0sd0JBQXdCO0FBQ2xELE9BQU9DLG9CQUFvQixNQUFNLCtCQUErQjtBQUNoRSxPQUFPQyxRQUFRLE1BQU0sZ0JBQWdCO0FB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