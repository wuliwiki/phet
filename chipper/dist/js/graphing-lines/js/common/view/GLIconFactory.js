// Copyright 2013-2023, University of Colorado Boulder

/**
 * Factory for creating icons that appear in this sim.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import Property from '../../../../axon/js/Property.js';
import Dimension2 from '../../../../dot/js/Dimension2.js';
import Range from '../../../../dot/js/Range.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import ScreenIcon from '../../../../joist/js/ScreenIcon.js';
import { Shape } from '../../../../kite/js/imports.js';
import ModelViewTransform2 from '../../../../phetcommon/js/view/ModelViewTransform2.js';
import ArrowNode from '../../../../scenery-phet/js/ArrowNode.js';
import FaceWithPointsNode from '../../../../scenery-phet/js/FaceWithPointsNode.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { Line as SceneryLine, Node, Path } from '../../../../scenery/js/imports.js';
import graphingLines from '../../graphingLines.js';
import GLColors from '../GLColors.js';
import Graph from '../model/Graph.js';
import Line from '../model/Line.js';
import DimensionalArrowNode from './DimensionalArrowNode.js';
import GraphNode from './GraphNode.js';
import Manipulator from './manipulator/Manipulator.js';
import SlopeToolNode from './SlopeToolNode.js';

// constants
const scenery = {
  Line: SceneryLine
};
const SCREEN_ICON_BASE_SIZE = new Dimension2(548, 373);
const ARROW_NODE_OPTIONS = {
  doubleHead: true,
  stroke: 'black',
  lineWidth: 18,
  headWidth: 30,
  headHeight: 30
};
const DIMENSIONAL_ARROW_NODE_OPTIONS = {
  stroke: GLColors.SLOPE_TOOL_DIMENSIONAL_LINES,
  lineWidth: 18,
  arrowTipSize: new Dimension2(55, 45),
  delimitersVisible: false,
  lineCap: 'round',
  lineJoin: 'round'
};
const MANIPULATOR_RADIUS = 40;
const GLIconFactory = {
  // Creates the icon for the 'Slope' screen. Positions and sizes are 'eye balled'.
  createSlopeScreenIcon() {
    const lineNode = new ArrowNode(0.25 * SCREEN_ICON_BASE_SIZE.width, SCREEN_ICON_BASE_SIZE.height, 0.75 * SCREEN_ICON_BASE_SIZE.width, 0, ARROW_NODE_OPTIONS);
    const riseNode = new DimensionalArrowNode(0, 0.65 * SCREEN_ICON_BASE_SIZE.height, 0, 0, DIMENSIONAL_ARROW_NODE_OPTIONS);
    const runNode = new DimensionalArrowNode(0, 0, 0.36 * SCREEN_ICON_BASE_SIZE.width, 0, DIMENSIONAL_ARROW_NODE_OPTIONS);
    const iconNode = new Node({
      children: [lineNode, riseNode, runNode]
    });
    riseNode.centerX = lineNode.left + 10;
    riseNode.bottom = lineNode.bottom - 0.2 * lineNode.height;
    runNode.left = riseNode.centerX;
    runNode.centerY = riseNode.top - 5;
    return new ScreenIcon(iconNode, {
      maxIconWidthProportion: 1,
      maxIconHeightProportion: 1
    });
  },
  // Creates the icon for the 'Slope-Intercept' screen. Positions and sizes are 'eye balled'.
  createSlopeInterceptScreenIcon() {
    const lineNode = new ArrowNode(0.1 * SCREEN_ICON_BASE_SIZE.width, SCREEN_ICON_BASE_SIZE.height, 0.9 * SCREEN_ICON_BASE_SIZE.width, 0, ARROW_NODE_OPTIONS);
    const axisNode = new scenery.Line(0, -0.05 * SCREEN_ICON_BASE_SIZE.height, 0, 1.05 * SCREEN_ICON_BASE_SIZE.height, {
      stroke: 'rgb(134,134,134)',
      lineWidth: 10
    });
    const riseNode = new DimensionalArrowNode(0, 0.5 * SCREEN_ICON_BASE_SIZE.height, 0, 0, DIMENSIONAL_ARROW_NODE_OPTIONS);
    const runNode = new DimensionalArrowNode(0, 0, 0.45 * SCREEN_ICON_BASE_SIZE.width, 0, DIMENSIONAL_ARROW_NODE_OPTIONS);
    const interceptNode = Manipulator.createIcon(MANIPULATOR_RADIUS, GLColors.INTERCEPT);
    const iconNode = new Node({
      children: [axisNode, lineNode, riseNode, runNode, interceptNode]
    });
    axisNode.centerX = 0.35 * SCREEN_ICON_BASE_SIZE.width;
    riseNode.centerX = axisNode.left - 60;
    riseNode.bottom = lineNode.bottom - 0.3 * lineNode.height;
    runNode.left = riseNode.centerX;
    runNode.centerY = riseNode.top - 5;
    interceptNode.centerX = 0.35 * SCREEN_ICON_BASE_SIZE.width;
    interceptNode.centerY = 0.68 * SCREEN_ICON_BASE_SIZE.height;
    return new ScreenIcon(iconNode, {
      maxIconWidthProportion: 1,
      maxIconHeightProportion: 1
    });
  },
  // Creates the icon for the 'Point-Slope' screen. Positions and sizes are 'eye balled'.
  createPointSlopeScreenIcon() {
    const lineNode = new ArrowNode(0, 0.75 * SCREEN_ICON_BASE_SIZE.height, SCREEN_ICON_BASE_SIZE.width, 0.25 * SCREEN_ICON_BASE_SIZE.height, ARROW_NODE_OPTIONS);
    const riseNode = new DimensionalArrowNode(0, 0.37 * SCREEN_ICON_BASE_SIZE.height, 0, 0, DIMENSIONAL_ARROW_NODE_OPTIONS);
    const runNode = new DimensionalArrowNode(0, 0, 0.54 * SCREEN_ICON_BASE_SIZE.width, 0, DIMENSIONAL_ARROW_NODE_OPTIONS);
    const pointNode = Manipulator.createIcon(MANIPULATOR_RADIUS, GLColors.INTERCEPT);
    const slopeNode = Manipulator.createIcon(MANIPULATOR_RADIUS, GLColors.SLOPE);
    const iconNode = new Node({
      children: [lineNode, riseNode, runNode, pointNode, slopeNode]
    });
    riseNode.centerX = 0.2 * SCREEN_ICON_BASE_SIZE.width;
    riseNode.bottom = lineNode.bottom - 0.4 * lineNode.height;
    runNode.left = riseNode.centerX;
    runNode.centerY = riseNode.top - 5;
    pointNode.centerX = 0.32 * SCREEN_ICON_BASE_SIZE.width;
    pointNode.centerY = 0.58 * SCREEN_ICON_BASE_SIZE.height;
    slopeNode.centerX = 0.75 * SCREEN_ICON_BASE_SIZE.width;
    slopeNode.centerY = 0.36 * SCREEN_ICON_BASE_SIZE.height;
    return new ScreenIcon(iconNode, {
      maxIconWidthProportion: 1,
      maxIconHeightProportion: 1
    });
  },
  // Creates the icon for the 'Line Game' screen
  createGameScreenIcon() {
    const faceNode = new FaceWithPointsNode({
      faceDiameter: 75,
      pointsFont: new PhetFont({
        size: 24,
        weight: 'bold'
      }),
      pointsAlignment: 'rightCenter',
      points: 2
    });
    return new ScreenIcon(faceNode, {
      maxIconWidthProportion: 0.65
    });
  },
  // Creates an icon for the slope-tool feature
  createSlopeToolIcon(width) {
    const parentNode = new Node();

    // slope tool
    const slopeToolNode = new SlopeToolNode(new Property(Line.createSlopeIntercept(1, 2, 0)), ModelViewTransform2.createOffsetXYScaleMapping(Vector2.ZERO, 26, -26));
    parentNode.addChild(slopeToolNode);

    // dashed line where the line would be, tweaked visually
    const lineNode = new Path(Shape.lineSegment(slopeToolNode.left + 0.4 * slopeToolNode.width, slopeToolNode.bottom, slopeToolNode.right, slopeToolNode.top + 0.5 * slopeToolNode.height), {
      lineWidth: 1,
      lineDash: [6, 6],
      stroke: 'black'
    });
    parentNode.addChild(lineNode);
    parentNode.scale(width / parentNode.width);
    return parentNode;
  },
  // Creates an icon that shows a line on a graph.
  createGraphIcon(width, color, x1, y1, x2, y2) {
    const axisRange = new Range(-3, 3);
    const graph = new Graph(axisRange, axisRange);
    const modelViewTransform = ModelViewTransform2.createOffsetXYScaleMapping(new Vector2(0, 0), 15, -15);
    const graphNode = new GraphNode(graph, modelViewTransform);
    const p1 = modelViewTransform.modelToViewXY(x1, y1);
    const p2 = modelViewTransform.modelToViewXY(x2, y2);
    graphNode.addChild(new Path(Shape.lineSegment(p1.x, p1.y, p2.x, p2.y), {
      stroke: color,
      lineWidth: 5
    }));
    graphNode.scale(width / graphNode.width);
    return graphNode;
  }
};
graphingLines.register('GLIconFactory', GLIconFactory);
export default GLIconFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIkRpbWVuc2lvbjIiLCJSYW5nZSIsIlZlY3RvcjIiLCJTY3JlZW5JY29uIiwiU2hhcGUiLCJNb2RlbFZpZXdUcmFuc2Zvcm0yIiwiQXJyb3dOb2RlIiwiRmFjZVdpdGhQb2ludHNOb2RlIiwiUGhldEZvbnQiLCJMaW5lIiwiU2NlbmVyeUxpbmUiLCJOb2RlIiwiUGF0aCIsImdyYXBoaW5nTGluZXMiLCJHTENvbG9ycyIsIkdyYXBoIiwiRGltZW5zaW9uYWxBcnJvd05vZGUiLCJHcmFwaE5vZGUiLCJNYW5pcHVsYXRvciIsIlNsb3BlVG9vbE5vZGUiLCJzY2VuZXJ5IiwiU0NSRUVOX0lDT05fQkFTRV9TSVpFIiwiQVJST1dfTk9ERV9PUFRJT05TIiwiZG91YmxlSGVhZCIsInN0cm9rZSIsImxpbmVXaWR0aCIsImhlYWRXaWR0aCIsImhlYWRIZWlnaHQiLCJESU1FTlNJT05BTF9BUlJPV19OT0RFX09QVElPTlMiLCJTTE9QRV9UT09MX0RJTUVOU0lPTkFMX0xJTkVTIiwiYXJyb3dUaXBTaXplIiwiZGVsaW1pdGVyc1Zpc2libGUiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJNQU5JUFVMQVRPUl9SQURJVVMiLCJHTEljb25GYWN0b3J5IiwiY3JlYXRlU2xvcGVTY3JlZW5JY29uIiwibGluZU5vZGUiLCJ3aWR0aCIsImhlaWdodCIsInJpc2VOb2RlIiwicnVuTm9kZSIsImljb25Ob2RlIiwiY2hpbGRyZW4iLCJjZW50ZXJYIiwibGVmdCIsImJvdHRvbSIsImNlbnRlclkiLCJ0b3AiLCJtYXhJY29uV2lkdGhQcm9wb3J0aW9uIiwibWF4SWNvbkhlaWdodFByb3BvcnRpb24iLCJjcmVhdGVTbG9wZUludGVyY2VwdFNjcmVlbkljb24iLCJheGlzTm9kZSIsImludGVyY2VwdE5vZGUiLCJjcmVhdGVJY29uIiwiSU5URVJDRVBUIiwiY3JlYXRlUG9pbnRTbG9wZVNjcmVlbkljb24iLCJwb2ludE5vZGUiLCJzbG9wZU5vZGUiLCJTTE9QRSIsImNyZWF0ZUdhbWVTY3JlZW5JY29uIiwiZmFjZU5vZGUiLCJmYWNlRGlhbWV0ZXIiLCJwb2ludHNGb250Iiwic2l6ZSIsIndlaWdodCIsInBvaW50c0FsaWdubWVudCIsInBvaW50cyIsImNyZWF0ZVNsb3BlVG9vbEljb24iLCJwYXJlbnROb2RlIiwic2xvcGVUb29sTm9kZSIsImNyZWF0ZVNsb3BlSW50ZXJjZXB0IiwiY3JlYXRlT2Zmc2V0WFlTY2FsZU1hcHBpbmciLCJaRVJPIiwiYWRkQ2hpbGQiLCJsaW5lU2VnbWVudCIsInJpZ2h0IiwibGluZURhc2giLCJzY2FsZSIsImNyZWF0ZUdyYXBoSWNvbiIsImNvbG9yIiwieDEiLCJ5MSIsIngyIiwieTIiLCJheGlzUmFuZ2UiLCJncmFwaCIsIm1vZGVsVmlld1RyYW5zZm9ybSIsImdyYXBoTm9kZSIsInAxIiwibW9kZWxUb1ZpZXdYWSIsInAyIiwieCIsInkiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkdMSWNvbkZhY3RvcnkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTMtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogRmFjdG9yeSBmb3IgY3JlYXRpbmcgaWNvbnMgdGhhdCBhcHBlYXIgaW4gdGhpcyBzaW0uXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgRGltZW5zaW9uMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvRGltZW5zaW9uMi5qcyc7XHJcbmltcG9ydCBSYW5nZSBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvUmFuZ2UuanMnO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCBTY3JlZW5JY29uIGZyb20gJy4uLy4uLy4uLy4uL2pvaXN0L2pzL1NjcmVlbkljb24uanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBNb2RlbFZpZXdUcmFuc2Zvcm0yIGZyb20gJy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvdmlldy9Nb2RlbFZpZXdUcmFuc2Zvcm0yLmpzJztcclxuaW1wb3J0IEFycm93Tm9kZSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvQXJyb3dOb2RlLmpzJztcclxuaW1wb3J0IEZhY2VXaXRoUG9pbnRzTm9kZSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvRmFjZVdpdGhQb2ludHNOb2RlLmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XHJcbmltcG9ydCB7IExpbmUgYXMgU2NlbmVyeUxpbmUsIE5vZGUsIFBhdGgsIFRDb2xvciB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBncmFwaGluZ0xpbmVzIGZyb20gJy4uLy4uL2dyYXBoaW5nTGluZXMuanMnO1xyXG5pbXBvcnQgR0xDb2xvcnMgZnJvbSAnLi4vR0xDb2xvcnMuanMnO1xyXG5pbXBvcnQgR3JhcGggZnJvbSAnLi4vbW9kZWwvR3JhcGguanMnO1xyXG5pbXBvcnQgTGluZSBmcm9tICcuLi9tb2RlbC9MaW5lLmpzJztcclxuaW1wb3J0IERpbWVuc2lvbmFsQXJyb3dOb2RlIGZyb20gJy4vRGltZW5zaW9uYWxBcnJvd05vZGUuanMnO1xyXG5pbXBvcnQgR3JhcGhOb2RlIGZyb20gJy4vR3JhcGhOb2RlLmpzJztcclxuaW1wb3J0IE1hbmlwdWxhdG9yIGZyb20gJy4vbWFuaXB1bGF0b3IvTWFuaXB1bGF0b3IuanMnO1xyXG5pbXBvcnQgU2xvcGVUb29sTm9kZSBmcm9tICcuL1Nsb3BlVG9vbE5vZGUuanMnO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IHNjZW5lcnkgPSB7XHJcbiAgTGluZTogU2NlbmVyeUxpbmVcclxufTtcclxuY29uc3QgU0NSRUVOX0lDT05fQkFTRV9TSVpFID0gbmV3IERpbWVuc2lvbjIoIDU0OCwgMzczICk7XHJcbmNvbnN0IEFSUk9XX05PREVfT1BUSU9OUyA9IHsgZG91YmxlSGVhZDogdHJ1ZSwgc3Ryb2tlOiAnYmxhY2snLCBsaW5lV2lkdGg6IDE4LCBoZWFkV2lkdGg6IDMwLCBoZWFkSGVpZ2h0OiAzMCB9O1xyXG5jb25zdCBESU1FTlNJT05BTF9BUlJPV19OT0RFX09QVElPTlMgPSB7XHJcbiAgc3Ryb2tlOiBHTENvbG9ycy5TTE9QRV9UT09MX0RJTUVOU0lPTkFMX0xJTkVTLFxyXG4gIGxpbmVXaWR0aDogMTgsXHJcbiAgYXJyb3dUaXBTaXplOiBuZXcgRGltZW5zaW9uMiggNTUsIDQ1ICksXHJcbiAgZGVsaW1pdGVyc1Zpc2libGU6IGZhbHNlLFxyXG4gIGxpbmVDYXA6ICdyb3VuZCcsXHJcbiAgbGluZUpvaW46ICdyb3VuZCdcclxufTtcclxuY29uc3QgTUFOSVBVTEFUT1JfUkFESVVTID0gNDA7XHJcblxyXG5jb25zdCBHTEljb25GYWN0b3J5ID0ge1xyXG5cclxuICAvLyBDcmVhdGVzIHRoZSBpY29uIGZvciB0aGUgJ1Nsb3BlJyBzY3JlZW4uIFBvc2l0aW9ucyBhbmQgc2l6ZXMgYXJlICdleWUgYmFsbGVkJy5cclxuICBjcmVhdGVTbG9wZVNjcmVlbkljb24oKTogU2NyZWVuSWNvbiB7XHJcbiAgICBjb25zdCBsaW5lTm9kZSA9IG5ldyBBcnJvd05vZGUoIDAuMjUgKiBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUud2lkdGgsIFNDUkVFTl9JQ09OX0JBU0VfU0laRS5oZWlnaHQsIDAuNzUgKiBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUud2lkdGgsIDAsIEFSUk9XX05PREVfT1BUSU9OUyApO1xyXG4gICAgY29uc3QgcmlzZU5vZGUgPSBuZXcgRGltZW5zaW9uYWxBcnJvd05vZGUoIDAsIDAuNjUgKiBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUuaGVpZ2h0LCAwLCAwLCBESU1FTlNJT05BTF9BUlJPV19OT0RFX09QVElPTlMgKTtcclxuICAgIGNvbnN0IHJ1bk5vZGUgPSBuZXcgRGltZW5zaW9uYWxBcnJvd05vZGUoIDAsIDAsIDAuMzYgKiBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUud2lkdGgsIDAsIERJTUVOU0lPTkFMX0FSUk9XX05PREVfT1BUSU9OUyApO1xyXG4gICAgY29uc3QgaWNvbk5vZGUgPSBuZXcgTm9kZSggeyBjaGlsZHJlbjogWyBsaW5lTm9kZSwgcmlzZU5vZGUsIHJ1bk5vZGUgXSB9ICk7XHJcbiAgICByaXNlTm9kZS5jZW50ZXJYID0gbGluZU5vZGUubGVmdCArIDEwO1xyXG4gICAgcmlzZU5vZGUuYm90dG9tID0gbGluZU5vZGUuYm90dG9tIC0gKCAwLjIgKiBsaW5lTm9kZS5oZWlnaHQgKTtcclxuICAgIHJ1bk5vZGUubGVmdCA9IHJpc2VOb2RlLmNlbnRlclg7XHJcbiAgICBydW5Ob2RlLmNlbnRlclkgPSByaXNlTm9kZS50b3AgLSA1O1xyXG4gICAgcmV0dXJuIG5ldyBTY3JlZW5JY29uKCBpY29uTm9kZSwgeyBtYXhJY29uV2lkdGhQcm9wb3J0aW9uOiAxLCBtYXhJY29uSGVpZ2h0UHJvcG9ydGlvbjogMSB9ICk7XHJcbiAgfSxcclxuXHJcbiAgLy8gQ3JlYXRlcyB0aGUgaWNvbiBmb3IgdGhlICdTbG9wZS1JbnRlcmNlcHQnIHNjcmVlbi4gUG9zaXRpb25zIGFuZCBzaXplcyBhcmUgJ2V5ZSBiYWxsZWQnLlxyXG4gIGNyZWF0ZVNsb3BlSW50ZXJjZXB0U2NyZWVuSWNvbigpOiBTY3JlZW5JY29uIHtcclxuICAgIGNvbnN0IGxpbmVOb2RlID0gbmV3IEFycm93Tm9kZSggMC4xICogU0NSRUVOX0lDT05fQkFTRV9TSVpFLndpZHRoLCBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUuaGVpZ2h0LCAwLjkgKiBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUud2lkdGgsIDAsIEFSUk9XX05PREVfT1BUSU9OUyApO1xyXG4gICAgY29uc3QgYXhpc05vZGUgPSBuZXcgc2NlbmVyeS5MaW5lKCAwLCAtMC4wNSAqIFNDUkVFTl9JQ09OX0JBU0VfU0laRS5oZWlnaHQsIDAsIDEuMDUgKiBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUuaGVpZ2h0LCB7XHJcbiAgICAgIHN0cm9rZTogJ3JnYigxMzQsMTM0LDEzNCknLFxyXG4gICAgICBsaW5lV2lkdGg6IDEwXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCByaXNlTm9kZSA9IG5ldyBEaW1lbnNpb25hbEFycm93Tm9kZSggMCwgMC41ICogU0NSRUVOX0lDT05fQkFTRV9TSVpFLmhlaWdodCwgMCwgMCwgRElNRU5TSU9OQUxfQVJST1dfTk9ERV9PUFRJT05TICk7XHJcbiAgICBjb25zdCBydW5Ob2RlID0gbmV3IERpbWVuc2lvbmFsQXJyb3dOb2RlKCAwLCAwLCAwLjQ1ICogU0NSRUVOX0lDT05fQkFTRV9TSVpFLndpZHRoLCAwLCBESU1FTlNJT05BTF9BUlJPV19OT0RFX09QVElPTlMgKTtcclxuICAgIGNvbnN0IGludGVyY2VwdE5vZGUgPSBNYW5pcHVsYXRvci5jcmVhdGVJY29uKCBNQU5JUFVMQVRPUl9SQURJVVMsIEdMQ29sb3JzLklOVEVSQ0VQVCApO1xyXG4gICAgY29uc3QgaWNvbk5vZGUgPSBuZXcgTm9kZSggeyBjaGlsZHJlbjogWyBheGlzTm9kZSwgbGluZU5vZGUsIHJpc2VOb2RlLCBydW5Ob2RlLCBpbnRlcmNlcHROb2RlIF0gfSApO1xyXG4gICAgYXhpc05vZGUuY2VudGVyWCA9IDAuMzUgKiBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUud2lkdGg7XHJcbiAgICByaXNlTm9kZS5jZW50ZXJYID0gYXhpc05vZGUubGVmdCAtIDYwO1xyXG4gICAgcmlzZU5vZGUuYm90dG9tID0gbGluZU5vZGUuYm90dG9tIC0gKCAwLjMgKiBsaW5lTm9kZS5oZWlnaHQgKTtcclxuICAgIHJ1bk5vZGUubGVmdCA9IHJpc2VOb2RlLmNlbnRlclg7XHJcbiAgICBydW5Ob2RlLmNlbnRlclkgPSByaXNlTm9kZS50b3AgLSA1O1xyXG4gICAgaW50ZXJjZXB0Tm9kZS5jZW50ZXJYID0gMC4zNSAqIFNDUkVFTl9JQ09OX0JBU0VfU0laRS53aWR0aDtcclxuICAgIGludGVyY2VwdE5vZGUuY2VudGVyWSA9IDAuNjggKiBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUuaGVpZ2h0O1xyXG4gICAgcmV0dXJuIG5ldyBTY3JlZW5JY29uKCBpY29uTm9kZSwgeyBtYXhJY29uV2lkdGhQcm9wb3J0aW9uOiAxLCBtYXhJY29uSGVpZ2h0UHJvcG9ydGlvbjogMSB9ICk7XHJcbiAgfSxcclxuXHJcbiAgLy8gQ3JlYXRlcyB0aGUgaWNvbiBmb3IgdGhlICdQb2ludC1TbG9wZScgc2NyZWVuLiBQb3NpdGlvbnMgYW5kIHNpemVzIGFyZSAnZXllIGJhbGxlZCcuXHJcbiAgY3JlYXRlUG9pbnRTbG9wZVNjcmVlbkljb24oKTogU2NyZWVuSWNvbiB7XHJcbiAgICBjb25zdCBsaW5lTm9kZSA9IG5ldyBBcnJvd05vZGUoIDAsIDAuNzUgKiBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUuaGVpZ2h0LCBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUud2lkdGgsIDAuMjUgKiBTQ1JFRU5fSUNPTl9CQVNFX1NJWkUuaGVpZ2h0LCBBUlJPV19OT0RFX09QVElPTlMgKTtcclxuICAgIGNvbnN0IHJpc2VOb2RlID0gbmV3IERpbWVuc2lvbmFsQXJyb3dOb2RlKCAwLCAwLjM3ICogU0NSRUVOX0lDT05fQkFTRV9TSVpFLmhlaWdodCwgMCwgMCwgRElNRU5TSU9OQUxfQVJST1dfTk9ERV9PUFRJT05TICk7XHJcbiAgICBjb25zdCBydW5Ob2RlID0gbmV3IERpbWVuc2lvbmFsQXJyb3dOb2RlKCAwLCAwLCAwLjU0ICogU0NSRUVOX0lDT05fQkFTRV9TSVpFLndpZHRoLCAwLCBESU1FTlNJT05BTF9BUlJPV19OT0RFX09QVElPTlMgKTtcclxuICAgIGNvbnN0IHBvaW50Tm9kZSA9IE1hbmlwdWxhdG9yLmNyZWF0ZUljb24oIE1BTklQVUxBVE9SX1JBRElVUywgR0xDb2xvcnMuSU5URVJDRVBUICk7XHJcbiAgICBjb25zdCBzbG9wZU5vZGUgPSBNYW5pcHVsYXRvci5jcmVhdGVJY29uKCBNQU5JUFVMQVRPUl9SQURJVVMsIEdMQ29sb3JzLlNMT1BFICk7XHJcbiAgICBjb25zdCBpY29uTm9kZSA9IG5ldyBOb2RlKCB7IGNoaWxkcmVuOiBbIGxpbmVOb2RlLCByaXNlTm9kZSwgcnVuTm9kZSwgcG9pbnROb2RlLCBzbG9wZU5vZGUgXSB9ICk7XHJcbiAgICByaXNlTm9kZS5jZW50ZXJYID0gMC4yICogU0NSRUVOX0lDT05fQkFTRV9TSVpFLndpZHRoO1xyXG4gICAgcmlzZU5vZGUuYm90dG9tID0gbGluZU5vZGUuYm90dG9tIC0gKCAwLjQgKiBsaW5lTm9kZS5oZWlnaHQgKTtcclxuICAgIHJ1bk5vZGUubGVmdCA9IHJpc2VOb2RlLmNlbnRlclg7XHJcbiAgICBydW5Ob2RlLmNlbnRlclkgPSByaXNlTm9kZS50b3AgLSA1O1xyXG4gICAgcG9pbnROb2RlLmNlbnRlclggPSAwLjMyICogU0NSRUVOX0lDT05fQkFTRV9TSVpFLndpZHRoO1xyXG4gICAgcG9pbnROb2RlLmNlbnRlclkgPSAwLjU4ICogU0NSRUVOX0lDT05fQkFTRV9TSVpFLmhlaWdodDtcclxuICAgIHNsb3BlTm9kZS5jZW50ZXJYID0gMC43NSAqIFNDUkVFTl9JQ09OX0JBU0VfU0laRS53aWR0aDtcclxuICAgIHNsb3BlTm9kZS5jZW50ZXJZID0gMC4zNiAqIFNDUkVFTl9JQ09OX0JBU0VfU0laRS5oZWlnaHQ7XHJcbiAgICByZXR1cm4gbmV3IFNjcmVlbkljb24oIGljb25Ob2RlLCB7IG1heEljb25XaWR0aFByb3BvcnRpb246IDEsIG1heEljb25IZWlnaHRQcm9wb3J0aW9uOiAxIH0gKTtcclxuICB9LFxyXG5cclxuICAvLyBDcmVhdGVzIHRoZSBpY29uIGZvciB0aGUgJ0xpbmUgR2FtZScgc2NyZWVuXHJcbiAgY3JlYXRlR2FtZVNjcmVlbkljb24oKTogU2NyZWVuSWNvbiB7XHJcbiAgICBjb25zdCBmYWNlTm9kZSA9IG5ldyBGYWNlV2l0aFBvaW50c05vZGUoIHtcclxuICAgICAgZmFjZURpYW1ldGVyOiA3NSxcclxuICAgICAgcG9pbnRzRm9udDogbmV3IFBoZXRGb250KCB7IHNpemU6IDI0LCB3ZWlnaHQ6ICdib2xkJyB9ICksXHJcbiAgICAgIHBvaW50c0FsaWdubWVudDogJ3JpZ2h0Q2VudGVyJyxcclxuICAgICAgcG9pbnRzOiAyXHJcbiAgICB9ICk7XHJcbiAgICByZXR1cm4gbmV3IFNjcmVlbkljb24oIGZhY2VOb2RlLCB7IG1heEljb25XaWR0aFByb3BvcnRpb246IDAuNjUgfSApO1xyXG4gIH0sXHJcblxyXG4gIC8vIENyZWF0ZXMgYW4gaWNvbiBmb3IgdGhlIHNsb3BlLXRvb2wgZmVhdHVyZVxyXG4gIGNyZWF0ZVNsb3BlVG9vbEljb24oIHdpZHRoOiBudW1iZXIgKTogTm9kZSB7XHJcblxyXG4gICAgY29uc3QgcGFyZW50Tm9kZSA9IG5ldyBOb2RlKCk7XHJcblxyXG4gICAgLy8gc2xvcGUgdG9vbFxyXG4gICAgY29uc3Qgc2xvcGVUb29sTm9kZSA9IG5ldyBTbG9wZVRvb2xOb2RlKCBuZXcgUHJvcGVydHkoIExpbmUuY3JlYXRlU2xvcGVJbnRlcmNlcHQoIDEsIDIsIDAgKSApLFxyXG4gICAgICBNb2RlbFZpZXdUcmFuc2Zvcm0yLmNyZWF0ZU9mZnNldFhZU2NhbGVNYXBwaW5nKCBWZWN0b3IyLlpFUk8sIDI2LCAtMjYgKSApO1xyXG4gICAgcGFyZW50Tm9kZS5hZGRDaGlsZCggc2xvcGVUb29sTm9kZSApO1xyXG5cclxuICAgIC8vIGRhc2hlZCBsaW5lIHdoZXJlIHRoZSBsaW5lIHdvdWxkIGJlLCB0d2Vha2VkIHZpc3VhbGx5XHJcbiAgICBjb25zdCBsaW5lTm9kZSA9IG5ldyBQYXRoKCBTaGFwZS5saW5lU2VnbWVudCggc2xvcGVUb29sTm9kZS5sZWZ0ICsgKCAwLjQgKiBzbG9wZVRvb2xOb2RlLndpZHRoICksIHNsb3BlVG9vbE5vZGUuYm90dG9tLFxyXG4gICAgICAgIHNsb3BlVG9vbE5vZGUucmlnaHQsIHNsb3BlVG9vbE5vZGUudG9wICsgKCAwLjUgKiBzbG9wZVRvb2xOb2RlLmhlaWdodCApICksXHJcbiAgICAgIHtcclxuICAgICAgICBsaW5lV2lkdGg6IDEsXHJcbiAgICAgICAgbGluZURhc2g6IFsgNiwgNiBdLFxyXG4gICAgICAgIHN0cm9rZTogJ2JsYWNrJ1xyXG4gICAgICB9ICk7XHJcbiAgICBwYXJlbnROb2RlLmFkZENoaWxkKCBsaW5lTm9kZSApO1xyXG5cclxuICAgIHBhcmVudE5vZGUuc2NhbGUoIHdpZHRoIC8gcGFyZW50Tm9kZS53aWR0aCApO1xyXG4gICAgcmV0dXJuIHBhcmVudE5vZGU7XHJcbiAgfSxcclxuXHJcbiAgLy8gQ3JlYXRlcyBhbiBpY29uIHRoYXQgc2hvd3MgYSBsaW5lIG9uIGEgZ3JhcGguXHJcbiAgY3JlYXRlR3JhcGhJY29uKCB3aWR0aDogbnVtYmVyLCBjb2xvcjogVENvbG9yLCB4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyICk6IE5vZGUge1xyXG4gICAgY29uc3QgYXhpc1JhbmdlID0gbmV3IFJhbmdlKCAtMywgMyApO1xyXG4gICAgY29uc3QgZ3JhcGggPSBuZXcgR3JhcGgoIGF4aXNSYW5nZSwgYXhpc1JhbmdlICk7XHJcbiAgICBjb25zdCBtb2RlbFZpZXdUcmFuc2Zvcm0gPSBNb2RlbFZpZXdUcmFuc2Zvcm0yLmNyZWF0ZU9mZnNldFhZU2NhbGVNYXBwaW5nKCBuZXcgVmVjdG9yMiggMCwgMCApLCAxNSwgLTE1ICk7XHJcbiAgICBjb25zdCBncmFwaE5vZGUgPSBuZXcgR3JhcGhOb2RlKCBncmFwaCwgbW9kZWxWaWV3VHJhbnNmb3JtICk7XHJcbiAgICBjb25zdCBwMSA9IG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1hZKCB4MSwgeTEgKTtcclxuICAgIGNvbnN0IHAyID0gbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WFkoIHgyLCB5MiApO1xyXG4gICAgZ3JhcGhOb2RlLmFkZENoaWxkKCBuZXcgUGF0aCggU2hhcGUubGluZVNlZ21lbnQoIHAxLngsIHAxLnksIHAyLngsIHAyLnkgKSwge1xyXG4gICAgICBzdHJva2U6IGNvbG9yLCBsaW5lV2lkdGg6IDVcclxuICAgIH0gKSApO1xyXG4gICAgZ3JhcGhOb2RlLnNjYWxlKCB3aWR0aCAvIGdyYXBoTm9kZS53aWR0aCApO1xyXG4gICAgcmV0dXJuIGdyYXBoTm9kZTtcclxuICB9XHJcbn07XHJcblxyXG5ncmFwaGluZ0xpbmVzLnJlZ2lzdGVyKCAnR0xJY29uRmFjdG9yeScsIEdMSWNvbkZhY3RvcnkgKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEdMSWNvbkZhY3Rvcnk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFFBQVEsTUFBTSxpQ0FBaUM7QUFDdEQsT0FBT0MsVUFBVSxNQUFNLGtDQUFrQztBQUN6RCxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLE9BQU8sTUFBTSwrQkFBK0I7QUFDbkQsT0FBT0MsVUFBVSxNQUFNLG9DQUFvQztBQUMzRCxTQUFTQyxLQUFLLFFBQVEsZ0NBQWdDO0FBQ3RELE9BQU9DLG1CQUFtQixNQUFNLHVEQUF1RDtBQUN2RixPQUFPQyxTQUFTLE1BQU0sMENBQTBDO0FBQ2hFLE9BQU9DLGtCQUFrQixNQUFNLG1EQUFtRDtBQUNsRixPQUFPQyxRQUFRLE1BQU0seUNBQXlDO0FBQzlELFNBQVNDLElBQUksSUFBSUMsV0FBVyxFQUFFQyxJQUFJLEVBQUVDLElBQUksUUFBZ0IsbUNBQW1DO0FBQzNGLE9BQU9DLGFBQWEsTUFBTSx3QkFBd0I7QUFDbEQsT0FBT0MsUUFBUSxNQUFNLGdCQUFnQjtBQUNyQyxPQUFPQyxLQUFLLE1BQU0sbUJBQW1CO0FBQ3JDLE9BQU9OLElBQUksTUFBTSxrQkFBa0I7QUFDbkMsT0FBT08sb0JBQW9CLE1BQU0sMkJBQTJCO0FBQzVELE9BQU9DLFNBQVMs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