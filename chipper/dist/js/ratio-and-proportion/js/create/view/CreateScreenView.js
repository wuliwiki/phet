// Copyright 2020-2023, University of Colorado Boulder

/**
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

import { Node, Text } from '../../../../scenery/js/imports.js';
import LockNode from '../../../../scenery-phet/js/LockNode.js';
import RAPColors from '../../common/view/RAPColors.js';
import RAPScreenView from '../../common/view/RAPScreenView.js';
import ratioAndProportion from '../../ratioAndProportion.js';
import RatioAndProportionStrings from '../../RatioAndProportionStrings.js';
import CreateScreenSummaryNode from './CreateScreenSummaryNode.js';
import MyChallengeAccordionBox from './MyChallengeAccordionBox.js';
import TickMarkRangeComboBoxNode from './TickMarkRangeComboBoxNode.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import HandPositionsDescriber from '../../common/view/describers/HandPositionsDescriber.js';
import TickMarkDescriber from '../../common/view/describers/TickMarkDescriber.js';
import Multilink from '../../../../axon/js/Multilink.js';
import RectangularToggleButton from '../../../../sun/js/buttons/RectangularToggleButton.js';
class CreateScreenView extends RAPScreenView {
  // set this after the supertype has initialized the view code needed to create the screen summary

  constructor(model, backgroundColorProperty, tandem) {
    // For this screen, one Property controls the color of both hands.
    const handColorProperty = RAPColors.createScreenHandProperty;
    super(model, backgroundColorProperty, {
      leftHandColorProperty: handColorProperty,
      rightHandColorProperty: handColorProperty,
      bothHandsPDOMNodeOptions: {
        gestureDescriptionHelpText: RatioAndProportionStrings.a11y.create.bothHandsGestureDescriptionHelpTextStringProperty
      },
      tandem: tandem
    });
    const myChallengeAccordionBox = new MyChallengeAccordionBox(model.targetRatioProperty, model.ratio.lockedProperty, handColorProperty, this.tickMarkViewProperty, this.ratioDescriber, {
      tandem: tandem.createTandem('myChallengeAccordionBox')
    });
    const tickMarkRangeComboBoxParent = new Node();
    this.tickMarkRangeComboBoxNode = new TickMarkRangeComboBoxNode(this.tickMarkRangeProperty, tickMarkRangeComboBoxParent, this.tickMarkViewProperty, {
      layoutOptions: {
        topMargin: -10,
        bottomMargin: 10
      }
    });
    const handPositionsDescriber = new HandPositionsDescriber(model.ratio.tupleProperty, new TickMarkDescriber(this.tickMarkRangeProperty, this.tickMarkViewProperty), model.inProportionProperty, model.ratio.enabledRatioTermsRangeProperty, model.ratio.lockedProperty);
    this.createScreenSummaryNode = new CreateScreenSummaryNode(model.ratioFitnessProperty, model.ratio.tupleProperty, this.tickMarkViewProperty, this.ratioDescriber, model.inProportionProperty, handPositionsDescriber, this.tickMarkRangeProperty, myChallengeAccordionBox);
    this.setScreenSummaryContent(this.createScreenSummaryNode);
    const ratioLockToggleButton = new RectangularToggleButton(model.ratio.lockedProperty, false, true, {
      content: new LockNode(model.ratio.lockedProperty, {
        scale: 0.4
      }),
      baseColor: 'white',
      // pdom
      // WARNING: If this needs to be dynamic, use innerContent instead of accessibleName because of scenery bug
      // https://github.com/phetsims/scenery/issues/1026, see https://github.com/phetsims/ratio-and-proportion/issues/549#issuecomment-1382878667
      accessibleName: RatioAndProportionStrings.lockRatioStringProperty,
      // voicing
      voicingNameResponse: RatioAndProportionStrings.lockRatioStringProperty,
      // phet-io
      tandem: tandem.createTandem('ratioLockToggleButton')
    });
    const ratioLockText = new Text(RatioAndProportionStrings.lockRatioStringProperty, {
      font: new PhetFont(20),
      leftCenter: ratioLockToggleButton.rightCenter.plusXY(8, 0)
    });
    ratioLockToggleButton.addChild(ratioLockText);
    model.ratio.lockedProperty.link(locked => {
      ratioLockToggleButton.voicingContextResponse = locked ? RatioAndProportionStrings.a11y.ratioLockToggleContextResponseStringProperty : RatioAndProportionStrings.a11y.ratioNoLongerLockedStringProperty;
      ratioLockToggleButton.voicingSpeakResponse({
        nameResponse: ratioLockToggleButton.voicingNameResponse,
        contextResponse: ratioLockToggleButton.voicingContextResponse
      });
      ratioLockToggleButton.alertDescriptionUtterance(ratioLockToggleButton.voicingContextResponse);
    });
    ratioLockToggleButton.enabledProperty.link(enabled => {
      ratioLockToggleButton.helpText = enabled ? RatioAndProportionStrings.a11y.ratioLockEnabledHelpTextStringProperty : RatioAndProportionStrings.a11y.ratioLockDisabledHelpTextStringProperty;
      ratioLockToggleButton.voicingHintResponse = enabled ? RatioAndProportionStrings.a11y.ratioLockEnabledHelpTextStringProperty : RatioAndProportionStrings.a11y.ratioLockDisabledHelpTextStringProperty;
    });

    // The "lock ratio" toggle should not be enabled when the ratio is not in proportion.
    Multilink.multilink([model.inProportionProperty, model.ratioFitnessProperty], inProportion => {
      ratioLockToggleButton.enabledProperty.value = inProportion;

      // If the button gets disabled, then unlock the ratio.
      if (!ratioLockToggleButton.enabledProperty.value) {
        model.ratio.lockedProperty.value = false;
      }
    });

    // children - remember to not blow away children set by parent
    this.topScalingUILayerNode.addChild(this.tickMarkRangeComboBoxNode);
    this.topScalingUILayerNode.addChild(myChallengeAccordionBox);

    // Right above the resetAllButton
    this.bottomScalingUILayerNode.insertChild(this.bottomScalingUILayerNode.children.length - 1, ratioLockToggleButton);

    // Should be on top. Don't scale it because that messes with the scaling that the list box goes through, and changes
    // the dimensions of the scalingUILayerNode to make it too big. Discovered in https://github.com/phetsims/ratio-and-proportion/issues/273
    this.addChild(tickMarkRangeComboBoxParent);

    // pdom
    const previousOrder = this.pdomPlayAreaNode.pdomOrder || [];
    this.pdomPlayAreaNode.pdomOrder = previousOrder.concat([this.tickMarkRangeComboBoxNode, tickMarkRangeComboBoxParent, myChallengeAccordionBox, ratioLockToggleButton]);
    this.resetCreateScreenView = () => {
      handPositionsDescriber.reset();
      myChallengeAccordionBox.reset();
    };
  }
  layout(bounds) {
    this.tickMarkRangeComboBoxNode.hideListBox(); // hidden when layout changes, see https://github.com/phetsims/ratio-and-proportion/issues/324
    super.layout(bounds);
  }
  reset() {
    this.resetCreateScreenView();
    super.reset();
  }
  getVoicingOverviewContent() {
    return RatioAndProportionStrings.a11y.create.overviewSentenceStringProperty;
  }
  getVoicingDetailsContent() {
    return this.createScreenSummaryNode.getDetailsButtonState();
  }
  getVoicingHintContent() {
    return RatioAndProportionStrings.a11y.create.screenSummary.interactionHintStringProperty;
  }
}
ratioAndProportion.register('CreateScreenView', CreateScreenView);
export default CreateScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJOb2RlIiwiVGV4dCIsIkxvY2tOb2RlIiwiUkFQQ29sb3JzIiwiUkFQU2NyZWVuVmlldyIsInJhdGlvQW5kUHJvcG9ydGlvbiIsIlJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MiLCJDcmVhdGVTY3JlZW5TdW1tYXJ5Tm9kZSIsIk15Q2hhbGxlbmdlQWNjb3JkaW9uQm94IiwiVGlja01hcmtSYW5nZUNvbWJvQm94Tm9kZSIsIlBoZXRGb250IiwiSGFuZFBvc2l0aW9uc0Rlc2NyaWJlciIsIlRpY2tNYXJrRGVzY3JpYmVyIiwiTXVsdGlsaW5rIiwiUmVjdGFuZ3VsYXJUb2dnbGVCdXR0b24iLCJDcmVhdGVTY3JlZW5WaWV3IiwiY29uc3RydWN0b3IiLCJtb2RlbCIsImJhY2tncm91bmRDb2xvclByb3BlcnR5IiwidGFuZGVtIiwiaGFuZENvbG9yUHJvcGVydHkiLCJjcmVhdGVTY3JlZW5IYW5kUHJvcGVydHkiLCJsZWZ0SGFuZENvbG9yUHJvcGVydHkiLCJyaWdodEhhbmRDb2xvclByb3BlcnR5IiwiYm90aEhhbmRzUERPTU5vZGVPcHRpb25zIiwiZ2VzdHVyZURlc2NyaXB0aW9uSGVscFRleHQiLCJhMTF5IiwiY3JlYXRlIiwiYm90aEhhbmRzR2VzdHVyZURlc2NyaXB0aW9uSGVscFRleHRTdHJpbmdQcm9wZXJ0eSIsIm15Q2hhbGxlbmdlQWNjb3JkaW9uQm94IiwidGFyZ2V0UmF0aW9Qcm9wZXJ0eSIsInJhdGlvIiwibG9ja2VkUHJvcGVydHkiLCJ0aWNrTWFya1ZpZXdQcm9wZXJ0eSIsInJhdGlvRGVzY3JpYmVyIiwiY3JlYXRlVGFuZGVtIiwidGlja01hcmtSYW5nZUNvbWJvQm94UGFyZW50IiwidGlja01hcmtSYW5nZUNvbWJvQm94Tm9kZSIsInRpY2tNYXJrUmFuZ2VQcm9wZXJ0eSIsImxheW91dE9wdGlvbnMiLCJ0b3BNYXJnaW4iLCJib3R0b21NYXJnaW4iLCJoYW5kUG9zaXRpb25zRGVzY3JpYmVyIiwidHVwbGVQcm9wZXJ0eSIsImluUHJvcG9ydGlvblByb3BlcnR5IiwiZW5hYmxlZFJhdGlvVGVybXNSYW5nZVByb3BlcnR5IiwiY3JlYXRlU2NyZWVuU3VtbWFyeU5vZGUiLCJyYXRpb0ZpdG5lc3NQcm9wZXJ0eSIsInNldFNjcmVlblN1bW1hcnlDb250ZW50IiwicmF0aW9Mb2NrVG9nZ2xlQnV0dG9uIiwiY29udGVudCIsInNjYWxlIiwiYmFzZUNvbG9yIiwiYWNjZXNzaWJsZU5hbWUiLCJsb2NrUmF0aW9TdHJpbmdQcm9wZXJ0eSIsInZvaWNpbmdOYW1lUmVzcG9uc2UiLCJyYXRpb0xvY2tUZXh0IiwiZm9udCIsImxlZnRDZW50ZXIiLCJyaWdodENlbnRlciIsInBsdXNYWSIsImFkZENoaWxkIiwibGluayIsImxvY2tlZCIsInZvaWNpbmdDb250ZXh0UmVzcG9uc2UiLCJyYXRpb0xvY2tUb2dnbGVDb250ZXh0UmVzcG9uc2VTdHJpbmdQcm9wZXJ0eSIsInJhdGlvTm9Mb25nZXJMb2NrZWRTdHJpbmdQcm9wZXJ0eSIsInZvaWNpbmdTcGVha1Jlc3BvbnNlIiwibmFtZVJlc3BvbnNlIiwiY29udGV4dFJlc3BvbnNlIiwiYWxlcnREZXNjcmlwdGlvblV0dGVyYW5jZSIsImVuYWJsZWRQcm9wZXJ0eSIsImVuYWJsZWQiLCJoZWxwVGV4dCIsInJhdGlvTG9ja0VuYWJsZWRIZWxwVGV4dFN0cmluZ1Byb3BlcnR5IiwicmF0aW9Mb2NrRGlzYWJsZWRIZWxwVGV4dFN0cmluZ1Byb3BlcnR5Iiwidm9pY2luZ0hpbnRSZXNwb25zZSIsIm11bHRpbGluayIsImluUHJvcG9ydGlvbiIsInZhbHVlIiwidG9wU2NhbGluZ1VJTGF5ZXJOb2RlIiwiYm90dG9tU2NhbGluZ1VJTGF5ZXJOb2RlIiwiaW5zZXJ0Q2hpbGQiLCJjaGlsZHJlbiIsImxlbmd0aCIsInByZXZpb3VzT3JkZXIiLCJwZG9tUGxheUFyZWFOb2RlIiwicGRvbU9yZGVyIiwiY29uY2F0IiwicmVzZXRDcmVhdGVTY3JlZW5WaWV3IiwicmVzZXQiLCJsYXlvdXQiLCJib3VuZHMiLCJoaWRlTGlzdEJveCIsImdldFZvaWNpbmdPdmVydmlld0NvbnRlbnQiLCJvdmVydmlld1NlbnRlbmNlU3RyaW5nUHJvcGVydHkiLCJnZXRWb2ljaW5nRGV0YWlsc0NvbnRlbnQiLCJnZXREZXRhaWxzQnV0dG9uU3RhdGUiLCJnZXRWb2ljaW5nSGludENvbnRlbnQiLCJzY3JlZW5TdW1tYXJ5IiwiaW50ZXJhY3Rpb25IaW50U3RyaW5nUHJvcGVydHkiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkNyZWF0ZVNjcmVlblZpZXcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjAtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQGF1dGhvciBNaWNoYWVsIEthdXptYW5uIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IHsgQ29sb3IsIE5vZGUsIFRleHQgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgTG9ja05vZGUgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL0xvY2tOb2RlLmpzJztcclxuaW1wb3J0IFRhbmRlbSBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvVGFuZGVtLmpzJztcclxuaW1wb3J0IFJBUENvbG9ycyBmcm9tICcuLi8uLi9jb21tb24vdmlldy9SQVBDb2xvcnMuanMnO1xyXG5pbXBvcnQgUkFQU2NyZWVuVmlldyBmcm9tICcuLi8uLi9jb21tb24vdmlldy9SQVBTY3JlZW5WaWV3LmpzJztcclxuaW1wb3J0IHJhdGlvQW5kUHJvcG9ydGlvbiBmcm9tICcuLi8uLi9yYXRpb0FuZFByb3BvcnRpb24uanMnO1xyXG5pbXBvcnQgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncyBmcm9tICcuLi8uLi9SYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmpzJztcclxuaW1wb3J0IENyZWF0ZVNjcmVlblN1bW1hcnlOb2RlIGZyb20gJy4vQ3JlYXRlU2NyZWVuU3VtbWFyeU5vZGUuanMnO1xyXG5pbXBvcnQgTXlDaGFsbGVuZ2VBY2NvcmRpb25Cb3ggZnJvbSAnLi9NeUNoYWxsZW5nZUFjY29yZGlvbkJveC5qcyc7XHJcbmltcG9ydCBUaWNrTWFya1JhbmdlQ29tYm9Cb3hOb2RlIGZyb20gJy4vVGlja01hcmtSYW5nZUNvbWJvQm94Tm9kZS5qcyc7XHJcbmltcG9ydCBSQVBNb2RlbCBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvUkFQTW9kZWwuanMnO1xyXG5pbXBvcnQgQm91bmRzMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvQm91bmRzMi5qcyc7XHJcbmltcG9ydCBQaGV0Rm9udCBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvUGhldEZvbnQuanMnO1xyXG5pbXBvcnQgSGFuZFBvc2l0aW9uc0Rlc2NyaWJlciBmcm9tICcuLi8uLi9jb21tb24vdmlldy9kZXNjcmliZXJzL0hhbmRQb3NpdGlvbnNEZXNjcmliZXIuanMnO1xyXG5pbXBvcnQgVGlja01hcmtEZXNjcmliZXIgZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXcvZGVzY3JpYmVycy9UaWNrTWFya0Rlc2NyaWJlci5qcyc7XHJcbmltcG9ydCBNdWx0aWxpbmsgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9NdWx0aWxpbmsuanMnO1xyXG5pbXBvcnQgeyBTcGVha2FibGVSZXNvbHZlZFJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXR0ZXJhbmNlLXF1ZXVlL2pzL1Jlc3BvbnNlUGFja2V0LmpzJztcclxuaW1wb3J0IFJlY3Rhbmd1bGFyVG9nZ2xlQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9idXR0b25zL1JlY3Rhbmd1bGFyVG9nZ2xlQnV0dG9uLmpzJztcclxuXHJcblxyXG5jbGFzcyBDcmVhdGVTY3JlZW5WaWV3IGV4dGVuZHMgUkFQU2NyZWVuVmlldyB7XHJcblxyXG4gIHByaXZhdGUgdGlja01hcmtSYW5nZUNvbWJvQm94Tm9kZTogVGlja01hcmtSYW5nZUNvbWJvQm94Tm9kZTtcclxuICBwcml2YXRlIHJlc2V0Q3JlYXRlU2NyZWVuVmlldzogKCkgPT4gdm9pZDtcclxuXHJcbiAgLy8gc2V0IHRoaXMgYWZ0ZXIgdGhlIHN1cGVydHlwZSBoYXMgaW5pdGlhbGl6ZWQgdGhlIHZpZXcgY29kZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBzY3JlZW4gc3VtbWFyeVxyXG4gIHByaXZhdGUgY3JlYXRlU2NyZWVuU3VtbWFyeU5vZGU6IENyZWF0ZVNjcmVlblN1bW1hcnlOb2RlO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIG1vZGVsOiBSQVBNb2RlbCwgYmFja2dyb3VuZENvbG9yUHJvcGVydHk6IFByb3BlcnR5PENvbG9yPiwgdGFuZGVtOiBUYW5kZW0gKSB7XHJcblxyXG4gICAgLy8gRm9yIHRoaXMgc2NyZWVuLCBvbmUgUHJvcGVydHkgY29udHJvbHMgdGhlIGNvbG9yIG9mIGJvdGggaGFuZHMuXHJcbiAgICBjb25zdCBoYW5kQ29sb3JQcm9wZXJ0eSA9IFJBUENvbG9ycy5jcmVhdGVTY3JlZW5IYW5kUHJvcGVydHk7XHJcblxyXG4gICAgc3VwZXIoIG1vZGVsLCBiYWNrZ3JvdW5kQ29sb3JQcm9wZXJ0eSwge1xyXG4gICAgICBsZWZ0SGFuZENvbG9yUHJvcGVydHk6IGhhbmRDb2xvclByb3BlcnR5LFxyXG4gICAgICByaWdodEhhbmRDb2xvclByb3BlcnR5OiBoYW5kQ29sb3JQcm9wZXJ0eSxcclxuICAgICAgYm90aEhhbmRzUERPTU5vZGVPcHRpb25zOiB7XHJcbiAgICAgICAgZ2VzdHVyZURlc2NyaXB0aW9uSGVscFRleHQ6IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5jcmVhdGUuYm90aEhhbmRzR2VzdHVyZURlc2NyaXB0aW9uSGVscFRleHRTdHJpbmdQcm9wZXJ0eVxyXG4gICAgICB9LFxyXG4gICAgICB0YW5kZW06IHRhbmRlbVxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IG15Q2hhbGxlbmdlQWNjb3JkaW9uQm94ID0gbmV3IE15Q2hhbGxlbmdlQWNjb3JkaW9uQm94KCBtb2RlbC50YXJnZXRSYXRpb1Byb3BlcnR5LCBtb2RlbC5yYXRpby5sb2NrZWRQcm9wZXJ0eSwgaGFuZENvbG9yUHJvcGVydHksXHJcbiAgICAgIHRoaXMudGlja01hcmtWaWV3UHJvcGVydHksIHRoaXMucmF0aW9EZXNjcmliZXIsIHsgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnbXlDaGFsbGVuZ2VBY2NvcmRpb25Cb3gnICkgfSApO1xyXG5cclxuICAgIGNvbnN0IHRpY2tNYXJrUmFuZ2VDb21ib0JveFBhcmVudCA9IG5ldyBOb2RlKCk7XHJcblxyXG4gICAgdGhpcy50aWNrTWFya1JhbmdlQ29tYm9Cb3hOb2RlID0gbmV3IFRpY2tNYXJrUmFuZ2VDb21ib0JveE5vZGUoIHRoaXMudGlja01hcmtSYW5nZVByb3BlcnR5LFxyXG4gICAgICB0aWNrTWFya1JhbmdlQ29tYm9Cb3hQYXJlbnQsIHRoaXMudGlja01hcmtWaWV3UHJvcGVydHksIHtcclxuICAgICAgICBsYXlvdXRPcHRpb25zOiB7XHJcbiAgICAgICAgICB0b3BNYXJnaW46IC0xMCxcclxuICAgICAgICAgIGJvdHRvbU1hcmdpbjogMTBcclxuICAgICAgICB9XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBoYW5kUG9zaXRpb25zRGVzY3JpYmVyID0gbmV3IEhhbmRQb3NpdGlvbnNEZXNjcmliZXIoIG1vZGVsLnJhdGlvLnR1cGxlUHJvcGVydHksXHJcbiAgICAgIG5ldyBUaWNrTWFya0Rlc2NyaWJlciggdGhpcy50aWNrTWFya1JhbmdlUHJvcGVydHksIHRoaXMudGlja01hcmtWaWV3UHJvcGVydHkgKSxcclxuICAgICAgbW9kZWwuaW5Qcm9wb3J0aW9uUHJvcGVydHksIG1vZGVsLnJhdGlvLmVuYWJsZWRSYXRpb1Rlcm1zUmFuZ2VQcm9wZXJ0eSwgbW9kZWwucmF0aW8ubG9ja2VkUHJvcGVydHkgKTtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZVNjcmVlblN1bW1hcnlOb2RlID0gbmV3IENyZWF0ZVNjcmVlblN1bW1hcnlOb2RlKFxyXG4gICAgICBtb2RlbC5yYXRpb0ZpdG5lc3NQcm9wZXJ0eSxcclxuICAgICAgbW9kZWwucmF0aW8udHVwbGVQcm9wZXJ0eSxcclxuICAgICAgdGhpcy50aWNrTWFya1ZpZXdQcm9wZXJ0eSxcclxuICAgICAgdGhpcy5yYXRpb0Rlc2NyaWJlcixcclxuICAgICAgbW9kZWwuaW5Qcm9wb3J0aW9uUHJvcGVydHksXHJcbiAgICAgIGhhbmRQb3NpdGlvbnNEZXNjcmliZXIsXHJcbiAgICAgIHRoaXMudGlja01hcmtSYW5nZVByb3BlcnR5LFxyXG4gICAgICBteUNoYWxsZW5nZUFjY29yZGlvbkJveFxyXG4gICAgKTtcclxuICAgIHRoaXMuc2V0U2NyZWVuU3VtbWFyeUNvbnRlbnQoIHRoaXMuY3JlYXRlU2NyZWVuU3VtbWFyeU5vZGUgKTtcclxuXHJcbiAgICBjb25zdCByYXRpb0xvY2tUb2dnbGVCdXR0b24gPSBuZXcgUmVjdGFuZ3VsYXJUb2dnbGVCdXR0b24oIG1vZGVsLnJhdGlvLmxvY2tlZFByb3BlcnR5LCBmYWxzZSwgdHJ1ZSwge1xyXG4gICAgICBjb250ZW50OiBuZXcgTG9ja05vZGUoIG1vZGVsLnJhdGlvLmxvY2tlZFByb3BlcnR5LCB7IHNjYWxlOiAwLjQgfSApLFxyXG4gICAgICBiYXNlQ29sb3I6ICd3aGl0ZScsXHJcblxyXG4gICAgICAvLyBwZG9tXHJcbiAgICAgIC8vIFdBUk5JTkc6IElmIHRoaXMgbmVlZHMgdG8gYmUgZHluYW1pYywgdXNlIGlubmVyQ29udGVudCBpbnN0ZWFkIG9mIGFjY2Vzc2libGVOYW1lIGJlY2F1c2Ugb2Ygc2NlbmVyeSBidWdcclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3NjZW5lcnkvaXNzdWVzLzEwMjYsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcmF0aW8tYW5kLXByb3BvcnRpb24vaXNzdWVzLzU0OSNpc3N1ZWNvbW1lbnQtMTM4Mjg3ODY2N1xyXG4gICAgICBhY2Nlc3NpYmxlTmFtZTogUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5sb2NrUmF0aW9TdHJpbmdQcm9wZXJ0eSxcclxuXHJcbiAgICAgIC8vIHZvaWNpbmdcclxuICAgICAgdm9pY2luZ05hbWVSZXNwb25zZTogUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5sb2NrUmF0aW9TdHJpbmdQcm9wZXJ0eSxcclxuXHJcbiAgICAgIC8vIHBoZXQtaW9cclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncmF0aW9Mb2NrVG9nZ2xlQnV0dG9uJyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgcmF0aW9Mb2NrVGV4dCA9IG5ldyBUZXh0KCBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmxvY2tSYXRpb1N0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIGZvbnQ6IG5ldyBQaGV0Rm9udCggMjAgKSxcclxuICAgICAgbGVmdENlbnRlcjogcmF0aW9Mb2NrVG9nZ2xlQnV0dG9uLnJpZ2h0Q2VudGVyLnBsdXNYWSggOCwgMCApXHJcbiAgICB9ICk7XHJcbiAgICByYXRpb0xvY2tUb2dnbGVCdXR0b24uYWRkQ2hpbGQoIHJhdGlvTG9ja1RleHQgKTtcclxuXHJcbiAgICBtb2RlbC5yYXRpby5sb2NrZWRQcm9wZXJ0eS5saW5rKCBsb2NrZWQgPT4ge1xyXG4gICAgICByYXRpb0xvY2tUb2dnbGVCdXR0b24udm9pY2luZ0NvbnRleHRSZXNwb25zZSA9IGxvY2tlZCA/IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5yYXRpb0xvY2tUb2dnbGVDb250ZXh0UmVzcG9uc2VTdHJpbmdQcm9wZXJ0eSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LnJhdGlvTm9Mb25nZXJMb2NrZWRTdHJpbmdQcm9wZXJ0eTtcclxuXHJcbiAgICAgIHJhdGlvTG9ja1RvZ2dsZUJ1dHRvbi52b2ljaW5nU3BlYWtSZXNwb25zZSgge1xyXG4gICAgICAgIG5hbWVSZXNwb25zZTogcmF0aW9Mb2NrVG9nZ2xlQnV0dG9uLnZvaWNpbmdOYW1lUmVzcG9uc2UsXHJcbiAgICAgICAgY29udGV4dFJlc3BvbnNlOiByYXRpb0xvY2tUb2dnbGVCdXR0b24udm9pY2luZ0NvbnRleHRSZXNwb25zZVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgICByYXRpb0xvY2tUb2dnbGVCdXR0b24uYWxlcnREZXNjcmlwdGlvblV0dGVyYW5jZSggcmF0aW9Mb2NrVG9nZ2xlQnV0dG9uLnZvaWNpbmdDb250ZXh0UmVzcG9uc2UgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICByYXRpb0xvY2tUb2dnbGVCdXR0b24uZW5hYmxlZFByb3BlcnR5LmxpbmsoICggZW5hYmxlZDogYm9vbGVhbiApID0+IHtcclxuICAgICAgcmF0aW9Mb2NrVG9nZ2xlQnV0dG9uLmhlbHBUZXh0ID0gZW5hYmxlZCA/IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5yYXRpb0xvY2tFbmFibGVkSGVscFRleHRTdHJpbmdQcm9wZXJ0eSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5yYXRpb0xvY2tEaXNhYmxlZEhlbHBUZXh0U3RyaW5nUHJvcGVydHk7XHJcbiAgICAgIHJhdGlvTG9ja1RvZ2dsZUJ1dHRvbi52b2ljaW5nSGludFJlc3BvbnNlID0gZW5hYmxlZCA/IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5yYXRpb0xvY2tFbmFibGVkSGVscFRleHRTdHJpbmdQcm9wZXJ0eSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LnJhdGlvTG9ja0Rpc2FibGVkSGVscFRleHRTdHJpbmdQcm9wZXJ0eTtcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBUaGUgXCJsb2NrIHJhdGlvXCIgdG9nZ2xlIHNob3VsZCBub3QgYmUgZW5hYmxlZCB3aGVuIHRoZSByYXRpbyBpcyBub3QgaW4gcHJvcG9ydGlvbi5cclxuICAgIE11bHRpbGluay5tdWx0aWxpbmsoIFtcclxuICAgICAgbW9kZWwuaW5Qcm9wb3J0aW9uUHJvcGVydHksXHJcbiAgICAgIG1vZGVsLnJhdGlvRml0bmVzc1Byb3BlcnR5XHJcbiAgICBdLCBpblByb3BvcnRpb24gPT4ge1xyXG4gICAgICByYXRpb0xvY2tUb2dnbGVCdXR0b24uZW5hYmxlZFByb3BlcnR5LnZhbHVlID0gaW5Qcm9wb3J0aW9uO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIGJ1dHRvbiBnZXRzIGRpc2FibGVkLCB0aGVuIHVubG9jayB0aGUgcmF0aW8uXHJcbiAgICAgIGlmICggIXJhdGlvTG9ja1RvZ2dsZUJ1dHRvbi5lbmFibGVkUHJvcGVydHkudmFsdWUgKSB7XHJcbiAgICAgICAgbW9kZWwucmF0aW8ubG9ja2VkUHJvcGVydHkudmFsdWUgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGNoaWxkcmVuIC0gcmVtZW1iZXIgdG8gbm90IGJsb3cgYXdheSBjaGlsZHJlbiBzZXQgYnkgcGFyZW50XHJcbiAgICB0aGlzLnRvcFNjYWxpbmdVSUxheWVyTm9kZS5hZGRDaGlsZCggdGhpcy50aWNrTWFya1JhbmdlQ29tYm9Cb3hOb2RlICk7XHJcbiAgICB0aGlzLnRvcFNjYWxpbmdVSUxheWVyTm9kZS5hZGRDaGlsZCggbXlDaGFsbGVuZ2VBY2NvcmRpb25Cb3ggKTtcclxuXHJcbiAgICAvLyBSaWdodCBhYm92ZSB0aGUgcmVzZXRBbGxCdXR0b25cclxuICAgIHRoaXMuYm90dG9tU2NhbGluZ1VJTGF5ZXJOb2RlLmluc2VydENoaWxkKCB0aGlzLmJvdHRvbVNjYWxpbmdVSUxheWVyTm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxLCByYXRpb0xvY2tUb2dnbGVCdXR0b24gKTtcclxuXHJcbiAgICAvLyBTaG91bGQgYmUgb24gdG9wLiBEb24ndCBzY2FsZSBpdCBiZWNhdXNlIHRoYXQgbWVzc2VzIHdpdGggdGhlIHNjYWxpbmcgdGhhdCB0aGUgbGlzdCBib3ggZ29lcyB0aHJvdWdoLCBhbmQgY2hhbmdlc1xyXG4gICAgLy8gdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHNjYWxpbmdVSUxheWVyTm9kZSB0byBtYWtlIGl0IHRvbyBiaWcuIERpc2NvdmVyZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3JhdGlvLWFuZC1wcm9wb3J0aW9uL2lzc3Vlcy8yNzNcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHRpY2tNYXJrUmFuZ2VDb21ib0JveFBhcmVudCApO1xyXG5cclxuICAgIC8vIHBkb21cclxuICAgIGNvbnN0IHByZXZpb3VzT3JkZXIgPSB0aGlzLnBkb21QbGF5QXJlYU5vZGUucGRvbU9yZGVyIHx8IFtdO1xyXG4gICAgdGhpcy5wZG9tUGxheUFyZWFOb2RlLnBkb21PcmRlciA9IHByZXZpb3VzT3JkZXIuY29uY2F0KCBbXHJcbiAgICAgIHRoaXMudGlja01hcmtSYW5nZUNvbWJvQm94Tm9kZSxcclxuICAgICAgdGlja01hcmtSYW5nZUNvbWJvQm94UGFyZW50LFxyXG4gICAgICBteUNoYWxsZW5nZUFjY29yZGlvbkJveCxcclxuICAgICAgcmF0aW9Mb2NrVG9nZ2xlQnV0dG9uXHJcbiAgICBdICk7XHJcblxyXG4gICAgdGhpcy5yZXNldENyZWF0ZVNjcmVlblZpZXcgPSAoKSA9PiB7XHJcbiAgICAgIGhhbmRQb3NpdGlvbnNEZXNjcmliZXIucmVzZXQoKTtcclxuXHJcbiAgICAgIG15Q2hhbGxlbmdlQWNjb3JkaW9uQm94LnJlc2V0KCk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGxheW91dCggYm91bmRzOiBCb3VuZHMyICk6IHZvaWQge1xyXG4gICAgdGhpcy50aWNrTWFya1JhbmdlQ29tYm9Cb3hOb2RlLmhpZGVMaXN0Qm94KCk7IC8vIGhpZGRlbiB3aGVuIGxheW91dCBjaGFuZ2VzLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3JhdGlvLWFuZC1wcm9wb3J0aW9uL2lzc3Vlcy8zMjRcclxuICAgIHN1cGVyLmxheW91dCggYm91bmRzICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzZXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLnJlc2V0Q3JlYXRlU2NyZWVuVmlldygpO1xyXG4gICAgc3VwZXIucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBnZXRWb2ljaW5nT3ZlcnZpZXdDb250ZW50KCk6IFNwZWFrYWJsZVJlc29sdmVkUmVzcG9uc2Uge1xyXG4gICAgcmV0dXJuIFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5jcmVhdGUub3ZlcnZpZXdTZW50ZW5jZVN0cmluZ1Byb3BlcnR5O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGdldFZvaWNpbmdEZXRhaWxzQ29udGVudCgpOiBTcGVha2FibGVSZXNvbHZlZFJlc3BvbnNlIHtcclxuICAgIHJldHVybiB0aGlzLmNyZWF0ZVNjcmVlblN1bW1hcnlOb2RlLmdldERldGFpbHNCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGdldFZvaWNpbmdIaW50Q29udGVudCgpOiBTcGVha2FibGVSZXNvbHZlZFJlc3BvbnNlIHtcclxuICAgIHJldHVybiBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuY3JlYXRlLnNjcmVlblN1bW1hcnkuaW50ZXJhY3Rpb25IaW50U3RyaW5nUHJvcGVydHk7XHJcbiAgfVxyXG59XHJcblxyXG5yYXRpb0FuZFByb3BvcnRpb24ucmVnaXN0ZXIoICdDcmVhdGVTY3JlZW5WaWV3JywgQ3JlYXRlU2NyZWVuVmlldyApO1xyXG5leHBvcnQgZGVm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