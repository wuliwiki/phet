// Copyright 2020-2023, University of Colorado Boulder

/**
 * Content for the keyboard help dialog in Ratio and Proportion
 *
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

import BasicActionsKeyboardHelpSection from '../../../../scenery-phet/js/keyboard/help/BasicActionsKeyboardHelpSection.js';
import KeyboardHelpIconFactory from '../../../../scenery-phet/js/keyboard/help/KeyboardHelpIconFactory.js';
import KeyboardHelpSection from '../../../../scenery-phet/js/keyboard/help/KeyboardHelpSection.js';
import SliderControlsKeyboardHelpSection from '../../../../scenery-phet/js/keyboard/help/SliderControlsKeyboardHelpSection.js';
import TwoColumnKeyboardHelpContent from '../../../../scenery-phet/js/keyboard/help/TwoColumnKeyboardHelpContent.js';
import LetterKeyNode from '../../../../scenery-phet/js/keyboard/LetterKeyNode.js';
import NumberKeyNode from '../../../../scenery-phet/js/keyboard/NumberKeyNode.js';
import TextKeyNode from '../../../../scenery-phet/js/keyboard/TextKeyNode.js';
import ratioAndProportion from '../../ratioAndProportion.js';
import RatioAndProportionStrings from '../../RatioAndProportionStrings.js';
import KeyboardHelpSectionRow from '../../../../scenery-phet/js/keyboard/help/KeyboardHelpSectionRow.js';
class RAPKeyboardHelpContent extends TwoColumnKeyboardHelpContent {
  /**
   * @param challengeHelpSection - keyboard help section for determining how to change the target ratio. We will dispose this!
   * @param [providedOptions]
   */
  constructor(challengeHelpSection, providedOptions) {
    const moveLeftOrRightHandHelpSection = new SliderControlsKeyboardHelpSection({
      headingStringProperty: RatioAndProportionStrings.moveHandsIndividuallyStringProperty,
      verbStringProperty: RatioAndProportionStrings.moveStringProperty,
      sliderStringProperty: RatioAndProportionStrings.leftOrRightHandStringProperty,
      maximumStringProperty: RatioAndProportionStrings.topStringProperty,
      minimumStringProperty: RatioAndProportionStrings.bottomStringProperty,
      arrowKeyIconDisplay: SliderControlsKeyboardHelpSection.ArrowKeyIconDisplay.UP_DOWN // on cue up/down arrows, not left/right also.
    });

    const basicActionsHelpSection = new BasicActionsKeyboardHelpSection({
      withCheckboxContent: true
    });
    const bothHandsHelpSection = new BothHandsHelpSection();
    const leftContent = [moveLeftOrRightHandHelpSection, bothHandsHelpSection];
    const rightContent = [challengeHelpSection, basicActionsHelpSection];
    super(leftContent, rightContent, providedOptions);
    this.disposeRAPKeyboardHelpContent = () => {
      moveLeftOrRightHandHelpSection.dispose();
      bothHandsHelpSection.dispose();
      challengeHelpSection.dispose();
      basicActionsHelpSection.dispose();
    };
  }
  dispose() {
    this.disposeRAPKeyboardHelpContent();
    super.dispose();
  }
}
class BothHandsHelpSection extends KeyboardHelpSection {
  constructor(options) {
    const wKeyNode = LetterKeyNode.w();
    const sKeyNode = LetterKeyNode.s();
    const wOrSIcon = KeyboardHelpIconFactory.iconRow([wKeyNode, sKeyNode]);
    const moveLeftHand = KeyboardHelpSectionRow.labelWithIcon(RatioAndProportionStrings.moveLeftHandStringProperty, wOrSIcon, {
      labelInnerContent: RatioAndProportionStrings.a11y.keyboardHelp.leftHandDescriptionStringProperty
    });
    const arrowKeysRow = KeyboardHelpIconFactory.upDownArrowKeysRowIcon();
    const moveRightHand = KeyboardHelpSectionRow.labelWithIcon(RatioAndProportionStrings.moveRightHandStringProperty, arrowKeysRow, {
      labelInnerContent: RatioAndProportionStrings.a11y.keyboardHelp.rightHandDescriptionStringProperty
    });
    const shiftIcon = TextKeyNode.shift();
    const moveInSmallerSteps = KeyboardHelpSectionRow.labelWithIcon(RatioAndProportionStrings.moveHandsInSmallerStepsStringProperty, shiftIcon, {
      labelInnerContent: RatioAndProportionStrings.a11y.keyboardHelp.handsInSmallerStepsDescriptionStringProperty
    });
    const numberToNumberIcon = KeyboardHelpIconFactory.iconToIcon(new NumberKeyNode(0), new NumberKeyNode(9));
    const jumpBothHands = KeyboardHelpSectionRow.labelWithIcon(RatioAndProportionStrings.jumpBothHandsStringProperty, numberToNumberIcon, {
      labelInnerContent: RatioAndProportionStrings.a11y.keyboardHelp.jumpBothHandsDescriptionStringProperty
    });
    const rows = [moveLeftHand, moveRightHand, moveInSmallerSteps, jumpBothHands];
    super(RatioAndProportionStrings.moveBothHandsSimultaneouslyStringProperty, rows, options);
    this.disposeBothHandsHelpSection = () => {
      rows.forEach(row => row.dispose());
      wOrSIcon.dispose();
      wKeyNode.dispose();
      sKeyNode.dispose();
      numberToNumberIcon.dispose();
      arrowKeysRow.dispose();
      shiftIcon.dispose();
    };
  }
  dispose() {
    this.disposeBothHandsHelpSection();
    super.dispose();
  }
}
ratioAndProportion.register('RAPKeyboardHelpContent', RAPKeyboardHelpContent);
export default RAPKeyboardHelpContent;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCYXNpY0FjdGlvbnNLZXlib2FyZEhlbHBTZWN0aW9uIiwiS2V5Ym9hcmRIZWxwSWNvbkZhY3RvcnkiLCJLZXlib2FyZEhlbHBTZWN0aW9uIiwiU2xpZGVyQ29udHJvbHNLZXlib2FyZEhlbHBTZWN0aW9uIiwiVHdvQ29sdW1uS2V5Ym9hcmRIZWxwQ29udGVudCIsIkxldHRlcktleU5vZGUiLCJOdW1iZXJLZXlOb2RlIiwiVGV4dEtleU5vZGUiLCJyYXRpb0FuZFByb3BvcnRpb24iLCJSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzIiwiS2V5Ym9hcmRIZWxwU2VjdGlvblJvdyIsIlJBUEtleWJvYXJkSGVscENvbnRlbnQiLCJjb25zdHJ1Y3RvciIsImNoYWxsZW5nZUhlbHBTZWN0aW9uIiwicHJvdmlkZWRPcHRpb25zIiwibW92ZUxlZnRPclJpZ2h0SGFuZEhlbHBTZWN0aW9uIiwiaGVhZGluZ1N0cmluZ1Byb3BlcnR5IiwibW92ZUhhbmRzSW5kaXZpZHVhbGx5U3RyaW5nUHJvcGVydHkiLCJ2ZXJiU3RyaW5nUHJvcGVydHkiLCJtb3ZlU3RyaW5nUHJvcGVydHkiLCJzbGlkZXJTdHJpbmdQcm9wZXJ0eSIsImxlZnRPclJpZ2h0SGFuZFN0cmluZ1Byb3BlcnR5IiwibWF4aW11bVN0cmluZ1Byb3BlcnR5IiwidG9wU3RyaW5nUHJvcGVydHkiLCJtaW5pbXVtU3RyaW5nUHJvcGVydHkiLCJib3R0b21TdHJpbmdQcm9wZXJ0eSIsImFycm93S2V5SWNvbkRpc3BsYXkiLCJBcnJvd0tleUljb25EaXNwbGF5IiwiVVBfRE9XTiIsImJhc2ljQWN0aW9uc0hlbHBTZWN0aW9uIiwid2l0aENoZWNrYm94Q29udGVudCIsImJvdGhIYW5kc0hlbHBTZWN0aW9uIiwiQm90aEhhbmRzSGVscFNlY3Rpb24iLCJsZWZ0Q29udGVudCIsInJpZ2h0Q29udGVudCIsImRpc3Bvc2VSQVBLZXlib2FyZEhlbHBDb250ZW50IiwiZGlzcG9zZSIsIm9wdGlvbnMiLCJ3S2V5Tm9kZSIsInciLCJzS2V5Tm9kZSIsInMiLCJ3T3JTSWNvbiIsImljb25Sb3ciLCJtb3ZlTGVmdEhhbmQiLCJsYWJlbFdpdGhJY29uIiwibW92ZUxlZnRIYW5kU3RyaW5nUHJvcGVydHkiLCJsYWJlbElubmVyQ29udGVudCIsImExMXkiLCJrZXlib2FyZEhlbHAiLCJsZWZ0SGFuZERlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHkiLCJhcnJvd0tleXNSb3ciLCJ1cERvd25BcnJvd0tleXNSb3dJY29uIiwibW92ZVJpZ2h0SGFuZCIsIm1vdmVSaWdodEhhbmRTdHJpbmdQcm9wZXJ0eSIsInJpZ2h0SGFuZERlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHkiLCJzaGlmdEljb24iLCJzaGlmdCIsIm1vdmVJblNtYWxsZXJTdGVwcyIsIm1vdmVIYW5kc0luU21hbGxlclN0ZXBzU3RyaW5nUHJvcGVydHkiLCJoYW5kc0luU21hbGxlclN0ZXBzRGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eSIsIm51bWJlclRvTnVtYmVySWNvbiIsImljb25Ub0ljb24iLCJqdW1wQm90aEhhbmRzIiwianVtcEJvdGhIYW5kc1N0cmluZ1Byb3BlcnR5IiwianVtcEJvdGhIYW5kc0Rlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHkiLCJyb3dzIiwibW92ZUJvdGhIYW5kc1NpbXVsdGFuZW91c2x5U3RyaW5nUHJvcGVydHkiLCJkaXNwb3NlQm90aEhhbmRzSGVscFNlY3Rpb24iLCJmb3JFYWNoIiwicm93IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJSQVBLZXlib2FyZEhlbHBDb250ZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIwLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIENvbnRlbnQgZm9yIHRoZSBrZXlib2FyZCBoZWxwIGRpYWxvZyBpbiBSYXRpbyBhbmQgUHJvcG9ydGlvblxyXG4gKlxyXG4gKiBAYXV0aG9yIE1pY2hhZWwgS2F1em1hbm4gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IEJhc2ljQWN0aW9uc0tleWJvYXJkSGVscFNlY3Rpb24gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL2tleWJvYXJkL2hlbHAvQmFzaWNBY3Rpb25zS2V5Ym9hcmRIZWxwU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBLZXlib2FyZEhlbHBJY29uRmFjdG9yeSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMva2V5Ym9hcmQvaGVscC9LZXlib2FyZEhlbHBJY29uRmFjdG9yeS5qcyc7XHJcbmltcG9ydCBLZXlib2FyZEhlbHBTZWN0aW9uLCB7IEtleWJvYXJkSGVscFNlY3Rpb25PcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL2tleWJvYXJkL2hlbHAvS2V5Ym9hcmRIZWxwU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBTbGlkZXJDb250cm9sc0tleWJvYXJkSGVscFNlY3Rpb24gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL2tleWJvYXJkL2hlbHAvU2xpZGVyQ29udHJvbHNLZXlib2FyZEhlbHBTZWN0aW9uLmpzJztcclxuaW1wb3J0IFR3b0NvbHVtbktleWJvYXJkSGVscENvbnRlbnQsIHsgVHdvQ29sdW1uS2V5Ym9hcmRIZWxwQ29udGVudE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMva2V5Ym9hcmQvaGVscC9Ud29Db2x1bW5LZXlib2FyZEhlbHBDb250ZW50LmpzJztcclxuaW1wb3J0IExldHRlcktleU5vZGUgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL2tleWJvYXJkL0xldHRlcktleU5vZGUuanMnO1xyXG5pbXBvcnQgTnVtYmVyS2V5Tm9kZSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMva2V5Ym9hcmQvTnVtYmVyS2V5Tm9kZS5qcyc7XHJcbmltcG9ydCBUZXh0S2V5Tm9kZSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMva2V5Ym9hcmQvVGV4dEtleU5vZGUuanMnO1xyXG5pbXBvcnQgcmF0aW9BbmRQcm9wb3J0aW9uIGZyb20gJy4uLy4uL3JhdGlvQW5kUHJvcG9ydGlvbi5qcyc7XHJcbmltcG9ydCBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzIGZyb20gJy4uLy4uL1JhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuanMnO1xyXG5pbXBvcnQgeyBFbXB0eVNlbGZPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XHJcbmltcG9ydCBLZXlib2FyZEhlbHBTZWN0aW9uUm93IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9rZXlib2FyZC9oZWxwL0tleWJvYXJkSGVscFNlY3Rpb25Sb3cuanMnO1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IEVtcHR5U2VsZk9wdGlvbnM7XHJcbmV4cG9ydCB0eXBlIFJBUEtleWJvYXJkSGVscENvbnRlbnRPcHRpb25zID0gU2VsZk9wdGlvbnMgJiBUd29Db2x1bW5LZXlib2FyZEhlbHBDb250ZW50T3B0aW9ucztcclxuXHJcbmNsYXNzIFJBUEtleWJvYXJkSGVscENvbnRlbnQgZXh0ZW5kcyBUd29Db2x1bW5LZXlib2FyZEhlbHBDb250ZW50IHtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBkaXNwb3NlUkFQS2V5Ym9hcmRIZWxwQ29udGVudDogKCkgPT4gdm9pZDtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIGNoYWxsZW5nZUhlbHBTZWN0aW9uIC0ga2V5Ym9hcmQgaGVscCBzZWN0aW9uIGZvciBkZXRlcm1pbmluZyBob3cgdG8gY2hhbmdlIHRoZSB0YXJnZXQgcmF0aW8uIFdlIHdpbGwgZGlzcG9zZSB0aGlzIVxyXG4gICAqIEBwYXJhbSBbcHJvdmlkZWRPcHRpb25zXVxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggY2hhbGxlbmdlSGVscFNlY3Rpb246IEtleWJvYXJkSGVscFNlY3Rpb24sIHByb3ZpZGVkT3B0aW9ucz86IFJBUEtleWJvYXJkSGVscENvbnRlbnRPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG1vdmVMZWZ0T3JSaWdodEhhbmRIZWxwU2VjdGlvbiA9IG5ldyBTbGlkZXJDb250cm9sc0tleWJvYXJkSGVscFNlY3Rpb24oIHtcclxuICAgICAgaGVhZGluZ1N0cmluZ1Byb3BlcnR5OiBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLm1vdmVIYW5kc0luZGl2aWR1YWxseVN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICB2ZXJiU3RyaW5nUHJvcGVydHk6IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MubW92ZVN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBzbGlkZXJTdHJpbmdQcm9wZXJ0eTogUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5sZWZ0T3JSaWdodEhhbmRTdHJpbmdQcm9wZXJ0eSxcclxuICAgICAgbWF4aW11bVN0cmluZ1Byb3BlcnR5OiBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLnRvcFN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBtaW5pbXVtU3RyaW5nUHJvcGVydHk6IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYm90dG9tU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIGFycm93S2V5SWNvbkRpc3BsYXk6IFNsaWRlckNvbnRyb2xzS2V5Ym9hcmRIZWxwU2VjdGlvbi5BcnJvd0tleUljb25EaXNwbGF5LlVQX0RPV04gLy8gb24gY3VlIHVwL2Rvd24gYXJyb3dzLCBub3QgbGVmdC9yaWdodCBhbHNvLlxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGJhc2ljQWN0aW9uc0hlbHBTZWN0aW9uID0gbmV3IEJhc2ljQWN0aW9uc0tleWJvYXJkSGVscFNlY3Rpb24oIHtcclxuICAgICAgd2l0aENoZWNrYm94Q29udGVudDogdHJ1ZVxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGJvdGhIYW5kc0hlbHBTZWN0aW9uID0gbmV3IEJvdGhIYW5kc0hlbHBTZWN0aW9uKCk7XHJcbiAgICBjb25zdCBsZWZ0Q29udGVudCA9IFsgbW92ZUxlZnRPclJpZ2h0SGFuZEhlbHBTZWN0aW9uLCBib3RoSGFuZHNIZWxwU2VjdGlvbiBdO1xyXG4gICAgY29uc3QgcmlnaHRDb250ZW50ID0gWyBjaGFsbGVuZ2VIZWxwU2VjdGlvbiwgYmFzaWNBY3Rpb25zSGVscFNlY3Rpb24gXTtcclxuXHJcbiAgICBzdXBlciggbGVmdENvbnRlbnQsIHJpZ2h0Q29udGVudCwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgdGhpcy5kaXNwb3NlUkFQS2V5Ym9hcmRIZWxwQ29udGVudCA9ICgpID0+IHtcclxuICAgICAgbW92ZUxlZnRPclJpZ2h0SGFuZEhlbHBTZWN0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgYm90aEhhbmRzSGVscFNlY3Rpb24uZGlzcG9zZSgpO1xyXG4gICAgICBjaGFsbGVuZ2VIZWxwU2VjdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgIGJhc2ljQWN0aW9uc0hlbHBTZWN0aW9uLmRpc3Bvc2UoKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGlzcG9zZVJBUEtleWJvYXJkSGVscENvbnRlbnQoKTtcclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIEJvdGhIYW5kc0hlbHBTZWN0aW9uIGV4dGVuZHMgS2V5Ym9hcmRIZWxwU2VjdGlvbiB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBkaXNwb3NlQm90aEhhbmRzSGVscFNlY3Rpb246ICgpID0+IHZvaWQ7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvciggb3B0aW9ucz86IEtleWJvYXJkSGVscFNlY3Rpb25PcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IHdLZXlOb2RlID0gTGV0dGVyS2V5Tm9kZS53KCk7XHJcbiAgICBjb25zdCBzS2V5Tm9kZSA9IExldHRlcktleU5vZGUucygpO1xyXG4gICAgY29uc3Qgd09yU0ljb24gPSBLZXlib2FyZEhlbHBJY29uRmFjdG9yeS5pY29uUm93KCBbIHdLZXlOb2RlLCBzS2V5Tm9kZSBdICk7XHJcbiAgICBjb25zdCBtb3ZlTGVmdEhhbmQgPSBLZXlib2FyZEhlbHBTZWN0aW9uUm93LmxhYmVsV2l0aEljb24oIFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MubW92ZUxlZnRIYW5kU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIHdPclNJY29uLCB7XHJcbiAgICAgICAgbGFiZWxJbm5lckNvbnRlbnQ6IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHAubGVmdEhhbmREZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBhcnJvd0tleXNSb3cgPSBLZXlib2FyZEhlbHBJY29uRmFjdG9yeS51cERvd25BcnJvd0tleXNSb3dJY29uKCk7XHJcbiAgICBjb25zdCBtb3ZlUmlnaHRIYW5kID0gS2V5Ym9hcmRIZWxwU2VjdGlvblJvdy5sYWJlbFdpdGhJY29uKCBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLm1vdmVSaWdodEhhbmRTdHJpbmdQcm9wZXJ0eSxcclxuICAgICAgYXJyb3dLZXlzUm93LCB7XHJcbiAgICAgICAgbGFiZWxJbm5lckNvbnRlbnQ6IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHAucmlnaHRIYW5kRGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgY29uc3Qgc2hpZnRJY29uID0gVGV4dEtleU5vZGUuc2hpZnQoKTtcclxuICAgIGNvbnN0IG1vdmVJblNtYWxsZXJTdGVwcyA9IEtleWJvYXJkSGVscFNlY3Rpb25Sb3cubGFiZWxXaXRoSWNvbiggUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5tb3ZlSGFuZHNJblNtYWxsZXJTdGVwc1N0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBzaGlmdEljb24sIHtcclxuICAgICAgICBsYWJlbElubmVyQ29udGVudDogUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscC5oYW5kc0luU21hbGxlclN0ZXBzRGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgbnVtYmVyVG9OdW1iZXJJY29uID0gS2V5Ym9hcmRIZWxwSWNvbkZhY3RvcnkuaWNvblRvSWNvbiggbmV3IE51bWJlcktleU5vZGUoIDAgKSwgbmV3IE51bWJlcktleU5vZGUoIDkgKSApO1xyXG4gICAgY29uc3QganVtcEJvdGhIYW5kcyA9IEtleWJvYXJkSGVscFNlY3Rpb25Sb3cubGFiZWxXaXRoSWNvbiggUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5qdW1wQm90aEhhbmRzU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIG51bWJlclRvTnVtYmVySWNvbiwge1xyXG4gICAgICAgIGxhYmVsSW5uZXJDb250ZW50OiBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkua2V5Ym9hcmRIZWxwLmp1bXBCb3RoSGFuZHNEZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCByb3dzID0gWyBtb3ZlTGVmdEhhbmQsIG1vdmVSaWdodEhhbmQsIG1vdmVJblNtYWxsZXJTdGVwcywganVtcEJvdGhIYW5kcyBdO1xyXG4gICAgc3VwZXIoIFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MubW92ZUJvdGhIYW5kc1NpbXVsdGFuZW91c2x5U3RyaW5nUHJvcGVydHksXHJcbiAgICAgIHJvd3MsIG9wdGlvbnMgKTtcclxuXHJcbiAgICB0aGlzLmRpc3Bvc2VCb3RoSGFuZHNIZWxwU2VjdGlvbiA9ICgpID0+IHtcclxuICAgICAgcm93cy5mb3JFYWNoKCByb3cgPT4gcm93LmRpc3Bvc2UoKSApO1xyXG4gICAgICB3T3JTSWNvbi5kaXNwb3NlKCk7XHJcbiAgICAgIHdLZXlOb2RlLmRpc3Bvc2UoKTtcclxuICAgICAgc0tleU5vZGUuZGlzcG9zZSgpO1xyXG4gICAgICBudW1iZXJUb051bWJlckljb24uZGlzcG9zZSgpO1xyXG4gICAgICBhcnJvd0tleXNSb3cuZGlzcG9zZSgpO1xyXG4gICAgICBzaGlmdEljb24uZGlzcG9zZSgpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBkaXNwb3NlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kaXNwb3NlQm90aEhhbmRzSGVscFNlY3Rpb24oKTtcclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICB9XHJcbn1cclxuXHJcbnJhdGlvQW5kUHJvcG9ydGlvbi5yZWdpc3RlciggJ1JBUEtleWJvYXJkSGVscENvbnRlbnQnLCBSQVBLZXlib2FyZEhlbHBDb250ZW50ICk7XHJcbmV4cG9ydCBkZWZhdWx0IFJBUEtleWJvYXJkSGVscENvbnRlbnQ7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLCtCQUErQixNQUFNLDhFQUE4RTtBQUMxSCxPQUFPQyx1QkFBdUIsTUFBTSxzRUFBc0U7QUFDMUcsT0FBT0MsbUJBQW1CLE1BQXNDLGtFQUFrRTtBQUNsSSxPQUFPQyxpQ0FBaUMsTUFBTSxnRkFBZ0Y7QUFDOUgsT0FBT0MsNEJBQTRCLE1BQStDLDJFQUEyRTtBQUM3SixPQUFPQyxhQUFhLE1BQU0sdURBQXVEO0FBQ2pGLE9BQU9DLGFBQWEsTUFBTSx1REFBdUQ7QUFDakYsT0FBT0MsV0FBVyxNQUFNLHFEQUFxRDtBQUM3RSxPQUFPQyxrQkFBa0IsTUFBTSw2QkFBNkI7QUFDNUQsT0FBT0MseUJBQXlCLE1BQU0sb0NBQW9DO0FBRTFFLE9BQU9DLHNCQUFzQixNQUFNLHFFQUFxRTtBQUt4RyxNQUFNQyxzQkFBc0IsU0FBU1AsNEJBQTRCLENBQUM7RUFJaEU7QUFDRjtBQUNBO0FBQ0E7RUFDU1EsV0FBV0EsQ0FBRUMsb0JBQXlDLEVBQUVDLGVBQStDLEVBQUc7SUFFL0cs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