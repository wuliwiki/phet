// Copyright 2020-2022, University of Colorado Boulder

/**
 * PDOM view for interacting with both hands at the same time. This adds a custom interaction, as well as PDOM
 * formatting like adding the "application" role to support alternative input.
 *
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import PatternStringProperty from '../../../../axon/js/PatternStringProperty.js';
import optionize from '../../../../phet-core/js/optionize.js';
import SceneryPhetStrings from '../../../../scenery-phet/js/SceneryPhetStrings.js';
import { Node, ParallelDOM, Voicing } from '../../../../scenery/js/imports.js';
import AriaLiveAnnouncer from '../../../../utterance-queue/js/AriaLiveAnnouncer.js';
import Utterance from '../../../../utterance-queue/js/Utterance.js';
import ratioAndProportion from '../../ratioAndProportion.js';
import RatioAndProportionStrings from '../../RatioAndProportionStrings.js';
import BothHandsInteractionListener from './BothHandsInteractionListener.js';
import ViewSounds from './sound/ViewSounds.js';
import BothHandsDescriber from './describers/BothHandsDescriber.js';
import TickMarkDescriber from './describers/TickMarkDescriber.js';
import Multilink from '../../../../axon/js/Multilink.js';
import StringProperty from '../../../../axon/js/StringProperty.js';

// constants
const OBJECT_RESPONSE_DELAY = 500;
const accessibleNameBehavior = (node, options, accessibleName) => {
  options.innerContent = accessibleName;
  options.ariaLabel = accessibleName;
  return options;
};
class BothHandsPDOMNode extends Node {
  // BothHandsDescriber holds state information that changes based on requests for content, so have a separate type per modality, see https://github.com/phetsims/ratio-and-proportion/issues/416

  // To support proper cue arrow logic

  // just to fire on focus, make this polite for https://github.com/phetsims/ratio-and-proportion/issues/347

  // Two references to the same Property allows for a public, readonly interface, while still editable in this file.

  constructor(providedOptions) {
    const options = optionize()({
      gestureDescriptionHelpText: null,
      // pdom
      tagName: 'div',
      interactiveNodeOptions: {
        helpText: RatioAndProportionStrings.a11y.bothHands.bothHandsHelpTextStringProperty,
        // overridden by options.gestureDescriptionHelpText when supported
        helpTextBehavior: ParallelDOM.HELP_TEXT_BEFORE_CONTENT,
        ariaRole: 'application',
        focusable: true,
        tagName: 'div',
        // just the initial value, this is set dynamically below.
        accessibleName: RatioAndProportionStrings.a11y.bothHands.bothHandsStringProperty,
        accessibleNameBehavior: accessibleNameBehavior,
        voicingObjectResponse: () => this.voicingBothHandsDescriber.getBothHandsObjectResponse(),
        interactiveHighlight: 'invisible'
      }
    }, providedOptions);
    super();
    if (phet.joist.sim.supportsGestureDescription && options.gestureDescriptionHelpText) {
      options.interactiveNodeOptions.helpText = options.gestureDescriptionHelpText;
    }
    const tickMarkDescriber = new TickMarkDescriber(options.tickMarkRangeProperty, options.tickMarkViewProperty);
    this.descriptionBothHandsDescriber = new BothHandsDescriber(options.ratioTupleProperty, options.enabledRatioTermsRangeProperty, options.ratioLockedProperty, options.tickMarkViewProperty, options.inProportionProperty, options.ratioDescriber, tickMarkDescriber);
    this.voicingBothHandsDescriber = new BothHandsDescriber(options.ratioTupleProperty, options.enabledRatioTermsRangeProperty, options.ratioLockedProperty, options.tickMarkViewProperty, options.inProportionProperty, options.ratioDescriber, tickMarkDescriber);
    this.antecedentInteractedWithProperty = new BooleanProperty(false);
    this.consequentInteractedWithProperty = new BooleanProperty(false);
    this.bothHandsFocusedProperty = new BooleanProperty(false);
    this.viewSounds = new ViewSounds(options.tickMarkRangeProperty, options.tickMarkViewProperty, options.playTickMarkBumpSoundProperty);
    Multilink.multilink([this.antecedentInteractedWithProperty, this.consequentInteractedWithProperty], (antecedentInteractedWith, consequentInteractedWith) => {
      options.cueArrowsState.bothHands.interactedWithProperty.value = antecedentInteractedWith || consequentInteractedWith;

      // If both hands have been interacted with, then no need for individual cues either
      if (antecedentInteractedWith && consequentInteractedWith) {
        options.cueArrowsState.interactedWithKeyboardProperty.value = true;
      }
    });
    Multilink.multilink([this.antecedentInteractedWithProperty, this.consequentInteractedWithProperty, this.bothHandsFocusedProperty], (antecedentInteractedWith, consequentInteractedWith, bothHandsFocused) => {
      options.cueArrowsState.bothHands.antecedentCueDisplayedProperty.value = !antecedentInteractedWith && bothHandsFocused;
      options.cueArrowsState.bothHands.consequentCueDisplayedProperty.value = !consequentInteractedWith && bothHandsFocused;
    });
    const dynamicDescription = new Node({
      tagName: 'p'
    });
    this.addChild(dynamicDescription);
    const interactiveNode = new VoicingNode(options.interactiveNodeOptions);
    this.addChild(interactiveNode);
    const handLockedStringProperty = new PatternStringProperty(RatioAndProportionStrings.a11y.handLockedPatternStringProperty, {
      hand: RatioAndProportionStrings.a11y.bothHands.bothHandsStringProperty
    });
    options.ratioLockedProperty.link(locked => {
      const newAccessibleNameStringProperty = !locked ? RatioAndProportionStrings.a11y.bothHands.bothHandsStringProperty : handLockedStringProperty;
      interactiveNode.accessibleName = newAccessibleNameStringProperty;
      interactiveNode.voicingNameResponse = newAccessibleNameStringProperty;
    });

    // Make sure that any children inside the both hands interaction (like individual hands) come before the both hands interaction in the PDOM.
    this.pdomOrder = [dynamicDescription, ...interactiveNode.children, null];
    interactiveNode.setPDOMAttribute('aria-roledescription', SceneryPhetStrings.a11y.grabDrag.movableStringProperty);
    const originalContextResponseStringProperty = new StringProperty('');
    const voicingContextResponsePatternStringProperty = new PatternStringProperty(RatioAndProportionStrings.a11y.ratioNoLongerLockedPatternStringProperty, {
      noLongerLocked: RatioAndProportionStrings.a11y.ratioNoLongerLockedStringProperty,
      originalContextResponse: originalContextResponseStringProperty
    });
    this.bothHandsInteractionListener = new BothHandsInteractionListener({
      targetNode: interactiveNode,
      ratioTupleProperty: options.ratioTupleProperty,
      antecedentInteractedWithProperty: this.antecedentInteractedWithProperty,
      consequentInteractedWithProperty: this.consequentInteractedWithProperty,
      enabledRatioTermsRangeProperty: options.enabledRatioTermsRangeProperty,
      tickMarkRangeProperty: options.tickMarkRangeProperty,
      keyboardStep: options.keyboardStep,
      boundarySoundClip: this.viewSounds.boundarySoundClip,
      tickMarkBumpSoundClip: this.viewSounds.tickMarkBumpSoundClip,
      ratioLockedProperty: options.ratioLockedProperty,
      targetRatioProperty: options.targetRatioProperty,
      getIdealTerm: options.getIdealTerm,
      inProportionProperty: options.inProportionProperty,
      onInput: (ratioInputModality, knockedOutOfLock) => {
        ///////////
        // Description
        if (knockedOutOfLock) {
          this.alertDescriptionUtterance(this.ratioUnlockedFromBothHandsUtterance);
        }
        this.alertBothHandsDescriptionContextResponse(ratioInputModality, knockedOutOfLock);
        //////////

        //////////
        // Voicing
        originalContextResponseStringProperty.value = this.voicingBothHandsDescriber.getBothHandsContextResponse(ratioInputModality);
        interactiveNode.voicingSpeakFullResponse({
          // just object and context response
          nameResponse: null,
          hintResponse: null,
          // ratioInputModality is needed for the context response so we can't set that through voicingContextResponse
          contextResponse: knockedOutOfLock ? voicingContextResponsePatternStringProperty : originalContextResponseStringProperty
        });
        ///////////
      }
    });

    interactiveNode.addInputListener(this.bothHandsInteractionListener);
    interactiveNode.addInputListener({
      focus: () => {
        this.alertBothHandsObjectResponse(true);
        this.viewSounds.grabSoundClip.play();
        this.bothHandsFocusedProperty.value = true;
      },
      blur: () => {
        this.viewSounds.releaseSoundClip.play();
        this.bothHandsFocusedProperty.value = false;

        // This only works because the bothHandsInteractionListener needs alt-input control resetting
        this.bothHandsInteractionListener.reset();
      },
      down: () => {
        this.bothHandsFocusedProperty.value = false;
        this.bothHandsInteractionListener.reset();
      }
    });
    this.objectResponseUtterance = new Utterance({
      alertStableDelay: OBJECT_RESPONSE_DELAY,
      announcerOptions: {
        // This "object response" is meant to act more like aria-valuetext than a traditional, polite alert. We want
        // this to cut off any other alert. This fixes alert-build-up described in https://github.com/phetsims/ratio-and-proportion/issues/214
        ariaLivePriority: AriaLiveAnnouncer.AriaLive.ASSERTIVE
      }
    });
    this.objectResponseOnFocusUtterance = new Utterance({
      alertStableDelay: 50
    });
    this.contextResponseUtterance = new Utterance({
      alertStableDelay: 2000
    });
    this.ratioUnlockedFromBothHandsUtterance = new Utterance({
      alert: RatioAndProportionStrings.a11y.ratioNoLongerLockedStringProperty,
      // slightly longer than the object response so that we make sure it comes after that assertive alert. This is
      // because we don't want it interrupted like it was originally in https://github.com/phetsims/ratio-and-proportion/issues/227#issuecomment-740173738
      alertStableDelay: OBJECT_RESPONSE_DELAY + 10
    });
    this._isBeingInteractedWithProperty = this.bothHandsInteractionListener.isBeingInteractedWithProperty;
    this.isBeingInteractedWithProperty = this._isBeingInteractedWithProperty;

    // Though most cases are covered by just listening to fitness, there are certain cases when Property values can change,
    // but the fitness doesn't. See https://github.com/phetsims/ratio-and-proportion/issues/222 as an example.
    Multilink.multilink([options.tickMarkViewProperty, options.tickMarkRangeProperty, options.ratioTupleProperty, options.unclampedFitnessProperty], () => {
      dynamicDescription.innerContent = this.descriptionBothHandsDescriber.getBothHandsDynamicDescription();
      if (this.bothHandsInteractionListener.isBeingInteractedWithProperty.value) {
        this.alertBothHandsObjectResponse();
      }
    });

    // emit this utterance immediately, so that it comes before the object response above.
    this.bothHandsInteractionListener.jumpToZeroWhileLockedEmitter.addListener(() => {
      const cannotJumpToZeroWhenLockedProperty = RatioAndProportionStrings.a11y.bothHands.cannotJumpToZeroWhenLockedStringProperty;
      this.alertDescriptionUtterance(cannotJumpToZeroWhenLockedProperty.value);
      this.contextResponseUtterance.alert = this.descriptionBothHandsDescriber.getBothHandsObjectResponse();
      this.alertDescriptionUtterance(this.contextResponseUtterance);
    });
    this.mutate(options);
  }
  reset() {
    this.descriptionBothHandsDescriber.reset();
    this.voicingBothHandsDescriber.reset();
    this.antecedentInteractedWithProperty.reset();
    this.consequentInteractedWithProperty.reset();
    this.bothHandsFocusedProperty.reset();
    this.bothHandsInteractionListener.reset();
    this.objectResponseUtterance.reset();
    this.contextResponseUtterance.reset();
    this.ratioUnlockedFromBothHandsUtterance.reset();
    this.viewSounds.reset();
  }
  alertBothHandsObjectResponse(onFocus = false) {
    const utterance = onFocus ? this.objectResponseOnFocusUtterance : this.objectResponseUtterance;
    utterance.alert = this.descriptionBothHandsDescriber.getBothHandsObjectResponse();
    this.alertDescriptionUtterance(utterance);
  }

  // Just for description, not voicing
  alertBothHandsDescriptionContextResponse(ratioInputModality, knockedOutOfLock) {
    if (knockedOutOfLock) {
      this.contextResponseUtterance.alert = this.descriptionBothHandsDescriber.getBothHandsObjectResponse();
    } else {
      this.contextResponseUtterance.alert = this.descriptionBothHandsDescriber.getBothHandsContextResponse(ratioInputModality);
    }
    this.alertDescriptionUtterance(this.contextResponseUtterance);
  }
}
class VoicingNode extends Voicing(Node) {}
ratioAndProportion.register('BothHandsPDOMNode', BothHandsPDOMNode);
export default BothHandsPDOMNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJvcHRpb25pemUiLCJTY2VuZXJ5UGhldFN0cmluZ3MiLCJOb2RlIiwiUGFyYWxsZWxET00iLCJWb2ljaW5nIiwiQXJpYUxpdmVBbm5vdW5jZXIiLCJVdHRlcmFuY2UiLCJyYXRpb0FuZFByb3BvcnRpb24iLCJSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzIiwiQm90aEhhbmRzSW50ZXJhY3Rpb25MaXN0ZW5lciIsIlZpZXdTb3VuZHMiLCJCb3RoSGFuZHNEZXNjcmliZXIiLCJUaWNrTWFya0Rlc2NyaWJlciIsIk11bHRpbGluayIsIlN0cmluZ1Byb3BlcnR5IiwiT0JKRUNUX1JFU1BPTlNFX0RFTEFZIiwiYWNjZXNzaWJsZU5hbWVCZWhhdmlvciIsIm5vZGUiLCJvcHRpb25zIiwiYWNjZXNzaWJsZU5hbWUiLCJpbm5lckNvbnRlbnQiLCJhcmlhTGFiZWwiLCJCb3RoSGFuZHNQRE9NTm9kZSIsImNvbnN0cnVjdG9yIiwicHJvdmlkZWRPcHRpb25zIiwiZ2VzdHVyZURlc2NyaXB0aW9uSGVscFRleHQiLCJ0YWdOYW1lIiwiaW50ZXJhY3RpdmVOb2RlT3B0aW9ucyIsImhlbHBUZXh0IiwiYTExeSIsImJvdGhIYW5kcyIsImJvdGhIYW5kc0hlbHBUZXh0U3RyaW5nUHJvcGVydHkiLCJoZWxwVGV4dEJlaGF2aW9yIiwiSEVMUF9URVhUX0JFRk9SRV9DT05URU5UIiwiYXJpYVJvbGUiLCJmb2N1c2FibGUiLCJib3RoSGFuZHNTdHJpbmdQcm9wZXJ0eSIsInZvaWNpbmdPYmplY3RSZXNwb25zZSIsInZvaWNpbmdCb3RoSGFuZHNEZXNjcmliZXIiLCJnZXRCb3RoSGFuZHNPYmplY3RSZXNwb25zZSIsImludGVyYWN0aXZlSGlnaGxpZ2h0IiwicGhldCIsImpvaXN0Iiwic2ltIiwic3VwcG9ydHNHZXN0dXJlRGVzY3JpcHRpb24iLCJ0aWNrTWFya0Rlc2NyaWJlciIsInRpY2tNYXJrUmFuZ2VQcm9wZXJ0eSIsInRpY2tNYXJrVmlld1Byb3BlcnR5IiwiZGVzY3JpcHRpb25Cb3RoSGFuZHNEZXNjcmliZXIiLCJyYXRpb1R1cGxlUHJvcGVydHkiLCJlbmFibGVkUmF0aW9UZXJtc1JhbmdlUHJvcGVydHkiLCJyYXRpb0xvY2tlZFByb3BlcnR5IiwiaW5Qcm9wb3J0aW9uUHJvcGVydHkiLCJyYXRpb0Rlc2NyaWJlciIsImFudGVjZWRlbnRJbnRlcmFjdGVkV2l0aFByb3BlcnR5IiwiY29uc2VxdWVudEludGVyYWN0ZWRXaXRoUHJvcGVydHkiLCJib3RoSGFuZHNGb2N1c2VkUHJvcGVydHkiLCJ2aWV3U291bmRzIiwicGxheVRpY2tNYXJrQnVtcFNvdW5kUHJvcGVydHkiLCJtdWx0aWxpbmsiLCJhbnRlY2VkZW50SW50ZXJhY3RlZFdpdGgiLCJjb25zZXF1ZW50SW50ZXJhY3RlZFdpdGgiLCJjdWVBcnJvd3NTdGF0ZSIsImludGVyYWN0ZWRXaXRoUHJvcGVydHkiLCJ2YWx1ZSIsImludGVyYWN0ZWRXaXRoS2V5Ym9hcmRQcm9wZXJ0eSIsImJvdGhIYW5kc0ZvY3VzZWQiLCJhbnRlY2VkZW50Q3VlRGlzcGxheWVkUHJvcGVydHkiLCJjb25zZXF1ZW50Q3VlRGlzcGxheWVkUHJvcGVydHkiLCJkeW5hbWljRGVzY3JpcHRpb24iLCJhZGRDaGlsZCIsImludGVyYWN0aXZlTm9kZSIsIlZvaWNpbmdOb2RlIiwiaGFuZExvY2tlZFN0cmluZ1Byb3BlcnR5IiwiaGFuZExvY2tlZFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsImhhbmQiLCJsaW5rIiwibG9ja2VkIiwibmV3QWNjZXNzaWJsZU5hbWVTdHJpbmdQcm9wZXJ0eSIsInZvaWNpbmdOYW1lUmVzcG9uc2UiLCJwZG9tT3JkZXIiLCJjaGlsZHJlbiIsInNldFBET01BdHRyaWJ1dGUiLCJncmFiRHJhZyIsIm1vdmFibGVTdHJpbmdQcm9wZXJ0eSIsIm9yaWdpbmFsQ29udGV4dFJlc3BvbnNlU3RyaW5nUHJvcGVydHkiLCJ2b2ljaW5nQ29udGV4dFJlc3BvbnNlUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwicmF0aW9Ob0xvbmdlckxvY2tlZFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsIm5vTG9uZ2VyTG9ja2VkIiwicmF0aW9Ob0xvbmdlckxvY2tlZFN0cmluZ1Byb3BlcnR5Iiwib3JpZ2luYWxDb250ZXh0UmVzcG9uc2UiLCJib3RoSGFuZHNJbnRlcmFjdGlvbkxpc3RlbmVyIiwidGFyZ2V0Tm9kZSIsImtleWJvYXJkU3RlcCIsImJvdW5kYXJ5U291bmRDbGlwIiwidGlja01hcmtCdW1wU291bmRDbGlwIiwidGFyZ2V0UmF0aW9Qcm9wZXJ0eSIsImdldElkZWFsVGVybSIsIm9uSW5wdXQiLCJyYXRpb0lucHV0TW9kYWxpdHkiLCJrbm9ja2VkT3V0T2ZMb2NrIiwiYWxlcnREZXNjcmlwdGlvblV0dGVyYW5jZSIsInJhdGlvVW5sb2NrZWRGcm9tQm90aEhhbmRzVXR0ZXJhbmNlIiwiYWxlcnRCb3RoSGFuZHNEZXNjcmlwdGlvbkNvbnRleHRSZXNwb25zZSIsImdldEJvdGhIYW5kc0NvbnRleHRSZXNwb25zZSIsInZvaWNpbmdTcGVha0Z1bGxSZXNwb25zZSIsIm5hbWVSZXNwb25zZSIsImhpbnRSZXNwb25zZSIsImNvbnRleHRSZXNwb25zZSIsImFkZElucHV0TGlzdGVuZXIiLCJmb2N1cyIsImFsZXJ0Qm90aEhhbmRzT2JqZWN0UmVzcG9uc2UiLCJncmFiU291bmRDbGlwIiwicGxheSIsImJsdXIiLCJyZWxlYXNlU291bmRDbGlwIiwicmVzZXQiLCJkb3duIiwib2JqZWN0UmVzcG9uc2VVdHRlcmFuY2UiLCJhbGVydFN0YWJsZURlbGF5IiwiYW5ub3VuY2VyT3B0aW9ucyIsImFyaWFMaXZlUHJpb3JpdHkiLCJBcmlhTGl2ZSIsIkFTU0VSVElWRSIsIm9iamVjdFJlc3BvbnNlT25Gb2N1c1V0dGVyYW5jZSIsImNvbnRleHRSZXNwb25zZVV0dGVyYW5jZSIsImFsZXJ0IiwiX2lzQmVpbmdJbnRlcmFjdGVkV2l0aFByb3BlcnR5IiwiaXNCZWluZ0ludGVyYWN0ZWRXaXRoUHJvcGVydHkiLCJ1bmNsYW1wZWRGaXRuZXNzUHJvcGVydHkiLCJnZXRCb3RoSGFuZHNEeW5hbWljRGVzY3JpcHRpb24iLCJqdW1wVG9aZXJvV2hpbGVMb2NrZWRFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJjYW5ub3RKdW1wVG9aZXJvV2hlbkxvY2tlZFByb3BlcnR5IiwiY2Fubm90SnVtcFRvWmVyb1doZW5Mb2NrZWRTdHJpbmdQcm9wZXJ0eSIsIm11dGF0ZSIsIm9uRm9jdXMiLCJ1dHRlcmFuY2UiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkJvdGhIYW5kc1BET01Ob2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIwLTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFBET00gdmlldyBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBib3RoIGhhbmRzIGF0IHRoZSBzYW1lIHRpbWUuIFRoaXMgYWRkcyBhIGN1c3RvbSBpbnRlcmFjdGlvbiwgYXMgd2VsbCBhcyBQRE9NXHJcbiAqIGZvcm1hdHRpbmcgbGlrZSBhZGRpbmcgdGhlIFwiYXBwbGljYXRpb25cIiByb2xlIHRvIHN1cHBvcnQgYWx0ZXJuYXRpdmUgaW5wdXQuXHJcbiAqXHJcbiAqIEBhdXRob3IgTWljaGFlbCBLYXV6bWFubiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgQm9vbGVhblByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvQm9vbGVhblByb3BlcnR5LmpzJztcclxuaW1wb3J0IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1BhdHRlcm5TdHJpbmdQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBTdHJpY3RPbWl0IGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy90eXBlcy9TdHJpY3RPbWl0LmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgU2NlbmVyeVBoZXRTdHJpbmdzIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9TY2VuZXJ5UGhldFN0cmluZ3MuanMnO1xyXG5pbXBvcnQgeyBOb2RlLCBOb2RlT3B0aW9ucywgUGFyYWxsZWxET00sIFBET01CZWhhdmlvckZ1bmN0aW9uLCBQRE9NVmFsdWVUeXBlLCBWb2ljaW5nLCBWb2ljaW5nT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBBcmlhTGl2ZUFubm91bmNlciBmcm9tICcuLi8uLi8uLi8uLi91dHRlcmFuY2UtcXVldWUvanMvQXJpYUxpdmVBbm5vdW5jZXIuanMnO1xyXG5pbXBvcnQgVXR0ZXJhbmNlIGZyb20gJy4uLy4uLy4uLy4uL3V0dGVyYW5jZS1xdWV1ZS9qcy9VdHRlcmFuY2UuanMnO1xyXG5pbXBvcnQgcmF0aW9BbmRQcm9wb3J0aW9uIGZyb20gJy4uLy4uL3JhdGlvQW5kUHJvcG9ydGlvbi5qcyc7XHJcbmltcG9ydCBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzIGZyb20gJy4uLy4uL1JhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuanMnO1xyXG5pbXBvcnQgQm90aEhhbmRzSW50ZXJhY3Rpb25MaXN0ZW5lciwgeyBnZXRJZGVhbFRlcm1UeXBlIH0gZnJvbSAnLi9Cb3RoSGFuZHNJbnRlcmFjdGlvbkxpc3RlbmVyLmpzJztcclxuaW1wb3J0IFZpZXdTb3VuZHMgZnJvbSAnLi9zb3VuZC9WaWV3U291bmRzLmpzJztcclxuaW1wb3J0IEJvdGhIYW5kc0Rlc2NyaWJlciBmcm9tICcuL2Rlc2NyaWJlcnMvQm90aEhhbmRzRGVzY3JpYmVyLmpzJztcclxuaW1wb3J0IFJBUFJhdGlvVHVwbGUgZnJvbSAnLi4vbW9kZWwvUkFQUmF0aW9UdXBsZS5qcyc7XHJcbmltcG9ydCBSYW5nZSBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvUmFuZ2UuanMnO1xyXG5pbXBvcnQgQ3VlQXJyb3dzU3RhdGUgZnJvbSAnLi9DdWVBcnJvd3NTdGF0ZS5qcyc7XHJcbmltcG9ydCBSYXRpb0Rlc2NyaWJlciBmcm9tICcuL2Rlc2NyaWJlcnMvUmF0aW9EZXNjcmliZXIuanMnO1xyXG5pbXBvcnQgVGlja01hcmtWaWV3IGZyb20gJy4vVGlja01hcmtWaWV3LmpzJztcclxuaW1wb3J0IEVudW1lcmF0aW9uUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9FbnVtZXJhdGlvblByb3BlcnR5LmpzJztcclxuaW1wb3J0IFRSZWFkT25seVByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvVFJlYWRPbmx5UHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVGlja01hcmtEZXNjcmliZXIgZnJvbSAnLi9kZXNjcmliZXJzL1RpY2tNYXJrRGVzY3JpYmVyLmpzJztcclxuaW1wb3J0IFJhdGlvSW5wdXRNb2RhbGl0eSBmcm9tICcuL2Rlc2NyaWJlcnMvUmF0aW9JbnB1dE1vZGFsaXR5LmpzJztcclxuaW1wb3J0IE11bHRpbGluayBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL011bHRpbGluay5qcyc7XHJcbmltcG9ydCBTdHJpbmdQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1N0cmluZ1Byb3BlcnR5LmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBPQkpFQ1RfUkVTUE9OU0VfREVMQVkgPSA1MDA7XHJcblxyXG5jb25zdCBhY2Nlc3NpYmxlTmFtZUJlaGF2aW9yOiBQRE9NQmVoYXZpb3JGdW5jdGlvbiA9ICggbm9kZSwgb3B0aW9ucywgYWNjZXNzaWJsZU5hbWUgKSA9PiB7XHJcbiAgb3B0aW9ucy5pbm5lckNvbnRlbnQgPSBhY2Nlc3NpYmxlTmFtZTtcclxuICBvcHRpb25zLmFyaWFMYWJlbCA9IGFjY2Vzc2libGVOYW1lO1xyXG4gIHJldHVybiBvcHRpb25zO1xyXG59O1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IHtcclxuICByYXRpb1R1cGxlUHJvcGVydHk6IFByb3BlcnR5PFJBUFJhdGlvVHVwbGU+O1xyXG4gIGVuYWJsZWRSYXRpb1Rlcm1zUmFuZ2VQcm9wZXJ0eTogUHJvcGVydHk8UmFuZ2U+O1xyXG4gIGN1ZUFycm93c1N0YXRlOiBDdWVBcnJvd3NTdGF0ZTtcclxuICBrZXlib2FyZFN0ZXA6IG51bWJlcjtcclxuICB0aWNrTWFya1ZpZXdQcm9wZXJ0eTogRW51bWVyYXRpb25Qcm9wZXJ0eTxUaWNrTWFya1ZpZXc+O1xyXG4gIHRpY2tNYXJrUmFuZ2VQcm9wZXJ0eTogUHJvcGVydHk8bnVtYmVyPjtcclxuICB1bmNsYW1wZWRGaXRuZXNzUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PG51bWJlcj47XHJcbiAgcmF0aW9EZXNjcmliZXI6IFJhdGlvRGVzY3JpYmVyO1xyXG4gIHBsYXlUaWNrTWFya0J1bXBTb3VuZFByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPjtcclxuICByYXRpb0xvY2tlZFByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPjtcclxuICB0YXJnZXRSYXRpb1Byb3BlcnR5OiBQcm9wZXJ0eTxudW1iZXI+O1xyXG4gIGdldElkZWFsVGVybTogZ2V0SWRlYWxUZXJtVHlwZTtcclxuICBpblByb3BvcnRpb25Qcm9wZXJ0eTogUHJvcGVydHk8Ym9vbGVhbj47IC8vIGlzIHRoZSBtb2RlbCBpbiBwcm9wb3J0aW9uIHJpZ2h0IG5vd1xyXG5cclxuICAvLyBoZWxwIHRleHQgdG8gYmUgZGlzcGxheWVkIG9uIGRldmljZXMgc3VwcG9ydGluZyBnZXN0dXJlIGRlc2NyaXB0aW9uXHJcbiAgLy8gKHNlZSBgU2ltLnN1cHBvcnRzR2VzdHVyZURlc2NyaXB0aW9uYCkuIFdoZW4gbnVsbCwgdGhpcyB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSBkZWZhdWx0IGhlbHBUZXh0LlxyXG4gIGdlc3R1cmVEZXNjcmlwdGlvbkhlbHBUZXh0PzogUERPTVZhbHVlVHlwZSB8IG51bGw7XHJcbiAgaW50ZXJhY3RpdmVOb2RlT3B0aW9ucz86IFZvaWNpbmdPcHRpb25zICYgTm9kZU9wdGlvbnM7XHJcbn07XHJcblxyXG50eXBlIEJvdGhIYW5kc1BET01Ob2RlT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgU3RyaWN0T21pdDxOb2RlT3B0aW9ucywgJ3Bkb21PcmRlcic+O1xyXG5cclxuY2xhc3MgQm90aEhhbmRzUERPTU5vZGUgZXh0ZW5kcyBOb2RlIHtcclxuXHJcbiAgLy8gQm90aEhhbmRzRGVzY3JpYmVyIGhvbGRzIHN0YXRlIGluZm9ybWF0aW9uIHRoYXQgY2hhbmdlcyBiYXNlZCBvbiByZXF1ZXN0cyBmb3IgY29udGVudCwgc28gaGF2ZSBhIHNlcGFyYXRlIHR5cGUgcGVyIG1vZGFsaXR5LCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3JhdGlvLWFuZC1wcm9wb3J0aW9uL2lzc3Vlcy80MTZcclxuICBwcml2YXRlIGRlc2NyaXB0aW9uQm90aEhhbmRzRGVzY3JpYmVyOiBCb3RoSGFuZHNEZXNjcmliZXI7XHJcbiAgcHJpdmF0ZSB2b2ljaW5nQm90aEhhbmRzRGVzY3JpYmVyOiBCb3RoSGFuZHNEZXNjcmliZXI7XHJcblxyXG4gIC8vIFRvIHN1cHBvcnQgcHJvcGVyIGN1ZSBhcnJvdyBsb2dpY1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgYW50ZWNlZGVudEludGVyYWN0ZWRXaXRoUHJvcGVydHk6IFByb3BlcnR5PGJvb2xlYW4+O1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY29uc2VxdWVudEludGVyYWN0ZWRXaXRoUHJvcGVydHk6IFByb3BlcnR5PGJvb2xlYW4+O1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgYm90aEhhbmRzRm9jdXNlZFByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPjtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSB2aWV3U291bmRzOiBWaWV3U291bmRzO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgb2JqZWN0UmVzcG9uc2VVdHRlcmFuY2U6IFV0dGVyYW5jZTtcclxuXHJcbiAgLy8ganVzdCB0byBmaXJlIG9uIGZvY3VzLCBtYWtlIHRoaXMgcG9saXRlIGZvciBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcmF0aW8tYW5kLXByb3BvcnRpb24vaXNzdWVzLzM0N1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgb2JqZWN0UmVzcG9uc2VPbkZvY3VzVXR0ZXJhbmNlOiBVdHRlcmFuY2U7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjb250ZXh0UmVzcG9uc2VVdHRlcmFuY2U6IFV0dGVyYW5jZTtcclxuICBwcml2YXRlIHJlYWRvbmx5IHJhdGlvVW5sb2NrZWRGcm9tQm90aEhhbmRzVXR0ZXJhbmNlOiBVdHRlcmFuY2U7XHJcblxyXG4gIC8vIFR3byByZWZlcmVuY2VzIHRvIHRoZSBzYW1lIFByb3BlcnR5IGFsbG93cyBmb3IgYSBwdWJsaWMsIHJlYWRvbmx5IGludGVyZmFjZSwgd2hpbGUgc3RpbGwgZWRpdGFibGUgaW4gdGhpcyBmaWxlLlxyXG4gIHB1YmxpYyByZWFkb25seSBpc0JlaW5nSW50ZXJhY3RlZFdpdGhQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8Ym9vbGVhbj47XHJcbiAgcHJpdmF0ZSByZWFkb25seSBfaXNCZWluZ0ludGVyYWN0ZWRXaXRoUHJvcGVydHk6IFByb3BlcnR5PGJvb2xlYW4+O1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IGJvdGhIYW5kc0ludGVyYWN0aW9uTGlzdGVuZXI6IEJvdGhIYW5kc0ludGVyYWN0aW9uTGlzdGVuZXI7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggcHJvdmlkZWRPcHRpb25zOiBCb3RoSGFuZHNQRE9NTm9kZU9wdGlvbnMgKSB7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxCb3RoSGFuZHNQRE9NTm9kZU9wdGlvbnMsIFNlbGZPcHRpb25zLCBTdHJpY3RPbWl0PE5vZGVPcHRpb25zLCAncGRvbU9yZGVyJz4+KCkoIHtcclxuXHJcbiAgICAgIGdlc3R1cmVEZXNjcmlwdGlvbkhlbHBUZXh0OiBudWxsLFxyXG5cclxuICAgICAgLy8gcGRvbVxyXG4gICAgICB0YWdOYW1lOiAnZGl2JyxcclxuICAgICAgaW50ZXJhY3RpdmVOb2RlT3B0aW9uczoge1xyXG4gICAgICAgIGhlbHBUZXh0OiBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuYm90aEhhbmRzLmJvdGhIYW5kc0hlbHBUZXh0U3RyaW5nUHJvcGVydHksIC8vIG92ZXJyaWRkZW4gYnkgb3B0aW9ucy5nZXN0dXJlRGVzY3JpcHRpb25IZWxwVGV4dCB3aGVuIHN1cHBvcnRlZFxyXG4gICAgICAgIGhlbHBUZXh0QmVoYXZpb3I6IFBhcmFsbGVsRE9NLkhFTFBfVEVYVF9CRUZPUkVfQ09OVEVOVCxcclxuICAgICAgICBhcmlhUm9sZTogJ2FwcGxpY2F0aW9uJyxcclxuICAgICAgICBmb2N1c2FibGU6IHRydWUsXHJcbiAgICAgICAgdGFnTmFtZTogJ2RpdicsXHJcblxyXG4gICAgICAgIC8vIGp1c3QgdGhlIGluaXRpYWwgdmFsdWUsIHRoaXMgaXMgc2V0IGR5bmFtaWNhbGx5IGJlbG93LlxyXG4gICAgICAgIGFjY2Vzc2libGVOYW1lOiBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuYm90aEhhbmRzLmJvdGhIYW5kc1N0cmluZ1Byb3BlcnR5LFxyXG5cclxuICAgICAgICBhY2Nlc3NpYmxlTmFtZUJlaGF2aW9yOiBhY2Nlc3NpYmxlTmFtZUJlaGF2aW9yLFxyXG4gICAgICAgIHZvaWNpbmdPYmplY3RSZXNwb25zZTogKCkgPT4gdGhpcy52b2ljaW5nQm90aEhhbmRzRGVzY3JpYmVyLmdldEJvdGhIYW5kc09iamVjdFJlc3BvbnNlKCksXHJcbiAgICAgICAgaW50ZXJhY3RpdmVIaWdobGlnaHQ6ICdpbnZpc2libGUnXHJcbiAgICAgIH1cclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgaWYgKCBwaGV0LmpvaXN0LnNpbS5zdXBwb3J0c0dlc3R1cmVEZXNjcmlwdGlvbiAmJiBvcHRpb25zLmdlc3R1cmVEZXNjcmlwdGlvbkhlbHBUZXh0ICkge1xyXG4gICAgICBvcHRpb25zLmludGVyYWN0aXZlTm9kZU9wdGlvbnMuaGVscFRleHQgPSBvcHRpb25zLmdlc3R1cmVEZXNjcmlwdGlvbkhlbHBUZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRpY2tNYXJrRGVzY3JpYmVyID0gbmV3IFRpY2tNYXJrRGVzY3JpYmVyKCBvcHRpb25zLnRpY2tNYXJrUmFuZ2VQcm9wZXJ0eSwgb3B0aW9ucy50aWNrTWFya1ZpZXdQcm9wZXJ0eSApO1xyXG5cclxuICAgIHRoaXMuZGVzY3JpcHRpb25Cb3RoSGFuZHNEZXNjcmliZXIgPSBuZXcgQm90aEhhbmRzRGVzY3JpYmVyKFxyXG4gICAgICBvcHRpb25zLnJhdGlvVHVwbGVQcm9wZXJ0eSxcclxuICAgICAgb3B0aW9ucy5lbmFibGVkUmF0aW9UZXJtc1JhbmdlUHJvcGVydHksXHJcbiAgICAgIG9wdGlvbnMucmF0aW9Mb2NrZWRQcm9wZXJ0eSxcclxuICAgICAgb3B0aW9ucy50aWNrTWFya1ZpZXdQcm9wZXJ0eSxcclxuICAgICAgb3B0aW9ucy5pblByb3BvcnRpb25Qcm9wZXJ0eSxcclxuICAgICAgb3B0aW9ucy5yYXRpb0Rlc2NyaWJlcixcclxuICAgICAgdGlja01hcmtEZXNjcmliZXJcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy52b2ljaW5nQm90aEhhbmRzRGVzY3JpYmVyID0gbmV3IEJvdGhIYW5kc0Rlc2NyaWJlcihcclxuICAgICAgb3B0aW9ucy5yYXRpb1R1cGxlUHJvcGVydHksXHJcbiAgICAgIG9wdGlvbnMuZW5hYmxlZFJhdGlvVGVybXNSYW5nZVByb3BlcnR5LFxyXG4gICAgICBvcHRpb25zLnJhdGlvTG9ja2VkUHJvcGVydHksXHJcbiAgICAgIG9wdGlvbnMudGlja01hcmtWaWV3UHJvcGVydHksXHJcbiAgICAgIG9wdGlvbnMuaW5Qcm9wb3J0aW9uUHJvcGVydHksXHJcbiAgICAgIG9wdGlvbnMucmF0aW9EZXNjcmliZXIsXHJcbiAgICAgIHRpY2tNYXJrRGVzY3JpYmVyXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuYW50ZWNlZGVudEludGVyYWN0ZWRXaXRoUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCBmYWxzZSApO1xyXG4gICAgdGhpcy5jb25zZXF1ZW50SW50ZXJhY3RlZFdpdGhQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlICk7XHJcbiAgICB0aGlzLmJvdGhIYW5kc0ZvY3VzZWRQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlICk7XHJcblxyXG4gICAgdGhpcy52aWV3U291bmRzID0gbmV3IFZpZXdTb3VuZHMoIG9wdGlvbnMudGlja01hcmtSYW5nZVByb3BlcnR5LCBvcHRpb25zLnRpY2tNYXJrVmlld1Byb3BlcnR5LCBvcHRpb25zLnBsYXlUaWNrTWFya0J1bXBTb3VuZFByb3BlcnR5ICk7XHJcblxyXG4gICAgTXVsdGlsaW5rLm11bHRpbGluayggW1xyXG4gICAgICB0aGlzLmFudGVjZWRlbnRJbnRlcmFjdGVkV2l0aFByb3BlcnR5LFxyXG4gICAgICB0aGlzLmNvbnNlcXVlbnRJbnRlcmFjdGVkV2l0aFByb3BlcnR5XHJcbiAgICBdLCAoIGFudGVjZWRlbnRJbnRlcmFjdGVkV2l0aCwgY29uc2VxdWVudEludGVyYWN0ZWRXaXRoICkgPT4ge1xyXG4gICAgICBvcHRpb25zLmN1ZUFycm93c1N0YXRlLmJvdGhIYW5kcy5pbnRlcmFjdGVkV2l0aFByb3BlcnR5LnZhbHVlID0gYW50ZWNlZGVudEludGVyYWN0ZWRXaXRoIHx8IGNvbnNlcXVlbnRJbnRlcmFjdGVkV2l0aDtcclxuXHJcbiAgICAgIC8vIElmIGJvdGggaGFuZHMgaGF2ZSBiZWVuIGludGVyYWN0ZWQgd2l0aCwgdGhlbiBubyBuZWVkIGZvciBpbmRpdmlkdWFsIGN1ZXMgZWl0aGVyXHJcbiAgICAgIGlmICggYW50ZWNlZGVudEludGVyYWN0ZWRXaXRoICYmIGNvbnNlcXVlbnRJbnRlcmFjdGVkV2l0aCApIHtcclxuICAgICAgICBvcHRpb25zLmN1ZUFycm93c1N0YXRlLmludGVyYWN0ZWRXaXRoS2V5Ym9hcmRQcm9wZXJ0eS52YWx1ZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICAgIE11bHRpbGluay5tdWx0aWxpbmsoIFtcclxuICAgICAgdGhpcy5hbnRlY2VkZW50SW50ZXJhY3RlZFdpdGhQcm9wZXJ0eSxcclxuICAgICAgdGhpcy5jb25zZXF1ZW50SW50ZXJhY3RlZFdpdGhQcm9wZXJ0eSxcclxuICAgICAgdGhpcy5ib3RoSGFuZHNGb2N1c2VkUHJvcGVydHlcclxuICAgIF0sICggYW50ZWNlZGVudEludGVyYWN0ZWRXaXRoLCBjb25zZXF1ZW50SW50ZXJhY3RlZFdpdGgsIGJvdGhIYW5kc0ZvY3VzZWQgKSA9PiB7XHJcbiAgICAgIG9wdGlvbnMuY3VlQXJyb3dzU3RhdGUuYm90aEhhbmRzLmFudGVjZWRlbnRDdWVEaXNwbGF5ZWRQcm9wZXJ0eS52YWx1ZSA9ICFhbnRlY2VkZW50SW50ZXJhY3RlZFdpdGggJiYgYm90aEhhbmRzRm9jdXNlZDtcclxuICAgICAgb3B0aW9ucy5jdWVBcnJvd3NTdGF0ZS5ib3RoSGFuZHMuY29uc2VxdWVudEN1ZURpc3BsYXllZFByb3BlcnR5LnZhbHVlID0gIWNvbnNlcXVlbnRJbnRlcmFjdGVkV2l0aCAmJiBib3RoSGFuZHNGb2N1c2VkO1xyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGR5bmFtaWNEZXNjcmlwdGlvbiA9IG5ldyBOb2RlKCB7IHRhZ05hbWU6ICdwJyB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBkeW5hbWljRGVzY3JpcHRpb24gKTtcclxuXHJcbiAgICBjb25zdCBpbnRlcmFjdGl2ZU5vZGUgPSBuZXcgVm9pY2luZ05vZGUoIG9wdGlvbnMuaW50ZXJhY3RpdmVOb2RlT3B0aW9ucyApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggaW50ZXJhY3RpdmVOb2RlICk7XHJcblxyXG4gICAgY29uc3QgaGFuZExvY2tlZFN0cmluZ1Byb3BlcnR5ID0gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRMb2NrZWRQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgaGFuZDogUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmJvdGhIYW5kcy5ib3RoSGFuZHNTdHJpbmdQcm9wZXJ0eVxyXG4gICAgfSApO1xyXG5cclxuICAgIG9wdGlvbnMucmF0aW9Mb2NrZWRQcm9wZXJ0eS5saW5rKCBsb2NrZWQgPT4ge1xyXG4gICAgICBjb25zdCBuZXdBY2Nlc3NpYmxlTmFtZVN0cmluZ1Byb3BlcnR5ID0gIWxvY2tlZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuYm90aEhhbmRzLmJvdGhIYW5kc1N0cmluZ1Byb3BlcnR5IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRMb2NrZWRTdHJpbmdQcm9wZXJ0eTtcclxuICAgICAgaW50ZXJhY3RpdmVOb2RlLmFjY2Vzc2libGVOYW1lID0gbmV3QWNjZXNzaWJsZU5hbWVTdHJpbmdQcm9wZXJ0eTtcclxuICAgICAgaW50ZXJhY3RpdmVOb2RlLnZvaWNpbmdOYW1lUmVzcG9uc2UgPSBuZXdBY2Nlc3NpYmxlTmFtZVN0cmluZ1Byb3BlcnR5O1xyXG4gICAgfSApO1xyXG5cclxuXHJcbiAgICAvLyBNYWtlIHN1cmUgdGhhdCBhbnkgY2hpbGRyZW4gaW5zaWRlIHRoZSBib3RoIGhhbmRzIGludGVyYWN0aW9uIChsaWtlIGluZGl2aWR1YWwgaGFuZHMpIGNvbWUgYmVmb3JlIHRoZSBib3RoIGhhbmRzIGludGVyYWN0aW9uIGluIHRoZSBQRE9NLlxyXG4gICAgdGhpcy5wZG9tT3JkZXIgPSBbIGR5bmFtaWNEZXNjcmlwdGlvbiwgLi4uaW50ZXJhY3RpdmVOb2RlLmNoaWxkcmVuLCBudWxsIF07XHJcblxyXG4gICAgaW50ZXJhY3RpdmVOb2RlLnNldFBET01BdHRyaWJ1dGUoICdhcmlhLXJvbGVkZXNjcmlwdGlvbicsIFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmdyYWJEcmFnLm1vdmFibGVTdHJpbmdQcm9wZXJ0eSApO1xyXG5cclxuICAgIGNvbnN0IG9yaWdpbmFsQ29udGV4dFJlc3BvbnNlU3RyaW5nUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHkoICcnICk7XHJcbiAgICBjb25zdCB2b2ljaW5nQ29udGV4dFJlc3BvbnNlUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LnJhdGlvTm9Mb25nZXJMb2NrZWRQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgbm9Mb25nZXJMb2NrZWQ6IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5yYXRpb05vTG9uZ2VyTG9ja2VkU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIG9yaWdpbmFsQ29udGV4dFJlc3BvbnNlOiBvcmlnaW5hbENvbnRleHRSZXNwb25zZVN0cmluZ1Byb3BlcnR5XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5ib3RoSGFuZHNJbnRlcmFjdGlvbkxpc3RlbmVyID0gbmV3IEJvdGhIYW5kc0ludGVyYWN0aW9uTGlzdGVuZXIoIHtcclxuICAgICAgdGFyZ2V0Tm9kZTogaW50ZXJhY3RpdmVOb2RlLFxyXG4gICAgICByYXRpb1R1cGxlUHJvcGVydHk6IG9wdGlvbnMucmF0aW9UdXBsZVByb3BlcnR5LFxyXG4gICAgICBhbnRlY2VkZW50SW50ZXJhY3RlZFdpdGhQcm9wZXJ0eTogdGhpcy5hbnRlY2VkZW50SW50ZXJhY3RlZFdpdGhQcm9wZXJ0eSxcclxuICAgICAgY29uc2VxdWVudEludGVyYWN0ZWRXaXRoUHJvcGVydHk6IHRoaXMuY29uc2VxdWVudEludGVyYWN0ZWRXaXRoUHJvcGVydHksXHJcbiAgICAgIGVuYWJsZWRSYXRpb1Rlcm1zUmFuZ2VQcm9wZXJ0eTogb3B0aW9ucy5lbmFibGVkUmF0aW9UZXJtc1JhbmdlUHJvcGVydHksXHJcbiAgICAgIHRpY2tNYXJrUmFuZ2VQcm9wZXJ0eTogb3B0aW9ucy50aWNrTWFya1JhbmdlUHJvcGVydHksXHJcbiAgICAgIGtleWJvYXJkU3RlcDogb3B0aW9ucy5rZXlib2FyZFN0ZXAsXHJcbiAgICAgIGJvdW5kYXJ5U291bmRDbGlwOiB0aGlzLnZpZXdTb3VuZHMuYm91bmRhcnlTb3VuZENsaXAsXHJcbiAgICAgIHRpY2tNYXJrQnVtcFNvdW5kQ2xpcDogdGhpcy52aWV3U291bmRzLnRpY2tNYXJrQnVtcFNvdW5kQ2xpcCxcclxuICAgICAgcmF0aW9Mb2NrZWRQcm9wZXJ0eTogb3B0aW9ucy5yYXRpb0xvY2tlZFByb3BlcnR5LFxyXG4gICAgICB0YXJnZXRSYXRpb1Byb3BlcnR5OiBvcHRpb25zLnRhcmdldFJhdGlvUHJvcGVydHksXHJcbiAgICAgIGdldElkZWFsVGVybTogb3B0aW9ucy5nZXRJZGVhbFRlcm0sXHJcbiAgICAgIGluUHJvcG9ydGlvblByb3BlcnR5OiBvcHRpb25zLmluUHJvcG9ydGlvblByb3BlcnR5LFxyXG4gICAgICBvbklucHV0OiAoIHJhdGlvSW5wdXRNb2RhbGl0eSwga25vY2tlZE91dE9mTG9jaz8gKSA9PiB7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gRGVzY3JpcHRpb25cclxuICAgICAgICBpZiAoIGtub2NrZWRPdXRPZkxvY2sgKSB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0RGVzY3JpcHRpb25VdHRlcmFuY2UoIHRoaXMucmF0aW9VbmxvY2tlZEZyb21Cb3RoSGFuZHNVdHRlcmFuY2UgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hbGVydEJvdGhIYW5kc0Rlc2NyaXB0aW9uQ29udGV4dFJlc3BvbnNlKCByYXRpb0lucHV0TW9kYWxpdHksIGtub2NrZWRPdXRPZkxvY2sgKTtcclxuICAgICAgICAvLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy9cclxuICAgICAgICAvLyBWb2ljaW5nXHJcbiAgICAgICAgb3JpZ2luYWxDb250ZXh0UmVzcG9uc2VTdHJpbmdQcm9wZXJ0eS52YWx1ZSA9IHRoaXMudm9pY2luZ0JvdGhIYW5kc0Rlc2NyaWJlci5nZXRCb3RoSGFuZHNDb250ZXh0UmVzcG9uc2UoIHJhdGlvSW5wdXRNb2RhbGl0eSApO1xyXG4gICAgICAgIGludGVyYWN0aXZlTm9kZS52b2ljaW5nU3BlYWtGdWxsUmVzcG9uc2UoIHsgLy8ganVzdCBvYmplY3QgYW5kIGNvbnRleHQgcmVzcG9uc2VcclxuICAgICAgICAgIG5hbWVSZXNwb25zZTogbnVsbCxcclxuICAgICAgICAgIGhpbnRSZXNwb25zZTogbnVsbCxcclxuXHJcbiAgICAgICAgICAvLyByYXRpb0lucHV0TW9kYWxpdHkgaXMgbmVlZGVkIGZvciB0aGUgY29udGV4dCByZXNwb25zZSBzbyB3ZSBjYW4ndCBzZXQgdGhhdCB0aHJvdWdoIHZvaWNpbmdDb250ZXh0UmVzcG9uc2VcclxuICAgICAgICAgIGNvbnRleHRSZXNwb25zZToga25vY2tlZE91dE9mTG9jayA/IHZvaWNpbmdDb250ZXh0UmVzcG9uc2VQYXR0ZXJuU3RyaW5nUHJvcGVydHkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENvbnRleHRSZXNwb25zZVN0cmluZ1Byb3BlcnR5XHJcbiAgICAgICAgfSApO1xyXG4gICAgICAgIC8vLy8vLy8vLy8vXHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICBpbnRlcmFjdGl2ZU5vZGUuYWRkSW5wdXRMaXN0ZW5lciggdGhpcy5ib3RoSGFuZHNJbnRlcmFjdGlvbkxpc3RlbmVyICk7XHJcbiAgICBpbnRlcmFjdGl2ZU5vZGUuYWRkSW5wdXRMaXN0ZW5lcigge1xyXG4gICAgICBmb2N1czogKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYWxlcnRCb3RoSGFuZHNPYmplY3RSZXNwb25zZSggdHJ1ZSApO1xyXG4gICAgICAgIHRoaXMudmlld1NvdW5kcy5ncmFiU291bmRDbGlwLnBsYXkoKTtcclxuICAgICAgICB0aGlzLmJvdGhIYW5kc0ZvY3VzZWRQcm9wZXJ0eS52YWx1ZSA9IHRydWU7XHJcbiAgICAgIH0sXHJcbiAgICAgIGJsdXI6ICgpID0+IHtcclxuICAgICAgICB0aGlzLnZpZXdTb3VuZHMucmVsZWFzZVNvdW5kQ2xpcC5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5ib3RoSGFuZHNGb2N1c2VkUHJvcGVydHkudmFsdWUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gVGhpcyBvbmx5IHdvcmtzIGJlY2F1c2UgdGhlIGJvdGhIYW5kc0ludGVyYWN0aW9uTGlzdGVuZXIgbmVlZHMgYWx0LWlucHV0IGNvbnRyb2wgcmVzZXR0aW5nXHJcbiAgICAgICAgdGhpcy5ib3RoSGFuZHNJbnRlcmFjdGlvbkxpc3RlbmVyLnJlc2V0KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGRvd246ICgpID0+IHtcclxuICAgICAgICB0aGlzLmJvdGhIYW5kc0ZvY3VzZWRQcm9wZXJ0eS52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm90aEhhbmRzSW50ZXJhY3Rpb25MaXN0ZW5lci5yZXNldCgpO1xyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5vYmplY3RSZXNwb25zZVV0dGVyYW5jZSA9IG5ldyBVdHRlcmFuY2UoIHtcclxuICAgICAgYWxlcnRTdGFibGVEZWxheTogT0JKRUNUX1JFU1BPTlNFX0RFTEFZLFxyXG4gICAgICBhbm5vdW5jZXJPcHRpb25zOiB7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgXCJvYmplY3QgcmVzcG9uc2VcIiBpcyBtZWFudCB0byBhY3QgbW9yZSBsaWtlIGFyaWEtdmFsdWV0ZXh0IHRoYW4gYSB0cmFkaXRpb25hbCwgcG9saXRlIGFsZXJ0LiBXZSB3YW50XHJcbiAgICAgICAgLy8gdGhpcyB0byBjdXQgb2ZmIGFueSBvdGhlciBhbGVydC4gVGhpcyBmaXhlcyBhbGVydC1idWlsZC11cCBkZXNjcmliZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3JhdGlvLWFuZC1wcm9wb3J0aW9uL2lzc3Vlcy8yMTRcclxuICAgICAgICBhcmlhTGl2ZVByaW9yaXR5OiBBcmlhTGl2ZUFubm91bmNlci5BcmlhTGl2ZS5BU1NFUlRJVkVcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMub2JqZWN0UmVzcG9uc2VPbkZvY3VzVXR0ZXJhbmNlID0gbmV3IFV0dGVyYW5jZSgge1xyXG4gICAgICBhbGVydFN0YWJsZURlbGF5OiA1MFxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuY29udGV4dFJlc3BvbnNlVXR0ZXJhbmNlID0gbmV3IFV0dGVyYW5jZSggeyBhbGVydFN0YWJsZURlbGF5OiAyMDAwIH0gKTtcclxuICAgIHRoaXMucmF0aW9VbmxvY2tlZEZyb21Cb3RoSGFuZHNVdHRlcmFuY2UgPSBuZXcgVXR0ZXJhbmNlKCB7XHJcbiAgICAgIGFsZXJ0OiBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkucmF0aW9Ob0xvbmdlckxvY2tlZFN0cmluZ1Byb3BlcnR5LFxyXG5cclxuICAgICAgLy8gc2xpZ2h0bHkgbG9uZ2VyIHRoYW4gdGhlIG9iamVjdCByZXNwb25zZSBzbyB0aGF0IHdlIG1ha2Ugc3VyZSBpdCBjb21lcyBhZnRlciB0aGF0IGFzc2VydGl2ZSBhbGVydC4gVGhpcyBpc1xyXG4gICAgICAvLyBiZWNhdXNlIHdlIGRvbid0IHdhbnQgaXQgaW50ZXJydXB0ZWQgbGlrZSBpdCB3YXMgb3JpZ2luYWxseSBpbiBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcmF0aW8tYW5kLXByb3BvcnRpb24vaXNzdWVzLzIyNyNpc3N1ZWNvbW1lbnQtNzQwMTczNzM4XHJcbiAgICAgIGFsZXJ0U3RhYmxlRGVsYXk6IE9CSkVDVF9SRVNQT05TRV9ERUxBWSArIDEwXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5faXNCZWluZ0ludGVyYWN0ZWRXaXRoUHJvcGVydHkgPSB0aGlzLmJvdGhIYW5kc0ludGVyYWN0aW9uTGlzdGVuZXIuaXNCZWluZ0ludGVyYWN0ZWRXaXRoUHJvcGVydHk7XHJcbiAgICB0aGlzLmlzQmVpbmdJbnRlcmFjdGVkV2l0aFByb3BlcnR5ID0gdGhpcy5faXNCZWluZ0ludGVyYWN0ZWRXaXRoUHJvcGVydHk7XHJcblxyXG4gICAgLy8gVGhvdWdoIG1vc3QgY2FzZXMgYXJlIGNvdmVyZWQgYnkganVzdCBsaXN0ZW5pbmcgdG8gZml0bmVzcywgdGhlcmUgYXJlIGNlcnRhaW4gY2FzZXMgd2hlbiBQcm9wZXJ0eSB2YWx1ZXMgY2FuIGNoYW5nZSxcclxuICAgIC8vIGJ1dCB0aGUgZml0bmVzcyBkb2Vzbid0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3JhdGlvLWFuZC1wcm9wb3J0aW9uL2lzc3Vlcy8yMjIgYXMgYW4gZXhhbXBsZS5cclxuICAgIE11bHRpbGluay5tdWx0aWxpbmsoIFtcclxuICAgICAgb3B0aW9ucy50aWNrTWFya1ZpZXdQcm9wZXJ0eSxcclxuICAgICAgb3B0aW9ucy50aWNrTWFya1JhbmdlUHJvcGVydHksXHJcbiAgICAgIG9wdGlvbnMucmF0aW9UdXBsZVByb3BlcnR5LFxyXG4gICAgICBvcHRpb25zLnVuY2xhbXBlZEZpdG5lc3NQcm9wZXJ0eVxyXG4gICAgXSwgKCkgPT4ge1xyXG5cclxuICAgICAgZHluYW1pY0Rlc2NyaXB0aW9uLmlubmVyQ29udGVudCA9IHRoaXMuZGVzY3JpcHRpb25Cb3RoSGFuZHNEZXNjcmliZXIuZ2V0Qm90aEhhbmRzRHluYW1pY0Rlc2NyaXB0aW9uKCk7XHJcblxyXG4gICAgICBpZiAoIHRoaXMuYm90aEhhbmRzSW50ZXJhY3Rpb25MaXN0ZW5lci5pc0JlaW5nSW50ZXJhY3RlZFdpdGhQcm9wZXJ0eS52YWx1ZSApIHtcclxuICAgICAgICB0aGlzLmFsZXJ0Qm90aEhhbmRzT2JqZWN0UmVzcG9uc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGVtaXQgdGhpcyB1dHRlcmFuY2UgaW1tZWRpYXRlbHksIHNvIHRoYXQgaXQgY29tZXMgYmVmb3JlIHRoZSBvYmplY3QgcmVzcG9uc2UgYWJvdmUuXHJcbiAgICB0aGlzLmJvdGhIYW5kc0ludGVyYWN0aW9uTGlzdGVuZXIuanVtcFRvWmVyb1doaWxlTG9ja2VkRW1pdHRlci5hZGRMaXN0ZW5lciggKCkgPT4ge1xyXG5cclxuICAgICAgY29uc3QgY2Fubm90SnVtcFRvWmVyb1doZW5Mb2NrZWRQcm9wZXJ0eSA9IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5ib3RoSGFuZHMuY2Fubm90SnVtcFRvWmVyb1doZW5Mb2NrZWRTdHJpbmdQcm9wZXJ0eTtcclxuICAgICAgdGhpcy5hbGVydERlc2NyaXB0aW9uVXR0ZXJhbmNlKCBjYW5ub3RKdW1wVG9aZXJvV2hlbkxvY2tlZFByb3BlcnR5LnZhbHVlICk7XHJcbiAgICAgIHRoaXMuY29udGV4dFJlc3BvbnNlVXR0ZXJhbmNlLmFsZXJ0ID0gdGhpcy5kZXNjcmlwdGlvbkJvdGhIYW5kc0Rlc2NyaWJlci5nZXRCb3RoSGFuZHNPYmplY3RSZXNwb25zZSgpO1xyXG5cclxuICAgICAgdGhpcy5hbGVydERlc2NyaXB0aW9uVXR0ZXJhbmNlKCB0aGlzLmNvbnRleHRSZXNwb25zZVV0dGVyYW5jZSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMubXV0YXRlKCBvcHRpb25zICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVzZXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmRlc2NyaXB0aW9uQm90aEhhbmRzRGVzY3JpYmVyLnJlc2V0KCk7XHJcbiAgICB0aGlzLnZvaWNpbmdCb3RoSGFuZHNEZXNjcmliZXIucmVzZXQoKTtcclxuICAgIHRoaXMuYW50ZWNlZGVudEludGVyYWN0ZWRXaXRoUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMuY29uc2VxdWVudEludGVyYWN0ZWRXaXRoUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMuYm90aEhhbmRzRm9jdXNlZFByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLmJvdGhIYW5kc0ludGVyYWN0aW9uTGlzdGVuZXIucmVzZXQoKTtcclxuICAgIHRoaXMub2JqZWN0UmVzcG9uc2VVdHRlcmFuY2UucmVzZXQoKTtcclxuICAgIHRoaXMuY29udGV4dFJlc3BvbnNlVXR0ZXJhbmNlLnJlc2V0KCk7XHJcbiAgICB0aGlzLnJhdGlvVW5sb2NrZWRGcm9tQm90aEhhbmRzVXR0ZXJhbmNlLnJlc2V0KCk7XHJcbiAgICB0aGlzLnZpZXdTb3VuZHMucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWxlcnRCb3RoSGFuZHNPYmplY3RSZXNwb25zZSggb25Gb2N1cyA9IGZhbHNlICk6IHZvaWQge1xyXG4gICAgY29uc3QgdXR0ZXJhbmNlID0gb25Gb2N1cyA/IHRoaXMub2JqZWN0UmVzcG9uc2VPbkZvY3VzVXR0ZXJhbmNlIDogdGhpcy5vYmplY3RSZXNwb25zZVV0dGVyYW5jZTtcclxuICAgIHV0dGVyYW5jZS5hbGVydCA9IHRoaXMuZGVzY3JpcHRpb25Cb3RoSGFuZHNEZXNjcmliZXIuZ2V0Qm90aEhhbmRzT2JqZWN0UmVzcG9uc2UoKTtcclxuXHJcbiAgICB0aGlzLmFsZXJ0RGVzY3JpcHRpb25VdHRlcmFuY2UoIHV0dGVyYW5jZSApO1xyXG4gIH1cclxuXHJcbiAgLy8gSnVzdCBmb3IgZGVzY3JpcHRpb24sIG5vdCB2b2ljaW5nXHJcbiAgcHJpdmF0ZSBhbGVydEJvdGhIYW5kc0Rlc2NyaXB0aW9uQ29udGV4dFJlc3BvbnNlKCByYXRpb0lucHV0TW9kYWxpdHk6IFJhdGlvSW5wdXRNb2RhbGl0eSwga25vY2tlZE91dE9mTG9jaz86IGJvb2xlYW4gKTogdm9pZCB7XHJcbiAgICBpZiAoIGtub2NrZWRPdXRPZkxvY2sgKSB7XHJcbiAgICAgIHRoaXMuY29udGV4dFJlc3BvbnNlVXR0ZXJhbmNlLmFsZXJ0ID0gdGhpcy5kZXNjcmlwdGlvbkJvdGhIYW5kc0Rlc2NyaWJlci5nZXRCb3RoSGFuZHNPYmplY3RSZXNwb25zZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuY29udGV4dFJlc3BvbnNlVXR0ZXJhbmNlLmFsZXJ0ID0gdGhpcy5kZXNjcmlwdGlvbkJvdGhIYW5kc0Rlc2NyaWJlci5nZXRCb3RoSGFuZHNDb250ZXh0UmVzcG9uc2UoIHJhdGlvSW5wdXRNb2RhbGl0eSApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYWxlcnREZXNjcmlwdGlvblV0dGVyYW5jZSggdGhpcy5jb250ZXh0UmVzcG9uc2VVdHRlcmFuY2UgKTtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFZvaWNpbmdOb2RlIGV4dGVuZHMgVm9pY2luZyggTm9kZSApIHt9XHJcblxyXG5yYXRpb0FuZFByb3BvcnRpb24ucmVnaXN0ZXIoICdCb3RoSGFuZHNQRE9NTm9kZScsIEJvdGhIYW5kc1BET01Ob2RlICk7XHJcbmV4cG9ydCB0eXBlIHsgQm90aEhhbmRzUERPTU5vZGVPcHRpb25zIH07XHJcbmV4cG9ydCBkZWZhdWx0IEJvdGhIYW5kc1BET01Ob2RlOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsT0FBT0MscUJBQXFCLE1BQU0sOENBQThDO0FBR2hGLE9BQU9DLFNBQVMsTUFBTSx1Q0FBdUM7QUFDN0QsT0FBT0Msa0JBQWtCLE1BQU0sbURBQW1EO0FBQ2xGLFNBQVNDLElBQUksRUFBZUMsV0FBVyxFQUF1Q0MsT0FBTyxRQUF3QixtQ0FBbUM7QUFDaEosT0FBT0MsaUJBQWlCLE1BQU0scURBQXFEO0FBQ25GLE9BQU9DLFNBQVMsTUFBTSw2Q0FBNkM7QUFDbkUsT0FBT0Msa0JBQWtCLE1BQU0sNkJBQTZCO0FBQzVELE9BQU9DLHlCQUF5QixNQUFN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