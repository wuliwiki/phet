// Copyright 2022, University of Colorado Boulder

/**
 * Convenience function to update a historical list of values with a new value, and then determine the smoothed value
 * given the updated list.
 *
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

import ratioAndProportion from '../../ratioAndProportion.js';

/**
 * Smooth a value given historical data and a new value. Also ensures that the history doesn't get too long.
 */
export default function handleSmoothValue(newValue, historyArray, maxSizeOfArray, smoothValues) {
  historyArray.push(newValue);
  while (historyArray.length > maxSizeOfArray) {
    historyArray.shift();
  }
  return smoothValues(historyArray);
}
ratioAndProportion.register('handleSmoothValue', handleSmoothValue);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyYXRpb0FuZFByb3BvcnRpb24iLCJoYW5kbGVTbW9vdGhWYWx1ZSIsIm5ld1ZhbHVlIiwiaGlzdG9yeUFycmF5IiwibWF4U2l6ZU9mQXJyYXkiLCJzbW9vdGhWYWx1ZXMiLCJwdXNoIiwibGVuZ3RoIiwic2hpZnQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbImhhbmRsZVNtb290aFZhbHVlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byB1cGRhdGUgYSBoaXN0b3JpY2FsIGxpc3Qgb2YgdmFsdWVzIHdpdGggYSBuZXcgdmFsdWUsIGFuZCB0aGVuIGRldGVybWluZSB0aGUgc21vb3RoZWQgdmFsdWVcclxuICogZ2l2ZW4gdGhlIHVwZGF0ZWQgbGlzdC5cclxuICpcclxuICogQGF1dGhvciBNaWNoYWVsIEthdXptYW5uIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCByYXRpb0FuZFByb3BvcnRpb24gZnJvbSAnLi4vLi4vcmF0aW9BbmRQcm9wb3J0aW9uLmpzJztcclxuXHJcbi8qKlxyXG4gKiBTbW9vdGggYSB2YWx1ZSBnaXZlbiBoaXN0b3JpY2FsIGRhdGEgYW5kIGEgbmV3IHZhbHVlLiBBbHNvIGVuc3VyZXMgdGhhdCB0aGUgaGlzdG9yeSBkb2Vzbid0IGdldCB0b28gbG9uZy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVNtb290aFZhbHVlPFQ+KCBuZXdWYWx1ZTogVCwgaGlzdG9yeUFycmF5OiBUW10sIG1heFNpemVPZkFycmF5OiBudW1iZXIsIHNtb290aFZhbHVlczogKCBoaXN0b3J5QXJyYXk6IFRbXSApID0+IFQgKTogVCB7XHJcblxyXG4gIGhpc3RvcnlBcnJheS5wdXNoKCBuZXdWYWx1ZSApO1xyXG4gIHdoaWxlICggaGlzdG9yeUFycmF5Lmxlbmd0aCA+IG1heFNpemVPZkFycmF5ICkge1xyXG4gICAgaGlzdG9yeUFycmF5LnNoaWZ0KCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc21vb3RoVmFsdWVzKCBoaXN0b3J5QXJyYXkgKTtcclxufVxyXG5cclxucmF0aW9BbmRQcm9wb3J0aW9uLnJlZ2lzdGVyKCAnaGFuZGxlU21vb3RoVmFsdWUnLCBoYW5kbGVTbW9vdGhWYWx1ZSApO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxrQkFBa0IsTUFBTSw2QkFBNkI7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBU0MsaUJBQWlCQSxDQUFLQyxRQUFXLEVBQUVDLFlBQWlCLEVBQUVDLGNBQXNCLEVBQUVDLFlBQXdDLEVBQU07RUFFbEpGLFlBQVksQ0FBQ0csSUFBSSxDQUFFSixRQUFTLENBQUM7RUFDN0IsT0FBUUMsWUFBWSxDQUFDSSxNQUFNLEdBQUdILGNBQWMsRUFBRztJQUM3Q0QsWUFBWSxDQUFDSyxLQUFLLENBQUMsQ0FBQztFQUN0QjtFQUVBLE9BQU9ILFlBQVksQ0FBRUYsWUFBYSxDQUFDO0FBQ3JDO0FBRUFILGtCQUFrQixDQUFDUyxRQUFRLENBQUUsbUJBQW1CLEVBQUVSLGlCQUFrQixDQUFDIn0=