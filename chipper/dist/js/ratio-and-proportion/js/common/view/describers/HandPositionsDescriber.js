// Copyright 2020-2022, University of Colorado Boulder

/**
 * Description for the positions of each hand, as well as their positional relationship like the distance between each
 * hand, and if they have gotten closer to or farther from each other ("distance progress").
 *
 * In general, responses are split into implementaiton based on the DistanceResponseType. Whether it be distance
 * region (qualitative regions), distance progress (closer/farther), or a combo algorithm to default to distance region,
 * but you distance progress to prevent repeating the same region many times.
 *
 * `getSingleHandContextResponse` and `getBothHandsDistance` use a similar algorithm to accomplish these variations, but
 * could not be factored out completely due to natural language requirements.
 *
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

import StringUtils from '../../../../../phetcommon/js/util/StringUtils.js';
import ratioAndProportion from '../../../ratioAndProportion.js';
import RatioAndProportionStrings from '../../../RatioAndProportionStrings.js';
import RatioTerm from '../../model/RatioTerm.js';
import rapConstants from '../../rapConstants.js';
import TickMarkView from '../TickMarkView.js';
import DistanceResponseType from './DistanceResponseType.js';
import optionize from '../../../../../phet-core/js/optionize.js';
import RatioInputModality from './RatioInputModality.js';

// TODO: Dynamic string support when time, https://github.com/phetsims/ratio-and-proportion/issues/499
const DISTANCE_REGIONS_CAPITALIZED = [RatioAndProportionStrings.a11y.handPosition.distance.capitalized.farthestFromStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.capitalized.extremelyFarFromStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.capitalized.veryFarFromStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.capitalized.farFromStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.capitalized.notSoCloseToStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.capitalized.somewhatCloseToStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.capitalized.veryCloseToStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.capitalized.extremelyCloseToStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.capitalized.almostEvenWithStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.capitalized.evenWithStringProperty.value];
const DISTANCE_REGIONS_LOWERCASE = [RatioAndProportionStrings.a11y.handPosition.distance.lowercase.farthestFromStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.lowercase.extremelyFarFromStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.lowercase.veryFarFromStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.lowercase.farFromStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.lowercase.notSoCloseToStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.lowercase.somewhatCloseToStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.lowercase.veryCloseToStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.lowercase.extremelyCloseToStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.lowercase.almostEvenWithStringProperty.value, RatioAndProportionStrings.a11y.handPosition.distance.lowercase.evenWithStringProperty.value];
assert && assert(DISTANCE_REGIONS_CAPITALIZED.length === DISTANCE_REGIONS_LOWERCASE.length, 'should be the same regions');
const TOTAL_RANGE = rapConstants.TOTAL_RATIO_TERM_VALUE_RANGE;

// Empirically determined to fix edge case described in https://github.com/phetsims/ratio-and-proportion/issues/437
const aroundMiddleRegionWidth = 0.0025;
class PositionRegionsData {
  constructor(lowerBound, inRegionPredicate, region) {
    this.lowerBound = lowerBound;
    this.inRegionPredicate = inRegionPredicate;
    this.region = region.value;
  }
  positionInRegion(position) {
    return this.inRegionPredicate(position, this.lowerBound);
  }
}

// Order matters! The first predicate must be run before the second for each to work correctly at identifying their
// own region. This is because each PositionRegionsData works based solely on a lowerBound.
const POSITION_REGIONS_DATA = [new PositionRegionsData(1, (position, lowerBound) => position === lowerBound, RatioAndProportionStrings.a11y.handPosition.atTopStringProperty), new PositionRegionsData(0.9, (position, lowerBound) => position >= lowerBound, RatioAndProportionStrings.a11y.handPosition.nearTopStringProperty), new PositionRegionsData(0.65, (position, lowerBound) => position > lowerBound, RatioAndProportionStrings.a11y.handPosition.inUpperRegionStringProperty), new PositionRegionsData(0.5 + aroundMiddleRegionWidth, (position, lowerBound) => position > lowerBound, RatioAndProportionStrings.a11y.handPosition.inUpperMiddleRegionStringProperty), new PositionRegionsData(0.5, (position, lowerBound) => position > lowerBound, RatioAndProportionStrings.a11y.handPosition.aroundMiddleStringProperty), new PositionRegionsData(0.5, (position, lowerBound) => position === lowerBound, RatioAndProportionStrings.a11y.handPosition.atMiddleStringProperty), new PositionRegionsData(0.5 - aroundMiddleRegionWidth, (position, lowerBound) => position >= lowerBound, RatioAndProportionStrings.a11y.handPosition.aroundMiddleStringProperty), new PositionRegionsData(0.35, (position, lowerBound) => position >= lowerBound, RatioAndProportionStrings.a11y.handPosition.inLowerMiddleRegionStringProperty), new PositionRegionsData(0.1, (position, lowerBound) => position > lowerBound, RatioAndProportionStrings.a11y.handPosition.inLowerRegionStringProperty), new PositionRegionsData(0, (position, lowerBound) => position > lowerBound, RatioAndProportionStrings.a11y.handPosition.nearBottomStringProperty), new PositionRegionsData(0, (position, lowerBound) => position === lowerBound, RatioAndProportionStrings.a11y.handPosition.atBottomStringProperty)];
class HandPositionsDescriber {
  // keep track of previous distance regions to track repetition, and alter description accordingly. This
  // is used for any modality getting a distance region in a context response.
  static POSITION_REGIONS_DATA = POSITION_REGIONS_DATA;
  constructor(ratioTupleProperty, tickMarkDescriber, inProportionProperty, enabledRatioTermsRangeProperty, ratioLockedProperty) {
    this.ratioTupleProperty = ratioTupleProperty;
    this.ratioLockedProperty = ratioLockedProperty;
    this.tickMarkDescriber = tickMarkDescriber;
    this.inProportionProperty = inProportionProperty;
    this.enabledRatioTermsRangeProperty = enabledRatioTermsRangeProperty;
    this.previousDistanceRegionSingle = null;
    this.previousDistanceRegionBoth = null;
    this.previousDistance = ratioTupleProperty.value.getDistance();
    this.previousEdgeCheckTuple = ratioTupleProperty.value;
  }

  /**
   * only ends with "of Play Area" if qualitative
   */
  getHandPositionDescription(position, tickMarkView) {
    return TickMarkView.describeQualitative(tickMarkView) ? HandPositionsDescriber.getQualitativePosition(position) : this.getQuantitativeHandPosition(position, TickMarkView.describeSemiQualitative(tickMarkView));
  }
  getQuantitativeHandPosition(handPosition, semiQuantitative = false) {
    const tickMarkData = this.tickMarkDescriber.getRelativePositionAndTickMarkNumberForPosition(handPosition);

    // semi quantitative description uses ordinal numbers instead of full numbers.
    if (semiQuantitative && typeof tickMarkData.ordinalPosition === 'string') {
      // TODO: PatternStringProperty when time, https://github.com/phetsims/ratio-and-proportion/issues/499
      return StringUtils.fillIn(RatioAndProportionStrings.a11y.tickMark.semiQuantitativeHandPositionPatternStringProperty, {
        relativePosition: tickMarkData.relativePosition,
        ordinal: tickMarkData.ordinalPosition
      });
    }

    // TODO: PatternStringProperty when time, https://github.com/phetsims/ratio-and-proportion/issues/499
    return StringUtils.fillIn(RatioAndProportionStrings.a11y.tickMark.quantitativeHandPositionPatternStringProperty, {
      relativePosition: tickMarkData.relativePosition,
      tickMarkPosition: tickMarkData.tickMarkPosition
    });
  }
  static getQualitativePosition(position) {
    assert && assert(TOTAL_RANGE.contains(position), 'position expected to be in position range');
    const normalizedPosition = TOTAL_RANGE.getNormalizedValue(position);
    let region = null;
    for (let i = 0; i < POSITION_REGIONS_DATA.length; i++) {
      const positionRegionDatum = POSITION_REGIONS_DATA[i];
      if (positionRegionDatum.positionInRegion(normalizedPosition)) {
        region = positionRegionDatum.region;
        break;
      }
    }
    assert && assert(region !== null, 'should have been in one of these regions');
    return region;
  }

  /**
   * NOTE: These values are copied over in RAPPositionRegionsLayer, consult that Node before changing these values.
   */
  getDistanceRegion(lowercase, distance = this.ratioTupleProperty.value.getDistance()) {
    assert && assert(TOTAL_RANGE.getLength() === 1, 'these hard coded values depend on a range of 1');
    let index = null;
    if (distance === TOTAL_RANGE.getLength()) {
      index = 0;
    } else if (distance >= 0.85) {
      index = 1;
    } else if (distance >= 0.7) {
      index = 2;
    } else if (distance >= 0.55) {
      index = 3;
    } else if (distance >= 0.4) {
      index = 4;
    } else if (distance >= 0.3) {
      index = 5;
    } else if (distance >= 0.2) {
      index = 6;
    } else if (distance >= 0.1) {
      index = 7;
    } else if (distance > 0) {
      index = 8;
    } else if (distance === 0) {
      index = 9;
    }
    assert && assert(index !== null, `index is still null, perhaps because distance is ${distance}`);
    index = index;
    assert && assert(index < DISTANCE_REGIONS_CAPITALIZED.length, 'out of range');
    return (lowercase ? DISTANCE_REGIONS_LOWERCASE : DISTANCE_REGIONS_CAPITALIZED)[index];
  }
  getSingleHandContextResponse(ratioTerm, tickMarkView, providedOptions) {
    const options = optionize()({
      supportGoBeyondEdgeResponses: true,
      // By default, let the describer decide if we should have distance progress or region
      distanceResponseType: DistanceResponseType.COMBO
    }, providedOptions);
    if (options.supportGoBeyondEdgeResponses) {
      const ratioLockedEdgeResponse = this.getGoBeyondContextResponse(this.ratioTupleProperty.value, ratioTerm);
      if (ratioLockedEdgeResponse) {
        return ratioLockedEdgeResponse;
      }
    }
    let distanceClause = null;
    switch (options.distanceResponseType) {
      case DistanceResponseType.COMBO:
        distanceClause = this.getSingleHandComboDistance(ratioTerm);
        break;
      case DistanceResponseType.DISTANCE_PROGRESS:
        distanceClause = this.getSingleHandDistanceProgressClause();
        break;
      case DistanceResponseType.DISTANCE_REGION:
        distanceClause = this.getDistanceRegion(false);
        break;
      default:
        assert && assert(false, 'This is not how enums work');
    }
    assert && assert(distanceClause, 'Should be filled in by now');
    const otherHandStringProperty = ratioTerm === RatioTerm.CONSEQUENT ? RatioAndProportionStrings.a11y.leftHandLowerStringProperty : RatioAndProportionStrings.a11y.rightHandLowerStringProperty;

    // TODO: PatternStringProperty when time, https://github.com/phetsims/ratio-and-proportion/issues/499
    const distanceResponse = StringUtils.fillIn(RatioAndProportionStrings.a11y.handPosition.distanceOrDistanceProgressClauseStringProperty, {
      otherHand: otherHandStringProperty,
      distanceOrDistanceProgress: distanceClause
    });

    // TODO: PatternStringProperty when time, https://github.com/phetsims/ratio-and-proportion/issues/499
    return StringUtils.fillIn(RatioAndProportionStrings.a11y.ratio.distancePositionContextResponseStringProperty, {
      distance: distanceResponse,
      position: this.getHandPositionDescription(this.ratioTupleProperty.value.getForTerm(ratioTerm), tickMarkView)
    });
  }

  /**
   * NOTE: if in-proportion, this will still return the distance region
   */
  getSingleHandDistanceProgressClause() {
    // Fall back to distance region if there is no distance progress to deliver
    return this.getDistanceProgressString() || this.getDistanceRegion(false);
  }

  /**
   * This "combo" approach will conditionally provide distance-progress to make sure repetition is not heard within
   * distance regions.
   */
  getSingleHandComboDistance(ratioTerm) {
    const distanceRegion = this.getDistanceRegion(false);
    if (distanceRegion === this.previousDistanceRegionSingle) {
      const distanceProgressPhrase = this.getDistanceProgressString();
      const currentValue = this.ratioTupleProperty.value.getForTerm(ratioTerm);
      const handAtMinMax = TOTAL_RANGE.min === currentValue || TOTAL_RANGE.max === currentValue;

      // No distanceProgressPhrase means they are equal, don't give closer/farther at range extremities.
      if (distanceProgressPhrase && !handAtMinMax) {
        // Count closer/farther as a previous so that we don't ever get two of them at the same time
        this.previousDistanceRegionSingle = distanceProgressPhrase;
        return distanceProgressPhrase;
      }
    }
    this.previousDistanceRegionSingle = distanceRegion;
    return distanceRegion;
  }
  getBothHandsDistance(capitalized, providedOptions) {
    const options = optionize()({
      // By default, let the describer decide if we should have distance progress or region
      distanceResponseType: DistanceResponseType.COMBO
    }, providedOptions);
    switch (options.distanceResponseType) {
      case DistanceResponseType.COMBO:
        return this.getBothHandsComboDistance(capitalized);
      case DistanceResponseType.DISTANCE_PROGRESS:
        return this.getBothHandsDistanceProgress(capitalized);
      case DistanceResponseType.DISTANCE_REGION:
        return this.getBothHandsDistanceRegion(capitalized);
      default:
        assert && assert(false, 'This is not how enums work');
    }
    assert && assert(false, 'We should always have a distance case above');
    return 'A serious logic error occurred';
  }
  getBothHandsDistanceProgress(capitalized) {
    const distanceProgressPhrase = this.getDistanceProgressString({
      inProportionOverridesDistanceProgress: false,
      closerString: RatioAndProportionStrings.a11y.handPosition.closerTogetherStringProperty.value,
      fartherString: RatioAndProportionStrings.a11y.handPosition.fartherApartStringProperty.value
    });
    if (distanceProgressPhrase) {
      // TODO: PatternStringProperty when time, https://github.com/phetsims/ratio-and-proportion/issues/499
      return StringUtils.fillIn(RatioAndProportionStrings.a11y.bothHands.handsDistanceProgressPatternStringProperty, {
        distanceProgress: distanceProgressPhrase
      });
    }
    return this.getBothHandsDistanceRegion(capitalized);
  }
  getBothHandsDistanceRegion(capitalized) {
    const distanceRegion = this.getDistanceRegion(true);
    const pattern = capitalized ? RatioAndProportionStrings.a11y.bothHands.handsDistancePatternCapitalizedStringProperty.value : RatioAndProportionStrings.a11y.bothHands.handsDistancePatternStringProperty.value;

    // TODO: PatternStringProperty when time, https://github.com/phetsims/ratio-and-proportion/issues/499
    return StringUtils.fillIn(pattern, {
      distance: distanceRegion
    });
  }
  getBothHandsComboDistance(capitalized = false) {
    const distanceRegion = this.getDistanceRegion(true);
    if (distanceRegion === this.previousDistanceRegionBoth) {
      assert && assert(capitalized, 'overriding with distance-progress not supported for capitalized strings');
      const distanceProgressPhrase = this.getDistanceProgressString({
        inProportionOverridesDistanceProgress: false,
        closerString: RatioAndProportionStrings.a11y.handPosition.closerTogetherStringProperty.value,
        fartherString: RatioAndProportionStrings.a11y.handPosition.fartherApartStringProperty.value
      });
      if (distanceProgressPhrase) {
        // TODO: PatternStringProperty when time, https://github.com/phetsims/ratio-and-proportion/issues/499
        const distanceProgressDescription = StringUtils.fillIn(RatioAndProportionStrings.a11y.bothHands.handsDistanceProgressPatternStringProperty, {
          distanceProgress: distanceProgressPhrase
        });

        // Count closer/farther as a previous so that we don't ever get two of them at the same time
        this.previousDistanceRegionBoth = distanceProgressDescription;
        return distanceProgressDescription;
      }
    }
    this.previousDistanceRegionBoth = distanceRegion;
    return this.getBothHandsDistanceRegion(capitalized);
  }
  getDistanceProgressString(providedOptions) {
    const options = optionize()({
      inProportionOverridesDistanceProgress: true,
      closerString: RatioAndProportionStrings.a11y.handPosition.closerToStringProperty.value,
      fartherString: RatioAndProportionStrings.a11y.handPosition.fartherFromStringProperty.value
    }, providedOptions);

    // No distance progress if in proportion
    if (options.inProportionOverridesDistanceProgress && this.inProportionProperty.value) {
      return null;
    }
    const currentDistance = this.ratioTupleProperty.value.getDistance();
    let distanceProgressString = null;
    if (currentDistance < this.previousDistance) {
      distanceProgressString = options.closerString;
    } else if (currentDistance > this.previousDistance) {
      distanceProgressString = options.fartherString;
    } else {
      return null; // somehow positions are equal, same case as in proportion
    }

    this.previousDistance = currentDistance;
    return distanceProgressString;
  }

  /**
   * Create a response trigger when at an edge, and you try to move beyond it. This takes into consideration, what the
   * previous ratio value was, the current value, and what modality was most recently used. If just moving the antecedent
   * or consequent, then the response is simpler about what hand moved, but we need to hand the "both hands moved at the
   * same time" case as well.
   *
   * @param currentTuple
   * @param mostRecentlyMoved - By specifying the RatioTerm last moved, handle the case where both terms are at the edge
   * but only the changed one should reflect in the response. "Moved" is a misnomer because if at edge and trying to
   * "go beyond", the position won't change value.
   *
   * @returns - null if there is no go-beyond-edge response
   */
  getGoBeyondContextResponse(currentTuple, mostRecentlyMoved) {
    // If ratio is locked, then respond as BOTH_HANDS (meaning moving either hand will trigger the edge response for
    // the hand at the edge).
    mostRecentlyMoved = this.ratioLockedProperty.value ? RatioInputModality.BOTH_HANDS : mostRecentlyMoved;
    const enabledRange = this.enabledRatioTermsRangeProperty.value;
    const previousAntecedentAtMin = this.previousEdgeCheckTuple.antecedent === enabledRange.min;
    const previousAntecedentAtMax = this.previousEdgeCheckTuple.antecedent === enabledRange.max;
    const previousConsequentAtMin = this.previousEdgeCheckTuple.consequent === enabledRange.min;
    const previousConsequentAtMax = this.previousEdgeCheckTuple.consequent === enabledRange.max;

    // If moved both terms, and either were previously at an extremity
    const movedEitherFromBothHandsAndPreviousAtEdge = mostRecentlyMoved === RatioInputModality.BOTH_HANDS && (previousAntecedentAtMin || previousAntecedentAtMax || previousConsequentAtMin || previousConsequentAtMax);

    // If moved the antecedent, and it was previously at an extremity.
    const movedAntecedentAndPreviousAtEdge = mostRecentlyMoved === RatioInputModality.ANTECEDENT && (previousAntecedentAtMin || previousAntecedentAtMax);

    // If moved the consequen, and it was previously at an extremity.
    const movedConsequentAndPreviousAtEdge = mostRecentlyMoved === RatioInputModality.CONSEQUENT && (previousConsequentAtMin || previousConsequentAtMax);

    // No previous value was at an extremity when moving that modality.
    if (!(movedEitherFromBothHandsAndPreviousAtEdge || movedAntecedentAndPreviousAtEdge || movedConsequentAndPreviousAtEdge)) {
      this.previousEdgeCheckTuple = currentTuple;
      return null;
    }
    let handAtEdge = null; // what hand?
    let extremityPosition = null; // where are we now?
    let direction = null; // where to go from here?

    // If we should look at the term as a possible "go beyond edge" case.
    const antecedentPossibleBeyond = movedAntecedentAndPreviousAtEdge || movedEitherFromBothHandsAndPreviousAtEdge;
    const consequentPossibleBeyond = movedConsequentAndPreviousAtEdge || movedEitherFromBothHandsAndPreviousAtEdge;
    if (antecedentPossibleBeyond && previousAntecedentAtMin && this.ratioTupleProperty.value.antecedent === enabledRange.min) {
      handAtEdge = RatioAndProportionStrings.a11y.leftHandStringProperty.value;
      extremityPosition = enabledRange.min === rapConstants.TOTAL_RATIO_TERM_VALUE_RANGE.min ? RatioAndProportionStrings.a11y.handPosition.atBottomStringProperty.value : RatioAndProportionStrings.a11y.handPosition.nearBottomStringProperty.value;
      direction = RatioAndProportionStrings.a11y.upStringProperty.value;
    } else if (antecedentPossibleBeyond && previousAntecedentAtMax && this.ratioTupleProperty.value.antecedent === enabledRange.max) {
      handAtEdge = RatioAndProportionStrings.a11y.leftHandStringProperty.value;
      extremityPosition = RatioAndProportionStrings.a11y.handPosition.atTopStringProperty.value;
      direction = RatioAndProportionStrings.a11y.downStringProperty.value;
    } else if (consequentPossibleBeyond && previousConsequentAtMin && this.ratioTupleProperty.value.consequent === enabledRange.min) {
      handAtEdge = RatioAndProportionStrings.a11y.rightHandStringProperty.value;
      extremityPosition = enabledRange.min === rapConstants.TOTAL_RATIO_TERM_VALUE_RANGE.min ? RatioAndProportionStrings.a11y.handPosition.atBottomStringProperty.value : RatioAndProportionStrings.a11y.handPosition.nearBottomStringProperty.value;
      direction = RatioAndProportionStrings.a11y.upStringProperty;
    } else if (consequentPossibleBeyond && previousConsequentAtMax && this.ratioTupleProperty.value.consequent === enabledRange.max) {
      handAtEdge = RatioAndProportionStrings.a11y.rightHandStringProperty.value;
      extremityPosition = RatioAndProportionStrings.a11y.handPosition.atTopStringProperty.value;
      direction = RatioAndProportionStrings.a11y.downStringProperty.value;
    }
    this.previousEdgeCheckTuple = currentTuple;

    // Detect if we are at the edge of the range
    if (handAtEdge && extremityPosition && direction) {
      // if hands move together, then the response will reflect both hands in the same direction
      const handsMoveTogether = this.ratioLockedProperty.value;

      // Basically the difference between "Move hands" and "Move hand"
      const patternStringProperty = handsMoveTogether ? RatioAndProportionStrings.a11y.ratio.bothHandsGoBeyondEdgeContextResponseStringProperty : RatioAndProportionStrings.a11y.ratio.singleHandGoBeyondEdgeContextResponseStringProperty;

      // TODO: PatternStringProperty when time, https://github.com/phetsims/ratio-and-proportion/issues/499
      return StringUtils.fillIn(patternStringProperty, {
        position: extremityPosition,
        hand: handAtEdge,
        direction: direction
      });
    }
    return null;
  }
  reset() {
    this.previousDistanceRegionSingle = null;
    this.previousDistanceRegionBoth = null;
    this.previousDistance = this.ratioTupleProperty.value.getDistance();
    this.previousEdgeCheckTuple = this.ratioTupleProperty.value;
  }
}
ratioAndProportion.register('HandPositionsDescriber', HandPositionsDescriber);
export default HandPositionsDescriber;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTdHJpbmdVdGlscyIsInJhdGlvQW5kUHJvcG9ydGlvbiIsIlJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MiLCJSYXRpb1Rlcm0iLCJyYXBDb25zdGFudHMiLCJUaWNrTWFya1ZpZXciLCJEaXN0YW5jZVJlc3BvbnNlVHlwZSIsIm9wdGlvbml6ZSIsIlJhdGlvSW5wdXRNb2RhbGl0eSIsIkRJU1RBTkNFX1JFR0lPTlNfQ0FQSVRBTElaRUQiLCJhMTF5IiwiaGFuZFBvc2l0aW9uIiwiZGlzdGFuY2UiLCJjYXBpdGFsaXplZCIsImZhcnRoZXN0RnJvbVN0cmluZ1Byb3BlcnR5IiwidmFsdWUiLCJleHRyZW1lbHlGYXJGcm9tU3RyaW5nUHJvcGVydHkiLCJ2ZXJ5RmFyRnJvbVN0cmluZ1Byb3BlcnR5IiwiZmFyRnJvbVN0cmluZ1Byb3BlcnR5Iiwibm90U29DbG9zZVRvU3RyaW5nUHJvcGVydHkiLCJzb21ld2hhdENsb3NlVG9TdHJpbmdQcm9wZXJ0eSIsInZlcnlDbG9zZVRvU3RyaW5nUHJvcGVydHkiLCJleHRyZW1lbHlDbG9zZVRvU3RyaW5nUHJvcGVydHkiLCJhbG1vc3RFdmVuV2l0aFN0cmluZ1Byb3BlcnR5IiwiZXZlbldpdGhTdHJpbmdQcm9wZXJ0eSIsIkRJU1RBTkNFX1JFR0lPTlNfTE9XRVJDQVNFIiwibG93ZXJjYXNlIiwiYXNzZXJ0IiwibGVuZ3RoIiwiVE9UQUxfUkFOR0UiLCJUT1RBTF9SQVRJT19URVJNX1ZBTFVFX1JBTkdFIiwiYXJvdW5kTWlkZGxlUmVnaW9uV2lkdGgiLCJQb3NpdGlvblJlZ2lvbnNEYXRhIiwiY29uc3RydWN0b3IiLCJsb3dlckJvdW5kIiwiaW5SZWdpb25QcmVkaWNhdGUiLCJyZWdpb24iLCJwb3NpdGlvbkluUmVnaW9uIiwicG9zaXRpb24iLCJQT1NJVElPTl9SRUdJT05TX0RBVEEiLCJhdFRvcFN0cmluZ1Byb3BlcnR5IiwibmVhclRvcFN0cmluZ1Byb3BlcnR5IiwiaW5VcHBlclJlZ2lvblN0cmluZ1Byb3BlcnR5IiwiaW5VcHBlck1pZGRsZVJlZ2lvblN0cmluZ1Byb3BlcnR5IiwiYXJvdW5kTWlkZGxlU3RyaW5nUHJvcGVydHkiLCJhdE1pZGRsZVN0cmluZ1Byb3BlcnR5IiwiaW5Mb3dlck1pZGRsZVJlZ2lvblN0cmluZ1Byb3BlcnR5IiwiaW5Mb3dlclJlZ2lvblN0cmluZ1Byb3BlcnR5IiwibmVhckJvdHRvbVN0cmluZ1Byb3BlcnR5IiwiYXRCb3R0b21TdHJpbmdQcm9wZXJ0eSIsIkhhbmRQb3NpdGlvbnNEZXNjcmliZXIiLCJyYXRpb1R1cGxlUHJvcGVydHkiLCJ0aWNrTWFya0Rlc2NyaWJlciIsImluUHJvcG9ydGlvblByb3BlcnR5IiwiZW5hYmxlZFJhdGlvVGVybXNSYW5nZVByb3BlcnR5IiwicmF0aW9Mb2NrZWRQcm9wZXJ0eSIsInByZXZpb3VzRGlzdGFuY2VSZWdpb25TaW5nbGUiLCJwcmV2aW91c0Rpc3RhbmNlUmVnaW9uQm90aCIsInByZXZpb3VzRGlzdGFuY2UiLCJnZXREaXN0YW5jZSIsInByZXZpb3VzRWRnZUNoZWNrVHVwbGUiLCJnZXRIYW5kUG9zaXRpb25EZXNjcmlwdGlvbiIsInRpY2tNYXJrVmlldyIsImRlc2NyaWJlUXVhbGl0YXRpdmUiLCJnZXRRdWFsaXRhdGl2ZVBvc2l0aW9uIiwiZ2V0UXVhbnRpdGF0aXZlSGFuZFBvc2l0aW9uIiwiZGVzY3JpYmVTZW1pUXVhbGl0YXRpdmUiLCJzZW1pUXVhbnRpdGF0aXZlIiwidGlja01hcmtEYXRhIiwiZ2V0UmVsYXRpdmVQb3NpdGlvbkFuZFRpY2tNYXJrTnVtYmVyRm9yUG9zaXRpb24iLCJvcmRpbmFsUG9zaXRpb24iLCJmaWxsSW4iLCJ0aWNrTWFyayIsInNlbWlRdWFudGl0YXRpdmVIYW5kUG9zaXRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJyZWxhdGl2ZVBvc2l0aW9uIiwib3JkaW5hbCIsInF1YW50aXRhdGl2ZUhhbmRQb3NpdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsInRpY2tNYXJrUG9zaXRpb24iLCJjb250YWlucyIsIm5vcm1hbGl6ZWRQb3NpdGlvbiIsImdldE5vcm1hbGl6ZWRWYWx1ZSIsImkiLCJwb3NpdGlvblJlZ2lvbkRhdHVtIiwiZ2V0RGlzdGFuY2VSZWdpb24iLCJnZXRMZW5ndGgiLCJpbmRleCIsImdldFNpbmdsZUhhbmRDb250ZXh0UmVzcG9uc2UiLCJyYXRpb1Rlcm0iLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwic3VwcG9ydEdvQmV5b25kRWRnZVJlc3BvbnNlcyIsImRpc3RhbmNlUmVzcG9uc2VUeXBlIiwiQ09NQk8iLCJyYXRpb0xvY2tlZEVkZ2VSZXNwb25zZSIsImdldEdvQmV5b25kQ29udGV4dFJlc3BvbnNlIiwiZGlzdGFuY2VDbGF1c2UiLCJnZXRTaW5nbGVIYW5kQ29tYm9EaXN0YW5jZSIsIkRJU1RBTkNFX1BST0dSRVNTIiwiZ2V0U2luZ2xlSGFuZERpc3RhbmNlUHJvZ3Jlc3NDbGF1c2UiLCJESVNUQU5DRV9SRUdJT04iLCJvdGhlckhhbmRTdHJpbmdQcm9wZXJ0eSIsIkNPTlNFUVVFTlQiLCJsZWZ0SGFuZExvd2VyU3RyaW5nUHJvcGVydHkiLCJyaWdodEhhbmRMb3dlclN0cmluZ1Byb3BlcnR5IiwiZGlzdGFuY2VSZXNwb25zZSIsImRpc3RhbmNlT3JEaXN0YW5jZVByb2dyZXNzQ2xhdXNlU3RyaW5nUHJvcGVydHkiLCJvdGhlckhhbmQiLCJkaXN0YW5jZU9yRGlzdGFuY2VQcm9ncmVzcyIsInJhdGlvIiwiZGlzdGFuY2VQb3NpdGlvbkNvbnRleHRSZXNwb25zZVN0cmluZ1Byb3BlcnR5IiwiZ2V0Rm9yVGVybSIsImdldERpc3RhbmNlUHJvZ3Jlc3NTdHJpbmciLCJkaXN0YW5jZVJlZ2lvbiIsImRpc3RhbmNlUHJvZ3Jlc3NQaHJhc2UiLCJjdXJyZW50VmFsdWUiLCJoYW5kQXRNaW5NYXgiLCJtaW4iLCJtYXgiLCJnZXRCb3RoSGFuZHNEaXN0YW5jZSIsImdldEJvdGhIYW5kc0NvbWJvRGlzdGFuY2UiLCJnZXRCb3RoSGFuZHNEaXN0YW5jZVByb2dyZXNzIiwiZ2V0Qm90aEhhbmRzRGlzdGFuY2VSZWdpb24iLCJpblByb3BvcnRpb25PdmVycmlkZXNEaXN0YW5jZVByb2dyZXNzIiwiY2xvc2VyU3RyaW5nIiwiY2xvc2VyVG9nZXRoZXJTdHJpbmdQcm9wZXJ0eSIsImZhcnRoZXJTdHJpbmciLCJmYXJ0aGVyQXBhcnRTdHJpbmdQcm9wZXJ0eSIsImJvdGhIYW5kcyIsImhhbmRzRGlzdGFuY2VQcm9ncmVzc1BhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsImRpc3RhbmNlUHJvZ3Jlc3MiLCJwYXR0ZXJuIiwiaGFuZHNEaXN0YW5jZVBhdHRlcm5DYXBpdGFsaXplZFN0cmluZ1Byb3BlcnR5IiwiaGFuZHNEaXN0YW5jZVBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsImRpc3RhbmNlUHJvZ3Jlc3NEZXNjcmlwdGlvbiIsImNsb3NlclRvU3RyaW5nUHJvcGVydHkiLCJmYXJ0aGVyRnJvbVN0cmluZ1Byb3BlcnR5IiwiY3VycmVudERpc3RhbmNlIiwiZGlzdGFuY2VQcm9ncmVzc1N0cmluZyIsImN1cnJlbnRUdXBsZSIsIm1vc3RSZWNlbnRseU1vdmVkIiwiQk9USF9IQU5EUyIsImVuYWJsZWRSYW5nZSIsInByZXZpb3VzQW50ZWNlZGVudEF0TWluIiwiYW50ZWNlZGVudCIsInByZXZpb3VzQW50ZWNlZGVudEF0TWF4IiwicHJldmlvdXNDb25zZXF1ZW50QXRNaW4iLCJjb25zZXF1ZW50IiwicHJldmlvdXNDb25zZXF1ZW50QXRNYXgiLCJtb3ZlZEVpdGhlckZyb21Cb3RoSGFuZHNBbmRQcmV2aW91c0F0RWRnZSIsIm1vdmVkQW50ZWNlZGVudEFuZFByZXZpb3VzQXRFZGdlIiwiQU5URUNFREVOVCIsIm1vdmVkQ29uc2VxdWVudEFuZFByZXZpb3VzQXRFZGdlIiwiaGFuZEF0RWRnZSIsImV4dHJlbWl0eVBvc2l0aW9uIiwiZGlyZWN0aW9uIiwiYW50ZWNlZGVudFBvc3NpYmxlQmV5b25kIiwiY29uc2VxdWVudFBvc3NpYmxlQmV5b25kIiwibGVmdEhhbmRTdHJpbmdQcm9wZXJ0eSIsInVwU3RyaW5nUHJvcGVydHkiLCJkb3duU3RyaW5nUHJvcGVydHkiLCJyaWdodEhhbmRTdHJpbmdQcm9wZXJ0eSIsImhhbmRzTW92ZVRvZ2V0aGVyIiwicGF0dGVyblN0cmluZ1Byb3BlcnR5IiwiYm90aEhhbmRzR29CZXlvbmRFZGdlQ29udGV4dFJlc3BvbnNlU3RyaW5nUHJvcGVydHkiLCJzaW5nbGVIYW5kR29CZXlvbmRFZGdlQ29udGV4dFJlc3BvbnNlU3RyaW5nUHJvcGVydHkiLCJoYW5kIiwicmVzZXQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkhhbmRQb3NpdGlvbnNEZXNjcmliZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjAtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogRGVzY3JpcHRpb24gZm9yIHRoZSBwb3NpdGlvbnMgb2YgZWFjaCBoYW5kLCBhcyB3ZWxsIGFzIHRoZWlyIHBvc2l0aW9uYWwgcmVsYXRpb25zaGlwIGxpa2UgdGhlIGRpc3RhbmNlIGJldHdlZW4gZWFjaFxyXG4gKiBoYW5kLCBhbmQgaWYgdGhleSBoYXZlIGdvdHRlbiBjbG9zZXIgdG8gb3IgZmFydGhlciBmcm9tIGVhY2ggb3RoZXIgKFwiZGlzdGFuY2UgcHJvZ3Jlc3NcIikuXHJcbiAqXHJcbiAqIEluIGdlbmVyYWwsIHJlc3BvbnNlcyBhcmUgc3BsaXQgaW50byBpbXBsZW1lbnRhaXRvbiBiYXNlZCBvbiB0aGUgRGlzdGFuY2VSZXNwb25zZVR5cGUuIFdoZXRoZXIgaXQgYmUgZGlzdGFuY2VcclxuICogcmVnaW9uIChxdWFsaXRhdGl2ZSByZWdpb25zKSwgZGlzdGFuY2UgcHJvZ3Jlc3MgKGNsb3Nlci9mYXJ0aGVyKSwgb3IgYSBjb21ibyBhbGdvcml0aG0gdG8gZGVmYXVsdCB0byBkaXN0YW5jZSByZWdpb24sXHJcbiAqIGJ1dCB5b3UgZGlzdGFuY2UgcHJvZ3Jlc3MgdG8gcHJldmVudCByZXBlYXRpbmcgdGhlIHNhbWUgcmVnaW9uIG1hbnkgdGltZXMuXHJcbiAqXHJcbiAqIGBnZXRTaW5nbGVIYW5kQ29udGV4dFJlc3BvbnNlYCBhbmQgYGdldEJvdGhIYW5kc0Rpc3RhbmNlYCB1c2UgYSBzaW1pbGFyIGFsZ29yaXRobSB0byBhY2NvbXBsaXNoIHRoZXNlIHZhcmlhdGlvbnMsIGJ1dFxyXG4gKiBjb3VsZCBub3QgYmUgZmFjdG9yZWQgb3V0IGNvbXBsZXRlbHkgZHVlIHRvIG5hdHVyYWwgbGFuZ3VhZ2UgcmVxdWlyZW1lbnRzLlxyXG4gKlxyXG4gKiBAYXV0aG9yIE1pY2hhZWwgS2F1em1hbm4gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IFJhbmdlIGZyb20gJy4uLy4uLy4uLy4uLy4uL2RvdC9qcy9SYW5nZS5qcyc7XHJcbmltcG9ydCBTdHJpY3RPbWl0IGZyb20gJy4uLy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy90eXBlcy9TdHJpY3RPbWl0LmpzJztcclxuaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uLy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvdXRpbC9TdHJpbmdVdGlscy5qcyc7XHJcbmltcG9ydCByYXRpb0FuZFByb3BvcnRpb24gZnJvbSAnLi4vLi4vLi4vcmF0aW9BbmRQcm9wb3J0aW9uLmpzJztcclxuaW1wb3J0IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MgZnJvbSAnLi4vLi4vLi4vUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBSYXRpb1Rlcm0gZnJvbSAnLi4vLi4vbW9kZWwvUmF0aW9UZXJtLmpzJztcclxuaW1wb3J0IHJhcENvbnN0YW50cyBmcm9tICcuLi8uLi9yYXBDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgVGlja01hcmtWaWV3IGZyb20gJy4uL1RpY2tNYXJrVmlldy5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IFJBUFJhdGlvVHVwbGUgZnJvbSAnLi4vLi4vbW9kZWwvUkFQUmF0aW9UdXBsZS5qcyc7XHJcbmltcG9ydCBUaWNrTWFya0Rlc2NyaWJlciBmcm9tICcuL1RpY2tNYXJrRGVzY3JpYmVyLmpzJztcclxuaW1wb3J0IFRSZWFkT25seVByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uLy4uL2F4b24vanMvVFJlYWRPbmx5UHJvcGVydHkuanMnO1xyXG5pbXBvcnQgRGlzdGFuY2VSZXNwb25zZVR5cGUgZnJvbSAnLi9EaXN0YW5jZVJlc3BvbnNlVHlwZS5qcyc7XHJcbmltcG9ydCBvcHRpb25pemUgZnJvbSAnLi4vLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XHJcbmltcG9ydCBSYXRpb0lucHV0TW9kYWxpdHkgZnJvbSAnLi9SYXRpb0lucHV0TW9kYWxpdHkuanMnO1xyXG5cclxuLy8gVE9ETzogRHluYW1pYyBzdHJpbmcgc3VwcG9ydCB3aGVuIHRpbWUsIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9yYXRpby1hbmQtcHJvcG9ydGlvbi9pc3N1ZXMvNDk5XHJcbmNvbnN0IERJU1RBTkNFX1JFR0lPTlNfQ0FQSVRBTElaRUQgPSBbXHJcbiAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5kaXN0YW5jZS5jYXBpdGFsaXplZC5mYXJ0aGVzdEZyb21TdHJpbmdQcm9wZXJ0eS52YWx1ZSxcclxuICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmRpc3RhbmNlLmNhcGl0YWxpemVkLmV4dHJlbWVseUZhckZyb21TdHJpbmdQcm9wZXJ0eS52YWx1ZSxcclxuICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmRpc3RhbmNlLmNhcGl0YWxpemVkLnZlcnlGYXJGcm9tU3RyaW5nUHJvcGVydHkudmFsdWUsXHJcbiAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5kaXN0YW5jZS5jYXBpdGFsaXplZC5mYXJGcm9tU3RyaW5nUHJvcGVydHkudmFsdWUsXHJcbiAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5kaXN0YW5jZS5jYXBpdGFsaXplZC5ub3RTb0Nsb3NlVG9TdHJpbmdQcm9wZXJ0eS52YWx1ZSxcclxuICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmRpc3RhbmNlLmNhcGl0YWxpemVkLnNvbWV3aGF0Q2xvc2VUb1N0cmluZ1Byb3BlcnR5LnZhbHVlLFxyXG4gIFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5oYW5kUG9zaXRpb24uZGlzdGFuY2UuY2FwaXRhbGl6ZWQudmVyeUNsb3NlVG9TdHJpbmdQcm9wZXJ0eS52YWx1ZSxcclxuICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmRpc3RhbmNlLmNhcGl0YWxpemVkLmV4dHJlbWVseUNsb3NlVG9TdHJpbmdQcm9wZXJ0eS52YWx1ZSxcclxuICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmRpc3RhbmNlLmNhcGl0YWxpemVkLmFsbW9zdEV2ZW5XaXRoU3RyaW5nUHJvcGVydHkudmFsdWUsXHJcbiAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5kaXN0YW5jZS5jYXBpdGFsaXplZC5ldmVuV2l0aFN0cmluZ1Byb3BlcnR5LnZhbHVlXHJcbl07XHJcblxyXG5jb25zdCBESVNUQU5DRV9SRUdJT05TX0xPV0VSQ0FTRSA9IFtcclxuICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmRpc3RhbmNlLmxvd2VyY2FzZS5mYXJ0aGVzdEZyb21TdHJpbmdQcm9wZXJ0eS52YWx1ZSxcclxuICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmRpc3RhbmNlLmxvd2VyY2FzZS5leHRyZW1lbHlGYXJGcm9tU3RyaW5nUHJvcGVydHkudmFsdWUsXHJcbiAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5kaXN0YW5jZS5sb3dlcmNhc2UudmVyeUZhckZyb21TdHJpbmdQcm9wZXJ0eS52YWx1ZSxcclxuICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmRpc3RhbmNlLmxvd2VyY2FzZS5mYXJGcm9tU3RyaW5nUHJvcGVydHkudmFsdWUsXHJcbiAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5kaXN0YW5jZS5sb3dlcmNhc2Uubm90U29DbG9zZVRvU3RyaW5nUHJvcGVydHkudmFsdWUsXHJcbiAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5kaXN0YW5jZS5sb3dlcmNhc2Uuc29tZXdoYXRDbG9zZVRvU3RyaW5nUHJvcGVydHkudmFsdWUsXHJcbiAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5kaXN0YW5jZS5sb3dlcmNhc2UudmVyeUNsb3NlVG9TdHJpbmdQcm9wZXJ0eS52YWx1ZSxcclxuICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmRpc3RhbmNlLmxvd2VyY2FzZS5leHRyZW1lbHlDbG9zZVRvU3RyaW5nUHJvcGVydHkudmFsdWUsXHJcbiAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5kaXN0YW5jZS5sb3dlcmNhc2UuYWxtb3N0RXZlbldpdGhTdHJpbmdQcm9wZXJ0eS52YWx1ZSxcclxuICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmRpc3RhbmNlLmxvd2VyY2FzZS5ldmVuV2l0aFN0cmluZ1Byb3BlcnR5LnZhbHVlXHJcbl07XHJcblxyXG5hc3NlcnQgJiYgYXNzZXJ0KCBESVNUQU5DRV9SRUdJT05TX0NBUElUQUxJWkVELmxlbmd0aCA9PT0gRElTVEFOQ0VfUkVHSU9OU19MT1dFUkNBU0UubGVuZ3RoLCAnc2hvdWxkIGJlIHRoZSBzYW1lIHJlZ2lvbnMnICk7XHJcblxyXG5jb25zdCBUT1RBTF9SQU5HRSA9IHJhcENvbnN0YW50cy5UT1RBTF9SQVRJT19URVJNX1ZBTFVFX1JBTkdFO1xyXG5cclxuLy8gRW1waXJpY2FsbHkgZGV0ZXJtaW5lZCB0byBmaXggZWRnZSBjYXNlIGRlc2NyaWJlZCBpbiBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcmF0aW8tYW5kLXByb3BvcnRpb24vaXNzdWVzLzQzN1xyXG5jb25zdCBhcm91bmRNaWRkbGVSZWdpb25XaWR0aCA9IDAuMDAyNTtcclxuXHJcbmNsYXNzIFBvc2l0aW9uUmVnaW9uc0RhdGEge1xyXG4gIHB1YmxpYyBsb3dlckJvdW5kOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBpblJlZ2lvblByZWRpY2F0ZTogKCBpbnB1dFZhbHVlOiBudW1iZXIsIGxvd2VyQm91bmQ6IG51bWJlciApID0+IGJvb2xlYW47XHJcbiAgcHVibGljIHJlZ2lvbjogc3RyaW5nO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGxvd2VyQm91bmQ6IG51bWJlciwgaW5SZWdpb25QcmVkaWNhdGU6IFBvc2l0aW9uUmVnaW9uc0RhdGFbJ2luUmVnaW9uUHJlZGljYXRlJ10sIHJlZ2lvbjogVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPiApIHtcclxuICAgIHRoaXMubG93ZXJCb3VuZCA9IGxvd2VyQm91bmQ7XHJcbiAgICB0aGlzLmluUmVnaW9uUHJlZGljYXRlID0gaW5SZWdpb25QcmVkaWNhdGU7XHJcbiAgICB0aGlzLnJlZ2lvbiA9IHJlZ2lvbi52YWx1ZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwb3NpdGlvbkluUmVnaW9uKCBwb3NpdGlvbjogbnVtYmVyICk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5SZWdpb25QcmVkaWNhdGUoIHBvc2l0aW9uLCB0aGlzLmxvd2VyQm91bmQgKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIE9yZGVyIG1hdHRlcnMhIFRoZSBmaXJzdCBwcmVkaWNhdGUgbXVzdCBiZSBydW4gYmVmb3JlIHRoZSBzZWNvbmQgZm9yIGVhY2ggdG8gd29yayBjb3JyZWN0bHkgYXQgaWRlbnRpZnlpbmcgdGhlaXJcclxuLy8gb3duIHJlZ2lvbi4gVGhpcyBpcyBiZWNhdXNlIGVhY2ggUG9zaXRpb25SZWdpb25zRGF0YSB3b3JrcyBiYXNlZCBzb2xlbHkgb24gYSBsb3dlckJvdW5kLlxyXG5jb25zdCBQT1NJVElPTl9SRUdJT05TX0RBVEE6IFBvc2l0aW9uUmVnaW9uc0RhdGFbXSA9IFtcclxuICBuZXcgUG9zaXRpb25SZWdpb25zRGF0YSggMSwgKCBwb3NpdGlvbiwgbG93ZXJCb3VuZCApID0+IHBvc2l0aW9uID09PSBsb3dlckJvdW5kLFxyXG4gICAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5hdFRvcFN0cmluZ1Byb3BlcnR5ICksXHJcbiAgbmV3IFBvc2l0aW9uUmVnaW9uc0RhdGEoIDAuOSwgKCBwb3NpdGlvbiwgbG93ZXJCb3VuZCApID0+IHBvc2l0aW9uID49IGxvd2VyQm91bmQsXHJcbiAgICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLm5lYXJUb3BTdHJpbmdQcm9wZXJ0eSApLFxyXG4gIG5ldyBQb3NpdGlvblJlZ2lvbnNEYXRhKCAwLjY1LCAoIHBvc2l0aW9uLCBsb3dlckJvdW5kICkgPT4gcG9zaXRpb24gPiBsb3dlckJvdW5kLFxyXG4gICAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5pblVwcGVyUmVnaW9uU3RyaW5nUHJvcGVydHkgKSxcclxuICBuZXcgUG9zaXRpb25SZWdpb25zRGF0YSggMC41ICsgYXJvdW5kTWlkZGxlUmVnaW9uV2lkdGgsICggcG9zaXRpb24sIGxvd2VyQm91bmQgKSA9PiBwb3NpdGlvbiA+IGxvd2VyQm91bmQsXHJcbiAgICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmluVXBwZXJNaWRkbGVSZWdpb25TdHJpbmdQcm9wZXJ0eSApLFxyXG4gIG5ldyBQb3NpdGlvblJlZ2lvbnNEYXRhKCAwLjUsICggcG9zaXRpb24sIGxvd2VyQm91bmQgKSA9PiBwb3NpdGlvbiA+IGxvd2VyQm91bmQsXHJcbiAgICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmFyb3VuZE1pZGRsZVN0cmluZ1Byb3BlcnR5ICksXHJcbiAgbmV3IFBvc2l0aW9uUmVnaW9uc0RhdGEoIDAuNSwgKCBwb3NpdGlvbiwgbG93ZXJCb3VuZCApID0+IHBvc2l0aW9uID09PSBsb3dlckJvdW5kLFxyXG4gICAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5hdE1pZGRsZVN0cmluZ1Byb3BlcnR5ICksXHJcbiAgbmV3IFBvc2l0aW9uUmVnaW9uc0RhdGEoIDAuNSAtIGFyb3VuZE1pZGRsZVJlZ2lvbldpZHRoLCAoIHBvc2l0aW9uLCBsb3dlckJvdW5kICkgPT4gcG9zaXRpb24gPj0gbG93ZXJCb3VuZCxcclxuICAgIFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5oYW5kUG9zaXRpb24uYXJvdW5kTWlkZGxlU3RyaW5nUHJvcGVydHkgKSxcclxuICBuZXcgUG9zaXRpb25SZWdpb25zRGF0YSggMC4zNSwgKCBwb3NpdGlvbiwgbG93ZXJCb3VuZCApID0+IHBvc2l0aW9uID49IGxvd2VyQm91bmQsXHJcbiAgICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmluTG93ZXJNaWRkbGVSZWdpb25TdHJpbmdQcm9wZXJ0eSApLFxyXG4gIG5ldyBQb3NpdGlvblJlZ2lvbnNEYXRhKCAwLjEsICggcG9zaXRpb24sIGxvd2VyQm91bmQgKSA9PiBwb3NpdGlvbiA+IGxvd2VyQm91bmQsXHJcbiAgICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmluTG93ZXJSZWdpb25TdHJpbmdQcm9wZXJ0eSApLFxyXG4gIG5ldyBQb3NpdGlvblJlZ2lvbnNEYXRhKCAwLCAoIHBvc2l0aW9uLCBsb3dlckJvdW5kICkgPT4gcG9zaXRpb24gPiBsb3dlckJvdW5kLFxyXG4gICAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5uZWFyQm90dG9tU3RyaW5nUHJvcGVydHkgKSxcclxuICBuZXcgUG9zaXRpb25SZWdpb25zRGF0YSggMCwgKCBwb3NpdGlvbiwgbG93ZXJCb3VuZCApID0+IHBvc2l0aW9uID09PSBsb3dlckJvdW5kLFxyXG4gICAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5hdEJvdHRvbVN0cmluZ1Byb3BlcnR5IClcclxuXTtcclxuXHJcbnR5cGUgR2V0RGlzdGFuY2VQcm9ncmVzc1N0cmluZ09wdGlvbnMgPSB7XHJcblxyXG4gIC8vIHNldCB0byBmYWxzZSBpZiBpdCBpcyBkZXNpcmVkIHRvIGdldCBkaXN0YW5jZVByb2dyZXNzIGV2ZW4gd2hlbiBpbiBwcm9wb3J0aW9uXHJcbiAgaW5Qcm9wb3J0aW9uT3ZlcnJpZGVzRGlzdGFuY2VQcm9ncmVzcz86IGJvb2xlYW47XHJcbiAgY2xvc2VyU3RyaW5nPzogc3RyaW5nO1xyXG4gIGZhcnRoZXJTdHJpbmc/OiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBIYW5kQ29udGV4dFJlc3BvbnNlT3B0aW9ucyA9IHtcclxuICBzdXBwb3J0R29CZXlvbmRFZGdlUmVzcG9uc2VzPzogYm9vbGVhbjtcclxuICBkaXN0YW5jZVJlc3BvbnNlVHlwZT86IERpc3RhbmNlUmVzcG9uc2VUeXBlO1xyXG59O1xyXG5cclxuY2xhc3MgSGFuZFBvc2l0aW9uc0Rlc2NyaWJlciB7XHJcblxyXG4gIHByaXZhdGUgcmF0aW9UdXBsZVByb3BlcnR5OiBQcm9wZXJ0eTxSQVBSYXRpb1R1cGxlPjtcclxuICBwcml2YXRlIHRpY2tNYXJrRGVzY3JpYmVyOiBUaWNrTWFya0Rlc2NyaWJlcjtcclxuICBwcml2YXRlIGluUHJvcG9ydGlvblByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPjtcclxuICBwcml2YXRlIHJhdGlvTG9ja2VkUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PGJvb2xlYW4+O1xyXG5cclxuICAvLyBrZWVwIHRyYWNrIG9mIHByZXZpb3VzIGRpc3RhbmNlIHJlZ2lvbnMgdG8gdHJhY2sgcmVwZXRpdGlvbiwgYW5kIGFsdGVyIGRlc2NyaXB0aW9uIGFjY29yZGluZ2x5LiBUaGlzXHJcbiAgLy8gaXMgdXNlZCBmb3IgYW55IG1vZGFsaXR5IGdldHRpbmcgYSBkaXN0YW5jZSByZWdpb24gaW4gYSBjb250ZXh0IHJlc3BvbnNlLlxyXG4gIHByaXZhdGUgcHJldmlvdXNEaXN0YW5jZVJlZ2lvblNpbmdsZTogbnVsbCB8IHN0cmluZztcclxuICBwcml2YXRlIHByZXZpb3VzRGlzdGFuY2VSZWdpb25Cb3RoOiBudWxsIHwgc3RyaW5nO1xyXG5cclxuICBwcml2YXRlIHByZXZpb3VzRGlzdGFuY2U6IG51bWJlcjtcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBPU0lUSU9OX1JFR0lPTlNfREFUQSA9IFBPU0lUSU9OX1JFR0lPTlNfREFUQTtcclxuICBwcml2YXRlIHByZXZpb3VzRWRnZUNoZWNrVHVwbGU6IFJBUFJhdGlvVHVwbGU7XHJcbiAgcHVibGljIGVuYWJsZWRSYXRpb1Rlcm1zUmFuZ2VQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8UmFuZ2U+O1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHJhdGlvVHVwbGVQcm9wZXJ0eTogUHJvcGVydHk8UkFQUmF0aW9UdXBsZT4sIHRpY2tNYXJrRGVzY3JpYmVyOiBUaWNrTWFya0Rlc2NyaWJlcixcclxuICAgICAgICAgICAgICAgICAgICAgIGluUHJvcG9ydGlvblByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPiwgZW5hYmxlZFJhdGlvVGVybXNSYW5nZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxSYW5nZT4sXHJcbiAgICAgICAgICAgICAgICAgICAgICByYXRpb0xvY2tlZFByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPiApIHtcclxuXHJcbiAgICB0aGlzLnJhdGlvVHVwbGVQcm9wZXJ0eSA9IHJhdGlvVHVwbGVQcm9wZXJ0eTtcclxuICAgIHRoaXMucmF0aW9Mb2NrZWRQcm9wZXJ0eSA9IHJhdGlvTG9ja2VkUHJvcGVydHk7XHJcbiAgICB0aGlzLnRpY2tNYXJrRGVzY3JpYmVyID0gdGlja01hcmtEZXNjcmliZXI7XHJcbiAgICB0aGlzLmluUHJvcG9ydGlvblByb3BlcnR5ID0gaW5Qcm9wb3J0aW9uUHJvcGVydHk7XHJcbiAgICB0aGlzLmVuYWJsZWRSYXRpb1Rlcm1zUmFuZ2VQcm9wZXJ0eSA9IGVuYWJsZWRSYXRpb1Rlcm1zUmFuZ2VQcm9wZXJ0eTtcclxuXHJcbiAgICB0aGlzLnByZXZpb3VzRGlzdGFuY2VSZWdpb25TaW5nbGUgPSBudWxsO1xyXG4gICAgdGhpcy5wcmV2aW91c0Rpc3RhbmNlUmVnaW9uQm90aCA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5wcmV2aW91c0Rpc3RhbmNlID0gcmF0aW9UdXBsZVByb3BlcnR5LnZhbHVlLmdldERpc3RhbmNlKCk7XHJcblxyXG4gICAgdGhpcy5wcmV2aW91c0VkZ2VDaGVja1R1cGxlID0gcmF0aW9UdXBsZVByb3BlcnR5LnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb25seSBlbmRzIHdpdGggXCJvZiBQbGF5IEFyZWFcIiBpZiBxdWFsaXRhdGl2ZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRIYW5kUG9zaXRpb25EZXNjcmlwdGlvbiggcG9zaXRpb246IG51bWJlciwgdGlja01hcmtWaWV3OiBUaWNrTWFya1ZpZXcgKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBUaWNrTWFya1ZpZXcuZGVzY3JpYmVRdWFsaXRhdGl2ZSggdGlja01hcmtWaWV3ICkgPyBIYW5kUG9zaXRpb25zRGVzY3JpYmVyLmdldFF1YWxpdGF0aXZlUG9zaXRpb24oIHBvc2l0aW9uICkgOlxyXG4gICAgICAgICAgIHRoaXMuZ2V0UXVhbnRpdGF0aXZlSGFuZFBvc2l0aW9uKCBwb3NpdGlvbiwgVGlja01hcmtWaWV3LmRlc2NyaWJlU2VtaVF1YWxpdGF0aXZlKCB0aWNrTWFya1ZpZXcgKSApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRRdWFudGl0YXRpdmVIYW5kUG9zaXRpb24oIGhhbmRQb3NpdGlvbjogbnVtYmVyLCBzZW1pUXVhbnRpdGF0aXZlID0gZmFsc2UgKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHRpY2tNYXJrRGF0YSA9IHRoaXMudGlja01hcmtEZXNjcmliZXIuZ2V0UmVsYXRpdmVQb3NpdGlvbkFuZFRpY2tNYXJrTnVtYmVyRm9yUG9zaXRpb24oIGhhbmRQb3NpdGlvbiApO1xyXG5cclxuICAgIC8vIHNlbWkgcXVhbnRpdGF0aXZlIGRlc2NyaXB0aW9uIHVzZXMgb3JkaW5hbCBudW1iZXJzIGluc3RlYWQgb2YgZnVsbCBudW1iZXJzLlxyXG4gICAgaWYgKCBzZW1pUXVhbnRpdGF0aXZlICYmIHR5cGVvZiB0aWNrTWFya0RhdGEub3JkaW5hbFBvc2l0aW9uID09PSAnc3RyaW5nJyApIHtcclxuICAgICAgLy8gVE9ETzogUGF0dGVyblN0cmluZ1Byb3BlcnR5IHdoZW4gdGltZSwgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3JhdGlvLWFuZC1wcm9wb3J0aW9uL2lzc3Vlcy80OTlcclxuICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLmZpbGxJbiggUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LnRpY2tNYXJrLnNlbWlRdWFudGl0YXRpdmVIYW5kUG9zaXRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICByZWxhdGl2ZVBvc2l0aW9uOiB0aWNrTWFya0RhdGEucmVsYXRpdmVQb3NpdGlvbixcclxuICAgICAgICBvcmRpbmFsOiB0aWNrTWFya0RhdGEub3JkaW5hbFBvc2l0aW9uXHJcbiAgICAgIH0gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBQYXR0ZXJuU3RyaW5nUHJvcGVydHkgd2hlbiB0aW1lLCBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcmF0aW8tYW5kLXByb3BvcnRpb24vaXNzdWVzLzQ5OVxyXG4gICAgcmV0dXJuIFN0cmluZ1V0aWxzLmZpbGxJbiggUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LnRpY2tNYXJrLnF1YW50aXRhdGl2ZUhhbmRQb3NpdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICByZWxhdGl2ZVBvc2l0aW9uOiB0aWNrTWFya0RhdGEucmVsYXRpdmVQb3NpdGlvbixcclxuICAgICAgdGlja01hcmtQb3NpdGlvbjogdGlja01hcmtEYXRhLnRpY2tNYXJrUG9zaXRpb25cclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RhdGljIGdldFF1YWxpdGF0aXZlUG9zaXRpb24oIHBvc2l0aW9uOiBudW1iZXIgKTogc3RyaW5nIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIFRPVEFMX1JBTkdFLmNvbnRhaW5zKCBwb3NpdGlvbiApLCAncG9zaXRpb24gZXhwZWN0ZWQgdG8gYmUgaW4gcG9zaXRpb24gcmFuZ2UnICk7XHJcblxyXG4gICAgY29uc3Qgbm9ybWFsaXplZFBvc2l0aW9uID0gVE9UQUxfUkFOR0UuZ2V0Tm9ybWFsaXplZFZhbHVlKCBwb3NpdGlvbiApO1xyXG5cclxuICAgIGxldCByZWdpb24gPSBudWxsO1xyXG5cclxuICAgIGZvciAoIGxldCBpID0gMDsgaSA8IFBPU0lUSU9OX1JFR0lPTlNfREFUQS5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgY29uc3QgcG9zaXRpb25SZWdpb25EYXR1bSA9IFBPU0lUSU9OX1JFR0lPTlNfREFUQVsgaSBdO1xyXG5cclxuICAgICAgaWYgKCBwb3NpdGlvblJlZ2lvbkRhdHVtLnBvc2l0aW9uSW5SZWdpb24oIG5vcm1hbGl6ZWRQb3NpdGlvbiApICkge1xyXG4gICAgICAgIHJlZ2lvbiA9IHBvc2l0aW9uUmVnaW9uRGF0dW0ucmVnaW9uO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggcmVnaW9uICE9PSBudWxsLCAnc2hvdWxkIGhhdmUgYmVlbiBpbiBvbmUgb2YgdGhlc2UgcmVnaW9ucycgKTtcclxuXHJcbiAgICByZXR1cm4gcmVnaW9uITtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5PVEU6IFRoZXNlIHZhbHVlcyBhcmUgY29waWVkIG92ZXIgaW4gUkFQUG9zaXRpb25SZWdpb25zTGF5ZXIsIGNvbnN1bHQgdGhhdCBOb2RlIGJlZm9yZSBjaGFuZ2luZyB0aGVzZSB2YWx1ZXMuXHJcbiAgICovXHJcbiAgcHVibGljIGdldERpc3RhbmNlUmVnaW9uKCBsb3dlcmNhc2U6IGJvb2xlYW4sIGRpc3RhbmNlOiBudW1iZXIgPSB0aGlzLnJhdGlvVHVwbGVQcm9wZXJ0eS52YWx1ZS5nZXREaXN0YW5jZSgpICk6IHN0cmluZyB7XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggVE9UQUxfUkFOR0UuZ2V0TGVuZ3RoKCkgPT09IDEsICd0aGVzZSBoYXJkIGNvZGVkIHZhbHVlcyBkZXBlbmQgb24gYSByYW5nZSBvZiAxJyApO1xyXG5cclxuICAgIGxldCBpbmRleCA9IG51bGw7XHJcbiAgICBpZiAoIGRpc3RhbmNlID09PSBUT1RBTF9SQU5HRS5nZXRMZW5ndGgoKSApIHtcclxuICAgICAgaW5kZXggPSAwO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIGRpc3RhbmNlID49IDAuODUgKSB7XHJcbiAgICAgIGluZGV4ID0gMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBkaXN0YW5jZSA+PSAwLjcgKSB7XHJcbiAgICAgIGluZGV4ID0gMjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBkaXN0YW5jZSA+PSAwLjU1ICkge1xyXG4gICAgICBpbmRleCA9IDM7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggZGlzdGFuY2UgPj0gMC40ICkge1xyXG4gICAgICBpbmRleCA9IDQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggZGlzdGFuY2UgPj0gMC4zICkge1xyXG4gICAgICBpbmRleCA9IDU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggZGlzdGFuY2UgPj0gMC4yICkge1xyXG4gICAgICBpbmRleCA9IDY7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggZGlzdGFuY2UgPj0gMC4xICkge1xyXG4gICAgICBpbmRleCA9IDc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggZGlzdGFuY2UgPiAwICkge1xyXG4gICAgICBpbmRleCA9IDg7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggZGlzdGFuY2UgPT09IDAgKSB7XHJcbiAgICAgIGluZGV4ID0gOTtcclxuICAgIH1cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGluZGV4ICE9PSBudWxsLCBgaW5kZXggaXMgc3RpbGwgbnVsbCwgcGVyaGFwcyBiZWNhdXNlIGRpc3RhbmNlIGlzICR7ZGlzdGFuY2V9YCApO1xyXG4gICAgaW5kZXggPSBpbmRleCE7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBpbmRleCA8IERJU1RBTkNFX1JFR0lPTlNfQ0FQSVRBTElaRUQubGVuZ3RoLCAnb3V0IG9mIHJhbmdlJyApO1xyXG4gICAgcmV0dXJuICggbG93ZXJjYXNlID8gRElTVEFOQ0VfUkVHSU9OU19MT1dFUkNBU0UgOiBESVNUQU5DRV9SRUdJT05TX0NBUElUQUxJWkVEIClbIGluZGV4IF07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0U2luZ2xlSGFuZENvbnRleHRSZXNwb25zZSggcmF0aW9UZXJtOiBSYXRpb1Rlcm0sIHRpY2tNYXJrVmlldzogVGlja01hcmtWaWV3LCBwcm92aWRlZE9wdGlvbnM/OiBIYW5kQ29udGV4dFJlc3BvbnNlT3B0aW9ucyApOiBzdHJpbmcge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8SGFuZENvbnRleHRSZXNwb25zZU9wdGlvbnM+KCkoIHtcclxuXHJcbiAgICAgIHN1cHBvcnRHb0JleW9uZEVkZ2VSZXNwb25zZXM6IHRydWUsXHJcblxyXG4gICAgICAvLyBCeSBkZWZhdWx0LCBsZXQgdGhlIGRlc2NyaWJlciBkZWNpZGUgaWYgd2Ugc2hvdWxkIGhhdmUgZGlzdGFuY2UgcHJvZ3Jlc3Mgb3IgcmVnaW9uXHJcbiAgICAgIGRpc3RhbmNlUmVzcG9uc2VUeXBlOiBEaXN0YW5jZVJlc3BvbnNlVHlwZS5DT01CT1xyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgaWYgKCBvcHRpb25zLnN1cHBvcnRHb0JleW9uZEVkZ2VSZXNwb25zZXMgKSB7XHJcbiAgICAgIGNvbnN0IHJhdGlvTG9ja2VkRWRnZVJlc3BvbnNlID0gdGhpcy5nZXRHb0JleW9uZENvbnRleHRSZXNwb25zZSggdGhpcy5yYXRpb1R1cGxlUHJvcGVydHkudmFsdWUsIHJhdGlvVGVybSApO1xyXG4gICAgICBpZiAoIHJhdGlvTG9ja2VkRWRnZVJlc3BvbnNlICkge1xyXG4gICAgICAgIHJldHVybiByYXRpb0xvY2tlZEVkZ2VSZXNwb25zZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBkaXN0YW5jZUNsYXVzZSA9IG51bGw7XHJcbiAgICBzd2l0Y2goIG9wdGlvbnMuZGlzdGFuY2VSZXNwb25zZVR5cGUgKSB7XHJcbiAgICAgIGNhc2UgRGlzdGFuY2VSZXNwb25zZVR5cGUuQ09NQk86XHJcbiAgICAgICAgZGlzdGFuY2VDbGF1c2UgPSB0aGlzLmdldFNpbmdsZUhhbmRDb21ib0Rpc3RhbmNlKCByYXRpb1Rlcm0gKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBEaXN0YW5jZVJlc3BvbnNlVHlwZS5ESVNUQU5DRV9QUk9HUkVTUzpcclxuICAgICAgICBkaXN0YW5jZUNsYXVzZSA9IHRoaXMuZ2V0U2luZ2xlSGFuZERpc3RhbmNlUHJvZ3Jlc3NDbGF1c2UoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBEaXN0YW5jZVJlc3BvbnNlVHlwZS5ESVNUQU5DRV9SRUdJT046XHJcbiAgICAgICAgZGlzdGFuY2VDbGF1c2UgPSB0aGlzLmdldERpc3RhbmNlUmVnaW9uKCBmYWxzZSApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGFzc2VydCAmJiBhc3NlcnQoIGZhbHNlLCAnVGhpcyBpcyBub3QgaG93IGVudW1zIHdvcmsnICk7XHJcbiAgICB9XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggZGlzdGFuY2VDbGF1c2UsICdTaG91bGQgYmUgZmlsbGVkIGluIGJ5IG5vdycgKTtcclxuICAgIGNvbnN0IG90aGVySGFuZFN0cmluZ1Byb3BlcnR5ID0gcmF0aW9UZXJtID09PSBSYXRpb1Rlcm0uQ09OU0VRVUVOVCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5sZWZ0SGFuZExvd2VyU3RyaW5nUHJvcGVydHkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkucmlnaHRIYW5kTG93ZXJTdHJpbmdQcm9wZXJ0eTtcclxuXHJcbiAgICAvLyBUT0RPOiBQYXR0ZXJuU3RyaW5nUHJvcGVydHkgd2hlbiB0aW1lLCBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcmF0aW8tYW5kLXByb3BvcnRpb24vaXNzdWVzLzQ5OVxyXG4gICAgY29uc3QgZGlzdGFuY2VSZXNwb25zZSA9IFN0cmluZ1V0aWxzLmZpbGxJbiggUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5kaXN0YW5jZU9yRGlzdGFuY2VQcm9ncmVzc0NsYXVzZVN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIG90aGVySGFuZDogb3RoZXJIYW5kU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIGRpc3RhbmNlT3JEaXN0YW5jZVByb2dyZXNzOiBkaXN0YW5jZUNsYXVzZVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIFRPRE86IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSB3aGVuIHRpbWUsIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9yYXRpby1hbmQtcHJvcG9ydGlvbi9pc3N1ZXMvNDk5XHJcbiAgICByZXR1cm4gU3RyaW5nVXRpbHMuZmlsbEluKCBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkucmF0aW8uZGlzdGFuY2VQb3NpdGlvbkNvbnRleHRSZXNwb25zZVN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIGRpc3RhbmNlOiBkaXN0YW5jZVJlc3BvbnNlLFxyXG4gICAgICBwb3NpdGlvbjogdGhpcy5nZXRIYW5kUG9zaXRpb25EZXNjcmlwdGlvbiggdGhpcy5yYXRpb1R1cGxlUHJvcGVydHkudmFsdWUuZ2V0Rm9yVGVybSggcmF0aW9UZXJtICksXHJcbiAgICAgICAgdGlja01hcmtWaWV3IClcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5PVEU6IGlmIGluLXByb3BvcnRpb24sIHRoaXMgd2lsbCBzdGlsbCByZXR1cm4gdGhlIGRpc3RhbmNlIHJlZ2lvblxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0U2luZ2xlSGFuZERpc3RhbmNlUHJvZ3Jlc3NDbGF1c2UoKTogc3RyaW5nIHtcclxuXHJcbiAgICAvLyBGYWxsIGJhY2sgdG8gZGlzdGFuY2UgcmVnaW9uIGlmIHRoZXJlIGlzIG5vIGRpc3RhbmNlIHByb2dyZXNzIHRvIGRlbGl2ZXJcclxuICAgIHJldHVybiB0aGlzLmdldERpc3RhbmNlUHJvZ3Jlc3NTdHJpbmcoKSB8fCB0aGlzLmdldERpc3RhbmNlUmVnaW9uKCBmYWxzZSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBcImNvbWJvXCIgYXBwcm9hY2ggd2lsbCBjb25kaXRpb25hbGx5IHByb3ZpZGUgZGlzdGFuY2UtcHJvZ3Jlc3MgdG8gbWFrZSBzdXJlIHJlcGV0aXRpb24gaXMgbm90IGhlYXJkIHdpdGhpblxyXG4gICAqIGRpc3RhbmNlIHJlZ2lvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIGdldFNpbmdsZUhhbmRDb21ib0Rpc3RhbmNlKCByYXRpb1Rlcm06IFJhdGlvVGVybSApOiBzdHJpbmcge1xyXG5cclxuICAgIGNvbnN0IGRpc3RhbmNlUmVnaW9uID0gdGhpcy5nZXREaXN0YW5jZVJlZ2lvbiggZmFsc2UgKTtcclxuXHJcbiAgICBpZiAoIGRpc3RhbmNlUmVnaW9uID09PSB0aGlzLnByZXZpb3VzRGlzdGFuY2VSZWdpb25TaW5nbGUgKSB7XHJcbiAgICAgIGNvbnN0IGRpc3RhbmNlUHJvZ3Jlc3NQaHJhc2UgPSB0aGlzLmdldERpc3RhbmNlUHJvZ3Jlc3NTdHJpbmcoKTtcclxuICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5yYXRpb1R1cGxlUHJvcGVydHkudmFsdWUuZ2V0Rm9yVGVybSggcmF0aW9UZXJtICk7XHJcbiAgICAgIGNvbnN0IGhhbmRBdE1pbk1heCA9IFRPVEFMX1JBTkdFLm1pbiA9PT0gY3VycmVudFZhbHVlIHx8IFRPVEFMX1JBTkdFLm1heCA9PT0gY3VycmVudFZhbHVlO1xyXG5cclxuICAgICAgLy8gTm8gZGlzdGFuY2VQcm9ncmVzc1BocmFzZSBtZWFucyB0aGV5IGFyZSBlcXVhbCwgZG9uJ3QgZ2l2ZSBjbG9zZXIvZmFydGhlciBhdCByYW5nZSBleHRyZW1pdGllcy5cclxuICAgICAgaWYgKCBkaXN0YW5jZVByb2dyZXNzUGhyYXNlICYmICFoYW5kQXRNaW5NYXggKSB7XHJcblxyXG4gICAgICAgIC8vIENvdW50IGNsb3Nlci9mYXJ0aGVyIGFzIGEgcHJldmlvdXMgc28gdGhhdCB3ZSBkb24ndCBldmVyIGdldCB0d28gb2YgdGhlbSBhdCB0aGUgc2FtZSB0aW1lXHJcbiAgICAgICAgdGhpcy5wcmV2aW91c0Rpc3RhbmNlUmVnaW9uU2luZ2xlID0gZGlzdGFuY2VQcm9ncmVzc1BocmFzZTtcclxuICAgICAgICByZXR1cm4gZGlzdGFuY2VQcm9ncmVzc1BocmFzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHJldmlvdXNEaXN0YW5jZVJlZ2lvblNpbmdsZSA9IGRpc3RhbmNlUmVnaW9uO1xyXG5cclxuICAgIHJldHVybiBkaXN0YW5jZVJlZ2lvbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRCb3RoSGFuZHNEaXN0YW5jZSggY2FwaXRhbGl6ZWQ6IGJvb2xlYW4sIHByb3ZpZGVkT3B0aW9ucz86IEhhbmRDb250ZXh0UmVzcG9uc2VPcHRpb25zICk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPEhhbmRDb250ZXh0UmVzcG9uc2VPcHRpb25zLCBTdHJpY3RPbWl0PEhhbmRDb250ZXh0UmVzcG9uc2VPcHRpb25zLCAnc3VwcG9ydEdvQmV5b25kRWRnZVJlc3BvbnNlcyc+PigpKCB7XHJcblxyXG4gICAgICAvLyBCeSBkZWZhdWx0LCBsZXQgdGhlIGRlc2NyaWJlciBkZWNpZGUgaWYgd2Ugc2hvdWxkIGhhdmUgZGlzdGFuY2UgcHJvZ3Jlc3Mgb3IgcmVnaW9uXHJcbiAgICAgIGRpc3RhbmNlUmVzcG9uc2VUeXBlOiBEaXN0YW5jZVJlc3BvbnNlVHlwZS5DT01CT1xyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgc3dpdGNoKCBvcHRpb25zLmRpc3RhbmNlUmVzcG9uc2VUeXBlICkge1xyXG4gICAgICBjYXNlIERpc3RhbmNlUmVzcG9uc2VUeXBlLkNPTUJPOlxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEJvdGhIYW5kc0NvbWJvRGlzdGFuY2UoIGNhcGl0YWxpemVkICk7XHJcbiAgICAgIGNhc2UgRGlzdGFuY2VSZXNwb25zZVR5cGUuRElTVEFOQ0VfUFJPR1JFU1M6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qm90aEhhbmRzRGlzdGFuY2VQcm9ncmVzcyggY2FwaXRhbGl6ZWQgKTtcclxuICAgICAgY2FzZSBEaXN0YW5jZVJlc3BvbnNlVHlwZS5ESVNUQU5DRV9SRUdJT046XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qm90aEhhbmRzRGlzdGFuY2VSZWdpb24oIGNhcGl0YWxpemVkICk7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYXNzZXJ0ICYmIGFzc2VydCggZmFsc2UsICdUaGlzIGlzIG5vdCBob3cgZW51bXMgd29yaycgKTtcclxuICAgIH1cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGZhbHNlLCAnV2Ugc2hvdWxkIGFsd2F5cyBoYXZlIGEgZGlzdGFuY2UgY2FzZSBhYm92ZScgKTtcclxuICAgIHJldHVybiAnQSBzZXJpb3VzIGxvZ2ljIGVycm9yIG9jY3VycmVkJztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRCb3RoSGFuZHNEaXN0YW5jZVByb2dyZXNzKCBjYXBpdGFsaXplZDogYm9vbGVhbiApOiBzdHJpbmcge1xyXG4gICAgY29uc3QgZGlzdGFuY2VQcm9ncmVzc1BocmFzZSA9IHRoaXMuZ2V0RGlzdGFuY2VQcm9ncmVzc1N0cmluZygge1xyXG4gICAgICBpblByb3BvcnRpb25PdmVycmlkZXNEaXN0YW5jZVByb2dyZXNzOiBmYWxzZSxcclxuICAgICAgY2xvc2VyU3RyaW5nOiBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmNsb3NlclRvZ2V0aGVyU3RyaW5nUHJvcGVydHkudmFsdWUsXHJcbiAgICAgIGZhcnRoZXJTdHJpbmc6IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5oYW5kUG9zaXRpb24uZmFydGhlckFwYXJ0U3RyaW5nUHJvcGVydHkudmFsdWVcclxuICAgIH0gKTtcclxuICAgIGlmICggZGlzdGFuY2VQcm9ncmVzc1BocmFzZSApIHtcclxuICAgICAgLy8gVE9ETzogUGF0dGVyblN0cmluZ1Byb3BlcnR5IHdoZW4gdGltZSwgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3JhdGlvLWFuZC1wcm9wb3J0aW9uL2lzc3Vlcy80OTlcclxuICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLmZpbGxJbiggUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmJvdGhIYW5kcy5oYW5kc0Rpc3RhbmNlUHJvZ3Jlc3NQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICBkaXN0YW5jZVByb2dyZXNzOiBkaXN0YW5jZVByb2dyZXNzUGhyYXNlXHJcbiAgICAgIH0gKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLmdldEJvdGhIYW5kc0Rpc3RhbmNlUmVnaW9uKCBjYXBpdGFsaXplZCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldEJvdGhIYW5kc0Rpc3RhbmNlUmVnaW9uKCBjYXBpdGFsaXplZDogYm9vbGVhbiApOiBzdHJpbmcge1xyXG4gICAgY29uc3QgZGlzdGFuY2VSZWdpb24gPSB0aGlzLmdldERpc3RhbmNlUmVnaW9uKCB0cnVlICk7XHJcblxyXG4gICAgY29uc3QgcGF0dGVybiA9IGNhcGl0YWxpemVkID8gUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmJvdGhIYW5kcy5oYW5kc0Rpc3RhbmNlUGF0dGVybkNhcGl0YWxpemVkU3RyaW5nUHJvcGVydHkudmFsdWUgOlxyXG4gICAgICAgICAgICAgICAgICAgIFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5ib3RoSGFuZHMuaGFuZHNEaXN0YW5jZVBhdHRlcm5TdHJpbmdQcm9wZXJ0eS52YWx1ZTtcclxuXHJcbiAgICAvLyBUT0RPOiBQYXR0ZXJuU3RyaW5nUHJvcGVydHkgd2hlbiB0aW1lLCBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcmF0aW8tYW5kLXByb3BvcnRpb24vaXNzdWVzLzQ5OVxyXG4gICAgcmV0dXJuIFN0cmluZ1V0aWxzLmZpbGxJbiggcGF0dGVybiwgeyBkaXN0YW5jZTogZGlzdGFuY2VSZWdpb24gfSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldEJvdGhIYW5kc0NvbWJvRGlzdGFuY2UoIGNhcGl0YWxpemVkID0gZmFsc2UgKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGRpc3RhbmNlUmVnaW9uID0gdGhpcy5nZXREaXN0YW5jZVJlZ2lvbiggdHJ1ZSApO1xyXG5cclxuICAgIGlmICggZGlzdGFuY2VSZWdpb24gPT09IHRoaXMucHJldmlvdXNEaXN0YW5jZVJlZ2lvbkJvdGggKSB7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIGNhcGl0YWxpemVkLCAnb3ZlcnJpZGluZyB3aXRoIGRpc3RhbmNlLXByb2dyZXNzIG5vdCBzdXBwb3J0ZWQgZm9yIGNhcGl0YWxpemVkIHN0cmluZ3MnICk7XHJcblxyXG4gICAgICBjb25zdCBkaXN0YW5jZVByb2dyZXNzUGhyYXNlID0gdGhpcy5nZXREaXN0YW5jZVByb2dyZXNzU3RyaW5nKCB7XHJcbiAgICAgICAgaW5Qcm9wb3J0aW9uT3ZlcnJpZGVzRGlzdGFuY2VQcm9ncmVzczogZmFsc2UsXHJcbiAgICAgICAgY2xvc2VyU3RyaW5nOiBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmNsb3NlclRvZ2V0aGVyU3RyaW5nUHJvcGVydHkudmFsdWUsXHJcbiAgICAgICAgZmFydGhlclN0cmluZzogUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5mYXJ0aGVyQXBhcnRTdHJpbmdQcm9wZXJ0eS52YWx1ZVxyXG4gICAgICB9ICk7XHJcbiAgICAgIGlmICggZGlzdGFuY2VQcm9ncmVzc1BocmFzZSApIHtcclxuICAgICAgICAvLyBUT0RPOiBQYXR0ZXJuU3RyaW5nUHJvcGVydHkgd2hlbiB0aW1lLCBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcmF0aW8tYW5kLXByb3BvcnRpb24vaXNzdWVzLzQ5OVxyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlUHJvZ3Jlc3NEZXNjcmlwdGlvbiA9IFN0cmluZ1V0aWxzLmZpbGxJbiggUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmJvdGhIYW5kcy5oYW5kc0Rpc3RhbmNlUHJvZ3Jlc3NQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICAgIGRpc3RhbmNlUHJvZ3Jlc3M6IGRpc3RhbmNlUHJvZ3Jlc3NQaHJhc2VcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgIC8vIENvdW50IGNsb3Nlci9mYXJ0aGVyIGFzIGEgcHJldmlvdXMgc28gdGhhdCB3ZSBkb24ndCBldmVyIGdldCB0d28gb2YgdGhlbSBhdCB0aGUgc2FtZSB0aW1lXHJcbiAgICAgICAgdGhpcy5wcmV2aW91c0Rpc3RhbmNlUmVnaW9uQm90aCA9IGRpc3RhbmNlUHJvZ3Jlc3NEZXNjcmlwdGlvbjtcclxuICAgICAgICByZXR1cm4gZGlzdGFuY2VQcm9ncmVzc0Rlc2NyaXB0aW9uO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnByZXZpb3VzRGlzdGFuY2VSZWdpb25Cb3RoID0gZGlzdGFuY2VSZWdpb247XHJcbiAgICByZXR1cm4gdGhpcy5nZXRCb3RoSGFuZHNEaXN0YW5jZVJlZ2lvbiggY2FwaXRhbGl6ZWQgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RGlzdGFuY2VQcm9ncmVzc1N0cmluZyggcHJvdmlkZWRPcHRpb25zPzogR2V0RGlzdGFuY2VQcm9ncmVzc1N0cmluZ09wdGlvbnMgKTogbnVsbCB8IHN0cmluZyB7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxHZXREaXN0YW5jZVByb2dyZXNzU3RyaW5nT3B0aW9ucywgR2V0RGlzdGFuY2VQcm9ncmVzc1N0cmluZ09wdGlvbnM+KCkoIHtcclxuICAgICAgaW5Qcm9wb3J0aW9uT3ZlcnJpZGVzRGlzdGFuY2VQcm9ncmVzczogdHJ1ZSxcclxuICAgICAgY2xvc2VyU3RyaW5nOiBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmNsb3NlclRvU3RyaW5nUHJvcGVydHkudmFsdWUsXHJcbiAgICAgIGZhcnRoZXJTdHJpbmc6IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5oYW5kUG9zaXRpb24uZmFydGhlckZyb21TdHJpbmdQcm9wZXJ0eS52YWx1ZVxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgLy8gTm8gZGlzdGFuY2UgcHJvZ3Jlc3MgaWYgaW4gcHJvcG9ydGlvblxyXG4gICAgaWYgKCBvcHRpb25zLmluUHJvcG9ydGlvbk92ZXJyaWRlc0Rpc3RhbmNlUHJvZ3Jlc3MgJiYgdGhpcy5pblByb3BvcnRpb25Qcm9wZXJ0eS52YWx1ZSApIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY3VycmVudERpc3RhbmNlID0gdGhpcy5yYXRpb1R1cGxlUHJvcGVydHkudmFsdWUuZ2V0RGlzdGFuY2UoKTtcclxuICAgIGxldCBkaXN0YW5jZVByb2dyZXNzU3RyaW5nID0gbnVsbDtcclxuICAgIGlmICggY3VycmVudERpc3RhbmNlIDwgdGhpcy5wcmV2aW91c0Rpc3RhbmNlICkge1xyXG4gICAgICBkaXN0YW5jZVByb2dyZXNzU3RyaW5nID0gb3B0aW9ucy5jbG9zZXJTdHJpbmc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggY3VycmVudERpc3RhbmNlID4gdGhpcy5wcmV2aW91c0Rpc3RhbmNlICkge1xyXG4gICAgICBkaXN0YW5jZVByb2dyZXNzU3RyaW5nID0gb3B0aW9ucy5mYXJ0aGVyU3RyaW5nO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsOyAvLyBzb21laG93IHBvc2l0aW9ucyBhcmUgZXF1YWwsIHNhbWUgY2FzZSBhcyBpbiBwcm9wb3J0aW9uXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wcmV2aW91c0Rpc3RhbmNlID0gY3VycmVudERpc3RhbmNlO1xyXG5cclxuICAgIHJldHVybiBkaXN0YW5jZVByb2dyZXNzU3RyaW5nO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgcmVzcG9uc2UgdHJpZ2dlciB3aGVuIGF0IGFuIGVkZ2UsIGFuZCB5b3UgdHJ5IHRvIG1vdmUgYmV5b25kIGl0LiBUaGlzIHRha2VzIGludG8gY29uc2lkZXJhdGlvbiwgd2hhdCB0aGVcclxuICAgKiBwcmV2aW91cyByYXRpbyB2YWx1ZSB3YXMsIHRoZSBjdXJyZW50IHZhbHVlLCBhbmQgd2hhdCBtb2RhbGl0eSB3YXMgbW9zdCByZWNlbnRseSB1c2VkLiBJZiBqdXN0IG1vdmluZyB0aGUgYW50ZWNlZGVudFxyXG4gICAqIG9yIGNvbnNlcXVlbnQsIHRoZW4gdGhlIHJlc3BvbnNlIGlzIHNpbXBsZXIgYWJvdXQgd2hhdCBoYW5kIG1vdmVkLCBidXQgd2UgbmVlZCB0byBoYW5kIHRoZSBcImJvdGggaGFuZHMgbW92ZWQgYXQgdGhlXHJcbiAgICogc2FtZSB0aW1lXCIgY2FzZSBhcyB3ZWxsLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGN1cnJlbnRUdXBsZVxyXG4gICAqIEBwYXJhbSBtb3N0UmVjZW50bHlNb3ZlZCAtIEJ5IHNwZWNpZnlpbmcgdGhlIFJhdGlvVGVybSBsYXN0IG1vdmVkLCBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgYm90aCB0ZXJtcyBhcmUgYXQgdGhlIGVkZ2VcclxuICAgKiBidXQgb25seSB0aGUgY2hhbmdlZCBvbmUgc2hvdWxkIHJlZmxlY3QgaW4gdGhlIHJlc3BvbnNlLiBcIk1vdmVkXCIgaXMgYSBtaXNub21lciBiZWNhdXNlIGlmIGF0IGVkZ2UgYW5kIHRyeWluZyB0b1xyXG4gICAqIFwiZ28gYmV5b25kXCIsIHRoZSBwb3NpdGlvbiB3b24ndCBjaGFuZ2UgdmFsdWUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyAtIG51bGwgaWYgdGhlcmUgaXMgbm8gZ28tYmV5b25kLWVkZ2UgcmVzcG9uc2VcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0R29CZXlvbmRDb250ZXh0UmVzcG9uc2UoIGN1cnJlbnRUdXBsZTogUkFQUmF0aW9UdXBsZSwgbW9zdFJlY2VudGx5TW92ZWQ6IFJhdGlvSW5wdXRNb2RhbGl0eSApOiBzdHJpbmcgfCBudWxsIHtcclxuXHJcbiAgICAvLyBJZiByYXRpbyBpcyBsb2NrZWQsIHRoZW4gcmVzcG9uZCBhcyBCT1RIX0hBTkRTIChtZWFuaW5nIG1vdmluZyBlaXRoZXIgaGFuZCB3aWxsIHRyaWdnZXIgdGhlIGVkZ2UgcmVzcG9uc2UgZm9yXHJcbiAgICAvLyB0aGUgaGFuZCBhdCB0aGUgZWRnZSkuXHJcbiAgICBtb3N0UmVjZW50bHlNb3ZlZCA9IHRoaXMucmF0aW9Mb2NrZWRQcm9wZXJ0eS52YWx1ZSA/IFJhdGlvSW5wdXRNb2RhbGl0eS5CT1RIX0hBTkRTIDogbW9zdFJlY2VudGx5TW92ZWQ7XHJcblxyXG4gICAgY29uc3QgZW5hYmxlZFJhbmdlID0gdGhpcy5lbmFibGVkUmF0aW9UZXJtc1JhbmdlUHJvcGVydHkudmFsdWU7XHJcblxyXG4gICAgY29uc3QgcHJldmlvdXNBbnRlY2VkZW50QXRNaW4gPSB0aGlzLnByZXZpb3VzRWRnZUNoZWNrVHVwbGUuYW50ZWNlZGVudCA9PT0gZW5hYmxlZFJhbmdlLm1pbjtcclxuICAgIGNvbnN0IHByZXZpb3VzQW50ZWNlZGVudEF0TWF4ID0gdGhpcy5wcmV2aW91c0VkZ2VDaGVja1R1cGxlLmFudGVjZWRlbnQgPT09IGVuYWJsZWRSYW5nZS5tYXg7XHJcbiAgICBjb25zdCBwcmV2aW91c0NvbnNlcXVlbnRBdE1pbiA9IHRoaXMucHJldmlvdXNFZGdlQ2hlY2tUdXBsZS5jb25zZXF1ZW50ID09PSBlbmFibGVkUmFuZ2UubWluO1xyXG4gICAgY29uc3QgcHJldmlvdXNDb25zZXF1ZW50QXRNYXggPSB0aGlzLnByZXZpb3VzRWRnZUNoZWNrVHVwbGUuY29uc2VxdWVudCA9PT0gZW5hYmxlZFJhbmdlLm1heDtcclxuXHJcbiAgICAvLyBJZiBtb3ZlZCBib3RoIHRlcm1zLCBhbmQgZWl0aGVyIHdlcmUgcHJldmlvdXNseSBhdCBhbiBleHRyZW1pdHlcclxuICAgIGNvbnN0IG1vdmVkRWl0aGVyRnJvbUJvdGhIYW5kc0FuZFByZXZpb3VzQXRFZGdlID0gbW9zdFJlY2VudGx5TW92ZWQgPT09IFJhdGlvSW5wdXRNb2RhbGl0eS5CT1RIX0hBTkRTICYmIChcclxuICAgICAgcHJldmlvdXNBbnRlY2VkZW50QXRNaW4gfHwgcHJldmlvdXNBbnRlY2VkZW50QXRNYXggfHwgcHJldmlvdXNDb25zZXF1ZW50QXRNaW4gfHwgcHJldmlvdXNDb25zZXF1ZW50QXRNYXggKTtcclxuXHJcbiAgICAvLyBJZiBtb3ZlZCB0aGUgYW50ZWNlZGVudCwgYW5kIGl0IHdhcyBwcmV2aW91c2x5IGF0IGFuIGV4dHJlbWl0eS5cclxuICAgIGNvbnN0IG1vdmVkQW50ZWNlZGVudEFuZFByZXZpb3VzQXRFZGdlID0gbW9zdFJlY2VudGx5TW92ZWQgPT09IFJhdGlvSW5wdXRNb2RhbGl0eS5BTlRFQ0VERU5UICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICggcHJldmlvdXNBbnRlY2VkZW50QXRNaW4gfHwgcHJldmlvdXNBbnRlY2VkZW50QXRNYXggKTtcclxuXHJcbiAgICAvLyBJZiBtb3ZlZCB0aGUgY29uc2VxdWVuLCBhbmQgaXQgd2FzIHByZXZpb3VzbHkgYXQgYW4gZXh0cmVtaXR5LlxyXG4gICAgY29uc3QgbW92ZWRDb25zZXF1ZW50QW5kUHJldmlvdXNBdEVkZ2UgPSBtb3N0UmVjZW50bHlNb3ZlZCA9PT0gUmF0aW9JbnB1dE1vZGFsaXR5LkNPTlNFUVVFTlQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCBwcmV2aW91c0NvbnNlcXVlbnRBdE1pbiB8fCBwcmV2aW91c0NvbnNlcXVlbnRBdE1heCApO1xyXG5cclxuICAgIC8vIE5vIHByZXZpb3VzIHZhbHVlIHdhcyBhdCBhbiBleHRyZW1pdHkgd2hlbiBtb3ZpbmcgdGhhdCBtb2RhbGl0eS5cclxuICAgIGlmICggISggbW92ZWRFaXRoZXJGcm9tQm90aEhhbmRzQW5kUHJldmlvdXNBdEVkZ2UgfHwgbW92ZWRBbnRlY2VkZW50QW5kUHJldmlvdXNBdEVkZ2UgfHxcclxuICAgICAgICAgICAgbW92ZWRDb25zZXF1ZW50QW5kUHJldmlvdXNBdEVkZ2UgKSApIHtcclxuICAgICAgdGhpcy5wcmV2aW91c0VkZ2VDaGVja1R1cGxlID0gY3VycmVudFR1cGxlO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaGFuZEF0RWRnZSA9IG51bGw7IC8vIHdoYXQgaGFuZD9cclxuICAgIGxldCBleHRyZW1pdHlQb3NpdGlvbiA9IG51bGw7IC8vIHdoZXJlIGFyZSB3ZSBub3c/XHJcbiAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDsgLy8gd2hlcmUgdG8gZ28gZnJvbSBoZXJlP1xyXG5cclxuICAgIC8vIElmIHdlIHNob3VsZCBsb29rIGF0IHRoZSB0ZXJtIGFzIGEgcG9zc2libGUgXCJnbyBiZXlvbmQgZWRnZVwiIGNhc2UuXHJcbiAgICBjb25zdCBhbnRlY2VkZW50UG9zc2libGVCZXlvbmQgPSBtb3ZlZEFudGVjZWRlbnRBbmRQcmV2aW91c0F0RWRnZSB8fCBtb3ZlZEVpdGhlckZyb21Cb3RoSGFuZHNBbmRQcmV2aW91c0F0RWRnZTtcclxuICAgIGNvbnN0IGNvbnNlcXVlbnRQb3NzaWJsZUJleW9uZCA9IG1vdmVkQ29uc2VxdWVudEFuZFByZXZpb3VzQXRFZGdlIHx8IG1vdmVkRWl0aGVyRnJvbUJvdGhIYW5kc0FuZFByZXZpb3VzQXRFZGdlO1xyXG5cclxuICAgIGlmICggYW50ZWNlZGVudFBvc3NpYmxlQmV5b25kICYmIHByZXZpb3VzQW50ZWNlZGVudEF0TWluICYmXHJcbiAgICAgICAgIHRoaXMucmF0aW9UdXBsZVByb3BlcnR5LnZhbHVlLmFudGVjZWRlbnQgPT09IGVuYWJsZWRSYW5nZS5taW4gKSB7XHJcbiAgICAgIGhhbmRBdEVkZ2UgPSBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkubGVmdEhhbmRTdHJpbmdQcm9wZXJ0eS52YWx1ZTtcclxuICAgICAgZXh0cmVtaXR5UG9zaXRpb24gPSBlbmFibGVkUmFuZ2UubWluID09PSByYXBDb25zdGFudHMuVE9UQUxfUkFUSU9fVEVSTV9WQUxVRV9SQU5HRS5taW4gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5oYW5kUG9zaXRpb24uYXRCb3R0b21TdHJpbmdQcm9wZXJ0eS52YWx1ZSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5uZWFyQm90dG9tU3RyaW5nUHJvcGVydHkudmFsdWU7XHJcbiAgICAgIGRpcmVjdGlvbiA9IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS51cFN0cmluZ1Byb3BlcnR5LnZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIGFudGVjZWRlbnRQb3NzaWJsZUJleW9uZCAmJiBwcmV2aW91c0FudGVjZWRlbnRBdE1heCAmJlxyXG4gICAgICAgICAgICAgIHRoaXMucmF0aW9UdXBsZVByb3BlcnR5LnZhbHVlLmFudGVjZWRlbnQgPT09IGVuYWJsZWRSYW5nZS5tYXggKSB7XHJcbiAgICAgIGhhbmRBdEVkZ2UgPSBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkubGVmdEhhbmRTdHJpbmdQcm9wZXJ0eS52YWx1ZTtcclxuICAgICAgZXh0cmVtaXR5UG9zaXRpb24gPSBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuaGFuZFBvc2l0aW9uLmF0VG9wU3RyaW5nUHJvcGVydHkudmFsdWU7XHJcbiAgICAgIGRpcmVjdGlvbiA9IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5kb3duU3RyaW5nUHJvcGVydHkudmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICggY29uc2VxdWVudFBvc3NpYmxlQmV5b25kICYmIHByZXZpb3VzQ29uc2VxdWVudEF0TWluXHJcbiAgICAgICAgICAgICAgJiYgdGhpcy5yYXRpb1R1cGxlUHJvcGVydHkudmFsdWUuY29uc2VxdWVudCA9PT0gZW5hYmxlZFJhbmdlLm1pbiApIHtcclxuICAgICAgaGFuZEF0RWRnZSA9IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5yaWdodEhhbmRTdHJpbmdQcm9wZXJ0eS52YWx1ZTtcclxuICAgICAgZXh0cmVtaXR5UG9zaXRpb24gPSBlbmFibGVkUmFuZ2UubWluID09PSByYXBDb25zdGFudHMuVE9UQUxfUkFUSU9fVEVSTV9WQUxVRV9SQU5HRS5taW4gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS5oYW5kUG9zaXRpb24uYXRCb3R0b21TdHJpbmdQcm9wZXJ0eS52YWx1ZSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5uZWFyQm90dG9tU3RyaW5nUHJvcGVydHkudmFsdWU7XHJcbiAgICAgIGRpcmVjdGlvbiA9IFJhdGlvQW5kUHJvcG9ydGlvblN0cmluZ3MuYTExeS51cFN0cmluZ1Byb3BlcnR5O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIGNvbnNlcXVlbnRQb3NzaWJsZUJleW9uZCAmJiBwcmV2aW91c0NvbnNlcXVlbnRBdE1heFxyXG4gICAgICAgICAgICAgICYmIHRoaXMucmF0aW9UdXBsZVByb3BlcnR5LnZhbHVlLmNvbnNlcXVlbnQgPT09IGVuYWJsZWRSYW5nZS5tYXggKSB7XHJcbiAgICAgIGhhbmRBdEVkZ2UgPSBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkucmlnaHRIYW5kU3RyaW5nUHJvcGVydHkudmFsdWU7XHJcbiAgICAgIGV4dHJlbWl0eVBvc2l0aW9uID0gUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LmhhbmRQb3NpdGlvbi5hdFRvcFN0cmluZ1Byb3BlcnR5LnZhbHVlO1xyXG4gICAgICBkaXJlY3Rpb24gPSBSYXRpb0FuZFByb3BvcnRpb25TdHJpbmdzLmExMXkuZG93blN0cmluZ1Byb3BlcnR5LnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHJldmlvdXNFZGdlQ2hlY2tUdXBsZSA9IGN1cnJlbnRUdXBsZTtcclxuXHJcbiAgICAvLyBEZXRlY3QgaWYgd2UgYXJlIGF0IHRoZSBlZGdlIG9mIHRoZSByYW5nZVxyXG4gICAgaWYgKCBoYW5kQXRFZGdlICYmIGV4dHJlbWl0eVBvc2l0aW9uICYmIGRpcmVjdGlvbiApIHtcclxuXHJcbiAgICAgIC8vIGlmIGhhbmRzIG1vdmUgdG9nZXRoZXIsIHRoZW4gdGhlIHJlc3BvbnNlIHdpbGwgcmVmbGVjdCBib3RoIGhhbmRzIGluIHRoZSBzYW1lIGRpcmVjdGlvblxyXG4gICAgICBjb25zdCBoYW5kc01vdmVUb2dldGhlciA9IHRoaXMucmF0aW9Mb2NrZWRQcm9wZXJ0eS52YWx1ZTtcclxuXHJcbiAgICAgIC8vIEJhc2ljYWxseSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIFwiTW92ZSBoYW5kc1wiIGFuZCBcIk1vdmUgaGFuZFwiXHJcbiAgICAgIGNvbnN0IHBhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IGhhbmRzTW92ZVRvZ2V0aGVyID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LnJhdGlvLmJvdGhIYW5kc0dvQmV5b25kRWRnZUNvbnRleHRSZXNwb25zZVN0cmluZ1Byb3BlcnR5IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmF0aW9BbmRQcm9wb3J0aW9uU3RyaW5ncy5hMTF5LnJhdGlvLnNpbmdsZUhhbmRHb0JleW9uZEVkZ2VDb250ZXh0UmVzcG9uc2VTdHJpbmdQcm9wZXJ0eTtcclxuXHJcbiAgICAgIC8vIFRPRE86IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSB3aGVuIHRpbWUsIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9yYXRpby1hbmQtcHJvcG9ydGlvbi9pc3N1ZXMvNDk5XHJcbiAgICAgIHJldHVybiBTdHJpbmdVdGlscy5maWxsSW4oIHBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICAgIHBvc2l0aW9uOiBleHRyZW1pdHlQb3NpdGlvbixcclxuICAgICAgICBoYW5kOiBoYW5kQXRFZGdlLFxyXG4gICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXHJcbiAgICAgIH0gKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcclxuICAgIHRoaXMucHJldmlvdXNEaXN0YW5jZVJlZ2lvblNpbmdsZSA9IG51bGw7XHJcbiAgICB0aGlzLnByZXZpb3VzRGlzdGFuY2VSZWdpb25Cb3RoID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLnByZXZpb3VzRGlzdGFuY2UgPSB0aGlzLnJhdGlvVHVwbGVQcm9wZXJ0eS52YWx1ZS5nZXREaXN0YW5jZSgpO1xyXG4gICAgdGhpcy5wcmV2aW91c0VkZ2VDaGVja1R1cGxlID0gdGhpcy5yYXRpb1R1cGxlUHJvcGVydHkudmFsdWU7XHJcbiAgfVxyXG59XHJcblxyXG5yYXRpb0FuZFByb3BvcnRpb24ucmVnaXN0ZXIoICdIYW5kUG9zaXRpb25zRGVzY3JpYmVyJywgSGFuZFBvc2l0aW9uc0Rlc2NyaWJlciApO1xyXG5leHBvcnQgZGVmYXVsdCBIYW5kUG9zaXRpb25zRGVzY3JpYmVyOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUEsT0FBT0EsV0FBVyxNQUFNLGtEQUFrRDtBQUMxRSxPQUFPQyxrQkFBa0IsTUFBTSxnQ0FBZ0M7QUFDL0QsT0FBT0MseUJBQXlCLE1BQU0sdUNBQXVDO0FBQzdFLE9BQU9DLFNBQVMsTUFBTSwwQkFBMEI7QUFDaEQsT0FBT0MsWUFBWSxNQUFNLHVCQUF1QjtBQUNoRCxPQUFPQyxZQUFZLE1BQU0sb0JBQW9CO0FBSzdDLE9BQU9DLG9CQUFvQixNQUFNLDJCQUEyQjtBQUM1RCxPQUFPQyxTQUFTLE1BQU0sMENBQTBDO0FBQ2hFLE9BQU9DLGtCQUFrQixNQUFNLHlCQUF5Qjs7QUFFeEQ7QUFDQSxNQUFNQyw0QkFBNEIsR0FBRyxDQUNuQ1AseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDQyxRQUFRLENBQUNDLFdBQVcsQ0FBQ0MsMEJBQTBCLENBQUNDLEtBQUssRUFDakdiLHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQ0MsUUFBUSxDQUFDQyxXQUFXLENBQUNHLDhCQUE4QixDQUFDRCxLQUFLLEVBQ3JHYix5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNDLFFBQVEsQ0FBQ0MsV0FBVyxDQUFDSSx5QkFBeUIsQ0FBQ0YsS0FBSyxFQUNoR2IseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDQyxRQUFRLENBQUNDLFdBQVcsQ0FBQ0sscUJBQXFCLENBQUNILEtBQUssRUFDNUZiLHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQ0MsUUFBUSxDQUFDQyxXQUFXLENBQUNNLDBCQUEwQixDQUFDSixLQUFLLEVBQ2pHYix5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNDLFFBQVEsQ0FBQ0MsV0FBVyxDQUFDTyw2QkFBNkIsQ0FBQ0wsS0FBSyxFQUNwR2IseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDQyxRQUFRLENBQUNDLFdBQVcsQ0FBQ1EseUJBQXlCLENBQUNOLEtBQUssRUFDaEdiLHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQ0MsUUFBUSxDQUFDQyxXQUFXLENBQUNTLDhCQUE4QixDQUFDUCxLQUFLLEVBQ3JHYix5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNDLFFBQVEsQ0FBQ0MsV0FBVyxDQUFDVSw0QkFBNEIsQ0FBQ1IsS0FBSyxFQUNuR2IseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDQyxRQUFRLENBQUNDLFdBQVcsQ0FBQ1csc0JBQXNCLENBQUNULEtBQUssQ0FDOUY7QUFFRCxNQUFNVSwwQkFBMEIsR0FBRyxDQUNqQ3ZCLHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQ0MsUUFBUSxDQUFDYyxTQUFTLENBQUNaLDBCQUEwQixDQUFDQyxLQUFLLEVBQy9GYix5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNDLFFBQVEsQ0FBQ2MsU0FBUyxDQUFDViw4QkFBOEIsQ0FBQ0QsS0FBSyxFQUNuR2IseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDQyxRQUFRLENBQUNjLFNBQVMsQ0FBQ1QseUJBQXlCLENBQUNGLEtBQUssRUFDOUZiLHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQ0MsUUFBUSxDQUFDYyxTQUFTLENBQUNSLHFCQUFxQixDQUFDSCxLQUFLLEVBQzFGYix5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNDLFFBQVEsQ0FBQ2MsU0FBUyxDQUFDUCwwQkFBMEIsQ0FBQ0osS0FBSyxFQUMvRmIseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDQyxRQUFRLENBQUNjLFNBQVMsQ0FBQ04sNkJBQTZCLENBQUNMLEtBQUssRUFDbEdiLHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQ0MsUUFBUSxDQUFDYyxTQUFTLENBQUNMLHlCQUF5QixDQUFDTixLQUFLLEVBQzlGYix5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNDLFFBQVEsQ0FBQ2MsU0FBUyxDQUFDSiw4QkFBOEIsQ0FBQ1AsS0FBSyxFQUNuR2IseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDQyxRQUFRLENBQUNjLFNBQVMsQ0FBQ0gsNEJBQTRCLENBQUNSLEtBQUssRUFDakdiLHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQ0MsUUFBUSxDQUFDYyxTQUFTLENBQUNGLHNCQUFzQixDQUFDVCxLQUFLLENBQzVGO0FBRURZLE1BQU0sSUFBSUEsTUFBTSxDQUFFbEIsNEJBQTRCLENBQUNtQixNQUFNLEtBQUtILDBCQUEwQixDQUFDRyxNQUFNLEVBQUUsNEJBQTZCLENBQUM7QUFFM0gsTUFBTUMsV0FBVyxHQUFHekIsWUFBWSxDQUFDMEIsNEJBQTRCOztBQUU3RDtBQUNBLE1BQU1DLHVCQUF1QixHQUFHLE1BQU07QUFFdEMsTUFBTUMsbUJBQW1CLENBQUM7RUFLakJDLFdBQVdBLENBQUVDLFVBQWtCLEVBQUVDLGlCQUEyRCxFQUFFQyxNQUFpQyxFQUFHO0lBQ3ZJLElBQUksQ0FBQ0YsVUFBVSxHQUFHQSxVQUFVO0lBQzVCLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUdBLGlCQUFpQjtJQUMxQyxJQUFJLENBQUNDLE1BQU0sR0FBR0EsTUFBTSxDQUFDckIsS0FBSztFQUM1QjtFQUVPc0IsZ0JBQWdCQSxDQUFFQyxRQUFnQixFQUFZO0lBQ25ELE9BQU8sSUFBSSxDQUFDSCxpQkFBaUIsQ0FBRUcsUUFBUSxFQUFFLElBQUksQ0FBQ0osVUFBVyxDQUFDO0VBQzVEO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBLE1BQU1LLHFCQUE0QyxHQUFHLENBQ25ELElBQUlQLG1CQUFtQixDQUFFLENBQUMsRUFBRSxDQUFFTSxRQUFRLEVBQUVKLFVBQVUsS0FBTUksUUFBUSxLQUFLSixVQUFVLEVBQzdFaEMseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDNkIsbUJBQW9CLENBQUMsRUFDbkUsSUFBSVIsbUJBQW1CLENBQUUsR0FBRyxFQUFFLENBQUVNLFFBQVEsRUFBRUosVUFBVSxLQUFNSSxRQUFRLElBQUlKLFVBQVUsRUFDOUVoQyx5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUM4QixxQkFBc0IsQ0FBQyxFQUNyRSxJQUFJVCxtQkFBbUIsQ0FBRSxJQUFJLEVBQUUsQ0FBRU0sUUFBUSxFQUFFSixVQUFVLEtBQU1JLFFBQVEsR0FBR0osVUFBVSxFQUM5RWhDLHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQytCLDJCQUE0QixDQUFDLEVBQzNFLElBQUlWLG1CQUFtQixDQUFFLEdBQUcsR0FBR0QsdUJBQXVCLEVBQUUsQ0FBRU8sUUFBUSxFQUFFSixVQUFVLEtBQU1JLFFBQVEsR0FBR0osVUFBVSxFQUN2R2hDLHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQ2dDLGlDQUFrQyxDQUFDLEVBQ2pGLElBQUlYLG1CQUFtQixDQUFFLEdBQUcsRUFBRSxDQUFFTSxRQUFRLEVBQUVKLFVBQVUsS0FBTUksUUFBUSxHQUFHSixVQUFVLEVBQzdFaEMseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDaUMsMEJBQTJCLENBQUMsRUFDMUUsSUFBSVosbUJBQW1CLENBQUUsR0FBRyxFQUFFLENBQUVNLFFBQVEsRUFBRUosVUFBVSxLQUFNSSxRQUFRLEtBQUtKLFVBQVUsRUFDL0VoQyx5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNrQyxzQkFBdUIsQ0FBQyxFQUN0RSxJQUFJYixtQkFBbUIsQ0FBRSxHQUFHLEdBQUdELHVCQUF1QixFQUFFLENBQUVPLFFBQVEsRUFBRUosVUFBVSxLQUFNSSxRQUFRLElBQUlKLFVBQVUsRUFDeEdoQyx5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNpQywwQkFBMkIsQ0FBQyxFQUMxRSxJQUFJWixtQkFBbUIsQ0FBRSxJQUFJLEVBQUUsQ0FBRU0sUUFBUSxFQUFFSixVQUFVLEtBQU1JLFFBQVEsSUFBSUosVUFBVSxFQUMvRWhDLHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQ21DLGlDQUFrQyxDQUFDLEVBQ2pGLElBQUlkLG1CQUFtQixDQUFFLEdBQUcsRUFBRSxDQUFFTSxRQUFRLEVBQUVKLFVBQVUsS0FBTUksUUFBUSxHQUFHSixVQUFVLEVBQzdFaEMseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDb0MsMkJBQTRCLENBQUMsRUFDM0UsSUFBSWYsbUJBQW1CLENBQUUsQ0FBQyxFQUFFLENBQUVNLFFBQVEsRUFBRUosVUFBVSxLQUFNSSxRQUFRLEdBQUdKLFVBQVUsRUFDM0VoQyx5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNxQyx3QkFBeUIsQ0FBQyxFQUN4RSxJQUFJaEIsbUJBQW1CLENBQUUsQ0FBQyxFQUFFLENBQUVNLFFBQVEsRUFBRUosVUFBVSxLQUFNSSxRQUFRLEtBQUtKLFVBQVUsRUFDN0VoQyx5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNzQyxzQkFBdUIsQ0FBQyxDQUN2RTtBQWVELE1BQU1DLHNCQUFzQixDQUFDO0VBTzNCO0VBQ0E7RUFLQSxPQUF1QlgscUJBQXFCLEdBQUdBLHFCQUFxQjtFQUk3RE4sV0FBV0EsQ0FBRWtCLGtCQUEyQyxFQUFFQyxpQkFBb0MsRUFDakZDLG9CQUFnRCxFQUFFQyw4QkFBd0QsRUFDMUdDLG1CQUErQyxFQUFHO0lBRXBFLElBQUksQ0FBQ0osa0JBQWtCLEdBQUdBLGtCQUFrQjtJQUM1QyxJQUFJLENBQUNJLG1CQUFtQixHQUFHQSxtQkFBbUI7SUFDOUMsSUFBSSxDQUFDSCxpQkFBaUIsR0FBR0EsaUJBQWlCO0lBQzFDLElBQUksQ0FBQ0Msb0JBQW9CLEdBQUdBLG9CQUFvQjtJQUNoRCxJQUFJLENBQUNDLDhCQUE4QixHQUFHQSw4QkFBOEI7SUFFcEUsSUFBSSxDQUFDRSw0QkFBNEIsR0FBRyxJQUFJO0lBQ3hDLElBQUksQ0FBQ0MsMEJBQTBCLEdBQUcsSUFBSTtJQUV0QyxJQUFJLENBQUNDLGdCQUFnQixHQUFHUCxrQkFBa0IsQ0FBQ3BDLEtBQUssQ0FBQzRDLFdBQVcsQ0FBQyxDQUFDO0lBRTlELElBQUksQ0FBQ0Msc0JBQXNCLEdBQUdULGtCQUFrQixDQUFDcEMsS0FBSztFQUN4RDs7RUFFQTtBQUNGO0FBQ0E7RUFDUzhDLDBCQUEwQkEsQ0FBRXZCLFFBQWdCLEVBQUV3QixZQUEwQixFQUFXO0lBQ3hGLE9BQU96RCxZQUFZLENBQUMwRCxtQkFBbUIsQ0FBRUQsWUFBYSxDQUFDLEdBQUdaLHNCQUFzQixDQUFDYyxzQkFBc0IsQ0FBRTFCLFFBQVMsQ0FBQyxHQUM1RyxJQUFJLENBQUMyQiwyQkFBMkIsQ0FBRTNCLFFBQVEsRUFBRWpDLFlBQVksQ0FBQzZELHVCQUF1QixDQUFFSixZQUFhLENBQUUsQ0FBQztFQUMzRztFQUVRRywyQkFBMkJBLENBQUV0RCxZQUFvQixFQUFFd0QsZ0JBQWdCLEdBQUcsS0FBSyxFQUFXO0lBQzVGLE1BQU1DLFlBQVksR0FBRyxJQUFJLENBQUNoQixpQkFBaUIsQ0FBQ2lCLCtDQUErQyxDQUFFMUQsWUFBYSxDQUFDOztJQUUzRztJQUNBLElBQUt3RCxnQkFBZ0IsSUFBSSxPQUFPQyxZQUFZLENBQUNFLGVBQWUsS0FBSyxRQUFRLEVBQUc7TUFDMUU7TUFDQSxPQUFPdEUsV0FBVyxDQUFDdUUsTUFBTSxDQUFFckUseUJBQXlCLENBQUNRLElBQUksQ0FBQzhELFFBQVEsQ0FBQ0MsaURBQWlELEVBQUU7UUFDcEhDLGdCQUFnQixFQUFFTixZQUFZLENBQUNNLGdCQUFnQjtRQUMvQ0MsT0FBTyxFQUFFUCxZQUFZLENBQUNFO01BQ3hCLENBQUUsQ0FBQztJQUNMOztJQUVBO0lBQ0EsT0FBT3RFLFdBQVcsQ0FBQ3VFLE1BQU0sQ0FBRXJFLHlCQUF5QixDQUFDUSxJQUFJLENBQUM4RCxRQUFRLENBQUNJLDZDQUE2QyxFQUFFO01BQ2hIRixnQkFBZ0IsRUFBRU4sWUFBWSxDQUFDTSxnQkFBZ0I7TUFDL0NHLGdCQUFnQixFQUFFVCxZQUFZLENBQUNTO0lBQ2pDLENBQUUsQ0FBQztFQUNMO0VBRUEsT0FBZWIsc0JBQXNCQSxDQUFFMUIsUUFBZ0IsRUFBVztJQUNoRVgsTUFBTSxJQUFJQSxNQUFNLENBQUVFLFdBQVcsQ0FBQ2lELFFBQVEsQ0FBRXhDLFFBQVMsQ0FBQyxFQUFFLDJDQUE0QyxDQUFDO0lBRWpHLE1BQU15QyxrQkFBa0IsR0FBR2xELFdBQVcsQ0FBQ21ELGtCQUFrQixDQUFFMUMsUUFBUyxDQUFDO0lBRXJFLElBQUlGLE1BQU0sR0FBRyxJQUFJO0lBRWpCLEtBQU0sSUFBSTZDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBRzFDLHFCQUFxQixDQUFDWCxNQUFNLEVBQUVxRCxDQUFDLEVBQUUsRUFBRztNQUN2RCxNQUFNQyxtQkFBbUIsR0FBRzNDLHFCQUFxQixDQUFFMEMsQ0FBQyxDQUFFO01BRXRELElBQUtDLG1CQUFtQixDQUFDN0MsZ0JBQWdCLENBQUUwQyxrQkFBbUIsQ0FBQyxFQUFHO1FBQ2hFM0MsTUFBTSxHQUFHOEMsbUJBQW1CLENBQUM5QyxNQUFNO1FBQ25DO01BQ0Y7SUFDRjtJQUVBVCxNQUFNLElBQUlBLE1BQU0sQ0FBRVMsTUFBTSxLQUFLLElBQUksRUFBRSwwQ0FBMkMsQ0FBQztJQUUvRSxPQUFPQSxNQUFNO0VBQ2Y7O0VBRUE7QUFDRjtBQUNBO0VBQ1MrQyxpQkFBaUJBLENBQUV6RCxTQUFrQixFQUFFZCxRQUFnQixHQUFHLElBQUksQ0FBQ3VDLGtCQUFrQixDQUFDcEMsS0FBSyxDQUFDNEMsV0FBVyxDQUFDLENBQUMsRUFBVztJQUVySGhDLE1BQU0sSUFBSUEsTUFBTSxDQUFFRSxXQUFXLENBQUN1RCxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxnREFBaUQsQ0FBQztJQUVuRyxJQUFJQyxLQUFLLEdBQUcsSUFBSTtJQUNoQixJQUFLekUsUUFBUSxLQUFLaUIsV0FBVyxDQUFDdUQsU0FBUyxDQUFDLENBQUMsRUFBRztNQUMxQ0MsS0FBSyxHQUFHLENBQUM7SUFDWCxDQUFDLE1BQ0ksSUFBS3pFLFFBQVEsSUFBSSxJQUFJLEVBQUc7TUFDM0J5RSxLQUFLLEdBQUcsQ0FBQztJQUNYLENBQUMsTUFDSSxJQUFLekUsUUFBUSxJQUFJLEdBQUcsRUFBRztNQUMxQnlFLEtBQUssR0FBRyxDQUFDO0lBQ1gsQ0FBQyxNQUNJLElBQUt6RSxRQUFRLElBQUksSUFBSSxFQUFHO01BQzNCeUUsS0FBSyxHQUFHLENBQUM7SUFDWCxDQUFDLE1BQ0ksSUFBS3pFLFFBQVEsSUFBSSxHQUFHLEVBQUc7TUFDMUJ5RSxLQUFLLEdBQUcsQ0FBQztJQUNYLENBQUMsTUFDSSxJQUFLekUsUUFBUSxJQUFJLEdBQUcsRUFBRztNQUMxQnlFLEtBQUssR0FBRyxDQUFDO0lBQ1gsQ0FBQyxNQUNJLElBQUt6RSxRQUFRLElBQUksR0FBRyxFQUFHO01BQzFCeUUsS0FBSyxHQUFHLENBQUM7SUFDWCxDQUFDLE1BQ0ksSUFBS3pFLFFBQVEsSUFBSSxHQUFHLEVBQUc7TUFDMUJ5RSxLQUFLLEdBQUcsQ0FBQztJQUNYLENBQUMsTUFDSSxJQUFLekUsUUFBUSxHQUFHLENBQUMsRUFBRztNQUN2QnlFLEtBQUssR0FBRyxDQUFDO0lBQ1gsQ0FBQyxNQUNJLElBQUt6RSxRQUFRLEtBQUssQ0FBQyxFQUFHO01BQ3pCeUUsS0FBSyxHQUFHLENBQUM7SUFDWDtJQUNBMUQsTUFBTSxJQUFJQSxNQUFNLENBQUUwRCxLQUFLLEtBQUssSUFBSSxFQUFHLG9EQUFtRHpFLFFBQVMsRUFBRSxDQUFDO0lBQ2xHeUUsS0FBSyxHQUFHQSxLQUFNO0lBQ2QxRCxNQUFNLElBQUlBLE1BQU0sQ0FBRTBELEtBQUssR0FBRzVFLDRCQUE0QixDQUFDbUIsTUFBTSxFQUFFLGNBQWUsQ0FBQztJQUMvRSxPQUFPLENBQUVGLFNBQVMsR0FBR0QsMEJBQTBCLEdBQUdoQiw0QkFBNEIsRUFBSTRFLEtBQUssQ0FBRTtFQUMzRjtFQUVPQyw0QkFBNEJBLENBQUVDLFNBQW9CLEVBQUV6QixZQUEwQixFQUFFMEIsZUFBNEMsRUFBVztJQUU1SSxNQUFNQyxPQUFPLEdBQUdsRixTQUFTLENBQTZCLENBQUMsQ0FBRTtNQUV2RG1GLDRCQUE0QixFQUFFLElBQUk7TUFFbEM7TUFDQUMsb0JBQW9CLEVBQUVyRixvQkFBb0IsQ0FBQ3NGO0lBQzdDLENBQUMsRUFBRUosZUFBZ0IsQ0FBQztJQUVwQixJQUFLQyxPQUFPLENBQUNDLDRCQUE0QixFQUFHO01BQzFDLE1BQU1HLHVCQUF1QixHQUFHLElBQUksQ0FBQ0MsMEJBQTBCLENBQUUsSUFBSSxDQUFDM0Msa0JBQWtCLENBQUNwQyxLQUFLLEVBQUV3RSxTQUFVLENBQUM7TUFDM0csSUFBS00sdUJBQXVCLEVBQUc7UUFDN0IsT0FBT0EsdUJBQXVCO01BQ2hDO0lBQ0Y7SUFFQSxJQUFJRSxjQUFjLEdBQUcsSUFBSTtJQUN6QixRQUFRTixPQUFPLENBQUNFLG9CQUFvQjtNQUNsQyxLQUFLckYsb0JBQW9CLENBQUNzRixLQUFLO1FBQzdCRyxjQUFjLEdBQUcsSUFBSSxDQUFDQywwQkFBMEIsQ0FBRVQsU0FBVSxDQUFDO1FBQzdEO01BQ0YsS0FBS2pGLG9CQUFvQixDQUFDMkYsaUJBQWlCO1FBQ3pDRixjQUFjLEdBQUcsSUFBSSxDQUFDRyxtQ0FBbUMsQ0FBQyxDQUFDO1FBQzNEO01BQ0YsS0FBSzVGLG9CQUFvQixDQUFDNkYsZUFBZTtRQUN2Q0osY0FBYyxHQUFHLElBQUksQ0FBQ1osaUJBQWlCLENBQUUsS0FBTSxDQUFDO1FBQ2hEO01BQ0Y7UUFDRXhELE1BQU0sSUFBSUEsTUFBTSxDQUFFLEtBQUssRUFBRSw0QkFBNkIsQ0FBQztJQUMzRDtJQUVBQSxNQUFNLElBQUlBLE1BQU0sQ0FBRW9FLGNBQWMsRUFBRSw0QkFBNkIsQ0FBQztJQUNoRSxNQUFNSyx1QkFBdUIsR0FBR2IsU0FBUyxLQUFLcEYsU0FBUyxDQUFDa0csVUFBVSxHQUNsQ25HLHlCQUF5QixDQUFDUSxJQUFJLENBQUM0RiwyQkFBMkIsR0FDMURwRyx5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDNkYsNEJBQTRCOztJQUUzRjtJQUNBLE1BQU1DLGdCQUFnQixHQUFHeEcsV0FBVyxDQUFDdUUsTUFBTSxDQUFFckUseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDOEYsOENBQThDLEVBQUU7TUFDdklDLFNBQVMsRUFBRU4sdUJBQXVCO01BQ2xDTywwQkFBMEIsRUFBRVo7SUFDOUIsQ0FBRSxDQUFDOztJQUVIO0lBQ0EsT0FBTy9GLFdBQVcsQ0FBQ3VFLE1BQU0sQ0FBRXJFLHlCQUF5QixDQUFDUSxJQUFJLENBQUNrRyxLQUFLLENBQUNDLDZDQUE2QyxFQUFFO01BQzdHakcsUUFBUSxFQUFFNEYsZ0JBQWdCO01BQzFCbEUsUUFBUSxFQUFFLElBQUksQ0FBQ3VCLDBCQUEwQixDQUFFLElBQUksQ0FBQ1Ysa0JBQWtCLENBQUNwQyxLQUFLLENBQUMrRixVQUFVLENBQUV2QixTQUFVLENBQUMsRUFDOUZ6QixZQUFhO0lBQ2pCLENBQUUsQ0FBQztFQUNMOztFQUVBO0FBQ0Y7QUFDQTtFQUNVb0MsbUNBQW1DQSxDQUFBLEVBQVc7SUFFcEQ7SUFDQSxPQUFPLElBQUksQ0FBQ2EseUJBQXlCLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQzVCLGlCQUFpQixDQUFFLEtBQU0sQ0FBQztFQUM1RTs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtFQUNTYSwwQkFBMEJBLENBQUVULFNBQW9CLEVBQVc7SUFFaEUsTUFBTXlCLGNBQWMsR0FBRyxJQUFJLENBQUM3QixpQkFBaUIsQ0FBRSxLQUFNLENBQUM7SUFFdEQsSUFBSzZCLGNBQWMsS0FBSyxJQUFJLENBQUN4RCw0QkFBNEIsRUFBRztNQUMxRCxNQUFNeUQsc0JBQXNCLEdBQUcsSUFBSSxDQUFDRix5QkFBeUIsQ0FBQyxDQUFDO01BQy9ELE1BQU1HLFlBQVksR0FBRyxJQUFJLENBQUMvRCxrQkFBa0IsQ0FBQ3BDLEtBQUssQ0FBQytGLFVBQVUsQ0FBRXZCLFNBQVUsQ0FBQztNQUMxRSxNQUFNNEIsWUFBWSxHQUFHdEYsV0FBVyxDQUFDdUYsR0FBRyxLQUFLRixZQUFZLElBQUlyRixXQUFXLENBQUN3RixHQUFHLEtBQUtILFlBQVk7O01BRXpGO01BQ0EsSUFBS0Qsc0JBQXNCLElBQUksQ0FBQ0UsWUFBWSxFQUFHO1FBRTdDO1FBQ0EsSUFBSSxDQUFDM0QsNEJBQTRCLEdBQUd5RCxzQkFBc0I7UUFDMUQsT0FBT0Esc0JBQXNCO01BQy9CO0lBQ0Y7SUFFQSxJQUFJLENBQUN6RCw0QkFBNEIsR0FBR3dELGNBQWM7SUFFbEQsT0FBT0EsY0FBYztFQUN2QjtFQUVPTSxvQkFBb0JBLENBQUV6RyxXQUFvQixFQUFFMkUsZUFBNEMsRUFBVztJQUN4RyxNQUFNQyxPQUFPLEdBQUdsRixTQUFTLENBQXFHLENBQUMsQ0FBRTtNQUUvSDtNQUNBb0Ysb0JBQW9CLEVBQUVyRixvQkFBb0IsQ0FBQ3NGO0lBQzdDLENBQUMsRUFBRUosZUFBZ0IsQ0FBQztJQUVwQixRQUFRQyxPQUFPLENBQUNFLG9CQUFvQjtNQUNsQyxLQUFLckYsb0JBQW9CLENBQUNzRixLQUFLO1FBQzdCLE9BQU8sSUFBSSxDQUFDMkIseUJBQXlCLENBQUUxRyxXQUFZLENBQUM7TUFDdEQsS0FBS1Asb0JBQW9CLENBQUMyRixpQkFBaUI7UUFDekMsT0FBTyxJQUFJLENBQUN1Qiw0QkFBNEIsQ0FBRTNHLFdBQVksQ0FBQztNQUN6RCxLQUFLUCxvQkFBb0IsQ0FBQzZGLGVBQWU7UUFDdkMsT0FBTyxJQUFJLENBQUNzQiwwQkFBMEIsQ0FBRTVHLFdBQVksQ0FBQztNQUN2RDtRQUNFYyxNQUFNLElBQUlBLE1BQU0sQ0FBRSxLQUFLLEVBQUUsNEJBQTZCLENBQUM7SUFDM0Q7SUFDQUEsTUFBTSxJQUFJQSxNQUFNLENBQUUsS0FBSyxFQUFFLDZDQUE4QyxDQUFDO0lBQ3hFLE9BQU8sZ0NBQWdDO0VBQ3pDO0VBRU82Riw0QkFBNEJBLENBQUUzRyxXQUFvQixFQUFXO0lBQ2xFLE1BQU1vRyxzQkFBc0IsR0FBRyxJQUFJLENBQUNGLHlCQUF5QixDQUFFO01BQzdEVyxxQ0FBcUMsRUFBRSxLQUFLO01BQzVDQyxZQUFZLEVBQUV6SCx5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNpSCw0QkFBNEIsQ0FBQzdHLEtBQUs7TUFDNUY4RyxhQUFhLEVBQUUzSCx5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNtSCwwQkFBMEIsQ0FBQy9HO0lBQ3hGLENBQUUsQ0FBQztJQUNILElBQUtrRyxzQkFBc0IsRUFBRztNQUM1QjtNQUNBLE9BQU9qSCxXQUFXLENBQUN1RSxNQUFNLENBQUVyRSx5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDcUgsU0FBUyxDQUFDQywwQ0FBMEMsRUFBRTtRQUM5R0MsZ0JBQWdCLEVBQUVoQjtNQUNwQixDQUFFLENBQUM7SUFDTDtJQUNBLE9BQU8sSUFBSSxDQUFDUSwwQkFBMEIsQ0FBRTVHLFdBQVksQ0FBQztFQUN2RDtFQUVPNEcsMEJBQTBCQSxDQUFFNUcsV0FBb0IsRUFBVztJQUNoRSxNQUFNbUcsY0FBYyxHQUFHLElBQUksQ0FBQzdCLGlCQUFpQixDQUFFLElBQUssQ0FBQztJQUVyRCxNQUFNK0MsT0FBTyxHQUFHckgsV0FBVyxHQUFHWCx5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDcUgsU0FBUyxDQUFDSSw2Q0FBNkMsQ0FBQ3BILEtBQUssR0FDMUdiLHlCQUF5QixDQUFDUSxJQUFJLENBQUNxSCxTQUFTLENBQUNLLGtDQUFrQyxDQUFDckgsS0FBSzs7SUFFakc7SUFDQSxPQUFPZixXQUFXLENBQUN1RSxNQUFNLENBQUUyRCxPQUFPLEVBQUU7TUFBRXRILFFBQVEsRUFBRW9HO0lBQWUsQ0FBRSxDQUFDO0VBQ3BFO0VBRU9PLHlCQUF5QkEsQ0FBRTFHLFdBQVcsR0FBRyxLQUFLLEVBQVc7SUFDOUQsTUFBTW1HLGNBQWMsR0FBRyxJQUFJLENBQUM3QixpQkFBaUIsQ0FBRSxJQUFLLENBQUM7SUFFckQsSUFBSzZCLGNBQWMsS0FBSyxJQUFJLENBQUN2RCwwQkFBMEIsRUFBRztNQUN4RDlCLE1BQU0sSUFBSUEsTUFBTSxDQUFFZCxXQUFXLEVBQUUseUVBQTBFLENBQUM7TUFFMUcsTUFBTW9HLHNCQUFzQixHQUFHLElBQUksQ0FBQ0YseUJBQXlCLENBQUU7UUFDN0RXLHFDQUFxQyxFQUFFLEtBQUs7UUFDNUNDLFlBQVksRUFBRXpILHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQ2lILDRCQUE0QixDQUFDN0csS0FBSztRQUM1RjhHLGFBQWEsRUFBRTNILHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQ21ILDBCQUEwQixDQUFDL0c7TUFDeEYsQ0FBRSxDQUFDO01BQ0gsSUFBS2tHLHNCQUFzQixFQUFHO1FBQzVCO1FBQ0EsTUFBTW9CLDJCQUEyQixHQUFHckksV0FBVyxDQUFDdUUsTUFBTSxDQUFFckUseUJBQXlCLENBQUNRLElBQUksQ0FBQ3FILFNBQVMsQ0FBQ0MsMENBQTBDLEVBQUU7VUFDM0lDLGdCQUFnQixFQUFFaEI7UUFDcEIsQ0FBRSxDQUFDOztRQUVIO1FBQ0EsSUFBSSxDQUFDeEQsMEJBQTBCLEdBQUc0RSwyQkFBMkI7UUFDN0QsT0FBT0EsMkJBQTJCO01BQ3BDO0lBQ0Y7SUFDQSxJQUFJLENBQUM1RSwwQkFBMEIsR0FBR3VELGNBQWM7SUFDaEQsT0FBTyxJQUFJLENBQUNTLDBCQUEwQixDQUFFNUcsV0FBWSxDQUFDO0VBQ3ZEO0VBRVFrRyx5QkFBeUJBLENBQUV2QixlQUFrRCxFQUFrQjtJQUVyRyxNQUFNQyxPQUFPLEdBQUdsRixTQUFTLENBQXFFLENBQUMsQ0FBRTtNQUMvRm1ILHFDQUFxQyxFQUFFLElBQUk7TUFDM0NDLFlBQVksRUFBRXpILHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQzJILHNCQUFzQixDQUFDdkgsS0FBSztNQUN0RjhHLGFBQWEsRUFBRTNILHlCQUF5QixDQUFDUSxJQUFJLENBQUNDLFlBQVksQ0FBQzRILHlCQUF5QixDQUFDeEg7SUFDdkYsQ0FBQyxFQUFFeUUsZUFBZ0IsQ0FBQzs7SUFFcEI7SUFDQSxJQUFLQyxPQUFPLENBQUNpQyxxQ0FBcUMsSUFBSSxJQUFJLENBQUNyRSxvQkFBb0IsQ0FBQ3RDLEtBQUssRUFBRztNQUN0RixPQUFPLElBQUk7SUFDYjtJQUVBLE1BQU15SCxlQUFlLEdBQUcsSUFBSSxDQUFDckYsa0JBQWtCLENBQUNwQyxLQUFLLENBQUM0QyxXQUFXLENBQUMsQ0FBQztJQUNuRSxJQUFJOEUsc0JBQXNCLEdBQUcsSUFBSTtJQUNqQyxJQUFLRCxlQUFlLEdBQUcsSUFBSSxDQUFDOUUsZ0JBQWdCLEVBQUc7TUFDN0MrRSxzQkFBc0IsR0FBR2hELE9BQU8sQ0FBQ2tDLFlBQVk7SUFDL0MsQ0FBQyxNQUNJLElBQUthLGVBQWUsR0FBRyxJQUFJLENBQUM5RSxnQkFBZ0IsRUFBRztNQUNsRCtFLHNCQUFzQixHQUFHaEQsT0FBTyxDQUFDb0MsYUFBYTtJQUNoRCxDQUFDLE1BQ0k7TUFDSCxPQUFPLElBQUksQ0FBQyxDQUFDO0lBQ2Y7O0lBRUEsSUFBSSxDQUFDbkUsZ0JBQWdCLEdBQUc4RSxlQUFlO0lBRXZDLE9BQU9DLHNCQUFzQjtFQUMvQjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNTM0MsMEJBQTBCQSxDQUFFNEMsWUFBMkIsRUFBRUMsaUJBQXFDLEVBQWtCO0lBRXJIO0lBQ0E7SUFDQUEsaUJBQWlCLEdBQUcsSUFBSSxDQUFDcEYsbUJBQW1CLENBQUN4QyxLQUFLLEdBQUdQLGtCQUFrQixDQUFDb0ksVUFBVSxHQUFHRCxpQkFBaUI7SUFFdEcsTUFBTUUsWUFBWSxHQUFHLElBQUksQ0FBQ3ZGLDhCQUE4QixDQUFDdkMsS0FBSztJQUU5RCxNQUFNK0gsdUJBQXVCLEdBQUcsSUFBSSxDQUFDbEYsc0JBQXNCLENBQUNtRixVQUFVLEtBQUtGLFlBQVksQ0FBQ3pCLEdBQUc7SUFDM0YsTUFBTTRCLHVCQUF1QixHQUFHLElBQUksQ0FBQ3BGLHNCQUFzQixDQUFDbUYsVUFBVSxLQUFLRixZQUFZLENBQUN4QixHQUFHO0lBQzNGLE1BQU00Qix1QkFBdUIsR0FBRyxJQUFJLENBQUNyRixzQkFBc0IsQ0FBQ3NGLFVBQVUsS0FBS0wsWUFBWSxDQUFDekIsR0FBRztJQUMzRixNQUFNK0IsdUJBQXVCLEdBQUcsSUFBSSxDQUFDdkYsc0JBQXNCLENBQUNzRixVQUFVLEtBQUtMLFlBQVksQ0FBQ3hCLEdBQUc7O0lBRTNGO0lBQ0EsTUFBTStCLHlDQUF5QyxHQUFHVCxpQkFBaUIsS0FBS25JLGtCQUFrQixDQUFDb0ksVUFBVSxLQUNuR0UsdUJBQXVCLElBQUlFLHVCQUF1QixJQUFJQyx1QkFBdUIsSUFBSUUsdUJBQXVCLENBQUU7O0lBRTVHO0lBQ0EsTUFBTUUsZ0NBQWdDLEdBQUdWLGlCQUFpQixLQUFLbkksa0JBQWtCLENBQUM4SSxVQUFVLEtBQ2pEUix1QkFBdUIsSUFBSUUsdUJBQXVCLENBQUU7O0lBRS9GO0lBQ0EsTUFBTU8sZ0NBQWdDLEdBQUdaLGlCQUFpQixLQUFLbkksa0JBQWtCLENBQUM2RixVQUFVLEtBQ2pENEMsdUJBQXVCLElBQUlFLHVCQUF1QixDQUFFOztJQUUvRjtJQUNBLElBQUssRUFBR0MseUNBQXlDLElBQUlDLGdDQUFnQyxJQUM3RUUsZ0NBQWdDLENBQUUsRUFBRztNQUMzQyxJQUFJLENBQUMzRixzQkFBc0IsR0FBRzhFLFlBQVk7TUFDMUMsT0FBTyxJQUFJO0lBQ2I7SUFFQSxJQUFJYyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDdkIsSUFBSUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDOUIsSUFBSUMsU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDOztJQUV0QjtJQUNBLE1BQU1DLHdCQUF3QixHQUFHTixnQ0FBZ0MsSUFBSUQseUNBQXlDO0lBQzlHLE1BQU1RLHdCQUF3QixHQUFHTCxnQ0FBZ0MsSUFBSUgseUNBQXlDO0lBRTlHLElBQUtPLHdCQUF3QixJQUFJYix1QkFBdUIsSUFDbkQsSUFBSSxDQUFDM0Ysa0JBQWtCLENBQUNwQyxLQUFLLENBQUNnSSxVQUFVLEtBQUtGLFlBQVksQ0FBQ3pCLEdBQUcsRUFBRztNQUNuRW9DLFVBQVUsR0FBR3RKLHlCQUF5QixDQUFDUSxJQUFJLENBQUNtSixzQkFBc0IsQ0FBQzlJLEtBQUs7TUFDeEUwSSxpQkFBaUIsR0FBR1osWUFBWSxDQUFDekIsR0FBRyxLQUFLaEgsWUFBWSxDQUFDMEIsNEJBQTRCLENBQUNzRixHQUFHLEdBQ2xFbEgseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDc0Msc0JBQXNCLENBQUNsQyxLQUFLLEdBQ3hFYix5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNxQyx3QkFBd0IsQ0FBQ2pDLEtBQUs7TUFDOUYySSxTQUFTLEdBQUd4Six5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDb0osZ0JBQWdCLENBQUMvSSxLQUFLO0lBQ25FLENBQUMsTUFDSSxJQUFLNEksd0JBQXdCLElBQUlYLHVCQUF1QixJQUNuRCxJQUFJLENBQUM3RixrQkFBa0IsQ0FBQ3BDLEtBQUssQ0FBQ2dJLFVBQVUsS0FBS0YsWUFBWSxDQUFDeEIsR0FBRyxFQUFHO01BQ3hFbUMsVUFBVSxHQUFHdEoseUJBQXlCLENBQUNRLElBQUksQ0FBQ21KLHNCQUFzQixDQUFDOUksS0FBSztNQUN4RTBJLGlCQUFpQixHQUFHdkoseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDNkIsbUJBQW1CLENBQUN6QixLQUFLO01BQ3pGMkksU0FBUyxHQUFHeEoseUJBQXlCLENBQUNRLElBQUksQ0FBQ3FKLGtCQUFrQixDQUFDaEosS0FBSztJQUNyRSxDQUFDLE1BQ0ksSUFBSzZJLHdCQUF3QixJQUFJWCx1QkFBdUIsSUFDaEQsSUFBSSxDQUFDOUYsa0JBQWtCLENBQUNwQyxLQUFLLENBQUNtSSxVQUFVLEtBQUtMLFlBQVksQ0FBQ3pCLEdBQUcsRUFBRztNQUMzRW9DLFVBQVUsR0FBR3RKLHlCQUF5QixDQUFDUSxJQUFJLENBQUNzSix1QkFBdUIsQ0FBQ2pKLEtBQUs7TUFDekUwSSxpQkFBaUIsR0FBR1osWUFBWSxDQUFDekIsR0FBRyxLQUFLaEgsWUFBWSxDQUFDMEIsNEJBQTRCLENBQUNzRixHQUFHLEdBQ2xFbEgseUJBQXlCLENBQUNRLElBQUksQ0FBQ0MsWUFBWSxDQUFDc0Msc0JBQXNCLENBQUNsQyxLQUFLLEdBQ3hFYix5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUNxQyx3QkFBd0IsQ0FBQ2pDLEtBQUs7TUFDOUYySSxTQUFTLEdBQUd4Six5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDb0osZ0JBQWdCO0lBQzdELENBQUMsTUFDSSxJQUFLRix3QkFBd0IsSUFBSVQsdUJBQXVCLElBQ2hELElBQUksQ0FBQ2hHLGtCQUFrQixDQUFDcEMsS0FBSyxDQUFDbUksVUFBVSxLQUFLTCxZQUFZLENBQUN4QixHQUFHLEVBQUc7TUFDM0VtQyxVQUFVLEdBQUd0Six5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDc0osdUJBQXVCLENBQUNqSixLQUFLO01BQ3pFMEksaUJBQWlCLEdBQUd2Six5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDQyxZQUFZLENBQUM2QixtQkFBbUIsQ0FBQ3pCLEtBQUs7TUFDekYySSxTQUFTLEdBQUd4Six5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDcUosa0JBQWtCLENBQUNoSixLQUFLO0lBQ3JFO0lBRUEsSUFBSSxDQUFDNkMsc0JBQXNCLEdBQUc4RSxZQUFZOztJQUUxQztJQUNBLElBQUtjLFVBQVUsSUFBSUMsaUJBQWlCLElBQUlDLFNBQVMsRUFBRztNQUVsRDtNQUNBLE1BQU1PLGlCQUFpQixHQUFHLElBQUksQ0FBQzFHLG1CQUFtQixDQUFDeEMsS0FBSzs7TUFFeEQ7TUFDQSxNQUFNbUoscUJBQXFCLEdBQUdELGlCQUFpQixHQUNqQi9KLHlCQUF5QixDQUFDUSxJQUFJLENBQUNrRyxLQUFLLENBQUN1RCxrREFBa0QsR0FDdkZqSyx5QkFBeUIsQ0FBQ1EsSUFBSSxDQUFDa0csS0FBSyxDQUFDd0QsbURBQW1EOztNQUV0SDtNQUNBLE9BQU9wSyxXQUFXLENBQUN1RSxNQUFNLENBQUUyRixxQkFBcUIsRUFBRTtRQUNoRDVILFFBQVEsRUFBRW1ILGlCQUFpQjtRQUMzQlksSUFBSSxFQUFFYixVQUFVO1FBQ2hCRSxTQUFTLEVBQUVBO01BQ2IsQ0FBRSxDQUFDO0lBQ0w7SUFFQSxPQUFPLElBQUk7RUFDYjtFQUVPWSxLQUFLQSxDQUFBLEVBQVM7SUFDbkIsSUFBSSxDQUFDOUcsNEJBQTRCLEdBQUcsSUFBSTtJQUN4QyxJQUFJLENBQUNDLDBCQUEwQixHQUFHLElBQUk7SUFFdEMsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUNQLGtCQUFrQixDQUFDcEMsS0FBSyxDQUFDNEMsV0FBVyxDQUFDLENBQUM7SUFDbkUsSUFBSSxDQUFDQyxzQkFBc0IsR0FBRyxJQUFJLENBQUNULGtCQUFrQixDQUFDcEMsS0FBSztFQUM3RDtBQUNGO0FBRUFkLGtCQUFrQixDQUFDc0ssUUFBUSxDQUFFLHdCQUF3QixFQUFFckgsc0JBQXVCLENBQUM7QUFDL0UsZUFBZUEsc0JBQXNCIn0=