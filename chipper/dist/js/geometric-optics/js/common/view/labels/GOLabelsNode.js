// Copyright 2021-2022, University of Colorado Boulder

/**
 * GOLabelsNode is the base class for labeling things in a scene, supporting the "Labels" feature.
 * It is responsible for labeling the optic, optical axis, and focal points (F, 2F).
 *
 * @author Chris Malley (PixelZoom, Inc.)
 * @author Sarah Chang (Swarthmore College)
 */

import DerivedProperty from '../../../../../axon/js/DerivedProperty.js';
import Vector2 from '../../../../../dot/js/Vector2.js';
import { Node } from '../../../../../scenery/js/imports.js';
import geometricOptics from '../../../geometricOptics.js';
import GeometricOpticsStrings from '../../../GeometricOpticsStrings.js';
import LabelNode from './LabelNode.js';
import OpticLabelNode from './OpticLabelNode.js';
const FOCAL_POINT_LABEL_Y_OFFSET = 7;
export default class GOLabelsNode extends Node {
  /**
   * @param sceneNode - the scene whose components we are labeling
   * @param zoomTransformProperty - model-view transform that the user controls by zooming in/out
   * @param modelVisibleBoundsProperty - ScreenView's visibleBounds in the model coordinate frame, with the zoom transform applied
   * @param providedOptions
   */
  constructor(sceneNode, zoomTransformProperty, modelVisibleBoundsProperty, providedOptions) {
    super(providedOptions);
    const optic = sceneNode.scene.optic;

    // Optic label ------------------------------------------------------------------------------------

    const opticLabel = new OpticLabelNode(optic, zoomTransformProperty, {
      visibleProperty: sceneNode.opticNodeVisibleProperty,
      tandem: providedOptions.tandem.createTandem('opticLabel')
    });
    this.addChild(opticLabel);

    // Optical Axis label ------------------------------------------------------------------------------------

    // Under the optical axis, but at the far-left of the model bounds.
    const opticalAxisLabelPositionProperty = new DerivedProperty([optic.positionProperty, modelVisibleBoundsProperty], (opticPosition, modelVisibleBounds) => {
      const modelXOffset = zoomTransformProperty.value.viewToModelDeltaX(10);
      return new Vector2(modelVisibleBounds.x + modelXOffset, opticPosition.y);
    });
    const opticalAxisLabel = new LabelNode(GeometricOpticsStrings.label.opticalAxisStringProperty, opticalAxisLabelPositionProperty, zoomTransformProperty, {
      xAlign: 'left',
      yOffset: 5,
      visibleProperty: sceneNode.opticalAxisNodeVisibleProperty,
      tandem: providedOptions.tandem.createTandem('opticalAxisLabel')
    });
    this.addChild(opticalAxisLabel);

    // Focal Point labels ------------------------------------------------------------------------------------

    const leftFocalPointLabel = new LabelNode(GeometricOpticsStrings.label.FStringProperty, optic.leftFocalPointProperty, zoomTransformProperty, {
      yOffset: FOCAL_POINT_LABEL_Y_OFFSET,
      visibleProperty: sceneNode.leftFocalPointNodeVisibleProperty,
      tandem: providedOptions.tandem.createTandem('leftFocalPointLabel')
    });
    this.addChild(leftFocalPointLabel);
    const rightFocalPointLabel = new LabelNode(GeometricOpticsStrings.label.FStringProperty, optic.rightFocalPointProperty, zoomTransformProperty, {
      yOffset: FOCAL_POINT_LABEL_Y_OFFSET,
      visibleProperty: sceneNode.rightFocalPointNodeVisibleProperty,
      tandem: providedOptions.tandem.createTandem('rightFocalPointLabel')
    });
    this.addChild(rightFocalPointLabel);

    // 2F Point labels ----------------------------------------------------------------------------------------

    const left2FPointLabel = new LabelNode(GeometricOpticsStrings.label.twoFStringProperty, optic.left2FProperty, zoomTransformProperty, {
      yOffset: FOCAL_POINT_LABEL_Y_OFFSET,
      visibleProperty: sceneNode.left2FPointNodeVisibleProperty,
      tandem: providedOptions.tandem.createTandem('left2FPointLabel')
    });
    this.addChild(left2FPointLabel);
    const right2FPointLabel = new LabelNode(GeometricOpticsStrings.label.twoFStringProperty, optic.right2FProperty, zoomTransformProperty, {
      yOffset: FOCAL_POINT_LABEL_Y_OFFSET,
      visibleProperty: sceneNode.right2FPointNodeVisibleProperty,
      tandem: providedOptions.tandem.createTandem('right2FPointLabel')
    });
    this.addChild(right2FPointLabel);
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
}
geometricOptics.register('GOLabelsNode', GOLabelsNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJWZWN0b3IyIiwiTm9kZSIsImdlb21ldHJpY09wdGljcyIsIkdlb21ldHJpY09wdGljc1N0cmluZ3MiLCJMYWJlbE5vZGUiLCJPcHRpY0xhYmVsTm9kZSIsIkZPQ0FMX1BPSU5UX0xBQkVMX1lfT0ZGU0VUIiwiR09MYWJlbHNOb2RlIiwiY29uc3RydWN0b3IiLCJzY2VuZU5vZGUiLCJ6b29tVHJhbnNmb3JtUHJvcGVydHkiLCJtb2RlbFZpc2libGVCb3VuZHNQcm9wZXJ0eSIsInByb3ZpZGVkT3B0aW9ucyIsIm9wdGljIiwic2NlbmUiLCJvcHRpY0xhYmVsIiwidmlzaWJsZVByb3BlcnR5Iiwib3B0aWNOb2RlVmlzaWJsZVByb3BlcnR5IiwidGFuZGVtIiwiY3JlYXRlVGFuZGVtIiwiYWRkQ2hpbGQiLCJvcHRpY2FsQXhpc0xhYmVsUG9zaXRpb25Qcm9wZXJ0eSIsInBvc2l0aW9uUHJvcGVydHkiLCJvcHRpY1Bvc2l0aW9uIiwibW9kZWxWaXNpYmxlQm91bmRzIiwibW9kZWxYT2Zmc2V0IiwidmFsdWUiLCJ2aWV3VG9Nb2RlbERlbHRhWCIsIngiLCJ5Iiwib3B0aWNhbEF4aXNMYWJlbCIsImxhYmVsIiwib3B0aWNhbEF4aXNTdHJpbmdQcm9wZXJ0eSIsInhBbGlnbiIsInlPZmZzZXQiLCJvcHRpY2FsQXhpc05vZGVWaXNpYmxlUHJvcGVydHkiLCJsZWZ0Rm9jYWxQb2ludExhYmVsIiwiRlN0cmluZ1Byb3BlcnR5IiwibGVmdEZvY2FsUG9pbnRQcm9wZXJ0eSIsImxlZnRGb2NhbFBvaW50Tm9kZVZpc2libGVQcm9wZXJ0eSIsInJpZ2h0Rm9jYWxQb2ludExhYmVsIiwicmlnaHRGb2NhbFBvaW50UHJvcGVydHkiLCJyaWdodEZvY2FsUG9pbnROb2RlVmlzaWJsZVByb3BlcnR5IiwibGVmdDJGUG9pbnRMYWJlbCIsInR3b0ZTdHJpbmdQcm9wZXJ0eSIsImxlZnQyRlByb3BlcnR5IiwibGVmdDJGUG9pbnROb2RlVmlzaWJsZVByb3BlcnR5IiwicmlnaHQyRlBvaW50TGFiZWwiLCJyaWdodDJGUHJvcGVydHkiLCJyaWdodDJGUG9pbnROb2RlVmlzaWJsZVByb3BlcnR5IiwiZGlzcG9zZSIsImFzc2VydCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiR09MYWJlbHNOb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEdPTGFiZWxzTm9kZSBpcyB0aGUgYmFzZSBjbGFzcyBmb3IgbGFiZWxpbmcgdGhpbmdzIGluIGEgc2NlbmUsIHN1cHBvcnRpbmcgdGhlIFwiTGFiZWxzXCIgZmVhdHVyZS5cclxuICogSXQgaXMgcmVzcG9uc2libGUgZm9yIGxhYmVsaW5nIHRoZSBvcHRpYywgb3B0aWNhbCBheGlzLCBhbmQgZm9jYWwgcG9pbnRzIChGLCAyRikuXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqIEBhdXRob3IgU2FyYWggQ2hhbmcgKFN3YXJ0aG1vcmUgQ29sbGVnZSlcclxuICovXHJcblxyXG5pbXBvcnQgRGVyaXZlZFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uLy4uL2F4b24vanMvRGVyaXZlZFByb3BlcnR5LmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgeyBOb2RlLCBOb2RlT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBnZW9tZXRyaWNPcHRpY3MgZnJvbSAnLi4vLi4vLi4vZ2VvbWV0cmljT3B0aWNzLmpzJztcclxuaW1wb3J0IEdlb21ldHJpY09wdGljc1N0cmluZ3MgZnJvbSAnLi4vLi4vLi4vR2VvbWV0cmljT3B0aWNzU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBMYWJlbE5vZGUgZnJvbSAnLi9MYWJlbE5vZGUuanMnO1xyXG5pbXBvcnQgTW9kZWxWaWV3VHJhbnNmb3JtMiBmcm9tICcuLi8uLi8uLi8uLi8uLi9waGV0Y29tbW9uL2pzL3ZpZXcvTW9kZWxWaWV3VHJhbnNmb3JtMi5qcyc7XHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IFRSZWFkT25seVByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uLy4uL2F4b24vanMvVFJlYWRPbmx5UHJvcGVydHkuanMnO1xyXG5pbXBvcnQgT3B0aWNMYWJlbE5vZGUgZnJvbSAnLi9PcHRpY0xhYmVsTm9kZS5qcyc7XHJcbmltcG9ydCBQaWNrUmVxdWlyZWQgZnJvbSAnLi4vLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1BpY2tSZXF1aXJlZC5qcyc7XHJcbmltcG9ydCBHT1NjZW5lTm9kZSBmcm9tICcuLi9HT1NjZW5lTm9kZS5qcyc7XHJcblxyXG5jb25zdCBGT0NBTF9QT0lOVF9MQUJFTF9ZX09GRlNFVCA9IDc7XHJcblxyXG5leHBvcnQgdHlwZSBHT1NjZW5lTGFiZWxzTm9kZU9wdGlvbnMgPSBQaWNrUmVxdWlyZWQ8Tm9kZU9wdGlvbnMsICd2aXNpYmxlUHJvcGVydHknIHwgJ3RhbmRlbScgfCAncGhldGlvRG9jdW1lbnRhdGlvbic+O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR09MYWJlbHNOb2RlIGV4dGVuZHMgTm9kZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBzY2VuZU5vZGUgLSB0aGUgc2NlbmUgd2hvc2UgY29tcG9uZW50cyB3ZSBhcmUgbGFiZWxpbmdcclxuICAgKiBAcGFyYW0gem9vbVRyYW5zZm9ybVByb3BlcnR5IC0gbW9kZWwtdmlldyB0cmFuc2Zvcm0gdGhhdCB0aGUgdXNlciBjb250cm9scyBieSB6b29taW5nIGluL291dFxyXG4gICAqIEBwYXJhbSBtb2RlbFZpc2libGVCb3VuZHNQcm9wZXJ0eSAtIFNjcmVlblZpZXcncyB2aXNpYmxlQm91bmRzIGluIHRoZSBtb2RlbCBjb29yZGluYXRlIGZyYW1lLCB3aXRoIHRoZSB6b29tIHRyYW5zZm9ybSBhcHBsaWVkXHJcbiAgICogQHBhcmFtIHByb3ZpZGVkT3B0aW9uc1xyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3Rvciggc2NlbmVOb2RlOiBHT1NjZW5lTm9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHpvb21UcmFuc2Zvcm1Qcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8TW9kZWxWaWV3VHJhbnNmb3JtMj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFZpc2libGVCb3VuZHNQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8Qm91bmRzMj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZE9wdGlvbnM6IEdPU2NlbmVMYWJlbHNOb2RlT3B0aW9ucyApIHtcclxuXHJcbiAgICBzdXBlciggcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgY29uc3Qgb3B0aWMgPSBzY2VuZU5vZGUuc2NlbmUub3B0aWM7XHJcblxyXG4gICAgLy8gT3B0aWMgbGFiZWwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgY29uc3Qgb3B0aWNMYWJlbCA9IG5ldyBPcHRpY0xhYmVsTm9kZSggb3B0aWMsIHpvb21UcmFuc2Zvcm1Qcm9wZXJ0eSwge1xyXG4gICAgICB2aXNpYmxlUHJvcGVydHk6IHNjZW5lTm9kZS5vcHRpY05vZGVWaXNpYmxlUHJvcGVydHksXHJcbiAgICAgIHRhbmRlbTogcHJvdmlkZWRPcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdvcHRpY0xhYmVsJyApXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBvcHRpY0xhYmVsICk7XHJcblxyXG4gICAgLy8gT3B0aWNhbCBBeGlzIGxhYmVsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIFVuZGVyIHRoZSBvcHRpY2FsIGF4aXMsIGJ1dCBhdCB0aGUgZmFyLWxlZnQgb2YgdGhlIG1vZGVsIGJvdW5kcy5cclxuICAgIGNvbnN0IG9wdGljYWxBeGlzTGFiZWxQb3NpdGlvblByb3BlcnR5ID0gbmV3IERlcml2ZWRQcm9wZXJ0eShcclxuICAgICAgWyBvcHRpYy5wb3NpdGlvblByb3BlcnR5LCBtb2RlbFZpc2libGVCb3VuZHNQcm9wZXJ0eSBdLFxyXG4gICAgICAoIG9wdGljUG9zaXRpb24sIG1vZGVsVmlzaWJsZUJvdW5kcyApID0+IHtcclxuICAgICAgICBjb25zdCBtb2RlbFhPZmZzZXQgPSB6b29tVHJhbnNmb3JtUHJvcGVydHkudmFsdWUudmlld1RvTW9kZWxEZWx0YVgoIDEwICk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKCBtb2RlbFZpc2libGVCb3VuZHMueCArIG1vZGVsWE9mZnNldCwgb3B0aWNQb3NpdGlvbi55ICk7XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBvcHRpY2FsQXhpc0xhYmVsID0gbmV3IExhYmVsTm9kZSggR2VvbWV0cmljT3B0aWNzU3RyaW5ncy5sYWJlbC5vcHRpY2FsQXhpc1N0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBvcHRpY2FsQXhpc0xhYmVsUG9zaXRpb25Qcm9wZXJ0eSwgem9vbVRyYW5zZm9ybVByb3BlcnR5LCB7XHJcbiAgICAgICAgeEFsaWduOiAnbGVmdCcsXHJcbiAgICAgICAgeU9mZnNldDogNSxcclxuICAgICAgICB2aXNpYmxlUHJvcGVydHk6IHNjZW5lTm9kZS5vcHRpY2FsQXhpc05vZGVWaXNpYmxlUHJvcGVydHksXHJcbiAgICAgICAgdGFuZGVtOiBwcm92aWRlZE9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ29wdGljYWxBeGlzTGFiZWwnIClcclxuICAgICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggb3B0aWNhbEF4aXNMYWJlbCApO1xyXG5cclxuICAgIC8vIEZvY2FsIFBvaW50IGxhYmVscyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBjb25zdCBsZWZ0Rm9jYWxQb2ludExhYmVsID0gbmV3IExhYmVsTm9kZSggR2VvbWV0cmljT3B0aWNzU3RyaW5ncy5sYWJlbC5GU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIG9wdGljLmxlZnRGb2NhbFBvaW50UHJvcGVydHksIHpvb21UcmFuc2Zvcm1Qcm9wZXJ0eSwge1xyXG4gICAgICAgIHlPZmZzZXQ6IEZPQ0FMX1BPSU5UX0xBQkVMX1lfT0ZGU0VULFxyXG4gICAgICAgIHZpc2libGVQcm9wZXJ0eTogc2NlbmVOb2RlLmxlZnRGb2NhbFBvaW50Tm9kZVZpc2libGVQcm9wZXJ0eSxcclxuICAgICAgICB0YW5kZW06IHByb3ZpZGVkT3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnbGVmdEZvY2FsUG9pbnRMYWJlbCcgKVxyXG4gICAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBsZWZ0Rm9jYWxQb2ludExhYmVsICk7XHJcblxyXG4gICAgY29uc3QgcmlnaHRGb2NhbFBvaW50TGFiZWwgPSBuZXcgTGFiZWxOb2RlKCBHZW9tZXRyaWNPcHRpY3NTdHJpbmdzLmxhYmVsLkZTdHJpbmdQcm9wZXJ0eSxcclxuICAgICAgb3B0aWMucmlnaHRGb2NhbFBvaW50UHJvcGVydHksIHpvb21UcmFuc2Zvcm1Qcm9wZXJ0eSwge1xyXG4gICAgICAgIHlPZmZzZXQ6IEZPQ0FMX1BPSU5UX0xBQkVMX1lfT0ZGU0VULFxyXG4gICAgICAgIHZpc2libGVQcm9wZXJ0eTogc2NlbmVOb2RlLnJpZ2h0Rm9jYWxQb2ludE5vZGVWaXNpYmxlUHJvcGVydHksXHJcbiAgICAgICAgdGFuZGVtOiBwcm92aWRlZE9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3JpZ2h0Rm9jYWxQb2ludExhYmVsJyApXHJcbiAgICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHJpZ2h0Rm9jYWxQb2ludExhYmVsICk7XHJcblxyXG4gICAgLy8gMkYgUG9pbnQgbGFiZWxzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBjb25zdCBsZWZ0MkZQb2ludExhYmVsID0gbmV3IExhYmVsTm9kZSggR2VvbWV0cmljT3B0aWNzU3RyaW5ncy5sYWJlbC50d29GU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIG9wdGljLmxlZnQyRlByb3BlcnR5LCB6b29tVHJhbnNmb3JtUHJvcGVydHksIHtcclxuICAgICAgICB5T2Zmc2V0OiBGT0NBTF9QT0lOVF9MQUJFTF9ZX09GRlNFVCxcclxuICAgICAgICB2aXNpYmxlUHJvcGVydHk6IHNjZW5lTm9kZS5sZWZ0MkZQb2ludE5vZGVWaXNpYmxlUHJvcGVydHksXHJcbiAgICAgICAgdGFuZGVtOiBwcm92aWRlZE9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2xlZnQyRlBvaW50TGFiZWwnIClcclxuICAgICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggbGVmdDJGUG9pbnRMYWJlbCApO1xyXG5cclxuICAgIGNvbnN0IHJpZ2h0MkZQb2ludExhYmVsID0gbmV3IExhYmVsTm9kZSggR2VvbWV0cmljT3B0aWNzU3RyaW5ncy5sYWJlbC50d29GU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIG9wdGljLnJpZ2h0MkZQcm9wZXJ0eSwgem9vbVRyYW5zZm9ybVByb3BlcnR5LCB7XHJcbiAgICAgICAgeU9mZnNldDogRk9DQUxfUE9JTlRfTEFCRUxfWV9PRkZTRVQsXHJcbiAgICAgICAgdmlzaWJsZVByb3BlcnR5OiBzY2VuZU5vZGUucmlnaHQyRlBvaW50Tm9kZVZpc2libGVQcm9wZXJ0eSxcclxuICAgICAgICB0YW5kZW06IHByb3ZpZGVkT3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAncmlnaHQyRlBvaW50TGFiZWwnIClcclxuICAgICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggcmlnaHQyRlBvaW50TGFiZWwgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBkaXNwb3NlKCk6IHZvaWQge1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggZmFsc2UsICdkaXNwb3NlIGlzIG5vdCBzdXBwb3J0ZWQsIGV4aXN0cyBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBzaW0nICk7XHJcbiAgICBzdXBlci5kaXNwb3NlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5nZW9tZXRyaWNPcHRpY3MucmVnaXN0ZXIoICdHT0xhYmVsc05vZGUnLCBHT0xhYmVsc05vZGUgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLGVBQWUsTUFBTSwyQ0FBMkM7QUFDdkUsT0FBT0MsT0FBTyxNQUFNLGtDQUFrQztBQUN0RCxTQUFTQyxJQUFJLFFBQXFCLHNDQUFzQztBQUN4RSxPQUFPQyxlQUFlLE1BQU0sNkJBQTZCO0FBQ3pELE9BQU9DLHNCQUFzQixNQUFNLG9DQUFvQztBQUN2RSxPQUFPQyxTQUFTLE1BQU0sZ0JBQWdCO0FBSXRDLE9BQU9DLGNBQWMsTUFBTSxxQkFBcUI7QUFJaEQsTUFBTUMsMEJBQTBCLEdBQUcsQ0FBQztBQUlwQyxlQUFlLE1BQU1DLFlBQVksU0FBU04sSUFBSSxDQUFDO0VBRTdDO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNZTyxXQUFXQSxDQUFFQyxTQUFzQixFQUN0QkMscUJBQTZELEVBQzdEQywwQkFBc0QsRUFDdERDLGVBQXlDLEVBQUc7SUFFakUsS0FBSyxDQUFFQSxlQUFnQixDQUFDO0lBRXhCLE1BQU1D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