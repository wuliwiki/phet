// Copyright 2022, University of Colorado Boulder

/**
 * VirtualLightRaysNode renders virtual light rays.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 * @author Martin Veillette
 */

import geometricOptics from '../../geometricOptics.js';
import LightRaysNode from './LightRaysNode.js';
import GOQueryParameters from '../GOQueryParameters.js';
export default class VirtualLightRaysNode extends LightRaysNode {
  constructor(lightRays, modelViewTransform, providedOptions) {
    const update = thisNode => {
      thisNode.children = LightRaysNode.segmentsToLines(lightRays.virtualSegments, modelViewTransform, {
        stroke: providedOptions.stroke,
        lineWidth: GOQueryParameters.virtualRaysLineWidth,
        lineDash: [3, 3],
        opacity: 0.5
      });
    };
    super(lightRays, update, providedOptions);
  }
}
geometricOptics.register('VirtualLightRaysNode', VirtualLightRaysNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW9tZXRyaWNPcHRpY3MiLCJMaWdodFJheXNOb2RlIiwiR09RdWVyeVBhcmFtZXRlcnMiLCJWaXJ0dWFsTGlnaHRSYXlzTm9kZSIsImNvbnN0cnVjdG9yIiwibGlnaHRSYXlzIiwibW9kZWxWaWV3VHJhbnNmb3JtIiwicHJvdmlkZWRPcHRpb25zIiwidXBkYXRlIiwidGhpc05vZGUiLCJjaGlsZHJlbiIsInNlZ21lbnRzVG9MaW5lcyIsInZpcnR1YWxTZWdtZW50cyIsInN0cm9rZSIsImxpbmVXaWR0aCIsInZpcnR1YWxSYXlzTGluZVdpZHRoIiwibGluZURhc2giLCJvcGFjaXR5IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJWaXJ0dWFsTGlnaHRSYXlzTm9kZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogVmlydHVhbExpZ2h0UmF5c05vZGUgcmVuZGVycyB2aXJ0dWFsIGxpZ2h0IHJheXMuXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqIEBhdXRob3IgTWFydGluIFZlaWxsZXR0ZVxyXG4gKi9cclxuXHJcbmltcG9ydCBnZW9tZXRyaWNPcHRpY3MgZnJvbSAnLi4vLi4vZ2VvbWV0cmljT3B0aWNzLmpzJztcclxuaW1wb3J0IHsgVENvbG9yLCBOb2RlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IExpZ2h0UmF5cyBmcm9tICcuLi9tb2RlbC9MaWdodFJheXMuanMnO1xyXG5pbXBvcnQgTW9kZWxWaWV3VHJhbnNmb3JtMiBmcm9tICcuLi8uLi8uLi8uLi9waGV0Y29tbW9uL2pzL3ZpZXcvTW9kZWxWaWV3VHJhbnNmb3JtMi5qcyc7XHJcbmltcG9ydCBMaWdodFJheXNOb2RlLCB7IExpZ2h0UmF5c05vZGVPcHRpb25zIH0gZnJvbSAnLi9MaWdodFJheXNOb2RlLmpzJztcclxuaW1wb3J0IEdPUXVlcnlQYXJhbWV0ZXJzIGZyb20gJy4uL0dPUXVlcnlQYXJhbWV0ZXJzLmpzJztcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSB7XHJcbiAgc3Ryb2tlOiBUQ29sb3I7XHJcbn07XHJcblxyXG50eXBlIFZpcnR1YWxSZWFsTGlnaHRSYXlzTm9kZU9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIExpZ2h0UmF5c05vZGVPcHRpb25zO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlydHVhbExpZ2h0UmF5c05vZGUgZXh0ZW5kcyBMaWdodFJheXNOb2RlIHtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBsaWdodFJheXM6IExpZ2h0UmF5cyxcclxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsVmlld1RyYW5zZm9ybTogTW9kZWxWaWV3VHJhbnNmb3JtMixcclxuICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkT3B0aW9uczogVmlydHVhbFJlYWxMaWdodFJheXNOb2RlT3B0aW9ucyApIHtcclxuXHJcbiAgICBjb25zdCB1cGRhdGUgPSAoIHRoaXNOb2RlOiBOb2RlICkgPT4ge1xyXG4gICAgICB0aGlzTm9kZS5jaGlsZHJlbiA9IExpZ2h0UmF5c05vZGUuc2VnbWVudHNUb0xpbmVzKCBsaWdodFJheXMudmlydHVhbFNlZ21lbnRzLCBtb2RlbFZpZXdUcmFuc2Zvcm0sIHtcclxuICAgICAgICBzdHJva2U6IHByb3ZpZGVkT3B0aW9ucy5zdHJva2UsXHJcbiAgICAgICAgbGluZVdpZHRoOiBHT1F1ZXJ5UGFyYW1ldGVycy52aXJ0dWFsUmF5c0xpbmVXaWR0aCxcclxuICAgICAgICBsaW5lRGFzaDogWyAzLCAzIF0sXHJcbiAgICAgICAgb3BhY2l0eTogMC41XHJcbiAgICAgIH0gKTtcclxuICAgIH07XHJcblxyXG4gICAgc3VwZXIoIGxpZ2h0UmF5cywgdXBkYXRlLCBwcm92aWRlZE9wdGlvbnMgKTtcclxuICB9XHJcbn1cclxuXHJcbmdlb21ldHJpY09wdGljcy5yZWdpc3RlciggJ1ZpcnR1YWxMaWdodFJheXNOb2RlJywgVmlydHVhbExpZ2h0UmF5c05vZGUgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxlQUFlLE1BQU0sMEJBQTBCO0FBSXRELE9BQU9DLGFBQWEsTUFBZ0Msb0JBQW9CO0FBQ3hFLE9BQU9DLGlCQUFpQixNQUFNLHlCQUF5QjtBQVF2RCxlQUFlLE1BQU1DLG9CQUFvQixTQUFTRixhQUFhLENBQUM7RUFFdkRHLFdBQVdBLENBQUVDLFNBQW9CLEVBQ3BCQyxrQkFBdUMsRUFDdkNDLGVBQWdELEVBQUc7SUFFckUsTUFBTUMsTUFBTSxHQUFLQyxRQUFjLElBQU07TUFDbkNBLFFBQVEsQ0FBQ0MsUUFBUSxHQUFHVCxhQUFhLENBQUNVLGVBQWUsQ0FBRU4sU0FBUyxDQUFDTyxlQUFlLEVBQUVOLGtCQUFrQixFQUFFO1FBQ2hHTyxNQUFNLEVBQUVOLGVBQWUsQ0FBQ00sTUFBTTtRQUM5QkMsU0FBUyxFQUFFWixpQkFBaUIsQ0FBQ2Esb0JBQW9CO1FBQ2pEQyxRQUFRLEVBQUUsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxDQUFFO1FBQ2xCQyxPQUFPLEVBQUU7TUFDWCxDQUFFLENBQUM7SUFDTCxDQUFDO0lBRUQsS0FBSyxDQUFFWixTQUFTLEVBQUVHLE1BQU0sRUFBRUQsZUFBZ0IsQ0FBQztFQUM3QztBQUNGO0FBRUFQLGVBQWUsQ0FBQ2tCLFFBQVEsQ0FBRSxzQkFBc0IsRUFBRWYsb0JBQXFCLENBQUMifQ==