// Copyright 2021-2023, University of Colorado Boulder

/**
 * OpticalObjectChoiceComboBox is the combo box for selecting the object representation.
 *
 * @author Martin Veillette
 * @author Chris Malley (PixelZoom, Inc.)
 */

import { AlignBox, AlignGroup, HBox, Image, Node, Text } from '../../../../scenery/js/imports.js';
import ComboBox from '../../../../sun/js/ComboBox.js';
import geometricOptics from '../../geometricOptics.js';
import GOConstants from '../GOConstants.js';
import optionize from '../../../../phet-core/js/optionize.js';
export default class OpticalObjectChoiceComboBox extends ComboBox {
  /**
   * @param opticalObjectChoiceProperty
   * @param listParent - parent for the listbox popup
   * @param providedOptions
   */
  constructor(opticalObjectChoiceProperty, listParent, providedOptions) {
    const options = optionize()({
      // ComboBoxOptions
      highlightFill: 'rgb( 168, 192, 245 )',
      listPosition: 'below',
      xMargin: 10,
      yMargin: 5,
      buttonTouchAreaXDilation: 5,
      buttonTouchAreaYDilation: 5
    }, providedOptions);

    // To make all icons have the same effective dimensions
    const iconsAlignGroup = new AlignGroup();

    // Create a ComboBoxItem for each representation.
    const items = [];
    assert && assert(opticalObjectChoiceProperty.validValues); // {OpticalObjectChoice[]|undefined}
    opticalObjectChoiceProperty.validValues.forEach(opticalObjectChoice => {
      const itemTandemName = `${opticalObjectChoice.tandemPrefix}${ComboBox.ITEM_TANDEM_NAME_SUFFIX}`;

      // create text
      const labelText = new Text(opticalObjectChoice.labelStringProperty, {
        font: GOConstants.CONTROL_FONT,
        maxWidth: 100,
        tandem: options.tandem.createTandem(itemTandemName).createTandem('labelText')
      });

      // create icon
      const icon = opticalObjectChoice.icon instanceof Node ? new Node({
        children: [opticalObjectChoice.icon]
      }) : new Image(opticalObjectChoice.icon, {
        scale: 0.5
      });
      const iconAlignBox = new AlignBox(icon, {
        group: iconsAlignGroup
      });
      const hBox = new HBox({
        spacing: 5,
        children: [iconAlignBox, labelText]
      });

      // create and add combo box item to the array
      items.push({
        value: opticalObjectChoice,
        createNode: () => hBox,
        tandemName: itemTandemName
      });
    });
    super(opticalObjectChoiceProperty, items, listParent, options);
  }
}
geometricOptics.register('OpticalObjectChoiceComboBox', OpticalObjectChoiceComboBox);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBbGlnbkJveCIsIkFsaWduR3JvdXAiLCJIQm94IiwiSW1hZ2UiLCJOb2RlIiwiVGV4dCIsIkNvbWJvQm94IiwiZ2VvbWV0cmljT3B0aWNzIiwiR09Db25zdGFudHMiLCJvcHRpb25pemUiLCJPcHRpY2FsT2JqZWN0Q2hvaWNlQ29tYm9Cb3giLCJjb25zdHJ1Y3RvciIsIm9wdGljYWxPYmplY3RDaG9pY2VQcm9wZXJ0eSIsImxpc3RQYXJlbnQiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwiaGlnaGxpZ2h0RmlsbCIsImxpc3RQb3NpdGlvbiIsInhNYXJnaW4iLCJ5TWFyZ2luIiwiYnV0dG9uVG91Y2hBcmVhWERpbGF0aW9uIiwiYnV0dG9uVG91Y2hBcmVhWURpbGF0aW9uIiwiaWNvbnNBbGlnbkdyb3VwIiwiaXRlbXMiLCJhc3NlcnQiLCJ2YWxpZFZhbHVlcyIsImZvckVhY2giLCJvcHRpY2FsT2JqZWN0Q2hvaWNlIiwiaXRlbVRhbmRlbU5hbWUiLCJ0YW5kZW1QcmVmaXgiLCJJVEVNX1RBTkRFTV9OQU1FX1NVRkZJWCIsImxhYmVsVGV4dCIsImxhYmVsU3RyaW5nUHJvcGVydHkiLCJmb250IiwiQ09OVFJPTF9GT05UIiwibWF4V2lkdGgiLCJ0YW5kZW0iLCJjcmVhdGVUYW5kZW0iLCJpY29uIiwiY2hpbGRyZW4iLCJzY2FsZSIsImljb25BbGlnbkJveCIsImdyb3VwIiwiaEJveCIsInNwYWNpbmciLCJwdXNoIiwidmFsdWUiLCJjcmVhdGVOb2RlIiwidGFuZGVtTmFtZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiT3B0aWNhbE9iamVjdENob2ljZUNvbWJvQm94LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIE9wdGljYWxPYmplY3RDaG9pY2VDb21ib0JveCBpcyB0aGUgY29tYm8gYm94IGZvciBzZWxlY3RpbmcgdGhlIG9iamVjdCByZXByZXNlbnRhdGlvbi5cclxuICpcclxuICogQGF1dGhvciBNYXJ0aW4gVmVpbGxldHRlXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IEVudW1lcmF0aW9uUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9FbnVtZXJhdGlvblByb3BlcnR5LmpzJztcclxuaW1wb3J0IHsgQWxpZ25Cb3gsIEFsaWduR3JvdXAsIEhCb3gsIEltYWdlLCBOb2RlLCBOb2RlVHJhbnNsYXRpb25PcHRpb25zLCBUZXh0IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IENvbWJvQm94LCB7IENvbWJvQm94SXRlbSwgQ29tYm9Cb3hPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL0NvbWJvQm94LmpzJztcclxuaW1wb3J0IGdlb21ldHJpY09wdGljcyBmcm9tICcuLi8uLi9nZW9tZXRyaWNPcHRpY3MuanMnO1xyXG5pbXBvcnQgR09Db25zdGFudHMgZnJvbSAnLi4vR09Db25zdGFudHMuanMnO1xyXG5pbXBvcnQgT3B0aWNhbE9iamVjdENob2ljZSBmcm9tICcuLi9tb2RlbC9PcHRpY2FsT2JqZWN0Q2hvaWNlLmpzJztcclxuaW1wb3J0IFBpY2tSZXF1aXJlZCBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvUGlja1JlcXVpcmVkLmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSwgeyBFbXB0eVNlbGZPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0gRW1wdHlTZWxmT3B0aW9ucztcclxuXHJcbnR5cGUgT3B0aWNhbE9iamVjdENob2ljZUNvbWJvQm94T3B0aW9ucyA9IFNlbGZPcHRpb25zICZcclxuICBQaWNrUmVxdWlyZWQ8Q29tYm9Cb3hPcHRpb25zLCAndGFuZGVtJz4gJlxyXG4gIE5vZGVUcmFuc2xhdGlvbk9wdGlvbnM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcHRpY2FsT2JqZWN0Q2hvaWNlQ29tYm9Cb3ggZXh0ZW5kcyBDb21ib0JveDxPcHRpY2FsT2JqZWN0Q2hvaWNlPiB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBvcHRpY2FsT2JqZWN0Q2hvaWNlUHJvcGVydHlcclxuICAgKiBAcGFyYW0gbGlzdFBhcmVudCAtIHBhcmVudCBmb3IgdGhlIGxpc3Rib3ggcG9wdXBcclxuICAgKiBAcGFyYW0gcHJvdmlkZWRPcHRpb25zXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBvcHRpY2FsT2JqZWN0Q2hvaWNlUHJvcGVydHk6IEVudW1lcmF0aW9uUHJvcGVydHk8T3B0aWNhbE9iamVjdENob2ljZT4sIGxpc3RQYXJlbnQ6IE5vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZE9wdGlvbnM6IE9wdGljYWxPYmplY3RDaG9pY2VDb21ib0JveE9wdGlvbnMgKSB7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxPcHRpY2FsT2JqZWN0Q2hvaWNlQ29tYm9Cb3hPcHRpb25zLCBTZWxmT3B0aW9ucywgQ29tYm9Cb3hPcHRpb25zPigpKCB7XHJcblxyXG4gICAgICAvLyBDb21ib0JveE9wdGlvbnNcclxuICAgICAgaGlnaGxpZ2h0RmlsbDogJ3JnYiggMTY4LCAxOTIsIDI0NSApJyxcclxuICAgICAgbGlzdFBvc2l0aW9uOiAnYmVsb3cnLFxyXG4gICAgICB4TWFyZ2luOiAxMCxcclxuICAgICAgeU1hcmdpbjogNSxcclxuICAgICAgYnV0dG9uVG91Y2hBcmVhWERpbGF0aW9uOiA1LFxyXG4gICAgICBidXR0b25Ub3VjaEFyZWFZRGlsYXRpb246IDVcclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIC8vIFRvIG1ha2UgYWxsIGljb25zIGhhdmUgdGhlIHNhbWUgZWZmZWN0aXZlIGRpbWVuc2lvbnNcclxuICAgIGNvbnN0IGljb25zQWxpZ25Hcm91cCA9IG5ldyBBbGlnbkdyb3VwKCk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgQ29tYm9Cb3hJdGVtIGZvciBlYWNoIHJlcHJlc2VudGF0aW9uLlxyXG4gICAgY29uc3QgaXRlbXM6IENvbWJvQm94SXRlbTxPcHRpY2FsT2JqZWN0Q2hvaWNlPltdID0gW107XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBvcHRpY2FsT2JqZWN0Q2hvaWNlUHJvcGVydHkudmFsaWRWYWx1ZXMgKTsgLy8ge09wdGljYWxPYmplY3RDaG9pY2VbXXx1bmRlZmluZWR9XHJcbiAgICBvcHRpY2FsT2JqZWN0Q2hvaWNlUHJvcGVydHkudmFsaWRWYWx1ZXMhLmZvckVhY2goICggb3B0aWNhbE9iamVjdENob2ljZTogT3B0aWNhbE9iamVjdENob2ljZSApID0+IHtcclxuXHJcbiAgICAgIGNvbnN0IGl0ZW1UYW5kZW1OYW1lID0gYCR7b3B0aWNhbE9iamVjdENob2ljZS50YW5kZW1QcmVmaXh9JHtDb21ib0JveC5JVEVNX1RBTkRFTV9OQU1FX1NVRkZJWH1gO1xyXG5cclxuICAgICAgLy8gY3JlYXRlIHRleHRcclxuICAgICAgY29uc3QgbGFiZWxUZXh0ID0gbmV3IFRleHQoIG9wdGljYWxPYmplY3RDaG9pY2UubGFiZWxTdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICAgIGZvbnQ6IEdPQ29uc3RhbnRzLkNPTlRST0xfRk9OVCxcclxuICAgICAgICBtYXhXaWR0aDogMTAwLFxyXG4gICAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCBpdGVtVGFuZGVtTmFtZSApLmNyZWF0ZVRhbmRlbSggJ2xhYmVsVGV4dCcgKVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgICAvLyBjcmVhdGUgaWNvblxyXG4gICAgICBjb25zdCBpY29uID0gKCBvcHRpY2FsT2JqZWN0Q2hvaWNlLmljb24gaW5zdGFuY2VvZiBOb2RlICkgP1xyXG4gICAgICAgICAgICAgICAgICAgbmV3IE5vZGUoIHsgY2hpbGRyZW46IFsgb3B0aWNhbE9iamVjdENob2ljZS5pY29uIF0gfSApIDpcclxuICAgICAgICAgICAgICAgICAgIG5ldyBJbWFnZSggb3B0aWNhbE9iamVjdENob2ljZS5pY29uLCB7IHNjYWxlOiAwLjUgfSApO1xyXG4gICAgICBjb25zdCBpY29uQWxpZ25Cb3ggPSBuZXcgQWxpZ25Cb3goIGljb24sIHtcclxuICAgICAgICBncm91cDogaWNvbnNBbGlnbkdyb3VwXHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAgIGNvbnN0IGhCb3ggPSBuZXcgSEJveCgge1xyXG4gICAgICAgIHNwYWNpbmc6IDUsXHJcbiAgICAgICAgY2hpbGRyZW46IFsgaWNvbkFsaWduQm94LCBsYWJlbFRleHQgXVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgICAvLyBjcmVhdGUgYW5kIGFkZCBjb21ibyBib3ggaXRlbSB0byB0aGUgYXJyYXlcclxuICAgICAgaXRlbXMucHVzaCgge1xyXG4gICAgICAgIHZhbHVlOiBvcHRpY2FsT2JqZWN0Q2hvaWNlLFxyXG4gICAgICAgIGNyZWF0ZU5vZGU6ICgpID0+IGhCb3gsXHJcbiAgICAgICAgdGFuZGVtTmFtZTogaXRlbVRhbmRlbU5hbWVcclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHN1cGVyKCBvcHRpY2FsT2JqZWN0Q2hvaWNlUHJvcGVydHksIGl0ZW1zLCBsaXN0UGFyZW50LCBvcHRpb25zICk7XHJcbiAgfVxyXG59XHJcblxyXG5nZW9tZXRyaWNPcHRpY3MucmVnaXN0ZXIoICdPcHRpY2FsT2JqZWN0Q2hvaWNlQ29tYm9Cb3gnLCBPcHRpY2FsT2JqZWN0Q2hvaWNlQ29tYm9Cb3ggKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQSxTQUFTQSxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBMEJDLElBQUks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