// Copyright 2022-2023, University of Colorado Boulder

/**
 * IndirectFocalLengthModel is the model where focal length is set indirectly.
 * ROC and IOR are settable, and used to derive focal length.
 * See https://github.com/phetsims/geometric-optics/issues/255
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import PhetioObject from '../../../../tandem/js/PhetioObject.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import geometricOptics from '../../geometricOptics.js';
import NumberIO from '../../../../tandem/js/types/NumberIO.js';
import GOPreferences from './GOPreferences.js';
import optionize from '../../../../phet-core/js/optionize.js';
export default class IndirectFocalLengthModel extends PhetioObject {
  // see FocalLengthModel

  // Resets things that are specific to this class.

  constructor(opticSurfaceTypeProperty, providedOptions) {
    const options = optionize()({
      // SelfOptions
      radiusOfCurvatureMagnitudePropertyFeatured: true,
      indexOfRefractionPropertyFeatured: true,
      // PhetioObjectOptions
      phetioState: false,
      phetioDocumentation: 'Model of focal length that is used when ' + `${GOPreferences.focalLengthModelTypeProperty.tandem.phetioID} ` + 'is set to \'indirect\'. Ignored for flat mirror. In this model:' + '<ul>' + '<li>radius of curvature and index of refraction are settable' + '<li>focal length is derived' + '</ul>'
    }, providedOptions);
    super(options);
    this.radiusOfCurvatureMagnitudeProperty = new NumberProperty(options.radiusOfCurvatureMagnitudeRange.defaultValue, {
      units: 'cm',
      range: options.radiusOfCurvatureMagnitudeRange,
      tandem: options.tandem.createTandem('radiusOfCurvatureMagnitudeProperty'),
      phetioFeatured: options.radiusOfCurvatureMagnitudePropertyFeatured,
      phetioDocumentation: 'magnitude of the radius of curvature (no sign)'
    });
    this.indexOfRefractionProperty = new NumberProperty(options.indexOfRefractionRange.defaultValue, {
      // units: unitless
      range: options.indexOfRefractionRange,
      tandem: options.tandem.createTandem('indexOfRefractionProperty'),
      phetioFeatured: options.indexOfRefractionPropertyFeatured
    });
    this.focalLengthMagnitudeProperty = new DerivedProperty([opticSurfaceTypeProperty, this.radiusOfCurvatureMagnitudeProperty, this.indexOfRefractionProperty], (opticSurfaceType, radiusOfCurvatureMagnitude, indexOfRefraction) => radiusOfCurvatureMagnitude / (2 * (indexOfRefraction - 1)), {
      units: 'cm',
      tandem: options.tandem.createTandem('focalLengthMagnitudeProperty'),
      phetioDocumentation: 'magnitude of the focal length (no sign)',
      phetioValueType: NumberIO
    });
    this.resetIndirectFocalLengthModel = () => {
      this.radiusOfCurvatureMagnitudeProperty.reset();
      this.indexOfRefractionProperty.reset();
    };
  }

  /**
   * Synchronizes with another focal-length model by copying the values that are settable in this model.
   * Constrain values so that floating-point error doesn't cause range exceptions.
   */
  syncToModel(model) {
    assert && assert(model !== this);
    this.radiusOfCurvatureMagnitudeProperty.value = this.radiusOfCurvatureMagnitudeProperty.range.constrainValue(model.radiusOfCurvatureMagnitudeProperty.value);
    this.indexOfRefractionProperty.value = this.indexOfRefractionProperty.range.constrainValue(model.indexOfRefractionProperty.value);
  }
  reset() {
    this.resetIndirectFocalLengthModel();
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
}
geometricOptics.register('IndirectFocalLengthModel', IndirectFocalLengthModel);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQaGV0aW9PYmplY3QiLCJOdW1iZXJQcm9wZXJ0eSIsIkRlcml2ZWRQcm9wZXJ0eSIsImdlb21ldHJpY09wdGljcyIsIk51bWJlcklPIiwiR09QcmVmZXJlbmNlcyIsIm9wdGlvbml6ZSIsIkluZGlyZWN0Rm9jYWxMZW5ndGhNb2RlbCIsImNvbnN0cnVjdG9yIiwib3B0aWNTdXJmYWNlVHlwZVByb3BlcnR5IiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsInJhZGl1c09mQ3VydmF0dXJlTWFnbml0dWRlUHJvcGVydHlGZWF0dXJlZCIsImluZGV4T2ZSZWZyYWN0aW9uUHJvcGVydHlGZWF0dXJlZCIsInBoZXRpb1N0YXRlIiwicGhldGlvRG9jdW1lbnRhdGlvbiIsImZvY2FsTGVuZ3RoTW9kZWxUeXBlUHJvcGVydHkiLCJ0YW5kZW0iLCJwaGV0aW9JRCIsInJhZGl1c09mQ3VydmF0dXJlTWFnbml0dWRlUHJvcGVydHkiLCJyYWRpdXNPZkN1cnZhdHVyZU1hZ25pdHVkZVJhbmdlIiwiZGVmYXVsdFZhbHVlIiwidW5pdHMiLCJyYW5nZSIsImNyZWF0ZVRhbmRlbSIsInBoZXRpb0ZlYXR1cmVkIiwiaW5kZXhPZlJlZnJhY3Rpb25Qcm9wZXJ0eSIsImluZGV4T2ZSZWZyYWN0aW9uUmFuZ2UiLCJmb2NhbExlbmd0aE1hZ25pdHVkZVByb3BlcnR5Iiwib3B0aWNTdXJmYWNlVHlwZSIsInJhZGl1c09mQ3VydmF0dXJlTWFnbml0dWRlIiwiaW5kZXhPZlJlZnJhY3Rpb24iLCJwaGV0aW9WYWx1ZVR5cGUiLCJyZXNldEluZGlyZWN0Rm9jYWxMZW5ndGhNb2RlbCIsInJlc2V0Iiwic3luY1RvTW9kZWwiLCJtb2RlbCIsImFzc2VydCIsInZhbHVlIiwiY29uc3RyYWluVmFsdWUiLCJkaXNwb3NlIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJJbmRpcmVjdEZvY2FsTGVuZ3RoTW9kZWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjItMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogSW5kaXJlY3RGb2NhbExlbmd0aE1vZGVsIGlzIHRoZSBtb2RlbCB3aGVyZSBmb2NhbCBsZW5ndGggaXMgc2V0IGluZGlyZWN0bHkuXHJcbiAqIFJPQyBhbmQgSU9SIGFyZSBzZXR0YWJsZSwgYW5kIHVzZWQgdG8gZGVyaXZlIGZvY2FsIGxlbmd0aC5cclxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9nZW9tZXRyaWMtb3B0aWNzL2lzc3Vlcy8yNTVcclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgeyBPcHRpY1N1cmZhY2VUeXBlIH0gZnJvbSAnLi9PcHRpY1N1cmZhY2VUeXBlLmpzJztcclxuaW1wb3J0IEZvY2FsTGVuZ3RoTW9kZWwgZnJvbSAnLi9Gb2NhbExlbmd0aE1vZGVsLmpzJztcclxuaW1wb3J0IFJhbmdlV2l0aFZhbHVlIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9SYW5nZVdpdGhWYWx1ZS5qcyc7XHJcbmltcG9ydCBQaGV0aW9PYmplY3QsIHsgUGhldGlvT2JqZWN0T3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9QaGV0aW9PYmplY3QuanMnO1xyXG5pbXBvcnQgTnVtYmVyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9OdW1iZXJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IERlcml2ZWRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Rlcml2ZWRQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBnZW9tZXRyaWNPcHRpY3MgZnJvbSAnLi4vLi4vZ2VvbWV0cmljT3B0aWNzLmpzJztcclxuaW1wb3J0IE51bWJlcklPIGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy90eXBlcy9OdW1iZXJJTy5qcyc7XHJcbmltcG9ydCBHT1ByZWZlcmVuY2VzIGZyb20gJy4vR09QcmVmZXJlbmNlcy5qcyc7XHJcbmltcG9ydCBvcHRpb25pemUgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XHJcbmltcG9ydCBQaWNrUmVxdWlyZWQgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1BpY2tSZXF1aXJlZC5qcyc7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG4gIHJhZGl1c09mQ3VydmF0dXJlTWFnbml0dWRlUmFuZ2U6IFJhbmdlV2l0aFZhbHVlOyAvLyByYW5nZSBvZiByYWRpdXNPZkN1cnZhdHVyZU1hZ25pdHVkZVByb3BlcnR5XHJcbiAgcmFkaXVzT2ZDdXJ2YXR1cmVNYWduaXR1ZGVQcm9wZXJ0eUZlYXR1cmVkPzogYm9vbGVhbjsgLy8gV2hldGhlciByYWRpdXNPZkN1cnZhdHVyZU1hZ25pdHVkZVByb3BlcnR5IGlzIHBoZXRpb0ZlYXR1cmVkXHJcbiAgaW5kZXhPZlJlZnJhY3Rpb25SYW5nZTogUmFuZ2VXaXRoVmFsdWU7IC8vIHJhbmdlIG9mIGluZGV4T2ZSZWZyYWN0aW9uUHJvcGVydHlcclxuICBpbmRleE9mUmVmcmFjdGlvblByb3BlcnR5RmVhdHVyZWQ/OiBib29sZWFuOyAvLyBXaGV0aGVyIGluZGV4T2ZSZWZyYWN0aW9uUHJvcGVydHkgaXMgcGhldGlvRmVhdHVyZWRcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIEluZGlyZWN0Rm9jYWxMZW5ndGhNb2RlbE9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIFBpY2tSZXF1aXJlZDxQaGV0aW9PYmplY3RPcHRpb25zLCAndGFuZGVtJz47XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbmRpcmVjdEZvY2FsTGVuZ3RoTW9kZWwgZXh0ZW5kcyBQaGV0aW9PYmplY3QgaW1wbGVtZW50cyBGb2NhbExlbmd0aE1vZGVsIHtcclxuXHJcbiAgLy8gc2VlIEZvY2FsTGVuZ3RoTW9kZWxcclxuICBwdWJsaWMgcmVhZG9ubHkgcmFkaXVzT2ZDdXJ2YXR1cmVNYWduaXR1ZGVQcm9wZXJ0eTogTnVtYmVyUHJvcGVydHk7XHJcbiAgcHVibGljIHJlYWRvbmx5IGluZGV4T2ZSZWZyYWN0aW9uUHJvcGVydHk6IE51bWJlclByb3BlcnR5O1xyXG4gIHB1YmxpYyByZWFkb25seSBmb2NhbExlbmd0aE1hZ25pdHVkZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxudW1iZXI+O1xyXG5cclxuICAvLyBSZXNldHMgdGhpbmdzIHRoYXQgYXJlIHNwZWNpZmljIHRvIHRoaXMgY2xhc3MuXHJcbiAgcHJpdmF0ZSByZWFkb25seSByZXNldEluZGlyZWN0Rm9jYWxMZW5ndGhNb2RlbDogKCkgPT4gdm9pZDtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBvcHRpY1N1cmZhY2VUeXBlUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PE9wdGljU3VyZmFjZVR5cGU+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRPcHRpb25zOiBJbmRpcmVjdEZvY2FsTGVuZ3RoTW9kZWxPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8SW5kaXJlY3RGb2NhbExlbmd0aE1vZGVsT3B0aW9ucywgU2VsZk9wdGlvbnMsIFBoZXRpb09iamVjdE9wdGlvbnM+KCkoIHtcclxuXHJcbiAgICAgIC8vIFNlbGZPcHRpb25zXHJcbiAgICAgIHJhZGl1c09mQ3VydmF0dXJlTWFnbml0dWRlUHJvcGVydHlGZWF0dXJlZDogdHJ1ZSxcclxuICAgICAgaW5kZXhPZlJlZnJhY3Rpb25Qcm9wZXJ0eUZlYXR1cmVkOiB0cnVlLFxyXG5cclxuICAgICAgLy8gUGhldGlvT2JqZWN0T3B0aW9uc1xyXG4gICAgICBwaGV0aW9TdGF0ZTogZmFsc2UsXHJcbiAgICAgIHBoZXRpb0RvY3VtZW50YXRpb246ICdNb2RlbCBvZiBmb2NhbCBsZW5ndGggdGhhdCBpcyB1c2VkIHdoZW4gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke0dPUHJlZmVyZW5jZXMuZm9jYWxMZW5ndGhNb2RlbFR5cGVQcm9wZXJ0eS50YW5kZW0ucGhldGlvSUR9IGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnaXMgc2V0IHRvIFxcJ2luZGlyZWN0XFwnLiBJZ25vcmVkIGZvciBmbGF0IG1pcnJvci4gSW4gdGhpcyBtb2RlbDonICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx1bD4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsaT5yYWRpdXMgb2YgY3VydmF0dXJlIGFuZCBpbmRleCBvZiByZWZyYWN0aW9uIGFyZSBzZXR0YWJsZScgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnPGxpPmZvY2FsIGxlbmd0aCBpcyBkZXJpdmVkJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3VsPidcclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIHN1cGVyKCBvcHRpb25zICk7XHJcblxyXG4gICAgdGhpcy5yYWRpdXNPZkN1cnZhdHVyZU1hZ25pdHVkZVByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCBvcHRpb25zLnJhZGl1c09mQ3VydmF0dXJlTWFnbml0dWRlUmFuZ2UuZGVmYXVsdFZhbHVlLCB7XHJcbiAgICAgIHVuaXRzOiAnY20nLFxyXG4gICAgICByYW5nZTogb3B0aW9ucy5yYWRpdXNPZkN1cnZhdHVyZU1hZ25pdHVkZVJhbmdlLFxyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3JhZGl1c09mQ3VydmF0dXJlTWFnbml0dWRlUHJvcGVydHknICksXHJcbiAgICAgIHBoZXRpb0ZlYXR1cmVkOiBvcHRpb25zLnJhZGl1c09mQ3VydmF0dXJlTWFnbml0dWRlUHJvcGVydHlGZWF0dXJlZCxcclxuICAgICAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ21hZ25pdHVkZSBvZiB0aGUgcmFkaXVzIG9mIGN1cnZhdHVyZSAobm8gc2lnbiknXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5pbmRleE9mUmVmcmFjdGlvblByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCBvcHRpb25zLmluZGV4T2ZSZWZyYWN0aW9uUmFuZ2UuZGVmYXVsdFZhbHVlLCB7XHJcbiAgICAgIC8vIHVuaXRzOiB1bml0bGVzc1xyXG4gICAgICByYW5nZTogb3B0aW9ucy5pbmRleE9mUmVmcmFjdGlvblJhbmdlLFxyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2luZGV4T2ZSZWZyYWN0aW9uUHJvcGVydHknICksXHJcbiAgICAgIHBoZXRpb0ZlYXR1cmVkOiBvcHRpb25zLmluZGV4T2ZSZWZyYWN0aW9uUHJvcGVydHlGZWF0dXJlZFxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuZm9jYWxMZW5ndGhNYWduaXR1ZGVQcm9wZXJ0eSA9IG5ldyBEZXJpdmVkUHJvcGVydHkoXHJcbiAgICAgIFsgb3B0aWNTdXJmYWNlVHlwZVByb3BlcnR5LCB0aGlzLnJhZGl1c09mQ3VydmF0dXJlTWFnbml0dWRlUHJvcGVydHksIHRoaXMuaW5kZXhPZlJlZnJhY3Rpb25Qcm9wZXJ0eSBdLFxyXG4gICAgICAoIG9wdGljU3VyZmFjZVR5cGUsIHJhZGl1c09mQ3VydmF0dXJlTWFnbml0dWRlLCBpbmRleE9mUmVmcmFjdGlvbiApID0+XHJcbiAgICAgICAgcmFkaXVzT2ZDdXJ2YXR1cmVNYWduaXR1ZGUgLyAoIDIgKiAoIGluZGV4T2ZSZWZyYWN0aW9uIC0gMSApICksIHtcclxuICAgICAgICB1bml0czogJ2NtJyxcclxuICAgICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2ZvY2FsTGVuZ3RoTWFnbml0dWRlUHJvcGVydHknICksXHJcbiAgICAgICAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ21hZ25pdHVkZSBvZiB0aGUgZm9jYWwgbGVuZ3RoIChubyBzaWduKScsXHJcbiAgICAgICAgcGhldGlvVmFsdWVUeXBlOiBOdW1iZXJJT1xyXG4gICAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5yZXNldEluZGlyZWN0Rm9jYWxMZW5ndGhNb2RlbCA9ICgpID0+IHtcclxuICAgICAgdGhpcy5yYWRpdXNPZkN1cnZhdHVyZU1hZ25pdHVkZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICAgIHRoaXMuaW5kZXhPZlJlZnJhY3Rpb25Qcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN5bmNocm9uaXplcyB3aXRoIGFub3RoZXIgZm9jYWwtbGVuZ3RoIG1vZGVsIGJ5IGNvcHlpbmcgdGhlIHZhbHVlcyB0aGF0IGFyZSBzZXR0YWJsZSBpbiB0aGlzIG1vZGVsLlxyXG4gICAqIENvbnN0cmFpbiB2YWx1ZXMgc28gdGhhdCBmbG9hdGluZy1wb2ludCBlcnJvciBkb2Vzbid0IGNhdXNlIHJhbmdlIGV4Y2VwdGlvbnMuXHJcbiAgICovXHJcbiAgcHVibGljIHN5bmNUb01vZGVsKCBtb2RlbDogRm9jYWxMZW5ndGhNb2RlbCApOiB2b2lkIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIG1vZGVsICE9PSB0aGlzICk7XHJcblxyXG4gICAgdGhpcy5yYWRpdXNPZkN1cnZhdHVyZU1hZ25pdHVkZVByb3BlcnR5LnZhbHVlID1cclxuICAgICAgdGhpcy5yYWRpdXNPZkN1cnZhdHVyZU1hZ25pdHVkZVByb3BlcnR5LnJhbmdlLmNvbnN0cmFpblZhbHVlKCBtb2RlbC5yYWRpdXNPZkN1cnZhdHVyZU1hZ25pdHVkZVByb3BlcnR5LnZhbHVlICk7XHJcblxyXG4gICAgdGhpcy5pbmRleE9mUmVmcmFjdGlvblByb3BlcnR5LnZhbHVlID1cclxuICAgICAgdGhpcy5pbmRleE9mUmVmcmFjdGlvblByb3BlcnR5LnJhbmdlLmNvbnN0cmFpblZhbHVlKCBtb2RlbC5pbmRleE9mUmVmcmFjdGlvblByb3BlcnR5LnZhbHVlICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVzZXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLnJlc2V0SW5kaXJlY3RGb2NhbExlbmd0aE1vZGVsKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGZhbHNlLCAnZGlzcG9zZSBpcyBub3Qgc3VwcG9ydGVkLCBleGlzdHMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltJyApO1xyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZ2VvbWV0cmljT3B0aWNzLnJlZ2lzdGVyKCAnSW5kaXJlY3RGb2NhbExlbmd0aE1vZGVsJywgSW5kaXJlY3RGb2NhbExlbmd0aE1vZGVsICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFLQSxPQUFPQSxZQUFZLE1BQStCLHVDQUF1QztBQUN6RixPQUFPQyxjQUFjLE1BQU0sdUNBQXVDO0FBRWxFLE9BQU9DLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsT0FBT0MsZUFBZSxNQUFNLDBCQUEwQjtBQUN0RCxPQUFPQyxRQUFRLE1BQU0seUNBQXlDO0FBQzlELE9BQU9DLGFBQWEsTUFBTSxvQkFBb0I7QUFDOUMsT0FBT0MsU0FBUyxNQUFNLHVDQUF1QztBQVk3RCxlQUFlLE1BQU1DLHdCQUF3QixTQUFTUCxZQUFZLENBQTZCO0VBRTdGOztFQUtBOztFQUdPUSxXQUFXQSxDQUFFQyx3QkFBNkQsRUFDN0RDLGVBQWdELEVBQUc7SUFFckUsTUFBTUMsT0FBTyxHQUFHTCxTQUFTLENBQW9FLENBQUMsQ0FBRTtNQUU5RjtNQUNBTSwwQ0FBMEMsRUFBRSxJQUFJO01BQ2hEQyxpQ0FBaUMsRUFBRSxJQUFJO01BRXZDO01BQ0FDLFdBQVcsRUFBRSxLQUFLO01BQ2xCQyxtQkFBbUIsRUFBRSwwQ0FBMEMsR0FDekMsR0FBRVYs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