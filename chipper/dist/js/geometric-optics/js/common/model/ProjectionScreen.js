// Copyright 2021-2023, University of Colorado Boulder

/**
 * ProjectionScreen is the model of the projection screen.
 * It has a position and a Shape, and methods for computing Shapes needed by the view.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 * @author Martin Veillette
 */

import Matrix3 from '../../../../dot/js/Matrix3.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import Vector2Property from '../../../../dot/js/Vector2Property.js';
import { Shape } from '../../../../kite/js/imports.js';
import PhetioObject from '../../../../tandem/js/PhetioObject.js';
import geometricOptics from '../../geometricOptics.js';
import GOConstants from '../GOConstants.js';
import optionize from '../../../../phet-core/js/optionize.js';

// Dimensions of the screen, in cm. "Near" and "far" refer to pseudo-3D perspective.
const SCREEN_WIDTH = 42;
const SCREEN_NEAR_HEIGHT = 134;
const SCREEN_FAR_HEIGHT = 112;
assert && assert(SCREEN_NEAR_HEIGHT > SCREEN_FAR_HEIGHT);
export default class ProjectionScreen extends PhetioObject {
  // position of the center of the screen, in cm

  // Shape of the screen, relative to positionProperty

  // Height of the screen at its centerX

  // line that vertically bisects the screen, at its centerX

  // Resets things that are specific to this class.

  constructor(opticPositionProperty, providedOptions) {
    const options = optionize()({
      // PhetioObjectOptions
      phetioState: false
    }, providedOptions);
    super(options);
    this.positionProperty = new Vector2Property(new Vector2(200, 0), {
      units: 'cm',
      isValidValue: position => position.x >= opticPositionProperty.value.x + GOConstants.MIN_DISTANCE_FROM_OPTIC_TO_PROJECTION_SCREEN,
      tandem: options.tandem.createTandem('positionProperty'),
      phetioFeatured: true
    });

    // Described clockwise, starting at left top, in model coordinates.
    this.screenShape = new Shape().moveTo(-SCREEN_WIDTH / 2, SCREEN_FAR_HEIGHT / 2).lineTo(SCREEN_WIDTH / 2, SCREEN_NEAR_HEIGHT / 2).lineTo(SCREEN_WIDTH / 2, -SCREEN_NEAR_HEIGHT / 2).lineTo(-SCREEN_WIDTH / 2, -SCREEN_FAR_HEIGHT / 2).close();

    // Height at the centerX of the screen, the average of its near and far perspective heights
    this.height = (SCREEN_NEAR_HEIGHT + SCREEN_FAR_HEIGHT) / 2;

    // Described from top to bottom, in model coordinates.
    this.bisectorLine = Shape.lineSegment(0, this.height / 2, 0, -this.height / 2);
    this.resetProjectionScreen = () => {
      this.positionProperty.reset();
    };
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
  reset() {
    this.resetProjectionScreen();
  }

  /**
   * Gets the vertical line that bisects the screen, in the model's global coordinate frame.
   */
  getBisectorLineTranslated() {
    return this.translatedShape(this.bisectorLine);
  }

  /**
   * Gets the shape of the projection screen, in the model's global coordinate frame.
   */
  getScreenShapeTranslated() {
    return this.translatedShape(this.screenShape);
  }

  /**
   * Returns a shape that is translated by the model position of the projection screen.
   * The provided Shape should be in the projection screen's local coordinate frame.
   * The resulting Shape will be in the model's global coordinate frame.
   * @param shape - in the projection screen's local coordinate frame
   */
  translatedShape(shape) {
    return shape.transformed(Matrix3.translationFromVector(this.positionProperty.value));
  }
}
geometricOptics.register('ProjectionScreen', ProjectionScreen);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNYXRyaXgzIiwiVmVjdG9yMiIsIlZlY3RvcjJQcm9wZXJ0eSIsIlNoYXBlIiwiUGhldGlvT2JqZWN0IiwiZ2VvbWV0cmljT3B0aWNzIiwiR09Db25zdGFudHMiLCJvcHRpb25pemUiLCJTQ1JFRU5fV0lEVEgiLCJTQ1JFRU5fTkVBUl9IRUlHSFQiLCJTQ1JFRU5fRkFSX0hFSUdIVCIsImFzc2VydCIsIlByb2plY3Rpb25TY3JlZW4iLCJjb25zdHJ1Y3RvciIsIm9wdGljUG9zaXRpb25Qcm9wZXJ0eSIsInByb3ZpZGVkT3B0aW9ucyIsIm9wdGlvbnMiLCJwaGV0aW9TdGF0ZSIsInBvc2l0aW9uUHJvcGVydHkiLCJ1bml0cyIsImlzVmFsaWRWYWx1ZSIsInBvc2l0aW9uIiwieCIsInZhbHVlIiwiTUlOX0RJU1RBTkNFX0ZST01fT1BUSUNfVE9fUFJPSkVDVElPTl9TQ1JFRU4iLCJ0YW5kZW0iLCJjcmVhdGVUYW5kZW0iLCJwaGV0aW9GZWF0dXJlZCIsInNjcmVlblNoYXBlIiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2UiLCJoZWlnaHQiLCJiaXNlY3RvckxpbmUiLCJsaW5lU2VnbWVudCIsInJlc2V0UHJvamVjdGlvblNjcmVlbiIsInJlc2V0IiwiZGlzcG9zZSIsImdldEJpc2VjdG9yTGluZVRyYW5zbGF0ZWQiLCJ0cmFuc2xhdGVkU2hhcGUiLCJnZXRTY3JlZW5TaGFwZVRyYW5zbGF0ZWQiLCJzaGFwZSIsInRyYW5zZm9ybWVkIiwidHJhbnNsYXRpb25Gcm9tVmVjdG9yIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJQcm9qZWN0aW9uU2NyZWVuLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFByb2plY3Rpb25TY3JlZW4gaXMgdGhlIG1vZGVsIG9mIHRoZSBwcm9qZWN0aW9uIHNjcmVlbi5cclxuICogSXQgaGFzIGEgcG9zaXRpb24gYW5kIGEgU2hhcGUsIGFuZCBtZXRob2RzIGZvciBjb21wdXRpbmcgU2hhcGVzIG5lZWRlZCBieSB0aGUgdmlldy5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICogQGF1dGhvciBNYXJ0aW4gVmVpbGxldHRlXHJcbiAqL1xyXG5cclxuaW1wb3J0IFRSZWFkT25seVByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvVFJlYWRPbmx5UHJvcGVydHkuanMnO1xyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBNYXRyaXgzIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9NYXRyaXgzLmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgVmVjdG9yMlByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBQaGV0aW9PYmplY3QsIHsgUGhldGlvT2JqZWN0T3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9QaGV0aW9PYmplY3QuanMnO1xyXG5pbXBvcnQgZ2VvbWV0cmljT3B0aWNzIGZyb20gJy4uLy4uL2dlb21ldHJpY09wdGljcy5qcyc7XHJcbmltcG9ydCBHT0NvbnN0YW50cyBmcm9tICcuLi9HT0NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBQaWNrUmVxdWlyZWQgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1BpY2tSZXF1aXJlZC5qcyc7XHJcbmltcG9ydCBvcHRpb25pemUsIHsgRW1wdHlTZWxmT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5cclxuLy8gRGltZW5zaW9ucyBvZiB0aGUgc2NyZWVuLCBpbiBjbS4gXCJOZWFyXCIgYW5kIFwiZmFyXCIgcmVmZXIgdG8gcHNldWRvLTNEIHBlcnNwZWN0aXZlLlxyXG5jb25zdCBTQ1JFRU5fV0lEVEggPSA0MjtcclxuY29uc3QgU0NSRUVOX05FQVJfSEVJR0hUID0gMTM0O1xyXG5jb25zdCBTQ1JFRU5fRkFSX0hFSUdIVCA9IDExMjtcclxuYXNzZXJ0ICYmIGFzc2VydCggU0NSRUVOX05FQVJfSEVJR0hUID4gU0NSRUVOX0ZBUl9IRUlHSFQgKTtcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSBFbXB0eVNlbGZPcHRpb25zO1xyXG5cclxudHlwZSBQcm9qZWN0aW9uU2NyZWVuT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgUGlja1JlcXVpcmVkPFBoZXRpb09iamVjdE9wdGlvbnMsICd0YW5kZW0nPjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3Rpb25TY3JlZW4gZXh0ZW5kcyBQaGV0aW9PYmplY3Qge1xyXG5cclxuICAvLyBwb3NpdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoZSBzY3JlZW4sIGluIGNtXHJcbiAgcHVibGljIHJlYWRvbmx5IHBvc2l0aW9uUHJvcGVydHk6IFByb3BlcnR5PFZlY3RvcjI+O1xyXG5cclxuICAvLyBTaGFwZSBvZiB0aGUgc2NyZWVuLCByZWxhdGl2ZSB0byBwb3NpdGlvblByb3BlcnR5XHJcbiAgcHVibGljIHJlYWRvbmx5IHNjcmVlblNoYXBlOiBTaGFwZTtcclxuXHJcbiAgLy8gSGVpZ2h0IG9mIHRoZSBzY3JlZW4gYXQgaXRzIGNlbnRlclhcclxuICBwdWJsaWMgcmVhZG9ubHkgaGVpZ2h0OiBudW1iZXI7XHJcblxyXG4gIC8vIGxpbmUgdGhhdCB2ZXJ0aWNhbGx5IGJpc2VjdHMgdGhlIHNjcmVlbiwgYXQgaXRzIGNlbnRlclhcclxuICBwcml2YXRlIHJlYWRvbmx5IGJpc2VjdG9yTGluZTogU2hhcGU7XHJcblxyXG4gIC8vIFJlc2V0cyB0aGluZ3MgdGhhdCBhcmUgc3BlY2lmaWMgdG8gdGhpcyBjbGFzcy5cclxuICBwcml2YXRlIHJlYWRvbmx5IHJlc2V0UHJvamVjdGlvblNjcmVlbjogKCkgPT4gdm9pZDtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBvcHRpY1Bvc2l0aW9uUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PFZlY3RvcjI+LCBwcm92aWRlZE9wdGlvbnM6IFByb2plY3Rpb25TY3JlZW5PcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8UHJvamVjdGlvblNjcmVlbk9wdGlvbnMsIFNlbGZPcHRpb25zLCBQaGV0aW9PYmplY3RPcHRpb25zPigpKCB7XHJcblxyXG4gICAgICAvLyBQaGV0aW9PYmplY3RPcHRpb25zXHJcbiAgICAgIHBoZXRpb1N0YXRlOiBmYWxzZVxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcbiAgICB0aGlzLnBvc2l0aW9uUHJvcGVydHkgPSBuZXcgVmVjdG9yMlByb3BlcnR5KCBuZXcgVmVjdG9yMiggMjAwLCAwICksIHtcclxuICAgICAgdW5pdHM6ICdjbScsXHJcbiAgICAgIGlzVmFsaWRWYWx1ZTogKCBwb3NpdGlvbjogVmVjdG9yMiApID0+XHJcbiAgICAgICAgKCBwb3NpdGlvbi54ID49IG9wdGljUG9zaXRpb25Qcm9wZXJ0eS52YWx1ZS54ICsgR09Db25zdGFudHMuTUlOX0RJU1RBTkNFX0ZST01fT1BUSUNfVE9fUFJPSkVDVElPTl9TQ1JFRU4gKSxcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdwb3NpdGlvblByb3BlcnR5JyApLFxyXG4gICAgICBwaGV0aW9GZWF0dXJlZDogdHJ1ZVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIERlc2NyaWJlZCBjbG9ja3dpc2UsIHN0YXJ0aW5nIGF0IGxlZnQgdG9wLCBpbiBtb2RlbCBjb29yZGluYXRlcy5cclxuICAgIHRoaXMuc2NyZWVuU2hhcGUgPSBuZXcgU2hhcGUoKVxyXG4gICAgICAubW92ZVRvKCAtU0NSRUVOX1dJRFRIIC8gMiwgU0NSRUVOX0ZBUl9IRUlHSFQgLyAyIClcclxuICAgICAgLmxpbmVUbyggU0NSRUVOX1dJRFRIIC8gMiwgU0NSRUVOX05FQVJfSEVJR0hUIC8gMiApXHJcbiAgICAgIC5saW5lVG8oIFNDUkVFTl9XSURUSCAvIDIsIC1TQ1JFRU5fTkVBUl9IRUlHSFQgLyAyIClcclxuICAgICAgLmxpbmVUbyggLVNDUkVFTl9XSURUSCAvIDIsIC1TQ1JFRU5fRkFSX0hFSUdIVCAvIDIgKVxyXG4gICAgICAuY2xvc2UoKTtcclxuXHJcbiAgICAvLyBIZWlnaHQgYXQgdGhlIGNlbnRlclggb2YgdGhlIHNjcmVlbiwgdGhlIGF2ZXJhZ2Ugb2YgaXRzIG5lYXIgYW5kIGZhciBwZXJzcGVjdGl2ZSBoZWlnaHRzXHJcbiAgICB0aGlzLmhlaWdodCA9ICggU0NSRUVOX05FQVJfSEVJR0hUICsgU0NSRUVOX0ZBUl9IRUlHSFQgKSAvIDI7XHJcblxyXG4gICAgLy8gRGVzY3JpYmVkIGZyb20gdG9wIHRvIGJvdHRvbSwgaW4gbW9kZWwgY29vcmRpbmF0ZXMuXHJcbiAgICB0aGlzLmJpc2VjdG9yTGluZSA9IFNoYXBlLmxpbmVTZWdtZW50KCAwLCB0aGlzLmhlaWdodCAvIDIsIDAsIC10aGlzLmhlaWdodCAvIDIgKTtcclxuXHJcbiAgICB0aGlzLnJlc2V0UHJvamVjdGlvblNjcmVlbiA9ICgpID0+IHtcclxuICAgICAgdGhpcy5wb3NpdGlvblByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBmYWxzZSwgJ2Rpc3Bvc2UgaXMgbm90IHN1cHBvcnRlZCwgZXhpc3RzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbScgKTtcclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcclxuICAgIHRoaXMucmVzZXRQcm9qZWN0aW9uU2NyZWVuKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSB2ZXJ0aWNhbCBsaW5lIHRoYXQgYmlzZWN0cyB0aGUgc2NyZWVuLCBpbiB0aGUgbW9kZWwncyBnbG9iYWwgY29vcmRpbmF0ZSBmcmFtZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0QmlzZWN0b3JMaW5lVHJhbnNsYXRlZCgpOiBTaGFwZSB7XHJcbiAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVkU2hhcGUoIHRoaXMuYmlzZWN0b3JMaW5lICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSBzaGFwZSBvZiB0aGUgcHJvamVjdGlvbiBzY3JlZW4sIGluIHRoZSBtb2RlbCdzIGdsb2JhbCBjb29yZGluYXRlIGZyYW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRTY3JlZW5TaGFwZVRyYW5zbGF0ZWQoKTogU2hhcGUge1xyXG4gICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlZFNoYXBlKCB0aGlzLnNjcmVlblNoYXBlICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgc2hhcGUgdGhhdCBpcyB0cmFuc2xhdGVkIGJ5IHRoZSBtb2RlbCBwb3NpdGlvbiBvZiB0aGUgcHJvamVjdGlvbiBzY3JlZW4uXHJcbiAgICogVGhlIHByb3ZpZGVkIFNoYXBlIHNob3VsZCBiZSBpbiB0aGUgcHJvamVjdGlvbiBzY3JlZW4ncyBsb2NhbCBjb29yZGluYXRlIGZyYW1lLlxyXG4gICAqIFRoZSByZXN1bHRpbmcgU2hhcGUgd2lsbCBiZSBpbiB0aGUgbW9kZWwncyBnbG9iYWwgY29vcmRpbmF0ZSBmcmFtZS5cclxuICAgKiBAcGFyYW0gc2hhcGUgLSBpbiB0aGUgcHJvamVjdGlvbiBzY3JlZW4ncyBsb2NhbCBjb29yZGluYXRlIGZyYW1lXHJcbiAgICovXHJcbiAgcHJpdmF0ZSB0cmFuc2xhdGVkU2hhcGUoIHNoYXBlOiBTaGFwZSApOiBTaGFwZSB7XHJcbiAgICByZXR1cm4gc2hhcGUudHJhbnNmb3JtZWQoIE1hdHJpeDMudHJhbnNsYXRpb25Gcm9tVmVjdG9yKCB0aGlzLnBvc2l0aW9uUHJvcGVydHkudmFsdWUgKSApO1xyXG4gIH1cclxufVxyXG5cclxuZ2VvbWV0cmljT3B0aWNzLnJlZ2lzdGVyKCAnUHJvamVjdGlvblNjcmVlbicsIFByb2plY3Rpb25TY3JlZW4gKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlBLE9BQU9BLE9BQU8sTUFBTSwrQkFBK0I7QUFDbkQsT0FBT0MsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxPQUFPQyxlQUFlLE1BQU0sdUNBQXVDO0FBQ25FLFNBQVNDLEtBQUssUUFBUSxnQ0FBZ0M7QUFDdEQsT0FBT0MsWUFBWSxNQUErQix1Q0FBdUM7QUFDekYsT0FBT0MsZUFBZSxNQUFNLDBCQUEwQjtBQUN0RCxPQUFPQyxXQUFXLE1BQU0sbUJBQW1CO0FBRTNDLE9BQU9DLFNBQVMsTUFBNEIsdUNBQXVDOztBQUVuRjtBQUNBLE1BQU1DLFlBQVksR0FBRyxFQUFFO0FBQ3ZCLE1BQU1DLGtCQUFrQixHQUFHLEdBQUc7QUFDOUIsTUFBTUMsaUJBQWlCLEdBQUcsR0FBRztBQUM3QkMsTUFBTSxJQUFJQSxNQUFNLENBQUVGLGtCQUFrQixHQUFHQyxpQkFBa0IsQ0FBQztBQU0xRCxlQUFlLE1BQU1FLGdCQUFnQixTQUFTUixZQUFZLENBQUM7RUFFekQ7O0VBR0E7O0VBR0E7O0VBR0E7O0VBR0E7O0VBR09TLFdBQVdBLENBQUVDLHFCQUFpRCxFQUFFQyxlQUF3QyxFQUFHO0lBRWhILE1BQU1DLE9BQU8sR0FBR1QsU0FBUyxDQUE0RCxDQUFDLENBQUU7TUFFdEY7TUFDQVUsV0FBVyxFQUFFO0lBQ2YsQ0FBQyxFQUFFRixlQUFnQixDQUFDO0lBRXBCLEtBQUssQ0FBRUMsT0FBUSxDQUFDO0lBRWhC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