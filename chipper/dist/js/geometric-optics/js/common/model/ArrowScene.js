// Copyright 2022-2023, University of Colorado Boulder

/**
 * ArrowScene is a scene in which rays from two arrows interact with an optic and produce an Image.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import geometricOptics from '../../geometricOptics.js';
import LightRays from './LightRays.js';
import Lens from '../../lens/model/Lens.js';
import ArrowObject from './ArrowObject.js';
import ArrowImage from './ArrowImage.js';
import GOColors from '../GOColors.js';
import GOScene from './GOScene.js';
export default class ArrowScene extends GOScene {
  // the elements that make up this scene

  // Resets things that are specific to this class.

  /**
   * @param optic - the optic, shared by all scenes
   * @param raysTypeProperty - the representation used for rays
   * @param providedOptions
   */
  constructor(optic, raysTypeProperty, providedOptions) {
    super(optic, providedOptions);
    let opticalObjectNumber = 1;
    this.arrowObject1 = new ArrowObject(opticalObjectNumber++, optic.positionProperty, {
      position: providedOptions.arrowObject1Position,
      fill: GOColors.arrow1FillProperty,
      tandem: providedOptions.tandem.createTandem('arrowObject1')
    });
    this.arrowObject2 = new ArrowObject(opticalObjectNumber++, optic.positionProperty, {
      position: providedOptions.arrowObject2Position,
      fill: GOColors.arrow2FillProperty,
      tandem: providedOptions.tandem.createTandem('arrowObject2')
    });
    this.arrowImage1 = new ArrowImage(this.arrowObject1, this.optic, {
      tandem: providedOptions.tandem.createTandem('arrowImage1'),
      phetioDocumentation: 'optical image associated with the first arrow object'
    });
    this.arrowImage2 = new ArrowImage(this.arrowObject2, this.optic, {
      tandem: providedOptions.tandem.createTandem('arrowImage2'),
      phetioDocumentation: 'optical image associated with the second arrow object'
    });
    this.lightRays1 = new LightRays(this.arrowObject1.positionProperty, this.optic, this.arrowImage1, raysTypeProperty, this.raysAnimationTimeProperty);
    this.lightRays2 = new LightRays(this.arrowObject2.positionProperty, this.optic, this.arrowImage2, raysTypeProperty, this.raysAnimationTimeProperty);

    // Guides, for the Lens screen only
    if (optic instanceof Lens) {
      this.initializeGuides(this.arrowObject1.positionProperty, this.arrowObject2.positionProperty);
    }
    this.resetArrowObjectScene = () => {
      this.arrowObject1.reset();
      this.arrowObject2.reset();
      this.arrowImage1.reset();
      this.arrowImage2.reset();
    };
  }
  reset() {
    super.reset();
    this.resetArrowObjectScene();
  }
}
geometricOptics.register('ArrowScene', ArrowScene);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW9tZXRyaWNPcHRpY3MiLCJMaWdodFJheXMiLCJMZW5zIiwiQXJyb3dPYmplY3QiLCJBcnJvd0ltYWdlIiwiR09Db2xvcnMiLCJHT1NjZW5lIiwiQXJyb3dTY2VuZSIsImNvbnN0cnVjdG9yIiwib3B0aWMiLCJyYXlzVHlwZVByb3BlcnR5IiwicHJvdmlkZWRPcHRpb25zIiwib3B0aWNhbE9iamVjdE51bWJlciIsImFycm93T2JqZWN0MSIsInBvc2l0aW9uUHJvcGVydHkiLCJwb3NpdGlvbiIsImFycm93T2JqZWN0MVBvc2l0aW9uIiwiZmlsbCIsImFycm93MUZpbGxQcm9wZXJ0eSIsInRhbmRlbSIsImNyZWF0ZVRhbmRlbSIsImFycm93T2JqZWN0MiIsImFycm93T2JqZWN0MlBvc2l0aW9uIiwiYXJyb3cyRmlsbFByb3BlcnR5IiwiYXJyb3dJbWFnZTEiLCJwaGV0aW9Eb2N1bWVudGF0aW9uIiwiYXJyb3dJbWFnZTIiLCJsaWdodFJheXMxIiwicmF5c0FuaW1hdGlvblRpbWVQcm9wZXJ0eSIsImxpZ2h0UmF5czIiLCJpbml0aWFsaXplR3VpZGVzIiwicmVzZXRBcnJvd09iamVjdFNjZW5lIiwicmVzZXQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkFycm93U2NlbmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjItMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQXJyb3dTY2VuZSBpcyBhIHNjZW5lIGluIHdoaWNoIHJheXMgZnJvbSB0d28gYXJyb3dzIGludGVyYWN0IHdpdGggYW4gb3B0aWMgYW5kIHByb2R1Y2UgYW4gSW1hZ2UuXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IGdlb21ldHJpY09wdGljcyBmcm9tICcuLi8uLi9nZW9tZXRyaWNPcHRpY3MuanMnO1xyXG5pbXBvcnQgT3B0aWMgZnJvbSAnLi9PcHRpYy5qcyc7XHJcbmltcG9ydCBWZWN0b3IyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyLmpzJztcclxuaW1wb3J0IHsgUmF5c1R5cGUgfSBmcm9tICcuL1JheXNUeXBlLmpzJztcclxuaW1wb3J0IExpZ2h0UmF5cyBmcm9tICcuL0xpZ2h0UmF5cy5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IExlbnMgZnJvbSAnLi4vLi4vbGVucy9tb2RlbC9MZW5zLmpzJztcclxuaW1wb3J0IEFycm93T2JqZWN0IGZyb20gJy4vQXJyb3dPYmplY3QuanMnO1xyXG5pbXBvcnQgQXJyb3dJbWFnZSBmcm9tICcuL0Fycm93SW1hZ2UuanMnO1xyXG5pbXBvcnQgR09Db2xvcnMgZnJvbSAnLi4vR09Db2xvcnMuanMnO1xyXG5pbXBvcnQgR09TY2VuZSwgeyBHT1NjZW5lT3B0aW9ucyB9IGZyb20gJy4vR09TY2VuZS5qcyc7XHJcbmltcG9ydCBQaWNrUmVxdWlyZWQgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1BpY2tSZXF1aXJlZC5qcyc7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG5cclxuICAvLyBpbml0aWFsIHBvc2l0aW9ucyBvZiB0aGUgYXJyb3cgb2JqZWN0c1xyXG4gIGFycm93T2JqZWN0MVBvc2l0aW9uOiBWZWN0b3IyO1xyXG4gIGFycm93T2JqZWN0MlBvc2l0aW9uOiBWZWN0b3IyO1xyXG59O1xyXG5cclxudHlwZSBBcnJvd09iamVjdFNjZW5lT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgUGlja1JlcXVpcmVkPEdPU2NlbmVPcHRpb25zLCAndGFuZGVtJz47XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcnJvd1NjZW5lIGV4dGVuZHMgR09TY2VuZSB7XHJcblxyXG4gIC8vIHRoZSBlbGVtZW50cyB0aGF0IG1ha2UgdXAgdGhpcyBzY2VuZVxyXG4gIHB1YmxpYyByZWFkb25seSBhcnJvd09iamVjdDE6IEFycm93T2JqZWN0O1xyXG4gIHB1YmxpYyByZWFkb25seSBhcnJvd09iamVjdDI6IEFycm93T2JqZWN0O1xyXG4gIHB1YmxpYyByZWFkb25seSBhcnJvd0ltYWdlMTogQXJyb3dJbWFnZTtcclxuICBwdWJsaWMgcmVhZG9ubHkgYXJyb3dJbWFnZTI6IEFycm93SW1hZ2U7XHJcbiAgcHVibGljIHJlYWRvbmx5IGxpZ2h0UmF5czE6IExpZ2h0UmF5cztcclxuICBwdWJsaWMgcmVhZG9ubHkgbGlnaHRSYXlzMjogTGlnaHRSYXlzO1xyXG5cclxuICAvLyBSZXNldHMgdGhpbmdzIHRoYXQgYXJlIHNwZWNpZmljIHRvIHRoaXMgY2xhc3MuXHJcbiAgcHJpdmF0ZSByZWFkb25seSByZXNldEFycm93T2JqZWN0U2NlbmU6ICgpID0+IHZvaWQ7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBvcHRpYyAtIHRoZSBvcHRpYywgc2hhcmVkIGJ5IGFsbCBzY2VuZXNcclxuICAgKiBAcGFyYW0gcmF5c1R5cGVQcm9wZXJ0eSAtIHRoZSByZXByZXNlbnRhdGlvbiB1c2VkIGZvciByYXlzXHJcbiAgICogQHBhcmFtIHByb3ZpZGVkT3B0aW9uc1xyXG4gICAqL1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvciggb3B0aWM6IE9wdGljLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcmF5c1R5cGVQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8UmF5c1R5cGU+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRPcHRpb25zOiBBcnJvd09iamVjdFNjZW5lT3B0aW9ucyApIHtcclxuXHJcbiAgICBzdXBlciggb3B0aWMsIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIGxldCBvcHRpY2FsT2JqZWN0TnVtYmVyID0gMTtcclxuXHJcbiAgICB0aGlzLmFycm93T2JqZWN0MSA9IG5ldyBBcnJvd09iamVjdCggb3B0aWNhbE9iamVjdE51bWJlcisrLCBvcHRpYy5wb3NpdGlvblByb3BlcnR5LCB7XHJcbiAgICAgIHBvc2l0aW9uOiBwcm92aWRlZE9wdGlvbnMuYXJyb3dPYmplY3QxUG9zaXRpb24sXHJcbiAgICAgIGZpbGw6IEdPQ29sb3JzLmFycm93MUZpbGxQcm9wZXJ0eSxcclxuICAgICAgdGFuZGVtOiBwcm92aWRlZE9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2Fycm93T2JqZWN0MScgKVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuYXJyb3dPYmplY3QyID0gbmV3IEFycm93T2JqZWN0KCBvcHRpY2FsT2JqZWN0TnVtYmVyKyssIG9wdGljLnBvc2l0aW9uUHJvcGVydHksIHtcclxuICAgICAgcG9zaXRpb246IHByb3ZpZGVkT3B0aW9ucy5hcnJvd09iamVjdDJQb3NpdGlvbixcclxuICAgICAgZmlsbDogR09Db2xvcnMuYXJyb3cyRmlsbFByb3BlcnR5LFxyXG4gICAgICB0YW5kZW06IHByb3ZpZGVkT3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnYXJyb3dPYmplY3QyJyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5hcnJvd0ltYWdlMSA9IG5ldyBBcnJvd0ltYWdlKCB0aGlzLmFycm93T2JqZWN0MSwgdGhpcy5vcHRpYywge1xyXG4gICAgICB0YW5kZW06IHByb3ZpZGVkT3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnYXJyb3dJbWFnZTEnICksXHJcbiAgICAgIHBoZXRpb0RvY3VtZW50YXRpb246ICdvcHRpY2FsIGltYWdlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZmlyc3QgYXJyb3cgb2JqZWN0J1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuYXJyb3dJbWFnZTIgPSBuZXcgQXJyb3dJbWFnZSggdGhpcy5hcnJvd09iamVjdDIsIHRoaXMub3B0aWMsIHtcclxuICAgICAgdGFuZGVtOiBwcm92aWRlZE9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2Fycm93SW1hZ2UyJyApLFxyXG4gICAgICBwaGV0aW9Eb2N1bWVudGF0aW9uOiAnb3B0aWNhbCBpbWFnZSBhc3NvY2lhdGVkIHdpdGggdGhlIHNlY29uZCBhcnJvdyBvYmplY3QnXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5saWdodFJheXMxID0gbmV3IExpZ2h0UmF5cyhcclxuICAgICAgdGhpcy5hcnJvd09iamVjdDEucG9zaXRpb25Qcm9wZXJ0eSxcclxuICAgICAgdGhpcy5vcHRpYyxcclxuICAgICAgdGhpcy5hcnJvd0ltYWdlMSxcclxuICAgICAgcmF5c1R5cGVQcm9wZXJ0eSxcclxuICAgICAgdGhpcy5yYXlzQW5pbWF0aW9uVGltZVByb3BlcnR5XHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMubGlnaHRSYXlzMiA9IG5ldyBMaWdodFJheXMoXHJcbiAgICAgIHRoaXMuYXJyb3dPYmplY3QyLnBvc2l0aW9uUHJvcGVydHksXHJcbiAgICAgIHRoaXMub3B0aWMsXHJcbiAgICAgIHRoaXMuYXJyb3dJbWFnZTIsXHJcbiAgICAgIHJheXNUeXBlUHJvcGVydHksXHJcbiAgICAgIHRoaXMucmF5c0FuaW1hdGlvblRpbWVQcm9wZXJ0eVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBHdWlkZXMsIGZvciB0aGUgTGVucyBzY3JlZW4gb25seVxyXG4gICAgaWYgKCBvcHRpYyBpbnN0YW5jZW9mIExlbnMgKSB7XHJcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZUd1aWRlcyggdGhpcy5hcnJvd09iamVjdDEucG9zaXRpb25Qcm9wZXJ0eSwgdGhpcy5hcnJvd09iamVjdDIucG9zaXRpb25Qcm9wZXJ0eSApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVzZXRBcnJvd09iamVjdFNjZW5lID0gKCkgPT4ge1xyXG4gICAgICB0aGlzLmFycm93T2JqZWN0MS5yZXNldCgpO1xyXG4gICAgICB0aGlzLmFycm93T2JqZWN0Mi5yZXNldCgpO1xyXG4gICAgICB0aGlzLmFycm93SW1hZ2UxLnJlc2V0KCk7XHJcbiAgICAgIHRoaXMuYXJyb3dJbWFnZTIucmVzZXQoKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgcmVzZXQoKTogdm9pZCB7XHJcbiAgICBzdXBlci5yZXNldCgpO1xyXG4gICAgdGhpcy5yZXNldEFycm93T2JqZWN0U2NlbmUoKTtcclxuICB9XHJcbn1cclxuXHJcbmdlb21ldHJpY09wdGljcy5yZWdpc3RlciggJ0Fycm93U2NlbmUnLCBBcnJvd1NjZW5lICk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxlQUFlLE1BQU0sMEJBQTBCO0FBSXRELE9BQU9DLFNBQVMsTUFBTSxnQkFBZ0I7QUFFdEMsT0FBT0MsSUFBSSxNQUFNLDBCQUEwQjtBQUMzQyxPQUFPQyxXQUFXLE1BQU0sa0JBQWtCO0FBQzFDLE9BQU9DLFVBQVUsTUFBTSxpQkFBaUI7QUFDeEMsT0FBT0MsUUFBUSxNQUFNLGdCQUFnQjtBQUNyQyxPQUFPQyxPQUFPLE1BQTBCLGNBQWM7QUFZdEQsZUFBZSxNQUFNQyxVQUFVLFNBQVNELE9BQU8sQ0FBQztFQUU5Qzs7RUFRQTs7RUFHQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ1NFLFdBQVdBLENBQUVDLEtBQVksRUFDWkMsZ0JBQTZDLEVBQzdDQyxlQUF3QyxFQUFHO0lBRTdELEtBQUssQ0FBRUYsS0FBSyxFQUFFRSxlQUFnQixDQUFDO0lBRS9CLElBQUlDLG1CQUFtQixHQUFHLENBQUM7SUFFM0IsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSVYsV0FBVyxDQUFFUyxtQkFBbUIsRUFBRSxFQUFFSCxLQUFLLENBQUNLLGdCQUFnQixFQUFFO01BQ2xGQyxRQUFRLEVBQUVKLGVBQWUsQ0FBQ0ssb0JBQW9CO01BQzlDQyxJQUFJLEVBQUVaLFFBQVEsQ0FBQ2Esa0JBQWtCO01BQ2pDQyxNQUFNLEVBQUVSLGVBQWUsQ0FBQ1EsTUFBTSxDQUFDQyxZQUFZLENBQUUsY0FBZTtJQUM5RCxDQUFFLENBQUM7SUFFSCxJQUFJLENBQUNDLFlBQVksR0FBRyxJQUFJbEIsV0FBVyxDQUFFUyxtQkFBbUIsRUFBRSxFQUFFSCxLQUFLLENBQUNLLGdCQUFnQixFQUFFO01BQ2xGQyxRQUFRLEVBQUVKLGVBQWUsQ0FBQ1csb0JBQW9CO01BQzlDTCxJQUFJLEVBQUVaLFFBQVEsQ0FBQ2tCLGtCQUFrQjtNQUNqQ0osTUFBTSxFQUFFUixlQUFlLENBQUNRLE1BQU0sQ0FBQ0MsWUFBWSxDQUFFLGNBQWU7SUFDOUQsQ0FBRSxDQUFDO0lBRUgsSUFBSSxDQUFDSSxXQUFXLEdBQUcsSUFBSXBCLFVBQVUsQ0FBRSxJQUFJLENBQUNTLFlBQVksRUFBRSxJQUFJLENBQUNKLEtBQUssRUFBRTtNQUNoRVUsTUFBTSxFQUFFUixlQUFlLENBQUNRLE1BQU0sQ0FBQ0MsWUFBWSxDQUFFLGFBQWMsQ0FBQztNQUM1REssbUJBQW1CLEVBQUU7SUFDdkIsQ0FBRSxDQUFDO0lBRUgsSUFBSSxDQUFDQyxXQUFXLEdBQUcsSUFBSXRCLFVBQVUsQ0FBRSxJQUFJLENBQUNpQixZQUFZLEVBQUUsSUFBSSxDQUFDWixLQUFLLEVBQUU7TUFDaEVVLE1BQU0sRUFBRVIsZUFBZSxDQUFDUSxNQUFNLENBQUNDLFlBQVksQ0FBRSxhQUFjLENBQUM7TUFDNURLLG1CQUFtQixFQUFFO0lBQ3ZCLENBQUUsQ0FBQztJQUVILElBQUksQ0FBQ0UsVUFBVSxHQUFHLElBQUkxQixTQUFTLENBQzdCLElBQUksQ0FBQ1ksWUFBWSxDQUFDQyxnQkFBZ0IsRUFDbEMsSUFBSSxDQUFDTCxLQUFLLEVBQ1YsSUFBSSxDQUFDZSxXQUFXLEVBQ2hCZCxnQkFBZ0IsRUFDaEIsSUFBSSxDQUFDa0IseUJBQ1AsQ0FBQztJQUVELElBQUksQ0FBQ0MsVUFBVSxHQUFHLElBQUk1QixTQUFTLENBQzdCLElBQUksQ0FBQ29CLFlBQVksQ0FBQ1AsZ0JBQWdCLEVBQ2xDLElBQUksQ0FBQ0wsS0FBSyxFQUNWLElBQUksQ0FBQ2lCLFdBQVcsRUFDaEJoQixnQkFBZ0IsRUFDaEIsSUFBSSxDQUFDa0IseUJBQ1AsQ0FBQzs7SUFFRDtJQUNBLElBQUtuQixLQUFLLFlBQVlQLElBQUksRUFBRztNQUMzQixJQUFJLENBQUM0QixnQkFBZ0IsQ0FBRSxJQUFJLENBQUNqQixZQUFZLENBQUNDLGdCQUFnQixFQUFFLElBQUksQ0FBQ08sWUFBWSxDQUFDUCxnQkFBaUIsQ0FBQztJQUNqRztJQUVBLElBQUksQ0FBQ2lCLHFCQUFxQixHQUFHLE1BQU07TUFDakMsSUFBSSxDQUFDbEIsWUFBWSxDQUFDbUIsS0FBSyxDQUFDLENBQUM7TUFDekIsSUFBSSxDQUFDWCxZQUFZLENBQUNXLEtBQUssQ0FBQyxDQUFDO01BQ3pCLElBQUksQ0FBQ1IsV0FBVyxDQUFDUSxLQUFLLENBQUMsQ0FBQztNQUN4QixJQUFJLENBQUNOLFdBQVcsQ0FBQ00sS0FBSyxDQUFDLENBQUM7SUFDMUIsQ0FBQztFQUNIO0VBRWdCQSxLQUFLQSxDQUFBLEVBQVM7SUFDNUIsS0FBSyxDQUFDQSxLQUFLLENBQUMsQ0FBQztJQUNiLElBQUksQ0FBQ0QscUJBQXFCLENBQUMsQ0FBQztFQUM5QjtBQUNGO0FBRUEvQixlQUFlLENBQUNpQyxRQUFRLENBQUUsWUFBWSxFQUFFMUIsVUFBVyxDQUFDIn0=