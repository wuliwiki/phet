// Copyright 2017-2023, University of Colorado Boulder

/**
 * The repos (keys) from dependencies.json of a repository
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

const loadJSON = require('./loadJSON');
const winston = require('winston');

/**
 * @public
 *
 * @param {string} repo - The repository name
 * @returns {Promise} - Resolves to the list of repos in the dependencies.json of the provided repo
 */
module.exports = async function getDependencyRepos(repo) {
  winston.info(`getting dependencies.json for ${repo}`);
  const json = await loadJSON(`../${repo}/dependencies.json`);
  return Object.keys(json).filter(key => key !== 'comment');
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2FkSlNPTiIsInJlcXVpcmUiLCJ3aW5zdG9uIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldERlcGVuZGVuY3lSZXBvcyIsInJlcG8iLCJpbmZvIiwianNvbiIsIk9iamVjdCIsImtleXMiLCJmaWx0ZXIiLCJrZXkiXSwic291cmNlcyI6WyJnZXREZXBlbmRlbmN5UmVwb3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTctMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogVGhlIHJlcG9zIChrZXlzKSBmcm9tIGRlcGVuZGVuY2llcy5qc29uIG9mIGEgcmVwb3NpdG9yeVxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvbmF0aGFuIE9sc29uIDxqb25hdGhhbi5vbHNvbkBjb2xvcmFkby5lZHU+XHJcbiAqIEBhdXRob3IgTWljaGFlbCBLYXV6bWFubiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5jb25zdCBsb2FkSlNPTiA9IHJlcXVpcmUoICcuL2xvYWRKU09OJyApO1xyXG5jb25zdCB3aW5zdG9uID0gcmVxdWlyZSggJ3dpbnN0b24nICk7XHJcblxyXG4vKipcclxuICogQHB1YmxpY1xyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVwbyAtIFRoZSByZXBvc2l0b3J5IG5hbWVcclxuICogQHJldHVybnMge1Byb21pc2V9IC0gUmVzb2x2ZXMgdG8gdGhlIGxpc3Qgb2YgcmVwb3MgaW4gdGhlIGRlcGVuZGVuY2llcy5qc29uIG9mIHRoZSBwcm92aWRlZCByZXBvXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jIGZ1bmN0aW9uIGdldERlcGVuZGVuY3lSZXBvcyggcmVwbyApIHtcclxuICB3aW5zdG9uLmluZm8oIGBnZXR0aW5nIGRlcGVuZGVuY2llcy5qc29uIGZvciAke3JlcG99YCApO1xyXG5cclxuICBjb25zdCBqc29uID0gYXdhaXQgbG9hZEpTT04oIGAuLi8ke3JlcG99L2RlcGVuZGVuY2llcy5qc29uYCApO1xyXG4gIHJldHVybiBPYmplY3Qua2V5cygganNvbiApLmZpbHRlcigga2V5ID0+IGtleSAhPT0gJ2NvbW1lbnQnICk7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFFLFlBQWEsQ0FBQztBQUN4QyxNQUFNQyxPQUFPLEdBQUdELE9BQU8sQ0FBRSxTQUFVLENBQUM7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBRSxNQUFNLENBQUNDLE9BQU8sR0FBRyxlQUFlQyxrQkFBa0JBLENBQUVDLElBQUksRUFBRztFQUN6REosT0FBTyxDQUFDSyxJQUFJLENBQUcsaUNBQWdDRCxJQUFLLEVBQUUsQ0FBQztFQUV2RCxNQUFNRSxJQUFJLEdBQUcsTUFBTVIsUUFBUSxDQUFHLE1BQUtNLElBQUssb0JBQW9CLENBQUM7RUFDN0QsT0FBT0csTUFBTSxDQUFDQyxJQUFJLENBQUVGLElBQUssQ0FBQyxDQUFDRyxNQUFNLENBQUVDLEdBQUcsSUFBSUEsR0FBRyxLQUFLLFNBQVUsQ0FBQztBQUMvRCxDQUFDIn0=