// Copyright 2022, University of Colorado Boulder
/**
 *
 * The tsc-status script runs through relevant common code repos and counts the lines of code written in javascript
 * and typescript. Provides data on conversion status, as well as occurrences of @ts-expect-error.
 *
 * Run from sims root directory
 * USAGE:
 * cd ${root containing all repos}
 * node ./perennial/js/scripts/ts-status.js
 *
 * @author Marla Schulz (PhET Interactive Simulations)
 */

const _ = require('lodash');
const fs = require('fs');

// The repositories the script will iterate through to produce data
const repos = ['axon', 'brand', 'chipper', 'dot', 'joist', 'kite', 'mobius', 'nitroglycerin', 'perennial', 'phet-core', 'phet-io', 'phetcommon', 'phetmarks', 'scenery', 'scenery-phet', 'studio', 'sun', 'tambo', 'tandem', 'tappi', 'twixt', 'utterance-queue', 'vegas'];

// Table headers. Begin here to add another data point.
const jsHeader = 'JS';
const tsHeader = 'TS';
const tsExpectErrorHeader = '"@ts-expect-error"';
const completeHeader = '% Complete';
const tableData = {};
const percent = (numerator, denominator) => {
  return Math.floor(numerator / denominator * 100);
};

// Counts by every line of text in a file vs `wc -l` which counts by every newline.
// Therefore, `wc -l` is inaccurate by at least 1 line per file.
const countLines = path => {
  const text = fs.readFileSync(path, 'utf8');
  const textLines = text.trim().split(/\r?\n/);
  return textLines.length;
};

// Uses `.include` to check if word is present in line and then ups word count by 1.
// Does not count multiple uses of same word in one line. For those types of scenarios,
// this function is inaccurate.
const countWord = (path, word) => {
  const occurrence = [];
  const text = fs.readFileSync(path, 'utf8');
  const textLines = text.trim().split(/\r?\n/);
  textLines.forEach(line => {
    if (line.includes(word)) {
      occurrence.push(word);
    }
  });
  return occurrence.length;
};

// recursively navigates each repository to find relevant javascript and typescript files
const captureData = (path, tableData) => {
  let tsCount = 0;
  let jsCount = 0;
  let tsExpectErrorCount = 0;
  const entries = fs.readdirSync(path);
  entries.forEach(file => {
    const newPath = `${path}/${file}`;
    if (fs.statSync(newPath).isDirectory()) {
      captureData(newPath, tableData);
    } else if (file.match(/\.js$/)) {
      jsCount += countLines(newPath);
    } else if (file.match(/\.ts$/)) {
      tsCount += countLines(newPath);
      tsExpectErrorCount += countWord(newPath, '@ts-expect-error');
    }
  });

  // Adds count to respective key in nested repo object.
  tableData[jsHeader] += jsCount;
  tableData[tsHeader] += tsCount;
  tableData[tsExpectErrorHeader] += tsExpectErrorCount;
};

// iterate through list of common code repos to fill out data
repos.forEach(repo => {
  // Sets baseline for nested repo object. New data point baselines should be added here.
  tableData[repo] = {
    [jsHeader]: 0,
    [tsHeader]: 0,
    [completeHeader]: 0,
    [tsExpectErrorHeader]: 0
  };
  const repoData = tableData[repo];
  captureData(`./${repo}/js`, repoData);
  repoData[completeHeader] = percent(repoData.TS, repoData.TS + repoData.JS);
});

// calculates total sum across all provided repos
const rows = Object.values(tableData);
const totalJS = _.sumBy(rows, jsHeader);
const totalTS = _.sumBy(rows, tsHeader);
const totalTSExpectError = _.sumBy(rows, tsExpectErrorHeader);
const summary = `\n --------- SUMMARY ----------
 Total ${tsExpectErrorHeader}: ${totalTSExpectError}
 Total ${jsHeader}: ${totalJS}
 Total ${tsHeader}: ${totalTS}
 ${completeHeader}: ${percent(totalTS, totalTS + totalJS)}%
 `;
console.log(summary);
console.table(tableData);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfIiwicmVxdWlyZSIsImZzIiwicmVwb3MiLCJqc0hlYWRlciIsInRzSGVhZGVyIiwidHNFeHBlY3RFcnJvckhlYWRlciIsImNvbXBsZXRlSGVhZGVyIiwidGFibGVEYXRhIiwicGVyY2VudCIsIm51bWVyYXRvciIsImRlbm9taW5hdG9yIiwiTWF0aCIsImZsb29yIiwiY291bnRMaW5lcyIsInBhdGgiLCJ0ZXh0IiwicmVhZEZpbGVTeW5jIiwidGV4dExpbmVzIiwidHJpbSIsInNwbGl0IiwibGVuZ3RoIiwiY291bnRXb3JkIiwid29yZCIsIm9jY3VycmVuY2UiLCJmb3JFYWNoIiwibGluZSIsImluY2x1ZGVzIiwicHVzaCIsImNhcHR1cmVEYXRhIiwidHNDb3VudCIsImpzQ291bnQiLCJ0c0V4cGVjdEVycm9yQ291bnQiLCJlbnRyaWVzIiwicmVhZGRpclN5bmMiLCJmaWxlIiwibmV3UGF0aCIsInN0YXRTeW5jIiwiaXNEaXJlY3RvcnkiLCJtYXRjaCIsInJlcG8iLCJyZXBvRGF0YSIsIlRTIiwiSlMiLCJyb3dzIiwiT2JqZWN0IiwidmFsdWVzIiwidG90YWxKUyIsInN1bUJ5IiwidG90YWxUUyIsInRvdGFsVFNFeHBlY3RFcnJvciIsInN1bW1hcnkiLCJjb25zb2xlIiwibG9nIiwidGFibGUiXSwic291cmNlcyI6WyJ0cy1zdGF0dXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG4vKipcclxuICpcclxuICogVGhlIHRzYy1zdGF0dXMgc2NyaXB0IHJ1bnMgdGhyb3VnaCByZWxldmFudCBjb21tb24gY29kZSByZXBvcyBhbmQgY291bnRzIHRoZSBsaW5lcyBvZiBjb2RlIHdyaXR0ZW4gaW4gamF2YXNjcmlwdFxyXG4gKiBhbmQgdHlwZXNjcmlwdC4gUHJvdmlkZXMgZGF0YSBvbiBjb252ZXJzaW9uIHN0YXR1cywgYXMgd2VsbCBhcyBvY2N1cnJlbmNlcyBvZiBAdHMtZXhwZWN0LWVycm9yLlxyXG4gKlxyXG4gKiBSdW4gZnJvbSBzaW1zIHJvb3QgZGlyZWN0b3J5XHJcbiAqIFVTQUdFOlxyXG4gKiBjZCAke3Jvb3QgY29udGFpbmluZyBhbGwgcmVwb3N9XHJcbiAqIG5vZGUgLi9wZXJlbm5pYWwvanMvc2NyaXB0cy90cy1zdGF0dXMuanNcclxuICpcclxuICogQGF1dGhvciBNYXJsYSBTY2h1bHogKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuY29uc3QgXyA9IHJlcXVpcmUoICdsb2Rhc2gnICk7XHJcbmNvbnN0IGZzID0gcmVxdWlyZSggJ2ZzJyApO1xyXG5cclxuLy8gVGhlIHJlcG9zaXRvcmllcyB0aGUgc2NyaXB0IHdpbGwgaXRlcmF0ZSB0aHJvdWdoIHRvIHByb2R1Y2UgZGF0YVxyXG5jb25zdCByZXBvcyA9IFtcclxuICAnYXhvbicsXHJcbiAgJ2JyYW5kJyxcclxuICAnY2hpcHBlcicsXHJcbiAgJ2RvdCcsXHJcbiAgJ2pvaXN0JyxcclxuICAna2l0ZScsXHJcbiAgJ21vYml1cycsXHJcbiAgJ25pdHJvZ2x5Y2VyaW4nLFxyXG4gICdwZXJlbm5pYWwnLFxyXG4gICdwaGV0LWNvcmUnLFxyXG4gICdwaGV0LWlvJyxcclxuICAncGhldGNvbW1vbicsXHJcbiAgJ3BoZXRtYXJrcycsXHJcbiAgJ3NjZW5lcnknLFxyXG4gICdzY2VuZXJ5LXBoZXQnLFxyXG4gICdzdHVkaW8nLFxyXG4gICdzdW4nLFxyXG4gICd0YW1ibycsXHJcbiAgJ3RhbmRlbScsXHJcbiAgJ3RhcHBpJyxcclxuICAndHdpeHQnLFxyXG4gICd1dHRlcmFuY2UtcXVldWUnLFxyXG4gICd2ZWdhcydcclxuXTtcclxuXHJcbi8vIFRhYmxlIGhlYWRlcnMuIEJlZ2luIGhlcmUgdG8gYWRkIGFub3RoZXIgZGF0YSBwb2ludC5cclxuY29uc3QganNIZWFkZXIgPSAnSlMnO1xyXG5jb25zdCB0c0hlYWRlciA9ICdUUyc7XHJcbmNvbnN0IHRzRXhwZWN0RXJyb3JIZWFkZXIgPSAnXCJAdHMtZXhwZWN0LWVycm9yXCInO1xyXG5jb25zdCBjb21wbGV0ZUhlYWRlciA9ICclIENvbXBsZXRlJztcclxuY29uc3QgdGFibGVEYXRhID0ge307XHJcblxyXG5jb25zdCBwZXJjZW50ID0gKCBudW1lcmF0b3IsIGRlbm9taW5hdG9yICkgPT4ge1xyXG4gIHJldHVybiBNYXRoLmZsb29yKCAoIG51bWVyYXRvciAvIGRlbm9taW5hdG9yICkgKiAxMDAgKTtcclxufTtcclxuXHJcbi8vIENvdW50cyBieSBldmVyeSBsaW5lIG9mIHRleHQgaW4gYSBmaWxlIHZzIGB3YyAtbGAgd2hpY2ggY291bnRzIGJ5IGV2ZXJ5IG5ld2xpbmUuXHJcbi8vIFRoZXJlZm9yZSwgYHdjIC1sYCBpcyBpbmFjY3VyYXRlIGJ5IGF0IGxlYXN0IDEgbGluZSBwZXIgZmlsZS5cclxuY29uc3QgY291bnRMaW5lcyA9IHBhdGggPT4ge1xyXG4gIGNvbnN0IHRleHQgPSBmcy5yZWFkRmlsZVN5bmMoIHBhdGgsICd1dGY4JyApO1xyXG4gIGNvbnN0IHRleHRMaW5lcyA9IHRleHQudHJpbSgpLnNwbGl0KCAvXFxyP1xcbi8gKTtcclxuICByZXR1cm4gdGV4dExpbmVzLmxlbmd0aDtcclxufTtcclxuXHJcbi8vIFVzZXMgYC5pbmNsdWRlYCB0byBjaGVjayBpZiB3b3JkIGlzIHByZXNlbnQgaW4gbGluZSBhbmQgdGhlbiB1cHMgd29yZCBjb3VudCBieSAxLlxyXG4vLyBEb2VzIG5vdCBjb3VudCBtdWx0aXBsZSB1c2VzIG9mIHNhbWUgd29yZCBpbiBvbmUgbGluZS4gRm9yIHRob3NlIHR5cGVzIG9mIHNjZW5hcmlvcyxcclxuLy8gdGhpcyBmdW5jdGlvbiBpcyBpbmFjY3VyYXRlLlxyXG5jb25zdCBjb3VudFdvcmQgPSAoIHBhdGgsIHdvcmQgKSA9PiB7XHJcbiAgY29uc3Qgb2NjdXJyZW5jZSA9IFtdO1xyXG4gIGNvbnN0IHRleHQgPSBmcy5yZWFkRmlsZVN5bmMoIHBhdGgsICd1dGY4JyApO1xyXG4gIGNvbnN0IHRleHRMaW5lcyA9IHRleHQudHJpbSgpLnNwbGl0KCAvXFxyP1xcbi8gKTtcclxuICB0ZXh0TGluZXMuZm9yRWFjaCggbGluZSA9PiB7XHJcbiAgICBpZiAoIGxpbmUuaW5jbHVkZXMoIHdvcmQgKSApIHtcclxuICAgICAgb2NjdXJyZW5jZS5wdXNoKCB3b3JkICk7XHJcbiAgICB9XHJcbiAgfSApO1xyXG4gIHJldHVybiBvY2N1cnJlbmNlLmxlbmd0aDtcclxufTtcclxuXHJcbi8vIHJlY3Vyc2l2ZWx5IG5hdmlnYXRlcyBlYWNoIHJlcG9zaXRvcnkgdG8gZmluZCByZWxldmFudCBqYXZhc2NyaXB0IGFuZCB0eXBlc2NyaXB0IGZpbGVzXHJcbmNvbnN0IGNhcHR1cmVEYXRhID0gKCBwYXRoLCB0YWJsZURhdGEgKSA9PiB7XHJcbiAgbGV0IHRzQ291bnQgPSAwO1xyXG4gIGxldCBqc0NvdW50ID0gMDtcclxuICBsZXQgdHNFeHBlY3RFcnJvckNvdW50ID0gMDtcclxuXHJcbiAgY29uc3QgZW50cmllcyA9IGZzLnJlYWRkaXJTeW5jKCBwYXRoICk7XHJcblxyXG4gIGVudHJpZXMuZm9yRWFjaCggZmlsZSA9PiB7XHJcbiAgICBjb25zdCBuZXdQYXRoID0gYCR7cGF0aH0vJHtmaWxlfWA7XHJcblxyXG4gICAgaWYgKCBmcy5zdGF0U3luYyggbmV3UGF0aCApLmlzRGlyZWN0b3J5KCkgKSB7XHJcbiAgICAgIGNhcHR1cmVEYXRhKCBuZXdQYXRoLCB0YWJsZURhdGEgKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBmaWxlLm1hdGNoKCAvXFwuanMkLyApICkge1xyXG4gICAgICBqc0NvdW50ICs9IGNvdW50TGluZXMoIG5ld1BhdGggKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCBmaWxlLm1hdGNoKCAvXFwudHMkLyApICkge1xyXG4gICAgICB0c0NvdW50ICs9IGNvdW50TGluZXMoIG5ld1BhdGggKTtcclxuICAgICAgdHNFeHBlY3RFcnJvckNvdW50ICs9IGNvdW50V29yZCggbmV3UGF0aCwgJ0B0cy1leHBlY3QtZXJyb3InICk7XHJcbiAgICB9XHJcbiAgfSApO1xyXG5cclxuICAvLyBBZGRzIGNvdW50IHRvIHJlc3BlY3RpdmUga2V5IGluIG5lc3RlZCByZXBvIG9iamVjdC5cclxuICB0YWJsZURhdGFbIGpzSGVhZGVyIF0gKz0ganNDb3VudDtcclxuICB0YWJsZURhdGFbIHRzSGVhZGVyIF0gKz0gdHNDb3VudDtcclxuICB0YWJsZURhdGFbIHRzRXhwZWN0RXJyb3JIZWFkZXIgXSArPSB0c0V4cGVjdEVycm9yQ291bnQ7XHJcbn07XHJcblxyXG4vLyBpdGVyYXRlIHRocm91Z2ggbGlzdCBvZiBjb21tb24gY29kZSByZXBvcyB0byBmaWxsIG91dCBkYXRhXHJcbnJlcG9zLmZvckVhY2goIHJlcG8gPT4ge1xyXG5cclxuICAvLyBTZXRzIGJhc2VsaW5lIGZvciBuZXN0ZWQgcmVwbyBvYmplY3QuIE5ldyBkYXRhIHBvaW50IGJhc2VsaW5lcyBzaG91bGQgYmUgYWRkZWQgaGVyZS5cclxuICB0YWJsZURhdGFbIHJlcG8gXSA9IHtcclxuICAgIFsganNIZWFkZXIgXTogMCxcclxuICAgIFsgdHNIZWFkZXIgXTogMCxcclxuICAgIFsgY29tcGxldGVIZWFkZXIgXTogMCxcclxuICAgIFsgdHNFeHBlY3RFcnJvckhlYWRlciBdOiAwXHJcbiAgfTtcclxuICBjb25zdCByZXBvRGF0YSA9IHRhYmxlRGF0YVsgcmVwbyBdO1xyXG5cclxuICBjYXB0dXJlRGF0YSggYC4vJHtyZXBvfS9qc2AsIHJlcG9EYXRhICk7XHJcblxyXG4gIHJlcG9EYXRhWyBjb21wbGV0ZUhlYWRlciBdID0gcGVyY2VudCggcmVwb0RhdGEuVFMsIHJlcG9EYXRhLlRTICsgcmVwb0RhdGEuSlMgKTtcclxufSApO1xyXG5cclxuXHJcbi8vIGNhbGN1bGF0ZXMgdG90YWwgc3VtIGFjcm9zcyBhbGwgcHJvdmlkZWQgcmVwb3NcclxuY29uc3Qgcm93cyA9IE9iamVjdC52YWx1ZXMoIHRhYmxlRGF0YSApO1xyXG5jb25zdCB0b3RhbEpTID0gXy5zdW1CeSggcm93cywganNIZWFkZXIgKTtcclxuY29uc3QgdG90YWxUUyA9IF8uc3VtQnkoIHJvd3MsIHRzSGVhZGVyICk7XHJcbmNvbnN0IHRvdGFsVFNFeHBlY3RFcnJvciA9IF8uc3VtQnkoIHJvd3MsIHRzRXhwZWN0RXJyb3JIZWFkZXIgKTtcclxuXHJcbmNvbnN0IHN1bW1hcnkgPSBgXFxuIC0tLS0tLS0tLSBTVU1NQVJZIC0tLS0tLS0tLS1cclxuIFRvdGFsICR7dHNFeHBlY3RFcnJvckhlYWRlcn06ICR7dG90YWxUU0V4cGVjdEVycm9yfVxyXG4gVG90YWwgJHtqc0hlYWRlcn06ICR7dG90YWxKU31cclxuIFRvdGFsICR7dHNIZWFkZXJ9OiAke3RvdGFsVFN9XHJcbiAke2NvbXBsZXRlSGVhZGVyfTogJHtwZXJjZW50KCB0b3RhbFRTLCB0b3RhbFRTICsgdG90YWxKUyApfSVcclxuIGA7XHJcblxyXG5jb25zb2xlLmxvZyggc3VtbWFyeSApO1xyXG5jb25zb2xlLnRhYmxlKCB0YWJsZURhdGEgKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLENBQUMsR0FBR0MsT0FBTyxDQUFFLFFBQVMsQ0FBQztBQUM3QixNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBRSxJQUFLLENBQUM7O0FBRTFCO0FBQ0EsTUFBTUUsS0FBSyxHQUFHLENBQ1osTUFBTSxFQUNOLE9BQU8sRUFDUCxTQUFTLEVBQ1QsS0FBSyxFQUNMLE9BQU8sRUFDUCxNQUFNLEVBQ04sUUFBUSxFQUNSLGVBQWUsRUFDZixXQUFXLEVBQ1gsV0FBVyxFQUNYLFNBQVMsRUFDVCxZQUFZLEVBQ1osV0FBVyxFQUNYLFNBQVMsRUFDVCxjQUFjLEVBQ2QsUUFBUSxFQUNSLEtBQUssRUFDTCxPQUFPLEVBQ1AsUUFBUSxFQUNSLE9BQU8sRUFDUCxPQUFPLEVBQ1AsaUJBQWlCLEVBQ2pCLE9BQU8sQ0FDUjs7QUFFRDtBQUNBLE1B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