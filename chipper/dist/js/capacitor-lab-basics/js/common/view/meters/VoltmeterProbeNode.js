// Copyright 2015-2023, University of Colorado Boulder

/**
 * Class for voltmeter probes in the view.  Static functions create each of the
 * positive and negative nodes.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 * @author Jesse Greenberg (PhET Interactive Simulations)
 * @author Andrew Adare (PhET Interactive Simulations)
 */

import DynamicProperty from '../../../../../axon/js/DynamicProperty.js';
import Property from '../../../../../axon/js/Property.js';
import Bounds2 from '../../../../../dot/js/Bounds2.js';
import Vector2 from '../../../../../dot/js/Vector2.js';
import { DragListener, Image, Node } from '../../../../../scenery/js/imports.js';
import probeBlack_png from '../../../../images/probeBlack_png.js';
import probeRed_png from '../../../../images/probeRed_png.js';
import capacitorLabBasics from '../../../capacitorLabBasics.js';
class VoltmeterProbeNode extends Node {
  /**
   * @param {Image} image image of the probe
   * @param {Property.<Vector3>} positionProperty property to observer for the probe's position
   * @param {YawPitchModelViewTransform3} modelViewTransform model-view transform
   * @param {Bounds2} dragBounds Node bounds in model coordinates
   * @param {Tandem} tandem
   */
  constructor(image, positionProperty, modelViewTransform, dragBounds, tandem) {
    super();

    // @public {Property.<Vector3>}
    this.positionProperty = positionProperty;
    const imageNode = new Image(image, {
      scale: 0.25
    });
    this.addChild(imageNode);
    imageNode.translate(-imageNode.bounds.width / 2, 0);

    // @public {Vector2}
    this.connectionOffset = imageNode.centerBottom; // @public connect wire to bottom center

    // image is vertical, rotate into pseudo-3D perspective after computing the connection offset
    this.rotate(-modelViewTransform.yaw);
    this.connectionOffset.rotate(-modelViewTransform.yaw);

    // update position with model
    positionProperty.link(position => {
      if (position instanceof Vector2) {
        this.translation = modelViewTransform.modelToViewPosition(position.toVector3());
      } else {
        this.translation = modelViewTransform.modelToViewPosition(position);
      }
    });

    // Don't allow pushing the probes too far to the left, see https://github.com/phetsims/capacitor-lab-basics/issues/202
    const adjustedViewBounds = new Bounds2(40, 0, dragBounds.maxX - imageNode.width, dragBounds.maxY - 0.4 * imageNode.height);

    // Convert the 3d property to a 2d property for use in the DragListener
    const position2DProperty = new DynamicProperty(new Property(positionProperty), {
      bidirectional: true,
      valueComparisonStrategy: 'equalsFunction',
      map: vector3 => vector3.toVector2(),
      inverseMap: vector2 => vector2.toVector3()
    });

    // Drag handler accounting for boundaries
    this.dragListener = new DragListener({
      positionProperty: position2DProperty,
      attach: true,
      useParentOffset: true,
      tandem: tandem.createTandem('dragListener'),
      dragBoundsProperty: new Property(modelViewTransform.viewToModelBounds(adjustedViewBounds)),
      transform: modelViewTransform.modelToViewTransform2D,
      valueComparisonStrategy: 'equalsFunction'
    });
    this.addInputListener(this.dragListener);

    // set the cursor
    this.cursor = 'pointer';
  }

  /**
   * Factory for a positive VoltmeterProbeNode
   * @public
   *
   * @param {Voltmeter} voltmeter
   * @param {YawPitchModelViewTransform3} modelViewTransform
   * @param {Tandem} tandem
   */
  static createPositiveVoltmeterProbeNode(voltmeter, modelViewTransform, tandem) {
    return new VoltmeterProbeNode(probeRed_png, voltmeter.positiveProbePositionProperty, modelViewTransform, voltmeter.dragBounds, tandem);
  }

  /**
   * Factory for a negative VoltmeterProbeNode
   * @public
   *
   * @param {Voltmeter} voltmeter
   * @param {YawPitchModelViewTransform3} modelViewTransform
   * @param {Tandem} tandem
   */
  static createNegativeVoltmeterProbeNode(voltmeter, modelViewTransform, tandem) {
    return new VoltmeterProbeNode(probeBlack_png, voltmeter.negativeProbePositionProperty, modelViewTransform, voltmeter.dragBounds, tandem);
  }
}
capacitorLabBasics.register('VoltmeterProbeNode', VoltmeterProbeNode);
export default VoltmeterProbeNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEeW5hbWljUHJvcGVydHkiLCJQcm9wZXJ0eSIsIkJvdW5kczIiLCJWZWN0b3IyIiwiRHJhZ0xpc3RlbmVyIiwiSW1hZ2UiLCJOb2RlIiwicHJvYmVCbGFja19wbmciLCJwcm9iZVJlZF9wbmciLCJjYXBhY2l0b3JMYWJCYXNpY3MiLCJWb2x0bWV0ZXJQcm9iZU5vZGUiLCJjb25zdHJ1Y3RvciIsImltYWdlIiwicG9zaXRpb25Qcm9wZXJ0eSIsIm1vZGVsVmlld1RyYW5zZm9ybSIsImRyYWdCb3VuZHMiLCJ0YW5kZW0iLCJpbWFnZU5vZGUiLCJzY2FsZSIsImFkZENoaWxkIiwidHJhbnNsYXRlIiwiYm91bmRzIiwid2lkdGgiLCJjb25uZWN0aW9uT2Zmc2V0IiwiY2VudGVyQm90dG9tIiwicm90YXRlIiwieWF3IiwibGluayIsInBvc2l0aW9uIiwidHJhbnNsYXRpb24iLCJtb2RlbFRvVmlld1Bvc2l0aW9uIiwidG9WZWN0b3IzIiwiYWRqdXN0ZWRWaWV3Qm91bmRzIiwibWF4WCIsIm1heFkiLCJoZWlnaHQiLCJwb3NpdGlvbjJEUHJvcGVydHkiLCJiaWRpcmVjdGlvbmFsIiwidmFsdWVDb21wYXJpc29uU3RyYXRlZ3kiLCJtYXAiLCJ2ZWN0b3IzIiwidG9WZWN0b3IyIiwiaW52ZXJzZU1hcCIsInZlY3RvcjIiLCJkcmFnTGlzdGVuZXIiLCJhdHRhY2giLCJ1c2VQYXJlbnRPZmZzZXQiLCJjcmVhdGVUYW5kZW0iLCJkcmFnQm91bmRzUHJvcGVydHkiLCJ2aWV3VG9Nb2RlbEJvdW5kcyIsInRyYW5zZm9ybSIsIm1vZGVsVG9WaWV3VHJhbnNmb3JtMkQiLCJhZGRJbnB1dExpc3RlbmVyIiwiY3Vyc29yIiwiY3JlYXRlUG9zaXRpdmVWb2x0bWV0ZXJQcm9iZU5vZGUiLCJ2b2x0bWV0ZXIiLCJwb3NpdGl2ZVByb2JlUG9zaXRpb25Qcm9wZXJ0eSIsImNyZWF0ZU5lZ2F0aXZlVm9sdG1ldGVyUHJvYmVOb2RlIiwibmVnYXRpdmVQcm9iZVBvc2l0aW9uUHJvcGVydHkiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlZvbHRtZXRlclByb2JlTm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNS0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBDbGFzcyBmb3Igdm9sdG1ldGVyIHByb2JlcyBpbiB0aGUgdmlldy4gIFN0YXRpYyBmdW5jdGlvbnMgY3JlYXRlIGVhY2ggb2YgdGhlXHJcbiAqIHBvc2l0aXZlIGFuZCBuZWdhdGl2ZSBub2Rlcy5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICogQGF1dGhvciBKZXNzZSBHcmVlbmJlcmcgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgQW5kcmV3IEFkYXJlIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCBEeW5hbWljUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vLi4vYXhvbi9qcy9EeW5hbWljUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgeyBEcmFnTGlzdGVuZXIsIEltYWdlLCBOb2RlIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IHByb2JlQmxhY2tfcG5nIGZyb20gJy4uLy4uLy4uLy4uL2ltYWdlcy9wcm9iZUJsYWNrX3BuZy5qcyc7XHJcbmltcG9ydCBwcm9iZVJlZF9wbmcgZnJvbSAnLi4vLi4vLi4vLi4vaW1hZ2VzL3Byb2JlUmVkX3BuZy5qcyc7XHJcbmltcG9ydCBjYXBhY2l0b3JMYWJCYXNpY3MgZnJvbSAnLi4vLi4vLi4vY2FwYWNpdG9yTGFiQmFzaWNzLmpzJztcclxuXHJcbmNsYXNzIFZvbHRtZXRlclByb2JlTm9kZSBleHRlbmRzIE5vZGUge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIGltYWdlIG9mIHRoZSBwcm9iZVxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPFZlY3RvcjM+fSBwb3NpdGlvblByb3BlcnR5IHByb3BlcnR5IHRvIG9ic2VydmVyIGZvciB0aGUgcHJvYmUncyBwb3NpdGlvblxyXG4gICAqIEBwYXJhbSB7WWF3UGl0Y2hNb2RlbFZpZXdUcmFuc2Zvcm0zfSBtb2RlbFZpZXdUcmFuc2Zvcm0gbW9kZWwtdmlldyB0cmFuc2Zvcm1cclxuICAgKiBAcGFyYW0ge0JvdW5kczJ9IGRyYWdCb3VuZHMgTm9kZSBib3VuZHMgaW4gbW9kZWwgY29vcmRpbmF0ZXNcclxuICAgKiBAcGFyYW0ge1RhbmRlbX0gdGFuZGVtXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIGltYWdlLCBwb3NpdGlvblByb3BlcnR5LCBtb2RlbFZpZXdUcmFuc2Zvcm0sIGRyYWdCb3VuZHMsIHRhbmRlbSApIHtcclxuXHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIC8vIEBwdWJsaWMge1Byb3BlcnR5LjxWZWN0b3IzPn1cclxuICAgIHRoaXMucG9zaXRpb25Qcm9wZXJ0eSA9IHBvc2l0aW9uUHJvcGVydHk7XHJcblxyXG4gICAgY29uc3QgaW1hZ2VOb2RlID0gbmV3IEltYWdlKCBpbWFnZSwge1xyXG4gICAgICBzY2FsZTogMC4yNVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggaW1hZ2VOb2RlICk7XHJcbiAgICBpbWFnZU5vZGUudHJhbnNsYXRlKCAtaW1hZ2VOb2RlLmJvdW5kcy53aWR0aCAvIDIsIDAgKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtWZWN0b3IyfVxyXG4gICAgdGhpcy5jb25uZWN0aW9uT2Zmc2V0ID0gaW1hZ2VOb2RlLmNlbnRlckJvdHRvbTsgLy8gQHB1YmxpYyBjb25uZWN0IHdpcmUgdG8gYm90dG9tIGNlbnRlclxyXG5cclxuICAgIC8vIGltYWdlIGlzIHZlcnRpY2FsLCByb3RhdGUgaW50byBwc2V1ZG8tM0QgcGVyc3BlY3RpdmUgYWZ0ZXIgY29tcHV0aW5nIHRoZSBjb25uZWN0aW9uIG9mZnNldFxyXG4gICAgdGhpcy5yb3RhdGUoIC1tb2RlbFZpZXdUcmFuc2Zvcm0ueWF3ICk7XHJcbiAgICB0aGlzLmNvbm5lY3Rpb25PZmZzZXQucm90YXRlKCAtbW9kZWxWaWV3VHJhbnNmb3JtLnlhdyApO1xyXG5cclxuICAgIC8vIHVwZGF0ZSBwb3NpdGlvbiB3aXRoIG1vZGVsXHJcbiAgICBwb3NpdGlvblByb3BlcnR5LmxpbmsoIHBvc2l0aW9uID0+IHtcclxuICAgICAgaWYgKCBwb3NpdGlvbiBpbnN0YW5jZW9mIFZlY3RvcjIgKSB7XHJcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbiA9IG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1Bvc2l0aW9uKCBwb3NpdGlvbi50b1ZlY3RvcjMoKSApO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMudHJhbnNsYXRpb24gPSBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdQb3NpdGlvbiggcG9zaXRpb24gKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIERvbid0IGFsbG93IHB1c2hpbmcgdGhlIHByb2JlcyB0b28gZmFyIHRvIHRoZSBsZWZ0LCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL2NhcGFjaXRvci1sYWItYmFzaWNzL2lzc3Vlcy8yMDJcclxuICAgIGNvbnN0IGFkanVzdGVkVmlld0JvdW5kcyA9IG5ldyBCb3VuZHMyKCA0MCwgMCwgZHJhZ0JvdW5kcy5tYXhYIC0gaW1hZ2VOb2RlLndpZHRoLCBkcmFnQm91bmRzLm1heFkgLSAwLjQgKiBpbWFnZU5vZGUuaGVpZ2h0ICk7XHJcblxyXG4gICAgLy8gQ29udmVydCB0aGUgM2QgcHJvcGVydHkgdG8gYSAyZCBwcm9wZXJ0eSBmb3IgdXNlIGluIHRoZSBEcmFnTGlzdGVuZXJcclxuICAgIGNvbnN0IHBvc2l0aW9uMkRQcm9wZXJ0eSA9IG5ldyBEeW5hbWljUHJvcGVydHkoIG5ldyBQcm9wZXJ0eSggcG9zaXRpb25Qcm9wZXJ0eSApLCB7XHJcbiAgICAgIGJpZGlyZWN0aW9uYWw6IHRydWUsXHJcbiAgICAgIHZhbHVlQ29tcGFyaXNvblN0cmF0ZWd5OiAnZXF1YWxzRnVuY3Rpb24nLFxyXG4gICAgICBtYXA6IHZlY3RvcjMgPT4gdmVjdG9yMy50b1ZlY3RvcjIoKSxcclxuICAgICAgaW52ZXJzZU1hcDogdmVjdG9yMiA9PiB2ZWN0b3IyLnRvVmVjdG9yMygpXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gRHJhZyBoYW5kbGVyIGFjY291bnRpbmcgZm9yIGJvdW5kYXJpZXNcclxuICAgIHRoaXMuZHJhZ0xpc3RlbmVyID0gbmV3IERyYWdMaXN0ZW5lcigge1xyXG4gICAgICBwb3NpdGlvblByb3BlcnR5OiBwb3NpdGlvbjJEUHJvcGVydHksXHJcbiAgICAgIGF0dGFjaDogdHJ1ZSxcclxuICAgICAgdXNlUGFyZW50T2Zmc2V0OiB0cnVlLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdkcmFnTGlzdGVuZXInICksXHJcbiAgICAgIGRyYWdCb3VuZHNQcm9wZXJ0eTogbmV3IFByb3BlcnR5KCBtb2RlbFZpZXdUcmFuc2Zvcm0udmlld1RvTW9kZWxCb3VuZHMoIGFkanVzdGVkVmlld0JvdW5kcyApICksXHJcbiAgICAgIHRyYW5zZm9ybTogbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3VHJhbnNmb3JtMkQsXHJcbiAgICAgIHZhbHVlQ29tcGFyaXNvblN0cmF0ZWd5OiAnZXF1YWxzRnVuY3Rpb24nXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZElucHV0TGlzdGVuZXIoIHRoaXMuZHJhZ0xpc3RlbmVyICk7XHJcblxyXG4gICAgLy8gc2V0IHRoZSBjdXJzb3JcclxuICAgIHRoaXMuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG5cclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiBGYWN0b3J5IGZvciBhIHBvc2l0aXZlIFZvbHRtZXRlclByb2JlTm9kZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Vm9sdG1ldGVyfSB2b2x0bWV0ZXJcclxuICAgKiBAcGFyYW0ge1lhd1BpdGNoTW9kZWxWaWV3VHJhbnNmb3JtM30gbW9kZWxWaWV3VHJhbnNmb3JtXHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqL1xyXG4gIHN0YXRpYyBjcmVhdGVQb3NpdGl2ZVZvbHRtZXRlclByb2JlTm9kZSggdm9sdG1ldGVyLCBtb2RlbFZpZXdUcmFuc2Zvcm0sIHRhbmRlbSApIHtcclxuICAgIHJldHVybiBuZXcgVm9sdG1ldGVyUHJvYmVOb2RlKCBwcm9iZVJlZF9wbmcsXHJcbiAgICAgIHZvbHRtZXRlci5wb3NpdGl2ZVByb2JlUG9zaXRpb25Qcm9wZXJ0eSwgbW9kZWxWaWV3VHJhbnNmb3JtLCB2b2x0bWV0ZXIuZHJhZ0JvdW5kcywgdGFuZGVtICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGYWN0b3J5IGZvciBhIG5lZ2F0aXZlIFZvbHRtZXRlclByb2JlTm9kZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Vm9sdG1ldGVyfSB2b2x0bWV0ZXJcclxuICAgKiBAcGFyYW0ge1lhd1BpdGNoTW9kZWxWaWV3VHJhbnNmb3JtM30gbW9kZWxWaWV3VHJhbnNmb3JtXHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqL1xyXG4gIHN0YXRpYyBjcmVhdGVOZWdhdGl2ZVZvbHRtZXRlclByb2JlTm9kZSggdm9sdG1ldGVyLCBtb2RlbFZpZXdUcmFuc2Zvcm0sIHRhbmRlbSApIHtcclxuICAgIHJldHVybiBuZXcgVm9sdG1ldGVyUHJvYmVOb2RlKCBwcm9iZUJsYWNrX3BuZyxcclxuICAgICAgdm9sdG1ldGVyLm5lZ2F0aXZlUHJvYmVQb3NpdGlvblByb3BlcnR5LCBtb2RlbFZpZXdUcmFuc2Zvcm0sIHZvbHRtZXRlci5kcmFnQm91bmRzLCB0YW5kZW0gKTtcclxuICB9XHJcbn1cclxuXHJcbmNhcGFjaXRvckxhYkJhc2ljcy5yZWdpc3RlciggJ1ZvbHRtZXRlclByb2JlTm9kZScsIFZvbHRtZXRlclByb2JlTm9kZSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVm9sdG1ldGVyUHJvYmVOb2RlO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsZUFBZSxNQUFNLDJDQUEyQztBQUN2RSxPQUFPQyxRQUFRLE1BQU0sb0NBQW9DO0FBQ3pELE9BQU9DLE9BQU8sTUFBTSxrQ0FBa0M7QUFDdEQsT0FBT0MsT0FBTyxNQUFNLGtDQUFrQztBQUN0RCxTQUFTQyxZQUFZLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxRQUFRLHNDQUFzQztBQUNoRixPQUFPQyxjQUFjLE1BQU0sc0NBQXNDO0FBQ2pFLE9BQU9DLFlBQVksTUFBTSxvQ0FBb0M7QUFDN0QsT0FBT0Msa0JBQWtCLE1BQU0sZ0NBQWdDO0FBRS9ELE1BQU1DLGtCQUFrQixTQUFTSixJQUFJLENBQUM7RUFDcEM7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRUssV0FBV0EsQ0FBRUMsS0FBSyxFQUFFQyxnQkFBZ0IsRUFBRUMsa0JBQWtCLEVBQUVDLFVBQVUsRUFBRUMsTUFBTSxFQUFHO0lBRTdFLEtBQUssQ0FBQyxDQUFDOztJQUVQO0lBQ0EsSUFBSSxDQUFDSCxnQkFBZ0IsR0FBR0EsZ0JBQWdCO0lBRXhDLE1BQU1JLFNBQVMsR0FBRyxJQUFJWixLQUFLLENBQUVPLEtBQUssRUFBRTtNQUNsQ00sS0FBSyxFQUFFO0lBQ1QsQ0FBRSxDQUFDO0lBQ0gsSUFB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