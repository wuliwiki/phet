// Copyright 2015-2022, University of Colorado Boulder

/**
 * A voltmeter has a body, 2 probes, and 2 wires connecting the probes to the body.
 * This node is designed to be located at (0,0), so that we don't need to deal with
 * coordinate frame issues when the voltmeter's components move.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 * @author Jesse Greenberg (PhET Interactive Simulations)
 * @author Andrew Adare (PhET Interactive Simulations)
 */

import Vector2 from '../../../../../dot/js/Vector2.js';
import { Shape } from '../../../../../kite/js/imports.js';
import PhetColorScheme from '../../../../../scenery-phet/js/PhetColorScheme.js';
import PhetFont from '../../../../../scenery-phet/js/PhetFont.js';
import { Image, Node, Path, Rectangle, Text } from '../../../../../scenery/js/imports.js';
import probeBlack_png from '../../../../images/probeBlack_png.js';
import probeRed_png from '../../../../images/probeRed_png.js';
import voltmeterBody_png from '../../../../images/voltmeterBody_png.js';
import capacitorLabBasics from '../../../capacitorLabBasics.js';
import CapacitorLabBasicsStrings from '../../../CapacitorLabBasicsStrings.js';
import ProbeWireNode from './ProbeWireNode.js';
import VoltmeterBodyNode from './VoltmeterBodyNode.js';
import VoltmeterProbeNode from './VoltmeterProbeNode.js';
const voltageString = CapacitorLabBasicsStrings.voltage;

// title display
const TITLE_FONT = new PhetFont({
  size: 7
});
class VoltmeterNode extends Node {
  /**
   * @param {Voltmeter} voltmeter - the voltmeter model
   * @param {YawPitchModelViewTransform3} modelViewTransform
   * @param {Tandem} tandem
   */
  constructor(voltmeter, modelViewTransform, voltmeterVisibleProperty, tandem) {
    super({
      tandem: tandem
    });

    // construct all parts of the probe
    // @public {VoltmeterBodyNode}
    this.bodyNode = new VoltmeterBodyNode(voltmeter, modelViewTransform, voltmeter.isDraggedProperty, tandem.createTandem('bodyNode'));

    // @public {VoltmeterProbeNode}
    this.positiveProbeNode = VoltmeterProbeNode.createPositiveVoltmeterProbeNode(voltmeter, modelViewTransform, tandem.createTandem('positiveProbeNode'));

    // @public {VoltmeterProbeNode}
    this.negativeProbeNode = VoltmeterProbeNode.createNegativeVoltmeterProbeNode(voltmeter, modelViewTransform, tandem.createTandem('negativeProbeNode'));
    const positiveWireNode = new ProbeWireNode(this.bodyNode, this.positiveProbeNode, true);
    const negativeWireNode = new ProbeWireNode(this.bodyNode, this.negativeProbeNode, false);

    // rendering order
    this.addChild(this.bodyNode);
    this.addChild(this.positiveProbeNode);
    this.addChild(positiveWireNode);
    this.addChild(this.negativeProbeNode);
    this.addChild(negativeWireNode);
    voltmeterVisibleProperty.link(voltmeterVisible => {
      this.visible = voltmeterVisible;
    });
    voltmeter.isDraggedProperty.lazyLink(isDragged => {
      if (isDragged) {
        this.moveToFront();
      }
    });
  }

  /**
   * Create an icon of the voltmeter, to be used in the toolbox panel.
   * @param {Number} scale - scales the size of the Node
   * @param {Tandem} tandem
   *
   * @returns {VoltmeterIconNode}
   * @public
   */
  static createVoltmeterIconNode(scale, tandem) {
    return new VoltmeterIconNode(scale, tandem);
  }
}

// statics for dimensions of the voltmeter body image
VoltmeterNode.VOLTMETER_BODY_HEIGHT = voltmeterBody_png.height;
VoltmeterNode.VOLTMETER_BODY_WIDTH = voltmeterBody_png.width;
capacitorLabBasics.register('VoltmeterNode', VoltmeterNode);
class VoltmeterIconNode extends Node {
  /**
   * Generates an icon of the voltmeter with probes, wires, and a title.
   * @param {Number} scale - scales the size of the Node
   * @param {Tandem} tandem
   */
  constructor(scale, tandem) {
    super({
      scale: scale,
      tandem: tandem
    });

    // body of the voltmeter icon
    const voltmeterImageNode = new Image(voltmeterBody_png, {
      scale: 0.17
    });
    const offset = 8;
    const labelText = new Text(voltageString, {
      font: TITLE_FONT,
      maxWidth: voltmeterImageNode.width / 2
    });
    labelText.center = new Vector2(voltmeterImageNode.width / 2, voltmeterImageNode.height / 3 + offset);
    const readoutRectangle = new Rectangle(0, 0, voltmeterImageNode.width / 2, labelText.height + 8, 2, 2, {
      lineWidth: 0.75,
      fill: 'white',
      stroke: 'black'
    });
    readoutRectangle.addChild(new Text('?', {
      font: new PhetFont({
        size: 9
      }),
      center: readoutRectangle.center
    }));
    const imageBounds = voltmeterImageNode.bounds;
    const positiveConnectionOffset = new Vector2(3 * imageBounds.width / 7, imageBounds.maxY * 7 / 8);
    const negativeConnectionOffset = new Vector2(4 * imageBounds.width / 7, imageBounds.maxY * 7 / 8);

    // probes for the voltmeter icon, not rotated for perspective
    const redProbeImage = new Image(probeRed_png, {
      scale: 0.10
    });
    const blackProbeImage = new Image(probeBlack_png, {
      scale: 0.10
    });

    // layout - must be done before wire bezier calculations
    readoutRectangle.center = new Vector2(voltmeterImageNode.center.x, voltmeterImageNode.center.y + offset);
    redProbeImage.centerBottom = voltmeterImageNode.centerBottom.minusXY(40, 15);
    blackProbeImage.centerBottom = voltmeterImageNode.centerBottom.minusXY(-40, 15);

    // wires for the icon, bezier cubics
    //black wire control points
    const blackProbeConnectionPoint = blackProbeImage.centerBottom;
    const blackVoltmeterConnectionPoint = voltmeterImageNode.translation.plus(negativeConnectionOffset);
    const blackWireControlPoint1 = new Vector2(blackVoltmeterConnectionPoint.x + (blackProbeConnectionPoint.x - blackVoltmeterConnectionPoint.x) / 2, blackVoltmeterConnectionPoint.y + 10);
    const blackWireControlPoint2 = new Vector2(blackProbeConnectionPoint.x, blackVoltmeterConnectionPoint.y + 5);

    // black wire shape
    const blackWireShape = new Shape().moveToPoint(blackVoltmeterConnectionPoint).cubicCurveToPoint(blackWireControlPoint1, blackWireControlPoint2, blackProbeConnectionPoint);
    const blackWirePath = new Path(blackWireShape, {
      stroke: 'black',
      lineWidth: 2
    });

    // red wire connection points
    const redProbeConnectionPoint = redProbeImage.centerBottom;
    const redVoltmeterConnectionPoint = voltmeterImageNode.translation.plus(positiveConnectionOffset);
    const redWireControlPoint1 = new Vector2(redVoltmeterConnectionPoint.x - (redVoltmeterConnectionPoint.x - redProbeConnectionPoint.x) / 2, blackVoltmeterConnectionPoint.y + 10);
    const redWireControlPoint2 = new Vector2(redProbeConnectionPoint.x, redVoltmeterConnectionPoint.y + 5);
    const redWireShape = new Shape().moveToPoint(redVoltmeterConnectionPoint).cubicCurveToPoint(redWireControlPoint1, redWireControlPoint2, redProbeConnectionPoint);
    const redWirePath = new Path(redWireShape, {
      stroke: PhetColorScheme.RED_COLORBLIND,
      lineWidth: 2
    });

    // rendering order for the icon
    this.children = [voltmeterImageNode, labelText, readoutRectangle, blackProbeImage, redProbeImage, redWirePath, blackWirePath];
  }
}
capacitorLabBasics.register('VoltmeterIconNode', VoltmeterIconNode);
export default VoltmeterNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWZWN0b3IyIiwiU2hhcGUiLCJQaGV0Q29sb3JTY2hlbWUiLCJQaGV0Rm9udCIsIkltYWdlIiwiTm9kZSIsIlBhdGgiLCJSZWN0YW5nbGUiLCJUZXh0IiwicHJvYmVCbGFja19wbmciLCJwcm9iZVJlZF9wbmciLCJ2b2x0bWV0ZXJCb2R5X3BuZyIsImNhcGFjaXRvckxhYkJhc2ljcyIsIkNhcGFjaXRvckxhYkJhc2ljc1N0cmluZ3MiLCJQcm9iZVdpcmVOb2RlIiwiVm9sdG1ldGVyQm9keU5vZGUiLCJWb2x0bWV0ZXJQcm9iZU5vZGUiLCJ2b2x0YWdlU3RyaW5nIiwidm9sdGFnZSIsIlRJVExFX0ZPTlQiLCJzaXplIiwiVm9sdG1ldGVyTm9kZSIsImNvbnN0cnVjdG9yIiwidm9sdG1ldGVyIiwibW9kZWxWaWV3VHJhbnNmb3JtIiwidm9sdG1ldGVyVmlzaWJsZVByb3BlcnR5IiwidGFuZGVtIiwiYm9keU5vZGUiLCJpc0RyYWdnZWRQcm9wZXJ0eSIsImNyZWF0ZVRhbmRlbSIsInBvc2l0aXZlUHJvYmVOb2RlIiwiY3JlYXRlUG9zaXRpdmVWb2x0bWV0ZXJQcm9iZU5vZGUiLCJuZWdhdGl2ZVByb2JlTm9kZSIsImNyZWF0ZU5lZ2F0aXZlVm9sdG1ldGVyUHJvYmVOb2RlIiwicG9zaXRpdmVXaXJlTm9kZSIsIm5lZ2F0aXZlV2lyZU5vZGUiLCJhZGRDaGlsZCIsImxpbmsiLCJ2b2x0bWV0ZXJWaXNpYmxlIiwidmlzaWJsZSIsImxhenlMaW5rIiwiaXNEcmFnZ2VkIiwibW92ZVRvRnJvbnQiLCJjcmVhdGVWb2x0bWV0ZXJJY29uTm9kZSIsInNjYWxlIiwiVm9sdG1ldGVySWNvbk5vZGUiLCJWT0xUTUVURVJfQk9EWV9IRUlHSFQiLCJoZWlnaHQiLCJWT0xUTUVURVJfQk9EWV9XSURUSCIsIndpZHRoIiwicmVnaXN0ZXIiLCJ2b2x0bWV0ZXJJbWFnZU5vZGUiLCJvZmZzZXQiLCJsYWJlbFRleHQiLCJmb250IiwibWF4V2lkdGgiLCJjZW50ZXIiLCJyZWFkb3V0UmVjdGFuZ2xlIiwibGluZVdpZHRoIiwiZmlsbCIsInN0cm9rZSIsImltYWdlQm91bmRzIiwiYm91bmRzIiwicG9zaXRpdmVDb25uZWN0aW9uT2Zmc2V0IiwibWF4WSIsIm5lZ2F0aXZlQ29ubmVjdGlvbk9mZnNldCIsInJlZFByb2JlSW1hZ2UiLCJibGFja1Byb2JlSW1hZ2UiLCJ4IiwieSIsImNlbnRlckJvdHRvbSIsIm1pbnVzWFkiLCJibGFja1Byb2JlQ29ubmVjdGlvblBvaW50IiwiYmxhY2tWb2x0bWV0ZXJDb25uZWN0aW9uUG9pbnQiLCJ0cmFuc2xhdGlvbiIsInBsdXMiLCJibGFja1dpcmVDb250cm9sUG9pbnQxIiwiYmxhY2tXaXJlQ29udHJvbFBvaW50MiIsImJsYWNrV2lyZVNoYXBlIiwibW92ZVRvUG9pbnQiLCJjdWJpY0N1cnZlVG9Qb2ludCIsImJsYWNrV2lyZVBhdGgiLCJyZWRQcm9iZUNvbm5lY3Rpb25Qb2ludCIsInJlZFZvbHRtZXRlckNvbm5lY3Rpb25Qb2ludCIsInJlZFdpcmVDb250cm9sUG9pbnQxIiwicmVkV2lyZUNvbnRyb2xQb2ludDIiLCJyZWRXaXJlU2hhcGUiLCJyZWRXaXJlUGF0aCIsIlJFRF9DT0xPUkJMSU5EIiwiY2hpbGRyZW4iXSwic291cmNlcyI6WyJWb2x0bWV0ZXJOb2RlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE1LTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEEgdm9sdG1ldGVyIGhhcyBhIGJvZHksIDIgcHJvYmVzLCBhbmQgMiB3aXJlcyBjb25uZWN0aW5nIHRoZSBwcm9iZXMgdG8gdGhlIGJvZHkuXHJcbiAqIFRoaXMgbm9kZSBpcyBkZXNpZ25lZCB0byBiZSBsb2NhdGVkIGF0ICgwLDApLCBzbyB0aGF0IHdlIGRvbid0IG5lZWQgdG8gZGVhbCB3aXRoXHJcbiAqIGNvb3JkaW5hdGUgZnJhbWUgaXNzdWVzIHdoZW4gdGhlIHZvbHRtZXRlcidzIGNvbXBvbmVudHMgbW92ZS5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICogQGF1dGhvciBKZXNzZSBHcmVlbmJlcmcgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgQW5kcmV3IEFkYXJlIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCBWZWN0b3IyIGZyb20gJy4uLy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyLmpzJztcclxuaW1wb3J0IHsgU2hhcGUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9raXRlL2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgUGhldENvbG9yU2NoZW1lIGZyb20gJy4uLy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Q29sb3JTY2hlbWUuanMnO1xyXG5pbXBvcnQgUGhldEZvbnQgZnJvbSAnLi4vLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1BoZXRGb250LmpzJztcclxuaW1wb3J0IHsgSW1hZ2UsIE5vZGUsIFBhdGgsIFJlY3RhbmdsZSwgVGV4dCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBwcm9iZUJsYWNrX3BuZyBmcm9tICcuLi8uLi8uLi8uLi9pbWFnZXMvcHJvYmVCbGFja19wbmcuanMnO1xyXG5pbXBvcnQgcHJvYmVSZWRfcG5nIGZyb20gJy4uLy4uLy4uLy4uL2ltYWdlcy9wcm9iZVJlZF9wbmcuanMnO1xyXG5pbXBvcnQgdm9sdG1ldGVyQm9keV9wbmcgZnJvbSAnLi4vLi4vLi4vLi4vaW1hZ2VzL3ZvbHRtZXRlckJvZHlfcG5nLmpzJztcclxuaW1wb3J0IGNhcGFjaXRvckxhYkJhc2ljcyBmcm9tICcuLi8uLi8uLi9jYXBhY2l0b3JMYWJCYXNpY3MuanMnO1xyXG5pbXBvcnQgQ2FwYWNpdG9yTGFiQmFzaWNzU3RyaW5ncyBmcm9tICcuLi8uLi8uLi9DYXBhY2l0b3JMYWJCYXNpY3NTdHJpbmdzLmpzJztcclxuaW1wb3J0IFByb2JlV2lyZU5vZGUgZnJvbSAnLi9Qcm9iZVdpcmVOb2RlLmpzJztcclxuaW1wb3J0IFZvbHRtZXRlckJvZHlOb2RlIGZyb20gJy4vVm9sdG1ldGVyQm9keU5vZGUuanMnO1xyXG5pbXBvcnQgVm9sdG1ldGVyUHJvYmVOb2RlIGZyb20gJy4vVm9sdG1ldGVyUHJvYmVOb2RlLmpzJztcclxuXHJcbmNvbnN0IHZvbHRhZ2VTdHJpbmcgPSBDYXBhY2l0b3JMYWJCYXNpY3NTdHJpbmdzLnZvbHRhZ2U7XHJcblxyXG4vLyB0aXRsZSBkaXNwbGF5XHJcbmNvbnN0IFRJVExFX0ZPTlQgPSBuZXcgUGhldEZvbnQoIHtcclxuICBzaXplOiA3XHJcbn0gKTtcclxuXHJcblxyXG5jbGFzcyBWb2x0bWV0ZXJOb2RlIGV4dGVuZHMgTm9kZSB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtWb2x0bWV0ZXJ9IHZvbHRtZXRlciAtIHRoZSB2b2x0bWV0ZXIgbW9kZWxcclxuICAgKiBAcGFyYW0ge1lhd1BpdGNoTW9kZWxWaWV3VHJhbnNmb3JtM30gbW9kZWxWaWV3VHJhbnNmb3JtXHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCB2b2x0bWV0ZXIsIG1vZGVsVmlld1RyYW5zZm9ybSwgdm9sdG1ldGVyVmlzaWJsZVByb3BlcnR5LCB0YW5kZW0gKSB7XHJcblxyXG4gICAgc3VwZXIoIHsgdGFuZGVtOiB0YW5kZW0gfSApO1xyXG5cclxuICAgIC8vIGNvbnN0cnVjdCBhbGwgcGFydHMgb2YgdGhlIHByb2JlXHJcbiAgICAvLyBAcHVibGljIHtWb2x0bWV0ZXJCb2R5Tm9kZX1cclxuICAgIHRoaXMuYm9keU5vZGUgPSBuZXcgVm9sdG1ldGVyQm9keU5vZGUoIHZvbHRtZXRlciwgbW9kZWxWaWV3VHJhbnNmb3JtLCB2b2x0bWV0ZXIuaXNEcmFnZ2VkUHJvcGVydHksXHJcbiAgICAgIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdib2R5Tm9kZScgKSApO1xyXG5cclxuICAgIC8vIEBwdWJsaWMge1ZvbHRtZXRlclByb2JlTm9kZX1cclxuICAgIHRoaXMucG9zaXRpdmVQcm9iZU5vZGUgPSBWb2x0bWV0ZXJQcm9iZU5vZGUuY3JlYXRlUG9zaXRpdmVWb2x0bWV0ZXJQcm9iZU5vZGUoIHZvbHRtZXRlciwgbW9kZWxWaWV3VHJhbnNmb3JtLFxyXG4gICAgICB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncG9zaXRpdmVQcm9iZU5vZGUnICkgKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtWb2x0bWV0ZXJQcm9iZU5vZGV9XHJcbiAgICB0aGlzLm5lZ2F0aXZlUHJvYmVOb2RlID0gVm9sdG1ldGVyUHJvYmVOb2RlLmNyZWF0ZU5lZ2F0aXZlVm9sdG1ldGVyUHJvYmVOb2RlKCB2b2x0bWV0ZXIsIG1vZGVsVmlld1RyYW5zZm9ybSxcclxuICAgICAgdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ25lZ2F0aXZlUHJvYmVOb2RlJyApICk7XHJcblxyXG4gICAgY29uc3QgcG9zaXRpdmVXaXJlTm9kZSA9IG5ldyBQcm9iZVdpcmVOb2RlKCB0aGlzLmJvZHlOb2RlLCB0aGlzLnBvc2l0aXZlUHJvYmVOb2RlLCB0cnVlICk7XHJcbiAgICBjb25zdCBuZWdhdGl2ZVdpcmVOb2RlID0gbmV3IFByb2JlV2lyZU5vZGUoIHRoaXMuYm9keU5vZGUsIHRoaXMubmVnYXRpdmVQcm9iZU5vZGUsIGZhbHNlICk7XHJcblxyXG4gICAgLy8gcmVuZGVyaW5nIG9yZGVyXHJcbiAgICB0aGlzLmFkZENoaWxkKCB0aGlzLmJvZHlOb2RlICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB0aGlzLnBvc2l0aXZlUHJvYmVOb2RlICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBwb3NpdGl2ZVdpcmVOb2RlICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB0aGlzLm5lZ2F0aXZlUHJvYmVOb2RlICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBuZWdhdGl2ZVdpcmVOb2RlICk7XHJcblxyXG4gICAgdm9sdG1ldGVyVmlzaWJsZVByb3BlcnR5LmxpbmsoIHZvbHRtZXRlclZpc2libGUgPT4ge1xyXG4gICAgICB0aGlzLnZpc2libGUgPSB2b2x0bWV0ZXJWaXNpYmxlO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHZvbHRtZXRlci5pc0RyYWdnZWRQcm9wZXJ0eS5sYXp5TGluayggaXNEcmFnZ2VkID0+IHtcclxuICAgICAgaWYgKCBpc0RyYWdnZWQgKSB7XHJcbiAgICAgICAgdGhpcy5tb3ZlVG9Gcm9udCgpO1xyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYW4gaWNvbiBvZiB0aGUgdm9sdG1ldGVyLCB0byBiZSB1c2VkIGluIHRoZSB0b29sYm94IHBhbmVsLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSAtIHNjYWxlcyB0aGUgc2l6ZSBvZiB0aGUgTm9kZVxyXG4gICAqIEBwYXJhbSB7VGFuZGVtfSB0YW5kZW1cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtWb2x0bWV0ZXJJY29uTm9kZX1cclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgc3RhdGljIGNyZWF0ZVZvbHRtZXRlckljb25Ob2RlKCBzY2FsZSwgdGFuZGVtICkge1xyXG4gICAgcmV0dXJuIG5ldyBWb2x0bWV0ZXJJY29uTm9kZSggc2NhbGUsIHRhbmRlbSApO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIHN0YXRpY3MgZm9yIGRpbWVuc2lvbnMgb2YgdGhlIHZvbHRtZXRlciBib2R5IGltYWdlXHJcblZvbHRtZXRlck5vZGUuVk9MVE1FVEVSX0JPRFlfSEVJR0hUID0gdm9sdG1ldGVyQm9keV9wbmcuaGVpZ2h0O1xyXG5Wb2x0bWV0ZXJOb2RlLlZPTFRNRVRFUl9CT0RZX1dJRFRIID0gdm9sdG1ldGVyQm9keV9wbmcud2lkdGg7XHJcblxyXG5jYXBhY2l0b3JMYWJCYXNpY3MucmVnaXN0ZXIoICdWb2x0bWV0ZXJOb2RlJywgVm9sdG1ldGVyTm9kZSApO1xyXG5cclxuY2xhc3MgVm9sdG1ldGVySWNvbk5vZGUgZXh0ZW5kcyBOb2RlIHtcclxuICAvKipcclxuICAgKiBHZW5lcmF0ZXMgYW4gaWNvbiBvZiB0aGUgdm9sdG1ldGVyIHdpdGggcHJvYmVzLCB3aXJlcywgYW5kIGEgdGl0bGUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIC0gc2NhbGVzIHRoZSBzaXplIG9mIHRoZSBOb2RlXHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBzY2FsZSwgdGFuZGVtICkge1xyXG5cclxuICAgIHN1cGVyKCB7IHNjYWxlOiBzY2FsZSwgdGFuZGVtOiB0YW5kZW0gfSApO1xyXG5cclxuICAgIC8vIGJvZHkgb2YgdGhlIHZvbHRtZXRlciBpY29uXHJcbiAgICBjb25zdCB2b2x0bWV0ZXJJbWFnZU5vZGUgPSBuZXcgSW1hZ2UoIHZvbHRtZXRlckJvZHlfcG5nLCB7XHJcbiAgICAgIHNjYWxlOiAwLjE3XHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCBvZmZzZXQgPSA4O1xyXG4gICAgY29uc3QgbGFiZWxUZXh0ID0gbmV3IFRleHQoIHZvbHRhZ2VTdHJpbmcsIHtcclxuICAgICAgZm9udDogVElUTEVfRk9OVCxcclxuICAgICAgbWF4V2lkdGg6IHZvbHRtZXRlckltYWdlTm9kZS53aWR0aCAvIDJcclxuICAgIH0gKTtcclxuICAgIGxhYmVsVGV4dC5jZW50ZXIgPSBuZXcgVmVjdG9yMiggdm9sdG1ldGVySW1hZ2VOb2RlLndpZHRoIC8gMiwgdm9sdG1ldGVySW1hZ2VOb2RlLmhlaWdodCAvIDMgKyBvZmZzZXQgKTtcclxuICAgIGNvbnN0IHJlYWRvdXRSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKCAwLCAwLCB2b2x0bWV0ZXJJbWFnZU5vZGUud2lkdGggLyAyLCBsYWJlbFRleHQuaGVpZ2h0ICsgOCwgMiwgMiwge1xyXG4gICAgICBsaW5lV2lkdGg6IDAuNzUsXHJcbiAgICAgIGZpbGw6ICd3aGl0ZScsXHJcbiAgICAgIHN0cm9rZTogJ2JsYWNrJ1xyXG4gICAgfSApO1xyXG4gICAgcmVhZG91dFJlY3RhbmdsZS5hZGRDaGlsZCggbmV3IFRleHQoICc/Jywge1xyXG4gICAgICBmb250OiBuZXcgUGhldEZvbnQoIHsgc2l6ZTogOSB9ICksXHJcbiAgICAgIGNlbnRlcjogcmVhZG91dFJlY3RhbmdsZS5jZW50ZXJcclxuICAgIH0gKSApO1xyXG5cclxuICAgIGNvbnN0IGltYWdlQm91bmRzID0gdm9sdG1ldGVySW1hZ2VOb2RlLmJvdW5kcztcclxuICAgIGNvbnN0IHBvc2l0aXZlQ29ubmVjdGlvbk9mZnNldCA9IG5ldyBWZWN0b3IyKCAzICogaW1hZ2VCb3VuZHMud2lkdGggLyA3LCBpbWFnZUJvdW5kcy5tYXhZICogNyAvIDggKTtcclxuICAgIGNvbnN0IG5lZ2F0aXZlQ29ubmVjdGlvbk9mZnNldCA9IG5ldyBWZWN0b3IyKCA0ICogaW1hZ2VCb3VuZHMud2lkdGggLyA3LCBpbWFnZUJvdW5kcy5tYXhZICogNyAvIDggKTtcclxuXHJcbiAgICAvLyBwcm9iZXMgZm9yIHRoZSB2b2x0bWV0ZXIgaWNvbiwgbm90IHJvdGF0ZWQgZm9yIHBlcnNwZWN0aXZlXHJcbiAgICBjb25zdCByZWRQcm9iZUltYWdlID0gbmV3IEltYWdlKCBwcm9iZVJlZF9wbmcsIHtcclxuICAgICAgc2NhbGU6IDAuMTBcclxuICAgIH0gKTtcclxuICAgIGNvbnN0IGJsYWNrUHJvYmVJbWFnZSA9IG5ldyBJbWFnZSggcHJvYmVCbGFja19wbmcsIHtcclxuICAgICAgc2NhbGU6IDAuMTBcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBsYXlvdXQgLSBtdXN0IGJlIGRvbmUgYmVmb3JlIHdpcmUgYmV6aWVyIGNhbGN1bGF0aW9uc1xyXG4gICAgcmVhZG91dFJlY3RhbmdsZS5jZW50ZXIgPSBuZXcgVmVjdG9yMiggdm9sdG1ldGVySW1hZ2VOb2RlLmNlbnRlci54LCB2b2x0bWV0ZXJJbWFnZU5vZGUuY2VudGVyLnkgKyBvZmZzZXQgKTtcclxuICAgIHJlZFByb2JlSW1hZ2UuY2VudGVyQm90dG9tID0gdm9sdG1ldGVySW1hZ2VOb2RlLmNlbnRlckJvdHRvbS5taW51c1hZKCA0MCwgMTUgKTtcclxuICAgIGJsYWNrUHJvYmVJbWFnZS5jZW50ZXJCb3R0b20gPSB2b2x0bWV0ZXJJbWFnZU5vZGUuY2VudGVyQm90dG9tLm1pbnVzWFkoIC00MCwgMTUgKTtcclxuXHJcbiAgICAvLyB3aXJlcyBmb3IgdGhlIGljb24sIGJlemllciBjdWJpY3NcclxuICAgIC8vYmxhY2sgd2lyZSBjb250cm9sIHBvaW50c1xyXG4gICAgY29uc3QgYmxhY2tQcm9iZUNvbm5lY3Rpb25Qb2ludCA9IGJsYWNrUHJvYmVJbWFnZS5jZW50ZXJCb3R0b207XHJcbiAgICBjb25zdCBibGFja1ZvbHRtZXRlckNvbm5lY3Rpb25Qb2ludCA9IHZvbHRtZXRlckltYWdlTm9kZS50cmFuc2xhdGlvbi5wbHVzKCBuZWdhdGl2ZUNvbm5lY3Rpb25PZmZzZXQgKTtcclxuICAgIGNvbnN0IGJsYWNrV2lyZUNvbnRyb2xQb2ludDEgPSBuZXcgVmVjdG9yMihcclxuICAgICAgYmxhY2tWb2x0bWV0ZXJDb25uZWN0aW9uUG9pbnQueCArICggYmxhY2tQcm9iZUNvbm5lY3Rpb25Qb2ludC54IC0gYmxhY2tWb2x0bWV0ZXJDb25uZWN0aW9uUG9pbnQueCApIC8gMixcclxuICAgICAgKCBibGFja1ZvbHRtZXRlckNvbm5lY3Rpb25Qb2ludC55ICsgMTAgKVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJsYWNrV2lyZUNvbnRyb2xQb2ludDIgPSBuZXcgVmVjdG9yMiggYmxhY2tQcm9iZUNvbm5lY3Rpb25Qb2ludC54LCBibGFja1ZvbHRtZXRlckNvbm5lY3Rpb25Qb2ludC55ICsgNSApO1xyXG5cclxuICAgIC8vIGJsYWNrIHdpcmUgc2hhcGVcclxuICAgIGNvbnN0IGJsYWNrV2lyZVNoYXBlID0gbmV3IFNoYXBlKClcclxuICAgICAgLm1vdmVUb1BvaW50KCBibGFja1ZvbHRtZXRlckNvbm5lY3Rpb25Qb2ludCApXHJcbiAgICAgIC5jdWJpY0N1cnZlVG9Qb2ludCggYmxhY2tXaXJlQ29udHJvbFBvaW50MSwgYmxhY2tXaXJlQ29udHJvbFBvaW50MiwgYmxhY2tQcm9iZUNvbm5lY3Rpb25Qb2ludCApO1xyXG4gICAgY29uc3QgYmxhY2tXaXJlUGF0aCA9IG5ldyBQYXRoKCBibGFja1dpcmVTaGFwZSwge1xyXG4gICAgICBzdHJva2U6ICdibGFjaycsXHJcbiAgICAgIGxpbmVXaWR0aDogMlxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIHJlZCB3aXJlIGNvbm5lY3Rpb24gcG9pbnRzXHJcbiAgICBjb25zdCByZWRQcm9iZUNvbm5lY3Rpb25Qb2ludCA9IHJlZFByb2JlSW1hZ2UuY2VudGVyQm90dG9tO1xyXG4gICAgY29uc3QgcmVkVm9sdG1ldGVyQ29ubmVjdGlvblBvaW50ID0gdm9sdG1ldGVySW1hZ2VOb2RlLnRyYW5zbGF0aW9uLnBsdXMoIHBvc2l0aXZlQ29ubmVjdGlvbk9mZnNldCApO1xyXG4gICAgY29uc3QgcmVkV2lyZUNvbnRyb2xQb2ludDEgPSBuZXcgVmVjdG9yMihcclxuICAgICAgcmVkVm9sdG1ldGVyQ29ubmVjdGlvblBvaW50LnggLSAoIHJlZFZvbHRtZXRlckNvbm5lY3Rpb25Qb2ludC54IC0gcmVkUHJvYmVDb25uZWN0aW9uUG9pbnQueCApIC8gMixcclxuICAgICAgKCBibGFja1ZvbHRtZXRlckNvbm5lY3Rpb25Qb2ludC55ICsgMTAgKVxyXG4gICAgKTtcclxuICAgIGNvbnN0IHJlZFdpcmVDb250cm9sUG9pbnQyID0gbmV3IFZlY3RvcjIoIHJlZFByb2JlQ29ubmVjdGlvblBvaW50LngsIHJlZFZvbHRtZXRlckNvbm5lY3Rpb25Qb2ludC55ICsgNSApO1xyXG5cclxuICAgIGNvbnN0IHJlZFdpcmVTaGFwZSA9IG5ldyBTaGFwZSgpXHJcbiAgICAgIC5tb3ZlVG9Qb2ludCggcmVkVm9sdG1ldGVyQ29ubmVjdGlvblBvaW50IClcclxuICAgICAgLmN1YmljQ3VydmVUb1BvaW50KCByZWRXaXJlQ29udHJvbFBvaW50MSwgcmVkV2lyZUNvbnRyb2xQb2ludDIsIHJlZFByb2JlQ29ubmVjdGlvblBvaW50ICk7XHJcbiAgICBjb25zdCByZWRXaXJlUGF0aCA9IG5ldyBQYXRoKCByZWRXaXJlU2hhcGUsIHtcclxuICAgICAgc3Ryb2tlOiBQaGV0Q29sb3JTY2hlbWUuUkVEX0NPTE9SQkxJTkQsXHJcbiAgICAgIGxpbmVXaWR0aDogMlxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIHJlbmRlcmluZyBvcmRlciBmb3IgdGhlIGljb25cclxuICAgIHRoaXMuY2hpbGRyZW4gPSBbIHZvbHRtZXRlckltYWdlTm9kZSwgbGFiZWxUZXh0LCByZWFkb3V0UmVjdGFuZ2xlLCBibGFja1Byb2JlSW1hZ2UsIHJlZFByb2JlSW1hZ2UsIHJlZFdpcmVQYXRoLFxyXG4gICAgICBibGFja1dpcmVQYXRoXHJcbiAgICBdO1xyXG4gIH1cclxufVxyXG5cclxuY2FwYWNpdG9yTGFiQmFzaWNzLnJlZ2lzdGVyKCAnVm9sdG1ldGVySWNvbk5vZGUnLCBWb2x0bWV0ZXJJY29uTm9kZSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVm9sdG1ldGVyTm9kZTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxPQUFPLE1BQU0sa0NBQWtDO0FBQ3RELFNBQVNDLEtBQUssUUFBUSxtQ0FBbUM7QUFDekQsT0FBT0MsZUFBZSxNQUFNLG1EQUFtRDtBQUMvRSxPQUFPQyxRQUFRLE1BQU0sNENBQTRDO0FBQ2pFLFNBQVNDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLFNBQVMsRUFBRUMsSUFBSSxRQUFRLHNDQUFzQztBQUN6RixPQUFPQyxjQUFjLE1BQU0sc0NBQXNDO0FBQ2pFLE9BQU9DLFlBQVksTUFBTSxvQ0FBb0M7QUFDN0QsT0FBT0MsaUJBQWlCLE1BQU0seUNBQXlDO0FBQ3ZFLE9BQU9DLGtCQUFrQixNQUFN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