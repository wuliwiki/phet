// Copyright 2017-2022, University of Colorado Boulder

/**
 * Nodes for displaying a battery (either positive end up or down)
 *
 * @author Jonathan Olson (PhET Interactive Simulations)
 */

import Vector2 from '../../../../dot/js/Vector2.js';
import { Shape } from '../../../../kite/js/imports.js';
import { Color, LinearGradient, Node, Path } from '../../../../scenery/js/imports.js';
import capacitorLabBasics from '../../capacitorLabBasics.js';
const BATTERY_PERSPECTIVE_RATIO = 0.304;
const BATTERY_MAIN_HEIGHT = 511;
const BATTERY_MAIN_RADIUS = 158;
const BATTERY_SECONDARY_RADIUS = BATTERY_MAIN_RADIUS * BATTERY_PERSPECTIVE_RATIO;
const BATTERY_POSITIVE_TERMINAL_RADIUS = 55;
const BATTERY_POSITIVE_TERMINAL_HEIGHT = 26;
const BATTERY_POSITIVE_SIDE_HEIGHT = 152;
const BATTERY_NEGATIVE_TERMINAL_RADIUS = 81;
const POSITIVE_COLOR = new Color(251, 176, 59);
const POSITIVE_HIGHLIGHT_COLOR = Color.WHITE;
const POSITIVE_SHADOW_COLOR = POSITIVE_COLOR;
const NEGATIVE_COLOR = new Color(53, 53, 53);
const NEGATIVE_HIGHLIGHT_COLOR = new Color(142, 142, 142);
const NEGATIVE_SHADOW_COLOR = Color.BLACK;
const TERMINAL_COLOR = new Color(190, 190, 190);
const TERMINAL_SIDE_COLOR = new Color(168, 168, 168);
const TERMINAL_HIGHLIGHT_COLOR = new Color(227, 227, 227);
const STROKE_COLOR = new Color(33, 33, 33);
const LINE_WIDTH = 2;
function createGradient(radius, leftColor, midColor, rightColor) {
  function blend(highlightPosition, farPosition, position) {
    const distance = Math.abs((farPosition - position) / (highlightPosition - farPosition));
    return distance * distance;
  }
  return new LinearGradient(-radius, 0, radius, 0).addColorStop(0, leftColor).addColorStop(0.1, Color.interpolateRGBA(leftColor, midColor, blend(0.3, 0, 0.1))).addColorStop(0.15, Color.interpolateRGBA(leftColor, midColor, blend(0.3, 0, 0.15))).addColorStop(0.2, Color.interpolateRGBA(leftColor, midColor, blend(0.3, 0, 0.2))).addColorStop(0.25, Color.interpolateRGBA(leftColor, midColor, blend(0.3, 0, 0.25))).addColorStop(0.3, midColor).addColorStop(0.325, Color.interpolateRGBA(rightColor, midColor, blend(0.3, 0.5, 0.325))).addColorStop(0.35, Color.interpolateRGBA(rightColor, midColor, blend(0.3, 0.5, 0.35))).addColorStop(0.375, Color.interpolateRGBA(rightColor, midColor, blend(0.3, 0.5, 0.375))).addColorStop(0.4, Color.interpolateRGBA(rightColor, midColor, blend(0.3, 0.5, 0.4))).addColorStop(0.425, Color.interpolateRGBA(rightColor, midColor, blend(0.3, 0.5, 0.425))).addColorStop(0.45, Color.interpolateRGBA(rightColor, midColor, blend(0.3, 0.5, 0.45))).addColorStop(0.475, Color.interpolateRGBA(rightColor, midColor, blend(0.3, 0.5, 0.475))).addColorStop(0.5, rightColor);
}
const POSITIVE_GRADIENT = createGradient(BATTERY_MAIN_RADIUS, POSITIVE_SHADOW_COLOR, POSITIVE_HIGHLIGHT_COLOR, POSITIVE_COLOR);
const NEGATIVE_GRADIENT = createGradient(BATTERY_MAIN_RADIUS, NEGATIVE_SHADOW_COLOR, NEGATIVE_HIGHLIGHT_COLOR, NEGATIVE_COLOR);
const TERMINAL_GRADIENT = createGradient(BATTERY_POSITIVE_TERMINAL_RADIUS, TERMINAL_SIDE_COLOR, TERMINAL_HIGHLIGHT_COLOR, TERMINAL_SIDE_COLOR);
class BatteryGraphicNode extends Node {
  /**
   * @param {boolean} isPositiveDown
   * @param {Object} [options]
   */
  constructor(isPositiveDown, options) {
    super();

    // @private {boolean}
    this.isPositiveDown = isPositiveDown;
    const middleY = isPositiveDown ? BATTERY_MAIN_HEIGHT - BATTERY_POSITIVE_SIDE_HEIGHT : BATTERY_POSITIVE_SIDE_HEIGHT;
    const terminalTopY = isPositiveDown ? 0 : -BATTERY_POSITIVE_TERMINAL_HEIGHT;
    const terminalRadius = isPositiveDown ? BATTERY_NEGATIVE_TERMINAL_RADIUS : BATTERY_POSITIVE_TERMINAL_RADIUS;
    const bottomSideShape = new Shape().ellipticalArc(0, middleY, BATTERY_MAIN_RADIUS, BATTERY_SECONDARY_RADIUS, 0, 0, Math.PI, false).ellipticalArc(0, BATTERY_MAIN_HEIGHT, BATTERY_MAIN_RADIUS, BATTERY_SECONDARY_RADIUS, 0, Math.PI, 0, true).close();
    const topSideShape = new Shape().ellipticalArc(0, middleY, BATTERY_MAIN_RADIUS, BATTERY_SECONDARY_RADIUS, 0, 0, Math.PI, false).ellipticalArc(0, 0, BATTERY_MAIN_RADIUS, BATTERY_SECONDARY_RADIUS, 0, Math.PI, 0, true).close();
    const topShape = new Shape().ellipticalArc(0, 0, BATTERY_MAIN_RADIUS, BATTERY_SECONDARY_RADIUS, 0, 0, Math.PI * 2, false).close();
    const terminalTopShape = new Shape().ellipticalArc(0, terminalTopY, terminalRadius, terminalRadius * BATTERY_PERSPECTIVE_RATIO, 0, 0, Math.PI * 2, false).close();
    const terminalSideShape = new Shape().ellipticalArc(0, terminalTopY, terminalRadius, terminalRadius * BATTERY_PERSPECTIVE_RATIO, 0, 0, Math.PI, false).ellipticalArc(0, 0, terminalRadius, terminalRadius * BATTERY_PERSPECTIVE_RATIO, 0, Math.PI, 0, true).close();

    // @public {Shape}
    this.terminalShape = terminalTopShape;
    const bottomSide = new Path(bottomSideShape, {
      fill: isPositiveDown ? POSITIVE_GRADIENT : NEGATIVE_GRADIENT,
      stroke: STROKE_COLOR,
      lineWidth: LINE_WIDTH
    });
    const topSide = new Path(topSideShape, {
      fill: isPositiveDown ? NEGATIVE_GRADIENT : POSITIVE_GRADIENT,
      stroke: STROKE_COLOR,
      lineWidth: LINE_WIDTH
    });
    const top = new Path(topShape, {
      fill: isPositiveDown ? NEGATIVE_COLOR : POSITIVE_COLOR,
      stroke: STROKE_COLOR,
      lineWidth: LINE_WIDTH
    });
    const terminal = new Path(terminalTopShape, {
      fill: TERMINAL_COLOR,
      stroke: STROKE_COLOR,
      lineWidth: LINE_WIDTH
    });
    if (!isPositiveDown) {
      this.terminalShape = this.terminalShape.shapeUnion(terminalSideShape);
      terminal.addChild(new Path(terminalSideShape, {
        fill: TERMINAL_GRADIENT,
        stroke: STROKE_COLOR,
        lineWidth: LINE_WIDTH
      }));
    }
    this.children = [top, topSide, bottomSide, terminal];
    this.mutate(options);
  }

  /**
   * Returns (in the local coordinate frame) the position of the center-top of the top terminal.
   * @public
   *
   * @returns {Vector2}
   */
  getTopPosition() {
    return new Vector2(0, this.isPositiveDown ? 0 : -BATTERY_POSITIVE_TERMINAL_HEIGHT);
  }
}
capacitorLabBasics.register('BatteryGraphicNode', BatteryGraphicNode);

// @public {Node}
BatteryGraphicNode.POSITIVE_UP = new BatteryGraphicNode(false);
BatteryGraphicNode.POSITIVE_DOWN = new BatteryGraphicNode(true);
export default BatteryGraphicNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWZWN0b3IyIiwiU2hhcGUiLCJDb2xvciIsIkxpbmVhckdyYWRpZW50IiwiTm9kZSIsIlBhdGgiLCJjYXBhY2l0b3JMYWJCYXNpY3MiLCJCQVRURVJZX1BFUlNQRUNUSVZFX1JBVElPIiwiQkFUVEVSWV9NQUlOX0hFSUdIVCIsIkJBVFRFUllfTUFJTl9SQURJVVMiLCJCQVRURVJZX1NFQ09OREFSWV9SQURJVVMiLCJCQVRURVJZX1BPU0lUSVZFX1RFUk1JTkFMX1JBRElVUyIsIkJBVFRFUllfUE9TSVRJVkVfVEVSTUlOQUxfSEVJR0hUIiwiQkFUVEVSWV9QT1NJVElWRV9TSURFX0hFSUdIVCIsIkJBVFRFUllfTkVHQVRJVkVfVEVSTUlOQUxfUkFESVVTIiwiUE9TSVRJVkVfQ09MT1IiLCJQT1NJVElWRV9ISUdITElHSFRfQ09MT1IiLCJXSElURSIsIlBPU0lUSVZFX1NIQURPV19DT0xPUiIsIk5FR0FUSVZFX0NPTE9SIiwiTkVHQVRJVkVfSElHSExJR0hUX0NPTE9SIiwiTkVHQVRJVkVfU0hBRE9XX0NPTE9SIiwiQkxBQ0siLCJURVJNSU5BTF9DT0xPUiIsIlRFUk1JTkFMX1NJREVfQ09MT1IiLCJURVJNSU5BTF9ISUdITElHSFRfQ09MT1IiLCJTVFJPS0VfQ09MT1IiLCJMSU5FX1dJRFRIIiwiY3JlYXRlR3JhZGllbnQiLCJyYWRpdXMiLCJsZWZ0Q29sb3IiLCJtaWRDb2xvciIsInJpZ2h0Q29sb3IiLCJibGVuZCIsImhpZ2hsaWdodFBvc2l0aW9uIiwiZmFyUG9zaXRpb24iLCJwb3NpdGlvbiIsImRpc3RhbmNlIiwiTWF0aCIsImFicyIsImFkZENvbG9yU3RvcCIsImludGVycG9sYXRlUkdCQSIsIlBPU0lUSVZFX0dSQURJRU5UIiwiTkVHQVRJVkVfR1JBRElFTlQiLCJURVJNSU5BTF9HUkFESUVOVCIsIkJhdHRlcnlHcmFwaGljTm9kZSIsImNvbnN0cnVjdG9yIiwiaXNQb3NpdGl2ZURvd24iLCJvcHRpb25zIiwibWlkZGxlWSIsInRlcm1pbmFsVG9wWSIsInRlcm1pbmFsUmFkaXVzIiwiYm90dG9tU2lkZVNoYXBlIiwiZWxsaXB0aWNhbEFyYyIsIlBJIiwiY2xvc2UiLCJ0b3BTaWRlU2hhcGUiLCJ0b3BTaGFwZSIsInRlcm1pbmFsVG9wU2hhcGUiLCJ0ZXJtaW5hbFNpZGVTaGFwZSIsInRlcm1pbmFsU2hhcGUiLCJib3R0b21TaWRlIiwiZmlsbCIsInN0cm9rZSIsImxpbmVXaWR0aCIsInRvcFNpZGUiLCJ0b3AiLCJ0ZXJtaW5hbCIsInNoYXBlVW5pb24iLCJhZGRDaGlsZCIsImNoaWxkcmVuIiwibXV0YXRlIiwiZ2V0VG9wUG9zaXRpb24iLCJyZWdpc3RlciIsIlBPU0lUSVZFX1VQIiwiUE9TSVRJVkVfRE9XTiJdLCJzb3VyY2VzIjpbIkJhdHRlcnlHcmFwaGljTm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNy0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBOb2RlcyBmb3IgZGlzcGxheWluZyBhIGJhdHRlcnkgKGVpdGhlciBwb3NpdGl2ZSBlbmQgdXAgb3IgZG93bilcclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4va2l0ZS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IHsgQ29sb3IsIExpbmVhckdyYWRpZW50LCBOb2RlLCBQYXRoIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IGNhcGFjaXRvckxhYkJhc2ljcyBmcm9tICcuLi8uLi9jYXBhY2l0b3JMYWJCYXNpY3MuanMnO1xyXG5cclxuY29uc3QgQkFUVEVSWV9QRVJTUEVDVElWRV9SQVRJTyA9IDAuMzA0O1xyXG5jb25zdCBCQVRURVJZX01BSU5fSEVJR0hUID0gNTExO1xyXG5jb25zdCBCQVRURVJZX01BSU5fUkFESVVTID0gMTU4O1xyXG5jb25zdCBCQVRURVJZX1NFQ09OREFSWV9SQURJVVMgPSBCQVRURVJZX01BSU5fUkFESVVTICogQkFUVEVSWV9QRVJTUEVDVElWRV9SQVRJTztcclxuY29uc3QgQkFUVEVSWV9QT1NJVElWRV9URVJNSU5BTF9SQURJVVMgPSA1NTtcclxuY29uc3QgQkFUVEVSWV9QT1NJVElWRV9URVJNSU5BTF9IRUlHSFQgPSAyNjtcclxuY29uc3QgQkFUVEVSWV9QT1NJVElWRV9TSURFX0hFSUdIVCA9IDE1MjtcclxuY29uc3QgQkFUVEVSWV9ORUdBVElWRV9URVJNSU5BTF9SQURJVVMgPSA4MTtcclxuXHJcbmNvbnN0IFBPU0lUSVZFX0NPTE9SID0gbmV3IENvbG9yKCAyNTEsIDE3NiwgNTkgKTtcclxuY29uc3QgUE9TSVRJVkVfSElHSExJR0hUX0NPTE9SID0gQ29sb3IuV0hJVEU7XHJcbmNvbnN0IFBPU0lUSVZFX1NIQURPV19DT0xPUiA9IFBPU0lUSVZFX0NPTE9SO1xyXG5cclxuY29uc3QgTkVHQVRJVkVfQ09MT1IgPSBuZXcgQ29sb3IoIDUzLCA1MywgNTMgKTtcclxuY29uc3QgTkVHQVRJVkVfSElHSExJR0hUX0NPTE9SID0gbmV3IENvbG9yKCAxNDIsIDE0MiwgMTQyICk7XHJcbmNvbnN0IE5FR0FUSVZFX1NIQURPV19DT0xPUiA9IENvbG9yLkJMQUNLO1xyXG5cclxuY29uc3QgVEVSTUlOQUxfQ09MT1IgPSBuZXcgQ29sb3IoIDE5MCwgMTkwLCAxOTAgKTtcclxuY29uc3QgVEVSTUlOQUxfU0lERV9DT0xPUiA9IG5ldyBDb2xvciggMTY4LCAxNjgsIDE2OCApO1xyXG5jb25zdCBURVJNSU5BTF9ISUdITElHSFRfQ09MT1IgPSBuZXcgQ29sb3IoIDIyNywgMjI3LCAyMjcgKTtcclxuXHJcbmNvbnN0IFNUUk9LRV9DT0xPUiA9IG5ldyBDb2xvciggMzMsIDMzLCAzMyApO1xyXG5jb25zdCBMSU5FX1dJRFRIID0gMjtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUdyYWRpZW50KCByYWRpdXMsIGxlZnRDb2xvciwgbWlkQ29sb3IsIHJpZ2h0Q29sb3IgKSB7XHJcbiAgZnVuY3Rpb24gYmxlbmQoIGhpZ2hsaWdodFBvc2l0aW9uLCBmYXJQb3NpdGlvbiwgcG9zaXRpb24gKSB7XHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguYWJzKCAoIGZhclBvc2l0aW9uIC0gcG9zaXRpb24gKSAvICggaGlnaGxpZ2h0UG9zaXRpb24gLSBmYXJQb3NpdGlvbiApICk7XHJcbiAgICByZXR1cm4gZGlzdGFuY2UgKiBkaXN0YW5jZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgTGluZWFyR3JhZGllbnQoIC1yYWRpdXMsIDAsIHJhZGl1cywgMCApXHJcbiAgICAuYWRkQ29sb3JTdG9wKCAwLCBsZWZ0Q29sb3IgKVxyXG4gICAgLmFkZENvbG9yU3RvcCggMC4xLCBDb2xvci5pbnRlcnBvbGF0ZVJHQkEoIGxlZnRDb2xvciwgbWlkQ29sb3IsIGJsZW5kKCAwLjMsIDAsIDAuMSApICkgKVxyXG4gICAgLmFkZENvbG9yU3RvcCggMC4xNSwgQ29sb3IuaW50ZXJwb2xhdGVSR0JBKCBsZWZ0Q29sb3IsIG1pZENvbG9yLCBibGVuZCggMC4zLCAwLCAwLjE1ICkgKSApXHJcbiAgICAuYWRkQ29sb3JTdG9wKCAwLjIsIENvbG9yLmludGVycG9sYXRlUkdCQSggbGVmdENvbG9yLCBtaWRDb2xvciwgYmxlbmQoIDAuMywgMCwgMC4yICkgKSApXHJcbiAgICAuYWRkQ29sb3JTdG9wKCAwLjI1LCBDb2xvci5pbnRlcnBvbGF0ZVJHQkEoIGxlZnRDb2xvciwgbWlkQ29sb3IsIGJsZW5kKCAwLjMsIDAsIDAuMjUgKSApIClcclxuICAgIC5hZGRDb2xvclN0b3AoIDAuMywgbWlkQ29sb3IgKVxyXG4gICAgLmFkZENvbG9yU3RvcCggMC4zMjUsIENvbG9yLmludGVycG9sYXRlUkdCQSggcmlnaHRDb2xvciwgbWlkQ29sb3IsIGJsZW5kKCAwLjMsIDAuNSwgMC4zMjUgKSApIClcclxuICAgIC5hZGRDb2xvclN0b3AoIDAuMzUsIENvbG9yLmludGVycG9sYXRlUkdCQSggcmlnaHRDb2xvciwgbWlkQ29sb3IsIGJsZW5kKCAwLjMsIDAuNSwgMC4zNSApICkgKVxyXG4gICAgLmFkZENvbG9yU3RvcCggMC4zNzUsIENvbG9yLmludGVycG9sYXRlUkdCQSggcmlnaHRDb2xvciwgbWlkQ29sb3IsIGJsZW5kKCAwLjMsIDAuNSwgMC4zNzUgKSApIClcclxuICAgIC5hZGRDb2xvclN0b3AoIDAuNCwgQ29sb3IuaW50ZXJwb2xhdGVSR0JBKCByaWdodENvbG9yLCBtaWRDb2xvciwgYmxlbmQoIDAuMywgMC41LCAwLjQgKSApIClcclxuICAgIC5hZGRDb2xvclN0b3AoIDAuNDI1LCBDb2xvci5pbnRlcnBvbGF0ZVJHQkEoIHJpZ2h0Q29sb3IsIG1pZENvbG9yLCBibGVuZCggMC4zLCAwLjUsIDAuNDI1ICkgKSApXHJcbiAgICAuYWRkQ29sb3JTdG9wKCAwLjQ1LCBDb2xvci5pbnRlcnBvbGF0ZVJHQkEoIHJpZ2h0Q29sb3IsIG1pZENvbG9yLCBibGVuZCggMC4zLCAwLjUsIDAuNDUgKSApIClcclxuICAgIC5hZGRDb2xvclN0b3AoIDAuNDc1LCBDb2xvci5pbnRlcnBvbGF0ZVJHQkEoIHJpZ2h0Q29sb3IsIG1pZENvbG9yLCBibGVuZCggMC4zLCAwLjUsIDAuNDc1ICkgKSApXHJcbiAgICAuYWRkQ29sb3JTdG9wKCAwLjUsIHJpZ2h0Q29sb3IgKTtcclxufVxyXG5cclxuY29uc3QgUE9TSVRJVkVfR1JBRElFTlQgPSBjcmVhdGVHcmFkaWVudCggQkFUVEVSWV9NQUlOX1JBRElVUywgUE9TSVRJVkVfU0hBRE9XX0NPTE9SLCBQT1NJVElWRV9ISUdITElHSFRfQ09MT1IsIFBPU0lUSVZFX0NPTE9SICk7XHJcbmNvbnN0IE5FR0FUSVZFX0dSQURJRU5UID0gY3JlYXRlR3JhZGllbnQoIEJBVFRFUllfTUFJTl9SQURJVVMsIE5FR0FUSVZFX1NIQURPV19DT0xPUiwgTkVHQVRJVkVfSElHSExJR0hUX0NPTE9SLCBORUdBVElWRV9DT0xPUiApO1xyXG5jb25zdCBURVJNSU5BTF9HUkFESUVOVCA9IGNyZWF0ZUdyYWRpZW50KCBCQVRURVJZX1BPU0lUSVZFX1RFUk1JTkFMX1JBRElVUywgVEVSTUlOQUxfU0lERV9DT0xPUiwgVEVSTUlOQUxfSElHSExJR0hUX0NPTE9SLCBURVJNSU5BTF9TSURFX0NPTE9SICk7XHJcblxyXG5jbGFzcyBCYXR0ZXJ5R3JhcGhpY05vZGUgZXh0ZW5kcyBOb2RlIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUG9zaXRpdmVEb3duXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBpc1Bvc2l0aXZlRG93biwgb3B0aW9ucyApIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgLy8gQHByaXZhdGUge2Jvb2xlYW59XHJcbiAgICB0aGlzLmlzUG9zaXRpdmVEb3duID0gaXNQb3NpdGl2ZURvd247XHJcblxyXG4gICAgY29uc3QgbWlkZGxlWSA9IGlzUG9zaXRpdmVEb3duID8gKCBCQVRURVJZX01BSU5fSEVJR0hUIC0gQkFUVEVSWV9QT1NJVElWRV9TSURFX0hFSUdIVCApIDogQkFUVEVSWV9QT1NJVElWRV9TSURFX0hFSUdIVDtcclxuICAgIGNvbnN0IHRlcm1pbmFsVG9wWSA9IGlzUG9zaXRpdmVEb3duID8gMCA6IC1CQVRURVJZX1BPU0lUSVZFX1RFUk1JTkFMX0hFSUdIVDtcclxuICAgIGNvbnN0IHRlcm1pbmFsUmFkaXVzID0gaXNQb3NpdGl2ZURvd24gPyBCQVRURVJZX05FR0FUSVZFX1RFUk1JTkFMX1JBRElVUyA6IEJBVFRFUllfUE9TSVRJVkVfVEVSTUlOQUxfUkFESVVTO1xyXG5cclxuICAgIGNvbnN0IGJvdHRvbVNpZGVTaGFwZSA9IG5ldyBTaGFwZSgpLmVsbGlwdGljYWxBcmMoIDAsIG1pZGRsZVksIEJBVFRFUllfTUFJTl9SQURJVVMsIEJBVFRFUllfU0VDT05EQVJZX1JBRElVUywgMCwgMCwgTWF0aC5QSSwgZmFsc2UgKVxyXG4gICAgICAuZWxsaXB0aWNhbEFyYyggMCwgQkFUVEVSWV9NQUlOX0hFSUdIVCwgQkFUVEVSWV9NQUlOX1JBRElVUywgQkFUVEVSWV9TRUNPTkRBUllfUkFESVVTLCAwLCBNYXRoLlBJLCAwLCB0cnVlIClcclxuICAgICAgLmNsb3NlKCk7XHJcbiAgICBjb25zdCB0b3BTaWRlU2hhcGUgPSBuZXcgU2hhcGUoKS5lbGxpcHRpY2FsQXJjKCAwLCBtaWRkbGVZLCBCQVRURVJZX01BSU5fUkFESVVTLCBCQVRURVJZX1NFQ09OREFSWV9SQURJVVMsIDAsIDAsIE1hdGguUEksIGZhbHNlIClcclxuICAgICAgLmVsbGlwdGljYWxBcmMoIDAsIDAsIEJBVFRFUllfTUFJTl9SQURJVVMsIEJBVFRFUllfU0VDT05EQVJZX1JBRElVUywgMCwgTWF0aC5QSSwgMCwgdHJ1ZSApXHJcbiAgICAgIC5jbG9zZSgpO1xyXG4gICAgY29uc3QgdG9wU2hhcGUgPSBuZXcgU2hhcGUoKS5lbGxpcHRpY2FsQXJjKCAwLCAwLCBCQVRURVJZX01BSU5fUkFESVVTLCBCQVRURVJZX1NFQ09OREFSWV9SQURJVVMsIDAsIDAsIE1hdGguUEkgKiAyLCBmYWxzZSApLmNsb3NlKCk7XHJcbiAgICBjb25zdCB0ZXJtaW5hbFRvcFNoYXBlID0gbmV3IFNoYXBlKCkuZWxsaXB0aWNhbEFyYyggMCwgdGVybWluYWxUb3BZLCB0ZXJtaW5hbFJhZGl1cywgdGVybWluYWxSYWRpdXMgKiBCQVRURVJZX1BFUlNQRUNUSVZFX1JBVElPLCAwLCAwLCBNYXRoLlBJICogMiwgZmFsc2UgKS5jbG9zZSgpO1xyXG4gICAgY29uc3QgdGVybWluYWxTaWRlU2hhcGUgPSBuZXcgU2hhcGUoKS5lbGxpcHRpY2FsQXJjKCAwLCB0ZXJtaW5hbFRvcFksIHRlcm1pbmFsUmFkaXVzLCB0ZXJtaW5hbFJhZGl1cyAqIEJBVFRFUllfUEVSU1BFQ1RJVkVfUkFUSU8sIDAsIDAsIE1hdGguUEksIGZhbHNlIClcclxuICAgICAgLmVsbGlwdGljYWxBcmMoIDAsIDAsIHRlcm1pbmFsUmFkaXVzLCB0ZXJtaW5hbFJhZGl1cyAqIEJBVFRFUllfUEVSU1BFQ1RJVkVfUkFUSU8sIDAsIE1hdGguUEksIDAsIHRydWUgKVxyXG4gICAgICAuY2xvc2UoKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtTaGFwZX1cclxuICAgIHRoaXMudGVybWluYWxTaGFwZSA9IHRlcm1pbmFsVG9wU2hhcGU7XHJcblxyXG4gICAgY29uc3QgYm90dG9tU2lkZSA9IG5ldyBQYXRoKCBib3R0b21TaWRlU2hhcGUsIHtcclxuICAgICAgZmlsbDogaXNQb3NpdGl2ZURvd24gPyBQT1NJVElWRV9HUkFESUVOVCA6IE5FR0FUSVZFX0dSQURJRU5ULFxyXG4gICAgICBzdHJva2U6IFNUUk9LRV9DT0xPUixcclxuICAgICAgbGluZVdpZHRoOiBMSU5FX1dJRFRIXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCB0b3BTaWRlID0gbmV3IFBhdGgoIHRvcFNpZGVTaGFwZSwge1xyXG4gICAgICBmaWxsOiBpc1Bvc2l0aXZlRG93biA/IE5FR0FUSVZFX0dSQURJRU5UIDogUE9TSVRJVkVfR1JBRElFTlQsXHJcbiAgICAgIHN0cm9rZTogU1RST0tFX0NPTE9SLFxyXG4gICAgICBsaW5lV2lkdGg6IExJTkVfV0lEVEhcclxuICAgIH0gKTtcclxuICAgIGNvbnN0IHRvcCA9IG5ldyBQYXRoKCB0b3BTaGFwZSwge1xyXG4gICAgICBmaWxsOiBpc1Bvc2l0aXZlRG93biA/IE5FR0FUSVZFX0NPTE9SIDogUE9TSVRJVkVfQ09MT1IsXHJcbiAgICAgIHN0cm9rZTogU1RST0tFX0NPTE9SLFxyXG4gICAgICBsaW5lV2lkdGg6IExJTkVfV0lEVEhcclxuICAgIH0gKTtcclxuICAgIGNvbnN0IHRlcm1pbmFsID0gbmV3IFBhdGgoIHRlcm1pbmFsVG9wU2hhcGUsIHtcclxuICAgICAgZmlsbDogVEVSTUlOQUxfQ09MT1IsXHJcbiAgICAgIHN0cm9rZTogU1RST0tFX0NPTE9SLFxyXG4gICAgICBsaW5lV2lkdGg6IExJTkVfV0lEVEhcclxuICAgIH0gKTtcclxuXHJcbiAgICBpZiAoICFpc1Bvc2l0aXZlRG93biApIHtcclxuICAgICAgdGhpcy50ZXJtaW5hbFNoYXBlID0gdGhpcy50ZXJtaW5hbFNoYXBlLnNoYXBlVW5pb24oIHRlcm1pbmFsU2lkZVNoYXBlICk7XHJcbiAgICAgIHRlcm1pbmFsLmFkZENoaWxkKCBuZXcgUGF0aCggdGVybWluYWxTaWRlU2hhcGUsIHtcclxuICAgICAgICBmaWxsOiBURVJNSU5BTF9HUkFESUVOVCxcclxuICAgICAgICBzdHJva2U6IFNUUk9LRV9DT0xPUixcclxuICAgICAgICBsaW5lV2lkdGg6IExJTkVfV0lEVEhcclxuICAgICAgfSApICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jaGlsZHJlbiA9IFtcclxuICAgICAgdG9wLCB0b3BTaWRlLCBib3R0b21TaWRlLCB0ZXJtaW5hbFxyXG4gICAgXTtcclxuXHJcbiAgICB0aGlzLm11dGF0ZSggb3B0aW9ucyApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyAoaW4gdGhlIGxvY2FsIGNvb3JkaW5hdGUgZnJhbWUpIHRoZSBwb3NpdGlvbiBvZiB0aGUgY2VudGVyLXRvcCBvZiB0aGUgdG9wIHRlcm1pbmFsLlxyXG4gICAqIEBwdWJsaWNcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtWZWN0b3IyfVxyXG4gICAqL1xyXG4gIGdldFRvcFBvc2l0aW9uKCkge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKCAwLCB0aGlzLmlzUG9zaXRpdmVEb3duID8gMCA6IC1CQVRURVJZX1BPU0lUSVZFX1RFUk1JTkFMX0hFSUdIVCApO1xyXG4gIH1cclxufVxyXG5cclxuY2FwYWNpdG9yTGFiQmFzaWNzLnJlZ2lzdGVyKCAnQmF0dGVyeUdyYXBoaWNOb2RlJywgQmF0dGVyeUdyYXBoaWNOb2RlICk7XHJcblxyXG4vLyBAcHVibGljIHtOb2RlfVxyXG5CYXR0ZXJ5R3JhcGhpY05vZGUuUE9TSVRJVkVfVVAgPSBuZXcgQmF0dGVyeUdyYXBoaWNOb2RlKCBmYWxzZSApO1xyXG5CYXR0ZXJ5R3JhcGhpY05vZGUuUE9TSVRJVkVfRE9XTiA9IG5ldyBCYXR0ZXJ5R3JhcGhpY05vZGUoIHRydWUgKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJhdHRlcnlHcmFwaGljTm9kZTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLE9BQU8sTUFBTSwrQkFBK0I7QUFDbkQsU0FBU0MsS0FBSyxRQUFRLGdDQUFnQztBQUN0RCxTQUFTQyxLQUFLLEVBQUVDLGNBQWMsRUFBRUMsSUFBSSxFQUFFQyxJQUFJLFFBQVEsbUNBQW1DO0FBQ3JGLE9BQU9DLGtCQUFrQixNQUFNLDZCQUE2QjtBQUU1RCxNQUFNQyx5QkFBeUIsR0FBRyxLQUFLO0FBQ3ZDLE1BQU1DLG1CQUFtQixHQUFHLEdBQUc7QUFDL0IsTUFBTUMsbUJBQW1CLEdBQUcsR0FBRztBQUMvQixNQUFNQyx3QkFBd0IsR0FBR0QsbUJBQW1CLEdBQUdGLHlCQUF5QjtBQUNoRixNQUFNSSxnQ0FBZ0MsR0FBRyxFQUFFO0FBQzNDLE1BQU1DLGdDQUFnQyxHQUFHLEVBQUU7QUFDM0MsTUFBTUMsNEJBQTRCLEdBQUcsR0FBRztBQUN4QyxNQUFNQyxnQ0FBZ0MsR0FBRyxFQUFFO0FBRTNDLE1BQU1DLGNBQWMsR0FBRyxJQUFJYixLQUFLLENBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFHLENBQUM7QUFDaEQsTUFBTWMsd0JBQXdCLEdBQUdkLEtBQUssQ0FBQ2UsS0FBSztBQUM1QyxNQUFNQyxxQkFBcUIsR0FBR0gsY0FBYztBQUU1QyxNQUFNSSxjQUFjLEdBQUcsSUFBSWpCLEtBQUssQ0FBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUcsQ0FBQztBQUM5QyxNQUFNa0Isd0JBQXdCLEdBQUcsSUFBSWxCLEtBQUssQ0FBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUksQ0FBQztBQUMzRCxNQUFNbUIscUJBQXFCLEdBQUduQixLQUFLLENBQUNvQixLQUFLO0FBRXpDLE1BQU1DLGNBQWMsR0FBRyxJQUFJckIsS0FBSyxDQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBSSxDQUFDO0FBQ2pELE1BQU1zQixtQkFBbUIsR0FBRyxJQUFJdEIsS0FBSyxDQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBSSxDQUFDO0FBQ3RELE1BQU11Qix3QkFBd0IsR0FBRyxJQUFJdkIsS0FBSyxDQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBSSxDQUFDO0FBRTNELE1BQU13QixZQUFZLEdBQUcsSUFBSXhCLEtBQUssQ0FBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUcsQ0FBQztBQUM1QyxNQUFNeUIsVUFBVSxHQUFHLENBQUM7QUFFcEIsU0FBU0MsY0FBY0EsQ0FBRUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBRUMsVUFBVSxFQUFHO0VBQ2pFLFNBQVNDLEtBQUtBLENBQUVDLGlCQUFpQixFQUFFQyxXQUFXLEVBQUVDLFFBQVEsRUFBRztJQUN6RCxNQUFNQyxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxDQUFFLENBQUVKLFdBQVcsR0FBR0MsUUFBUSxLQUFPRixpQkFBaUIsR0FBR0MsV0FBVyxDQUFHLENBQUM7SUFDN0YsT0FBT0UsUUFBUSxHQUFHQSxRQUFRO0VBQzVCO0VBRUEsT0FBTyxJQUFJbEMsY0FBYyxDQUFFLENBQUMwQixNQUFNLEVBQUUsQ0FBQyxFQUFFQSxNQUFNLEVBQUUsQ0FBRSxDQUFDLENBQy9DVyxZQUFZLENBQUUsQ0FBQyxFQUFFVixTQUFVLENBQUMsQ0FDNUJVLFlBQVksQ0FBRSxHQUFHLEVBQUV0QyxLQUFLLENBQUN1QyxlQUFlLENBQUVYLFNBQVMsRUFBRUMsUUFBUSxFQUFFRSxLQUFLLENBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFJLENBQUUsQ0FBRSxDQUFDLENBQ3ZGTyxZQUFZLENBQUUsSUFBSSxFQUFFdEMsS0FBSyxDQUFDdUMsZUFBZSxDQUFFWCxTQUFTLEVBQUVDLFFBQVEsRUFBRUUsS0FBSyxDQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsSUFBSyxDQUFFLENBQUUsQ0FBQyxDQUN6Rk8sWUFBWSxDQUFFLEdBQUcsRUFBRXRDLEtBQUssQ0FBQ3VDLGVBQWUsQ0FBRVgsU0FBUyxFQUFFQyxRQUFRLEVBQUVFLEtBQUssQ0FBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUksQ0FBRSxDQUFFLENBQUMsQ0FDdkZPLFlBQVksQ0FBRSxJQUFJLEVBQUV0QyxLQUFLLENBQUN1QyxlQUFlLENBQUVYLFNBQVMsRUFBRUMsUUFBUSxFQUFFRSxLQUFLLENBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFLLENBQUUsQ0FBRSxDQUFDLENBQ3pGTyxZQUFZLENBQUUsR0FBRyxFQUFFVCxRQUFTLENBQUMsQ0FDN0JTLFlBQVksQ0FBRSxLQUFLLEVBQUV0QyxLQUFLLENBQUN1QyxlQUFlLENBQUVULFVBQVUsRUFBRUQsUUFBUSxFQUFFRSxLQUFLLENBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFNLENBQUUsQ0FBRSxDQUFDLENBQzlGTyxZQUFZLENBQUUsSUFBSSxFQUFFdEMsS0FBSyxDQUFDdUMsZUFBZSxDQUFFVCxVQUFVLEVBQUVELFFBQVEsRUFBRUUsS0FBSyxDQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSyxDQUFFLENBQUUsQ0FBQyxDQUM1Rk8sWUFBWSxDQUFFLEtBQUssRUFBRXRDLEtBQUssQ0FBQ3VDLGVBQWUsQ0FBRVQsVUFBVSxFQUFFRCxRQUFRLEVBQUVFLEtBQUssQ0FBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQU0sQ0FBRSxDQUFFLENBQUMsQ0FDOUZPLFlBQVksQ0FBRSxHQUFHLEVBQUV0QyxLQUFLLENBQUN1QyxlQUFlLENBQUVULFVBQVUsRUFBRUQsUUFBUSxFQUFFRSxLQUFLLENBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFJLENBQUUsQ0FBRSxDQUFDLENBQzFGTyxZQUFZLENBQUUsS0FB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