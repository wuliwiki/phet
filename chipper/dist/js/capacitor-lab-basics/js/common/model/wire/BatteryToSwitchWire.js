// Copyright 2015-2021, University of Colorado Boulder

/**
 * Creates a wire that connects a battery to a circuit switch.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import Vector3 from '../../../../../dot/js/Vector3.js';
import capacitorLabBasics from '../../../capacitorLabBasics.js';
import CircuitPosition from '../CircuitPosition.js';
import CircuitState from '../CircuitState.js';
import Wire from './Wire.js';
import WireSegment from './WireSegment.js';
class BatteryToSwitchWire extends Wire {
  /**
   * @param {CircuitPosition} connectionPoint
   * @param {CircuitConfig} config
   * @param {Battery} battery
   * @param {CircuitSwitch} circuitSwitch
   * @param {Tandem} tandem
   */
  constructor(connectionPoint, config, battery, circuitSwitch, tandem) {
    assert && assert(_.includes(CircuitPosition.VALUES, connectionPoint));
    const segments = [];

    // y coordinate of the horizontal wire
    const horizontalY = circuitSwitch.getConnectionPoint(CircuitState.BATTERY_CONNECTED).y;
    const leftCorner = new Vector3(battery.position.x, horizontalY, 0);

    // add the vertical segment.
    let verticalSegment;
    let startPoint;
    if (connectionPoint === CircuitPosition.BATTERY_TOP) {
      startPoint = new Vector3(battery.position.x, battery.position.y + battery.getTopTerminalYOffset(), 0);
      verticalSegment = new WireSegment(startPoint, leftCorner);
      verticalSegment.update = function () {
        const point = new Vector3(battery.position.x, battery.position.y + battery.getTopTerminalYOffset(), 0);
        if (!this.startPointProperty.value.equals(point)) {
          this.startPointProperty.set(point);
        }
      };
    } else {
      // Slightly lower the bottom wire start point so we can't probe into the battery.
      // See https://github.com/phetsims/capacitor-lab-basics/issues/197
      const bottomOffset = 0.00065;
      startPoint = new Vector3(battery.position.x, battery.position.y + battery.getBottomTerminalYOffset() + bottomOffset, 0);
      verticalSegment = new WireSegment(startPoint, leftCorner);
      verticalSegment.update = function () {
        const point = new Vector3(battery.position.x, battery.position.y + battery.getBottomTerminalYOffset() + bottomOffset, 0);
        if (!this.startPointProperty.value.equals(point)) {
          this.startPointProperty.set(point);
        }
      };
    }
    segments.push(verticalSegment);

    // connect battery to switch connection point.
    let switchSegment;
    let switchConnectionPoint;
    const separationOffset = new Vector3(-0.0006, 0, 0);
    if (connectionPoint === CircuitPosition.BATTERY_TOP) {
      switchConnectionPoint = circuitSwitch.getConnectionPoint(CircuitState.BATTERY_CONNECTED);
      switchSegment = new WireSegment(leftCorner, switchConnectionPoint.plus(separationOffset));
    } else {
      switchConnectionPoint = circuitSwitch.getConnectionPoint(CircuitState.BATTERY_CONNECTED);
      switchSegment = new WireSegment(leftCorner, switchConnectionPoint.plus(separationOffset));
    }
    segments.push(switchSegment);
    super(config.modelViewTransform, segments, connectionPoint);
  }

  /**
   * Factory function for BatteryToSwitchWire (bottom side)
   * @public
   *
   * @param {CircuitConfig} config
   * @param {Battery} battery
   * @param {CircuitSwitch} circuitSwitch
   * @param {Tandem} tandem
   * @returns {BatteryToSwitchWire}
   */
  static createBatteryToSwitchWireBottom(config, battery, circuitSwitch, tandem) {
    return new BatteryToSwitchWire(CircuitPosition.BATTERY_BOTTOM, config, battery, circuitSwitch, tandem);
  }

  /**
   * Factory function for BatteryToSwitchWire (top side)
   * @public
   *
   * @param {CircuitConfig} config
   * @param {Battery} battery
   * @param {CircuitSwitch} circuitSwitch
   * @param {Tandem} tandem
   * @returns {BatteryToSwitchWire}
   */
  static createBatteryToSwitchWireTop(config, battery, circuitSwitch) {
    return new BatteryToSwitchWire(CircuitPosition.BATTERY_TOP, config, battery, circuitSwitch);
  }
}
capacitorLabBasics.register('BatteryToSwitchWire', BatteryToSwitchWire);
export default BatteryToSwitchWire;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWZWN0b3IzIiwiY2FwYWNpdG9yTGFiQmFzaWNzIiwiQ2lyY3VpdFBvc2l0aW9uIiwiQ2lyY3VpdFN0YXRlIiwiV2lyZSIsIldpcmVTZWdtZW50IiwiQmF0dGVyeVRvU3dpdGNoV2lyZSIsImNvbnN0cnVjdG9yIiwiY29ubmVjdGlvblBvaW50IiwiY29uZmlnIiwiYmF0dGVyeSIsImNpcmN1aXRTd2l0Y2giLCJ0YW5kZW0iLCJhc3NlcnQiLCJfIiwiaW5jbHVkZXMiLCJWQUxVRVMiLCJzZWdtZW50cyIsImhvcml6b250YWxZIiwiZ2V0Q29ubmVjdGlvblBvaW50IiwiQkFUVEVSWV9DT05ORUNURUQiLCJ5IiwibGVmdENvcm5lciIsInBvc2l0aW9uIiwieCIsInZlcnRpY2FsU2VnbWVudCIsInN0YXJ0UG9pbnQiLCJCQVRURVJZX1RPUCIsImdldFRvcFRlcm1pbmFsWU9mZnNldCIsInVwZGF0ZSIsInBvaW50Iiwic3RhcnRQb2ludFByb3BlcnR5IiwidmFsdWUiLCJlcXVhbHMiLCJzZXQiLCJib3R0b21PZmZzZXQiLCJnZXRCb3R0b21UZXJtaW5hbFlPZmZzZXQiLCJwdXNoIiwic3dpdGNoU2VnbWVudCIsInN3aXRjaENvbm5lY3Rpb25Qb2ludCIsInNlcGFyYXRpb25PZmZzZXQiLCJwbHVzIiwibW9kZWxWaWV3VHJhbnNmb3JtIiwiY3JlYXRlQmF0dGVyeVRvU3dpdGNoV2lyZUJvdHRvbSIsIkJBVFRFUllfQk9UVE9NIiwiY3JlYXRlQmF0dGVyeVRvU3dpdGNoV2lyZVRvcCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQmF0dGVyeVRvU3dpdGNoV2lyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNS0yMDIxLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgd2lyZSB0aGF0IGNvbm5lY3RzIGEgYmF0dGVyeSB0byBhIGNpcmN1aXQgc3dpdGNoLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEplc3NlIEdyZWVuYmVyZyAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgVmVjdG9yMyBmcm9tICcuLi8uLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMy5qcyc7XHJcbmltcG9ydCBjYXBhY2l0b3JMYWJCYXNpY3MgZnJvbSAnLi4vLi4vLi4vY2FwYWNpdG9yTGFiQmFzaWNzLmpzJztcclxuaW1wb3J0IENpcmN1aXRQb3NpdGlvbiBmcm9tICcuLi9DaXJjdWl0UG9zaXRpb24uanMnO1xyXG5pbXBvcnQgQ2lyY3VpdFN0YXRlIGZyb20gJy4uL0NpcmN1aXRTdGF0ZS5qcyc7XHJcbmltcG9ydCBXaXJlIGZyb20gJy4vV2lyZS5qcyc7XHJcbmltcG9ydCBXaXJlU2VnbWVudCBmcm9tICcuL1dpcmVTZWdtZW50LmpzJztcclxuXHJcbmNsYXNzIEJhdHRlcnlUb1N3aXRjaFdpcmUgZXh0ZW5kcyBXaXJlIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge0NpcmN1aXRQb3NpdGlvbn0gY29ubmVjdGlvblBvaW50XHJcbiAgICogQHBhcmFtIHtDaXJjdWl0Q29uZmlnfSBjb25maWdcclxuICAgKiBAcGFyYW0ge0JhdHRlcnl9IGJhdHRlcnlcclxuICAgKiBAcGFyYW0ge0NpcmN1aXRTd2l0Y2h9IGNpcmN1aXRTd2l0Y2hcclxuICAgKiBAcGFyYW0ge1RhbmRlbX0gdGFuZGVtXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIGNvbm5lY3Rpb25Qb2ludCwgY29uZmlnLCBiYXR0ZXJ5LCBjaXJjdWl0U3dpdGNoLCB0YW5kZW0gKSB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBfLmluY2x1ZGVzKCBDaXJjdWl0UG9zaXRpb24uVkFMVUVTLCBjb25uZWN0aW9uUG9pbnQgKSApO1xyXG5cclxuICAgIGNvbnN0IHNlZ21lbnRzID0gW107XHJcblxyXG4gICAgLy8geSBjb29yZGluYXRlIG9mIHRoZSBob3Jpem9udGFsIHdpcmVcclxuICAgIGNvbnN0IGhvcml6b250YWxZID0gY2lyY3VpdFN3aXRjaC5nZXRDb25uZWN0aW9uUG9pbnQoIENpcmN1aXRTdGF0ZS5CQVRURVJZX0NPTk5FQ1RFRCApLnk7XHJcbiAgICBjb25zdCBsZWZ0Q29ybmVyID0gbmV3IFZlY3RvcjMoIGJhdHRlcnkucG9zaXRpb24ueCwgaG9yaXpvbnRhbFksIDAgKTtcclxuXHJcbiAgICAvLyBhZGQgdGhlIHZlcnRpY2FsIHNlZ21lbnQuXHJcbiAgICBsZXQgdmVydGljYWxTZWdtZW50O1xyXG4gICAgbGV0IHN0YXJ0UG9pbnQ7XHJcbiAgICBpZiAoIGNvbm5lY3Rpb25Qb2ludCA9PT0gQ2lyY3VpdFBvc2l0aW9uLkJBVFRFUllfVE9QICkge1xyXG4gICAgICBzdGFydFBvaW50ID0gbmV3IFZlY3RvcjMoIGJhdHRlcnkucG9zaXRpb24ueCwgYmF0dGVyeS5wb3NpdGlvbi55ICsgYmF0dGVyeS5nZXRUb3BUZXJtaW5hbFlPZmZzZXQoKSwgMCApO1xyXG4gICAgICB2ZXJ0aWNhbFNlZ21lbnQgPSBuZXcgV2lyZVNlZ21lbnQoIHN0YXJ0UG9pbnQsIGxlZnRDb3JuZXIgKTtcclxuICAgICAgdmVydGljYWxTZWdtZW50LnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IFZlY3RvcjMoIGJhdHRlcnkucG9zaXRpb24ueCwgYmF0dGVyeS5wb3NpdGlvbi55ICsgYmF0dGVyeS5nZXRUb3BUZXJtaW5hbFlPZmZzZXQoKSwgMCApO1xyXG4gICAgICAgIGlmICggIXRoaXMuc3RhcnRQb2ludFByb3BlcnR5LnZhbHVlLmVxdWFscyggcG9pbnQgKSApIHtcclxuICAgICAgICAgIHRoaXMuc3RhcnRQb2ludFByb3BlcnR5LnNldCggcG9pbnQgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuXHJcbiAgICAgIC8vIFNsaWdodGx5IGxvd2VyIHRoZSBib3R0b20gd2lyZSBzdGFydCBwb2ludCBzbyB3ZSBjYW4ndCBwcm9iZSBpbnRvIHRoZSBiYXR0ZXJ5LlxyXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL2NhcGFjaXRvci1sYWItYmFzaWNzL2lzc3Vlcy8xOTdcclxuICAgICAgY29uc3QgYm90dG9tT2Zmc2V0ID0gMC4wMDA2NTtcclxuICAgICAgc3RhcnRQb2ludCA9IG5ldyBWZWN0b3IzKCBiYXR0ZXJ5LnBvc2l0aW9uLngsIGJhdHRlcnkucG9zaXRpb24ueSArIGJhdHRlcnkuZ2V0Qm90dG9tVGVybWluYWxZT2Zmc2V0KCkgKyBib3R0b21PZmZzZXQsIDAgKTtcclxuICAgICAgdmVydGljYWxTZWdtZW50ID0gbmV3IFdpcmVTZWdtZW50KCBzdGFydFBvaW50LCBsZWZ0Q29ybmVyICk7XHJcbiAgICAgIHZlcnRpY2FsU2VnbWVudC51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBWZWN0b3IzKCBiYXR0ZXJ5LnBvc2l0aW9uLngsIGJhdHRlcnkucG9zaXRpb24ueSArIGJhdHRlcnkuZ2V0Qm90dG9tVGVybWluYWxZT2Zmc2V0KCkgKyBib3R0b21PZmZzZXQsIDAgKTtcclxuICAgICAgICBpZiAoICF0aGlzLnN0YXJ0UG9pbnRQcm9wZXJ0eS52YWx1ZS5lcXVhbHMoIHBvaW50ICkgKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXJ0UG9pbnRQcm9wZXJ0eS5zZXQoIHBvaW50ICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHNlZ21lbnRzLnB1c2goIHZlcnRpY2FsU2VnbWVudCApO1xyXG5cclxuICAgIC8vIGNvbm5lY3QgYmF0dGVyeSB0byBzd2l0Y2ggY29ubmVjdGlvbiBwb2ludC5cclxuICAgIGxldCBzd2l0Y2hTZWdtZW50O1xyXG4gICAgbGV0IHN3aXRjaENvbm5lY3Rpb25Qb2ludDtcclxuICAgIGNvbnN0IHNlcGFyYXRpb25PZmZzZXQgPSBuZXcgVmVjdG9yMyggLTAuMDAwNiwgMCwgMCApO1xyXG5cclxuICAgIGlmICggY29ubmVjdGlvblBvaW50ID09PSBDaXJjdWl0UG9zaXRpb24uQkFUVEVSWV9UT1AgKSB7XHJcbiAgICAgIHN3aXRjaENvbm5lY3Rpb25Qb2ludCA9IGNpcmN1aXRTd2l0Y2guZ2V0Q29ubmVjdGlvblBvaW50KCBDaXJjdWl0U3RhdGUuQkFUVEVSWV9DT05ORUNURUQgKTtcclxuICAgICAgc3dpdGNoU2VnbWVudCA9IG5ldyBXaXJlU2VnbWVudChcclxuICAgICAgICBsZWZ0Q29ybmVyLFxyXG4gICAgICAgIHN3aXRjaENvbm5lY3Rpb25Qb2ludC5wbHVzKCBzZXBhcmF0aW9uT2Zmc2V0IClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBzd2l0Y2hDb25uZWN0aW9uUG9pbnQgPSBjaXJjdWl0U3dpdGNoLmdldENvbm5lY3Rpb25Qb2ludCggQ2lyY3VpdFN0YXRlLkJBVFRFUllfQ09OTkVDVEVEICk7XHJcbiAgICAgIHN3aXRjaFNlZ21lbnQgPSBuZXcgV2lyZVNlZ21lbnQoXHJcbiAgICAgICAgbGVmdENvcm5lcixcclxuICAgICAgICBzd2l0Y2hDb25uZWN0aW9uUG9pbnQucGx1cyggc2VwYXJhdGlvbk9mZnNldCApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VnbWVudHMucHVzaCggc3dpdGNoU2VnbWVudCApO1xyXG4gICAgc3VwZXIoIGNvbmZpZy5tb2RlbFZpZXdUcmFuc2Zvcm0sIHNlZ21lbnRzLCBjb25uZWN0aW9uUG9pbnQgKTtcclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiBGYWN0b3J5IGZ1bmN0aW9uIGZvciBCYXR0ZXJ5VG9Td2l0Y2hXaXJlIChib3R0b20gc2lkZSlcclxuICAgKiBAcHVibGljXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0NpcmN1aXRDb25maWd9IGNvbmZpZ1xyXG4gICAqIEBwYXJhbSB7QmF0dGVyeX0gYmF0dGVyeVxyXG4gICAqIEBwYXJhbSB7Q2lyY3VpdFN3aXRjaH0gY2lyY3VpdFN3aXRjaFxyXG4gICAqIEBwYXJhbSB7VGFuZGVtfSB0YW5kZW1cclxuICAgKiBAcmV0dXJucyB7QmF0dGVyeVRvU3dpdGNoV2lyZX1cclxuICAgKi9cclxuICBzdGF0aWMgY3JlYXRlQmF0dGVyeVRvU3dpdGNoV2lyZUJvdHRvbSggY29uZmlnLCBiYXR0ZXJ5LCBjaXJjdWl0U3dpdGNoLCB0YW5kZW0gKSB7XHJcbiAgICByZXR1cm4gbmV3IEJhdHRlcnlUb1N3aXRjaFdpcmUoIENpcmN1aXRQb3NpdGlvbi5CQVRURVJZX0JPVFRPTSwgY29uZmlnLCBiYXR0ZXJ5LCBjaXJjdWl0U3dpdGNoLCB0YW5kZW0gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZhY3RvcnkgZnVuY3Rpb24gZm9yIEJhdHRlcnlUb1N3aXRjaFdpcmUgKHRvcCBzaWRlKVxyXG4gICAqIEBwdWJsaWNcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Q2lyY3VpdENvbmZpZ30gY29uZmlnXHJcbiAgICogQHBhcmFtIHtCYXR0ZXJ5fSBiYXR0ZXJ5XHJcbiAgICogQHBhcmFtIHtDaXJjdWl0U3dpdGNofSBjaXJjdWl0U3dpdGNoXHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqIEByZXR1cm5zIHtCYXR0ZXJ5VG9Td2l0Y2hXaXJlfVxyXG4gICAqL1xyXG4gIHN0YXRpYyBjcmVhdGVCYXR0ZXJ5VG9Td2l0Y2hXaXJlVG9wKCBjb25maWcsIGJhdHRlcnksIGNpcmN1aXRTd2l0Y2ggKSB7XHJcbiAgICByZXR1cm4gbmV3IEJhdHRlcnlUb1N3aXRjaFdpcmUoIENpcmN1aXRQb3NpdGlvbi5CQVRURVJZX1RPUCwgY29uZmlnLCBiYXR0ZXJ5LCBjaXJjdWl0U3dpdGNoICk7XHJcbiAgfVxyXG59XHJcblxyXG5jYXBhY2l0b3JMYWJCYXNpY3MucmVnaXN0ZXIoICdCYXR0ZXJ5VG9Td2l0Y2hXaXJlJywgQmF0dGVyeVRvU3dpdGNoV2lyZSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQmF0dGVyeVRvU3dpdGNoV2lyZTtc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