// Copyright 2015-2022, University of Colorado Boulder

/**
 * "Capacitance" ScreenView for Capacitor Lab Basics.  Assembles the view from a CapacitanceCircuit and panels.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import Vector2 from '../../../../dot/js/Vector2.js';
import ScreenView from '../../../../joist/js/ScreenView.js';
import ResetAllButton from '../../../../scenery-phet/js/buttons/ResetAllButton.js';
import capacitorLabBasics from '../../capacitorLabBasics.js';
import BarMeterPanel from '../../common/view/BarMeterPanel.js';
import CLBViewControlPanel from '../../common/view/control/CLBViewControlPanel.js';
import ToolboxPanel from '../../common/view/control/ToolboxPanel.js';
import DebugLayer from '../../common/view/DebugLayer.js';
import VoltmeterNode from '../../common/view/meters/VoltmeterNode.js';
import CapacitanceCircuitNode from './CapacitanceCircuitNode.js';
class CapacitanceScreenView extends ScreenView {
  /**
   * @param {CLBModel} model
   * @param {Tandem} tandem
   */
  constructor(model, tandem) {
    super({
      tandem: tandem
    });

    // @private {YawPitchModelViewTransform3}
    this.modelViewTransform = model.modelViewTransform;

    // @private {CLBModel}
    this.model = model;

    // @private {CapacitanceCircuitNode} circuit
    this.capacitanceCircuitNode = new CapacitanceCircuitNode(model, tandem.createTandem('capacitanceCircuitNode'));

    // meters
    const voltmeterNode = new VoltmeterNode(model.voltmeter, this.modelViewTransform, model.voltmeterVisibleProperty, tandem.createTandem('voltmeterNode'));
    const toolboxPanel = new ToolboxPanel(null, voltmeterNode, this.modelViewTransform, model.voltmeter.isDraggedProperty, model.stopwatch, model.voltmeterVisibleProperty, tandem.createTandem('toolboxPanel'), {
      includeTimer: false
    });

    // control
    const viewControlPanel = new CLBViewControlPanel(model, tandem.createTandem('viewControlPanel'), {
      maxTextWidth: 200
    });
    viewControlPanel.rightTop = this.layoutBounds.rightTop.plus(new Vector2(-10, 10));
    toolboxPanel.rightTop = viewControlPanel.rightBottom.plus(new Vector2(0, 10));
    const capacitanceBarMeterPanel = new BarMeterPanel(model, tandem.createTandem('barMeterPanel'));
    capacitanceBarMeterPanel.left = this.capacitanceCircuitNode.topWireNode.left - 40;
    capacitanceBarMeterPanel.top = this.layoutBounds.top + 10;
    const resetAllButton = new ResetAllButton({
      listener: () => {
        model.reset();
      },
      bottom: this.layoutBounds.bottom - 30,
      right: this.layoutBounds.right - 30,
      radius: 25,
      tandem: tandem.createTandem('resetAllButton')
    });

    // rendering order
    this.addChild(this.capacitanceCircuitNode);
    this.addChild(capacitanceBarMeterPanel);
    this.addChild(viewControlPanel);
    this.addChild(toolboxPanel);
    this.addChild(voltmeterNode);
    this.addChild(resetAllButton);
    this.addChild(new DebugLayer(model));

    // Explicitly set reset all button z-order
    resetAllButton.moveToBack();
  }
}
capacitorLabBasics.register('CapacitanceScreenView', CapacitanceScreenView);
export default CapacitanceScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWZWN0b3IyIiwiU2NyZWVuVmlldyIsIlJlc2V0QWxsQnV0dG9uIiwiY2FwYWNpdG9yTGFiQmFzaWNzIiwiQmFyTWV0ZXJQYW5lbCIsIkNMQlZpZXdDb250cm9sUGFuZWwiLCJUb29sYm94UGFuZWwiLCJEZWJ1Z0xheWVyIiwiVm9sdG1ldGVyTm9kZSIsIkNhcGFjaXRhbmNlQ2lyY3VpdE5vZGUiLCJDYXBhY2l0YW5jZVNjcmVlblZpZXciLCJjb25zdHJ1Y3RvciIsIm1vZGVsIiwidGFuZGVtIiwibW9kZWxWaWV3VHJhbnNmb3JtIiwiY2FwYWNpdGFuY2VDaXJjdWl0Tm9kZSIsImNyZWF0ZVRhbmRlbSIsInZvbHRtZXRlck5vZGUiLCJ2b2x0bWV0ZXIiLCJ2b2x0bWV0ZXJWaXNpYmxlUHJvcGVydHkiLCJ0b29sYm94UGFuZWwiLCJpc0RyYWdnZWRQcm9wZXJ0eSIsInN0b3B3YXRjaCIsImluY2x1ZGVUaW1lciIsInZpZXdDb250cm9sUGFuZWwiLCJtYXhUZXh0V2lkdGgiLCJyaWdodFRvcCIsImxheW91dEJvdW5kcyIsInBsdXMiLCJyaWdodEJvdHRvbSIsImNhcGFjaXRhbmNlQmFyTWV0ZXJQYW5lbCIsImxlZnQiLCJ0b3BXaXJlTm9kZSIsInRvcCIsInJlc2V0QWxsQnV0dG9uIiwibGlzdGVuZXIiLCJyZXNldCIsImJvdHRvbSIsInJpZ2h0IiwicmFkaXVzIiwiYWRkQ2hpbGQiLCJtb3ZlVG9CYWNrIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJDYXBhY2l0YW5jZVNjcmVlblZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTUtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogXCJDYXBhY2l0YW5jZVwiIFNjcmVlblZpZXcgZm9yIENhcGFjaXRvciBMYWIgQmFzaWNzLiAgQXNzZW1ibGVzIHRoZSB2aWV3IGZyb20gYSBDYXBhY2l0YW5jZUNpcmN1aXQgYW5kIHBhbmVscy5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICogQGF1dGhvciBKZXNzZSBHcmVlbmJlcmcgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgU2NyZWVuVmlldyBmcm9tICcuLi8uLi8uLi8uLi9qb2lzdC9qcy9TY3JlZW5WaWV3LmpzJztcclxuaW1wb3J0IFJlc2V0QWxsQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9idXR0b25zL1Jlc2V0QWxsQnV0dG9uLmpzJztcclxuaW1wb3J0IGNhcGFjaXRvckxhYkJhc2ljcyBmcm9tICcuLi8uLi9jYXBhY2l0b3JMYWJCYXNpY3MuanMnO1xyXG5pbXBvcnQgQmFyTWV0ZXJQYW5lbCBmcm9tICcuLi8uLi9jb21tb24vdmlldy9CYXJNZXRlclBhbmVsLmpzJztcclxuaW1wb3J0IENMQlZpZXdDb250cm9sUGFuZWwgZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXcvY29udHJvbC9DTEJWaWV3Q29udHJvbFBhbmVsLmpzJztcclxuaW1wb3J0IFRvb2xib3hQYW5lbCBmcm9tICcuLi8uLi9jb21tb24vdmlldy9jb250cm9sL1Rvb2xib3hQYW5lbC5qcyc7XHJcbmltcG9ydCBEZWJ1Z0xheWVyIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L0RlYnVnTGF5ZXIuanMnO1xyXG5pbXBvcnQgVm9sdG1ldGVyTm9kZSBmcm9tICcuLi8uLi9jb21tb24vdmlldy9tZXRlcnMvVm9sdG1ldGVyTm9kZS5qcyc7XHJcbmltcG9ydCBDYXBhY2l0YW5jZUNpcmN1aXROb2RlIGZyb20gJy4vQ2FwYWNpdGFuY2VDaXJjdWl0Tm9kZS5qcyc7XHJcblxyXG5jbGFzcyBDYXBhY2l0YW5jZVNjcmVlblZpZXcgZXh0ZW5kcyBTY3JlZW5WaWV3IHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtDTEJNb2RlbH0gbW9kZWxcclxuICAgKiBAcGFyYW0ge1RhbmRlbX0gdGFuZGVtXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIG1vZGVsLCB0YW5kZW0gKSB7XHJcblxyXG4gICAgc3VwZXIoIHsgdGFuZGVtOiB0YW5kZW0gfSApO1xyXG5cclxuICAgIC8vIEBwcml2YXRlIHtZYXdQaXRjaE1vZGVsVmlld1RyYW5zZm9ybTN9XHJcbiAgICB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybSA9IG1vZGVsLm1vZGVsVmlld1RyYW5zZm9ybTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSB7Q0xCTW9kZWx9XHJcbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XHJcblxyXG4gICAgLy8gQHByaXZhdGUge0NhcGFjaXRhbmNlQ2lyY3VpdE5vZGV9IGNpcmN1aXRcclxuICAgIHRoaXMuY2FwYWNpdGFuY2VDaXJjdWl0Tm9kZSA9IG5ldyBDYXBhY2l0YW5jZUNpcmN1aXROb2RlKCBtb2RlbCwgdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2NhcGFjaXRhbmNlQ2lyY3VpdE5vZGUnICkgKTtcclxuXHJcbiAgICAvLyBtZXRlcnNcclxuICAgIGNvbnN0IHZvbHRtZXRlck5vZGUgPSBuZXcgVm9sdG1ldGVyTm9kZSggbW9kZWwudm9sdG1ldGVyLCB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybSwgbW9kZWwudm9sdG1ldGVyVmlzaWJsZVByb3BlcnR5LCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAndm9sdG1ldGVyTm9kZScgKSApO1xyXG5cclxuICAgIGNvbnN0IHRvb2xib3hQYW5lbCA9IG5ldyBUb29sYm94UGFuZWwoXHJcbiAgICAgIG51bGwsXHJcbiAgICAgIHZvbHRtZXRlck5vZGUsXHJcbiAgICAgIHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLFxyXG4gICAgICBtb2RlbC52b2x0bWV0ZXIuaXNEcmFnZ2VkUHJvcGVydHksXHJcbiAgICAgIG1vZGVsLnN0b3B3YXRjaCxcclxuICAgICAgbW9kZWwudm9sdG1ldGVyVmlzaWJsZVByb3BlcnR5LFxyXG4gICAgICB0YW5kZW0uY3JlYXRlVGFuZGVtKCAndG9vbGJveFBhbmVsJyApLCB7XHJcbiAgICAgICAgaW5jbHVkZVRpbWVyOiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIC8vIGNvbnRyb2xcclxuICAgIGNvbnN0IHZpZXdDb250cm9sUGFuZWwgPSBuZXcgQ0xCVmlld0NvbnRyb2xQYW5lbCggbW9kZWwsIHRhbmRlbS5jcmVhdGVUYW5kZW0oICd2aWV3Q29udHJvbFBhbmVsJyApLCB7XHJcbiAgICAgIG1heFRleHRXaWR0aDogMjAwXHJcbiAgICB9ICk7XHJcbiAgICB2aWV3Q29udHJvbFBhbmVsLnJpZ2h0VG9wID0gdGhpcy5sYXlvdXRCb3VuZHMucmlnaHRUb3AucGx1cyggbmV3IFZlY3RvcjIoIC0xMCwgMTAgKSApO1xyXG4gICAgdG9vbGJveFBhbmVsLnJpZ2h0VG9wID0gdmlld0NvbnRyb2xQYW5lbC5yaWdodEJvdHRvbS5wbHVzKCBuZXcgVmVjdG9yMiggMCwgMTAgKSApO1xyXG5cclxuICAgIGNvbnN0IGNhcGFjaXRhbmNlQmFyTWV0ZXJQYW5lbCA9IG5ldyBCYXJNZXRlclBhbmVsKFxyXG4gICAgICBtb2RlbCxcclxuICAgICAgdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2Jhck1ldGVyUGFuZWwnIClcclxuICAgICk7XHJcbiAgICBjYXBhY2l0YW5jZUJhck1ldGVyUGFuZWwubGVmdCA9IHRoaXMuY2FwYWNpdGFuY2VDaXJjdWl0Tm9kZS50b3BXaXJlTm9kZS5sZWZ0IC0gNDA7XHJcbiAgICBjYXBhY2l0YW5jZUJhck1ldGVyUGFuZWwudG9wID0gdGhpcy5sYXlvdXRCb3VuZHMudG9wICsgMTA7XHJcblxyXG4gICAgY29uc3QgcmVzZXRBbGxCdXR0b24gPSBuZXcgUmVzZXRBbGxCdXR0b24oIHtcclxuICAgICAgbGlzdGVuZXI6ICgpID0+IHtcclxuICAgICAgICBtb2RlbC5yZXNldCgpO1xyXG4gICAgICB9LFxyXG4gICAgICBib3R0b206IHRoaXMubGF5b3V0Qm91bmRzLmJvdHRvbSAtIDMwLFxyXG4gICAgICByaWdodDogdGhpcy5sYXlvdXRCb3VuZHMucmlnaHQgLSAzMCxcclxuICAgICAgcmFkaXVzOiAyNSxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncmVzZXRBbGxCdXR0b24nIClcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyByZW5kZXJpbmcgb3JkZXJcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHRoaXMuY2FwYWNpdGFuY2VDaXJjdWl0Tm9kZSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggY2FwYWNpdGFuY2VCYXJNZXRlclBhbmVsICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB2aWV3Q29udHJvbFBhbmVsICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB0b29sYm94UGFuZWwgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHZvbHRtZXRlck5vZGUgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHJlc2V0QWxsQnV0dG9uICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBuZXcgRGVidWdMYXllciggbW9kZWwgKSApO1xyXG5cclxuICAgIC8vIEV4cGxpY2l0bHkgc2V0IHJlc2V0IGFsbCBidXR0b24gei1vcmRlclxyXG4gICAgcmVzZXRBbGxCdXR0b24ubW92ZVRvQmFjaygpO1xyXG4gIH1cclxufVxyXG5cclxuY2FwYWNpdG9yTGFiQmFzaWNzLnJlZ2lzdGVyKCAnQ2FwYWNpdGFuY2VTY3JlZW5WaWV3JywgQ2FwYWNpdGFuY2VTY3JlZW5WaWV3ICk7XHJcbmV4cG9ydCBkZWZhdWx0IENhcGFjaXRhbmNlU2NyZWVuVmlldzsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxPQUFPLE1BQU0sK0JBQStCO0FBQ25ELE9BQU9DLFVBQVUsTUFBTSxvQ0FBb0M7QUFDM0QsT0FBT0MsY0FBYyxNQUFNLHVEQUF1RDtBQUNsRixPQUFPQyxrQkFBa0IsTUFBTSw2QkFB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