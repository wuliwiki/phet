// Copyright 2017-2022, University of Colorado Boulder

/**
 * Describes a section of continuous overlap (multiple overlapping points) between two segments.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import { kite } from '../imports.js';
export default class Overlap {
  // Initial and ending t-values for the first curve (t0,t1) and second curve (qt0,qt1).

  /**
   * Creates an overlap based on two segments with their t-values (parametric value) within the range of [0,1]
   * (inclusive). The t value from the first curve can be mapped to an equivalent t value from the second curve such
   * that first( t ) === second( a * t + b ).
   *
   * Endpoint values for the actual overlap will be computed, such that
   * - first( t0 ) === second( qt0 )
   * - first( t1 ) === second( qt1 )
   * - All of those t values are in the range [0,1]
   */
  constructor(a, b) {
    assert && assert(isFinite(a) && a !== 0, 'a should be a finite non-zero number');
    assert && assert(isFinite(b), 'b should be a finite number');
    this.a = a;
    this.b = b;
    let t0 = 0;
    let t1 = 1;
    let qt0 = this.apply(t0);
    let qt1 = this.apply(t1);
    if (qt0 > 1) {
      qt0 = 1;
      t0 = this.applyInverse(qt0);
    }
    if (qt0 < 0) {
      qt0 = 0;
      t0 = this.applyInverse(qt0);
    }
    if (qt1 > 1) {
      qt1 = 1;
      t1 = this.applyInverse(qt1);
    }
    if (qt1 < 0) {
      qt1 = 0;
      t1 = this.applyInverse(qt1);
    }

    // {number} - Initial and ending t-values for the first curve (t0,t1) and second curve (qt0,qt1).
    this.t0 = t0;
    this.t1 = t1;
    if (a > 0) {
      this.qt0 = qt0;
      this.qt1 = qt1;
    } else {
      this.qt0 = qt1;
      this.qt1 = qt0;
    }
    if (this.t0 < 0 && this.t0 > -1e-8) {
      this.t0 = 0;
    }
    if (this.t0 > 1 && this.t0 < 1 + 1e-8) {
      this.t0 = 1;
    }
    if (this.t1 < 0 && this.t1 > -1e-8) {
      this.t1 = 0;
    }
    if (this.t1 > 1 && this.t1 < 1 + 1e-8) {
      this.t1 = 1;
    }
    if (this.qt0 < 0 && this.qt0 > -1e-8) {
      this.qt0 = 0;
    }
    if (this.qt0 > 1 && this.qt0 < 1 + 1e-8) {
      this.qt0 = 1;
    }
    if (this.qt1 < 0 && this.qt1 > -1e-8) {
      this.qt1 = 0;
    }
    if (this.qt1 > 1 && this.qt1 < 1 + 1e-8) {
      this.qt1 = 1;
    }
    assert && assert(this.t0 >= 0 && this.t0 <= 1, `t0 out of range: ${this.t0}`);
    assert && assert(this.t1 >= 0 && this.t1 <= 1, `t1 out of range: ${this.t1}`);
    assert && assert(this.qt0 >= 0 && this.qt0 <= 1, `qt0 out of range: ${this.qt0}`);
    assert && assert(this.qt1 >= 0 && this.qt1 <= 1, `qt1 out of range: ${this.qt1}`);
  }

  /**
   * Maps a t value from the first curve to the second curve (assuming it is within the overlap range).
   */
  apply(t) {
    return this.a * t + this.b;
  }

  /**
   * Maps a t value from the second curve to the first curve (assuming it is within the overlap range).
   */
  applyInverse(t) {
    return (t - this.b) / this.a;
  }

  /**
   * Returns a new overlap that should map t values of a0 => b0 and a1 => b1
   */
  static createLinear(a0, b0, a1, b1) {
    const factor = (b1 - b0) / (a1 - a0);
    return new Overlap(factor, b0 - a0 * factor);
  }
}
kite.register('Overlap', Overlap);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJraXRlIiwiT3ZlcmxhcCIsImNvbnN0cnVjdG9yIiwiYSIsImIiLCJhc3NlcnQiLCJpc0Zpbml0ZSIsInQwIiwidDEiLCJxdDAiLCJhcHBseSIsInF0MSIsImFwcGx5SW52ZXJzZSIsInQiLCJjcmVhdGVMaW5lYXIiLCJhMCIsImIwIiwiYTEiLCJiMSIsImZhY3RvciIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiT3ZlcmxhcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNy0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBEZXNjcmliZXMgYSBzZWN0aW9uIG9mIGNvbnRpbnVvdXMgb3ZlcmxhcCAobXVsdGlwbGUgb3ZlcmxhcHBpbmcgcG9pbnRzKSBiZXR3ZWVuIHR3byBzZWdtZW50cy5cclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGtpdGUgfSBmcm9tICcuLi9pbXBvcnRzLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE92ZXJsYXAge1xyXG5cclxuICBwdWJsaWMgYTogbnVtYmVyO1xyXG4gIHB1YmxpYyBiOiBudW1iZXI7XHJcblxyXG4gIC8vIEluaXRpYWwgYW5kIGVuZGluZyB0LXZhbHVlcyBmb3IgdGhlIGZpcnN0IGN1cnZlICh0MCx0MSkgYW5kIHNlY29uZCBjdXJ2ZSAocXQwLHF0MSkuXHJcbiAgcHVibGljIHQwOiBudW1iZXI7XHJcbiAgcHVibGljIHQxOiBudW1iZXI7XHJcbiAgcHVibGljIHF0MDogbnVtYmVyO1xyXG4gIHB1YmxpYyBxdDE6IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhbiBvdmVybGFwIGJhc2VkIG9uIHR3byBzZWdtZW50cyB3aXRoIHRoZWlyIHQtdmFsdWVzIChwYXJhbWV0cmljIHZhbHVlKSB3aXRoaW4gdGhlIHJhbmdlIG9mIFswLDFdXHJcbiAgICogKGluY2x1c2l2ZSkuIFRoZSB0IHZhbHVlIGZyb20gdGhlIGZpcnN0IGN1cnZlIGNhbiBiZSBtYXBwZWQgdG8gYW4gZXF1aXZhbGVudCB0IHZhbHVlIGZyb20gdGhlIHNlY29uZCBjdXJ2ZSBzdWNoXHJcbiAgICogdGhhdCBmaXJzdCggdCApID09PSBzZWNvbmQoIGEgKiB0ICsgYiApLlxyXG4gICAqXHJcbiAgICogRW5kcG9pbnQgdmFsdWVzIGZvciB0aGUgYWN0dWFsIG92ZXJsYXAgd2lsbCBiZSBjb21wdXRlZCwgc3VjaCB0aGF0XHJcbiAgICogLSBmaXJzdCggdDAgKSA9PT0gc2Vjb25kKCBxdDAgKVxyXG4gICAqIC0gZmlyc3QoIHQxICkgPT09IHNlY29uZCggcXQxIClcclxuICAgKiAtIEFsbCBvZiB0aG9zZSB0IHZhbHVlcyBhcmUgaW4gdGhlIHJhbmdlIFswLDFdXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBhOiBudW1iZXIsIGI6IG51bWJlciApIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGlzRmluaXRlKCBhICkgJiYgYSAhPT0gMCxcclxuICAgICAgJ2Egc2hvdWxkIGJlIGEgZmluaXRlIG5vbi16ZXJvIG51bWJlcicgKTtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGlzRmluaXRlKCBiICksXHJcbiAgICAgICdiIHNob3VsZCBiZSBhIGZpbml0ZSBudW1iZXInICk7XHJcblxyXG4gICAgdGhpcy5hID0gYTtcclxuICAgIHRoaXMuYiA9IGI7XHJcblxyXG4gICAgbGV0IHQwID0gMDtcclxuICAgIGxldCB0MSA9IDE7XHJcbiAgICBsZXQgcXQwID0gdGhpcy5hcHBseSggdDAgKTtcclxuICAgIGxldCBxdDEgPSB0aGlzLmFwcGx5KCB0MSApO1xyXG5cclxuICAgIGlmICggcXQwID4gMSApIHtcclxuICAgICAgcXQwID0gMTtcclxuICAgICAgdDAgPSB0aGlzLmFwcGx5SW52ZXJzZSggcXQwICk7XHJcbiAgICB9XHJcbiAgICBpZiAoIHF0MCA8IDAgKSB7XHJcbiAgICAgIHF0MCA9IDA7XHJcbiAgICAgIHQwID0gdGhpcy5hcHBseUludmVyc2UoIHF0MCApO1xyXG4gICAgfVxyXG4gICAgaWYgKCBxdDEgPiAxICkge1xyXG4gICAgICBxdDEgPSAxO1xyXG4gICAgICB0MSA9IHRoaXMuYXBwbHlJbnZlcnNlKCBxdDEgKTtcclxuICAgIH1cclxuICAgIGlmICggcXQxIDwgMCApIHtcclxuICAgICAgcXQxID0gMDtcclxuICAgICAgdDEgPSB0aGlzLmFwcGx5SW52ZXJzZSggcXQxICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8ge251bWJlcn0gLSBJbml0aWFsIGFuZCBlbmRpbmcgdC12YWx1ZXMgZm9yIHRoZSBmaXJzdCBjdXJ2ZSAodDAsdDEpIGFuZCBzZWNvbmQgY3VydmUgKHF0MCxxdDEpLlxyXG4gICAgdGhpcy50MCA9IHQwO1xyXG4gICAgdGhpcy50MSA9IHQxO1xyXG4gICAgaWYgKCBhID4gMCApIHtcclxuICAgICAgdGhpcy5xdDAgPSBxdDA7XHJcbiAgICAgIHRoaXMucXQxID0gcXQxO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMucXQwID0gcXQxO1xyXG4gICAgICB0aGlzLnF0MSA9IHF0MDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIHRoaXMudDAgPCAwICYmIHRoaXMudDAgPiAtMWUtOCApIHsgdGhpcy50MCA9IDA7IH1cclxuICAgIGlmICggdGhpcy50MCA+IDEgJiYgdGhpcy50MCA8IDEgKyAxZS04ICkgeyB0aGlzLnQwID0gMTsgfVxyXG5cclxuICAgIGlmICggdGhpcy50MSA8IDAgJiYgdGhpcy50MSA+IC0xZS04ICkgeyB0aGlzLnQxID0gMDsgfVxyXG4gICAgaWYgKCB0aGlzLnQxID4gMSAmJiB0aGlzLnQxIDwgMSArIDFlLTggKSB7IHRoaXMudDEgPSAxOyB9XHJcblxyXG4gICAgaWYgKCB0aGlzLnF0MCA8IDAgJiYgdGhpcy5xdDAgPiAtMWUtOCApIHsgdGhpcy5xdDAgPSAwOyB9XHJcbiAgICBpZiAoIHRoaXMucXQwID4gMSAmJiB0aGlzLnF0MCA8IDEgKyAxZS04ICkgeyB0aGlzLnF0MCA9IDE7IH1cclxuXHJcbiAgICBpZiAoIHRoaXMucXQxIDwgMCAmJiB0aGlzLnF0MSA+IC0xZS04ICkgeyB0aGlzLnF0MSA9IDA7IH1cclxuICAgIGlmICggdGhpcy5xdDEgPiAxICYmIHRoaXMucXQxIDwgMSArIDFlLTggKSB7IHRoaXMucXQxID0gMTsgfVxyXG5cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIHRoaXMudDAgPj0gMCAmJiB0aGlzLnQwIDw9IDEsIGB0MCBvdXQgb2YgcmFuZ2U6ICR7dGhpcy50MH1gICk7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCB0aGlzLnQxID49IDAgJiYgdGhpcy50MSA8PSAxLCBgdDEgb3V0IG9mIHJhbmdlOiAke3RoaXMudDF9YCApO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggdGhpcy5xdDAgPj0gMCAmJiB0aGlzLnF0MCA8PSAxLCBgcXQwIG91dCBvZiByYW5nZTogJHt0aGlzLnF0MH1gICk7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCB0aGlzLnF0MSA+PSAwICYmIHRoaXMucXQxIDw9IDEsIGBxdDEgb3V0IG9mIHJhbmdlOiAke3RoaXMucXQxfWAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1hcHMgYSB0IHZhbHVlIGZyb20gdGhlIGZpcnN0IGN1cnZlIHRvIHRoZSBzZWNvbmQgY3VydmUgKGFzc3VtaW5nIGl0IGlzIHdpdGhpbiB0aGUgb3ZlcmxhcCByYW5nZSkuXHJcbiAgICovXHJcbiAgcHVibGljIGFwcGx5KCB0OiBudW1iZXIgKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmEgKiB0ICsgdGhpcy5iO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFwcyBhIHQgdmFsdWUgZnJvbSB0aGUgc2Vjb25kIGN1cnZlIHRvIHRoZSBmaXJzdCBjdXJ2ZSAoYXNzdW1pbmcgaXQgaXMgd2l0aGluIHRoZSBvdmVybGFwIHJhbmdlKS5cclxuICAgKi9cclxuICBwdWJsaWMgYXBwbHlJbnZlcnNlKCB0OiBudW1iZXIgKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAoIHQgLSB0aGlzLmIgKSAvIHRoaXMuYTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBuZXcgb3ZlcmxhcCB0aGF0IHNob3VsZCBtYXAgdCB2YWx1ZXMgb2YgYTAgPT4gYjAgYW5kIGExID0+IGIxXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBjcmVhdGVMaW5lYXIoIGEwOiBudW1iZXIsIGIwOiBudW1iZXIsIGExOiBudW1iZXIsIGIxOiBudW1iZXIgKTogT3ZlcmxhcCB7XHJcbiAgICBjb25zdCBmYWN0b3IgPSAoIGIxIC0gYjAgKSAvICggYTEgLSBhMCApO1xyXG4gICAgcmV0dXJuIG5ldyBPdmVybGFwKCBmYWN0b3IsIGIwIC0gYTAgKiBmYWN0b3IgKTtcclxuICB9XHJcbn1cclxuXHJcbmtpdGUucmVnaXN0ZXIoICdPdmVybGFwJywgT3ZlcmxhcCApO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBU0EsSUFBSSxRQUFRLGVBQWU7QUFFcEMsZUFBZSxNQUFNQyxPQUFPLENBQUM7RUFLM0I7O0VBTUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDU0MsV0FBV0EsQ0FBRUMsQ0FBUyxFQUFFQyxDQUFTLEVBQUc7SUFDekNDLE1BQU0sSUFBSUEsTUFBTSxDQUFFQyxRQUFRLENBQUVILENBQUUsQ0FBQyxJQUFJQSxDQUFDLEtBQUssQ0FBQyxFQUN4QyxzQ0FBdUMsQ0FBQztJQUMxQ0UsTUFBTSxJQUFJQSxNQUFNLENBQUVDLFFBQVEsQ0FBRUYsQ0FBRSxDQUFDLEVBQzdCLDZCQUE4QixDQUFDO0lBRWpDLElBQUksQ0FBQ0QsQ0FBQyxHQUFHQSxDQUFDO0lBQ1YsSUFBSSxDQUFDQyxDQUFDLEdBQUdBLENBQUM7SUFFVixJQUFJRyxFQUFFLEdBQUcsQ0FBQztJQUNWLElBQUlDLEVBQUUsR0FBRyxDQUFDO0lBQ1YsSUFBSUMsR0FBRyxHQUFHLElBQUksQ0FBQ0MsS0FBSyxDQUFFSCxFQUFHLENBQUM7SUFDMUIsSUFBSUksR0FBRyxHQUFHLElBQUksQ0FBQ0QsS0FBSyxDQUFFRixFQUFHLENBQUM7SUFFMUIsSUFBS0MsR0FBRyxHQUFHLENBQUMsRUFBRztNQUNiQSxHQUFHLEdBQUcsQ0FBQztNQUNQRixFQUFFLEdBQUcsSUFBSSxDQUFDSyxZQUFZLENBQUVILEdBQUksQ0FBQztJQUMvQjtJQUNBLElBQUtBLEdBQUcsR0FBRyxDQUFDLEVBQUc7TUFDYkEsR0FBRyxHQUFHLENBQUM7TUFDUEYsRUFBRSxHQUFHLElBQUksQ0FBQ0ssWUFBWSxDQUFFSCxHQUFJLENBQUM7SUFDL0I7SUFDQSxJQUFLRSxHQUFHLEdBQUcsQ0FBQyxFQUFHO01BQ2JBLEdBQUcsR0FBRyxDQUFDO01BQ1BILEVBQUUsR0FBRyxJQUFJLENBQUNJLFlBQVksQ0FBRUQsR0FBSSxDQUFDO0lBQy9CO0lBQ0EsSUFBS0EsR0FBRyxHQUFHLENBQUMsRUFBRztNQUNiQSxHQUFHLEdBQUcsQ0FBQztNQUNQSCxFQUFFLEdBQUcsSUFBSSxDQUFDSSxZQUFZLENBQUVELEdBQUksQ0FBQztJQUMvQjs7SUFFQTtJQUNBLElBQUksQ0FBQ0osRUFBRSxHQUFHQSxFQUFFO0lBQ1osSUFBSSxDQUFDQyxFQUFFLEdBQUdBLEVBQUU7SUFDWixJQUFLTCxDQUFDLEdBQUcsQ0FBQyxFQUFHO01BQ1gsSUFBSSxDQUFDTSxHQUFHLEdBQUdBLEdBQUc7TUFDZCxJQUFJLENBQUNFLEdBQUcsR0FBR0EsR0FBRztJQUNoQixDQUFDLE1BQ0k7TUFDSCxJQUFJLENBQUNGLEdBQUcsR0FBR0UsR0FBRztNQUNkLElBQUksQ0FBQ0EsR0FBRyxHQUFHRixHQUFHO0lBQ2hCO0lBRUEsSUFBSyxJQUFJLENBQUNGLEVBQUUsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDQSxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUc7TUFBRSxJQUFJLENBQUNBLEVBQUUsR0FBRyxDQUFDO0lBQUU7SUFDckQsSUFBSyxJQUFJLENBQUNBLEVBQUUsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDQSxFQUFFLEdBQUcsQ0FBQyxHQUFHLElBQUksRUFBRztNQUFFLElBQUksQ0FBQ0EsRUFBRSxHQUFHLENBQUM7SUFBRTtJQUV4RCxJQUFLLElBQUksQ0FBQ0MsRUFBRSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUNBLEVBQUUsR0FBRyxDQUFDLElBQUksRUFBRztNQUFFLElBQUksQ0FBQ0EsRUFBRSxHQUFHLENBQUM7SUFBRTtJQUNyRCxJQUFLLElBQUksQ0FBQ0EsRUFBRSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUNBLEVBQUUsR0FBRyxDQUFDLEdBQUcsSUFBSSxFQUFHO01BQUUsSUFBSSxDQUFDQSxFQUFFLEdBQUcsQ0FBQztJQUFFO0lBRXhELElBQUssSUFBSSxDQUFDQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQ0EsR0FBRyxHQUFHLENBQUMsSUFBSSxFQUFHO01BQUUsSUFBSSxDQUFDQSxHQUFHLEdBQUcsQ0FBQztJQUFFO0lBQ3hELElBQUssSUFBSSxDQUFDQSxHQUFHLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQ0EsR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLEVBQUc7TUFBRSxJQUFJLENBQUNBLEdBQUcsR0FBRyxDQUFDO0lBQUU7SUFFM0QsSUFBSyxJQUFJLENBQUNFLEdBQUcsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDQSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUc7TUFBRSxJQUFJLENBQUNBLEdBQUcsR0FBRyxDQUFDO0lBQUU7SUFDeEQsSUFBSyxJQUFJLENBQUNBLEdBQUcsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDQSxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksRUFBRztNQUFFLElBQUksQ0FBQ0EsR0FBRyxHQUFHLENBQUM7SUFBRTtJQUUzRE4sTUFBTSxJQUFJQSxNQUFNLENBQUUsSUFBSSxDQUFDRSxFQUFFLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQ0EsRUFBRSxJQUFJLENBQUMsRUFBRyxvQkFBbUIsSUFBSSxDQUFDQSxFQUFHLEVBQUUsQ0FBQztJQUMvRUYsTUFBTSxJQUFJQSxNQUFNLENBQUUsSUFBSSxDQUFDRyxFQUFFLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQ0EsRUFBRSxJQUFJLENBQUMsRUFBRyxvQkFBbUIsSUFBSSxDQUFDQSxFQUFHLEVBQUUsQ0FBQztJQUMvRUgsTUFBTSxJQUFJQSxNQUFNLENBQUUsSUFBSSxDQUFDSSxHQUFHLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQ0EsR0FBRyxJQUFJLENBQUMsRUFBRyxxQkFBb0IsSUFBSSxDQUFDQSxHQUFJLEVBQUUsQ0FBQztJQUNuRkosTUFBTSxJQUFJQSxNQUFNLENBQUUsSUFBSSxDQUFDTSxHQUFHLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQ0EsR0FBRyxJQUFJLENBQUMsRUFBRyxxQkFBb0IsSUFBSSxDQUFDQSxHQUFJLEVBQUUsQ0FBQztFQUNyRjs7RUFFQTtBQUNGO0FBQ0E7RUFDU0QsS0FBS0EsQ0FBRUcsQ0FBUyxFQUFXO0lBQ2hDLE9BQU8sSUFBSSxDQUFDVixDQUFDLEdBQUdVLENBQUMsR0FBRyxJQUFJLENBQUNULENBQUM7RUFDNUI7O0VBRUE7QUFDRjtBQUNBO0VBQ1NRLFlBQVlBLENBQUVDLENBQVMsRUFBVztJQUN2QyxPQUFPLENBQUVBLENBQUMsR0FBRyxJQUFJLENBQUNULENBQUMsSUFBSyxJQUFJLENBQUNELENBQUM7RUFDaEM7O0VBRUE7QUFDRjtBQUNBO0VBQ0UsT0FBY1csWUFBWUEsQ0FBRUMsRUFBVSxFQUFFQyxFQUFVLEVBQUVDLEVBQVUsRUFBRUMsRUFBVSxFQUFZO0lBQ3BGLE1BQU1DLE1BQU0sR0FBRyxDQUFFRCxFQUFFLEdBQUdGLEVBQUUsS0FBT0MsRUFBRSxHQUFHRixFQUFFLENBQUU7SUFDeEMsT0FBTyxJQUFJZCxPQUFPLENBQUVrQixNQUFNLEVBQUVILEVBQUUsR0FBR0QsRUFBRSxHQUFHSSxNQUFPLENBQUM7RUFDaEQ7QUFDRjtBQUVBbkIsSUFBSSxDQUFDb0IsUUFBUSxDQUFFLFNBQVMsRUFBRW5CLE9BQVEsQ0FBQyJ9