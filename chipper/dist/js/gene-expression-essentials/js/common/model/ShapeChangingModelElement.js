// Copyright 2015-2023, University of Colorado Boulder

/**
 * Base class for elements in the model that change shape and/or move around.
 *
 * @author John Blanco
 * @author Mohamed Safi
 * @author Aadish Gupta
 */

import Multilink from '../../../../axon/js/Multilink.js';
import Property from '../../../../axon/js/Property.js';
import Bounds2 from '../../../../dot/js/Bounds2.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import Vector2Property from '../../../../dot/js/Vector2Property.js';
import geneExpressionEssentials from '../../geneExpressionEssentials.js';
class ShapeChangingModelElement {
  /**
   * @abstract
   * @param {Shape} initialShape
   */
  constructor(initialShape) {
    // @public {Property.<Shape>} - can be read or listened to by anyone, should only be written by descendant types
    this.shapeProperty = new Property(initialShape);

    // @public (read-only) - The position of this model element in model space.  Generally this
    // will be the center of the model element, since it has width and height.
    this.positionProperty = new Vector2Property(Vector2.ZERO, {
      valueComparisonStrategy: 'equalsFunction'
    });

    // @public (read-only) {Bounds2} - This model element's bounds in model space.  This could be derived from the
    // combination of the shape and position, but doing so every time it is needed is inefficient, so it is explicitly
    // maintained.
    this.bounds = new Bounds2(0, 0, 1, 1); // initial value is arbitrary, will be updated immediately

    // update the bounds whenever the shape or the position changes
    const boundsUpdateMultilink = Multilink.multilink([this.shapeProperty, this.positionProperty], (shape, position) => {
      const shapeBounds = shape.bounds;
      this.bounds.setMinMax(position.x + shapeBounds.minX, position.y + shapeBounds.minY, position.x + shapeBounds.maxX, position.y + shapeBounds.maxY);
    });
    this.disposeShapeChangingModelElement = function () {
      boundsUpdateMultilink.dispose();
      this.positionProperty.dispose();
      this.shapeProperty.set(null);
      this.shapeProperty.dispose();
    };

    // reusable position vectors, used to prevent allocations of new vectors and thus improve performance
    this.reusablePositionVector1 = new Vector2(0, 0);
    this.reusablePositionVector2 = new Vector2(0, 0);
  }

  /**
   * @public
   */
  dispose() {
    this.disposeShapeChangingModelElement();
  }

  /**
   * @returns {Shape}
   * @public
   */
  getShape() {
    return this.shapeProperty.get();
  }

  /**
   * @param {number} x
   * @param {number} y
   * @public
   */
  translate(x, y) {
    // in order to reduce allocations of vectors, pull them from our local pool
    const currentPosition = this.positionProperty.get();
    const newPosition = this.getFreeReusablePositionVector();
    newPosition.setXY(currentPosition.x + x, currentPosition.y + y);
    this.positionProperty.set(newPosition);
  }

  /**
   * @param {Vector2} newPos
   * @public
   */
  setPosition(newPos) {
    this.positionProperty.set(newPos);
  }

  /**
   * Set the position using x and y values.
   * @param {number} x
   * @param  {number} y
   * @public
   */
  setPositionXY(x, y) {
    // in order to reduce allocations of vectors, use vectors from the local vector pool
    const newPosition = this.getFreeReusablePositionVector();
    newPosition.setXY(x, y);
    this.positionProperty.set(newPosition);
  }

  /**
   * @returns {Vector2}
   * @public
   */
  getPosition() {
    // Assumes that the center of the shape is the position.  Override if other behavior is needed.
    return this.positionProperty.get();
  }

  /**
   * Get whichever reusable vector isn't currently in use.  This is used to reduce memory allocations.
   * @returns {Vector2}
   * @private
   */
  getFreeReusablePositionVector() {
    return this.positionProperty.get() === this.reusablePositionVector1 ? this.reusablePositionVector2 : this.reusablePositionVector1;
  }
}
geneExpressionEssentials.register('ShapeChangingModelElement', ShapeChangingModelElement);
export default ShapeChangingModelElement;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNdWx0aWxpbmsiLCJQcm9wZXJ0eSIsIkJvdW5kczIiLCJWZWN0b3IyIiwiVmVjdG9yMlByb3BlcnR5IiwiZ2VuZUV4cHJlc3Npb25Fc3NlbnRpYWxzIiwiU2hhcGVDaGFuZ2luZ01vZGVsRWxlbWVudCIsImNvbnN0cnVjdG9yIiwiaW5pdGlhbFNoYXBlIiwic2hhcGVQcm9wZXJ0eSIsInBvc2l0aW9uUHJvcGVydHkiLCJaRVJPIiwidmFsdWVDb21wYXJpc29uU3RyYXRlZ3kiLCJib3VuZHMiLCJib3VuZHNVcGRhdGVNdWx0aWxpbmsiLCJtdWx0aWxpbmsiLCJzaGFwZSIsInBvc2l0aW9uIiwic2hhcGVCb3VuZHMiLCJzZXRNaW5NYXgiLCJ4IiwibWluWCIsInkiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJkaXNwb3NlU2hhcGVDaGFuZ2luZ01vZGVsRWxlbWVudCIsImRpc3Bvc2UiLCJzZXQiLCJyZXVzYWJsZVBvc2l0aW9uVmVjdG9yMSIsInJldXNhYmxlUG9zaXRpb25WZWN0b3IyIiwiZ2V0U2hhcGUiLCJnZXQiLCJ0cmFuc2xhdGUiLCJjdXJyZW50UG9zaXRpb24iLCJuZXdQb3NpdGlvbiIsImdldEZyZWVSZXVzYWJsZVBvc2l0aW9uVmVjdG9yIiwic2V0WFkiLCJzZXRQb3NpdGlvbiIsIm5ld1BvcyIsInNldFBvc2l0aW9uWFkiLCJnZXRQb3NpdGlvbiIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiU2hhcGVDaGFuZ2luZ01vZGVsRWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNS0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIGZvciBlbGVtZW50cyBpbiB0aGUgbW9kZWwgdGhhdCBjaGFuZ2Ugc2hhcGUgYW5kL29yIG1vdmUgYXJvdW5kLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvaG4gQmxhbmNvXHJcbiAqIEBhdXRob3IgTW9oYW1lZCBTYWZpXHJcbiAqIEBhdXRob3IgQWFkaXNoIEd1cHRhXHJcbiAqL1xyXG5cclxuaW1wb3J0IE11bHRpbGluayBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL011bHRpbGluay5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IEJvdW5kczIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL0JvdW5kczIuanMnO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCBWZWN0b3IyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBnZW5lRXhwcmVzc2lvbkVzc2VudGlhbHMgZnJvbSAnLi4vLi4vZ2VuZUV4cHJlc3Npb25Fc3NlbnRpYWxzLmpzJztcclxuXHJcbmNsYXNzIFNoYXBlQ2hhbmdpbmdNb2RlbEVsZW1lbnQge1xyXG5cclxuICAvKipcclxuICAgKiBAYWJzdHJhY3RcclxuICAgKiBAcGFyYW0ge1NoYXBlfSBpbml0aWFsU2hhcGVcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggaW5pdGlhbFNoYXBlICkge1xyXG5cclxuXHJcbiAgICAvLyBAcHVibGljIHtQcm9wZXJ0eS48U2hhcGU+fSAtIGNhbiBiZSByZWFkIG9yIGxpc3RlbmVkIHRvIGJ5IGFueW9uZSwgc2hvdWxkIG9ubHkgYmUgd3JpdHRlbiBieSBkZXNjZW5kYW50IHR5cGVzXHJcbiAgICB0aGlzLnNoYXBlUHJvcGVydHkgPSBuZXcgUHJvcGVydHkoIGluaXRpYWxTaGFwZSApO1xyXG5cclxuICAgIC8vIEBwdWJsaWMgKHJlYWQtb25seSkgLSBUaGUgcG9zaXRpb24gb2YgdGhpcyBtb2RlbCBlbGVtZW50IGluIG1vZGVsIHNwYWNlLiAgR2VuZXJhbGx5IHRoaXNcclxuICAgIC8vIHdpbGwgYmUgdGhlIGNlbnRlciBvZiB0aGUgbW9kZWwgZWxlbWVudCwgc2luY2UgaXQgaGFzIHdpZHRoIGFuZCBoZWlnaHQuXHJcbiAgICB0aGlzLnBvc2l0aW9uUHJvcGVydHkgPSBuZXcgVmVjdG9yMlByb3BlcnR5KCBWZWN0b3IyLlpFUk8sIHsgdmFsdWVDb21wYXJpc29uU3RyYXRlZ3k6ICdlcXVhbHNGdW5jdGlvbicgfSApO1xyXG5cclxuICAgIC8vIEBwdWJsaWMgKHJlYWQtb25seSkge0JvdW5kczJ9IC0gVGhpcyBtb2RlbCBlbGVtZW50J3MgYm91bmRzIGluIG1vZGVsIHNwYWNlLiAgVGhpcyBjb3VsZCBiZSBkZXJpdmVkIGZyb20gdGhlXHJcbiAgICAvLyBjb21iaW5hdGlvbiBvZiB0aGUgc2hhcGUgYW5kIHBvc2l0aW9uLCBidXQgZG9pbmcgc28gZXZlcnkgdGltZSBpdCBpcyBuZWVkZWQgaXMgaW5lZmZpY2llbnQsIHNvIGl0IGlzIGV4cGxpY2l0bHlcclxuICAgIC8vIG1haW50YWluZWQuXHJcbiAgICB0aGlzLmJvdW5kcyA9IG5ldyBCb3VuZHMyKCAwLCAwLCAxLCAxICk7IC8vIGluaXRpYWwgdmFsdWUgaXMgYXJiaXRyYXJ5LCB3aWxsIGJlIHVwZGF0ZWQgaW1tZWRpYXRlbHlcclxuXHJcbiAgICAvLyB1cGRhdGUgdGhlIGJvdW5kcyB3aGVuZXZlciB0aGUgc2hhcGUgb3IgdGhlIHBvc2l0aW9uIGNoYW5nZXNcclxuICAgIGNvbnN0IGJvdW5kc1VwZGF0ZU11bHRpbGluayA9IE11bHRpbGluay5tdWx0aWxpbmsoXHJcbiAgICAgIFsgdGhpcy5zaGFwZVByb3BlcnR5LCB0aGlzLnBvc2l0aW9uUHJvcGVydHkgXSxcclxuICAgICAgKCBzaGFwZSwgcG9zaXRpb24gKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2hhcGVCb3VuZHMgPSBzaGFwZS5ib3VuZHM7XHJcbiAgICAgICAgdGhpcy5ib3VuZHMuc2V0TWluTWF4KFxyXG4gICAgICAgICAgcG9zaXRpb24ueCArIHNoYXBlQm91bmRzLm1pblgsXHJcbiAgICAgICAgICBwb3NpdGlvbi55ICsgc2hhcGVCb3VuZHMubWluWSxcclxuICAgICAgICAgIHBvc2l0aW9uLnggKyBzaGFwZUJvdW5kcy5tYXhYLFxyXG4gICAgICAgICAgcG9zaXRpb24ueSArIHNoYXBlQm91bmRzLm1heFlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZGlzcG9zZVNoYXBlQ2hhbmdpbmdNb2RlbEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgYm91bmRzVXBkYXRlTXVsdGlsaW5rLmRpc3Bvc2UoKTtcclxuICAgICAgdGhpcy5wb3NpdGlvblByb3BlcnR5LmRpc3Bvc2UoKTtcclxuICAgICAgdGhpcy5zaGFwZVByb3BlcnR5LnNldCggbnVsbCApO1xyXG4gICAgICB0aGlzLnNoYXBlUHJvcGVydHkuZGlzcG9zZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyByZXVzYWJsZSBwb3NpdGlvbiB2ZWN0b3JzLCB1c2VkIHRvIHByZXZlbnQgYWxsb2NhdGlvbnMgb2YgbmV3IHZlY3RvcnMgYW5kIHRodXMgaW1wcm92ZSBwZXJmb3JtYW5jZVxyXG4gICAgdGhpcy5yZXVzYWJsZVBvc2l0aW9uVmVjdG9yMSA9IG5ldyBWZWN0b3IyKCAwLCAwICk7XHJcbiAgICB0aGlzLnJldXNhYmxlUG9zaXRpb25WZWN0b3IyID0gbmV3IFZlY3RvcjIoIDAsIDAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBkaXNwb3NlKCkge1xyXG4gICAgdGhpcy5kaXNwb3NlU2hhcGVDaGFuZ2luZ01vZGVsRWxlbWVudCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHJldHVybnMge1NoYXBlfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBnZXRTaGFwZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnNoYXBlUHJvcGVydHkuZ2V0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0geFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHRyYW5zbGF0ZSggeCwgeSApIHtcclxuXHJcbiAgICAvLyBpbiBvcmRlciB0byByZWR1Y2UgYWxsb2NhdGlvbnMgb2YgdmVjdG9ycywgcHVsbCB0aGVtIGZyb20gb3VyIGxvY2FsIHBvb2xcclxuICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IHRoaXMucG9zaXRpb25Qcm9wZXJ0eS5nZXQoKTtcclxuICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gdGhpcy5nZXRGcmVlUmV1c2FibGVQb3NpdGlvblZlY3RvcigpO1xyXG4gICAgbmV3UG9zaXRpb24uc2V0WFkoIGN1cnJlbnRQb3NpdGlvbi54ICsgeCwgY3VycmVudFBvc2l0aW9uLnkgKyB5ICk7XHJcbiAgICB0aGlzLnBvc2l0aW9uUHJvcGVydHkuc2V0KCBuZXdQb3NpdGlvbiApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtWZWN0b3IyfSBuZXdQb3NcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgc2V0UG9zaXRpb24oIG5ld1BvcyApIHtcclxuICAgIHRoaXMucG9zaXRpb25Qcm9wZXJ0eS5zZXQoIG5ld1BvcyApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSBwb3NpdGlvbiB1c2luZyB4IGFuZCB5IHZhbHVlcy5cclxuICAgKiBAcGFyYW0ge251bWJlcn0geFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geVxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBzZXRQb3NpdGlvblhZKCB4LCB5ICkge1xyXG5cclxuICAgIC8vIGluIG9yZGVyIHRvIHJlZHVjZSBhbGxvY2F0aW9ucyBvZiB2ZWN0b3JzLCB1c2UgdmVjdG9ycyBmcm9tIHRoZSBsb2NhbCB2ZWN0b3IgcG9vbFxyXG4gICAgY29uc3QgbmV3UG9zaXRpb24gPSB0aGlzLmdldEZyZWVSZXVzYWJsZVBvc2l0aW9uVmVjdG9yKCk7XHJcbiAgICBuZXdQb3NpdGlvbi5zZXRYWSggeCwgeSApO1xyXG4gICAgdGhpcy5wb3NpdGlvblByb3BlcnR5LnNldCggbmV3UG9zaXRpb24gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtWZWN0b3IyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBnZXRQb3NpdGlvbigpIHtcclxuICAgIC8vIEFzc3VtZXMgdGhhdCB0aGUgY2VudGVyIG9mIHRoZSBzaGFwZSBpcyB0aGUgcG9zaXRpb24uICBPdmVycmlkZSBpZiBvdGhlciBiZWhhdmlvciBpcyBuZWVkZWQuXHJcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvblByb3BlcnR5LmdldCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHdoaWNoZXZlciByZXVzYWJsZSB2ZWN0b3IgaXNuJ3QgY3VycmVudGx5IGluIHVzZS4gIFRoaXMgaXMgdXNlZCB0byByZWR1Y2UgbWVtb3J5IGFsbG9jYXRpb25zLlxyXG4gICAqIEByZXR1cm5zIHtWZWN0b3IyfVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgZ2V0RnJlZVJldXNhYmxlUG9zaXRpb25WZWN0b3IoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvblByb3BlcnR5LmdldCgpID09PSB0aGlzLnJldXNhYmxlUG9zaXRpb25WZWN0b3IxID9cclxuICAgICAgICAgICB0aGlzLnJldXNhYmxlUG9zaXRpb25WZWN0b3IyIDpcclxuICAgICAgICAgICB0aGlzLnJldXNhYmxlUG9zaXRpb25WZWN0b3IxO1xyXG4gIH1cclxufVxyXG5cclxuZ2VuZUV4cHJlc3Npb25Fc3NlbnRpYWxzLnJlZ2lzdGVyKCAnU2hhcGVDaGFuZ2luZ01vZGVsRWxlbWVudCcsIFNoYXBlQ2hhbmdpbmdNb2RlbEVsZW1lbnQgKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNoYXBlQ2hhbmdpbmdNb2RlbEVsZW1lbnQ7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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