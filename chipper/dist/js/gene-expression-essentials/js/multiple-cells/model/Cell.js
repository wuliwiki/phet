// Copyright 2015-2020, University of Colorado Boulder

/**
 * Model element that represents a cell on the "Multiple Cells" screen. The cell has a shape, a protein level, and a
 * number of parameters that control how it synthesizes protein molecules. Only one protein is synthesized.
 *
 * @author John Blanco
 * @author Aadish Gupta
 */

import Property from '../../../../axon/js/Property.js';
import Dimension2 from '../../../../dot/js/Dimension2.js';
import Matrix3 from '../../../../dot/js/Matrix3.js';
import BioShapeUtils from '../../common/model/BioShapeUtils.js';
import ShapeChangingModelElement from '../../common/model/ShapeChangingModelElement.js';
import geneExpressionEssentials from '../../geneExpressionEssentials.js';
import CellProteinSynthesisSimulator from './CellProteinSynthesisSimulator.js';

// Default size for a cell.
const DEFAULT_CELL_SIZE = new Dimension2(2E-6, 0.75E-6); // In meters.

// Protein level at which the cell color starts to change. This is meant to make the cell act as though the protein
// being produced is florescent.
const PROTEIN_LEVEL_WHERE_COLOR_CHANGE_STARTS = 50;

// Protein level at which the color change (towards the florescent color) is complete.
const PROTEIN_LEVEL_WHERE_COLOR_CHANGE_COMPLETES = 150;

// Default E-Coli like shape for performance improvement and we make copy of it and rotate for different instances
const E_COLI_LLIKE_SHAPE = BioShapeUtils.createEColiLikeShape(DEFAULT_CELL_SIZE.width, DEFAULT_CELL_SIZE.height);
class Cell extends ShapeChangingModelElement {
  /**
   * @param {number} rotationAngle rotation for the cell in model space
   */
  constructor(rotationAngle) {
    super(Cell.createShape(rotationAngle));

    // This is a separate object in which the protein synthesis is simulated. The reason that this is broken out into a
    // separate class is that it was supplied by someone outside of the PhET project, and this keeps it encapsulated and
    // thus easier for the original author to help maintain.
    this.proteinSynthesisSimulator = new CellProteinSynthesisSimulator(100); // @private

    // Property that indicates the current protein count in the cell. This should not be set by external users, only
    // monitored.
    this.proteinCount = new Property(0); // @public
  }

  /**
   * @param {number} dt
   * @public
   */
  step(dt) {
    // NOTE: The time step is multiplied in order to get the model to run at the desired rate.
    this.proteinSynthesisSimulator.step(dt * 1000);
    this.proteinCount.set(this.proteinSynthesisSimulator.getProteinCount());
  }

  /**
   * Static function for creating the shape of the cell.
   * @param {number} rotationAngle
   * @returns {Shape}
   * @private
   */
  static createShape(rotationAngle) {
    const eColiShape = E_COLI_LLIKE_SHAPE.copy();

    // rotate and return
    return eColiShape.transformed(Matrix3.rotation2(rotationAngle));
  }

  /*-----------------------------------------------------------------------------------------------------------------
   * The following methods are essentially "pass through" methods to the protein synthesis simulator. This is done to
   * allow proteinSynthesisSimulator to be a separate type.
   *---------------------------------------------------------------------------------------------------------------*/

  /**
   * @param {number} tfCount
   * @public
   */
  setTranscriptionFactorCount(tfCount) {
    this.proteinSynthesisSimulator.setTranscriptionFactorCount(tfCount);
  }

  /**
   * @param {number} polymeraseCount
   * @public
   */
  setPolymeraseCount(polymeraseCount) {
    this.proteinSynthesisSimulator.setPolymeraseCount(polymeraseCount);
  }

  /**
   * @param {number} newRate
   * @public
   */
  setGeneTranscriptionFactorAssociationRate(newRate) {
    this.proteinSynthesisSimulator.setGeneTranscriptionFactorAssociationRate(newRate);
  }

  /**
   * @param {number} newRate
   * @public
   */
  setPolymeraseAssociationRate(newRate) {
    this.proteinSynthesisSimulator.setPolymeraseAssociationRate(newRate);
  }

  /**
   * @param {number} newRate
   * @public
   */
  setRNARibosomeAssociationRate(newRate) {
    this.proteinSynthesisSimulator.setRNARibosomeAssociationRate(newRate);
  }

  /**
   * @param {number} newRate
   * @public
   */
  setProteinDegradationRate(newRate) {
    this.proteinSynthesisSimulator.setProteinDegradationRate(newRate);
  }

  /**
   * @param {number} mRnaDegradationRate
   * @public
   */
  setMRnaDegradationRate(mRnaDegradationRate) {
    this.proteinSynthesisSimulator.setMrnaDegradationRate(mRnaDegradationRate);
  }
}

// statics
Cell.DefaultCellSize = DEFAULT_CELL_SIZE;
Cell.ProteinLevelWhereColorChangeStarts = PROTEIN_LEVEL_WHERE_COLOR_CHANGE_STARTS;
Cell.ProteinLevelWhereColorChangeCompletes = PROTEIN_LEVEL_WHERE_COLOR_CHANGE_COMPLETES;
geneExpressionEssentials.register('Cell', Cell);
export default Cell;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIkRpbWVuc2lvbjIiLCJNYXRyaXgzIiwiQmlvU2hhcGVVdGlscyIsIlNoYXBlQ2hhbmdpbmdNb2RlbEVsZW1lbnQiLCJnZW5lRXhwcmVzc2lvbkVzc2VudGlhbHMiLCJDZWxsUHJvdGVpblN5bnRoZXNpc1NpbXVsYXRvciIsIkRFRkFVTFRfQ0VMTF9TSVpFIiwiUFJPVEVJTl9MRVZFTF9XSEVSRV9DT0xPUl9DSEFOR0VfU1RBUlRTIiwiUFJPVEVJTl9MRVZFTF9XSEVSRV9DT0xPUl9DSEFOR0VfQ09NUExFVEVTIiwiRV9DT0xJX0xMSUtFX1NIQVBFIiwiY3JlYXRlRUNvbGlMaWtlU2hhcGUiLCJ3aWR0aCIsImhlaWdodCIsIkNlbGwiLCJjb25zdHJ1Y3RvciIsInJvdGF0aW9uQW5nbGUiLCJjcmVhdGVTaGFwZSIsInByb3RlaW5TeW50aGVzaXNTaW11bGF0b3IiLCJwcm90ZWluQ291bnQiLCJzdGVwIiwiZHQiLCJzZXQiLCJnZXRQcm90ZWluQ291bnQiLCJlQ29saVNoYXBlIiwiY29weSIsInRyYW5zZm9ybWVkIiwicm90YXRpb24yIiwic2V0VHJhbnNjcmlwdGlvbkZhY3RvckNvdW50IiwidGZDb3VudCIsInNldFBvbHltZXJhc2VDb3VudCIsInBvbHltZXJhc2VDb3VudCIsInNldEdlbmVUcmFuc2NyaXB0aW9uRmFjdG9yQXNzb2NpYXRpb25SYXRlIiwibmV3UmF0ZSIsInNldFBvbHltZXJhc2VBc3NvY2lhdGlvblJhdGUiLCJzZXRSTkFSaWJvc29tZUFzc29jaWF0aW9uUmF0ZSIsInNldFByb3RlaW5EZWdyYWRhdGlvblJhdGUiLCJzZXRNUm5hRGVncmFkYXRpb25SYXRlIiwibVJuYURlZ3JhZGF0aW9uUmF0ZSIsInNldE1ybmFEZWdyYWRhdGlvblJhdGUiLCJEZWZhdWx0Q2VsbFNpemUiLCJQcm90ZWluTGV2ZWxXaGVyZUNvbG9yQ2hhbmdlU3RhcnRzIiwiUHJvdGVpbkxldmVsV2hlcmVDb2xvckNoYW5nZUNvbXBsZXRlcyIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQ2VsbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNS0yMDIwLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBNb2RlbCBlbGVtZW50IHRoYXQgcmVwcmVzZW50cyBhIGNlbGwgb24gdGhlIFwiTXVsdGlwbGUgQ2VsbHNcIiBzY3JlZW4uIFRoZSBjZWxsIGhhcyBhIHNoYXBlLCBhIHByb3RlaW4gbGV2ZWwsIGFuZCBhXHJcbiAqIG51bWJlciBvZiBwYXJhbWV0ZXJzIHRoYXQgY29udHJvbCBob3cgaXQgc3ludGhlc2l6ZXMgcHJvdGVpbiBtb2xlY3VsZXMuIE9ubHkgb25lIHByb3RlaW4gaXMgc3ludGhlc2l6ZWQuXHJcbiAqXHJcbiAqIEBhdXRob3IgSm9obiBCbGFuY29cclxuICogQGF1dGhvciBBYWRpc2ggR3VwdGFcclxuICovXHJcblxyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBEaW1lbnNpb24yIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9EaW1lbnNpb24yLmpzJztcclxuaW1wb3J0IE1hdHJpeDMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL01hdHJpeDMuanMnO1xyXG5pbXBvcnQgQmlvU2hhcGVVdGlscyBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvQmlvU2hhcGVVdGlscy5qcyc7XHJcbmltcG9ydCBTaGFwZUNoYW5naW5nTW9kZWxFbGVtZW50IGZyb20gJy4uLy4uL2NvbW1vbi9tb2RlbC9TaGFwZUNoYW5naW5nTW9kZWxFbGVtZW50LmpzJztcclxuaW1wb3J0IGdlbmVFeHByZXNzaW9uRXNzZW50aWFscyBmcm9tICcuLi8uLi9nZW5lRXhwcmVzc2lvbkVzc2VudGlhbHMuanMnO1xyXG5pbXBvcnQgQ2VsbFByb3RlaW5TeW50aGVzaXNTaW11bGF0b3IgZnJvbSAnLi9DZWxsUHJvdGVpblN5bnRoZXNpc1NpbXVsYXRvci5qcyc7XHJcblxyXG4vLyBEZWZhdWx0IHNpemUgZm9yIGEgY2VsbC5cclxuY29uc3QgREVGQVVMVF9DRUxMX1NJWkUgPSBuZXcgRGltZW5zaW9uMiggMkUtNiwgMC43NUUtNiApOyAvLyBJbiBtZXRlcnMuXHJcblxyXG4vLyBQcm90ZWluIGxldmVsIGF0IHdoaWNoIHRoZSBjZWxsIGNvbG9yIHN0YXJ0cyB0byBjaGFuZ2UuIFRoaXMgaXMgbWVhbnQgdG8gbWFrZSB0aGUgY2VsbCBhY3QgYXMgdGhvdWdoIHRoZSBwcm90ZWluXHJcbi8vIGJlaW5nIHByb2R1Y2VkIGlzIGZsb3Jlc2NlbnQuXHJcbmNvbnN0IFBST1RFSU5fTEVWRUxfV0hFUkVfQ09MT1JfQ0hBTkdFX1NUQVJUUyA9IDUwO1xyXG5cclxuLy8gUHJvdGVpbiBsZXZlbCBhdCB3aGljaCB0aGUgY29sb3IgY2hhbmdlICh0b3dhcmRzIHRoZSBmbG9yZXNjZW50IGNvbG9yKSBpcyBjb21wbGV0ZS5cclxuY29uc3QgUFJPVEVJTl9MRVZFTF9XSEVSRV9DT0xPUl9DSEFOR0VfQ09NUExFVEVTID0gMTUwO1xyXG5cclxuLy8gRGVmYXVsdCBFLUNvbGkgbGlrZSBzaGFwZSBmb3IgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnQgYW5kIHdlIG1ha2UgY29weSBvZiBpdCBhbmQgcm90YXRlIGZvciBkaWZmZXJlbnQgaW5zdGFuY2VzXHJcbmNvbnN0IEVfQ09MSV9MTElLRV9TSEFQRSA9IEJpb1NoYXBlVXRpbHMuY3JlYXRlRUNvbGlMaWtlU2hhcGUoIERFRkFVTFRfQ0VMTF9TSVpFLndpZHRoLCBERUZBVUxUX0NFTExfU0laRS5oZWlnaHQgKTtcclxuXHJcbmNsYXNzIENlbGwgZXh0ZW5kcyBTaGFwZUNoYW5naW5nTW9kZWxFbGVtZW50IHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uQW5nbGUgcm90YXRpb24gZm9yIHRoZSBjZWxsIGluIG1vZGVsIHNwYWNlXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIHJvdGF0aW9uQW5nbGUgKSB7XHJcbiAgICBzdXBlciggQ2VsbC5jcmVhdGVTaGFwZSggcm90YXRpb25BbmdsZSApICk7XHJcblxyXG4gICAgLy8gVGhpcyBpcyBhIHNlcGFyYXRlIG9iamVjdCBpbiB3aGljaCB0aGUgcHJvdGVpbiBzeW50aGVzaXMgaXMgc2ltdWxhdGVkLiBUaGUgcmVhc29uIHRoYXQgdGhpcyBpcyBicm9rZW4gb3V0IGludG8gYVxyXG4gICAgLy8gc2VwYXJhdGUgY2xhc3MgaXMgdGhhdCBpdCB3YXMgc3VwcGxpZWQgYnkgc29tZW9uZSBvdXRzaWRlIG9mIHRoZSBQaEVUIHByb2plY3QsIGFuZCB0aGlzIGtlZXBzIGl0IGVuY2Fwc3VsYXRlZCBhbmRcclxuICAgIC8vIHRodXMgZWFzaWVyIGZvciB0aGUgb3JpZ2luYWwgYXV0aG9yIHRvIGhlbHAgbWFpbnRhaW4uXHJcbiAgICB0aGlzLnByb3RlaW5TeW50aGVzaXNTaW11bGF0b3IgPSBuZXcgQ2VsbFByb3RlaW5TeW50aGVzaXNTaW11bGF0b3IoIDEwMCApOyAvLyBAcHJpdmF0ZVxyXG5cclxuICAgIC8vIFByb3BlcnR5IHRoYXQgaW5kaWNhdGVzIHRoZSBjdXJyZW50IHByb3RlaW4gY291bnQgaW4gdGhlIGNlbGwuIFRoaXMgc2hvdWxkIG5vdCBiZSBzZXQgYnkgZXh0ZXJuYWwgdXNlcnMsIG9ubHlcclxuICAgIC8vIG1vbml0b3JlZC5cclxuICAgIHRoaXMucHJvdGVpbkNvdW50ID0gbmV3IFByb3BlcnR5KCAwICk7IC8vIEBwdWJsaWNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBzdGVwKCBkdCApIHtcclxuICAgIC8vIE5PVEU6IFRoZSB0aW1lIHN0ZXAgaXMgbXVsdGlwbGllZCBpbiBvcmRlciB0byBnZXQgdGhlIG1vZGVsIHRvIHJ1biBhdCB0aGUgZGVzaXJlZCByYXRlLlxyXG4gICAgdGhpcy5wcm90ZWluU3ludGhlc2lzU2ltdWxhdG9yLnN0ZXAoIGR0ICogMTAwMCApO1xyXG4gICAgdGhpcy5wcm90ZWluQ291bnQuc2V0KCB0aGlzLnByb3RlaW5TeW50aGVzaXNTaW11bGF0b3IuZ2V0UHJvdGVpbkNvdW50KCkgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0YXRpYyBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgdGhlIHNoYXBlIG9mIHRoZSBjZWxsLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbkFuZ2xlXHJcbiAgICogQHJldHVybnMge1NoYXBlfVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgc3RhdGljIGNyZWF0ZVNoYXBlKCByb3RhdGlvbkFuZ2xlICkge1xyXG4gICAgY29uc3QgZUNvbGlTaGFwZSA9IEVfQ09MSV9MTElLRV9TSEFQRS5jb3B5KCk7XHJcblxyXG4gICAgLy8gcm90YXRlIGFuZCByZXR1cm5cclxuICAgIHJldHVybiBlQ29saVNoYXBlLnRyYW5zZm9ybWVkKCBNYXRyaXgzLnJvdGF0aW9uMiggcm90YXRpb25BbmdsZSApICk7XHJcbiAgfVxyXG5cclxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICogVGhlIGZvbGxvd2luZyBtZXRob2RzIGFyZSBlc3NlbnRpYWxseSBcInBhc3MgdGhyb3VnaFwiIG1ldGhvZHMgdG8gdGhlIHByb3RlaW4gc3ludGhlc2lzIHNpbXVsYXRvci4gVGhpcyBpcyBkb25lIHRvXHJcbiAgICogYWxsb3cgcHJvdGVpblN5bnRoZXNpc1NpbXVsYXRvciB0byBiZSBhIHNlcGFyYXRlIHR5cGUuXHJcbiAgICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdGZDb3VudFxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBzZXRUcmFuc2NyaXB0aW9uRmFjdG9yQ291bnQoIHRmQ291bnQgKSB7XHJcbiAgICB0aGlzLnByb3RlaW5TeW50aGVzaXNTaW11bGF0b3Iuc2V0VHJhbnNjcmlwdGlvbkZhY3RvckNvdW50KCB0ZkNvdW50ICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0gcG9seW1lcmFzZUNvdW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHNldFBvbHltZXJhc2VDb3VudCggcG9seW1lcmFzZUNvdW50ICkge1xyXG4gICAgdGhpcy5wcm90ZWluU3ludGhlc2lzU2ltdWxhdG9yLnNldFBvbHltZXJhc2VDb3VudCggcG9seW1lcmFzZUNvdW50ICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbmV3UmF0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBzZXRHZW5lVHJhbnNjcmlwdGlvbkZhY3RvckFzc29jaWF0aW9uUmF0ZSggbmV3UmF0ZSApIHtcclxuICAgIHRoaXMucHJvdGVpblN5bnRoZXNpc1NpbXVsYXRvci5zZXRHZW5lVHJhbnNjcmlwdGlvbkZhY3RvckFzc29jaWF0aW9uUmF0ZSggbmV3UmF0ZSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5ld1JhdGVcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgc2V0UG9seW1lcmFzZUFzc29jaWF0aW9uUmF0ZSggbmV3UmF0ZSApIHtcclxuICAgIHRoaXMucHJvdGVpblN5bnRoZXNpc1NpbXVsYXRvci5zZXRQb2x5bWVyYXNlQXNzb2NpYXRpb25SYXRlKCBuZXdSYXRlICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbmV3UmF0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBzZXRSTkFSaWJvc29tZUFzc29jaWF0aW9uUmF0ZSggbmV3UmF0ZSApIHtcclxuICAgIHRoaXMucHJvdGVpblN5bnRoZXNpc1NpbXVsYXRvci5zZXRSTkFSaWJvc29tZUFzc29jaWF0aW9uUmF0ZSggbmV3UmF0ZSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5ld1JhdGVcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgc2V0UHJvdGVpbkRlZ3JhZGF0aW9uUmF0ZSggbmV3UmF0ZSApIHtcclxuICAgIHRoaXMucHJvdGVpblN5bnRoZXNpc1NpbXVsYXRvci5zZXRQcm90ZWluRGVncmFkYXRpb25SYXRlKCBuZXdSYXRlICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbVJuYURlZ3JhZGF0aW9uUmF0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBzZXRNUm5hRGVncmFkYXRpb25SYXRlKCBtUm5hRGVncmFkYXRpb25SYXRlICkge1xyXG4gICAgdGhpcy5wcm90ZWluU3ludGhlc2lzU2ltdWxhdG9yLnNldE1ybmFEZWdyYWRhdGlvblJhdGUoIG1SbmFEZWdyYWRhdGlvblJhdGUgKTtcclxuICB9XHJcblxyXG59XHJcblxyXG5cclxuLy8gc3RhdGljc1xyXG5DZWxsLkRlZmF1bHRDZWxsU2l6ZSA9IERFRkFVTFRfQ0VMTF9TSVpFO1xyXG5DZWxsLlByb3RlaW5MZXZlbFdoZXJlQ29sb3JDaGFuZ2VTdGFydHMgPSBQUk9URUlOX0xFVkVMX1dIRVJFX0NPTE9SX0NIQU5HRV9TVEFSVFM7XHJcbkNlbGwuUHJvdGVpbkxldmVsV2hlcmVDb2xvckNoYW5nZUNvbXBsZXRlcyA9IFBST1RFSU5fTEVWRUxfV0hFUkVfQ09MT1JfQ0hBTkdFX0NPTVBMRVRFUztcclxuXHJcbmdlbmVFeHByZXNzaW9uRXNzZW50aWFscy5yZWdpc3RlciggJ0NlbGwnLCBDZWxsICk7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