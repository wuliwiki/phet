// Copyright 2021, University of Colorado Boulder

/**
 * skiffle-specific grunt configuration
 *
 * @author John Blanco (PhET Interactive Simulations)
 */

// modules
const dot = require('dot');
const Gruntfile = require('../../chipper/js/grunt/Gruntfile');
const winston = require('winston');

// constants
const ACTIVE_REPOS_FILE = '../perennial/data/active-repos';
module.exports = grunt => {
  Gruntfile(grunt);
  grunt.registerTask('build', 'Build the soundboard HTML file', () => {
    // Configure the dot templating engine to our liking.
    dot.templateSettings.strip = false;

    // Read in the template file.
    let templateFileContents;
    try {
      templateFileContents = grunt.file.read('./html/sound-board-template.html');
    } catch (err) {
      winston.error(err.toString());
      grunt.fail.fatal('Unable to open template file, aborting build.');
    }

    // Compile the template into a function.
    const templateFunction = dot.template(templateFileContents);

    // Read in the list of active PhET repositories, splitting the lines into separate strings.
    let activeRepos = grunt.file.read(ACTIVE_REPOS_FILE).split('\n');

    // On at least some systems, such as Windows, splitting the lines up this way results in there being a carriage
    // return character at the end of the string representing the repo name.  Remove it.
    activeRepos = activeRepos.map(activeRepo => activeRepo.replace('\r', ''));

    // Remove any blank lines from the list of active repos.
    activeRepos = activeRepos.filter(activeRepo => activeRepo.length > 0);

    // Make a list of all repos with sound files.
    const reposWithSoundFiles = activeRepos.filter(activeRepo => {
      const pathToCheck = `../${activeRepo}/sounds`;
      return grunt.file.exists(pathToCheck);
    });

    // {Object[]} - an array of objects containing information about the sounds for each repo, populated below
    const repoSoundInfoArray = [];

    // Go through each repo on the list and create an object with information about the sounds it contains.  This will
    // be used to fill in the HTML template and thus create the soundboard HTML document.
    reposWithSoundFiles.forEach((repoName, index) => {
      // Get a list of the sounds for this repo.
      const pathToSoundsDirectory = `../${repoName}/sounds/`;
      const patterns = [`${pathToSoundsDirectory}*.mp3`, `${pathToSoundsDirectory}*.wav`];
      const soundFileNames = grunt.file.expand({
        filter: 'isFile'
      }, patterns);
      const individualSoundsInfoArray = [];

      // Create objects with the information needed in the template for each of the sounds.
      soundFileNames.forEach(soundFileName => {
        const soundFileNameOnly = soundFileName.substring(soundFileName.lastIndexOf('/') + 1);

        // If the name of the sound file is too long, create a shortened version with an ellipsis.
        const maxButtonLabelLength = 25;
        let buttonLabel;
        if (soundFileNameOnly.length > maxButtonLabelLength) {
          buttonLabel = `${soundFileNameOnly.substring(0, maxButtonLabelLength - 3)}...`;
        } else {
          buttonLabel = soundFileNameOnly;
        }
        individualSoundsInfoArray.push({
          buttonTitle: soundFileNameOnly,
          soundFileFullPath: `../${soundFileName}`,
          buttonLabel: buttonLabel
        });
      });
      repoSoundInfoArray.push({
        repoName: repoName,
        cardHeaderID: `heading${index}`,
        collapseID: `collapse${index}`,
        individualSoundsInfoArray: individualSoundsInfoArray
      });
    });

    // Create the output HTML by invoking the template functions with the values needed to fill it in.
    const soundBoardHtml = templateFunction({
      buildMessage: '<!-- WARNING: This file was built, not hand generated, and should not be manually edited.  Use grunt to re-build. -->',
      repoSoundInfoArray: repoSoundInfoArray
    });

    // Write the output file.
    grunt.file.write('./html/sound-board.html', soundBoardHtml);
    winston.info('Build complete.');
  });

  // register default task
  grunt.registerTask('default', ['build']);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3QiLCJyZXF1aXJlIiwiR3J1bnRmaWxlIiwid2luc3RvbiIsIkFDVElWRV9SRVBPU19GSUxFIiwibW9kdWxlIiwiZXhwb3J0cyIsImdydW50IiwicmVnaXN0ZXJUYXNrIiwidGVtcGxhdGVTZXR0aW5ncyIsInN0cmlwIiwidGVtcGxhdGVGaWxlQ29udGVudHMiLCJmaWxlIiwicmVhZCIsImVyciIsImVycm9yIiwidG9TdHJpbmciLCJmYWlsIiwiZmF0YWwiLCJ0ZW1wbGF0ZUZ1bmN0aW9uIiwidGVtcGxhdGUiLCJhY3RpdmVSZXBvcyIsInNwbGl0IiwibWFwIiwiYWN0aXZlUmVwbyIsInJlcGxhY2UiLCJmaWx0ZXIiLCJsZW5ndGgiLCJyZXBvc1dpdGhTb3VuZEZpbGVzIiwicGF0aFRvQ2hlY2siLCJleGlzdHMiLCJyZXBvU291bmRJbmZvQXJyYXkiLCJmb3JFYWNoIiwicmVwb05hbWUiLCJpbmRleCIsInBhdGhUb1NvdW5kc0RpcmVjdG9yeSIsInBhdHRlcm5zIiwic291bmRGaWxlTmFtZXMiLCJleHBhbmQiLCJpbmRpdmlkdWFsU291bmRzSW5mb0FycmF5Iiwic291bmRGaWxlTmFtZSIsInNvdW5kRmlsZU5hbWVPbmx5Iiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJtYXhCdXR0b25MYWJlbExlbmd0aCIsImJ1dHRvbkxhYmVsIiwicHVzaCIsImJ1dHRvblRpdGxlIiwic291bmRGaWxlRnVsbFBhdGgiLCJjYXJkSGVhZGVySUQiLCJjb2xsYXBzZUlEIiwic291bmRCb2FyZEh0bWwiLCJidWlsZE1lc3NhZ2UiLCJ3cml0ZSIsImluZm8iXSwic291cmNlcyI6WyJHcnVudGZpbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIHNraWZmbGUtc3BlY2lmaWMgZ3J1bnQgY29uZmlndXJhdGlvblxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvaG4gQmxhbmNvIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcblxyXG4vLyBtb2R1bGVzXHJcbmNvbnN0IGRvdCA9IHJlcXVpcmUoICdkb3QnICk7XHJcbmNvbnN0IEdydW50ZmlsZSA9IHJlcXVpcmUoICcuLi8uLi9jaGlwcGVyL2pzL2dydW50L0dydW50ZmlsZScgKTtcclxuY29uc3Qgd2luc3RvbiA9IHJlcXVpcmUoICd3aW5zdG9uJyApO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IEFDVElWRV9SRVBPU19GSUxFID0gJy4uL3BlcmVubmlhbC9kYXRhL2FjdGl2ZS1yZXBvcyc7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGdydW50ID0+IHtcclxuICBHcnVudGZpbGUoIGdydW50ICk7XHJcblxyXG4gIGdydW50LnJlZ2lzdGVyVGFzayhcclxuICAgICdidWlsZCcsXHJcbiAgICAnQnVpbGQgdGhlIHNvdW5kYm9hcmQgSFRNTCBmaWxlJyxcclxuICAgICgpID0+IHtcclxuXHJcbiAgICAgIC8vIENvbmZpZ3VyZSB0aGUgZG90IHRlbXBsYXRpbmcgZW5naW5lIHRvIG91ciBsaWtpbmcuXHJcbiAgICAgIGRvdC50ZW1wbGF0ZVNldHRpbmdzLnN0cmlwID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyBSZWFkIGluIHRoZSB0ZW1wbGF0ZSBmaWxlLlxyXG4gICAgICBsZXQgdGVtcGxhdGVGaWxlQ29udGVudHM7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGVtcGxhdGVGaWxlQ29udGVudHMgPSBncnVudC5maWxlLnJlYWQoICcuL2h0bWwvc291bmQtYm9hcmQtdGVtcGxhdGUuaHRtbCcgKTtcclxuICAgICAgfVxyXG4gICAgICBjYXRjaCggZXJyICkge1xyXG4gICAgICAgIHdpbnN0b24uZXJyb3IoIGVyci50b1N0cmluZygpICk7XHJcbiAgICAgICAgZ3J1bnQuZmFpbC5mYXRhbCggJ1VuYWJsZSB0byBvcGVuIHRlbXBsYXRlIGZpbGUsIGFib3J0aW5nIGJ1aWxkLicgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29tcGlsZSB0aGUgdGVtcGxhdGUgaW50byBhIGZ1bmN0aW9uLlxyXG4gICAgICBjb25zdCB0ZW1wbGF0ZUZ1bmN0aW9uID0gZG90LnRlbXBsYXRlKCB0ZW1wbGF0ZUZpbGVDb250ZW50cyApO1xyXG5cclxuICAgICAgLy8gUmVhZCBpbiB0aGUgbGlzdCBvZiBhY3RpdmUgUGhFVCByZXBvc2l0b3JpZXMsIHNwbGl0dGluZyB0aGUgbGluZXMgaW50byBzZXBhcmF0ZSBzdHJpbmdzLlxyXG4gICAgICBsZXQgYWN0aXZlUmVwb3MgPSBncnVudC5maWxlLnJlYWQoIEFDVElWRV9SRVBPU19GSUxFICkuc3BsaXQoICdcXG4nICk7XHJcblxyXG4gICAgICAvLyBPbiBhdCBsZWFzdCBzb21lIHN5c3RlbXMsIHN1Y2ggYXMgV2luZG93cywgc3BsaXR0aW5nIHRoZSBsaW5lcyB1cCB0aGlzIHdheSByZXN1bHRzIGluIHRoZXJlIGJlaW5nIGEgY2FycmlhZ2VcclxuICAgICAgLy8gcmV0dXJuIGNoYXJhY3RlciBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSByZXBvIG5hbWUuICBSZW1vdmUgaXQuXHJcbiAgICAgIGFjdGl2ZVJlcG9zID0gYWN0aXZlUmVwb3MubWFwKCBhY3RpdmVSZXBvID0+IGFjdGl2ZVJlcG8ucmVwbGFjZSggJ1xccicsICcnICkgKTtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSBhbnkgYmxhbmsgbGluZXMgZnJvbSB0aGUgbGlzdCBvZiBhY3RpdmUgcmVwb3MuXHJcbiAgICAgIGFjdGl2ZVJlcG9zID0gYWN0aXZlUmVwb3MuZmlsdGVyKCBhY3RpdmVSZXBvID0+IGFjdGl2ZVJlcG8ubGVuZ3RoID4gMCApO1xyXG5cclxuICAgICAgLy8gTWFrZSBhIGxpc3Qgb2YgYWxsIHJlcG9zIHdpdGggc291bmQgZmlsZXMuXHJcbiAgICAgIGNvbnN0IHJlcG9zV2l0aFNvdW5kRmlsZXMgPSBhY3RpdmVSZXBvcy5maWx0ZXIoIGFjdGl2ZVJlcG8gPT4ge1xyXG4gICAgICAgIGNvbnN0IHBhdGhUb0NoZWNrID0gYC4uLyR7YWN0aXZlUmVwb30vc291bmRzYDtcclxuICAgICAgICByZXR1cm4gZ3J1bnQuZmlsZS5leGlzdHMoIHBhdGhUb0NoZWNrICk7XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAgIC8vIHtPYmplY3RbXX0gLSBhbiBhcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNvdW5kcyBmb3IgZWFjaCByZXBvLCBwb3B1bGF0ZWQgYmVsb3dcclxuICAgICAgY29uc3QgcmVwb1NvdW5kSW5mb0FycmF5ID0gW107XHJcblxyXG4gICAgICAvLyBHbyB0aHJvdWdoIGVhY2ggcmVwbyBvbiB0aGUgbGlzdCBhbmQgY3JlYXRlIGFuIG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VuZHMgaXQgY29udGFpbnMuICBUaGlzIHdpbGxcclxuICAgICAgLy8gYmUgdXNlZCB0byBmaWxsIGluIHRoZSBIVE1MIHRlbXBsYXRlIGFuZCB0aHVzIGNyZWF0ZSB0aGUgc291bmRib2FyZCBIVE1MIGRvY3VtZW50LlxyXG4gICAgICByZXBvc1dpdGhTb3VuZEZpbGVzLmZvckVhY2goICggcmVwb05hbWUsIGluZGV4ICkgPT4ge1xyXG5cclxuICAgICAgICAvLyBHZXQgYSBsaXN0IG9mIHRoZSBzb3VuZHMgZm9yIHRoaXMgcmVwby5cclxuICAgICAgICBjb25zdCBwYXRoVG9Tb3VuZHNEaXJlY3RvcnkgPSBgLi4vJHtyZXBvTmFtZX0vc291bmRzL2A7XHJcbiAgICAgICAgY29uc3QgcGF0dGVybnMgPSBbIGAke3BhdGhUb1NvdW5kc0RpcmVjdG9yeX0qLm1wM2AsIGAke3BhdGhUb1NvdW5kc0RpcmVjdG9yeX0qLndhdmAgXTtcclxuICAgICAgICBjb25zdCBzb3VuZEZpbGVOYW1lcyA9IGdydW50LmZpbGUuZXhwYW5kKCB7IGZpbHRlcjogJ2lzRmlsZScgfSwgcGF0dGVybnMgKTtcclxuICAgICAgICBjb25zdCBpbmRpdmlkdWFsU291bmRzSW5mb0FycmF5ID0gW107XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBvYmplY3RzIHdpdGggdGhlIGluZm9ybWF0aW9uIG5lZWRlZCBpbiB0aGUgdGVtcGxhdGUgZm9yIGVhY2ggb2YgdGhlIHNvdW5kcy5cclxuICAgICAgICBzb3VuZEZpbGVOYW1lcy5mb3JFYWNoKCBzb3VuZEZpbGVOYW1lID0+IHtcclxuICAgICAgICAgIGNvbnN0IHNvdW5kRmlsZU5hbWVPbmx5ID0gc291bmRGaWxlTmFtZS5zdWJzdHJpbmcoIHNvdW5kRmlsZU5hbWUubGFzdEluZGV4T2YoICcvJyApICsgMSApO1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoZSBuYW1lIG9mIHRoZSBzb3VuZCBmaWxlIGlzIHRvbyBsb25nLCBjcmVhdGUgYSBzaG9ydGVuZWQgdmVyc2lvbiB3aXRoIGFuIGVsbGlwc2lzLlxyXG4gICAgICAgICAgY29uc3QgbWF4QnV0dG9uTGFiZWxMZW5ndGggPSAyNTtcclxuICAgICAgICAgIGxldCBidXR0b25MYWJlbDtcclxuICAgICAgICAgIGlmICggc291bmRGaWxlTmFtZU9ubHkubGVuZ3RoID4gbWF4QnV0dG9uTGFiZWxMZW5ndGggKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbkxhYmVsID0gYCR7c291bmRGaWxlTmFtZU9ubHkuc3Vic3RyaW5nKCAwLCBtYXhCdXR0b25MYWJlbExlbmd0aCAtIDMgKX0uLi5gO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbkxhYmVsID0gc291bmRGaWxlTmFtZU9ubHk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaW5kaXZpZHVhbFNvdW5kc0luZm9BcnJheS5wdXNoKCB7XHJcbiAgICAgICAgICAgIGJ1dHRvblRpdGxlOiBzb3VuZEZpbGVOYW1lT25seSxcclxuICAgICAgICAgICAgc291bmRGaWxlRnVsbFBhdGg6IGAuLi8ke3NvdW5kRmlsZU5hbWV9YCxcclxuICAgICAgICAgICAgYnV0dG9uTGFiZWw6IGJ1dHRvbkxhYmVsXHJcbiAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgcmVwb1NvdW5kSW5mb0FycmF5LnB1c2goIHtcclxuICAgICAgICAgIHJlcG9OYW1lOiByZXBvTmFtZSxcclxuICAgICAgICAgIGNhcmRIZWFkZXJJRDogYGhlYWRpbmcke2luZGV4fWAsXHJcbiAgICAgICAgICBjb2xsYXBzZUlEOiBgY29sbGFwc2Uke2luZGV4fWAsXHJcbiAgICAgICAgICBpbmRpdmlkdWFsU291bmRzSW5mb0FycmF5OiBpbmRpdmlkdWFsU291bmRzSW5mb0FycmF5XHJcbiAgICAgICAgfSApO1xyXG4gICAgICB9ICk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgdGhlIG91dHB1dCBIVE1MIGJ5IGludm9raW5nIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbnMgd2l0aCB0aGUgdmFsdWVzIG5lZWRlZCB0byBmaWxsIGl0IGluLlxyXG4gICAgICBjb25zdCBzb3VuZEJvYXJkSHRtbCA9IHRlbXBsYXRlRnVuY3Rpb24oIHtcclxuICAgICAgICBidWlsZE1lc3NhZ2U6ICc8IS0tIFdBUk5JTkc6IFRoaXMgZmlsZSB3YXMgYnVpbHQsIG5vdCBoYW5kIGdlbmVyYXRlZCwgYW5kIHNob3VsZCBub3QgYmUgbWFudWFsbHkgZWRpdGVkLiAgVXNlIGdydW50IHRvIHJlLWJ1aWxkLiAtLT4nLFxyXG4gICAgICAgIHJlcG9Tb3VuZEluZm9BcnJheTogcmVwb1NvdW5kSW5mb0FycmF5XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAgIC8vIFdyaXRlIHRoZSBvdXRwdXQgZmlsZS5cclxuICAgICAgZ3J1bnQuZmlsZS53cml0ZSggJy4vaHRtbC9zb3VuZC1ib2FyZC5odG1sJywgc291bmRCb2FyZEh0bWwgKTtcclxuXHJcbiAgICAgIHdpbnN0b24uaW5mbyggJ0J1aWxkIGNvbXBsZXRlLicgKTtcclxuICAgIH1cclxuICApO1xyXG5cclxuICAvLyByZWdpc3RlciBkZWZhdWx0IHRhc2tcclxuICBncnVudC5yZWdpc3RlclRhc2soICdkZWZhdWx0JywgWyAnYnVpbGQnIF0gKTtcclxufTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBRSxLQUFNLENBQUM7QUFDNUIsTUFBTUMsU0FBUyxHQUFHRCxPQUFPLENBQUUsa0NBQW1DLENBQUM7QUFDL0QsTUFBTUUsT0FBTyxHQUFHRixPQUFPLENBQUUsU0FBVSxDQUFDOztBQUVwQztBQUNBLE1BQU1HLGlCQUFpQixHQUFHLGdDQUFnQztBQUUxREMsTUFBTSxDQUFDQyxPQUFPLEdBQUdDLEtBQUssSUFBSTtFQUN4QkwsU0FBUyxDQUFFSyxLQUFNLENBQUM7RUFFbEJBLEtBQUssQ0FBQ0MsWUFBWSxDQUNoQixPQUFPLEVBQ1AsZ0NBQWdDLEVBQ2hDLE1BQU07SUFFSjtJQUNBUixHQUFHLENBQUNTLGdCQUFnQixDQUFDQyxLQUFLLEdBQUcsS0FBSzs7SUFFbEM7SUFDQSxJQUFJQyxvQkFBb0I7SUFDeEIsSUFBSTtNQUNGQSxvQkFBb0IsR0FBR0osS0FBSyxDQUFDSyxJQUFJLENBQUNDLElBQUksQ0FBRSxrQ0FBbUMsQ0FBQztJQUM5RSxDQUFDLENBQ0QsT0FBT0MsR0FBRyxFQUFHO01BQ1hYLE9BQU8sQ0FBQ1ksS0FBSyxDQUFFRCxHQUFHLENBQUNFLFFBQVEsQ0FBQyxDQUFFLENBQUM7TUFDL0JULEtBQUssQ0FBQ1UsSUFBSSxDQUFDQyxLQUFLLENBQUUsK0NBQWdELENBQUM7SUFDckU7O0lBRUE7SUFDQSxNQUFNQyxnQkFBZ0IsR0FBR25CLEdBQUcsQ0FBQ29CLFFBQVEsQ0FBRVQsb0JBQXFCLENBQUM7O0lBRTdEO0lBQ0EsSUFBSVUsV0FBVyxHQUFHZCxLQUFLLENBQUNLLElBQUksQ0FBQ0MsSUFBSSxDQUFFVCxpQkFBa0IsQ0FBQyxDQUFDa0IsS0FBSyxDQUFFLElBQUssQ0FBQzs7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