// Copyright 2016-2021, University of Colorado Boulder

/**
 * Lab model (base type) for Masses and Springs
 *
 * @author Denzell Barnett (PhET Interactive Simulations)
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import Property from '../../../../axon/js/Property.js';
import { Color } from '../../../../scenery/js/imports.js';
import MassesAndSpringsConstants from '../../common/MassesAndSpringsConstants.js';
import MassesAndSpringsModel from '../../common/model/MassesAndSpringsModel.js';
import MassesAndSpringsColors from '../../common/view/MassesAndSpringsColors.js';
import massesAndSprings from '../../massesAndSprings.js';
import PeriodTrace from './PeriodTrace.js';

// constants
const MASS_OFFSET = 0.15;
class LabModel extends MassesAndSpringsModel {
  /**
   * @param {Boolean} basicsVersion
   * @param {Tandem} tandem
   * @param {Object} [options]
   *
   */
  constructor(tandem, basicsVersion, options) {
    super(tandem, options);
    this.basicsVersion = basicsVersion;

    // Lab screen shouldn't have spring damping for non-basics version
    this.dampingProperty = new NumberProperty(this.basicsVersion ? 0 : 0.0575);
    this.createSpring(MassesAndSpringsConstants.SPRING_X, tandem.createTandem('spring'));
    this.firstSpring = this.springs[0];
    const massXPosition = this.basicsVersion ? 0.13 : 0.625;
    let massValue;
    let color;
    this.createMass(0.100, massXPosition, MassesAndSpringsColors.adjustableMassProperty, null, tandem.createTandem('adjustableMass'), {
      adjustable: true
    });

    // Initialize additional mass for basics version
    if (this.basicsVersion) {
      // @public {BooleanProperty}
      this.gravityAccordionBoxExpandedProperty = new BooleanProperty(false);
      this.createMass(0.180, massXPosition + MASS_OFFSET * 2, new Property(new Color('rgb( 195, 51, 115 )')), null, tandem.createTandem('largeMysteryMass'), {
        density: 80,
        mysteryLabel: true
      });
    }

    // Initialize masses
    massValue = this.basicsVersion ? 0.12 : 0.23;
    color = this.basicsVersion ? new Color(9, 19, 174) : new Color(0, 222, 224);
    this.createMass(massValue, massXPosition + MASS_OFFSET * 1.5, new Property(color), null, tandem.createTandem('mediumMysteryMass'), {
      density: this.basicsVersion ? 80 : 110,
      mysteryLabel: true
    });
    massValue = this.basicsVersion ? 0.060 : 0.37;
    color = this.basicsVersion ? new Color(10, 198, 157) : new Color(246, 164, 255);
    this.createMass(massValue, massXPosition + MASS_OFFSET, new Property(color), null, tandem.createTandem('smallMysteryMass'), {
      density: this.basicsVersion ? 80 : 220,
      mysteryLabel: true
    });

    // The lab model spring is the only spring with a period trace.
    this.firstSpring.periodTrace = new PeriodTrace(this.firstSpring, this.playingProperty);
  }

  /**
   * @public
   */
  reset() {
    super.reset();
    this.gravityAccordionBoxExpandedProperty && this.gravityAccordionBoxExpandedProperty.reset();
  }
}
massesAndSprings.register('LabModel', LabModel);
export default LabModel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJOdW1iZXJQcm9wZXJ0eSIsIlByb3BlcnR5IiwiQ29sb3IiLCJNYXNzZXNBbmRTcHJpbmdzQ29uc3RhbnRzIiwiTWFzc2VzQW5kU3ByaW5nc01vZGVsIiwiTWFzc2VzQW5kU3ByaW5nc0NvbG9ycyIsIm1hc3Nlc0FuZFNwcmluZ3MiLCJQZXJpb2RUcmFjZSIsIk1BU1NfT0ZGU0VUIiwiTGFiTW9kZWwiLCJjb25zdHJ1Y3RvciIsInRhbmRlbSIsImJhc2ljc1ZlcnNpb24iLCJvcHRpb25zIiwiZGFtcGluZ1Byb3BlcnR5IiwiY3JlYXRlU3ByaW5nIiwiU1BSSU5HX1giLCJjcmVhdGVUYW5kZW0iLCJmaXJzdFNwcmluZyIsInNwcmluZ3MiLCJtYXNzWFBvc2l0aW9uIiwibWFzc1ZhbHVlIiwiY29sb3IiLCJjcmVhdGVNYXNzIiwiYWRqdXN0YWJsZU1hc3NQcm9wZXJ0eSIsImFkanVzdGFibGUiLCJncmF2aXR5QWNjb3JkaW9uQm94RXhwYW5kZWRQcm9wZXJ0eSIsImRlbnNpdHkiLCJteXN0ZXJ5TGFiZWwiLCJwZXJpb2RUcmFjZSIsInBsYXlpbmdQcm9wZXJ0eSIsInJlc2V0IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJMYWJNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNi0yMDIxLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBMYWIgbW9kZWwgKGJhc2UgdHlwZSkgZm9yIE1hc3NlcyBhbmQgU3ByaW5nc1xyXG4gKlxyXG4gKiBAYXV0aG9yIERlbnplbGwgQmFybmV0dCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgQm9vbGVhblByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvQm9vbGVhblByb3BlcnR5LmpzJztcclxuaW1wb3J0IE51bWJlclByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvTnVtYmVyUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IE1hc3Nlc0FuZFNwcmluZ3NDb25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL01hc3Nlc0FuZFNwcmluZ3NDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgTWFzc2VzQW5kU3ByaW5nc01vZGVsIGZyb20gJy4uLy4uL2NvbW1vbi9tb2RlbC9NYXNzZXNBbmRTcHJpbmdzTW9kZWwuanMnO1xyXG5pbXBvcnQgTWFzc2VzQW5kU3ByaW5nc0NvbG9ycyBmcm9tICcuLi8uLi9jb21tb24vdmlldy9NYXNzZXNBbmRTcHJpbmdzQ29sb3JzLmpzJztcclxuaW1wb3J0IG1hc3Nlc0FuZFNwcmluZ3MgZnJvbSAnLi4vLi4vbWFzc2VzQW5kU3ByaW5ncy5qcyc7XHJcbmltcG9ydCBQZXJpb2RUcmFjZSBmcm9tICcuL1BlcmlvZFRyYWNlLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBNQVNTX09GRlNFVCA9IDAuMTU7XHJcblxyXG5jbGFzcyBMYWJNb2RlbCBleHRlbmRzIE1hc3Nlc0FuZFNwcmluZ3NNb2RlbCB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBiYXNpY3NWZXJzaW9uXHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgKlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCB0YW5kZW0sIGJhc2ljc1ZlcnNpb24sIG9wdGlvbnMgKSB7XHJcblxyXG4gICAgc3VwZXIoIHRhbmRlbSwgb3B0aW9ucyApO1xyXG4gICAgdGhpcy5iYXNpY3NWZXJzaW9uID0gYmFzaWNzVmVyc2lvbjtcclxuXHJcbiAgICAvLyBMYWIgc2NyZWVuIHNob3VsZG4ndCBoYXZlIHNwcmluZyBkYW1waW5nIGZvciBub24tYmFzaWNzIHZlcnNpb25cclxuICAgIHRoaXMuZGFtcGluZ1Byb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCB0aGlzLmJhc2ljc1ZlcnNpb24gPyAwIDogMC4wNTc1ICk7XHJcblxyXG4gICAgdGhpcy5jcmVhdGVTcHJpbmcoIE1hc3Nlc0FuZFNwcmluZ3NDb25zdGFudHMuU1BSSU5HX1gsIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdzcHJpbmcnICkgKTtcclxuICAgIHRoaXMuZmlyc3RTcHJpbmcgPSB0aGlzLnNwcmluZ3NbIDAgXTtcclxuXHJcbiAgICBjb25zdCBtYXNzWFBvc2l0aW9uID0gdGhpcy5iYXNpY3NWZXJzaW9uID8gMC4xMyA6IDAuNjI1O1xyXG4gICAgbGV0IG1hc3NWYWx1ZTtcclxuICAgIGxldCBjb2xvcjtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZU1hc3MoIDAuMTAwLCBtYXNzWFBvc2l0aW9uLCBNYXNzZXNBbmRTcHJpbmdzQ29sb3JzLmFkanVzdGFibGVNYXNzUHJvcGVydHksIG51bGwsIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdhZGp1c3RhYmxlTWFzcycgKSwge1xyXG4gICAgICBhZGp1c3RhYmxlOiB0cnVlXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSBhZGRpdGlvbmFsIG1hc3MgZm9yIGJhc2ljcyB2ZXJzaW9uXHJcbiAgICBpZiAoIHRoaXMuYmFzaWNzVmVyc2lvbiApIHtcclxuXHJcbiAgICAgIC8vIEBwdWJsaWMge0Jvb2xlYW5Qcm9wZXJ0eX1cclxuICAgICAgdGhpcy5ncmF2aXR5QWNjb3JkaW9uQm94RXhwYW5kZWRQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlICk7XHJcblxyXG4gICAgICB0aGlzLmNyZWF0ZU1hc3MoIDAuMTgwLCBtYXNzWFBvc2l0aW9uICsgTUFTU19PRkZTRVQgKiAyLCBuZXcgUHJvcGVydHkoIG5ldyBDb2xvciggJ3JnYiggMTk1LCA1MSwgMTE1ICknICkgKSwgbnVsbCwgdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2xhcmdlTXlzdGVyeU1hc3MnICksIHtcclxuICAgICAgICBkZW5zaXR5OiA4MCxcclxuICAgICAgICBteXN0ZXJ5TGFiZWw6IHRydWVcclxuICAgICAgfSApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXRpYWxpemUgbWFzc2VzXHJcbiAgICBtYXNzVmFsdWUgPSB0aGlzLmJhc2ljc1ZlcnNpb24gPyAwLjEyIDogMC4yMztcclxuICAgIGNvbG9yID0gdGhpcy5iYXNpY3NWZXJzaW9uID8gbmV3IENvbG9yKCA5LCAxOSwgMTc0ICkgOiBuZXcgQ29sb3IoIDAsIDIyMiwgMjI0ICk7XHJcbiAgICB0aGlzLmNyZWF0ZU1hc3MoIG1hc3NWYWx1ZSwgbWFzc1hQb3NpdGlvbiArIE1BU1NfT0ZGU0VUICogMS41LCBuZXcgUHJvcGVydHkoIGNvbG9yICksIG51bGwsIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdtZWRpdW1NeXN0ZXJ5TWFzcycgKSwge1xyXG4gICAgICBkZW5zaXR5OiB0aGlzLmJhc2ljc1ZlcnNpb24gPyA4MCA6IDExMCxcclxuICAgICAgbXlzdGVyeUxhYmVsOiB0cnVlXHJcbiAgICB9ICk7XHJcblxyXG4gICAgbWFzc1ZhbHVlID0gdGhpcy5iYXNpY3NWZXJzaW9uID8gMC4wNjAgOiAwLjM3O1xyXG4gICAgY29sb3IgPSB0aGlzLmJhc2ljc1ZlcnNpb24gPyBuZXcgQ29sb3IoIDEwLCAxOTgsIDE1NyApIDogbmV3IENvbG9yKCAyNDYsIDE2NCwgMjU1ICk7XHJcbiAgICB0aGlzLmNyZWF0ZU1hc3MoIG1hc3NWYWx1ZSwgbWFzc1hQb3NpdGlvbiArIE1BU1NfT0ZGU0VULCBuZXcgUHJvcGVydHkoIGNvbG9yICksIG51bGwsIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdzbWFsbE15c3RlcnlNYXNzJyApLCB7XHJcbiAgICAgIGRlbnNpdHk6IHRoaXMuYmFzaWNzVmVyc2lvbiA/IDgwIDogMjIwLFxyXG4gICAgICBteXN0ZXJ5TGFiZWw6IHRydWVcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBUaGUgbGFiIG1vZGVsIHNwcmluZyBpcyB0aGUgb25seSBzcHJpbmcgd2l0aCBhIHBlcmlvZCB0cmFjZS5cclxuICAgIHRoaXMuZmlyc3RTcHJpbmcucGVyaW9kVHJhY2UgPSBuZXcgUGVyaW9kVHJhY2UoIHRoaXMuZmlyc3RTcHJpbmcsIHRoaXMucGxheWluZ1Byb3BlcnR5ICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgcmVzZXQoKSB7XHJcbiAgICBzdXBlci5yZXNldCgpO1xyXG4gICAgdGhpcy5ncmF2aXR5QWNjb3JkaW9uQm94RXhwYW5kZWRQcm9wZXJ0eSAmJiB0aGlzLmdyYXZpdHlBY2NvcmRpb25Cb3hFeHBhbmRlZFByb3BlcnR5LnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcblxyXG5tYXNzZXNBbmRTcHJpbmdzLnJlZ2lzdGVyKCAnTGFiTW9kZWwnLCBMYWJNb2RlbCApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGFiTW9kZWw7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsT0FBT0MsY0FBYyxNQUFNLHVDQUF1QztBQUNsRSxPQUFPQyxRQUFRLE1BQU0saUNBQWlDO0FBQ3RELFNBQVNDLEtBQUssUUFBUSxtQ0FBbUM7QUFDekQsT0FBT0MseUJBQXlCLE1BQU0sMkNBQTJDO0FBQ2pGLE9BQU9DLHFCQUFxQixNQUFNLDZDQUE2QztBQUMvRSxPQUFPQyxzQkFBc0IsTUFBTSw2Q0FBNkM7QUFDaEYsT0FBT0MsZ0JBQWdCLE1BQU0sMkJBQTJCO0FBQ3hELE9BQU9DLFdBQVcsTUFBTSxrQkFBa0I7O0FBRTFDO0FBQ0EsTUFBTUMsV0FBVyxHQUFHLElBQUk7QUFFeEIsTUFBTUMsUUFBUSxTQUFTTCxxQkFBcUIsQ0FBQztFQUMzQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FB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