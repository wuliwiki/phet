// Copyright 2022, University of Colorado Boulder

/**
 * Representation for the draggable predict mean line.
 * Users are able to manipulate line to predict what they believe the mean of water is across visible cups.
 * Extends AccessibleSlider for alternative input.
 *
 * @author Marla Schulz (PhET Interactive Simulations)
 * @author Sam Reid (PhET Interactive Simulations)
 */

import { DragListener, Image, Line, Node, Pattern } from '../../../../scenery/js/imports.js';
import meanShareAndBalance from '../../meanShareAndBalance.js';
import Vector2Property from '../../../../dot/js/Vector2Property.js';
import { combineOptions } from '../../../../phet-core/js/optionize.js';
import MeanShareAndBalanceConstants from '../../common/MeanShareAndBalanceConstants.js';
import AccessibleSlider from '../../../../sun/js/accessibility/AccessibleSlider.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import graphiteTexture_png from '../../../images/graphiteTexture_png.js';
import Matrix3 from '../../../../dot/js/Matrix3.js';
import pencil_png from '../../../images/pencil_png.js';
export default class PredictMeanSlider extends AccessibleSlider(Node, 0) {
  constructor(meanPredictionProperty, dragRange, numberOfCupsProperty, getActive2DCups, modelViewTransform, providedOptions) {
    const options = providedOptions;
    const linePattern = new Pattern(graphiteTexture_png).setTransformMatrix(Matrix3.affine(0.15, 0, 0, 0, 0.15, 0.975));
    const predictMeanLine = new Line(new Vector2(0, 0), new Vector2(MeanShareAndBalanceConstants.CUP_WIDTH, 0), {
      lineWidth: 1.95,
      stroke: linePattern,
      lineDash: [5, 3]
    });
    const predictMeanHandle = new Image(pencil_png, {
      scale: 0.04,
      rotation: Math.PI / 4
    });

    // track predictMeanLine drag position
    const predictMeanPositionProperty = new Vector2Property(new Vector2(0, meanPredictionProperty.value));
    predictMeanPositionProperty.link(predictMeanPosition => {
      meanPredictionProperty.value = dragRange.constrainValue(predictMeanPosition.y);
    });
    const dragListener = new DragListener({
      positionProperty: predictMeanPositionProperty,
      transform: modelViewTransform,
      // phet-io
      tandem: options.tandem.createTandem('dragListener')
    });
    const combinedOptions = combineOptions({
      children: [predictMeanLine, predictMeanHandle],
      cursor: 'ns-resize'
    }, options);
    super(combinedOptions);
    meanPredictionProperty.link(prediction => {
      this.centerY = modelViewTransform.modelToViewY(prediction);
    });
    this.addInputListener(dragListener);
    this.predictMeanLine = predictMeanLine;
    this.predictMeanHandle = predictMeanHandle;

    // Update line length and dilation based on water cups
    numberOfCupsProperty.link(numberOfCups => {
      const active2DCups = getActive2DCups();
      const waterCup2D = active2DCups[active2DCups.length - 1];
      this.updateLine(waterCup2D.position.x + 80);
    });
    this.setPointerAreas();
    this.centerY = modelViewTransform.modelToViewY(0);
  }
  setPointerAreas() {
    this.predictMeanLine.mouseArea = this.predictMeanLine.localBounds.dilated(MeanShareAndBalanceConstants.MOUSE_AREA_DILATION);
    this.predictMeanLine.touchArea = this.predictMeanLine.mouseArea;
    this.predictMeanHandle.mouseArea = this.predictMeanHandle.localBounds.dilated(MeanShareAndBalanceConstants.MOUSE_AREA_DILATION);
    this.predictMeanHandle.touchArea = this.predictMeanHandle.localBounds.dilated(MeanShareAndBalanceConstants.TOUCH_AREA_DILATION);
  }
  updateLine(lineEnd) {
    this.predictMeanLine.x2 = lineEnd;
    this.predictMeanHandle.leftCenter = this.predictMeanLine.rightCenter;
    this.setPointerAreas();
  }
}
meanShareAndBalance.register('PredictMeanSlider', PredictMeanSlider);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEcmFnTGlzdGVuZXIiLCJJbWFnZSIsIkxpbmUiLCJOb2RlIiwiUGF0dGVybiIsIm1lYW5TaGFyZUFuZEJhbGFuY2UiLCJWZWN0b3IyUHJvcGVydHkiLCJjb21iaW5lT3B0aW9ucyIsIk1lYW5TaGFyZUFuZEJhbGFuY2VDb25zdGFudHMiLCJBY2Nlc3NpYmxlU2xpZGVyIiwiVmVjdG9yMiIsImdyYXBoaXRlVGV4dHVyZV9wbmciLCJNYXRyaXgzIiwicGVuY2lsX3BuZyIsIlByZWRpY3RNZWFuU2xpZGVyIiwiY29uc3RydWN0b3IiLCJtZWFuUHJlZGljdGlvblByb3BlcnR5IiwiZHJhZ1JhbmdlIiwibnVtYmVyT2ZDdXBzUHJvcGVydHkiLCJnZXRBY3RpdmUyREN1cHMiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwibGluZVBhdHRlcm4iLCJzZXRUcmFuc2Zvcm1NYXRyaXgiLCJhZmZpbmUiLCJwcmVkaWN0TWVhbkxpbmUiLCJDVVBfV0lEVEgiLCJsaW5lV2lkdGgiLCJzdHJva2UiLCJsaW5lRGFzaCIsInByZWRpY3RNZWFuSGFuZGxlIiwic2NhbGUiLCJyb3RhdGlvbiIsIk1hdGgiLCJQSSIsInByZWRpY3RNZWFuUG9zaXRpb25Qcm9wZXJ0eSIsInZhbHVlIiwibGluayIsInByZWRpY3RNZWFuUG9zaXRpb24iLCJjb25zdHJhaW5WYWx1ZSIsInkiLCJkcmFnTGlzdGVuZXIiLCJwb3NpdGlvblByb3BlcnR5IiwidHJhbnNmb3JtIiwidGFuZGVtIiwiY3JlYXRlVGFuZGVtIiwiY29tYmluZWRPcHRpb25zIiwiY2hpbGRyZW4iLCJjdXJzb3IiLCJwcmVkaWN0aW9uIiwiY2VudGVyWSIsIm1vZGVsVG9WaWV3WSIsImFkZElucHV0TGlzdGVuZXIiLCJudW1iZXJPZkN1cHMiLCJhY3RpdmUyREN1cHMiLCJ3YXRlckN1cDJEIiwibGVuZ3RoIiwidXBkYXRlTGluZSIsInBvc2l0aW9uIiwieCIsInNldFBvaW50ZXJBcmVhcyIsIm1vdXNlQXJlYSIsImxvY2FsQm91bmRzIiwiZGlsYXRlZCIsIk1PVVNFX0FSRUFfRElMQVRJT04iLCJ0b3VjaEFyZWEiLCJUT1VDSF9BUkVBX0RJTEFUSU9OIiwibGluZUVuZCIsIngyIiwibGVmdENlbnRlciIsInJpZ2h0Q2VudGVyIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJQcmVkaWN0TWVhblNsaWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogUmVwcmVzZW50YXRpb24gZm9yIHRoZSBkcmFnZ2FibGUgcHJlZGljdCBtZWFuIGxpbmUuXHJcbiAqIFVzZXJzIGFyZSBhYmxlIHRvIG1hbmlwdWxhdGUgbGluZSB0byBwcmVkaWN0IHdoYXQgdGhleSBiZWxpZXZlIHRoZSBtZWFuIG9mIHdhdGVyIGlzIGFjcm9zcyB2aXNpYmxlIGN1cHMuXHJcbiAqIEV4dGVuZHMgQWNjZXNzaWJsZVNsaWRlciBmb3IgYWx0ZXJuYXRpdmUgaW5wdXQuXHJcbiAqXHJcbiAqIEBhdXRob3IgTWFybGEgU2NodWx6IChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKiBAYXV0aG9yIFNhbSBSZWlkIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IERyYWdMaXN0ZW5lciwgSW1hZ2UsIExpbmUsIE5vZGUsIE5vZGVPcHRpb25zLCBQYXR0ZXJuIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFN0cmljdE9taXQgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1N0cmljdE9taXQuanMnO1xyXG5pbXBvcnQgbWVhblNoYXJlQW5kQmFsYW5jZSBmcm9tICcuLi8uLi9tZWFuU2hhcmVBbmRCYWxhbmNlLmpzJztcclxuaW1wb3J0IFZlY3RvcjJQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMlByb3BlcnR5LmpzJztcclxuaW1wb3J0IE1vZGVsVmlld1RyYW5zZm9ybTIgZnJvbSAnLi4vLi4vLi4vLi4vcGhldGNvbW1vbi9qcy92aWV3L01vZGVsVmlld1RyYW5zZm9ybTIuanMnO1xyXG5pbXBvcnQgUmFuZ2UgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1JhbmdlLmpzJztcclxuaW1wb3J0IHsgY29tYmluZU9wdGlvbnMsIEVtcHR5U2VsZk9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuaW1wb3J0IE1lYW5TaGFyZUFuZEJhbGFuY2VDb25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL01lYW5TaGFyZUFuZEJhbGFuY2VDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgQWNjZXNzaWJsZVNsaWRlciwgeyBBY2Nlc3NpYmxlU2xpZGVyT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9hY2Nlc3NpYmlsaXR5L0FjY2Vzc2libGVTbGlkZXIuanMnO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCBXYXRlckN1cCBmcm9tICcuLi9tb2RlbC9XYXRlckN1cC5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IGdyYXBoaXRlVGV4dHVyZV9wbmcgZnJvbSAnLi4vLi4vLi4vaW1hZ2VzL2dyYXBoaXRlVGV4dHVyZV9wbmcuanMnO1xyXG5pbXBvcnQgTWF0cml4MyBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvTWF0cml4My5qcyc7XHJcbmltcG9ydCBwZW5jaWxfcG5nIGZyb20gJy4uLy4uLy4uL2ltYWdlcy9wZW5jaWxfcG5nLmpzJztcclxuaW1wb3J0IFBpY2tSZXF1aXJlZCBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvUGlja1JlcXVpcmVkLmpzJztcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSBFbXB0eVNlbGZPcHRpb25zO1xyXG50eXBlIFBhcmVudE9wdGlvbnMgPSBBY2Nlc3NpYmxlU2xpZGVyT3B0aW9ucyAmIE5vZGVPcHRpb25zO1xyXG50eXBlIFByZWRpY3RNZWFuTm9kZU9wdGlvbnMgPVxyXG4gIFNlbGZPcHRpb25zXHJcbiAgJiBTdHJpY3RPbWl0PFBhcmVudE9wdGlvbnMsICdwaWNrYWJsZScgfCAnaW5wdXRFbmFibGVkJyB8ICdmb2N1c2FibGUnIHwgJ2N1cnNvcicgfCAnY2hpbGRyZW4nPlxyXG4gICYgUGlja1JlcXVpcmVkPFBhcmVudE9wdGlvbnMsICd0YW5kZW0nPjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWRpY3RNZWFuU2xpZGVyIGV4dGVuZHMgQWNjZXNzaWJsZVNsaWRlciggTm9kZSwgMCApIHtcclxuICBwcml2YXRlIHJlYWRvbmx5IHByZWRpY3RNZWFuTGluZTogTGluZTtcclxuICBwcml2YXRlIHJlYWRvbmx5IHByZWRpY3RNZWFuSGFuZGxlOiBOb2RlO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIG1lYW5QcmVkaWN0aW9uUHJvcGVydHk6IFByb3BlcnR5PG51bWJlcj4sIGRyYWdSYW5nZTogUmFuZ2UsIG51bWJlck9mQ3Vwc1Byb3BlcnR5OiBQcm9wZXJ0eTxudW1iZXI+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgZ2V0QWN0aXZlMkRDdXBzOiAoKSA9PiBBcnJheTxXYXRlckN1cD4sIG1vZGVsVmlld1RyYW5zZm9ybTogTW9kZWxWaWV3VHJhbnNmb3JtMiwgcHJvdmlkZWRPcHRpb25zOiBQcmVkaWN0TWVhbk5vZGVPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBwcm92aWRlZE9wdGlvbnM7XHJcblxyXG4gICAgY29uc3QgbGluZVBhdHRlcm4gPSBuZXcgUGF0dGVybiggZ3JhcGhpdGVUZXh0dXJlX3BuZyApLnNldFRyYW5zZm9ybU1hdHJpeCggTWF0cml4My5hZmZpbmUoIDAuMTUsIDAsIDAsIDAsIDAuMTUsIDAuOTc1ICkgKTtcclxuXHJcbiAgICBjb25zdCBwcmVkaWN0TWVhbkxpbmUgPSBuZXcgTGluZSggbmV3IFZlY3RvcjIoIDAsIDAgKSwgbmV3IFZlY3RvcjIoIE1lYW5TaGFyZUFuZEJhbGFuY2VDb25zdGFudHMuQ1VQX1dJRFRILCAwICksXHJcbiAgICAgIHsgbGluZVdpZHRoOiAxLjk1LCBzdHJva2U6IGxpbmVQYXR0ZXJuLCBsaW5lRGFzaDogWyA1LCAzIF0gfSApO1xyXG5cclxuICAgIGNvbnN0IHByZWRpY3RNZWFuSGFuZGxlID0gbmV3IEltYWdlKCBwZW5jaWxfcG5nLCB7IHNjYWxlOiAwLjA0LCByb3RhdGlvbjogTWF0aC5QSSAvIDQgfSApO1xyXG5cclxuICAgIC8vIHRyYWNrIHByZWRpY3RNZWFuTGluZSBkcmFnIHBvc2l0aW9uXHJcbiAgICBjb25zdCBwcmVkaWN0TWVhblBvc2l0aW9uUHJvcGVydHkgPSBuZXcgVmVjdG9yMlByb3BlcnR5KCBuZXcgVmVjdG9yMiggMCwgbWVhblByZWRpY3Rpb25Qcm9wZXJ0eS52YWx1ZSApICk7XHJcbiAgICBwcmVkaWN0TWVhblBvc2l0aW9uUHJvcGVydHkubGluayggcHJlZGljdE1lYW5Qb3NpdGlvbiA9PiB7XHJcbiAgICAgIG1lYW5QcmVkaWN0aW9uUHJvcGVydHkudmFsdWUgPSBkcmFnUmFuZ2UuY29uc3RyYWluVmFsdWUoIHByZWRpY3RNZWFuUG9zaXRpb24ueSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGRyYWdMaXN0ZW5lciA9IG5ldyBEcmFnTGlzdGVuZXIoIHtcclxuICAgICAgcG9zaXRpb25Qcm9wZXJ0eTogcHJlZGljdE1lYW5Qb3NpdGlvblByb3BlcnR5LFxyXG4gICAgICB0cmFuc2Zvcm06IG1vZGVsVmlld1RyYW5zZm9ybSxcclxuXHJcbiAgICAgIC8vIHBoZXQtaW9cclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdkcmFnTGlzdGVuZXInIClcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBjb21iaW5lZE9wdGlvbnMgPSBjb21iaW5lT3B0aW9uczxQYXJlbnRPcHRpb25zPiggeyBjaGlsZHJlbjogWyBwcmVkaWN0TWVhbkxpbmUsIHByZWRpY3RNZWFuSGFuZGxlIF0sIGN1cnNvcjogJ25zLXJlc2l6ZScgfSwgb3B0aW9ucyApO1xyXG4gICAgc3VwZXIoIGNvbWJpbmVkT3B0aW9ucyApO1xyXG5cclxuXHJcbiAgICBtZWFuUHJlZGljdGlvblByb3BlcnR5LmxpbmsoIHByZWRpY3Rpb24gPT4ge1xyXG4gICAgICB0aGlzLmNlbnRlclkgPSBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCBwcmVkaWN0aW9uICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5hZGRJbnB1dExpc3RlbmVyKCBkcmFnTGlzdGVuZXIgKTtcclxuXHJcbiAgICB0aGlzLnByZWRpY3RNZWFuTGluZSA9IHByZWRpY3RNZWFuTGluZTtcclxuICAgIHRoaXMucHJlZGljdE1lYW5IYW5kbGUgPSBwcmVkaWN0TWVhbkhhbmRsZTtcclxuXHJcbiAgICAvLyBVcGRhdGUgbGluZSBsZW5ndGggYW5kIGRpbGF0aW9uIGJhc2VkIG9uIHdhdGVyIGN1cHNcclxuICAgIG51bWJlck9mQ3Vwc1Byb3BlcnR5LmxpbmsoIG51bWJlck9mQ3VwcyA9PiB7XHJcbiAgICAgIGNvbnN0IGFjdGl2ZTJEQ3VwcyA9IGdldEFjdGl2ZTJEQ3VwcygpO1xyXG4gICAgICBjb25zdCB3YXRlckN1cDJEID0gYWN0aXZlMkRDdXBzWyBhY3RpdmUyREN1cHMubGVuZ3RoIC0gMSBdO1xyXG4gICAgICB0aGlzLnVwZGF0ZUxpbmUoIHdhdGVyQ3VwMkQucG9zaXRpb24ueCArIDgwICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5zZXRQb2ludGVyQXJlYXMoKTtcclxuICAgIHRoaXMuY2VudGVyWSA9IG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIDAgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0UG9pbnRlckFyZWFzKCk6IHZvaWQge1xyXG4gICAgdGhpcy5wcmVkaWN0TWVhbkxpbmUubW91c2VBcmVhID0gdGhpcy5wcmVkaWN0TWVhbkxpbmUubG9jYWxCb3VuZHMuZGlsYXRlZCggTWVhblNoYXJlQW5kQmFsYW5jZUNvbnN0YW50cy5NT1VTRV9BUkVBX0RJTEFUSU9OICk7XHJcbiAgICB0aGlzLnByZWRpY3RNZWFuTGluZS50b3VjaEFyZWEgPSB0aGlzLnByZWRpY3RNZWFuTGluZS5tb3VzZUFyZWE7XHJcbiAgICB0aGlzLnByZWRpY3RNZWFuSGFuZGxlLm1vdXNlQXJlYSA9IHRoaXMucHJlZGljdE1lYW5IYW5kbGUubG9jYWxCb3VuZHMuZGlsYXRlZCggTWVhblNoYXJlQW5kQmFsYW5jZUNvbnN0YW50cy5NT1VTRV9BUkVBX0RJTEFUSU9OICk7XHJcbiAgICB0aGlzLnByZWRpY3RNZWFuSGFuZGxlLnRvdWNoQXJlYSA9IHRoaXMucHJlZGljdE1lYW5IYW5kbGUubG9jYWxCb3VuZHMuZGlsYXRlZCggTWVhblNoYXJlQW5kQmFsYW5jZUNvbnN0YW50cy5UT1VDSF9BUkVBX0RJTEFUSU9OICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZUxpbmUoIGxpbmVFbmQ6IG51bWJlciApOiB2b2lkIHtcclxuICAgIHRoaXMucHJlZGljdE1lYW5MaW5lLngyID0gbGluZUVuZDtcclxuICAgIHRoaXMucHJlZGljdE1lYW5IYW5kbGUubGVmdENlbnRlciA9IHRoaXMucHJlZGljdE1lYW5MaW5lLnJpZ2h0Q2VudGVyO1xyXG4gICAgdGhpcy5zZXRQb2ludGVyQXJlYXMoKTtcclxuICB9XHJcbn1cclxuXHJcbm1lYW5TaGFyZUFuZEJhbGFuY2UucmVnaXN0ZXIoICdQcmVkaWN0TWVhblNsaWRlcicsIFByZWRpY3RNZWFuU2xpZGVyICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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