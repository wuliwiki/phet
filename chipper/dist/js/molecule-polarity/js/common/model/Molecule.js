// Copyright 2014-2022, University of Colorado Boulder

/**
 * Molecule is the abstract base type for all 2D molecules.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import Matrix3 from '../../../../dot/js/Matrix3.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import optionize from '../../../../phet-core/js/optionize.js';
import PhetioObject from '../../../../tandem/js/PhetioObject.js';
import moleculePolarity from '../../moleculePolarity.js';
import MPConstants from '../MPConstants.js';
export default class Molecule extends PhetioObject {
  // the point about which the molecule rotates, in global model coordinate frame

  // true when the user is dragging the molecule
  // the molecular dipole, sum of the bond dipoles
  /**
   * @param atoms - atoms that make up the molecule
   * @param bonds - bonds between the atoms
   * @param updateAtomPositions - repositions the atoms
   * @param updatePartialCharges - updates the partial charges
   * @param [providedOptions]
   */
  constructor(atoms, bonds, updateAtomPositions, updatePartialCharges, providedOptions) {
    const options = optionize()({
      // SelfOptions
      position: new Vector2(0, 0),
      angle: 0,
      // PhetioObjectOptions
      phetioState: false
    }, providedOptions);
    super(options);
    this.position = options.position;
    this.atoms = atoms;
    this.bonds = bonds;
    this.angleProperty = new NumberProperty(options.angle, {
      range: MPConstants.ANGLE_RANGE,
      units: 'radians',
      tandem: options.tandem.createTandem('angleProperty'),
      phetioDocumentation: 'rotation angle of the molecule, with positive rotation being CLOCKWISE'
    });
    this.isDraggingProperty = new BooleanProperty(false, {
      tandem: options.tandem.createTandem('isDraggingProperty'),
      phetioReadOnly: true,
      phetioState: false
    });

    // update atom positions when molecule is rotated
    this.angleProperty.link(angle => updateAtomPositions(this.position, angle));

    // bond dipoles, for deriving molecular dipole
    const bondDipoleProperties = this.bonds.map(bond => bond.dipoleProperty);
    this.dipoleProperty = DerivedProperty.deriveAny(bondDipoleProperties, () => {
      // Sum the bond dipoles
      const sum = new Vector2(0, 0);
      bondDipoleProperties.forEach(bondDipoleProperty => {
        sum.add(bondDipoleProperty.value);
      });

      // If y is effectively zero, snap to zero. See https://github.com/phetsims/molecule-polarity/issues/89
      if (Math.abs(sum.y) < 1E-10) {
        sum.y = 0;
      }
      return sum;
    }, {
      tandem: options.tandem.createTandem('dipoleProperty'),
      phetioValueType: Vector2.Vector2IO,
      phetioDocumentation: 'The molecular dipole, vector sum of the bond dipoles. ' + '+x is to the right, +y is DOWN, and positive rotation is CLOCKWISE.'
    });

    // update partial charges when atoms' EN changes
    this.atoms.forEach(atom => {
      atom.electronegativityProperty.link(updatePartialCharges);
    });
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
  reset() {
    this.angleProperty.reset();
    this.atoms.forEach(atom => atom.reset());
  }

  /**
   * Creates a transform that accounts for the molecule's position and orientation.
   */
  createTransformMatrix() {
    return Matrix3.translationFromVector(this.position).timesMatrix(Matrix3.rotation2(this.angleProperty.value));
  }
}
moleculePolarity.register('Molecule', Molecule);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJEZXJpdmVkUHJvcGVydHkiLCJOdW1iZXJQcm9wZXJ0eSIsIk1hdHJpeDMiLCJWZWN0b3IyIiwib3B0aW9uaXplIiwiUGhldGlvT2JqZWN0IiwibW9sZWN1bGVQb2xhcml0eSIsIk1QQ29uc3RhbnRzIiwiTW9sZWN1bGUiLCJjb25zdHJ1Y3RvciIsImF0b21zIiwiYm9uZHMiLCJ1cGRhdGVBdG9tUG9zaXRpb25zIiwidXBkYXRlUGFydGlhbENoYXJnZXMiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwicG9zaXRpb24iLCJhbmdsZSIsInBoZXRpb1N0YXRlIiwiYW5nbGVQcm9wZXJ0eSIsInJhbmdlIiwiQU5HTEVfUkFOR0UiLCJ1bml0cyIsInRhbmRlbSIsImNyZWF0ZVRhbmRlbSIsInBoZXRpb0RvY3VtZW50YXRpb24iLCJpc0RyYWdnaW5nUHJvcGVydHkiLCJwaGV0aW9SZWFkT25seSIsImxpbmsiLCJib25kRGlwb2xlUHJvcGVydGllcyIsIm1hcCIsImJvbmQiLCJkaXBvbGVQcm9wZXJ0eSIsImRlcml2ZUFueSIsInN1bSIsImZvckVhY2giLCJib25kRGlwb2xlUHJvcGVydHkiLCJhZGQiLCJ2YWx1ZSIsIk1hdGgiLCJhYnMiLCJ5IiwicGhldGlvVmFsdWVUeXBlIiwiVmVjdG9yMklPIiwiYXRvbSIsImVsZWN0cm9uZWdhdGl2aXR5UHJvcGVydHkiLCJkaXNwb3NlIiwiYXNzZXJ0IiwicmVzZXQiLCJjcmVhdGVUcmFuc2Zvcm1NYXRyaXgiLCJ0cmFuc2xhdGlvbkZyb21WZWN0b3IiLCJ0aW1lc01hdHJpeCIsInJvdGF0aW9uMiIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiTW9sZWN1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTQtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogTW9sZWN1bGUgaXMgdGhlIGFic3RyYWN0IGJhc2UgdHlwZSBmb3IgYWxsIDJEIG1vbGVjdWxlcy5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgQm9vbGVhblByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvQm9vbGVhblByb3BlcnR5LmpzJztcclxuaW1wb3J0IERlcml2ZWRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Rlcml2ZWRQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBOdW1iZXJQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL051bWJlclByb3BlcnR5LmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBNYXRyaXgzIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9NYXRyaXgzLmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgUGlja1JlcXVpcmVkIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy90eXBlcy9QaWNrUmVxdWlyZWQuanMnO1xyXG5pbXBvcnQgUGhldGlvT2JqZWN0LCB7IFBoZXRpb09iamVjdE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvUGhldGlvT2JqZWN0LmpzJztcclxuaW1wb3J0IG1vbGVjdWxlUG9sYXJpdHkgZnJvbSAnLi4vLi4vbW9sZWN1bGVQb2xhcml0eS5qcyc7XHJcbmltcG9ydCBNUENvbnN0YW50cyBmcm9tICcuLi9NUENvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBBdG9tIGZyb20gJy4vQXRvbS5qcyc7XHJcbmltcG9ydCBCb25kIGZyb20gJy4vQm9uZC5qcyc7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG4gIHBvc2l0aW9uPzogVmVjdG9yMjsgLy8gdGhlIHBvaW50IGFib3V0IHdoaWNoIHRoZSBtb2xlY3VsZSByb3RhdGVzLCBpbiBnbG9iYWwgbW9kZWwgY29vcmRpbmF0ZSBmcmFtZVxyXG4gIGFuZ2xlPzogbnVtYmVyOyAvLyBhbmdsZSBvZiByb3RhdGlvbiBvZiB0aGUgZW50aXJlIG1vbGVjdWxlIGFib3V0IHRoZSBwb3NpdGlvbiwgaW4gcmFkaWFuc1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgTW9sZWN1bGVPcHRpb25zID0gU2VsZk9wdGlvbnMgJiBQaWNrUmVxdWlyZWQ8UGhldGlvT2JqZWN0T3B0aW9ucywgJ3RhbmRlbSc+O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgTW9sZWN1bGUgZXh0ZW5kcyBQaGV0aW9PYmplY3Qge1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgcG9zaXRpb246IFZlY3RvcjI7IC8vIHRoZSBwb2ludCBhYm91dCB3aGljaCB0aGUgbW9sZWN1bGUgcm90YXRlcywgaW4gZ2xvYmFsIG1vZGVsIGNvb3JkaW5hdGUgZnJhbWVcclxuICBwdWJsaWMgcmVhZG9ubHkgYXRvbXM6IEF0b21bXTtcclxuICBwdWJsaWMgcmVhZG9ubHkgYm9uZHM6IEJvbmRbXTtcclxuICBwdWJsaWMgcmVhZG9ubHkgYW5nbGVQcm9wZXJ0eTogTnVtYmVyUHJvcGVydHk7XHJcbiAgcHVibGljIHJlYWRvbmx5IGlzRHJhZ2dpbmdQcm9wZXJ0eTogUHJvcGVydHk8Ym9vbGVhbj47IC8vIHRydWUgd2hlbiB0aGUgdXNlciBpcyBkcmFnZ2luZyB0aGUgbW9sZWN1bGVcclxuICBwdWJsaWMgcmVhZG9ubHkgZGlwb2xlUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PFZlY3RvcjI+OyAvLyB0aGUgbW9sZWN1bGFyIGRpcG9sZSwgc3VtIG9mIHRoZSBib25kIGRpcG9sZXNcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIGF0b21zIC0gYXRvbXMgdGhhdCBtYWtlIHVwIHRoZSBtb2xlY3VsZVxyXG4gICAqIEBwYXJhbSBib25kcyAtIGJvbmRzIGJldHdlZW4gdGhlIGF0b21zXHJcbiAgICogQHBhcmFtIHVwZGF0ZUF0b21Qb3NpdGlvbnMgLSByZXBvc2l0aW9ucyB0aGUgYXRvbXNcclxuICAgKiBAcGFyYW0gdXBkYXRlUGFydGlhbENoYXJnZXMgLSB1cGRhdGVzIHRoZSBwYXJ0aWFsIGNoYXJnZXNcclxuICAgKiBAcGFyYW0gW3Byb3ZpZGVkT3B0aW9uc11cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoIGF0b21zOiBBdG9tW10sIGJvbmRzOiBCb25kW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVBdG9tUG9zaXRpb25zOiAoIHBvc2l0aW9uOiBWZWN0b3IyLCBhbmdsZTogbnVtYmVyICkgPT4gdm9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBhcnRpYWxDaGFyZ2VzOiAoKSA9PiB2b2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRPcHRpb25zOiBNb2xlY3VsZU9wdGlvbnMgKSB7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxNb2xlY3VsZU9wdGlvbnMsIFNlbGZPcHRpb25zLCBQaGV0aW9PYmplY3RPcHRpb25zPigpKCB7XHJcblxyXG4gICAgICAvLyBTZWxmT3B0aW9uc1xyXG4gICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjIoIDAsIDAgKSxcclxuICAgICAgYW5nbGU6IDAsXHJcblxyXG4gICAgICAvLyBQaGV0aW9PYmplY3RPcHRpb25zXHJcbiAgICAgIHBoZXRpb1N0YXRlOiBmYWxzZVxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcbiAgICB0aGlzLnBvc2l0aW9uID0gb3B0aW9ucy5wb3NpdGlvbjtcclxuICAgIHRoaXMuYXRvbXMgPSBhdG9tcztcclxuICAgIHRoaXMuYm9uZHMgPSBib25kcztcclxuXHJcbiAgICB0aGlzLmFuZ2xlUHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHkoIG9wdGlvbnMuYW5nbGUsIHtcclxuICAgICAgcmFuZ2U6IE1QQ29uc3RhbnRzLkFOR0xFX1JBTkdFLFxyXG4gICAgICB1bml0czogJ3JhZGlhbnMnLFxyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2FuZ2xlUHJvcGVydHknICksXHJcbiAgICAgIHBoZXRpb0RvY3VtZW50YXRpb246ICdyb3RhdGlvbiBhbmdsZSBvZiB0aGUgbW9sZWN1bGUsIHdpdGggcG9zaXRpdmUgcm90YXRpb24gYmVpbmcgQ0xPQ0tXSVNFJ1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuaXNEcmFnZ2luZ1Byb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UsIHtcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdpc0RyYWdnaW5nUHJvcGVydHknICksXHJcbiAgICAgIHBoZXRpb1JlYWRPbmx5OiB0cnVlLFxyXG4gICAgICBwaGV0aW9TdGF0ZTogZmFsc2VcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyB1cGRhdGUgYXRvbSBwb3NpdGlvbnMgd2hlbiBtb2xlY3VsZSBpcyByb3RhdGVkXHJcbiAgICB0aGlzLmFuZ2xlUHJvcGVydHkubGluayggYW5nbGUgPT4gdXBkYXRlQXRvbVBvc2l0aW9ucyggdGhpcy5wb3NpdGlvbiwgYW5nbGUgKSApO1xyXG5cclxuICAgIC8vIGJvbmQgZGlwb2xlcywgZm9yIGRlcml2aW5nIG1vbGVjdWxhciBkaXBvbGVcclxuICAgIGNvbnN0IGJvbmREaXBvbGVQcm9wZXJ0aWVzID0gdGhpcy5ib25kcy5tYXAoIGJvbmQgPT4gYm9uZC5kaXBvbGVQcm9wZXJ0eSApO1xyXG5cclxuICAgIHRoaXMuZGlwb2xlUHJvcGVydHkgPSBEZXJpdmVkUHJvcGVydHkuZGVyaXZlQW55KCBib25kRGlwb2xlUHJvcGVydGllcywgKCkgPT4ge1xyXG5cclxuICAgICAgLy8gU3VtIHRoZSBib25kIGRpcG9sZXNcclxuICAgICAgY29uc3Qgc3VtID0gbmV3IFZlY3RvcjIoIDAsIDAgKTtcclxuICAgICAgYm9uZERpcG9sZVByb3BlcnRpZXMuZm9yRWFjaCggYm9uZERpcG9sZVByb3BlcnR5ID0+IHtcclxuICAgICAgICBzdW0uYWRkKCBib25kRGlwb2xlUHJvcGVydHkudmFsdWUgKTtcclxuICAgICAgfSApO1xyXG5cclxuICAgICAgLy8gSWYgeSBpcyBlZmZlY3RpdmVseSB6ZXJvLCBzbmFwIHRvIHplcm8uIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvbW9sZWN1bGUtcG9sYXJpdHkvaXNzdWVzLzg5XHJcbiAgICAgIGlmICggTWF0aC5hYnMoIHN1bS55ICkgPCAxRS0xMCApIHtcclxuICAgICAgICBzdW0ueSA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHN1bTtcclxuICAgIH0sIHtcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdkaXBvbGVQcm9wZXJ0eScgKSxcclxuICAgICAgcGhldGlvVmFsdWVUeXBlOiBWZWN0b3IyLlZlY3RvcjJJTyxcclxuICAgICAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ1RoZSBtb2xlY3VsYXIgZGlwb2xlLCB2ZWN0b3Igc3VtIG9mIHRoZSBib25kIGRpcG9sZXMuICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnK3ggaXMgdG8gdGhlIHJpZ2h0LCAreSBpcyBET1dOLCBhbmQgcG9zaXRpdmUgcm90YXRpb24gaXMgQ0xPQ0tXSVNFLidcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyB1cGRhdGUgcGFydGlhbCBjaGFyZ2VzIHdoZW4gYXRvbXMnIEVOIGNoYW5nZXNcclxuICAgIHRoaXMuYXRvbXMuZm9yRWFjaCggYXRvbSA9PiB7XHJcbiAgICAgIGF0b20uZWxlY3Ryb25lZ2F0aXZpdHlQcm9wZXJ0eS5saW5rKCB1cGRhdGVQYXJ0aWFsQ2hhcmdlcyApO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBmYWxzZSwgJ2Rpc3Bvc2UgaXMgbm90IHN1cHBvcnRlZCwgZXhpc3RzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbScgKTtcclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcclxuICAgIHRoaXMuYW5nbGVQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5hdG9tcy5mb3JFYWNoKCBhdG9tID0+IGF0b20ucmVzZXQoKSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIHRyYW5zZm9ybSB0aGF0IGFjY291bnRzIGZvciB0aGUgbW9sZWN1bGUncyBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIGNyZWF0ZVRyYW5zZm9ybU1hdHJpeCgpOiBNYXRyaXgzIHtcclxuICAgIHJldHVybiBNYXRyaXgzLnRyYW5zbGF0aW9uRnJvbVZlY3RvciggdGhpcy5wb3NpdGlvbiApLnRpbWVzTWF0cml4KCBNYXRyaXgzLnJvdGF0aW9uMiggdGhpcy5hbmdsZVByb3BlcnR5LnZhbHVlICkgKTtcclxuICB9XHJcbn1cclxuXHJcbm1vbGVjdWxlUG9sYXJpdHkucmVnaXN0ZXIoICdNb2xlY3VsZScsIE1vbGVjdWxlICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsT0FBT0MsZUFBZSxNQUFNLHdDQUF3QztBQUNwRSxPQUFPQyxjQUFjLE1BQU0s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