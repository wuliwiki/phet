// Copyright 2017-2022, University of Colorado Boulder

/**
 * Class for Macro subscreen. Adds charge, ruler, and legend elements and creates the necessary scale factor for proper
 * model/view consistency.
 *
 * @author Jesse Greenberg
 * @author Michael Barlow
 */

import DefaultDirection from '../../../../inverse-square-law-common/js/view/DefaultDirection.js';
import ISLCAlertManager from '../../../../inverse-square-law-common/js/view/ISLCAlertManager.js';
import ISLCLegendNode from '../../../../inverse-square-law-common/js/view/ISLCLegendNode.js';
import CoulombsLawColors from '../../common/CoulombsLawColors.js';
import ChargeNode from '../../common/view/ChargeNode.js';
import CoulombsLawCommonView from '../../common/view/CoulombsLawCommonView.js';
import CoulombsLawForceDescriber from '../../common/view/describers/CoulombsLawForceDescriber.js';
import CoulombsLawPositionDescriber from '../../common/view/describers/CoulombsLawPositionDescriber.js';
import coulombsLaw from '../../coulombsLaw.js';
import CoulombsLawStrings from '../../CoulombsLawStrings.js';
const charge1AbbreviatedString = CoulombsLawStrings.charge1Abbreviated;
const charge2AbbreviatedString = CoulombsLawStrings.charge2Abbreviated;
const unitsMacroLegendScaleString = CoulombsLawStrings.units.macroLegendScale;
const unitsMicrocoulombsString = CoulombsLawStrings.units.microcoulombs;

// constants
const SCALE_FACTOR = 1E6; // number of microcoulombs in one C
const MODEL_VIEW_TRANSFORM_SCALE = 5000;
class CoulombsLawMacroView extends CoulombsLawCommonView {
  /**
   * @param {CoulombsLawModel} coulombsLawModel
   * @param {Tandem} tandem
   */
  constructor(coulombsLawModel, tandem) {
    const rulerOptions = {
      snapToNearest: 0.001 // in model coordinates
    };

    const positionDescriber = new CoulombsLawPositionDescriber(coulombsLawModel, 'label1', 'label2');
    const forceDescriber = new CoulombsLawForceDescriber(coulombsLawModel, 'label1', 'label2', positionDescriber);
    const alertManager = new ISLCAlertManager(coulombsLawModel, forceDescriber);
    super(coulombsLawModel, SCALE_FACTOR, unitsMicrocoulombsString, MODEL_VIEW_TRANSFORM_SCALE, rulerOptions, tandem);

    // charge nodes added in each screen to allow for different decimal precision and arrow height
    const chargeNode1 = new ChargeNode(coulombsLawModel, coulombsLawModel.object1, this.layoutBounds, this.modelViewTransform, alertManager, forceDescriber, positionDescriber, {
      label: charge1AbbreviatedString,
      otherObjectLabel: charge2AbbreviatedString,
      defaultDirection: DefaultDirection.LEFT,
      arrowColor: '#66f',
      forceArrowHeight: 70,
      arrowNodeOptions: {
        forceReadoutDecimalPlaces: 3
      },
      tandem: tandem.createTandem('chargeNode1')
    });
    const chargeNode2 = new ChargeNode(coulombsLawModel, coulombsLawModel.object2, this.layoutBounds, this.modelViewTransform, alertManager, forceDescriber, positionDescriber, {
      label: charge2AbbreviatedString,
      otherObjectLabel: charge1AbbreviatedString,
      defaultDirection: DefaultDirection.RIGHT,
      arrowColor: '#f66',
      forceArrowHeight: 120,
      arrowNodeOptions: {
        forceReadoutDecimalPlaces: 3
      },
      tandem: tandem.createTandem('chargeNode2')
    });

    // charge nodes and arrows are added to the bottom of the scene graph so that the ruler will appear above them yet
    // still below the control panels (which are added in the CommonView)
    this.insertChild(0, chargeNode1);
    this.insertChild(0, chargeNode2);

    // the arrows and their labels should be above both charges (and their markers) but below
    // the ruler and control panels
    this.insertChild(1, chargeNode1.arrowNode);
    this.insertChild(1, chargeNode2.arrowNode);

    // create a line the length of 1 cm
    const legendNodeLineLength = this.modelViewTransform.modelToViewDeltaX(1E-2);
    const legendNode = new ISLCLegendNode(legendNodeLineLength,
    // length of the line
    unitsMacroLegendScaleString,
    // unit string
    {
      fill: CoulombsLawColors.legendNodeFillProperty,
      bottom: this.layoutBounds.maxY - 10,
      left: this.layoutBounds.minX + 9.35,
      tandem: tandem.createTandem('legendNode')
    });
    this.addChild(legendNode);

    // pdom - charges are first in accessible order, followed by control panel in supertype
    const charges = [chargeNode1, chargeNode2];
    this.pdomPlayAreaNode.pdomOrder = charges.concat(this.pdomPlayAreaNode.pdomOrder);
  }
}
coulombsLaw.register('CoulombsLawMacroView', CoulombsLawMacroView);
export default CoulombsLawMacroView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZWZhdWx0RGlyZWN0aW9uIiwiSVNMQ0FsZXJ0TWFuYWdlciIsIklTTENMZWdlbmROb2RlIiwiQ291bG9tYnNMYXdDb2xvcnMiLCJDaGFyZ2VOb2RlIiwiQ291bG9tYnNMYXdDb21tb25WaWV3IiwiQ291bG9tYnNMYXdGb3JjZURlc2NyaWJlciIsIkNvdWxvbWJzTGF3UG9zaXRpb25EZXNjcmliZXIiLCJjb3Vsb21ic0xhdyIsIkNvdWxvbWJzTGF3U3RyaW5ncyIsImNoYXJnZTFBYmJyZXZpYXRlZFN0cmluZyIsImNoYXJnZTFBYmJyZXZpYXRlZCIsImNoYXJnZTJBYmJyZXZpYXRlZFN0cmluZyIsImNoYXJnZTJBYmJyZXZpYXRlZCIsInVuaXRzTWFjcm9MZWdlbmRTY2FsZVN0cmluZyIsInVuaXRzIiwibWFjcm9MZWdlbmRTY2FsZSIsInVuaXRzTWljcm9jb3Vsb21ic1N0cmluZyIsIm1pY3JvY291bG9tYnMiLCJTQ0FMRV9GQUNUT1IiLCJNT0RFTF9WSUVXX1RSQU5TRk9STV9TQ0FMRSIsIkNvdWxvbWJzTGF3TWFjcm9WaWV3IiwiY29uc3RydWN0b3IiLCJjb3Vsb21ic0xhd01vZGVsIiwidGFuZGVtIiwicnVsZXJPcHRpb25zIiwic25hcFRvTmVhcmVzdCIsInBvc2l0aW9uRGVzY3JpYmVyIiwiZm9yY2VEZXNjcmliZXIiLCJhbGVydE1hbmFnZXIiLCJjaGFyZ2VOb2RlMSIsIm9iamVjdDEiLCJsYXlvdXRCb3VuZHMiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJsYWJlbCIsIm90aGVyT2JqZWN0TGFiZWwiLCJkZWZhdWx0RGlyZWN0aW9uIiwiTEVGVCIsImFycm93Q29sb3IiLCJmb3JjZUFycm93SGVpZ2h0IiwiYXJyb3dOb2RlT3B0aW9ucyIsImZvcmNlUmVhZG91dERlY2ltYWxQbGFjZXMiLCJjcmVhdGVUYW5kZW0iLCJjaGFyZ2VOb2RlMiIsIm9iamVjdDIiLCJSSUdIVCIsImluc2VydENoaWxkIiwiYXJyb3dOb2RlIiwibGVnZW5kTm9kZUxpbmVMZW5ndGgiLCJtb2RlbFRvVmlld0RlbHRhWCIsImxlZ2VuZE5vZGUiLCJmaWxsIiwibGVnZW5kTm9kZUZpbGxQcm9wZXJ0eSIsImJvdHRvbSIsIm1heFkiLCJsZWZ0IiwibWluWCIsImFkZENoaWxkIiwiY2hhcmdlcyIsInBkb21QbGF5QXJlYU5vZGUiLCJwZG9tT3JkZXIiLCJjb25jYXQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkNvdWxvbWJzTGF3TWFjcm9WaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE3LTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIENsYXNzIGZvciBNYWNybyBzdWJzY3JlZW4uIEFkZHMgY2hhcmdlLCBydWxlciwgYW5kIGxlZ2VuZCBlbGVtZW50cyBhbmQgY3JlYXRlcyB0aGUgbmVjZXNzYXJ5IHNjYWxlIGZhY3RvciBmb3IgcHJvcGVyXHJcbiAqIG1vZGVsL3ZpZXcgY29uc2lzdGVuY3kuXHJcbiAqXHJcbiAqIEBhdXRob3IgSmVzc2UgR3JlZW5iZXJnXHJcbiAqIEBhdXRob3IgTWljaGFlbCBCYXJsb3dcclxuICovXHJcblxyXG5pbXBvcnQgRGVmYXVsdERpcmVjdGlvbiBmcm9tICcuLi8uLi8uLi8uLi9pbnZlcnNlLXNxdWFyZS1sYXctY29tbW9uL2pzL3ZpZXcvRGVmYXVsdERpcmVjdGlvbi5qcyc7XHJcbmltcG9ydCBJU0xDQWxlcnRNYW5hZ2VyIGZyb20gJy4uLy4uLy4uLy4uL2ludmVyc2Utc3F1YXJlLWxhdy1jb21tb24vanMvdmlldy9JU0xDQWxlcnRNYW5hZ2VyLmpzJztcclxuaW1wb3J0IElTTENMZWdlbmROb2RlIGZyb20gJy4uLy4uLy4uLy4uL2ludmVyc2Utc3F1YXJlLWxhdy1jb21tb24vanMvdmlldy9JU0xDTGVnZW5kTm9kZS5qcyc7XHJcbmltcG9ydCBDb3Vsb21ic0xhd0NvbG9ycyBmcm9tICcuLi8uLi9jb21tb24vQ291bG9tYnNMYXdDb2xvcnMuanMnO1xyXG5pbXBvcnQgQ2hhcmdlTm9kZSBmcm9tICcuLi8uLi9jb21tb24vdmlldy9DaGFyZ2VOb2RlLmpzJztcclxuaW1wb3J0IENvdWxvbWJzTGF3Q29tbW9uVmlldyBmcm9tICcuLi8uLi9jb21tb24vdmlldy9Db3Vsb21ic0xhd0NvbW1vblZpZXcuanMnO1xyXG5pbXBvcnQgQ291bG9tYnNMYXdGb3JjZURlc2NyaWJlciBmcm9tICcuLi8uLi9jb21tb24vdmlldy9kZXNjcmliZXJzL0NvdWxvbWJzTGF3Rm9yY2VEZXNjcmliZXIuanMnO1xyXG5pbXBvcnQgQ291bG9tYnNMYXdQb3NpdGlvbkRlc2NyaWJlciBmcm9tICcuLi8uLi9jb21tb24vdmlldy9kZXNjcmliZXJzL0NvdWxvbWJzTGF3UG9zaXRpb25EZXNjcmliZXIuanMnO1xyXG5pbXBvcnQgY291bG9tYnNMYXcgZnJvbSAnLi4vLi4vY291bG9tYnNMYXcuanMnO1xyXG5pbXBvcnQgQ291bG9tYnNMYXdTdHJpbmdzIGZyb20gJy4uLy4uL0NvdWxvbWJzTGF3U3RyaW5ncy5qcyc7XHJcblxyXG5jb25zdCBjaGFyZ2UxQWJicmV2aWF0ZWRTdHJpbmcgPSBDb3Vsb21ic0xhd1N0cmluZ3MuY2hhcmdlMUFiYnJldmlhdGVkO1xyXG5jb25zdCBjaGFyZ2UyQWJicmV2aWF0ZWRTdHJpbmcgPSBDb3Vsb21ic0xhd1N0cmluZ3MuY2hhcmdlMkFiYnJldmlhdGVkO1xyXG5jb25zdCB1bml0c01hY3JvTGVnZW5kU2NhbGVTdHJpbmcgPSBDb3Vsb21ic0xhd1N0cmluZ3MudW5pdHMubWFjcm9MZWdlbmRTY2FsZTtcclxuXHJcbmNvbnN0IHVuaXRzTWljcm9jb3Vsb21ic1N0cmluZyA9IENvdWxvbWJzTGF3U3RyaW5ncy51bml0cy5taWNyb2NvdWxvbWJzO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IFNDQUxFX0ZBQ1RPUiA9IDFFNjsgIC8vIG51bWJlciBvZiBtaWNyb2NvdWxvbWJzIGluIG9uZSBDXHJcbmNvbnN0IE1PREVMX1ZJRVdfVFJBTlNGT1JNX1NDQUxFID0gNTAwMDtcclxuXHJcbmNsYXNzIENvdWxvbWJzTGF3TWFjcm9WaWV3IGV4dGVuZHMgQ291bG9tYnNMYXdDb21tb25WaWV3IHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtDb3Vsb21ic0xhd01vZGVsfSBjb3Vsb21ic0xhd01vZGVsXHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBjb3Vsb21ic0xhd01vZGVsLCB0YW5kZW0gKSB7XHJcblxyXG4gICAgY29uc3QgcnVsZXJPcHRpb25zID0ge1xyXG4gICAgICBzbmFwVG9OZWFyZXN0OiAwLjAwMSAgLy8gaW4gbW9kZWwgY29vcmRpbmF0ZXNcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcG9zaXRpb25EZXNjcmliZXIgPSBuZXcgQ291bG9tYnNMYXdQb3NpdGlvbkRlc2NyaWJlciggY291bG9tYnNMYXdNb2RlbCwgJ2xhYmVsMScsICdsYWJlbDInICk7XHJcbiAgICBjb25zdCBmb3JjZURlc2NyaWJlciA9IG5ldyBDb3Vsb21ic0xhd0ZvcmNlRGVzY3JpYmVyKCBjb3Vsb21ic0xhd01vZGVsLCAnbGFiZWwxJywgJ2xhYmVsMicsIHBvc2l0aW9uRGVzY3JpYmVyICk7XHJcbiAgICBjb25zdCBhbGVydE1hbmFnZXIgPSBuZXcgSVNMQ0FsZXJ0TWFuYWdlciggY291bG9tYnNMYXdNb2RlbCwgZm9yY2VEZXNjcmliZXIgKTtcclxuXHJcbiAgICBzdXBlciggY291bG9tYnNMYXdNb2RlbCwgU0NBTEVfRkFDVE9SLCB1bml0c01pY3JvY291bG9tYnNTdHJpbmcsIE1PREVMX1ZJRVdfVFJBTlNGT1JNX1NDQUxFLCBydWxlck9wdGlvbnMsIHRhbmRlbSApO1xyXG5cclxuICAgIC8vIGNoYXJnZSBub2RlcyBhZGRlZCBpbiBlYWNoIHNjcmVlbiB0byBhbGxvdyBmb3IgZGlmZmVyZW50IGRlY2ltYWwgcHJlY2lzaW9uIGFuZCBhcnJvdyBoZWlnaHRcclxuICAgIGNvbnN0IGNoYXJnZU5vZGUxID0gbmV3IENoYXJnZU5vZGUoXHJcbiAgICAgIGNvdWxvbWJzTGF3TW9kZWwsXHJcbiAgICAgIGNvdWxvbWJzTGF3TW9kZWwub2JqZWN0MSxcclxuICAgICAgdGhpcy5sYXlvdXRCb3VuZHMsXHJcbiAgICAgIHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLFxyXG4gICAgICBhbGVydE1hbmFnZXIsXHJcbiAgICAgIGZvcmNlRGVzY3JpYmVyLFxyXG4gICAgICBwb3NpdGlvbkRlc2NyaWJlcixcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiBjaGFyZ2UxQWJicmV2aWF0ZWRTdHJpbmcsXHJcbiAgICAgICAgb3RoZXJPYmplY3RMYWJlbDogY2hhcmdlMkFiYnJldmlhdGVkU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHREaXJlY3Rpb246IERlZmF1bHREaXJlY3Rpb24uTEVGVCxcclxuICAgICAgICBhcnJvd0NvbG9yOiAnIzY2ZicsXHJcbiAgICAgICAgZm9yY2VBcnJvd0hlaWdodDogNzAsXHJcbiAgICAgICAgYXJyb3dOb2RlT3B0aW9uczoge1xyXG4gICAgICAgICAgZm9yY2VSZWFkb3V0RGVjaW1hbFBsYWNlczogM1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnY2hhcmdlTm9kZTEnIClcclxuICAgICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGNoYXJnZU5vZGUyID0gbmV3IENoYXJnZU5vZGUoXHJcbiAgICAgIGNvdWxvbWJzTGF3TW9kZWwsXHJcbiAgICAgIGNvdWxvbWJzTGF3TW9kZWwub2JqZWN0MixcclxuICAgICAgdGhpcy5sYXlvdXRCb3VuZHMsXHJcbiAgICAgIHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLFxyXG4gICAgICBhbGVydE1hbmFnZXIsXHJcbiAgICAgIGZvcmNlRGVzY3JpYmVyLFxyXG4gICAgICBwb3NpdGlvbkRlc2NyaWJlcixcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiBjaGFyZ2UyQWJicmV2aWF0ZWRTdHJpbmcsXHJcbiAgICAgICAgb3RoZXJPYmplY3RMYWJlbDogY2hhcmdlMUFiYnJldmlhdGVkU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHREaXJlY3Rpb246IERlZmF1bHREaXJlY3Rpb24uUklHSFQsXHJcbiAgICAgICAgYXJyb3dDb2xvcjogJyNmNjYnLFxyXG4gICAgICAgIGZvcmNlQXJyb3dIZWlnaHQ6IDEyMCxcclxuICAgICAgICBhcnJvd05vZGVPcHRpb25zOiB7XHJcbiAgICAgICAgICBmb3JjZVJlYWRvdXREZWNpbWFsUGxhY2VzOiAzXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdjaGFyZ2VOb2RlMicgKVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgLy8gY2hhcmdlIG5vZGVzIGFuZCBhcnJvd3MgYXJlIGFkZGVkIHRvIHRoZSBib3R0b20gb2YgdGhlIHNjZW5lIGdyYXBoIHNvIHRoYXQgdGhlIHJ1bGVyIHdpbGwgYXBwZWFyIGFib3ZlIHRoZW0geWV0XHJcbiAgICAvLyBzdGlsbCBiZWxvdyB0aGUgY29udHJvbCBwYW5lbHMgKHdoaWNoIGFyZSBhZGRlZCBpbiB0aGUgQ29tbW9uVmlldylcclxuICAgIHRoaXMuaW5zZXJ0Q2hpbGQoIDAsIGNoYXJnZU5vZGUxICk7XHJcbiAgICB0aGlzLmluc2VydENoaWxkKCAwLCBjaGFyZ2VOb2RlMiApO1xyXG5cclxuICAgIC8vIHRoZSBhcnJvd3MgYW5kIHRoZWlyIGxhYmVscyBzaG91bGQgYmUgYWJvdmUgYm90aCBjaGFyZ2VzIChhbmQgdGhlaXIgbWFya2VycykgYnV0IGJlbG93XHJcbiAgICAvLyB0aGUgcnVsZXIgYW5kIGNvbnRyb2wgcGFuZWxzXHJcbiAgICB0aGlzLmluc2VydENoaWxkKCAxLCBjaGFyZ2VOb2RlMS5hcnJvd05vZGUgKTtcclxuICAgIHRoaXMuaW5zZXJ0Q2hpbGQoIDEsIGNoYXJnZU5vZGUyLmFycm93Tm9kZSApO1xyXG5cclxuICAgIC8vIGNyZWF0ZSBhIGxpbmUgdGhlIGxlbmd0aCBvZiAxIGNtXHJcbiAgICBjb25zdCBsZWdlbmROb2RlTGluZUxlbmd0aCA9IHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3RGVsdGFYKCAxRS0yICk7XHJcblxyXG4gICAgY29uc3QgbGVnZW5kTm9kZSA9IG5ldyBJU0xDTGVnZW5kTm9kZShcclxuICAgICAgbGVnZW5kTm9kZUxpbmVMZW5ndGgsIC8vIGxlbmd0aCBvZiB0aGUgbGluZVxyXG4gICAgICB1bml0c01hY3JvTGVnZW5kU2NhbGVTdHJpbmcsIC8vIHVuaXQgc3RyaW5nXHJcbiAgICAgIHtcclxuICAgICAgICBmaWxsOiBDb3Vsb21ic0xhd0NvbG9ycy5sZWdlbmROb2RlRmlsbFByb3BlcnR5LFxyXG4gICAgICAgIGJvdHRvbTogdGhpcy5sYXlvdXRCb3VuZHMubWF4WSAtIDEwLFxyXG4gICAgICAgIGxlZnQ6IHRoaXMubGF5b3V0Qm91bmRzLm1pblggKyA5LjM1LFxyXG4gICAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2xlZ2VuZE5vZGUnIClcclxuICAgICAgfSApO1xyXG5cclxuICAgIHRoaXMuYWRkQ2hpbGQoIGxlZ2VuZE5vZGUgKTtcclxuXHJcbiAgICAvLyBwZG9tIC0gY2hhcmdlcyBhcmUgZmlyc3QgaW4gYWNjZXNzaWJsZSBvcmRlciwgZm9sbG93ZWQgYnkgY29udHJvbCBwYW5lbCBpbiBzdXBlcnR5cGVcclxuICAgIGNvbnN0IGNoYXJnZXMgPSBbIGNoYXJnZU5vZGUxLCBjaGFyZ2VOb2RlMiBdO1xyXG4gICAgdGhpcy5wZG9tUGxheUFyZWFOb2RlLnBkb21PcmRlciA9IGNoYXJnZXMuY29uY2F0KCB0aGlzLnBkb21QbGF5QXJlYU5vZGUucGRvbU9yZGVyICk7XHJcbiAgfVxyXG59XHJcblxyXG5jb3Vsb21ic0xhdy5yZWdpc3RlciggJ0NvdWxvbWJzTGF3TWFjcm9WaWV3JywgQ291bG9tYnNMYXdNYWNyb1ZpZXcgKTtcclxuZXhwb3J0IGRlZmF1bHQgQ291bG9tYnNMYXdNYWNy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