// Copyright 2014-2023, University of Colorado Boulder

/**
 * Equation Node that renders a text node of an equation of the form  'text' = 'number'
 * The left hand side of the equation can make use of <sup> and <sub> html tags
 * The numerical value can be updated through a public method.
 *
 * Martin Veillette (Berea College)
 */

import Utils from '../../../../dot/js/Utils.js';
import merge from '../../../../phet-core/js/merge.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { HStrut, Node, RichText, Text } from '../../../../scenery/js/imports.js';
import plinkoProbability from '../../plinkoProbability.js';
class EquationNode extends Node {
  /**
   * @param {string} leftHandSideOfEquation - the string that should appear on the left hand side of the equation
   * @param {number} rightHandSideOfEquation - the value (number) that should appear on the right hand side
   * @param {Object} [options]
   */
  constructor(leftHandSideOfEquation, rightHandSideOfEquation, options) {
    super();
    options = merge({
      leftHandSideFont: new PhetFont(16),
      rightHandSideFont: new PhetFont(16),
      leftHandSideFill: 'blue',
      rightHandSideFill: 'blue',
      positionOfEqualSign: 30,
      // position of the equal sign, (the left hand side is defined as zero).
      maxDecimalPlaces: 3,
      leftHandSideMaxWidth: 45 // maximum width of left hand side of equation
    }, options);

    // @private
    this.options = options;
    const leftHandSideOfEquationText = new RichText(leftHandSideOfEquation, {
      font: options.leftHandSideFont,
      fill: options.leftHandSideFill,
      subScale: 0.5,
      maxWidth: options.leftHandSideMaxWidth
    });
    const equalSignText = new Text(' = ', {
      font: options.leftHandSideFont,
      fill: options.leftHandSideFill
    });
    const rightHandSideOfEquationText = new Text(this.roundNumber(rightHandSideOfEquation), {
      font: options.rightHandSideFont,
      fill: options.rightHandSideFill
    });

    // @private
    this.rightHandSideOfEquationText = rightHandSideOfEquationText;
    const hStrut = new HStrut(options.positionOfEqualSign);

    // create the mutable Equation, the right hand side is mutable
    const mutableEquationText = new Node({
      children: [hStrut, leftHandSideOfEquationText, equalSignText, rightHandSideOfEquationText]
    });

    // in general, we align the equation with respect to the equal sign (that's aesthetically pleasing)
    // but we don't want to to enforce this rule if the left hand side of the equation is too long.
    leftHandSideOfEquationText.right = options.positionOfEqualSign;
    equalSignText.left = leftHandSideOfEquationText.right;
    rightHandSideOfEquationText.left = equalSignText.right;
    this.addChild(mutableEquationText);
  }

  /**
   * Update the value of the right side of the equation (a number)
   *
   * @param {number} value
   * @public
   */
  setRightHandSideOfEquation(value) {
    this.rightHandSideOfEquationText.string = this.roundNumber(value);
  }

  /**
   * Function that returns (for numbers smaller than ten) a number (as a string)  with a fixed number of decimal places
   * whereas for numbers larger than ten, the number/string is returned a fixed number of significant figures
   *
   * @param {number} number
   * @returns {string}
   * @private
   */
  roundNumber(number) {
    // eg. if maxDecimalPlaces =3
    // 9999.11 -> 9999  (number larger than 10^3) are rounded to unity
    // 999.111 -> 999.1
    // 99.1111 -> 99.11
    // 9.11111 -> 9.111
    // 1.11111 -> 1.111
    // 0.11111 -> 0.111
    // 0.01111 -> 0.011
    // 0.00111 -> 0.001
    // 0.00011 -> 0.000

    // number = mantissa times 10^(exponent) where the mantissa is between 1 and 10 (or -1 to -10)
    const exponent = Math.floor(Utils.log10(Math.abs(number)));
    let decimalPlaces;
    if (exponent >= this.options.maxDecimalPlaces) {
      decimalPlaces = 0;
    } else if (exponent > 0) {
      decimalPlaces = this.options.maxDecimalPlaces - exponent;
    } else {
      decimalPlaces = this.options.maxDecimalPlaces;
    }
    return Utils.toFixed(number, decimalPlaces);
  }
}
plinkoProbability.register('EquationNode', EquationNode);
export default EquationNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVdGlscyIsIm1lcmdlIiwiUGhldEZvbnQiLCJIU3RydXQiLCJOb2RlIiwiUmljaFRleHQiLCJUZXh0IiwicGxpbmtvUHJvYmFiaWxpdHkiLCJFcXVhdGlvbk5vZGUiLCJjb25zdHJ1Y3RvciIsImxlZnRIYW5kU2lkZU9mRXF1YXRpb24iLCJyaWdodEhhbmRTaWRlT2ZFcXVhdGlvbiIsIm9wdGlvbnMiLCJsZWZ0SGFuZFNpZGVGb250IiwicmlnaHRIYW5kU2lkZUZvbnQiLCJsZWZ0SGFuZFNpZGVGaWxsIiwicmlnaHRIYW5kU2lkZUZpbGwiLCJwb3NpdGlvbk9mRXF1YWxTaWduIiwibWF4RGVjaW1hbFBsYWNlcyIsImxlZnRIYW5kU2lkZU1heFdpZHRoIiwibGVmdEhhbmRTaWRlT2ZFcXVhdGlvblRleHQiLCJmb250IiwiZmlsbCIsInN1YlNjYWxlIiwibWF4V2lkdGgiLCJlcXVhbFNpZ25UZXh0IiwicmlnaHRIYW5kU2lkZU9mRXF1YXRpb25UZXh0Iiwicm91bmROdW1iZXIiLCJoU3RydXQiLCJtdXRhYmxlRXF1YXRpb25UZXh0IiwiY2hpbGRyZW4iLCJyaWdodCIsImxlZnQiLCJhZGRDaGlsZCIsInNldFJpZ2h0SGFuZFNpZGVPZkVxdWF0aW9uIiwidmFsdWUiLCJzdHJpbmciLCJudW1iZXIiLCJleHBvbmVudCIsIk1hdGgiLCJmbG9vciIsImxvZzEwIiwiYWJzIiwiZGVjaW1hbFBsYWNlcyIsInRvRml4ZWQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkVxdWF0aW9uTm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNC0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBFcXVhdGlvbiBOb2RlIHRoYXQgcmVuZGVycyBhIHRleHQgbm9kZSBvZiBhbiBlcXVhdGlvbiBvZiB0aGUgZm9ybSAgJ3RleHQnID0gJ251bWJlcidcclxuICogVGhlIGxlZnQgaGFuZCBzaWRlIG9mIHRoZSBlcXVhdGlvbiBjYW4gbWFrZSB1c2Ugb2YgPHN1cD4gYW5kIDxzdWI+IGh0bWwgdGFnc1xyXG4gKiBUaGUgbnVtZXJpY2FsIHZhbHVlIGNhbiBiZSB1cGRhdGVkIHRocm91Z2ggYSBwdWJsaWMgbWV0aG9kLlxyXG4gKlxyXG4gKiBNYXJ0aW4gVmVpbGxldHRlIChCZXJlYSBDb2xsZWdlKVxyXG4gKi9cclxuXHJcbmltcG9ydCBVdGlscyBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVXRpbHMuanMnO1xyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XHJcbmltcG9ydCB7IEhTdHJ1dCwgTm9kZSwgUmljaFRleHQsIFRleHQgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgcGxpbmtvUHJvYmFiaWxpdHkgZnJvbSAnLi4vLi4vcGxpbmtvUHJvYmFiaWxpdHkuanMnO1xyXG5cclxuY2xhc3MgRXF1YXRpb25Ob2RlIGV4dGVuZHMgTm9kZSB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxlZnRIYW5kU2lkZU9mRXF1YXRpb24gLSB0aGUgc3RyaW5nIHRoYXQgc2hvdWxkIGFwcGVhciBvbiB0aGUgbGVmdCBoYW5kIHNpZGUgb2YgdGhlIGVxdWF0aW9uXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0SGFuZFNpZGVPZkVxdWF0aW9uIC0gdGhlIHZhbHVlIChudW1iZXIpIHRoYXQgc2hvdWxkIGFwcGVhciBvbiB0aGUgcmlnaHQgaGFuZCBzaWRlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBsZWZ0SGFuZFNpZGVPZkVxdWF0aW9uLCByaWdodEhhbmRTaWRlT2ZFcXVhdGlvbiwgb3B0aW9ucyApIHtcclxuXHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIG9wdGlvbnMgPSBtZXJnZSgge1xyXG4gICAgICBsZWZ0SGFuZFNpZGVGb250OiBuZXcgUGhldEZvbnQoIDE2ICksXHJcbiAgICAgIHJpZ2h0SGFuZFNpZGVGb250OiBuZXcgUGhldEZvbnQoIDE2ICksXHJcbiAgICAgIGxlZnRIYW5kU2lkZUZpbGw6ICdibHVlJyxcclxuICAgICAgcmlnaHRIYW5kU2lkZUZpbGw6ICdibHVlJyxcclxuICAgICAgcG9zaXRpb25PZkVxdWFsU2lnbjogMzAsIC8vIHBvc2l0aW9uIG9mIHRoZSBlcXVhbCBzaWduLCAodGhlIGxlZnQgaGFuZCBzaWRlIGlzIGRlZmluZWQgYXMgemVybykuXHJcbiAgICAgIG1heERlY2ltYWxQbGFjZXM6IDMsXHJcbiAgICAgIGxlZnRIYW5kU2lkZU1heFdpZHRoOiA0NSAgLy8gbWF4aW11bSB3aWR0aCBvZiBsZWZ0IGhhbmQgc2lkZSBvZiBlcXVhdGlvblxyXG4gICAgfSwgb3B0aW9ucyApO1xyXG5cclxuICAgIC8vIEBwcml2YXRlXHJcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cclxuICAgIGNvbnN0IGxlZnRIYW5kU2lkZU9mRXF1YXRpb25UZXh0ID0gbmV3IFJpY2hUZXh0KCBsZWZ0SGFuZFNpZGVPZkVxdWF0aW9uLCB7XHJcbiAgICAgIGZvbnQ6IG9wdGlvbnMubGVmdEhhbmRTaWRlRm9udCxcclxuICAgICAgZmlsbDogb3B0aW9ucy5sZWZ0SGFuZFNpZGVGaWxsLFxyXG4gICAgICBzdWJTY2FsZTogMC41LFxyXG4gICAgICBtYXhXaWR0aDogb3B0aW9ucy5sZWZ0SGFuZFNpZGVNYXhXaWR0aFxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGVxdWFsU2lnblRleHQgPSBuZXcgVGV4dCggJyA9ICcsIHtcclxuICAgICAgZm9udDogb3B0aW9ucy5sZWZ0SGFuZFNpZGVGb250LFxyXG4gICAgICBmaWxsOiBvcHRpb25zLmxlZnRIYW5kU2lkZUZpbGxcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCByaWdodEhhbmRTaWRlT2ZFcXVhdGlvblRleHQgPSBuZXcgVGV4dCggdGhpcy5yb3VuZE51bWJlciggcmlnaHRIYW5kU2lkZU9mRXF1YXRpb24gKSwge1xyXG4gICAgICBmb250OiBvcHRpb25zLnJpZ2h0SGFuZFNpZGVGb250LFxyXG4gICAgICBmaWxsOiBvcHRpb25zLnJpZ2h0SGFuZFNpZGVGaWxsXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQHByaXZhdGVcclxuICAgIHRoaXMucmlnaHRIYW5kU2lkZU9mRXF1YXRpb25UZXh0ID0gcmlnaHRIYW5kU2lkZU9mRXF1YXRpb25UZXh0O1xyXG5cclxuICAgIGNvbnN0IGhTdHJ1dCA9IG5ldyBIU3RydXQoIG9wdGlvbnMucG9zaXRpb25PZkVxdWFsU2lnbiApO1xyXG5cclxuICAgIC8vIGNyZWF0ZSB0aGUgbXV0YWJsZSBFcXVhdGlvbiwgdGhlIHJpZ2h0IGhhbmQgc2lkZSBpcyBtdXRhYmxlXHJcbiAgICBjb25zdCBtdXRhYmxlRXF1YXRpb25UZXh0ID0gbmV3IE5vZGUoIHtcclxuICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICBoU3RydXQsXHJcbiAgICAgICAgbGVmdEhhbmRTaWRlT2ZFcXVhdGlvblRleHQsXHJcbiAgICAgICAgZXF1YWxTaWduVGV4dCxcclxuICAgICAgICByaWdodEhhbmRTaWRlT2ZFcXVhdGlvblRleHRcclxuICAgICAgXVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGluIGdlbmVyYWwsIHdlIGFsaWduIHRoZSBlcXVhdGlvbiB3aXRoIHJlc3BlY3QgdG8gdGhlIGVxdWFsIHNpZ24gKHRoYXQncyBhZXN0aGV0aWNhbGx5IHBsZWFzaW5nKVxyXG4gICAgLy8gYnV0IHdlIGRvbid0IHdhbnQgdG8gdG8gZW5mb3JjZSB0aGlzIHJ1bGUgaWYgdGhlIGxlZnQgaGFuZCBzaWRlIG9mIHRoZSBlcXVhdGlvbiBpcyB0b28gbG9uZy5cclxuICAgIGxlZnRIYW5kU2lkZU9mRXF1YXRpb25UZXh0LnJpZ2h0ID0gb3B0aW9ucy5wb3NpdGlvbk9mRXF1YWxTaWduO1xyXG4gICAgZXF1YWxTaWduVGV4dC5sZWZ0ID0gbGVmdEhhbmRTaWRlT2ZFcXVhdGlvblRleHQucmlnaHQ7XHJcbiAgICByaWdodEhhbmRTaWRlT2ZFcXVhdGlvblRleHQubGVmdCA9IGVxdWFsU2lnblRleHQucmlnaHQ7XHJcblxyXG4gICAgdGhpcy5hZGRDaGlsZCggbXV0YWJsZUVxdWF0aW9uVGV4dCApO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUgdmFsdWUgb2YgdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIGVxdWF0aW9uIChhIG51bWJlcilcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBzZXRSaWdodEhhbmRTaWRlT2ZFcXVhdGlvbiggdmFsdWUgKSB7XHJcbiAgICB0aGlzLnJpZ2h0SGFuZFNpZGVPZkVxdWF0aW9uVGV4dC5zdHJpbmcgPSB0aGlzLnJvdW5kTnVtYmVyKCB2YWx1ZSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdGhhdCByZXR1cm5zIChmb3IgbnVtYmVycyBzbWFsbGVyIHRoYW4gdGVuKSBhIG51bWJlciAoYXMgYSBzdHJpbmcpICB3aXRoIGEgZml4ZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzXHJcbiAgICogd2hlcmVhcyBmb3IgbnVtYmVycyBsYXJnZXIgdGhhbiB0ZW4sIHRoZSBudW1iZXIvc3RyaW5nIGlzIHJldHVybmVkIGEgZml4ZWQgbnVtYmVyIG9mIHNpZ25pZmljYW50IGZpZ3VyZXNcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXJcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgcm91bmROdW1iZXIoIG51bWJlciApIHtcclxuXHJcbiAgICAvLyBlZy4gaWYgbWF4RGVjaW1hbFBsYWNlcyA9M1xyXG4gICAgLy8gOTk5OS4xMSAtPiA5OTk5ICAobnVtYmVyIGxhcmdlciB0aGFuIDEwXjMpIGFyZSByb3VuZGVkIHRvIHVuaXR5XHJcbiAgICAvLyA5OTkuMTExIC0+IDk5OS4xXHJcbiAgICAvLyA5OS4xMTExIC0+IDk5LjExXHJcbiAgICAvLyA5LjExMTExIC0+IDkuMTExXHJcbiAgICAvLyAxLjExMTExIC0+IDEuMTExXHJcbiAgICAvLyAwLjExMTExIC0+IDAuMTExXHJcbiAgICAvLyAwLjAxMTExIC0+IDAuMDExXHJcbiAgICAvLyAwLjAwMTExIC0+IDAuMDAxXHJcbiAgICAvLyAwLjAwMDExIC0+IDAuMDAwXHJcblxyXG4gICAgLy8gbnVtYmVyID0gbWFudGlzc2EgdGltZXMgMTBeKGV4cG9uZW50KSB3aGVyZSB0aGUgbWFudGlzc2EgaXMgYmV0d2VlbiAxIGFuZCAxMCAob3IgLTEgdG8gLTEwKVxyXG4gICAgY29uc3QgZXhwb25lbnQgPSBNYXRoLmZsb29yKCBVdGlscy5sb2cxMCggTWF0aC5hYnMoIG51bWJlciApICkgKTtcclxuXHJcbiAgICBsZXQgZGVjaW1hbFBsYWNlcztcclxuICAgIGlmICggZXhwb25lbnQgPj0gdGhpcy5vcHRpb25zLm1heERlY2ltYWxQbGFjZXMgKSB7XHJcbiAgICAgIGRlY2ltYWxQbGFjZXMgPSAwO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIGV4cG9uZW50ID4gMCApIHtcclxuICAgICAgZGVjaW1hbFBsYWNlcyA9IHRoaXMub3B0aW9ucy5tYXhEZWNpbWFsUGxhY2VzIC0gZXhwb25lbnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZGVjaW1hbFBsYWNlcyA9IHRoaXMub3B0aW9ucy5tYXhEZWNpbWFsUGxhY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBVdGlscy50b0ZpeGVkKCBudW1iZXIsIGRlY2ltYWxQbGFjZXMgKTtcclxuICB9XHJcbn1cclxuXHJcbnBsaW5rb1Byb2JhYmlsaXR5LnJlZ2lzdGVyKCAnRXF1YXRpb25Ob2RlJywgRXF1YXRpb25Ob2RlICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFcXVhdGlvbk5vZGU7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLEtBQUssTUFBTSxtQ0FBbUM7QUFDckQsT0FBT0MsUUFBUSxNQUFNLHlDQUF5QztBQUM5RCxTQUFTQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFQyxJQUFJLFFBQVEsbUNBQW1DO0FBQ2hGLE9BQU9DLGlCQUFpQixNQUFNLDRCQUE0QjtBQUUxRCxNQUFNQyxZQUFZLFNBQVNKLElBQUksQ0FBQztFQUM5QjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ0VLLFdBQVdBLENBQUVDLHNCQUFzQixFQUFFQyx1QkFBdUIsRUFBRUMsT0FBTyxFQUFHO0lBRXRFLEtBQUssQ0FBQyxDQUFDO0lBRVBBLE9BQU8sR0FBR1gsS0FBSyxDQUFFO01BQ2ZZLGdCQUFnQixFQUFFLElBQUlYLFFBQVEsQ0FBRSxFQUFHLENBQUM7TUFDcENZLGlCQUFpQixFQUFFLElBQUlaLFFBQVEsQ0FBRSxFQUFHLENBQUM7TUFDckNhLGdCQUFnQixFQUFFLE1BQU07TUFDeEJDLGlCQUFpQixFQUFFLE1BQU07TUFDekJDLG1CQUFtQixFQUFFLEVBQUU7TUFBRTtNQUN6QkMsZ0JBQWdCLEVBQUUsQ0FBQztNQUNuQkMsb0JBQW9CLEVBQUUsRUFBRSxDQUFFO0lBQzVCLENBQUMsRUFBRVAsT0FBUSxDQUFDOztJQUVaO0lBQ0EsSUFBSSxDQUFDQSxPQUFPLEdBQUdBLE9BQU87SUFFdEIsTUFBTVEsMEJBQTBCLEdBQUcsSUFBSWYsUUFBUSxDQUFFSyxzQkFBc0IsRUFBRTtNQUN2RVcsSUFBSSxFQUFFVCxPQUFPLENBQUNDLGdCQUFnQjtNQUM5QlMsSUFBSSxFQUFFVixPQUFPLENBQUNHLGdCQUFnQjtNQUM5QlEsUUFBUSxFQUFFLEdBQUc7TUFDYkMsUUFBUSxFQUFFWixPQUFPLENBQUNPO0lBQ3BCLENBQUUsQ0FBQztJQUVILE1BQU1NLGFBQWEsR0FBRyxJQUFJbkIsSUFBSSxDQUFFLEtBQUssRUFBRTtNQUNyQ2UsSUFBSSxFQUFFVCxPQUFPLENBQUNDLGdCQUFnQjtNQUM5QlMsSUFBSSxFQUFFVixPQUFPLENBQUNHO0lBQ2hCLENBQUUsQ0FBQztJQUVILE1BQU1XLDJCQUEyQixHQUFHLElBQUlwQixJQUFJLENBQUUsSUFBSSxDQUFDcUIsV0FBVyxDQUFFaEIsdUJBQXdCLENBQUMsRUFBRTtNQUN6RlUsSUFBSSxFQUFFVCxPQUFPLENBQUNFLGlCQUFpQjtNQUMvQlEsSUFBSSxFQUFFVixPQUFPLENBQUNJO0lBQ2hCLENBQUUsQ0FBQzs7SUFFSDtJQUNBLElBQUksQ0FBQ1UsMkJBQTJCLEdBQUdBLDJCQUEyQjtJQUU5RCxNQUFNRSxNQUFNLEdBQUcsSUFBSXpCLE1BQU0sQ0FBRVMsT0FBTyxDQUFDSyxtQkFBb0IsQ0FBQzs7SUFFeEQ7SUFDQSxNQUFNWSxtQkFBbUIsR0FBRyxJQUFJekIsSUFBSSxDQUFFO01BQ3BDMEIsUUFBUSxFQUFFLENBQ1JGLE1BQU0sRUFDTlIsMEJBQTBCLEVBQzFCSyxhQUFhLEVBQ2JDLDJCQUEyQjtJQUUvQixDQUFFLENBQUM7O0lBRUg7SUFDQTtJQUNBTiwwQkFBMEIsQ0FBQ1csS0FBSyxHQUFHbkIsT0FBTyxDQUFDSyxtQkFBbUI7SUFDOURRLGFBQWEsQ0FBQ08sSUFBSSxHQUFHWiwwQkFBMEIsQ0FBQ1csS0FBSztJQUNyREwsMkJBQTJCLENBQUNNLElBQUksR0FBR1AsYUFBYSxDQUFDTSxLQUFLO0lBRXRELElBQUksQ0FBQ0UsUUFBUSxDQUFFSixtQkFBb0IsQ0FBQztFQUN0Qzs7RUFHQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRUssMEJBQTBCQSxDQUFFQyxLQUFLLEVBQUc7SUFDbEMsSUFBSSxDQUFDVCwyQkFBMkIsQ0FBQ1UsTUFBTSxHQUFHLElBQUksQ0FBQ1QsV0FBVyxDQUFFUSxLQUFNLENBQUM7RUFDckU7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFUixXQUFXQSxDQUFFVSxNQUFNLEVBQUc7SUFFcEI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7O0lBRUE7SUFDQSxNQUFNQyxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFFeEMsS0FBSyxDQUFDeUMsS0FBSyxDQUFFRixJQUFJLENBQUNHLEdBQUcsQ0FBRUwsTUFBTyxDQUFFLENBQUUsQ0FBQztJQUVoRSxJQUFJTSxhQUFhO0lBQ2pCLElBQUtMLFFBQVEsSUFBSSxJQUFJLENBQUMxQixPQUFPLENBQUNNLGdCQUFnQixFQUFHO01BQy9DeUIsYUFBYSxHQUFHLENBQUM7SUFDbkIsQ0FBQyxNQUNJLElBQUtMLFFBQVEsR0FBRyxDQUFDLEVBQUc7TUFDdkJLLGFBQWEsR0FBRyxJQUFJLENBQUMvQixPQUFPLENBQUNNLGdCQUFnQixHQUFHb0IsUUFBUTtJQUMxRCxDQUFDLE1BQ0k7TUFDSEssYUFBYSxHQUFHLElBQUksQ0FBQy9CLE9BQU8sQ0FBQ00sZ0JBQWdCO0lBQy9DO0lBRUEsT0FBT2xCLEtBQUssQ0FBQzRDLE9BQU8sQ0FBRVAsTUFBTSxFQUFFTSxhQUFjLENBQUM7RUFDL0M7QUFDRjtBQUVBcEMsaUJBQWlCLENBQUNzQyxRQUFRLENBQUUsY0FBYyxFQUFFckMsWUFBYSxDQUFDO0FBRTFELGVBQWVBLFlBQVkifQ==