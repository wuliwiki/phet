// Copyright 2014-2021, University of Colorado Boulder

/**
 * ScreenView for the 'Intro' screen
 *
 * @author Martin Veillette (Berea College)
 * @author Guillermo Ramos (Berea College)
 * @author Denzell Barnett (Berea College)
 * @author Chris Malley (PixelZoom, Inc.)
 */

import counter_png from '../../../images/counter_png.js';
import cylinder_png from '../../../images/cylinder_png.js';
import PlinkoProbabilityConstants from '../../common/PlinkoProbabilityConstants.js';
import HistogramModeControl from '../../common/view/HistogramModeControl.js';
import PegsNode from '../../common/view/PegsNode.js';
import PlinkoProbabilityCommonView from '../../common/view/PlinkoProbabilityCommonView.js';
import plinkoProbability from '../../plinkoProbability.js';
import CylindersBackNode from './CylindersBackNode.js';
import CylindersFrontNode from './CylindersFrontNode.js';
import IntroPlayPanel from './IntroPlayPanel.js';
import NumberBallsDisplay from './NumberBallsDisplay.js';

// constants
const MIN_PANEL_WIDTH = 220; // see #77

class IntroScreenView extends PlinkoProbabilityCommonView {
  /**
   * Creates view for intro tab
   * @param {IntroModel} model
   */
  constructor(model) {
    super(model);
    // pegs on the Galton board
    const pegsNode = new PegsNode(model.galtonBoard, model.numberOfRowsProperty, model.probabilityProperty, this.modelViewTransform, {
      rotatePegs: false,
      // pegs do not rotate as probability changes, so they do not have a flat surface
      canvasBounds: this.viewTriangularBoardBounds
    });

    // cylinders (bins) below the board
    const cylindersBackNode = new CylindersBackNode(model.numberOfRowsProperty, this.modelViewTransform, model.cylinderInfo);
    const cylindersFrontNode = new CylindersFrontNode(model.numberOfRowsProperty, this.modelViewTransform, model.cylinderInfo);

    // Histogram mode radio buttons, above the eraser button
    const histogramModeControl = new HistogramModeControl(this.viewProperties.histogramModeProperty, 'counter', counter_png, 'cylinder', cylinder_png, {
      bottom: this.eraserButton.top - 16,
      left: this.eraserButton.left
    });

    // Play panel, at upper right
    const playPanel = new IntroPlayPanel(model, {
      minWidth: MIN_PANEL_WIDTH,
      right: this.layoutBounds.maxX - PlinkoProbabilityConstants.PANEL_RIGHT_PADDING,
      top: 10
    });

    // Number of balls panel, at right, top aligned with cylinders
    const numberBallsDisplay = new NumberBallsDisplay(model.histogram, {
      minWidth: MIN_PANEL_WIDTH,
      top: 360,
      // hack to align with StatisticsAccordionBox in LabScreenView, see #77
      right: playPanel.right
    });

    // rendering order
    this.addChild(playPanel);
    this.addChild(histogramModeControl);
    this.addChild(numberBallsDisplay);
    this.addChild(pegsNode);
    this.addChild(cylindersBackNode);
    this.moveChildToBack(cylindersBackNode);
    this.addChild(cylindersFrontNode);

    // link the histogram radio buttons to toggle the visibility of the histogram and cylinders
    // link is present fot the lifetime of the sim
    this.viewProperties.histogramModeProperty.link(histogramMode => {
      this.ballsNode.invalidatePaint();
      switch (histogramMode) {
        case 'counter':
          this.histogramNode.visible = true;
          cylindersBackNode.visible = false;
          cylindersFrontNode.visible = false;
          break;
        case 'cylinder':
          this.histogramNode.visible = false;
          cylindersBackNode.visible = true;
          cylindersFrontNode.visible = true;
          break;
        default:
          throw new Error(`unsupported histogramMode: ${histogramMode}`);
      }
    });

    // handle the coming and going of the model Balls
    model.balls.addItemAddedListener(addedBall => {
      // play sound when ball hits a peg
      const ballHittingPegListener = direction => {
        this.pegSoundGeneration.playBallHittingPegSound(direction);
      };
      addedBall.ballHittingPegEmitter.addListener(ballHittingPegListener);
      model.balls.addItemRemovedListener(function removalListener(removedBall) {
        if (removedBall === addedBall) {
          addedBall.ballHittingPegEmitter.removeListener(ballHittingPegListener);
          model.balls.removeItemRemovedListener(removalListener);
        }
      });
    });

    // pdom
    this.pdomPlayAreaNode.pdomOrder = [playPanel, histogramModeControl, this.eraserButton];
  }
}
plinkoProbability.register('IntroScreenView', IntroScreenView);
export default IntroScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3VudGVyX3BuZyIsImN5bGluZGVyX3BuZyIsIlBsaW5rb1Byb2JhYmlsaXR5Q29uc3RhbnRzIiwiSGlzdG9ncmFtTW9kZUNvbnRyb2wiLCJQZWdzTm9kZSIsIlBsaW5rb1Byb2JhYmlsaXR5Q29tbW9uVmlldyIsInBsaW5rb1Byb2JhYmlsaXR5IiwiQ3lsaW5kZXJzQmFja05vZGUiLCJDeWxpbmRlcnNGcm9udE5vZGUiLCJJbnRyb1BsYXlQYW5lbCIsIk51bWJlckJhbGxzRGlzcGxheSIsIk1JTl9QQU5FTF9XSURUSCIsIkludHJvU2NyZWVuVmlldyIsImNvbnN0cnVjdG9yIiwibW9kZWwiLCJwZWdzTm9kZSIsImdhbHRvbkJvYXJkIiwibnVtYmVyT2ZSb3dzUHJvcGVydHkiLCJwcm9iYWJpbGl0eVByb3BlcnR5IiwibW9kZWxWaWV3VHJhbnNmb3JtIiwicm90YXRlUGVncyIsImNhbnZhc0JvdW5kcyIsInZpZXdUcmlhbmd1bGFyQm9hcmRCb3VuZHMiLCJjeWxpbmRlcnNCYWNrTm9kZSIsImN5bGluZGVySW5mbyIsImN5bGluZGVyc0Zyb250Tm9kZSIsImhpc3RvZ3JhbU1vZGVDb250cm9sIiwidmlld1Byb3BlcnRpZXMiLCJoaXN0b2dyYW1Nb2RlUHJvcGVydHkiLCJib3R0b20iLCJlcmFzZXJCdXR0b24iLCJ0b3AiLCJsZWZ0IiwicGxheVBhbmVsIiwibWluV2lkdGgiLCJyaWdodCIsImxheW91dEJvdW5kcyIsIm1heFgiLCJQQU5FTF9SSUdIVF9QQURESU5HIiwibnVtYmVyQmFsbHNEaXNwbGF5IiwiaGlzdG9ncmFtIiwiYWRkQ2hpbGQiLCJtb3ZlQ2hpbGRUb0JhY2siLCJsaW5rIiwiaGlzdG9ncmFtTW9kZSIsImJhbGxzTm9kZSIsImludmFsaWRhdGVQYWludCIsImhpc3RvZ3JhbU5vZGUiLCJ2aXNpYmxlIiwiRXJyb3IiLCJiYWxscyIsImFkZEl0ZW1BZGRlZExpc3RlbmVyIiwiYWRkZWRCYWxsIiwiYmFsbEhpdHRpbmdQZWdMaXN0ZW5lciIsImRpcmVjdGlvbiIsInBlZ1NvdW5kR2VuZXJhdGlvbiIsInBsYXlCYWxsSGl0dGluZ1BlZ1NvdW5kIiwiYmFsbEhpdHRpbmdQZWdFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJhZGRJdGVtUmVtb3ZlZExpc3RlbmVyIiwicmVtb3ZhbExpc3RlbmVyIiwicmVtb3ZlZEJhbGwiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUl0ZW1SZW1vdmVkTGlzdGVuZXIiLCJwZG9tUGxheUFyZWFOb2RlIiwicGRvbU9yZGVyIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJJbnRyb1NjcmVlblZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTQtMjAyMSwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU2NyZWVuVmlldyBmb3IgdGhlICdJbnRybycgc2NyZWVuXHJcbiAqXHJcbiAqIEBhdXRob3IgTWFydGluIFZlaWxsZXR0ZSAoQmVyZWEgQ29sbGVnZSlcclxuICogQGF1dGhvciBHdWlsbGVybW8gUmFtb3MgKEJlcmVhIENvbGxlZ2UpXHJcbiAqIEBhdXRob3IgRGVuemVsbCBCYXJuZXR0IChCZXJlYSBDb2xsZWdlKVxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCBjb3VudGVyX3BuZyBmcm9tICcuLi8uLi8uLi9pbWFnZXMvY291bnRlcl9wbmcuanMnO1xyXG5pbXBvcnQgY3lsaW5kZXJfcG5nIGZyb20gJy4uLy4uLy4uL2ltYWdlcy9jeWxpbmRlcl9wbmcuanMnO1xyXG5pbXBvcnQgUGxpbmtvUHJvYmFiaWxpdHlDb25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL1BsaW5rb1Byb2JhYmlsaXR5Q29uc3RhbnRzLmpzJztcclxuaW1wb3J0IEhpc3RvZ3JhbU1vZGVDb250cm9sIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L0hpc3RvZ3JhbU1vZGVDb250cm9sLmpzJztcclxuaW1wb3J0IFBlZ3NOb2RlIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L1BlZ3NOb2RlLmpzJztcclxuaW1wb3J0IFBsaW5rb1Byb2JhYmlsaXR5Q29tbW9uVmlldyBmcm9tICcuLi8uLi9jb21tb24vdmlldy9QbGlua29Qcm9iYWJpbGl0eUNvbW1vblZpZXcuanMnO1xyXG5pbXBvcnQgcGxpbmtvUHJvYmFiaWxpdHkgZnJvbSAnLi4vLi4vcGxpbmtvUHJvYmFiaWxpdHkuanMnO1xyXG5pbXBvcnQgQ3lsaW5kZXJzQmFja05vZGUgZnJvbSAnLi9DeWxpbmRlcnNCYWNrTm9kZS5qcyc7XHJcbmltcG9ydCBDeWxpbmRlcnNGcm9udE5vZGUgZnJvbSAnLi9DeWxpbmRlcnNGcm9udE5vZGUuanMnO1xyXG5pbXBvcnQgSW50cm9QbGF5UGFuZWwgZnJvbSAnLi9JbnRyb1BsYXlQYW5lbC5qcyc7XHJcbmltcG9ydCBOdW1iZXJCYWxsc0Rpc3BsYXkgZnJvbSAnLi9OdW1iZXJCYWxsc0Rpc3BsYXkuanMnO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IE1JTl9QQU5FTF9XSURUSCA9IDIyMDsgLy8gc2VlICM3N1xyXG5cclxuY2xhc3MgSW50cm9TY3JlZW5WaWV3IGV4dGVuZHMgUGxpbmtvUHJvYmFiaWxpdHlDb21tb25WaWV3IHtcclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyB2aWV3IGZvciBpbnRybyB0YWJcclxuICAgKiBAcGFyYW0ge0ludHJvTW9kZWx9IG1vZGVsXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIG1vZGVsICkge1xyXG5cclxuICAgIHN1cGVyKCBtb2RlbCApO1xyXG4gICAgLy8gcGVncyBvbiB0aGUgR2FsdG9uIGJvYXJkXHJcbiAgICBjb25zdCBwZWdzTm9kZSA9IG5ldyBQZWdzTm9kZSggbW9kZWwuZ2FsdG9uQm9hcmQsIG1vZGVsLm51bWJlck9mUm93c1Byb3BlcnR5LCBtb2RlbC5wcm9iYWJpbGl0eVByb3BlcnR5LCB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybSwge1xyXG4gICAgICByb3RhdGVQZWdzOiBmYWxzZSwgLy8gcGVncyBkbyBub3Qgcm90YXRlIGFzIHByb2JhYmlsaXR5IGNoYW5nZXMsIHNvIHRoZXkgZG8gbm90IGhhdmUgYSBmbGF0IHN1cmZhY2VcclxuICAgICAgY2FudmFzQm91bmRzOiB0aGlzLnZpZXdUcmlhbmd1bGFyQm9hcmRCb3VuZHNcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBjeWxpbmRlcnMgKGJpbnMpIGJlbG93IHRoZSBib2FyZFxyXG4gICAgY29uc3QgY3lsaW5kZXJzQmFja05vZGUgPSBuZXcgQ3lsaW5kZXJzQmFja05vZGUoIG1vZGVsLm51bWJlck9mUm93c1Byb3BlcnR5LCB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybSwgbW9kZWwuY3lsaW5kZXJJbmZvICk7XHJcbiAgICBjb25zdCBjeWxpbmRlcnNGcm9udE5vZGUgPSBuZXcgQ3lsaW5kZXJzRnJvbnROb2RlKCBtb2RlbC5udW1iZXJPZlJvd3NQcm9wZXJ0eSwgdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0sIG1vZGVsLmN5bGluZGVySW5mbyApO1xyXG5cclxuICAgIC8vIEhpc3RvZ3JhbSBtb2RlIHJhZGlvIGJ1dHRvbnMsIGFib3ZlIHRoZSBlcmFzZXIgYnV0dG9uXHJcbiAgICBjb25zdCBoaXN0b2dyYW1Nb2RlQ29udHJvbCA9IG5ldyBIaXN0b2dyYW1Nb2RlQ29udHJvbCggdGhpcy52aWV3UHJvcGVydGllcy5oaXN0b2dyYW1Nb2RlUHJvcGVydHksICdjb3VudGVyJywgY291bnRlcl9wbmcsICdjeWxpbmRlcicsIGN5bGluZGVyX3BuZywge1xyXG4gICAgICBib3R0b206IHRoaXMuZXJhc2VyQnV0dG9uLnRvcCAtIDE2LFxyXG4gICAgICBsZWZ0OiB0aGlzLmVyYXNlckJ1dHRvbi5sZWZ0XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gUGxheSBwYW5lbCwgYXQgdXBwZXIgcmlnaHRcclxuICAgIGNvbnN0IHBsYXlQYW5lbCA9IG5ldyBJbnRyb1BsYXlQYW5lbCggbW9kZWwsIHtcclxuICAgICAgbWluV2lkdGg6IE1JTl9QQU5FTF9XSURUSCxcclxuICAgICAgcmlnaHQ6IHRoaXMubGF5b3V0Qm91bmRzLm1heFggLSBQbGlua29Qcm9iYWJpbGl0eUNvbnN0YW50cy5QQU5FTF9SSUdIVF9QQURESU5HLFxyXG4gICAgICB0b3A6IDEwXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gTnVtYmVyIG9mIGJhbGxzIHBhbmVsLCBhdCByaWdodCwgdG9wIGFsaWduZWQgd2l0aCBjeWxpbmRlcnNcclxuICAgIGNvbnN0IG51bWJlckJhbGxzRGlzcGxheSA9IG5ldyBOdW1iZXJCYWxsc0Rpc3BsYXkoIG1vZGVsLmhpc3RvZ3JhbSwge1xyXG4gICAgICBtaW5XaWR0aDogTUlOX1BBTkVMX1dJRFRILFxyXG4gICAgICB0b3A6IDM2MCwgLy8gaGFjayB0byBhbGlnbiB3aXRoIFN0YXRpc3RpY3NBY2NvcmRpb25Cb3ggaW4gTGFiU2NyZWVuVmlldywgc2VlICM3N1xyXG4gICAgICByaWdodDogcGxheVBhbmVsLnJpZ2h0XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gcmVuZGVyaW5nIG9yZGVyXHJcbiAgICB0aGlzLmFkZENoaWxkKCBwbGF5UGFuZWwgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIGhpc3RvZ3JhbU1vZGVDb250cm9sICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBudW1iZXJCYWxsc0Rpc3BsYXkgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHBlZ3NOb2RlICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBjeWxpbmRlcnNCYWNrTm9kZSApO1xyXG4gICAgdGhpcy5tb3ZlQ2hpbGRUb0JhY2soIGN5bGluZGVyc0JhY2tOb2RlICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBjeWxpbmRlcnNGcm9udE5vZGUgKTtcclxuXHJcbiAgICAvLyBsaW5rIHRoZSBoaXN0b2dyYW0gcmFkaW8gYnV0dG9ucyB0byB0b2dnbGUgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGhpc3RvZ3JhbSBhbmQgY3lsaW5kZXJzXHJcbiAgICAvLyBsaW5rIGlzIHByZXNlbnQgZm90IHRoZSBsaWZldGltZSBvZiB0aGUgc2ltXHJcbiAgICB0aGlzLnZpZXdQcm9wZXJ0aWVzLmhpc3RvZ3JhbU1vZGVQcm9wZXJ0eS5saW5rKCBoaXN0b2dyYW1Nb2RlID0+IHtcclxuICAgICAgdGhpcy5iYWxsc05vZGUuaW52YWxpZGF0ZVBhaW50KCk7XHJcbiAgICAgIHN3aXRjaCggaGlzdG9ncmFtTW9kZSApIHtcclxuICAgICAgICBjYXNlICdjb3VudGVyJzpcclxuICAgICAgICAgIHRoaXMuaGlzdG9ncmFtTm9kZS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgIGN5bGluZGVyc0JhY2tOb2RlLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgIGN5bGluZGVyc0Zyb250Tm9kZS52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdjeWxpbmRlcic6XHJcbiAgICAgICAgICB0aGlzLmhpc3RvZ3JhbU5vZGUudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgY3lsaW5kZXJzQmFja05vZGUudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICBjeWxpbmRlcnNGcm9udE5vZGUudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCBgdW5zdXBwb3J0ZWQgaGlzdG9ncmFtTW9kZTogJHtoaXN0b2dyYW1Nb2RlfWAgKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGhhbmRsZSB0aGUgY29taW5nIGFuZCBnb2luZyBvZiB0aGUgbW9kZWwgQmFsbHNcclxuICAgIG1vZGVsLmJhbGxzLmFkZEl0ZW1BZGRlZExpc3RlbmVyKCBhZGRlZEJhbGwgPT4ge1xyXG5cclxuICAgICAgLy8gcGxheSBzb3VuZCB3aGVuIGJhbGwgaGl0cyBhIHBlZ1xyXG4gICAgICBjb25zdCBiYWxsSGl0dGluZ1BlZ0xpc3RlbmVyID0gZGlyZWN0aW9uID0+IHtcclxuICAgICAgICB0aGlzLnBlZ1NvdW5kR2VuZXJhdGlvbi5wbGF5QmFsbEhpdHRpbmdQZWdTb3VuZCggZGlyZWN0aW9uICk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhZGRlZEJhbGwuYmFsbEhpdHRpbmdQZWdFbWl0dGVyLmFkZExpc3RlbmVyKCBiYWxsSGl0dGluZ1BlZ0xpc3RlbmVyICk7XHJcblxyXG4gICAgICBtb2RlbC5iYWxscy5hZGRJdGVtUmVtb3ZlZExpc3RlbmVyKCBmdW5jdGlvbiByZW1vdmFsTGlzdGVuZXIoIHJlbW92ZWRCYWxsICkge1xyXG4gICAgICAgIGlmICggcmVtb3ZlZEJhbGwgPT09IGFkZGVkQmFsbCApIHtcclxuICAgICAgICAgIGFkZGVkQmFsbC5iYWxsSGl0dGluZ1BlZ0VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoIGJhbGxIaXR0aW5nUGVnTGlzdGVuZXIgKTtcclxuICAgICAgICAgIG1vZGVsLmJhbGxzLnJlbW92ZUl0ZW1SZW1vdmVkTGlzdGVuZXIoIHJlbW92YWxMaXN0ZW5lciApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIHBkb21cclxuICAgIHRoaXMucGRvbVBsYXlBcmVhTm9kZS5wZG9tT3JkZXIgPSBbIHBsYXlQYW5lbCwgaGlzdG9ncmFtTW9kZUNvbnRyb2wsIHRoaXMuZXJhc2VyQnV0dG9uIF07XHJcbiAgfVxyXG59XHJcblxyXG5wbGlua29Qcm9iYWJpbGl0eS5yZWdpc3RlciggJ0ludHJvU2NyZWVuVmlldycsIEludHJvU2NyZWVuVmlldyApO1xyXG5leHBvcnQgZGVmYXVsdCBJbnRyb1NjcmVlblZpZXc7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFdBQVcsTUFBTSxnQ0FBZ0M7QUFDeEQsT0FBT0MsWUFBWSxNQUFNLGlDQUFpQztBQUMxRCxPQUFPQywwQkFBMEIsTUFBTSw0Q0FBNEM7QUFDbkYsT0FBT0Msb0JBQW9CLE1BQU0sMkNBQTJDO0FBQzVFLE9BQU9DLFFBQVEsTUFBTSwrQkFBK0I7QUFDcEQsT0FBT0MsMkJBQTJCLE1BQU0sa0RBQWtEO0FBQzFGLE9BQU9DLGlCQUFpQixNQUFNLDRCQUE0QjtBQUMxRCxPQUFPQyxpQkFBaUIsTUFBTSx3QkFBd0I7QUFDdEQsT0FBT0Msa0JBQWtCLE1BQU0seUJBQXlCO0FBQ3hELE9BQU9DLGNBQWMsTUFBTSxxQkFBcUI7QUFDaEQsT0FBT0Msa0JBQWtCLE1BQU0seUJBQXlCOztBQUV4RDtBQUNBLE1BQU1DLGVBQWUsR0FBRyxHQUFHLENBQUMsQ0FBQzs7QUFFN0IsTUFBTUMsZUFBZSxTQUFTUCwyQkFBMkIsQ0FBQztFQUV4RDtBQUNGO0FBQ0E7QUFDQTtFQUNFUSxXQUFXQSxDQUFFQyxLQUFLLEVBQUc7SUFFbkIsS0FBSyxDQUFFQSxLQUFNLENBQUM7SUFDZDtJQUNBLE1BQU1DLFFBQVEsR0FBRyxJQUFJWCxRQUFRLENBQUVVLEtBQUssQ0FBQ0UsV0FBVyxFQUFFRixLQUFLLENBQUNHLG9CQUFvQixFQUFFSCxLQUFLLENBQUNJLG1CQUFtQixFQUFFLElBQUksQ0FBQ0Msa0JBQWtCLEVBQUU7TUFDaElDLFVBQVUsRUFBRSxLQUFLO01BQUU7TUFDbkJDLFlBQVksRUFBRSxJQUFJLENBQUNDO0lBQ3JCLENBQUUsQ0FBQzs7SUFFSDtJQUNBLE1BQU1DLGlCQUFpQixHQUFHLElBQUloQixpQkFBaUIsQ0FBRU8sS0FBSyxDQUFDRyxvQkFBb0IsRUFBRSxJQUFJLENBQUNFLGtCQUFrQixFQUFFTCxLQUFLLENBQUNVLFlBQWEsQ0FBQztJQUMxSCxNQUFNQyxrQkFBa0IsR0FBRyxJQUFJakIsa0JBQWtCLENBQUVNLEtBQUssQ0FBQ0csb0JBQW9CLEVBQUUsSUFBSSxDQUFDRSxrQkFBa0IsRUFBRUwsS0FBSyxDQUFDVSxZQUFhLENBQUM7O0lBRTVIO0lBQ0EsTUFBTUUsb0JBQW9CLEdBQUcsSUFBSXZCLG9CQUFvQixDQUFFLElBQUksQ0FBQ3dCLGNBQWMsQ0FBQ0MscUJBQXFCLEVBQUUsU0FBUyxFQUFFNUIsV0FBVyxFQUFFLFVBQVUsRUFBRUMsWUFBWSxFQUFFO01BQ2xKNEIsTUFBTSxFQUFFLElBQUksQ0FBQ0MsWUFBWSxDQUFDQyxHQUFHLEdBQUcsRUFBRTtNQUNsQ0MsSUFBSSxFQUFFLElBQUksQ0FBQ0YsWUFBWSxDQUFDRTtJQUMxQixDQUFFLENBQUM7O0lBRUg7SUFDQSxNQUFNQyxTQUFTLEdBQUcsSUFBSXhCLGNBQWMsQ0FBRUssS0FBSyxFQUFFO01BQzNDb0IsUUFBUSxFQUFFdkIsZUFBZTtNQUN6QndCLEtBQUssRUFBRSxJQUFJLENBQUNDLFlBQVksQ0FBQ0MsSUFBSSxHQUFHbkMsMEJBQTBCLENBQUNvQyxtQkFBbUI7TUFDOUVQLEdBQUcsRUFBRTtJQUNQLENBQUUsQ0FBQzs7SUFFSDtJQUNBLE1BQU1RLGtCQUFrQixHQUFHLElBQUk3QixrQkFBa0IsQ0FBRUksS0FBSyxDQUFDMEIsU0FBUyxFQUFFO01BQ2xFTixRQUFRLEVBQUV2QixlQUFlO01BQ3pCb0IsR0FBRyxFQUFFLEdBQUc7TUFBRTtNQUNWSSxLQUFLLEVBQUVGLFNBQVMsQ0FBQ0U7SUFDbkIsQ0FBRSxDQUFDOztJQUVIO0lBQ0EsSUFBSSxDQUFDTSxRQUFRLENBQUVSLFNBQVUsQ0FBQztJQUMxQixJQUFJLENBQUNRLFFBQVEsQ0FBRWYsb0JBQXFCLENBQUM7SUFDckMsSUFBSSxDQUFDZSxRQUFRLENBQUVGLGtCQUFtQixDQUFDO0lBQ25DLElBQUksQ0FBQ0UsUUFBUSxDQUFFMUIsUUFBUyxDQUFDO0lBQ3pCLElBQUksQ0FBQzBCLFFBQVEsQ0FBRWxCLGlCQUFrQixDQUFDO0lBQ2xDLElBQUksQ0FBQ21CLGVBQWUsQ0FBRW5CLGlCQUFrQixDQUFDO0lBQ3pDLElBQUksQ0FBQ2tCLFFBQVEsQ0FBRWhCLGtCQUFtQixDQUFDOztJQUVuQztJQUNBO0lBQ0EsSUFBSSxDQUFDRSxjQUFjLENBQUNDLHFCQUFxQixDQUFDZSxJQUFJLENBQUVDLGFBQWEsSUFBSTtNQUMvRCxJQUFJLENBQUNDLFNBQVMsQ0FBQ0MsZUFBZSxDQUFDLENBQUM7TUFDaEMsUUFBUUYsYUFBYTtRQUNuQixLQUFLLFNBQVM7VUFDWixJQUFJLENBQUNHLGFBQWEsQ0FBQ0MsT0FBTyxHQUFHLElBQUk7VUFDakN6QixpQkFBaUIsQ0FBQ3lCLE9BQU8sR0FBRyxLQUFLO1VBQ2pDdkIsa0JBQWtCLENBQUN1QixPQUFPLEdBQUcsS0FBSztVQUNsQztRQUNGLEtBQUssVUFBVTtVQUNiLElBQUksQ0FBQ0QsYUFBYSxDQUFDQyxPQUFPLEdBQUcsS0FBSztVQUNsQ3pCLGlCQUFpQixDQUFDeUIsT0FBTyxHQUFHLElBQUk7VUFDaEN2QixrQkFBa0IsQ0FBQ3VCLE9BQU8sR0FBRyxJQUFJO1VBQ2pDO1FBQ0Y7VUFDRSxNQUFNLElBQUlDLEtBQUssQ0FBRyw4QkFBNkJMLGFBQWMsRUFBRSxDQUFDO01BQ3BFO0lBQ0YsQ0FBRSxDQUFDOztJQUVIO0lBQ0E5QixLQUFLLENBQUNvQyxLQUFLLENBQUNDLG9CQUFvQixDQUFFQyxTQUFTLElBQUk7TUFFN0M7TUFDQSxNQUFNQyxzQkFBc0IsR0FBR0MsU0FBUyxJQUFJO1FBQzFDLElBQUksQ0FBQ0Msa0JBQWtCLENBQUNDLHVCQUF1QixDQUFFRixTQUFVLENBQUM7TUFDOUQsQ0FBQztNQUVERixTQUFTLENBQUNLLHFCQUFxQixDQUFDQyxXQUFXLENBQUVMLHNCQUF1QixDQUFDO01BRXJFdkMsS0FBSyxDQUFDb0MsS0FBSyxDQUFDUyxzQkFBc0IsQ0FBRSxTQUFTQyxlQUFlQSxDQUFFQyxXQUFXLEVBQUc7UUFDMUUsSUFBS0EsV0FBVyxLQUFLVCxTQUFTLEVBQUc7VUFDL0JBLFNBQVMsQ0FBQ0sscUJBQXFCLENBQUNLLGNBQWMsQ0FBRVQsc0JBQXVCLENBQUM7VUFDeEV2QyxLQUFLLENBQUNvQyxLQUFLLENBQUNhLHlCQUF5QixDQUFFSCxlQUFnQixDQUFDO1FBQzFEO01BQ0YsQ0FBRSxDQUFDO0lBQ0wsQ0FBRSxDQUFDOztJQUVIO0lBQ0EsSUFBSSxDQUFDSSxnQkFBZ0IsQ0FBQ0MsU0FBUyxHQUFHLENBQUVoQyxTQUFTLEVBQUVQLG9CQUFvQixFQUFFLElBQUksQ0FBQ0ksWUFBWSxDQUFFO0VBQzFGO0FBQ0Y7QUFFQXhCLGlCQUFpQixDQUFDNEQsUUFBUSxDQUFFLGlCQUFpQixFQUFFdEQsZUFBZ0IsQ0FBQztBQUNoRSxlQUFlQSxlQUFlIn0=