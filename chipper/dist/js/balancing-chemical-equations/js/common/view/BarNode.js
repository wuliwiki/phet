// Copyright 2014-2023, University of Colorado Boulder

/**
 * A bar that displays some number of atoms for a specified atom.
 * The bar is capable of displaying some maximum number of atoms.
 * If the number of atoms exceeds that maximum, then an upward-pointing
 * arrow appears at the top of the bar.
 *
 * Origin is at the bottom center of the bar.
 *
 * @author Vasily Shakhov(mlearner.com)
 * @author Chris Malley (PixelZoom, Inc.)
 */

import Dimension2 from '../../../../dot/js/Dimension2.js';
import { Shape } from '../../../../kite/js/imports.js';
import AtomNode from '../../../../nitroglycerin/js/nodes/AtomNode.js';
import optionize from '../../../../phet-core/js/optionize.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { HBox, HStrut, Path, Text, VBox } from '../../../../scenery/js/imports.js';
import balancingChemicalEquations from '../../balancingChemicalEquations.js';
import BCEConstants from '../BCEConstants.js';

// constants
const MAX_NUMBER_OF_ATOMS = 12; // bar changes to an arrow above this number
const MAX_BAR_SIZE = new Dimension2(40, 60);
const BAR_LINE_WIDTH = 1.5;
const ARROW_SIZE = new Dimension2(1.5 * MAX_BAR_SIZE.width, 15);
export default class BarNode extends VBox {
  /**
   * @param element the atom that we're displaying on the bar
   * @param numberOfAtomsProperty number of elements
   * @param [providedOptions]
   */
  constructor(element, numberOfAtomsProperty, providedOptions) {
    const options = optionize()({
      // VBoxOptions
      excludeInvisibleChildrenFromBounds: false
    }, providedOptions);

    // number of atoms
    const numberNode = new Text('?', {
      font: new PhetFont(18)
    });

    // bar
    const barNode = new Path(Shape.rect(0, 0, 1, 1), {
      fill: element.color,
      stroke: 'black',
      lineWidth: BAR_LINE_WIDTH
    });

    // atom symbol
    const symbolNode = new Text(element.symbol, {
      font: new PhetFont(24)
    });

    // atom icon
    const iconNode = new AtomNode(element, BCEConstants.ATOM_NODE_OPTIONS);
    iconNode.scale(BCEConstants.MOLECULE_SCALE_FACTOR);

    // horizontal strut, to prevent resizing
    const hStrut = new HStrut(MAX_BAR_SIZE.width + BAR_LINE_WIDTH);
    options.children = [hStrut, numberNode, barNode, new HBox({
      children: [iconNode, symbolNode],
      spacing: 3
    })];
    super(options);
    const numberOfAtomsListener = numberOfAtoms => {
      // number of atoms
      numberNode.string = `${numberOfAtoms}`;

      // bar
      let barShape;
      if (numberOfAtoms <= MAX_NUMBER_OF_ATOMS) {
        // rectangular bar
        const height = MAX_BAR_SIZE.height * (numberOfAtoms / MAX_NUMBER_OF_ATOMS);
        barShape = Shape.rect(0, -height, MAX_BAR_SIZE.width, height);
      } else {
        // bar with upward-pointing arrow, path is specified clockwise from arrow tip.
        barShape = new Shape().moveTo(0, -MAX_BAR_SIZE.height).lineTo(ARROW_SIZE.width / 2, -(MAX_BAR_SIZE.height - ARROW_SIZE.height)).lineTo(MAX_BAR_SIZE.width / 2, -(MAX_BAR_SIZE.height - ARROW_SIZE.height)).lineTo(MAX_BAR_SIZE.width / 2, 0).lineTo(-MAX_BAR_SIZE.width / 2, 0).lineTo(-MAX_BAR_SIZE.width / 2, -(MAX_BAR_SIZE.height - ARROW_SIZE.height)).lineTo(-ARROW_SIZE.width / 2, -(MAX_BAR_SIZE.height - ARROW_SIZE.height)).close();
      }
      barNode.setShape(barShape);
      barNode.visible = numberOfAtoms > 0;
      this.bottom = 0;
    };

    // when the number of atoms changes ...
    numberOfAtomsProperty.link(numberOfAtomsListener);
    this.disposeBarNode = () => {
      numberOfAtomsProperty.unlink(numberOfAtomsListener);
    };
  }
  dispose() {
    this.disposeBarNode();
    super.dispose();
  }
}
balancingChemicalEquations.register('BarNode', BarNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEaW1lbnNpb24yIiwiU2hhcGUiLCJBdG9tTm9kZSIsIm9wdGlvbml6ZSIsIlBoZXRGb250IiwiSEJveCIsIkhTdHJ1dCIsIlBhdGgiLCJUZXh0IiwiVkJveCIsImJhbGFuY2luZ0NoZW1pY2FsRXF1YXRpb25zIiwiQkNFQ29uc3RhbnRzIiwiTUFYX05VTUJFUl9PRl9BVE9NUyIsIk1BWF9CQVJfU0laRSIsIkJBUl9MSU5FX1dJRFRIIiwiQVJST1dfU0laRSIsIndpZHRoIiwiQmFyTm9kZSIsImNvbnN0cnVjdG9yIiwiZWxlbWVudCIsIm51bWJlck9mQXRvbXNQcm9wZXJ0eSIsInByb3ZpZGVkT3B0aW9ucyIsIm9wdGlvbnMiLCJleGNsdWRlSW52aXNpYmxlQ2hpbGRyZW5Gcm9tQm91bmRzIiwibnVtYmVyTm9kZSIsImZvbnQiLCJiYXJOb2RlIiwicmVjdCIsImZpbGwiLCJjb2xvciIsInN0cm9rZSIsImxpbmVXaWR0aCIsInN5bWJvbE5vZGUiLCJzeW1ib2wiLCJpY29uTm9kZSIsIkFUT01fTk9ERV9PUFRJT05TIiwic2NhbGUiLCJNT0xFQ1VMRV9TQ0FMRV9GQUNUT1IiLCJoU3RydXQiLCJjaGlsZHJlbiIsInNwYWNpbmciLCJudW1iZXJPZkF0b21zTGlzdGVuZXIiLCJudW1iZXJPZkF0b21zIiwic3RyaW5nIiwiYmFyU2hhcGUiLCJoZWlnaHQiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZSIsInNldFNoYXBlIiwidmlzaWJsZSIsImJvdHRvbSIsImxpbmsiLCJkaXNwb3NlQmFyTm9kZSIsInVubGluayIsImRpc3Bvc2UiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkJhck5vZGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTQtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQSBiYXIgdGhhdCBkaXNwbGF5cyBzb21lIG51bWJlciBvZiBhdG9tcyBmb3IgYSBzcGVjaWZpZWQgYXRvbS5cclxuICogVGhlIGJhciBpcyBjYXBhYmxlIG9mIGRpc3BsYXlpbmcgc29tZSBtYXhpbXVtIG51bWJlciBvZiBhdG9tcy5cclxuICogSWYgdGhlIG51bWJlciBvZiBhdG9tcyBleGNlZWRzIHRoYXQgbWF4aW11bSwgdGhlbiBhbiB1cHdhcmQtcG9pbnRpbmdcclxuICogYXJyb3cgYXBwZWFycyBhdCB0aGUgdG9wIG9mIHRoZSBiYXIuXHJcbiAqXHJcbiAqIE9yaWdpbiBpcyBhdCB0aGUgYm90dG9tIGNlbnRlciBvZiB0aGUgYmFyLlxyXG4gKlxyXG4gKiBAYXV0aG9yIFZhc2lseSBTaGFraG92KG1sZWFybmVyLmNvbSlcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBEaW1lbnNpb24yIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9EaW1lbnNpb24yLmpzJztcclxuaW1wb3J0IHsgU2hhcGUgfSBmcm9tICcuLi8uLi8uLi8uLi9raXRlL2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgRWxlbWVudCBmcm9tICcuLi8uLi8uLi8uLi9uaXRyb2dseWNlcmluL2pzL0VsZW1lbnQuanMnO1xyXG5pbXBvcnQgQXRvbU5vZGUgZnJvbSAnLi4vLi4vLi4vLi4vbml0cm9nbHljZXJpbi9qcy9ub2Rlcy9BdG9tTm9kZS5qcyc7XHJcbmltcG9ydCBvcHRpb25pemUsIHsgRW1wdHlTZWxmT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgUGhldEZvbnQgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1BoZXRGb250LmpzJztcclxuaW1wb3J0IHsgSEJveCwgSFN0cnV0LCBOb2RlVHJhbnNsYXRpb25PcHRpb25zLCBQYXRoLCBUZXh0LCBWQm94LCBWQm94T3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBiYWxhbmNpbmdDaGVtaWNhbEVxdWF0aW9ucyBmcm9tICcuLi8uLi9iYWxhbmNpbmdDaGVtaWNhbEVxdWF0aW9ucy5qcyc7XHJcbmltcG9ydCBCQ0VDb25zdGFudHMgZnJvbSAnLi4vQkNFQ29uc3RhbnRzLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBNQVhfTlVNQkVSX09GX0FUT01TID0gMTI7IC8vIGJhciBjaGFuZ2VzIHRvIGFuIGFycm93IGFib3ZlIHRoaXMgbnVtYmVyXHJcbmNvbnN0IE1BWF9CQVJfU0laRSA9IG5ldyBEaW1lbnNpb24yKCA0MCwgNjAgKTtcclxuY29uc3QgQkFSX0xJTkVfV0lEVEggPSAxLjU7XHJcbmNvbnN0IEFSUk9XX1NJWkUgPSBuZXcgRGltZW5zaW9uMiggMS41ICogTUFYX0JBUl9TSVpFLndpZHRoLCAxNSApO1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IEVtcHR5U2VsZk9wdGlvbnM7XHJcblxyXG50eXBlIEJhck5vZGVPcHRpb25zID0gU2VsZk9wdGlvbnMgJiBOb2RlVHJhbnNsYXRpb25PcHRpb25zO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFyTm9kZSBleHRlbmRzIFZCb3gge1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IGRpc3Bvc2VCYXJOb2RlOiAoKSA9PiB2b2lkO1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgYXRvbSB0aGF0IHdlJ3JlIGRpc3BsYXlpbmcgb24gdGhlIGJhclxyXG4gICAqIEBwYXJhbSBudW1iZXJPZkF0b21zUHJvcGVydHkgbnVtYmVyIG9mIGVsZW1lbnRzXHJcbiAgICogQHBhcmFtIFtwcm92aWRlZE9wdGlvbnNdXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBlbGVtZW50OiBFbGVtZW50LCBudW1iZXJPZkF0b21zUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PG51bWJlcj4sIHByb3ZpZGVkT3B0aW9ucz86IEJhck5vZGVPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8QmFyTm9kZU9wdGlvbnMsIFNlbGZPcHRpb25zLCBWQm94T3B0aW9ucz4oKSgge1xyXG5cclxuICAgICAgLy8gVkJveE9wdGlvbnNcclxuICAgICAgZXhjbHVkZUludmlzaWJsZUNoaWxkcmVuRnJvbUJvdW5kczogZmFsc2VcclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIC8vIG51bWJlciBvZiBhdG9tc1xyXG4gICAgY29uc3QgbnVtYmVyTm9kZSA9IG5ldyBUZXh0KCAnPycsIHsgZm9udDogbmV3IFBoZXRGb250KCAxOCApIH0gKTtcclxuXHJcbiAgICAvLyBiYXJcclxuICAgIGNvbnN0IGJhck5vZGUgPSBuZXcgUGF0aCggU2hhcGUucmVjdCggMCwgMCwgMSwgMSApLCB7XHJcbiAgICAgIGZpbGw6IGVsZW1lbnQuY29sb3IsXHJcbiAgICAgIHN0cm9rZTogJ2JsYWNrJyxcclxuICAgICAgbGluZVdpZHRoOiBCQVJfTElORV9XSURUSFxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGF0b20gc3ltYm9sXHJcbiAgICBjb25zdCBzeW1ib2xOb2RlID0gbmV3IFRleHQoIGVsZW1lbnQuc3ltYm9sLCB7IGZvbnQ6IG5ldyBQaGV0Rm9udCggMjQgKSB9ICk7XHJcblxyXG4gICAgLy8gYXRvbSBpY29uXHJcbiAgICBjb25zdCBpY29uTm9kZSA9IG5ldyBBdG9tTm9kZSggZWxlbWVudCwgQkNFQ29uc3RhbnRzLkFUT01fTk9ERV9PUFRJT05TICk7XHJcbiAgICBpY29uTm9kZS5zY2FsZSggQkNFQ29uc3RhbnRzLk1PTEVDVUxFX1NDQUxFX0ZBQ1RPUiApO1xyXG5cclxuICAgIC8vIGhvcml6b250YWwgc3RydXQsIHRvIHByZXZlbnQgcmVzaXppbmdcclxuICAgIGNvbnN0IGhTdHJ1dCA9IG5ldyBIU3RydXQoIE1BWF9CQVJfU0laRS53aWR0aCArIEJBUl9MSU5FX1dJRFRIICk7XHJcblxyXG4gICAgb3B0aW9ucy5jaGlsZHJlbiA9IFsgaFN0cnV0LCBudW1iZXJOb2RlLCBiYXJOb2RlLFxyXG4gICAgICBuZXcgSEJveCgge1xyXG4gICAgICAgIGNoaWxkcmVuOiBbIGljb25Ob2RlLCBzeW1ib2xOb2RlIF0sXHJcbiAgICAgICAgc3BhY2luZzogM1xyXG4gICAgICB9IClcclxuICAgIF07XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcbiAgICBjb25zdCBudW1iZXJPZkF0b21zTGlzdGVuZXIgPSAoIG51bWJlck9mQXRvbXM6IG51bWJlciApID0+IHtcclxuXHJcbiAgICAgIC8vIG51bWJlciBvZiBhdG9tc1xyXG4gICAgICBudW1iZXJOb2RlLnN0cmluZyA9IGAke251bWJlck9mQXRvbXN9YDtcclxuXHJcbiAgICAgIC8vIGJhclxyXG4gICAgICBsZXQgYmFyU2hhcGU7XHJcbiAgICAgIGlmICggbnVtYmVyT2ZBdG9tcyA8PSBNQVhfTlVNQkVSX09GX0FUT01TICkge1xyXG4gICAgICAgIC8vIHJlY3Rhbmd1bGFyIGJhclxyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1BWF9CQVJfU0laRS5oZWlnaHQgKiAoIG51bWJlck9mQXRvbXMgLyBNQVhfTlVNQkVSX09GX0FUT01TICk7XHJcbiAgICAgICAgYmFyU2hhcGUgPSBTaGFwZS5yZWN0KCAwLCAtaGVpZ2h0LCBNQVhfQkFSX1NJWkUud2lkdGgsIGhlaWdodCApO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGJhciB3aXRoIHVwd2FyZC1wb2ludGluZyBhcnJvdywgcGF0aCBpcyBzcGVjaWZpZWQgY2xvY2t3aXNlIGZyb20gYXJyb3cgdGlwLlxyXG4gICAgICAgIGJhclNoYXBlID0gbmV3IFNoYXBlKClcclxuICAgICAgICAgIC5tb3ZlVG8oIDAsIC1NQVhfQkFSX1NJWkUuaGVpZ2h0IClcclxuICAgICAgICAgIC5saW5lVG8oIEFSUk9XX1NJWkUud2lkdGggLyAyLCAtKCBNQVhfQkFSX1NJWkUuaGVpZ2h0IC0gQVJST1dfU0laRS5oZWlnaHQgKSApXHJcbiAgICAgICAgICAubGluZVRvKCBNQVhfQkFSX1NJWkUud2lkdGggLyAyLCAtKCBNQVhfQkFSX1NJWkUuaGVpZ2h0IC0gQVJST1dfU0laRS5oZWlnaHQgKSApXHJcbiAgICAgICAgICAubGluZVRvKCBNQVhfQkFSX1NJWkUud2lkdGggLyAyLCAwIClcclxuICAgICAgICAgIC5saW5lVG8oIC1NQVhfQkFSX1NJWkUud2lkdGggLyAyLCAwIClcclxuICAgICAgICAgIC5saW5lVG8oIC1NQVhfQkFSX1NJWkUud2lkdGggLyAyLCAtKCBNQVhfQkFSX1NJWkUuaGVpZ2h0IC0gQVJST1dfU0laRS5oZWlnaHQgKSApXHJcbiAgICAgICAgICAubGluZVRvKCAtQVJST1dfU0laRS53aWR0aCAvIDIsIC0oIE1BWF9CQVJfU0laRS5oZWlnaHQgLSBBUlJPV19TSVpFLmhlaWdodCApIClcclxuICAgICAgICAgIC5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGJhck5vZGUuc2V0U2hhcGUoIGJhclNoYXBlICk7XHJcbiAgICAgIGJhck5vZGUudmlzaWJsZSA9ICggbnVtYmVyT2ZBdG9tcyA+IDAgKTtcclxuXHJcbiAgICAgIHRoaXMuYm90dG9tID0gMDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gd2hlbiB0aGUgbnVtYmVyIG9mIGF0b21zIGNoYW5nZXMgLi4uXHJcbiAgICBudW1iZXJPZkF0b21zUHJvcGVydHkubGluayggbnVtYmVyT2ZBdG9tc0xpc3RlbmVyICk7XHJcblxyXG4gICAgdGhpcy5kaXNwb3NlQmFyTm9kZSA9ICgpID0+IHtcclxuICAgICAgbnVtYmVyT2ZBdG9tc1Byb3BlcnR5LnVubGluayggbnVtYmVyT2ZBdG9tc0xpc3RlbmVyICk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICB0aGlzLmRpc3Bvc2VCYXJOb2RlKCk7XHJcbiAgICBzdXBlci5kaXNwb3NlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5iYWxhbmNpbmdDaGVtaWNhbEVxdWF0aW9ucy5yZWdpc3RlciggJ0Jhck5vZGUnLCBCYXJOb2RlICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBLE9BQU9BLFVBQVUsTUFBTSxrQ0FBa0M7QUFDekQsU0FBU0MsS0FBSyxRQUFRLGdDQUFnQztBQUV0RCxPQUFPQyxRQUFRLE1BQU0sZ0RBQWdEO0FBQ3JFLE9BQU9DLFNBQVMsTUFBNEIsdUNBQXVDO0FBQ25GLE9BQU9DLFFBQVEsTUFBTSx5Q0FBeUM7QUFDOUQsU0FBU0MsSUFBSSxFQUFFQyxNQUFNLEVBQTBCQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxRQUFxQixtQ0FBbUM7QUFDdkgsT0FBT0MsMEJBQTBCLE1BQU0scUNBQXFDO0FBQzVFLE9BQU9DLFlBQVksTUFBTSxvQkFBb0I7O0FBRTdDO0FBQ0EsTUFBTUMsbUJBQW1CLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDaEMsTUFBTUMsWUFBWSxHQUFHLElBQUliLFVBQVUsQ0FBRSxFQUFFLEVBQUUsRUFBRyxDQUFDO0FBQzdDLE1BQU1jLGNBQWMsR0FBRyxHQUFHO0FBQzFCLE1BQU1DLFVBQVUsR0FBRyxJQUFJZixVQUFVLENBQUUsR0FBRyxHQUFHYSxZQUFZLENBQUNHLEtBQUssRUFBRSxFQUFHLENBQUM7QUFNakUsZUFBZSxNQUFNQyxPQUFPLFNBQVNSLElBQUksQ0FBQztFQUl4QztBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ1NTLFdBQVdBLENBQUVDLE9BQWdCLEVBQUVDLHFCQUFnRCxFQUFFQyxlQUFnQyxFQUFHO0lBRXpILE1BQU1DLE9BQU8sR0FBR25CLFNBQVMsQ0FBMkMsQ0FBQyxDQUFFO01BRXJFO01BQ0FvQixrQ0FBa0MsRUFBRTtJQUN0QyxD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