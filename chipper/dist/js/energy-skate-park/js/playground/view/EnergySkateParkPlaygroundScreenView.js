// Copyright 2019-2022, University of Colorado Boulder

/**
 * View where you can create custom tracks which are draggable, configurable,
 * splittable, and attachable.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import merge from '../../../../phet-core/js/merge.js';
import EraserButton from '../../../../scenery-phet/js/buttons/EraserButton.js';
import { Color } from '../../../../scenery/js/imports.js';
import EnergySkateParkScreenView from '../../common/view/EnergySkateParkScreenView.js';
import TrackToolboxPanel from '../../common/view/TrackToolboxPanel.js';
import energySkatePark from '../../energySkatePark.js';
class EnergySkateParkPlaygroundScreenView extends EnergySkateParkScreenView {
  /**
   * @param {EnergySkateParkModel} model
   * @param {Tandem} tandem
   * @param {Object} [options]
   */
  constructor(model, tandem, options) {
    options = merge({
      controlPanelOptions: {
        showTrackButtons: false,
        visibilityControlsOptions: {
          showPieChartCheckbox: true,
          showGridCheckbox: false,
          showSpeedCheckbox: true,
          showStickToTrackCheckbox: true
        },
        gravityControlsOptions: {
          includeGravityComboBox: true
        }
      }
    }, options);
    super(model, tandem, options);

    // @private {TrackNode[]}- collection of TrackNodes added to the View
    this.trackNodes = [];

    // @protected - for layout in subtypes
    this.trackToolbox = new TrackToolboxPanel(model, this, tandem.createTandem('trackToolbox'), {
      rightCenter: this.timeControlNode.leftCenter.minusXY(15, 0)
    });
    this.bottomLayer.addChild(this.trackToolbox);
    model.tracks.addItemAddedListener(this.addTrackNode.bind(this));

    // @protected - for layout in subtypes
    this.clearButton = new EraserButton({
      iconWidth: 30,
      baseColor: new Color(221, 210, 32),
      rightCenter: this.trackToolbox.leftCenter.minusXY(10, 0),
      tandem: tandem.createTandem('clearButton')
    });
    model.clearButtonEnabledProperty.linkAttribute(this.clearButton, 'enabled');
    this.clearButton.addListener(() => {
      model.clearTracks();
    });
    this.addChild(this.clearButton);

    // add any other TrackNodes eagerly in case model has some initial Tracks, like when we are debugging
    model.tracks.map(this.addTrackNode.bind(this));
    this.timeControlNode.left = this.modelViewTransform.modelToViewX(0.5);
    this.trackToolbox.right = this.modelViewTransform.modelToViewX(-0.5);
    this.clearButton.right = this.trackToolbox.left - 10;
  }

  /**
   * Add a TrackNode to this ScreenView and add listeners that will
   * handle disposal.
   * @public
   *
   * @param {Track} track
   * @returns {TrackNode}
   */
  addTrackNode(track) {
    const trackNode = this.trackNodeGroup.createNextElement(track, this.modelViewTransform, this.availableModelBoundsProperty);
    this.trackNodes.push(trackNode);
    this.trackLayer.addChild(trackNode);

    // When track removed, remove its view
    const itemRemovedListener = removed => {
      if (removed === track) {
        this.trackLayer.removeChild(trackNode);
        const index = this.trackNodes.indexOf(trackNode);
        this.trackNodes.splice(index, 1);

        // Clean up memory leak
        this.model.tracks.removeItemRemovedListener(itemRemovedListener);
        trackNode.dispose();
      }
    };
    this.model.tracks.addItemRemovedListener(itemRemovedListener);
    return trackNode;
  }
}
energySkatePark.register('EnergySkateParkPlaygroundScreenView', EnergySkateParkPlaygroundScreenView);
export default EnergySkateParkPlaygroundScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZXJnZSIsIkVyYXNlckJ1dHRvbiIsIkNvbG9yIiwiRW5lcmd5U2thdGVQYXJrU2NyZWVuVmlldyIsIlRyYWNrVG9vbGJveFBhbmVsIiwiZW5lcmd5U2thdGVQYXJrIiwiRW5lcmd5U2thdGVQYXJrUGxheWdyb3VuZFNjcmVlblZpZXciLCJjb25zdHJ1Y3RvciIsIm1vZGVsIiwidGFuZGVtIiwib3B0aW9ucyIsImNvbnRyb2xQYW5lbE9wdGlvbnMiLCJzaG93VHJhY2tCdXR0b25zIiwidmlzaWJpbGl0eUNvbnRyb2xzT3B0aW9ucyIsInNob3dQaWVDaGFydENoZWNrYm94Iiwic2hvd0dyaWRDaGVja2JveCIsInNob3dTcGVlZENoZWNrYm94Iiwic2hvd1N0aWNrVG9UcmFja0NoZWNrYm94IiwiZ3Jhdml0eUNvbnRyb2xzT3B0aW9ucyIsImluY2x1ZGVHcmF2aXR5Q29tYm9Cb3giLCJ0cmFja05vZGVzIiwidHJhY2tUb29sYm94IiwiY3JlYXRlVGFuZGVtIiwicmlnaHRDZW50ZXIiLCJ0aW1lQ29udHJvbE5vZGUiLCJsZWZ0Q2VudGVyIiwibWludXNYWSIsImJvdHRvbUxheWVyIiwiYWRkQ2hpbGQiLCJ0cmFja3MiLCJhZGRJdGVtQWRkZWRMaXN0ZW5lciIsImFkZFRyYWNrTm9kZSIsImJpbmQiLCJjbGVhckJ1dHRvbiIsImljb25XaWR0aCIsImJhc2VDb2xvciIsImNsZWFyQnV0dG9uRW5hYmxlZFByb3BlcnR5IiwibGlua0F0dHJpYnV0ZSIsImFkZExpc3RlbmVyIiwiY2xlYXJUcmFja3MiLCJtYXAiLCJsZWZ0IiwibW9kZWxWaWV3VHJhbnNmb3JtIiwibW9kZWxUb1ZpZXdYIiwicmlnaHQiLCJ0cmFjayIsInRyYWNrTm9kZSIsInRyYWNrTm9kZUdyb3VwIiwiY3JlYXRlTmV4dEVsZW1lbnQiLCJhdmFpbGFibGVNb2RlbEJvdW5kc1Byb3BlcnR5IiwicHVzaCIsInRyYWNrTGF5ZXIiLCJpdGVtUmVtb3ZlZExpc3RlbmVyIiwicmVtb3ZlZCIsInJlbW92ZUNoaWxkIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwicmVtb3ZlSXRlbVJlbW92ZWRMaXN0ZW5lciIsImRpc3Bvc2UiLCJhZGRJdGVtUmVtb3ZlZExpc3RlbmVyIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJFbmVyZ3lTa2F0ZVBhcmtQbGF5Z3JvdW5kU2NyZWVuVmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOS0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBWaWV3IHdoZXJlIHlvdSBjYW4gY3JlYXRlIGN1c3RvbSB0cmFja3Mgd2hpY2ggYXJlIGRyYWdnYWJsZSwgY29uZmlndXJhYmxlLFxyXG4gKiBzcGxpdHRhYmxlLCBhbmQgYXR0YWNoYWJsZS5cclxuICpcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICogQGF1dGhvciBKZXNzZSBHcmVlbmJlcmcgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IG1lcmdlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tZXJnZS5qcyc7XHJcbmltcG9ydCBFcmFzZXJCdXR0b24gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL2J1dHRvbnMvRXJhc2VyQnV0dG9uLmpzJztcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgRW5lcmd5U2thdGVQYXJrU2NyZWVuVmlldyBmcm9tICcuLi8uLi9jb21tb24vdmlldy9FbmVyZ3lTa2F0ZVBhcmtTY3JlZW5WaWV3LmpzJztcclxuaW1wb3J0IFRyYWNrVG9vbGJveFBhbmVsIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L1RyYWNrVG9vbGJveFBhbmVsLmpzJztcclxuaW1wb3J0IGVuZXJneVNrYXRlUGFyayBmcm9tICcuLi8uLi9lbmVyZ3lTa2F0ZVBhcmsuanMnO1xyXG5cclxuY2xhc3MgRW5lcmd5U2thdGVQYXJrUGxheWdyb3VuZFNjcmVlblZpZXcgZXh0ZW5kcyBFbmVyZ3lTa2F0ZVBhcmtTY3JlZW5WaWV3IHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtFbmVyZ3lTa2F0ZVBhcmtNb2RlbH0gbW9kZWxcclxuICAgKiBAcGFyYW0ge1RhbmRlbX0gdGFuZGVtXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBtb2RlbCwgdGFuZGVtLCBvcHRpb25zICkge1xyXG5cclxuICAgIG9wdGlvbnMgPSBtZXJnZSgge1xyXG4gICAgICBjb250cm9sUGFuZWxPcHRpb25zOiB7XHJcbiAgICAgICAgc2hvd1RyYWNrQnV0dG9uczogZmFsc2UsXHJcbiAgICAgICAgdmlzaWJpbGl0eUNvbnRyb2xzT3B0aW9uczoge1xyXG4gICAgICAgICAgc2hvd1BpZUNoYXJ0Q2hlY2tib3g6IHRydWUsXHJcbiAgICAgICAgICBzaG93R3JpZENoZWNrYm94OiBmYWxzZSxcclxuICAgICAgICAgIHNob3dTcGVlZENoZWNrYm94OiB0cnVlLFxyXG4gICAgICAgICAgc2hvd1N0aWNrVG9UcmFja0NoZWNrYm94OiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBncmF2aXR5Q29udHJvbHNPcHRpb25zOiB7XHJcbiAgICAgICAgICBpbmNsdWRlR3Jhdml0eUNvbWJvQm94OiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCBvcHRpb25zICk7XHJcblxyXG4gICAgc3VwZXIoIG1vZGVsLCB0YW5kZW0sIG9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSB7VHJhY2tOb2RlW119LSBjb2xsZWN0aW9uIG9mIFRyYWNrTm9kZXMgYWRkZWQgdG8gdGhlIFZpZXdcclxuICAgIHRoaXMudHJhY2tOb2RlcyA9IFtdO1xyXG5cclxuICAgIC8vIEBwcm90ZWN0ZWQgLSBmb3IgbGF5b3V0IGluIHN1YnR5cGVzXHJcbiAgICB0aGlzLnRyYWNrVG9vbGJveCA9IG5ldyBUcmFja1Rvb2xib3hQYW5lbCggbW9kZWwsIHRoaXMsIHRhbmRlbS5jcmVhdGVUYW5kZW0oICd0cmFja1Rvb2xib3gnICksIHtcclxuICAgICAgcmlnaHRDZW50ZXI6IHRoaXMudGltZUNvbnRyb2xOb2RlLmxlZnRDZW50ZXIubWludXNYWSggMTUsIDAgKVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5ib3R0b21MYXllci5hZGRDaGlsZCggdGhpcy50cmFja1Rvb2xib3ggKTtcclxuXHJcbiAgICBtb2RlbC50cmFja3MuYWRkSXRlbUFkZGVkTGlzdGVuZXIoIHRoaXMuYWRkVHJhY2tOb2RlLmJpbmQoIHRoaXMgKSApO1xyXG5cclxuICAgIC8vIEBwcm90ZWN0ZWQgLSBmb3IgbGF5b3V0IGluIHN1YnR5cGVzXHJcbiAgICB0aGlzLmNsZWFyQnV0dG9uID0gbmV3IEVyYXNlckJ1dHRvbigge1xyXG4gICAgICBpY29uV2lkdGg6IDMwLFxyXG4gICAgICBiYXNlQ29sb3I6IG5ldyBDb2xvciggMjIxLCAyMTAsIDMyICksXHJcbiAgICAgIHJpZ2h0Q2VudGVyOiB0aGlzLnRyYWNrVG9vbGJveC5sZWZ0Q2VudGVyLm1pbnVzWFkoIDEwLCAwICksXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2NsZWFyQnV0dG9uJyApXHJcbiAgICB9ICk7XHJcbiAgICBtb2RlbC5jbGVhckJ1dHRvbkVuYWJsZWRQcm9wZXJ0eS5saW5rQXR0cmlidXRlKCB0aGlzLmNsZWFyQnV0dG9uLCAnZW5hYmxlZCcgKTtcclxuICAgIHRoaXMuY2xlYXJCdXR0b24uYWRkTGlzdGVuZXIoICgpID0+IHsgbW9kZWwuY2xlYXJUcmFja3MoKTsgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5jbGVhckJ1dHRvbiApO1xyXG5cclxuICAgIC8vIGFkZCBhbnkgb3RoZXIgVHJhY2tOb2RlcyBlYWdlcmx5IGluIGNhc2UgbW9kZWwgaGFzIHNvbWUgaW5pdGlhbCBUcmFja3MsIGxpa2Ugd2hlbiB3ZSBhcmUgZGVidWdnaW5nXHJcbiAgICBtb2RlbC50cmFja3MubWFwKCB0aGlzLmFkZFRyYWNrTm9kZS5iaW5kKCB0aGlzICkgKTtcclxuXHJcbiAgICB0aGlzLnRpbWVDb250cm9sTm9kZS5sZWZ0ID0gdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCAwLjUgKTtcclxuICAgIHRoaXMudHJhY2tUb29sYm94LnJpZ2h0ID0gdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCAtMC41ICk7XHJcbiAgICB0aGlzLmNsZWFyQnV0dG9uLnJpZ2h0ID0gdGhpcy50cmFja1Rvb2xib3gubGVmdCAtIDEwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEgVHJhY2tOb2RlIHRvIHRoaXMgU2NyZWVuVmlldyBhbmQgYWRkIGxpc3RlbmVycyB0aGF0IHdpbGxcclxuICAgKiBoYW5kbGUgZGlzcG9zYWwuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqXHJcbiAgICogQHBhcmFtIHtUcmFja30gdHJhY2tcclxuICAgKiBAcmV0dXJucyB7VHJhY2tOb2RlfVxyXG4gICAqL1xyXG4gIGFkZFRyYWNrTm9kZSggdHJhY2sgKSB7XHJcbiAgICBjb25zdCB0cmFja05vZGUgPSB0aGlzLnRyYWNrTm9kZUdyb3VwLmNyZWF0ZU5leHRFbGVtZW50KCB0cmFjaywgdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0sIHRoaXMuYXZhaWxhYmxlTW9kZWxCb3VuZHNQcm9wZXJ0eSApO1xyXG4gICAgdGhpcy50cmFja05vZGVzLnB1c2goIHRyYWNrTm9kZSApO1xyXG4gICAgdGhpcy50cmFja0xheWVyLmFkZENoaWxkKCB0cmFja05vZGUgKTtcclxuXHJcbiAgICAvLyBXaGVuIHRyYWNrIHJlbW92ZWQsIHJlbW92ZSBpdHMgdmlld1xyXG4gICAgY29uc3QgaXRlbVJlbW92ZWRMaXN0ZW5lciA9IHJlbW92ZWQgPT4ge1xyXG4gICAgICBpZiAoIHJlbW92ZWQgPT09IHRyYWNrICkge1xyXG4gICAgICAgIHRoaXMudHJhY2tMYXllci5yZW1vdmVDaGlsZCggdHJhY2tOb2RlICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy50cmFja05vZGVzLmluZGV4T2YoIHRyYWNrTm9kZSApO1xyXG4gICAgICAgIHRoaXMudHJhY2tOb2Rlcy5zcGxpY2UoIGluZGV4LCAxICk7XHJcblxyXG4gICAgICAgIC8vIENsZWFuIHVwIG1lbW9yeSBsZWFrXHJcbiAgICAgICAgdGhpcy5tb2RlbC50cmFja3MucmVtb3ZlSXRlbVJlbW92ZWRMaXN0ZW5lciggaXRlbVJlbW92ZWRMaXN0ZW5lciApO1xyXG4gICAgICAgIHRyYWNrTm9kZS5kaXNwb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLm1vZGVsLnRyYWNrcy5hZGRJdGVtUmVtb3ZlZExpc3RlbmVyKCBpdGVtUmVtb3ZlZExpc3RlbmVyICk7XHJcblxyXG4gICAgcmV0dXJuIHRyYWNrTm9kZTtcclxuICB9XHJcbn1cclxuXHJcbmVuZXJneVNrYXRlUGFyay5yZWdpc3RlciggJ0VuZXJneVNrYXRlUGFya1BsYXlncm91bmRTY3JlZW5WaWV3JywgRW5lcmd5U2thdGVQYXJrUGxheWdyb3VuZFNjcmVlblZpZXcgKTtcclxuZXhwb3J0IGRlZmF1bHQgRW5lcmd5U2thdGVQYXJrUGxheWdyb3VuZFNjcmVlblZpZXc7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsS0FBSyxNQUFNLG1DQUFtQztBQUNyRCxPQUFPQyxZQUFZLE1BQU0scURBQXFEO0FBQzlFLFNBQVNDLEtBQUssUUFBUSxtQ0FBbUM7QUFDekQsT0FBT0MseUJBQXlCLE1BQU0sZ0RBQWdEO0FBQ3RGLE9BQU9DLGlCQUFpQixNQUFNLHdDQUF3QztBQUN0RSxPQUFPQyxlQUFlLE1BQU0sMEJBQTBCO0FBRXRELE1BQU1DLG1D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