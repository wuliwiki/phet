// Copyright 2013-2022, University of Colorado Boulder

/**
 * Scenery node for the control panel, with view settings and controls. The control panel may or may not include various controls
 * depending on options, but the order of included controls is always the same.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 */

import merge from '../../../../phet-core/js/merge.js';
import { HSeparator, VBox } from '../../../../scenery/js/imports.js';
import Panel from '../../../../sun/js/Panel.js';
import energySkatePark from '../../energySkatePark.js';
import EnergySkateParkConstants from '../EnergySkateParkConstants.js';
import EnergySkateParkGravityControls from './EnergySkateParkGravityControls.js';
import EnergySkateParkMassControls from './EnergySkateParkMassControls.js';
import EnergySkateParkVisibilityControls from './EnergySkateParkVisibilityControls.js';
import FrictionSlider from './FrictionSlider.js';
import SceneSelectionRadioButtonGroup from './SceneSelectionRadioButtonGroup.js';
import SkaterImages from './SkaterImages.js';
import SkaterRadioButtonGroup from './SkaterRadioButtonGroup.js';
class EnergySkateParkControlPanel extends Panel {
  /**
   * @param {EnergySkateParkModel} model
   * @param {EnergySkateParkScreenView} screenView
   * @param {Tandem} tandem
   * @param {Object} [options]
   */
  constructor(model, screenView, tandem, options) {
    options = merge({
      // {boolean} whether or not controls will include radio buttons to change active track
      showTrackButtons: true,
      // {boolean} whether or not controls to include a friction slider will be included in this sim
      showFrictionControls: true,
      // {boolean} whether or not gravity controls will be included in this control panel
      showGravityControls: true,
      // {boolean} whether or not mass controls will be included in this control panel
      showMassControls: true,
      // {boolean} whether or not to include radio buttons that control the skater in energy skate park.
      showSkaterControls: true,
      // {Object|null} options passed along to the EnergySkateParkVisibilityControls
      visibilityControlsOptions: null,
      // {Object|null} options passed on to EnergySkateParkGravityControls - only relevant if showGravityControls
      // is true
      gravityControlsOptions: null,
      // {Object|null} options passed to EnergySkateParkMassControls - only relevant if showMassControls is true
      massControlsOptions: null
    }, options);
    const userControlledPropertySet = model.userControlledPropertySet;

    // all contents of the control panel will be added to this array
    const children = [];
    let trackRadioButtons = null;
    if (options.showTrackButtons) {
      trackRadioButtons = new SceneSelectionRadioButtonGroup(model, screenView, tandem.createTandem('sceneSelectionRadioButtonGroup'));
      children.push(trackRadioButtons);
    }
    let frictionControls = null;
    if (options.showFrictionControls) {
      // TODO: https://github.com/phetsims/energy-skate-park/issues/344 rename the class, perhaps up the hierarchy
      frictionControls = new FrictionSlider(model.frictionProperty, userControlledPropertySet.frictionControlledProperty, tandem.createTandem('frictionControl'));
      children.push(frictionControls);
    }
    let gravityControls = null;
    if (options.showGravityControls) {
      gravityControls = new EnergySkateParkGravityControls(model.skater.gravityMagnitudeProperty, userControlledPropertySet.gravityControlledProperty, model.preferencesModel.accelerationUnitsProperty, model.resetEmitter, screenView, tandem.createTandem('energySkateParkGravityControls'), options.gravityControlsOptions);
      children.push(gravityControls);
    }
    let massControls = null;
    if (options.showMassControls) {
      massControls = new EnergySkateParkMassControls(model.skater.massProperty, userControlledPropertySet.massControlledProperty, model.skater.massRange, screenView.skaterNode.skaterImageSetProperty, model.resetEmitter, screenView, tandem.createTandem('energySkateParkMassControls'), options.massControlsOptions);
      children.push(massControls);
    }
    if (options.showSkaterControls) {
      // The set of characters for this control can change. Instead of instantiating a new control we create all
      // eagerly and swap visibility.
      const characterSet1SkaterControls = new SkaterRadioButtonGroup(screenView.skaterNode.skaterImageSetProperty, SkaterImages.SKATER_CHARACTER_SETS[0], tandem.createTandem('skaterSetOneControls'));
      const characterSet2SkaterControls = new SkaterRadioButtonGroup(screenView.skaterNode.skaterImageSetProperty, SkaterImages.SKATER_CHARACTER_SETS[1], tandem.createTandem('skaterSetTwoControls'));
      const characterSet3SkaterControls = new SkaterRadioButtonGroup(screenView.skaterNode.skaterImageSetProperty, SkaterImages.SKATER_CHARACTER_SETS[2], tandem.createTandem('skaterSetThreeControls'));
      children.push(characterSet1SkaterControls);
      children.push(characterSet2SkaterControls);
      children.push(characterSet3SkaterControls);
      model.preferencesModel.skaterCharacterSetProperty.link(characterSet => {
        characterSet1SkaterControls.visible = characterSet === SkaterImages.CHARACTER_SET_1;
        characterSet2SkaterControls.visible = characterSet === SkaterImages.CHARACTER_SET_2;
        characterSet3SkaterControls.visible = characterSet === SkaterImages.CHARACTER_SET_3;

        // change selected image to first in the character set
        screenView.skaterNode.skaterImageSetProperty.value = characterSet.imageSet1;
      });
    }

    // horizontal separators added after construction of all controls so that it can match width of widest control
    const separatorWidth = _.maxBy(children, child => child.width).width;

    // controls that change visibility of items in the screen
    options.visibilityControlsOptions = merge({}, options.visibilityControlsOptions, {
      checkboxWidth: separatorWidth
    });
    options.visibilityControlsOptions.checkboxWidth = separatorWidth;
    const visibilityControls = new EnergySkateParkVisibilityControls(model, tandem.createTandem('visibilityControls'), options.visibilityControlsOptions);
    children.unshift(visibilityControls);

    // one separator after visibility controls
    children.splice(children.indexOf(visibilityControls) + 1, 0, new HSeparator());

    // one separator after scene selection buttons
    trackRadioButtons && children.splice(children.indexOf(trackRadioButtons) + 1, 0, new HSeparator());

    // one separator after a section for friction and/or gravity controls
    if (frictionControls || gravityControls) {
      if (gravityControls) {
        children.splice(children.indexOf(gravityControls) + 1, 0, new HSeparator());
      } else {
        children.splice(children.indexOf(frictionControls) + 1, 0, new HSeparator());
      }
    }
    if (massControls) {
      // the layout for the mass controls needs to match the layout of the above controls so that the title matches
      // position with the other NumberControls
      massControls.matchLayout(separatorWidth);
    }
    const content = new VBox({
      spacing: 8,
      children: children
    });
    super(content, merge({
      xMargin: 5,
      yMargin: 5,
      resize: false,
      tandem: tandem
    }, EnergySkateParkConstants.PANEL_OPTIONS));
  }
}
energySkatePark.register('EnergySkateParkControlPanel', EnergySkateParkControlPanel);
export default EnergySkateParkControlPanel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZXJnZSIsIkhTZXBhcmF0b3IiLCJWQm94IiwiUGFuZWwiLCJlbmVyZ3lTa2F0ZVBhcmsiLCJFbmVyZ3lTa2F0ZVBhcmtDb25zdGFudHMiLCJFbmVyZ3lTa2F0ZVBhcmtHcmF2aXR5Q29udHJvbHMiLCJFbmVyZ3lTa2F0ZVBhcmtNYXNzQ29udHJvbHMiLCJFbmVyZ3lTa2F0ZVBhcmtWaXNpYmlsaXR5Q29udHJvbHMiLCJGcmljdGlvblNsaWRlciIsIlNjZW5lU2VsZWN0aW9uUmFkaW9CdXR0b25Hcm91cCIsIlNrYXRlckltYWdlcyIsIlNrYXRlclJhZGlvQnV0dG9uR3JvdXAiLCJFbmVyZ3lTa2F0ZVBhcmtDb250cm9sUGFuZWwiLCJjb25zdHJ1Y3RvciIsIm1vZGVsIiwic2NyZWVuVmlldyIsInRhbmRlbSIsIm9wdGlvbnMiLCJzaG93VHJhY2tCdXR0b25zIiwic2hvd0ZyaWN0aW9uQ29udHJvbHMiLCJzaG93R3Jhdml0eUNvbnRyb2xzIiwic2hvd01hc3NDb250cm9scyIsInNob3dTa2F0ZXJDb250cm9scyIsInZpc2liaWxpdHlDb250cm9sc09wdGlvbnMiLCJncmF2aXR5Q29udHJvbHNPcHRpb25zIiwibWFzc0NvbnRyb2xzT3B0aW9ucyIsInVzZXJDb250cm9sbGVkUHJvcGVydHlTZXQiLCJjaGlsZHJlbiIsInRyYWNrUmFkaW9CdXR0b25zIiwiY3JlYXRlVGFuZGVtIiwicHVzaCIsImZyaWN0aW9uQ29udHJvbHMiLCJmcmljdGlvblByb3BlcnR5IiwiZnJpY3Rpb25Db250cm9sbGVkUHJvcGVydHkiLCJncmF2aXR5Q29udHJvbHMiLCJza2F0ZXIiLCJncmF2aXR5TWFnbml0dWRlUHJvcGVydHkiLCJncmF2aXR5Q29udHJvbGxlZFByb3BlcnR5IiwicHJlZmVyZW5jZXNNb2RlbCIsImFjY2VsZXJhdGlvblVuaXRzUHJvcGVydHkiLCJyZXNldEVtaXR0ZXIiLCJtYXNzQ29udHJvbHMiLCJtYXNzUHJvcGVydHkiLCJtYXNzQ29udHJvbGxlZFByb3BlcnR5IiwibWFzc1JhbmdlIiwic2thdGVyTm9kZSIsInNrYXRlckltYWdlU2V0UHJvcGVydHkiLCJjaGFyYWN0ZXJTZXQxU2thdGVyQ29udHJvbHMiLCJTS0FURVJfQ0hBUkFDVEVSX1NFVFMiLCJjaGFyYWN0ZXJTZXQyU2thdGVyQ29udHJvbHMiLCJjaGFyYWN0ZXJTZXQzU2thdGVyQ29udHJvbHMiLCJza2F0ZXJDaGFyYWN0ZXJTZXRQcm9wZXJ0eSIsImxpbmsiLCJjaGFyYWN0ZXJTZXQiLCJ2aXNpYmxlIiwiQ0hBUkFDVEVSX1NFVF8xIiwiQ0hBUkFDVEVSX1NFVF8yIiwiQ0hBUkFDVEVSX1NFVF8zIiwidmFsdWUiLCJpbWFnZVNldDEiLCJzZXBhcmF0b3JXaWR0aCIsIl8iLCJtYXhCeSIsImNoaWxkIiwid2lkdGgiLCJjaGVja2JveFdpZHRoIiwidmlzaWJpbGl0eUNvbnRyb2xzIiwidW5zaGlmdCIsInNwbGljZSIsImluZGV4T2YiLCJtYXRjaExheW91dCIsImNvbnRlbnQiLCJzcGFjaW5nIiwieE1hcmdpbiIsInlNYXJnaW4iLCJyZXNpemUiLCJQQU5FTF9PUFRJT05TIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJFbmVyZ3lTa2F0ZVBhcmtDb250cm9sUGFuZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTMtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU2NlbmVyeSBub2RlIGZvciB0aGUgY29udHJvbCBwYW5lbCwgd2l0aCB2aWV3IHNldHRpbmdzIGFuZCBjb250cm9scy4gVGhlIGNvbnRyb2wgcGFuZWwgbWF5IG9yIG1heSBub3QgaW5jbHVkZSB2YXJpb3VzIGNvbnRyb2xzXHJcbiAqIGRlcGVuZGluZyBvbiBvcHRpb25zLCBidXQgdGhlIG9yZGVyIG9mIGluY2x1ZGVkIGNvbnRyb2xzIGlzIGFsd2F5cyB0aGUgc2FtZS5cclxuICpcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IHsgSFNlcGFyYXRvciwgVkJveCB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBQYW5lbCBmcm9tICcuLi8uLi8uLi8uLi9zdW4vanMvUGFuZWwuanMnO1xyXG5pbXBvcnQgZW5lcmd5U2thdGVQYXJrIGZyb20gJy4uLy4uL2VuZXJneVNrYXRlUGFyay5qcyc7XHJcbmltcG9ydCBFbmVyZ3lTa2F0ZVBhcmtDb25zdGFudHMgZnJvbSAnLi4vRW5lcmd5U2thdGVQYXJrQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IEVuZXJneVNrYXRlUGFya0dyYXZpdHlDb250cm9scyBmcm9tICcuL0VuZXJneVNrYXRlUGFya0dyYXZpdHlDb250cm9scy5qcyc7XHJcbmltcG9ydCBFbmVyZ3lTa2F0ZVBhcmtNYXNzQ29udHJvbHMgZnJvbSAnLi9FbmVyZ3lTa2F0ZVBhcmtNYXNzQ29udHJvbHMuanMnO1xyXG5pbXBvcnQgRW5lcmd5U2thdGVQYXJrVmlzaWJpbGl0eUNvbnRyb2xzIGZyb20gJy4vRW5lcmd5U2thdGVQYXJrVmlzaWJpbGl0eUNvbnRyb2xzLmpzJztcclxuaW1wb3J0IEZyaWN0aW9uU2xpZGVyIGZyb20gJy4vRnJpY3Rpb25TbGlkZXIuanMnO1xyXG5pbXBvcnQgU2NlbmVTZWxlY3Rpb25SYWRpb0J1dHRvbkdyb3VwIGZyb20gJy4vU2NlbmVTZWxlY3Rpb25SYWRpb0J1dHRvbkdyb3VwLmpzJztcclxuaW1wb3J0IFNrYXRlckltYWdlcyBmcm9tICcuL1NrYXRlckltYWdlcy5qcyc7XHJcbmltcG9ydCBTa2F0ZXJSYWRpb0J1dHRvbkdyb3VwIGZyb20gJy4vU2thdGVyUmFkaW9CdXR0b25Hcm91cC5qcyc7XHJcblxyXG5jbGFzcyBFbmVyZ3lTa2F0ZVBhcmtDb250cm9sUGFuZWwgZXh0ZW5kcyBQYW5lbCB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7RW5lcmd5U2thdGVQYXJrTW9kZWx9IG1vZGVsXHJcbiAgICogQHBhcmFtIHtFbmVyZ3lTa2F0ZVBhcmtTY3JlZW5WaWV3fSBzY3JlZW5WaWV3XHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggbW9kZWwsIHNjcmVlblZpZXcsIHRhbmRlbSwgb3B0aW9ucyApIHtcclxuXHJcbiAgICBvcHRpb25zID0gbWVyZ2UoIHtcclxuXHJcbiAgICAgIC8vIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCBjb250cm9scyB3aWxsIGluY2x1ZGUgcmFkaW8gYnV0dG9ucyB0byBjaGFuZ2UgYWN0aXZlIHRyYWNrXHJcbiAgICAgIHNob3dUcmFja0J1dHRvbnM6IHRydWUsXHJcblxyXG4gICAgICAvLyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgY29udHJvbHMgdG8gaW5jbHVkZSBhIGZyaWN0aW9uIHNsaWRlciB3aWxsIGJlIGluY2x1ZGVkIGluIHRoaXMgc2ltXHJcbiAgICAgIHNob3dGcmljdGlvbkNvbnRyb2xzOiB0cnVlLFxyXG5cclxuICAgICAgLy8ge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGdyYXZpdHkgY29udHJvbHMgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGlzIGNvbnRyb2wgcGFuZWxcclxuICAgICAgc2hvd0dyYXZpdHlDb250cm9sczogdHJ1ZSxcclxuXHJcbiAgICAgIC8vIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCBtYXNzIGNvbnRyb2xzIHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhpcyBjb250cm9sIHBhbmVsXHJcbiAgICAgIHNob3dNYXNzQ29udHJvbHM6IHRydWUsXHJcblxyXG4gICAgICAvLyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgdG8gaW5jbHVkZSByYWRpbyBidXR0b25zIHRoYXQgY29udHJvbCB0aGUgc2thdGVyIGluIGVuZXJneSBza2F0ZSBwYXJrLlxyXG4gICAgICBzaG93U2thdGVyQ29udHJvbHM6IHRydWUsXHJcblxyXG4gICAgICAvLyB7T2JqZWN0fG51bGx9IG9wdGlvbnMgcGFzc2VkIGFsb25nIHRvIHRoZSBFbmVyZ3lTa2F0ZVBhcmtWaXNpYmlsaXR5Q29udHJvbHNcclxuICAgICAgdmlzaWJpbGl0eUNvbnRyb2xzT3B0aW9uczogbnVsbCxcclxuXHJcbiAgICAgIC8vIHtPYmplY3R8bnVsbH0gb3B0aW9ucyBwYXNzZWQgb24gdG8gRW5lcmd5U2thdGVQYXJrR3Jhdml0eUNvbnRyb2xzIC0gb25seSByZWxldmFudCBpZiBzaG93R3Jhdml0eUNvbnRyb2xzXHJcbiAgICAgIC8vIGlzIHRydWVcclxuICAgICAgZ3Jhdml0eUNvbnRyb2xzT3B0aW9uczogbnVsbCxcclxuXHJcbiAgICAgIC8vIHtPYmplY3R8bnVsbH0gb3B0aW9ucyBwYXNzZWQgdG8gRW5lcmd5U2thdGVQYXJrTWFzc0NvbnRyb2xzIC0gb25seSByZWxldmFudCBpZiBzaG93TWFzc0NvbnRyb2xzIGlzIHRydWVcclxuICAgICAgbWFzc0NvbnRyb2xzT3B0aW9uczogbnVsbFxyXG5cclxuICAgIH0sIG9wdGlvbnMgKTtcclxuXHJcbiAgICBjb25zdCB1c2VyQ29udHJvbGxlZFByb3BlcnR5U2V0ID0gbW9kZWwudXNlckNvbnRyb2xsZWRQcm9wZXJ0eVNldDtcclxuXHJcbiAgICAvLyBhbGwgY29udGVudHMgb2YgdGhlIGNvbnRyb2wgcGFuZWwgd2lsbCBiZSBhZGRlZCB0byB0aGlzIGFycmF5XHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xyXG5cclxuICAgIGxldCB0cmFja1JhZGlvQnV0dG9ucyA9IG51bGw7XHJcbiAgICBpZiAoIG9wdGlvbnMuc2hvd1RyYWNrQnV0dG9ucyApIHtcclxuICAgICAgdHJhY2tSYWRpb0J1dHRvbnMgPSBuZXcgU2NlbmVTZWxlY3Rpb25SYWRpb0J1dHRvbkdyb3VwKCBtb2RlbCwgc2NyZWVuVmlldywgdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3NjZW5lU2VsZWN0aW9uUmFkaW9CdXR0b25Hcm91cCcgKSApO1xyXG4gICAgICBjaGlsZHJlbi5wdXNoKCB0cmFja1JhZGlvQnV0dG9ucyApO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBmcmljdGlvbkNvbnRyb2xzID0gbnVsbDtcclxuICAgIGlmICggb3B0aW9ucy5zaG93RnJpY3Rpb25Db250cm9scyApIHtcclxuXHJcbiAgICAgIC8vIFRPRE86IGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9lbmVyZ3ktc2thdGUtcGFyay9pc3N1ZXMvMzQ0IHJlbmFtZSB0aGUgY2xhc3MsIHBlcmhhcHMgdXAgdGhlIGhpZXJhcmNoeVxyXG4gICAgICBmcmljdGlvbkNvbnRyb2xzID0gbmV3IEZyaWN0aW9uU2xpZGVyKCBtb2RlbC5mcmljdGlvblByb3BlcnR5LCB1c2VyQ29udHJvbGxlZFByb3BlcnR5U2V0LmZyaWN0aW9uQ29udHJvbGxlZFByb3BlcnR5LCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnZnJpY3Rpb25Db250cm9sJyApICk7XHJcbiAgICAgIGNoaWxkcmVuLnB1c2goIGZyaWN0aW9uQ29udHJvbHMgKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZ3Jhdml0eUNvbnRyb2xzID0gbnVsbDtcclxuICAgIGlmICggb3B0aW9ucy5zaG93R3Jhdml0eUNvbnRyb2xzICkge1xyXG4gICAgICBncmF2aXR5Q29udHJvbHMgPSBuZXcgRW5lcmd5U2thdGVQYXJrR3Jhdml0eUNvbnRyb2xzKCBtb2RlbC5za2F0ZXIuZ3Jhdml0eU1hZ25pdHVkZVByb3BlcnR5LCB1c2VyQ29udHJvbGxlZFByb3BlcnR5U2V0LmdyYXZpdHlDb250cm9sbGVkUHJvcGVydHksIG1vZGVsLnByZWZlcmVuY2VzTW9kZWwuYWNjZWxlcmF0aW9uVW5pdHNQcm9wZXJ0eSwgbW9kZWwucmVzZXRFbWl0dGVyLCBzY3JlZW5WaWV3LCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnZW5lcmd5U2thdGVQYXJrR3Jhdml0eUNvbnRyb2xzJyApLCBvcHRpb25zLmdyYXZpdHlDb250cm9sc09wdGlvbnMgKTtcclxuICAgICAgY2hpbGRyZW4ucHVzaCggZ3Jhdml0eUNvbnRyb2xzICk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG1hc3NDb250cm9scyA9IG51bGw7XHJcbiAgICBpZiAoIG9wdGlvbnMuc2hvd01hc3NDb250cm9scyApIHtcclxuICAgICAgbWFzc0NvbnRyb2xzID0gbmV3IEVuZXJneVNrYXRlUGFya01hc3NDb250cm9scyggbW9kZWwuc2thdGVyLm1hc3NQcm9wZXJ0eSwgdXNlckNvbnRyb2xsZWRQcm9wZXJ0eVNldC5tYXNzQ29udHJvbGxlZFByb3BlcnR5LCBtb2RlbC5za2F0ZXIubWFzc1JhbmdlLCBzY3JlZW5WaWV3LnNrYXRlck5vZGUuc2thdGVySW1hZ2VTZXRQcm9wZXJ0eSwgbW9kZWwucmVzZXRFbWl0dGVyLCBzY3JlZW5WaWV3LCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnZW5lcmd5U2thdGVQYXJrTWFzc0NvbnRyb2xzJyApLCBvcHRpb25zLm1hc3NDb250cm9sc09wdGlvbnMgKTtcclxuICAgICAgY2hpbGRyZW4ucHVzaCggbWFzc0NvbnRyb2xzICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBvcHRpb25zLnNob3dTa2F0ZXJDb250cm9scyApIHtcclxuXHJcbiAgICAgIC8vIFRoZSBzZXQgb2YgY2hhcmFjdGVycyBmb3IgdGhpcyBjb250cm9sIGNhbiBjaGFuZ2UuIEluc3RlYWQgb2YgaW5zdGFudGlhdGluZyBhIG5ldyBjb250cm9sIHdlIGNyZWF0ZSBhbGxcclxuICAgICAgLy8gZWFnZXJseSBhbmQgc3dhcCB2aXNpYmlsaXR5LlxyXG4gICAgICBjb25zdCBjaGFyYWN0ZXJTZXQxU2thdGVyQ29udHJvbHMgPSBuZXcgU2thdGVyUmFkaW9CdXR0b25Hcm91cCggc2NyZWVuVmlldy5za2F0ZXJOb2RlLnNrYXRlckltYWdlU2V0UHJvcGVydHksIFNrYXRlckltYWdlcy5TS0FURVJfQ0hBUkFDVEVSX1NFVFNbIDAgXSwgdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3NrYXRlclNldE9uZUNvbnRyb2xzJyApICk7XHJcbiAgICAgIGNvbnN0IGNoYXJhY3RlclNldDJTa2F0ZXJDb250cm9scyA9IG5ldyBTa2F0ZXJSYWRpb0J1dHRvbkdyb3VwKCBzY3JlZW5WaWV3LnNrYXRlck5vZGUuc2thdGVySW1hZ2VTZXRQcm9wZXJ0eSwgU2thdGVySW1hZ2VzLlNLQVRFUl9DSEFSQUNURVJfU0VUU1sgMSBdLCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnc2thdGVyU2V0VHdvQ29udHJvbHMnICkgKTtcclxuICAgICAgY29uc3QgY2hhcmFjdGVyU2V0M1NrYXRlckNvbnRyb2xzID0gbmV3IFNrYXRlclJhZGlvQnV0dG9uR3JvdXAoIHNjcmVlblZpZXcuc2thdGVyTm9kZS5za2F0ZXJJbWFnZVNldFByb3BlcnR5LCBTa2F0ZXJJbWFnZXMuU0tBVEVSX0NIQVJBQ1RFUl9TRVRTWyAyIF0sIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdza2F0ZXJTZXRUaHJlZUNvbnRyb2xzJyApICk7XHJcbiAgICAgIGNoaWxkcmVuLnB1c2goIGNoYXJhY3RlclNldDFTa2F0ZXJDb250cm9scyApO1xyXG4gICAgICBjaGlsZHJlbi5wdXNoKCBjaGFyYWN0ZXJTZXQyU2thdGVyQ29udHJvbHMgKTtcclxuICAgICAgY2hpbGRyZW4ucHVzaCggY2hhcmFjdGVyU2V0M1NrYXRlckNvbnRyb2xzICk7XHJcblxyXG4gICAgICBtb2RlbC5wcmVmZXJlbmNlc01vZGVsLnNrYXRlckNoYXJhY3RlclNldFByb3BlcnR5LmxpbmsoIGNoYXJhY3RlclNldCA9PiB7XHJcbiAgICAgICAgY2hhcmFjdGVyU2V0MVNrYXRlckNvbnRyb2xzLnZpc2libGUgPSBjaGFyYWN0ZXJTZXQgPT09IFNrYXRlckltYWdlcy5DSEFSQUNURVJfU0VUXzE7XHJcbiAgICAgICAgY2hhcmFjdGVyU2V0MlNrYXRlckNvbnRyb2xzLnZpc2libGUgPSBjaGFyYWN0ZXJTZXQgPT09IFNrYXRlckltYWdlcy5DSEFSQUNURVJfU0VUXzI7XHJcbiAgICAgICAgY2hhcmFjdGVyU2V0M1NrYXRlckNvbnRyb2xzLnZpc2libGUgPSBjaGFyYWN0ZXJTZXQgPT09IFNrYXRlckltYWdlcy5DSEFSQUNURVJfU0VUXzM7XHJcblxyXG4gICAgICAgIC8vIGNoYW5nZSBzZWxlY3RlZCBpbWFnZSB0byBmaXJzdCBpbiB0aGUgY2hhcmFjdGVyIHNldFxyXG4gICAgICAgIHNjcmVlblZpZXcuc2thdGVyTm9kZS5za2F0ZXJJbWFnZVNldFByb3BlcnR5LnZhbHVlID0gY2hhcmFjdGVyU2V0LmltYWdlU2V0MTtcclxuICAgICAgfSApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGhvcml6b250YWwgc2VwYXJhdG9ycyBhZGRlZCBhZnRlciBjb25zdHJ1Y3Rpb24gb2YgYWxsIGNvbnRyb2xzIHNvIHRoYXQgaXQgY2FuIG1hdGNoIHdpZHRoIG9mIHdpZGVzdCBjb250cm9sXHJcbiAgICBjb25zdCBzZXBhcmF0b3JXaWR0aCA9IF8ubWF4QnkoIGNoaWxkcmVuLCBjaGlsZCA9PiBjaGlsZC53aWR0aCApLndpZHRoO1xyXG5cclxuICAgIC8vIGNvbnRyb2xzIHRoYXQgY2hhbmdlIHZpc2liaWxpdHkgb2YgaXRlbXMgaW4gdGhlIHNjcmVlblxyXG4gICAgb3B0aW9ucy52aXNpYmlsaXR5Q29udHJvbHNPcHRpb25zID0gbWVyZ2UoIHt9LCBvcHRpb25zLnZpc2liaWxpdHlDb250cm9sc09wdGlvbnMsIHtcclxuICAgICAgY2hlY2tib3hXaWR0aDogc2VwYXJhdG9yV2lkdGhcclxuICAgIH0gKTtcclxuICAgIG9wdGlvbnMudmlzaWJpbGl0eUNvbnRyb2xzT3B0aW9ucy5jaGVja2JveFdpZHRoID0gc2VwYXJhdG9yV2lkdGg7XHJcbiAgICBjb25zdCB2aXNpYmlsaXR5Q29udHJvbHMgPSBuZXcgRW5lcmd5U2thdGVQYXJrVmlzaWJpbGl0eUNvbnRyb2xzKCBtb2RlbCwgdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3Zpc2liaWxpdHlDb250cm9scycgKSwgb3B0aW9ucy52aXNpYmlsaXR5Q29udHJvbHNPcHRpb25zICk7XHJcbiAgICBjaGlsZHJlbi51bnNoaWZ0KCB2aXNpYmlsaXR5Q29udHJvbHMgKTtcclxuXHJcbiAgICAvLyBvbmUgc2VwYXJhdG9yIGFmdGVyIHZpc2liaWxpdHkgY29udHJvbHNcclxuICAgIGNoaWxkcmVuLnNwbGljZSggY2hpbGRyZW4uaW5kZXhPZiggdmlzaWJpbGl0eUNvbnRyb2xzICkgKyAxLCAwLCBuZXcgSFNlcGFyYXRvcigpICk7XHJcblxyXG4gICAgLy8gb25lIHNlcGFyYXRvciBhZnRlciBzY2VuZSBzZWxlY3Rpb24gYnV0dG9uc1xyXG4gICAgdHJhY2tSYWRpb0J1dHRvbnMgJiYgY2hpbGRyZW4uc3BsaWNlKCBjaGlsZHJlbi5pbmRleE9mKCB0cmFja1JhZGlvQnV0dG9ucyApICsgMSwgMCwgbmV3IEhTZXBhcmF0b3IoKSApO1xyXG5cclxuICAgIC8vIG9uZSBzZXBhcmF0b3IgYWZ0ZXIgYSBzZWN0aW9uIGZvciBmcmljdGlvbiBhbmQvb3IgZ3Jhdml0eSBjb250cm9sc1xyXG4gICAgaWYgKCBmcmljdGlvbkNvbnRyb2xzIHx8IGdyYXZpdHlDb250cm9scyApIHtcclxuICAgICAgaWYgKCBncmF2aXR5Q29udHJvbHMgKSB7XHJcbiAgICAgICAgY2hpbGRyZW4uc3BsaWNlKCBjaGlsZHJlbi5pbmRleE9mKCBncmF2aXR5Q29udHJvbHMgKSArIDEsIDAsIG5ldyBIU2VwYXJhdG9yKCkgKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBjaGlsZHJlbi5zcGxpY2UoIGNoaWxkcmVuLmluZGV4T2YoIGZyaWN0aW9uQ29udHJvbHMgKSArIDEsIDAsIG5ldyBIU2VwYXJhdG9yKCkgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICggbWFzc0NvbnRyb2xzICkge1xyXG5cclxuICAgICAgLy8gdGhlIGxheW91dCBmb3IgdGhlIG1hc3MgY29udHJvbHMgbmVlZHMgdG8gbWF0Y2ggdGhlIGxheW91dCBvZiB0aGUgYWJvdmUgY29udHJvbHMgc28gdGhhdCB0aGUgdGl0bGUgbWF0Y2hlc1xyXG4gICAgICAvLyBwb3NpdGlvbiB3aXRoIHRoZSBvdGhlciBOdW1iZXJDb250cm9sc1xyXG4gICAgICBtYXNzQ29udHJvbHMubWF0Y2hMYXlvdXQoIHNlcGFyYXRvcldpZHRoICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29udGVudCA9IG5ldyBWQm94KCB7IHNwYWNpbmc6IDgsIGNoaWxkcmVuOiBjaGlsZHJlbiB9ICk7XHJcblxyXG4gICAgc3VwZXIoIGNvbnRlbnQsIG1lcmdlKCB7XHJcbiAgICAgIHhNYXJnaW46IDUsXHJcbiAgICAgIHlNYXJnaW46IDUsXHJcbiAgICAgIHJlc2l6ZTogZmFsc2UsXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtXHJcbiAgICB9LCBFbmVyZ3lTa2F0ZVBhcmtDb25zdGFudHMuUEFORUxfT1BUSU9OUyApICk7XHJcbiAgfVxyXG59XHJcblxyXG5lbmVyZ3lTa2F0ZVBhcmsucmVnaXN0ZXIoICdFbmVyZ3lTa2F0ZVBhcmtDb250cm9sUGFuZWwnLCBFbmVyZ3lTa2F0ZVBhcmtDb250cm9sUGFuZWwgKTtcclxuZXhwb3J0IGRlZmF1bHQgRW5lcmd5U2thdGVQYXJrQ29udHJvbFBhbmVsOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLEtBQUssTUFBTSxtQ0FBbUM7QUFDckQsU0FBU0MsVUFBVSxFQUFFQyxJQUFJLFFBQVEsbUNBQW1DO0FBQ3BFLE9BQU9DLEtBQUssTUFBTSw2QkFBNkI7QUFDL0MsT0FBT0MsZUFBZSxNQUFNLDBCQUEwQjtBQUN0RCxPQUFPQyx3QkFBd0IsTUFBTSxnQ0FBZ0M7QUFDckUsT0FBT0MsOEJBQThCLE1BQU0scUNBQXFDO0FBQ2hGLE9BQU9DLDJCQUEyQixNQUFNLGtDQUFrQztBQUMxRSxPQUFPQyxpQ0FBaUMsTUFBTSx3Q0FBd0M7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