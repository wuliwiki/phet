// Copyright 2018-2022, University of Colorado Boulder

/**
 * A node that shows the potential energy reference height in energy-skate-park. The line is a dashed
 * line that extends horizontally across the screen. The line can be dragged by clicking on a double headed arrow.
 * The origin for this node is the left edge of the line.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import DynamicProperty from '../../../../axon/js/DynamicProperty.js';
import Property from '../../../../axon/js/Property.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import ArrowNode from '../../../../scenery-phet/js/ArrowNode.js';
import { DragListener, Line, Node } from '../../../../scenery/js/imports.js';
import energySkatePark from '../../energySkatePark.js';
import EnergySkateParkStrings from '../../EnergySkateParkStrings.js';
import EnergySkateParkColorScheme from './EnergySkateParkColorScheme.js';
import TextPanel from './TextPanel.js';
const heightEqualsZeroString = EnergySkateParkStrings.heightLabels.heightEqualsZeroStringProperty;
class ReferenceHeightLine extends Node {
  /**
   * @param {ModelViewTransform2} modelViewTransform
   * @param {NumberProperty} referenceHeightProperty
   * @param {BooleanProperty} referenceHeightVisibleProperty
   * @param {BooleanProperty} userControlledProperty
   * @param {Tandem} tandem
   */
  constructor(modelViewTransform, referenceHeightProperty, referenceHeightVisibleProperty, userControlledProperty, tandem) {
    // line will extend 9.5 meters through along the grid in model coordinates
    const lineLength = modelViewTransform.modelToViewDeltaX(9.5);

    // the line will be composed of two lines on top of each other to assist with line visibility but still look like
    // a dashed line - a taller black line to mimic stroke behind a shorter blue line
    const lineDash = [12, 9];
    const lineStart = new Vector2(0, 0);
    const lineEnd = new Vector2(lineLength, 0);
    const frontLine = new Line(lineStart, lineEnd, {
      lineWidth: 4,
      lineDash: lineDash,
      stroke: 'rgb(74,133,208)'
    });
    const backLine = new Line(lineStart, lineEnd, {
      lineWidth: 6,
      lineDash: lineDash,
      stroke: 'black'
    });

    // make the front line a bit easier to pick up
    frontLine.mouseArea = frontLine.bounds.dilated(5);
    frontLine.touchArea = frontLine.mouseArea;

    // double headed arrow indicates this line is draggable
    const doubleArrowNode = new ArrowNode(0, -14, 0, 14, {
      doubleHead: true,
      headWidth: 15,
      tailWidth: 7,
      left: 30,
      fill: EnergySkateParkColorScheme.referenceArrowFill
    });

    // label for the reference line, surround by a transparent panel for better visibility
    const textPanel = new TextPanel(heightEqualsZeroString, {
      textMaxWidth: 125
    });
    textPanel.setLeftCenter(doubleArrowNode.rightTop);
    super({
      children: [backLine, frontLine, doubleArrowNode, textPanel],
      // so it is clear that it can be picked up
      cursor: 'pointer'
    });

    // listeners, no need to dispose as the ReferenceHeightLine is never destroyed
    referenceHeightProperty.link(height => {
      // position the reference height line, model value in meters
      this.y = modelViewTransform.modelToViewY(height);
    });

    // update visibility with model Property and reset reference height when node is no longer visible to avoid
    // confusion
    referenceHeightVisibleProperty.link(visible => {
      referenceHeightProperty.reset();
      this.visible = visible;
    });

    // Maps the referenceHeightProperty (NumberProperty) to a Vector2Property required by DragListener, bidirectional
    // so that changing the dragPositionProperty updates the referenceHeightProperty correctly
    const dragPositionProperty = new DynamicProperty(new Property(referenceHeightProperty), {
      // so that this Property can be set by the DragListener
      bidirectional: true,
      map: referenceHeight => {
        // maps referenceHeightProperty value to a Vector2Property for the drag listener
        return new Vector2(0, referenceHeight);
      },
      inverseMap: positionVector => {
        // maps drag position Vector2 to the new value for referenceHeightProperty
        return referenceHeightProperty.range.constrainValue(positionVector.y);
      }
    });
    this.addInputListener(new DragListener({
      transform: modelViewTransform,
      positionProperty: dragPositionProperty,
      // signify when user is using this control so that
      start: () => {
        userControlledProperty.set(true);
      },
      end: () => {
        userControlledProperty.set(false);
      },
      tandem: tandem.createTandem('dragListener')
    }));
  }
}
energySkatePark.register('ReferenceHeightLine', ReferenceHeightLine);
export default ReferenceHeightLine;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEeW5hbWljUHJvcGVydHkiLCJQcm9wZXJ0eSIsIlZlY3RvcjIiLCJBcnJvd05vZGUiLCJEcmFnTGlzdGVuZXIiLCJMaW5lIiwiTm9kZSIsImVuZXJneVNrYXRlUGFyayIsIkVuZXJneVNrYXRlUGFya1N0cmluZ3MiLCJFbmVyZ3lTa2F0ZVBhcmtDb2xvclNjaGVtZSIsIlRleHRQYW5lbCIsImhlaWdodEVxdWFsc1plcm9TdHJpbmciLCJoZWlnaHRMYWJlbHMiLCJoZWlnaHRFcXVhbHNaZXJvU3RyaW5nUHJvcGVydHkiLCJSZWZlcmVuY2VIZWlnaHRMaW5lIiwiY29uc3RydWN0b3IiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJyZWZlcmVuY2VIZWlnaHRQcm9wZXJ0eSIsInJlZmVyZW5jZUhlaWdodFZpc2libGVQcm9wZXJ0eSIsInVzZXJDb250cm9sbGVkUHJvcGVydHkiLCJ0YW5kZW0iLCJsaW5lTGVuZ3RoIiwibW9kZWxUb1ZpZXdEZWx0YVgiLCJsaW5lRGFzaCIsImxpbmVTdGFydCIsImxpbmVFbmQiLCJmcm9udExpbmUiLCJsaW5lV2lkdGgiLCJzdHJva2UiLCJiYWNrTGluZSIsIm1vdXNlQXJlYSIsImJvdW5kcyIsImRpbGF0ZWQiLCJ0b3VjaEFyZWEiLCJkb3VibGVBcnJvd05vZGUiLCJkb3VibGVIZWFkIiwiaGVhZFdpZHRoIiwidGFpbFdpZHRoIiwibGVmdCIsImZpbGwiLCJyZWZlcmVuY2VBcnJvd0ZpbGwiLCJ0ZXh0UGFuZWwiLCJ0ZXh0TWF4V2lkdGgiLCJzZXRMZWZ0Q2VudGVyIiwicmlnaHRUb3AiLCJjaGlsZHJlbiIsImN1cnNvciIsImxpbmsiLCJoZWlnaHQiLCJ5IiwibW9kZWxUb1ZpZXdZIiwidmlzaWJsZSIsInJlc2V0IiwiZHJhZ1Bvc2l0aW9uUHJvcGVydHkiLCJiaWRpcmVjdGlvbmFsIiwibWFwIiwicmVmZXJlbmNlSGVpZ2h0IiwiaW52ZXJzZU1hcCIsInBvc2l0aW9uVmVjdG9yIiwicmFuZ2UiLCJjb25zdHJhaW5WYWx1ZSIsImFkZElucHV0TGlzdGVuZXIiLCJ0cmFuc2Zvcm0iLCJwb3NpdGlvblByb3BlcnR5Iiwic3RhcnQiLCJzZXQiLCJlbmQiLCJjcmVhdGVUYW5kZW0iLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlJlZmVyZW5jZUhlaWdodExpbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTgtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQSBub2RlIHRoYXQgc2hvd3MgdGhlIHBvdGVudGlhbCBlbmVyZ3kgcmVmZXJlbmNlIGhlaWdodCBpbiBlbmVyZ3ktc2thdGUtcGFyay4gVGhlIGxpbmUgaXMgYSBkYXNoZWRcclxuICogbGluZSB0aGF0IGV4dGVuZHMgaG9yaXpvbnRhbGx5IGFjcm9zcyB0aGUgc2NyZWVuLiBUaGUgbGluZSBjYW4gYmUgZHJhZ2dlZCBieSBjbGlja2luZyBvbiBhIGRvdWJsZSBoZWFkZWQgYXJyb3cuXHJcbiAqIFRoZSBvcmlnaW4gZm9yIHRoaXMgbm9kZSBpcyB0aGUgbGVmdCBlZGdlIG9mIHRoZSBsaW5lLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEplc3NlIEdyZWVuYmVyZyAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgRHluYW1pY1Byb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvRHluYW1pY1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCBBcnJvd05vZGUgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL0Fycm93Tm9kZS5qcyc7XHJcbmltcG9ydCB7IERyYWdMaXN0ZW5lciwgTGluZSwgTm9kZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBlbmVyZ3lTa2F0ZVBhcmsgZnJvbSAnLi4vLi4vZW5lcmd5U2thdGVQYXJrLmpzJztcclxuaW1wb3J0IEVuZXJneVNrYXRlUGFya1N0cmluZ3MgZnJvbSAnLi4vLi4vRW5lcmd5U2thdGVQYXJrU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBFbmVyZ3lTa2F0ZVBhcmtDb2xvclNjaGVtZSBmcm9tICcuL0VuZXJneVNrYXRlUGFya0NvbG9yU2NoZW1lLmpzJztcclxuaW1wb3J0IFRleHRQYW5lbCBmcm9tICcuL1RleHRQYW5lbC5qcyc7XHJcblxyXG5jb25zdCBoZWlnaHRFcXVhbHNaZXJvU3RyaW5nID0gRW5lcmd5U2thdGVQYXJrU3RyaW5ncy5oZWlnaHRMYWJlbHMuaGVpZ2h0RXF1YWxzWmVyb1N0cmluZ1Byb3BlcnR5O1xyXG5cclxuY2xhc3MgUmVmZXJlbmNlSGVpZ2h0TGluZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge01vZGVsVmlld1RyYW5zZm9ybTJ9IG1vZGVsVmlld1RyYW5zZm9ybVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyUHJvcGVydHl9IHJlZmVyZW5jZUhlaWdodFByb3BlcnR5XHJcbiAgICogQHBhcmFtIHtCb29sZWFuUHJvcGVydHl9IHJlZmVyZW5jZUhlaWdodFZpc2libGVQcm9wZXJ0eVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhblByb3BlcnR5fSB1c2VyQ29udHJvbGxlZFByb3BlcnR5XHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBtb2RlbFZpZXdUcmFuc2Zvcm0sIHJlZmVyZW5jZUhlaWdodFByb3BlcnR5LCByZWZlcmVuY2VIZWlnaHRWaXNpYmxlUHJvcGVydHksIHVzZXJDb250cm9sbGVkUHJvcGVydHksIHRhbmRlbSApIHtcclxuXHJcbiAgICAvLyBsaW5lIHdpbGwgZXh0ZW5kIDkuNSBtZXRlcnMgdGhyb3VnaCBhbG9uZyB0aGUgZ3JpZCBpbiBtb2RlbCBjb29yZGluYXRlc1xyXG4gICAgY29uc3QgbGluZUxlbmd0aCA9IG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld0RlbHRhWCggOS41ICk7XHJcblxyXG4gICAgLy8gdGhlIGxpbmUgd2lsbCBiZSBjb21wb3NlZCBvZiB0d28gbGluZXMgb24gdG9wIG9mIGVhY2ggb3RoZXIgdG8gYXNzaXN0IHdpdGggbGluZSB2aXNpYmlsaXR5IGJ1dCBzdGlsbCBsb29rIGxpa2VcclxuICAgIC8vIGEgZGFzaGVkIGxpbmUgLSBhIHRhbGxlciBibGFjayBsaW5lIHRvIG1pbWljIHN0cm9rZSBiZWhpbmQgYSBzaG9ydGVyIGJsdWUgbGluZVxyXG4gICAgY29uc3QgbGluZURhc2ggPSBbIDEyLCA5IF07XHJcbiAgICBjb25zdCBsaW5lU3RhcnQgPSBuZXcgVmVjdG9yMiggMCwgMCApO1xyXG4gICAgY29uc3QgbGluZUVuZCA9IG5ldyBWZWN0b3IyKCBsaW5lTGVuZ3RoLCAwICk7XHJcbiAgICBjb25zdCBmcm9udExpbmUgPSBuZXcgTGluZSggbGluZVN0YXJ0LCBsaW5lRW5kLCB7XHJcbiAgICAgIGxpbmVXaWR0aDogNCxcclxuICAgICAgbGluZURhc2g6IGxpbmVEYXNoLFxyXG4gICAgICBzdHJva2U6ICdyZ2IoNzQsMTMzLDIwOCknXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCBiYWNrTGluZSA9IG5ldyBMaW5lKCBsaW5lU3RhcnQsIGxpbmVFbmQsIHtcclxuICAgICAgbGluZVdpZHRoOiA2LFxyXG4gICAgICBsaW5lRGFzaDogbGluZURhc2gsXHJcbiAgICAgIHN0cm9rZTogJ2JsYWNrJ1xyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIG1ha2UgdGhlIGZyb250IGxpbmUgYSBiaXQgZWFzaWVyIHRvIHBpY2sgdXBcclxuICAgIGZyb250TGluZS5tb3VzZUFyZWEgPSBmcm9udExpbmUuYm91bmRzLmRpbGF0ZWQoIDUgKTtcclxuICAgIGZyb250TGluZS50b3VjaEFyZWEgPSBmcm9udExpbmUubW91c2VBcmVhO1xyXG5cclxuICAgIC8vIGRvdWJsZSBoZWFkZWQgYXJyb3cgaW5kaWNhdGVzIHRoaXMgbGluZSBpcyBkcmFnZ2FibGVcclxuICAgIGNvbnN0IGRvdWJsZUFycm93Tm9kZSA9IG5ldyBBcnJvd05vZGUoIDAsIC0xNCwgMCwgMTQsIHtcclxuICAgICAgZG91YmxlSGVhZDogdHJ1ZSxcclxuICAgICAgaGVhZFdpZHRoOiAxNSxcclxuICAgICAgdGFpbFdpZHRoOiA3LFxyXG5cclxuICAgICAgbGVmdDogMzAsXHJcbiAgICAgIGZpbGw6IEVuZXJneVNrYXRlUGFya0NvbG9yU2NoZW1lLnJlZmVyZW5jZUFycm93RmlsbFxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGxhYmVsIGZvciB0aGUgcmVmZXJlbmNlIGxpbmUsIHN1cnJvdW5kIGJ5IGEgdHJhbnNwYXJlbnQgcGFuZWwgZm9yIGJldHRlciB2aXNpYmlsaXR5XHJcbiAgICBjb25zdCB0ZXh0UGFuZWwgPSBuZXcgVGV4dFBhbmVsKCBoZWlnaHRFcXVhbHNaZXJvU3RyaW5nLCB7IHRleHRNYXhXaWR0aDogMTI1IH0gKTtcclxuXHJcbiAgICB0ZXh0UGFuZWwuc2V0TGVmdENlbnRlciggZG91YmxlQXJyb3dOb2RlLnJpZ2h0VG9wICk7XHJcblxyXG4gICAgc3VwZXIoIHtcclxuICAgICAgY2hpbGRyZW46IFsgYmFja0xpbmUsIGZyb250TGluZSwgZG91YmxlQXJyb3dOb2RlLCB0ZXh0UGFuZWwgXSxcclxuXHJcbiAgICAgIC8vIHNvIGl0IGlzIGNsZWFyIHRoYXQgaXQgY2FuIGJlIHBpY2tlZCB1cFxyXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJ1xyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGxpc3RlbmVycywgbm8gbmVlZCB0byBkaXNwb3NlIGFzIHRoZSBSZWZlcmVuY2VIZWlnaHRMaW5lIGlzIG5ldmVyIGRlc3Ryb3llZFxyXG4gICAgcmVmZXJlbmNlSGVpZ2h0UHJvcGVydHkubGluayggaGVpZ2h0ID0+IHtcclxuXHJcbiAgICAgIC8vIHBvc2l0aW9uIHRoZSByZWZlcmVuY2UgaGVpZ2h0IGxpbmUsIG1vZGVsIHZhbHVlIGluIG1ldGVyc1xyXG4gICAgICB0aGlzLnkgPSBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCBoZWlnaHQgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyB1cGRhdGUgdmlzaWJpbGl0eSB3aXRoIG1vZGVsIFByb3BlcnR5IGFuZCByZXNldCByZWZlcmVuY2UgaGVpZ2h0IHdoZW4gbm9kZSBpcyBubyBsb25nZXIgdmlzaWJsZSB0byBhdm9pZFxyXG4gICAgLy8gY29uZnVzaW9uXHJcbiAgICByZWZlcmVuY2VIZWlnaHRWaXNpYmxlUHJvcGVydHkubGluayggdmlzaWJsZSA9PiB7XHJcbiAgICAgIHJlZmVyZW5jZUhlaWdodFByb3BlcnR5LnJlc2V0KCk7XHJcblxyXG4gICAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlO1xyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIE1hcHMgdGhlIHJlZmVyZW5jZUhlaWdodFByb3BlcnR5IChOdW1iZXJQcm9wZXJ0eSkgdG8gYSBWZWN0b3IyUHJvcGVydHkgcmVxdWlyZWQgYnkgRHJhZ0xpc3RlbmVyLCBiaWRpcmVjdGlvbmFsXHJcbiAgICAvLyBzbyB0aGF0IGNoYW5naW5nIHRoZSBkcmFnUG9zaXRpb25Qcm9wZXJ0eSB1cGRhdGVzIHRoZSByZWZlcmVuY2VIZWlnaHRQcm9wZXJ0eSBjb3JyZWN0bHlcclxuICAgIGNvbnN0IGRyYWdQb3NpdGlvblByb3BlcnR5ID0gbmV3IER5bmFtaWNQcm9wZXJ0eSggbmV3IFByb3BlcnR5KCByZWZlcmVuY2VIZWlnaHRQcm9wZXJ0eSApLCB7XHJcblxyXG4gICAgICAvLyBzbyB0aGF0IHRoaXMgUHJvcGVydHkgY2FuIGJlIHNldCBieSB0aGUgRHJhZ0xpc3RlbmVyXHJcbiAgICAgIGJpZGlyZWN0aW9uYWw6IHRydWUsXHJcbiAgICAgIG1hcDogcmVmZXJlbmNlSGVpZ2h0ID0+IHtcclxuXHJcbiAgICAgICAgLy8gbWFwcyByZWZlcmVuY2VIZWlnaHRQcm9wZXJ0eSB2YWx1ZSB0byBhIFZlY3RvcjJQcm9wZXJ0eSBmb3IgdGhlIGRyYWcgbGlzdGVuZXJcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoIDAsIHJlZmVyZW5jZUhlaWdodCApO1xyXG4gICAgICB9LFxyXG4gICAgICBpbnZlcnNlTWFwOiBwb3NpdGlvblZlY3RvciA9PiB7XHJcblxyXG4gICAgICAgIC8vIG1hcHMgZHJhZyBwb3NpdGlvbiBWZWN0b3IyIHRvIHRoZSBuZXcgdmFsdWUgZm9yIHJlZmVyZW5jZUhlaWdodFByb3BlcnR5XHJcbiAgICAgICAgcmV0dXJuIHJlZmVyZW5jZUhlaWdodFByb3BlcnR5LnJhbmdlLmNvbnN0cmFpblZhbHVlKCBwb3NpdGlvblZlY3Rvci55ICk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmFkZElucHV0TGlzdGVuZXIoIG5ldyBEcmFnTGlzdGVuZXIoIHtcclxuICAgICAgdHJhbnNmb3JtOiBtb2RlbFZpZXdUcmFuc2Zvcm0sXHJcbiAgICAgIHBvc2l0aW9uUHJvcGVydHk6IGRyYWdQb3NpdGlvblByb3BlcnR5LFxyXG5cclxuICAgICAgLy8gc2lnbmlmeSB3aGVuIHVzZXIgaXMgdXNpbmcgdGhpcyBjb250cm9sIHNvIHRoYXRcclxuICAgICAgc3RhcnQ6ICgpID0+IHtcclxuICAgICAgICB1c2VyQ29udHJvbGxlZFByb3BlcnR5LnNldCggdHJ1ZSApO1xyXG4gICAgICB9LFxyXG4gICAgICBlbmQ6ICgpID0+IHtcclxuICAgICAgICB1c2VyQ29udHJvbGxlZFByb3BlcnR5LnNldCggZmFsc2UgKTtcclxuICAgICAgfSxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnZHJhZ0xpc3RlbmVyJyApXHJcbiAgICB9ICkgKTtcclxuICB9XHJcbn1cclxuXHJcbmVuZXJneVNrYXRlUGFyay5yZWdpc3RlciggJ1JlZmVyZW5jZUhlaWdodExpbmUnLCBSZWZlcmVuY2VIZWln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