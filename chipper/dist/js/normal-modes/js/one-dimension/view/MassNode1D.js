// Copyright 2020-2022, University of Colorado Boulder

/**
 * Subclass of MassNode. It adds its drag listener and a rectangle.
 *
 * @author Thiago de MendonÃ§a Mildemberger (UTFPR)
 * @author Franco Barpp Gomes (UTFPR)
 */

import Property from '../../../../axon/js/Property.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import merge from '../../../../phet-core/js/merge.js';
import { DragListener, Rectangle } from '../../../../scenery/js/imports.js';
import AmplitudeDirection from '../../common/model/AmplitudeDirection.js';
import NormalModesColors from '../../common/NormalModesColors.js';
import MassNode from '../../common/view/MassNode.js';
import normalModes from '../../normalModes.js';
class MassNode1D extends MassNode {
  /**
   * @param {Mass} mass
   * @param {ModelViewTransform2} modelViewTransform
   * @param {OneDimensionModel} model
   * @param {Bounds2} dragBounds
   * @param {Tandem} tandem
   */
  constructor(mass, modelViewTransform, model, dragBounds, tandem) {
    super(mass, modelViewTransform, tandem);
    const rect = new Rectangle(merge({
      boundsMethod: 'unstroked',
      lineWidth: 4,
      rectWidth: this.size,
      rectHeight: this.size,
      centerX: 0,
      centerY: 0
    }, NormalModesColors.MASS_COLORS));
    this.addChild(rect);
    const startCallback = (event, listener) => {
      model.draggingMassIndexProperty.set(model.masses.indexOf(mass));
    };
    const dragCallback = (event, listener) => {
      model.arrowsVisibleProperty.set(false);
      const point = listener.modelPoint.minus(mass.equilibriumPositionProperty.get());
      if (model.amplitudeDirectionProperty.get() === AmplitudeDirection.HORIZONTAL) {
        const oldY = mass.displacementProperty.get().y;
        mass.displacementProperty.set(new Vector2(point.x, oldY));
      } else {
        const oldX = mass.displacementProperty.get().x;
        mass.displacementProperty.set(new Vector2(oldX, point.y));
      }
    };
    const endCallback = (event, listener) => {
      !dragListener.interrupted && model.draggingMassIndexProperty.set(-1);
      model.computeModeAmplitudesAndPhases();
    };
    const overUpCallback = isOver => {
      const amplitudeDirection = model.amplitudeDirectionProperty.get();
      if (amplitudeDirection === AmplitudeDirection.VERTICAL) {
        this.arrows.top.visible = isOver;
        this.arrows.bottom.visible = isOver;
      } else {
        this.arrows.left.visible = isOver;
        this.arrows.right.visible = isOver;
      }
    };
    const dragListener = new DragListener({
      applyOffset: true,
      start: startCallback,
      drag: dragCallback,
      end: endCallback,
      transform: modelViewTransform,
      dragBoundsProperty: new Property(dragBounds)
    });
    this.addInputListener(dragListener);
    const callback = overUpCallback.bind(this);
    // unlink is unnecessary, the MassNode1D and the dependency exists for the lifetime of the sim
    model.arrowsVisibleProperty.link(arrowsVisible => {
      if (arrowsVisible) {
        // unlink is needed when the arrows become invisible
        dragListener.isOverProperty.link(callback);
      } else {
        this.arrows.top.visible = false;
        this.arrows.bottom.visible = false;
        this.arrows.left.visible = false;
        this.arrows.right.visible = false;
        if (dragListener.isOverProperty.hasListener(callback)) {
          dragListener.isOverProperty.unlink(callback);
        }
      }
    });

    //TODO https://github.com/phetsims/normal-modes/issues/78, workaround for lack of multitouch support
    // If the mass associated with this Node is not the one being dragged, then cancel any drag related
    // to this Node that may be in progress.
    model.draggingMassIndexProperty.link(draggingMassIndex => {
      if (draggingMassIndex !== model.masses.indexOf(mass)) {
        this.interruptSubtreeInput();
      }
    });
  }
}
normalModes.register('MassNode1D', MassNode1D);
export default MassNode1D;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIlZlY3RvcjIiLCJtZXJnZSIsIkRyYWdMaXN0ZW5lciIsIlJlY3RhbmdsZSIsIkFtcGxpdHVkZURpcmVjdGlvbiIsIk5vcm1hbE1vZGVzQ29sb3JzIiwiTWFzc05vZGUiLCJub3JtYWxNb2RlcyIsIk1hc3NOb2RlMUQiLCJjb25zdHJ1Y3RvciIsIm1hc3MiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJtb2RlbCIsImRyYWdCb3VuZHMiLCJ0YW5kZW0iLCJyZWN0IiwiYm91bmRzTWV0aG9kIiwibGluZVdpZHRoIiwicmVjdFdpZHRoIiwic2l6ZSIsInJlY3RIZWlnaHQiLCJjZW50ZXJYIiwiY2VudGVyWSIsIk1BU1NfQ09MT1JTIiwiYWRkQ2hpbGQiLCJzdGFydENhbGxiYWNrIiwiZXZlbnQiLCJsaXN0ZW5lciIsImRyYWdnaW5nTWFzc0luZGV4UHJvcGVydHkiLCJzZXQiLCJtYXNzZXMiLCJpbmRleE9mIiwiZHJhZ0NhbGxiYWNrIiwiYXJyb3dzVmlzaWJsZVByb3BlcnR5IiwicG9pbnQiLCJtb2RlbFBvaW50IiwibWludXMiLCJlcXVpbGlicml1bVBvc2l0aW9uUHJvcGVydHkiLCJnZXQiLCJhbXBsaXR1ZGVEaXJlY3Rpb25Qcm9wZXJ0eSIsIkhPUklaT05UQUwiLCJvbGRZIiwiZGlzcGxhY2VtZW50UHJvcGVydHkiLCJ5IiwieCIsIm9sZFgiLCJlbmRDYWxsYmFjayIsImRyYWdMaXN0ZW5lciIsImludGVycnVwdGVkIiwiY29tcHV0ZU1vZGVBbXBsaXR1ZGVzQW5kUGhhc2VzIiwib3ZlclVwQ2FsbGJhY2siLCJpc092ZXIiLCJhbXBsaXR1ZGVEaXJlY3Rpb24iLCJWRVJUSUNBTCIsImFycm93cyIsInRvcCIsInZpc2libGUiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJhcHBseU9mZnNldCIsInN0YXJ0IiwiZHJhZyIsImVuZCIsInRyYW5zZm9ybSIsImRyYWdCb3VuZHNQcm9wZXJ0eSIsImFkZElucHV0TGlzdGVuZXIiLCJjYWxsYmFjayIsImJpbmQiLCJsaW5rIiwiYXJyb3dzVmlzaWJsZSIsImlzT3ZlclByb3BlcnR5IiwiaGFzTGlzdGVuZXIiLCJ1bmxpbmsiLCJkcmFnZ2luZ01hc3NJbmRleCIsImludGVycnVwdFN1YnRyZWVJbnB1dCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiTWFzc05vZGUxRC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMC0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBTdWJjbGFzcyBvZiBNYXNzTm9kZS4gSXQgYWRkcyBpdHMgZHJhZyBsaXN0ZW5lciBhbmQgYSByZWN0YW5nbGUuXHJcbiAqXHJcbiAqIEBhdXRob3IgVGhpYWdvIGRlIE1lbmRvbsOnYSBNaWxkZW1iZXJnZXIgKFVURlBSKVxyXG4gKiBAYXV0aG9yIEZyYW5jbyBCYXJwcCBHb21lcyAoVVRGUFIpXHJcbiAqL1xyXG5cclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCBtZXJnZSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvbWVyZ2UuanMnO1xyXG5pbXBvcnQgeyBEcmFnTGlzdGVuZXIsIFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBBbXBsaXR1ZGVEaXJlY3Rpb24gZnJvbSAnLi4vLi4vY29tbW9uL21vZGVsL0FtcGxpdHVkZURpcmVjdGlvbi5qcyc7XHJcbmltcG9ydCBOb3JtYWxNb2Rlc0NvbG9ycyBmcm9tICcuLi8uLi9jb21tb24vTm9ybWFsTW9kZXNDb2xvcnMuanMnO1xyXG5pbXBvcnQgTWFzc05vZGUgZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXcvTWFzc05vZGUuanMnO1xyXG5pbXBvcnQgbm9ybWFsTW9kZXMgZnJvbSAnLi4vLi4vbm9ybWFsTW9kZXMuanMnO1xyXG5cclxuY2xhc3MgTWFzc05vZGUxRCBleHRlbmRzIE1hc3NOb2RlIHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtNYXNzfSBtYXNzXHJcbiAgICogQHBhcmFtIHtNb2RlbFZpZXdUcmFuc2Zvcm0yfSBtb2RlbFZpZXdUcmFuc2Zvcm1cclxuICAgKiBAcGFyYW0ge09uZURpbWVuc2lvbk1vZGVsfSBtb2RlbFxyXG4gICAqIEBwYXJhbSB7Qm91bmRzMn0gZHJhZ0JvdW5kc1xyXG4gICAqIEBwYXJhbSB7VGFuZGVtfSB0YW5kZW1cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggbWFzcywgbW9kZWxWaWV3VHJhbnNmb3JtLCBtb2RlbCwgZHJhZ0JvdW5kcywgdGFuZGVtICkge1xyXG5cclxuICAgIHN1cGVyKCBtYXNzLCBtb2RlbFZpZXdUcmFuc2Zvcm0sIHRhbmRlbSApO1xyXG5cclxuICAgIGNvbnN0IHJlY3QgPSBuZXcgUmVjdGFuZ2xlKCBtZXJnZSgge1xyXG4gICAgICBib3VuZHNNZXRob2Q6ICd1bnN0cm9rZWQnLFxyXG4gICAgICBsaW5lV2lkdGg6IDQsXHJcbiAgICAgIHJlY3RXaWR0aDogdGhpcy5zaXplLFxyXG4gICAgICByZWN0SGVpZ2h0OiB0aGlzLnNpemUsXHJcbiAgICAgIGNlbnRlclg6IDAsXHJcbiAgICAgIGNlbnRlclk6IDBcclxuICAgIH0sIE5vcm1hbE1vZGVzQ29sb3JzLk1BU1NfQ09MT1JTICkgKTtcclxuXHJcbiAgICB0aGlzLmFkZENoaWxkKCByZWN0ICk7XHJcblxyXG4gICAgY29uc3Qgc3RhcnRDYWxsYmFjayA9ICggZXZlbnQsIGxpc3RlbmVyICkgPT4ge1xyXG4gICAgICBtb2RlbC5kcmFnZ2luZ01hc3NJbmRleFByb3BlcnR5LnNldCggbW9kZWwubWFzc2VzLmluZGV4T2YoIG1hc3MgKSApO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBkcmFnQ2FsbGJhY2sgPSAoIGV2ZW50LCBsaXN0ZW5lciApID0+IHtcclxuICAgICAgbW9kZWwuYXJyb3dzVmlzaWJsZVByb3BlcnR5LnNldCggZmFsc2UgKTtcclxuICAgICAgY29uc3QgcG9pbnQgPSBsaXN0ZW5lci5tb2RlbFBvaW50Lm1pbnVzKCBtYXNzLmVxdWlsaWJyaXVtUG9zaXRpb25Qcm9wZXJ0eS5nZXQoKSApO1xyXG4gICAgICBpZiAoIG1vZGVsLmFtcGxpdHVkZURpcmVjdGlvblByb3BlcnR5LmdldCgpID09PSBBbXBsaXR1ZGVEaXJlY3Rpb24uSE9SSVpPTlRBTCApIHtcclxuICAgICAgICBjb25zdCBvbGRZID0gbWFzcy5kaXNwbGFjZW1lbnRQcm9wZXJ0eS5nZXQoKS55O1xyXG4gICAgICAgIG1hc3MuZGlzcGxhY2VtZW50UHJvcGVydHkuc2V0KCBuZXcgVmVjdG9yMiggcG9pbnQueCwgb2xkWSApICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3Qgb2xkWCA9IG1hc3MuZGlzcGxhY2VtZW50UHJvcGVydHkuZ2V0KCkueDtcclxuICAgICAgICBtYXNzLmRpc3BsYWNlbWVudFByb3BlcnR5LnNldCggbmV3IFZlY3RvcjIoIG9sZFgsIHBvaW50LnkgKSApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGVuZENhbGxiYWNrID0gKCBldmVudCwgbGlzdGVuZXIgKSA9PiB7XHJcbiAgICAgICFkcmFnTGlzdGVuZXIuaW50ZXJydXB0ZWQgJiYgbW9kZWwuZHJhZ2dpbmdNYXNzSW5kZXhQcm9wZXJ0eS5zZXQoIC0xICk7XHJcbiAgICAgIG1vZGVsLmNvbXB1dGVNb2RlQW1wbGl0dWRlc0FuZFBoYXNlcygpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBvdmVyVXBDYWxsYmFjayA9IGlzT3ZlciA9PiB7XHJcbiAgICAgIGNvbnN0IGFtcGxpdHVkZURpcmVjdGlvbiA9IG1vZGVsLmFtcGxpdHVkZURpcmVjdGlvblByb3BlcnR5LmdldCgpO1xyXG4gICAgICBpZiAoIGFtcGxpdHVkZURpcmVjdGlvbiA9PT0gQW1wbGl0dWRlRGlyZWN0aW9uLlZFUlRJQ0FMICkge1xyXG4gICAgICAgIHRoaXMuYXJyb3dzLnRvcC52aXNpYmxlID0gaXNPdmVyO1xyXG4gICAgICAgIHRoaXMuYXJyb3dzLmJvdHRvbS52aXNpYmxlID0gaXNPdmVyO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYXJyb3dzLmxlZnQudmlzaWJsZSA9IGlzT3ZlcjtcclxuICAgICAgICB0aGlzLmFycm93cy5yaWdodC52aXNpYmxlID0gaXNPdmVyO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGRyYWdMaXN0ZW5lciA9IG5ldyBEcmFnTGlzdGVuZXIoIHtcclxuICAgICAgYXBwbHlPZmZzZXQ6IHRydWUsXHJcbiAgICAgIHN0YXJ0OiBzdGFydENhbGxiYWNrLFxyXG4gICAgICBkcmFnOiBkcmFnQ2FsbGJhY2ssXHJcbiAgICAgIGVuZDogZW5kQ2FsbGJhY2ssXHJcbiAgICAgIHRyYW5zZm9ybTogbW9kZWxWaWV3VHJhbnNmb3JtLFxyXG4gICAgICBkcmFnQm91bmRzUHJvcGVydHk6IG5ldyBQcm9wZXJ0eSggZHJhZ0JvdW5kcyApXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZElucHV0TGlzdGVuZXIoIGRyYWdMaXN0ZW5lciApO1xyXG5cclxuICAgIGNvbnN0IGNhbGxiYWNrID0gb3ZlclVwQ2FsbGJhY2suYmluZCggdGhpcyApO1xyXG4gICAgLy8gdW5saW5rIGlzIHVubmVjZXNzYXJ5LCB0aGUgTWFzc05vZGUxRCBhbmQgdGhlIGRlcGVuZGVuY3kgZXhpc3RzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbVxyXG4gICAgbW9kZWwuYXJyb3dzVmlzaWJsZVByb3BlcnR5LmxpbmsoIGFycm93c1Zpc2libGUgPT4ge1xyXG4gICAgICBpZiAoIGFycm93c1Zpc2libGUgKSB7XHJcbiAgICAgICAgLy8gdW5saW5rIGlzIG5lZWRlZCB3aGVuIHRoZSBhcnJvd3MgYmVjb21lIGludmlzaWJsZVxyXG4gICAgICAgIGRyYWdMaXN0ZW5lci5pc092ZXJQcm9wZXJ0eS5saW5rKCBjYWxsYmFjayApO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYXJyb3dzLnRvcC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hcnJvd3MuYm90dG9tLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmFycm93cy5sZWZ0LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmFycm93cy5yaWdodC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCBkcmFnTGlzdGVuZXIuaXNPdmVyUHJvcGVydHkuaGFzTGlzdGVuZXIoIGNhbGxiYWNrICkgKSB7XHJcbiAgICAgICAgICBkcmFnTGlzdGVuZXIuaXNPdmVyUHJvcGVydHkudW5saW5rKCBjYWxsYmFjayApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vVE9ETyBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvbm9ybWFsLW1vZGVzL2lzc3Vlcy83OCwgd29ya2Fyb3VuZCBmb3IgbGFjayBvZiBtdWx0aXRvdWNoIHN1cHBvcnRcclxuICAgIC8vIElmIHRoZSBtYXNzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIE5vZGUgaXMgbm90IHRoZSBvbmUgYmVpbmcgZHJhZ2dlZCwgdGhlbiBjYW5jZWwgYW55IGRyYWcgcmVsYXRlZFxyXG4gICAgLy8gdG8gdGhpcyBOb2RlIHRoYXQgbWF5IGJlIGluIHByb2dyZXNzLlxyXG4gICAgbW9kZWwuZHJhZ2dpbmdNYXNzSW5kZXhQcm9wZXJ0eS5saW5rKCBkcmFnZ2luZ01hc3NJbmRleCA9PiB7XHJcbiAgICAgIGlmICggZHJhZ2dpbmdNYXNzSW5kZXggIT09IG1vZGVsLm1hc3Nlcy5pbmRleE9mKCBtYXNzICkgKSB7XHJcbiAgICAgICAgdGhpcy5pbnRlcnJ1cHRTdWJ0cmVlSW5wdXQoKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG4gIH1cclxufVxyXG5cclxubm9ybWFsTW9kZXMucmVnaXN0ZXIoICdNYXNzTm9kZTFEJywgTWFzc05vZGUxRCApO1xyXG5leHBvcnQgZGVmYXVsdCBNYXNzTm9kZTFEOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFFBQVEsTUFBTSxpQ0FBaUM7QUFDdEQsT0FBT0MsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxPQUFPQyxLQUFLLE1BQU0sbUNBQW1DO0FBQ3JELFNBQVNDLFlBQVksRUFBRUMsU0FBUyxRQUFRLG1DQUFtQztBQUMzRSxPQUFPQyxrQkFBa0IsTUFBTSwwQ0FBMEM7QUFDekUsT0FBT0MsaUJBQWlCLE1BQU0sbUNBQW1DO0FBQ2pFLE9BQU9DLFFBQVEsTUFBTSwrQkFBK0I7QUFDcEQsT0FBT0MsV0FBVyxNQUFNLHNCQUFzQjtBQUU5QyxNQUFNQyxVQUFVLFNBQVNGLFFBQVEsQ0FBQztFQUVoQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFRyxXQUFXQSxDQUFFQyxJQUFJLEVBQUVDLGtCQUFrQixFQUFFQyxLQUFLLEVBQUVDLFVBQVUsRUFBRUMsTUFBTSxFQUFHO0lBRWpFLEtBQUssQ0FBRUosSUFBSSxFQUFFQyxrQkFBa0IsRUFBRUcsTUFBTyxDQUFDO0lBRXpDLE1BQU1DLElBQUksR0FBRyxJQUFJWixTQUFTLENBQUVGLEtBQUssQ0FBRTtNQUNqQ2UsWUFBWSxFQUFFLFdBQVc7TUFDekJDLFNBQVMsRUFBRSxDQUFDO01BQ1pDLFNBQVMsRUFBRSxJQUFJLENBQUNDLElBQUk7TUFDcEJDLFVBQVUsRUFBRSxJQUFJLENBQUNELElBQUk7TUFDckJFLE9BQU8sRUFBRSxDQUFDO01BQ1ZDLE9BQU8sRUFBRTtJQUNYLENBQUMsRUFBRWpCLGlCQUFpQixDQUFDa0IsV0FBWSxDQUFFLENBQUM7SUFFcEMsSUFBSSxDQUFDQyxRQUFRLENBQUVULElBQUssQ0FBQztJQUVyQixNQUFNVSxh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