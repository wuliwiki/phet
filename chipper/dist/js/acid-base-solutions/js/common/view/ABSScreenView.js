// Copyright 2017-2023, University of Colorado Boulder

/**
 * Base type for views in 'Acid-Base Solutions' sim.
 *
 * @author Andrey Zelenkov (Mlearner)
 * @author Chris Malley (PixelZoom, Inc.)
 */

import Bounds2 from '../../../../dot/js/Bounds2.js';
import ScreenView from '../../../../joist/js/ScreenView.js';
import ResetAllButton from '../../../../scenery-phet/js/buttons/ResetAllButton.js';
import { AlignGroup, Node, VBox } from '../../../../scenery/js/imports.js';
import acidBaseSolutions from '../../acidBaseSolutions.js';
import ABSConductivityTesterNode from './ABSConductivityTesterNode.js';
import ABSViewProperties from './ABSViewProperties.js';
import BeakerNode from './BeakerNode.js';
import ConcentrationGraphNode from './ConcentrationGraphNode.js';
import MagnifyingGlassNode from './MagnifyingGlassNode.js';
import PHColorKeyNode from './PHColorKeyNode.js';
import PHMeterNode from './PHMeterNode.js';
import PHPaperNode from './PHPaperNode.js';
import ReactionEquationNode from './ReactionEquationNode.js';
import ToolsRadioButtonGroup from './ToolsRadioButtonGroup.js';
import ViewsPanel from './ViewsPanel.js';
export default class ABSScreenView extends ScreenView {
  // Properties that are specific to the view

  /**
   * @param model
   * @param createSolutionPanel - creates the panel titled 'Solution'
   * @param tandem
   */
  constructor(model, createSolutionPanel, tandem) {
    super({
      layoutBounds: new Bounds2(0, 0, 768, 504),
      tandem: tandem
    });
    this.viewProperties = new ABSViewProperties(tandem.createTandem('viewProperties'));

    // Reset All button
    const resetAllButton = new ResetAllButton({
      listener: () => {
        model.reset();
        this.viewProperties.reset();
      },
      // to compensate for non-default layoutBounds
      scale: this.layoutBounds.width / ScreenView.DEFAULT_LAYOUT_BOUNDS.width,
      right: this.layoutBounds.right - 20,
      bottom: this.layoutBounds.bottom - 20,
      tandem: tandem.createTandem('resetAllButton')
    });
    const beakerNode = new BeakerNode(model.beaker, tandem.createTandem('beakerNode'));
    const reactionEquationNode = new ReactionEquationNode(model.beaker, model.solutionTypeProperty, tandem.createTandem('reactionEquationNode'));

    // Views
    const magnifyingGlassNode = new MagnifyingGlassNode(model.magnifyingGlass, this.viewProperties.viewModeProperty, this.viewProperties.solventVisibleProperty, tandem.createTandem('magnifyingGlassNode'));
    const graphNode = new ConcentrationGraphNode(model.graph, this.viewProperties.viewModeProperty, tandem.createTandem('graphNode'));

    // Tools
    const pHMeterNode = new PHMeterNode(model.pHMeter, this.viewProperties.toolModeProperty, tandem.createTandem('pHMeterNode'));
    const pHPaperNode = new PHPaperNode(model.pHPaper, this.viewProperties.toolModeProperty, tandem.createTandem('pHPaperNode'));
    const pHColorKeyNode = new PHColorKeyNode(model.pHPaper.paperSize, this.viewProperties.toolModeProperty, {
      left: model.beaker.left + 3,
      bottom: model.beaker.top - 50,
      tandem: tandem.createTandem('pHColorKeyNode')
    });
    const conductivityTesterNode = new ABSConductivityTesterNode(model.conductivityTester, this.viewProperties.toolModeProperty, tandem.createTandem('conductivityTesterNode'));

    // To make panels have the same width
    const panelAlignGroup = new AlignGroup({
      matchHorizontal: true,
      matchVertical: false
    });

    // Controls
    const solutionPanel = createSolutionPanel(panelAlignGroup);
    const viewsPanel = new ViewsPanel(this.viewProperties.viewModeProperty, this.viewProperties.solventVisibleProperty, panelAlignGroup, tandem.createTandem('viewsPanel'));
    const toolsRadioButtonGroup = new ToolsRadioButtonGroup(this.viewProperties.toolModeProperty, tandem.createTandem('toolsRadioButtonGroup'));
    const controlsParent = new VBox({
      children: [solutionPanel, viewsPanel, toolsRadioButtonGroup],
      align: 'center',
      spacing: 10
    });

    // Centered in the space to the right of the magnifying glass
    controlsParent.boundsProperty.link(bounds => {
      controlsParent.centerX = magnifyingGlassNode.right + (this.layoutBounds.right - magnifyingGlassNode.right) / 2;
      controlsParent.centerY = this.layoutBounds.centerY;
    });
    const rootNode = new Node({
      children: [pHMeterNode, pHColorKeyNode, pHPaperNode, conductivityTesterNode, beakerNode, reactionEquationNode, magnifyingGlassNode, graphNode, controlsParent, resetAllButton]
    });
    this.addChild(rootNode);

    // needed by step
    this.pHPaperNode = pHPaperNode;
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
  reset() {
    this.viewProperties.reset();
  }
  step(dt) {
    super.step(dt);
    this.pHPaperNode.step(dt);
  }
}
acidBaseSolutions.register('ABSScreenView', ABSScreenView);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb3VuZHMyIiwiU2NyZWVuVmlldyIsIlJlc2V0QWxsQnV0dG9uIiwiQWxpZ25Hcm91cCIsIk5vZGUiLCJWQm94IiwiYWNpZEJhc2VTb2x1dGlvbnMiLCJBQlNDb25kdWN0aXZpdHlUZXN0ZXJOb2RlIiwiQUJTVmlld1Byb3BlcnRpZXMiLCJCZWFrZXJOb2RlIiwiQ29uY2VudHJhdGlvbkdyYXBoTm9kZSIsIk1hZ25pZnlpbmdHbGFzc05vZGUiLCJQSENvbG9yS2V5Tm9kZSIsIlBITWV0ZXJOb2RlIiwiUEhQYXBlck5vZGUiLCJSZWFjdGlvbkVxdWF0aW9uTm9kZSIsIlRvb2xzUmFkaW9CdXR0b25Hcm91cCIsIlZpZXdzUGFuZWwiLCJBQlNTY3JlZW5WaWV3IiwiY29uc3RydWN0b3IiLCJtb2RlbCIsImNyZWF0ZVNvbHV0aW9uUGFuZWwiLCJ0YW5kZW0iLCJsYXlvdXRCb3VuZHMiLCJ2aWV3UHJvcGVydGllcyIsImNyZWF0ZVRhbmRlbSIsInJlc2V0QWxsQnV0dG9uIiwibGlzdGVuZXIiLCJyZXNldCIsInNjYWxlIiwid2lkdGgiLCJERUZBVUxUX0xBWU9VVF9CT1VORFMiLCJyaWdodCIsImJvdHRvbSIsImJlYWtlck5vZGUiLCJiZWFrZXIiLCJyZWFjdGlvbkVxdWF0aW9uTm9kZSIsInNvbHV0aW9uVHlwZVByb3BlcnR5IiwibWFnbmlmeWluZ0dsYXNzTm9kZSIsIm1hZ25pZnlpbmdHbGFzcyIsInZpZXdNb2RlUHJvcGVydHkiLCJzb2x2ZW50VmlzaWJsZVByb3BlcnR5IiwiZ3JhcGhOb2RlIiwiZ3JhcGgiLCJwSE1ldGVyTm9kZSIsInBITWV0ZXIiLCJ0b29sTW9kZVByb3BlcnR5IiwicEhQYXBlck5vZGUiLCJwSFBhcGVyIiwicEhDb2xvcktleU5vZGUiLCJwYXBlclNpemUiLCJsZWZ0IiwidG9wIiwiY29uZHVjdGl2aXR5VGVzdGVyTm9kZSIsImNvbmR1Y3Rpdml0eVRlc3RlciIsInBhbmVsQWxpZ25Hcm91cCIsIm1hdGNoSG9yaXpvbnRhbCIsIm1hdGNoVmVydGljYWwiLCJzb2x1dGlvblBhbmVsIiwidmlld3NQYW5lbCIsInRvb2xzUmFkaW9CdXR0b25Hcm91cCIsImNvbnRyb2xzUGFyZW50IiwiY2hpbGRyZW4iLCJhbGlnbiIsInNwYWNpbmciLCJib3VuZHNQcm9wZXJ0eSIsImxpbmsiLCJib3VuZHMiLCJjZW50ZXJYIiwiY2VudGVyWSIsInJvb3ROb2RlIiwiYWRkQ2hpbGQiLCJkaXNwb3NlIiwiYXNzZXJ0Iiwic3RlcCIsImR0IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJBQlNTY3JlZW5WaWV3LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE3LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEJhc2UgdHlwZSBmb3Igdmlld3MgaW4gJ0FjaWQtQmFzZSBTb2x1dGlvbnMnIHNpbS5cclxuICpcclxuICogQGF1dGhvciBBbmRyZXkgWmVsZW5rb3YgKE1sZWFybmVyKVxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IFNjcmVlblZpZXcgZnJvbSAnLi4vLi4vLi4vLi4vam9pc3QvanMvU2NyZWVuVmlldy5qcyc7XHJcbmltcG9ydCBSZXNldEFsbEJ1dHRvbiBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvYnV0dG9ucy9SZXNldEFsbEJ1dHRvbi5qcyc7XHJcbmltcG9ydCB7IEFsaWduR3JvdXAsIE5vZGUsIFZCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgUGFuZWwgZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL1BhbmVsLmpzJztcclxuaW1wb3J0IFRhbmRlbSBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvVGFuZGVtLmpzJztcclxuaW1wb3J0IGFjaWRCYXNlU29sdXRpb25zIGZyb20gJy4uLy4uL2FjaWRCYXNlU29sdXRpb25zLmpzJztcclxuaW1wb3J0IEFCU01vZGVsIGZyb20gJy4uL21vZGVsL0FCU01vZGVsLmpzJztcclxuaW1wb3J0IEFCU0NvbmR1Y3Rpdml0eVRlc3Rlck5vZGUgZnJvbSAnLi9BQlNDb25kdWN0aXZpdHlUZXN0ZXJOb2RlLmpzJztcclxuaW1wb3J0IEFCU1ZpZXdQcm9wZXJ0aWVzIGZyb20gJy4vQUJTVmlld1Byb3BlcnRpZXMuanMnO1xyXG5pbXBvcnQgQmVha2VyTm9kZSBmcm9tICcuL0JlYWtlck5vZGUuanMnO1xyXG5pbXBvcnQgQ29uY2VudHJhdGlvbkdyYXBoTm9kZSBmcm9tICcuL0NvbmNlbnRyYXRpb25HcmFwaE5vZGUuanMnO1xyXG5pbXBvcnQgTWFnbmlmeWluZ0dsYXNzTm9kZSBmcm9tICcuL01hZ25pZnlpbmdHbGFzc05vZGUuanMnO1xyXG5pbXBvcnQgUEhDb2xvcktleU5vZGUgZnJvbSAnLi9QSENvbG9yS2V5Tm9kZS5qcyc7XHJcbmltcG9ydCBQSE1ldGVyTm9kZSBmcm9tICcuL1BITWV0ZXJOb2RlLmpzJztcclxuaW1wb3J0IFBIUGFwZXJOb2RlIGZyb20gJy4vUEhQYXBlck5vZGUuanMnO1xyXG5pbXBvcnQgUmVhY3Rpb25FcXVhdGlvbk5vZGUgZnJvbSAnLi9SZWFjdGlvbkVxdWF0aW9uTm9kZS5qcyc7XHJcbmltcG9ydCBUb29sc1JhZGlvQnV0dG9uR3JvdXAgZnJvbSAnLi9Ub29sc1JhZGlvQnV0dG9uR3JvdXAuanMnO1xyXG5pbXBvcnQgVmlld3NQYW5lbCBmcm9tICcuL1ZpZXdzUGFuZWwuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQUJTU2NyZWVuVmlldyBleHRlbmRzIFNjcmVlblZpZXcge1xyXG5cclxuICAvLyBQcm9wZXJ0aWVzIHRoYXQgYXJlIHNwZWNpZmljIHRvIHRoZSB2aWV3XHJcbiAgcHVibGljIHJlYWRvbmx5IHZpZXdQcm9wZXJ0aWVzOiBBQlNWaWV3UHJvcGVydGllcztcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBwSFBhcGVyTm9kZTogUEhQYXBlck5vZGU7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBtb2RlbFxyXG4gICAqIEBwYXJhbSBjcmVhdGVTb2x1dGlvblBhbmVsIC0gY3JlYXRlcyB0aGUgcGFuZWwgdGl0bGVkICdTb2x1dGlvbidcclxuICAgKiBAcGFyYW0gdGFuZGVtXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBtb2RlbDogQUJTTW9kZWwsIGNyZWF0ZVNvbHV0aW9uUGFuZWw6ICggYWxpZ25Hcm91cDogQWxpZ25Hcm91cCApID0+IFBhbmVsLCB0YW5kZW06IFRhbmRlbSApIHtcclxuXHJcbiAgICBzdXBlcigge1xyXG4gICAgICBsYXlvdXRCb3VuZHM6IG5ldyBCb3VuZHMyKCAwLCAwLCA3NjgsIDUwNCApLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMudmlld1Byb3BlcnRpZXMgPSBuZXcgQUJTVmlld1Byb3BlcnRpZXMoIHRhbmRlbS5jcmVhdGVUYW5kZW0oICd2aWV3UHJvcGVydGllcycgKSApO1xyXG5cclxuICAgIC8vIFJlc2V0IEFsbCBidXR0b25cclxuICAgIGNvbnN0IHJlc2V0QWxsQnV0dG9uID0gbmV3IFJlc2V0QWxsQnV0dG9uKCB7XHJcbiAgICAgIGxpc3RlbmVyOiAoKSA9PiB7XHJcbiAgICAgICAgbW9kZWwucmVzZXQoKTtcclxuICAgICAgICB0aGlzLnZpZXdQcm9wZXJ0aWVzLnJlc2V0KCk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyB0byBjb21wZW5zYXRlIGZvciBub24tZGVmYXVsdCBsYXlvdXRCb3VuZHNcclxuICAgICAgc2NhbGU6IHRoaXMubGF5b3V0Qm91bmRzLndpZHRoIC8gU2NyZWVuVmlldy5ERUZBVUxUX0xBWU9VVF9CT1VORFMud2lkdGgsXHJcbiAgICAgIHJpZ2h0OiB0aGlzLmxheW91dEJvdW5kcy5yaWdodCAtIDIwLFxyXG4gICAgICBib3R0b206IHRoaXMubGF5b3V0Qm91bmRzLmJvdHRvbSAtIDIwLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdyZXNldEFsbEJ1dHRvbicgKVxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGJlYWtlck5vZGUgPSBuZXcgQmVha2VyTm9kZSggbW9kZWwuYmVha2VyLCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnYmVha2VyTm9kZScgKSApO1xyXG5cclxuICAgIGNvbnN0IHJlYWN0aW9uRXF1YXRpb25Ob2RlID0gbmV3IFJlYWN0aW9uRXF1YXRpb25Ob2RlKCBtb2RlbC5iZWFrZXIsIG1vZGVsLnNvbHV0aW9uVHlwZVByb3BlcnR5LFxyXG4gICAgICB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncmVhY3Rpb25FcXVhdGlvbk5vZGUnICkgKTtcclxuXHJcbiAgICAvLyBWaWV3c1xyXG4gICAgY29uc3QgbWFnbmlmeWluZ0dsYXNzTm9kZSA9IG5ldyBNYWduaWZ5aW5nR2xhc3NOb2RlKCBtb2RlbC5tYWduaWZ5aW5nR2xhc3MsIHRoaXMudmlld1Byb3BlcnRpZXMudmlld01vZGVQcm9wZXJ0eSxcclxuICAgICAgdGhpcy52aWV3UHJvcGVydGllcy5zb2x2ZW50VmlzaWJsZVByb3BlcnR5LCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnbWFnbmlmeWluZ0dsYXNzTm9kZScgKSApO1xyXG4gICAgY29uc3QgZ3JhcGhOb2RlID0gbmV3IENvbmNlbnRyYXRpb25HcmFwaE5vZGUoIG1vZGVsLmdyYXBoLCB0aGlzLnZpZXdQcm9wZXJ0aWVzLnZpZXdNb2RlUHJvcGVydHksXHJcbiAgICAgIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdncmFwaE5vZGUnICkgKTtcclxuXHJcbiAgICAvLyBUb29sc1xyXG4gICAgY29uc3QgcEhNZXRlck5vZGUgPSBuZXcgUEhNZXRlck5vZGUoIG1vZGVsLnBITWV0ZXIsIHRoaXMudmlld1Byb3BlcnRpZXMudG9vbE1vZGVQcm9wZXJ0eSwgdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3BITWV0ZXJOb2RlJyApICk7XHJcbiAgICBjb25zdCBwSFBhcGVyTm9kZSA9IG5ldyBQSFBhcGVyTm9kZSggbW9kZWwucEhQYXBlciwgdGhpcy52aWV3UHJvcGVydGllcy50b29sTW9kZVByb3BlcnR5LCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncEhQYXBlck5vZGUnICkgKTtcclxuICAgIGNvbnN0IHBIQ29sb3JLZXlOb2RlID0gbmV3IFBIQ29sb3JLZXlOb2RlKCBtb2RlbC5wSFBhcGVyLnBhcGVyU2l6ZSwgdGhpcy52aWV3UHJvcGVydGllcy50b29sTW9kZVByb3BlcnR5LCB7XHJcbiAgICAgIGxlZnQ6IG1vZGVsLmJlYWtlci5sZWZ0ICsgMyxcclxuICAgICAgYm90dG9tOiBtb2RlbC5iZWFrZXIudG9wIC0gNTAsXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3BIQ29sb3JLZXlOb2RlJyApXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCBjb25kdWN0aXZpdHlUZXN0ZXJOb2RlID0gbmV3IEFCU0NvbmR1Y3Rpdml0eVRlc3Rlck5vZGUoIG1vZGVsLmNvbmR1Y3Rpdml0eVRlc3RlcixcclxuICAgICAgdGhpcy52aWV3UHJvcGVydGllcy50b29sTW9kZVByb3BlcnR5LCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnY29uZHVjdGl2aXR5VGVzdGVyTm9kZScgKSApO1xyXG5cclxuICAgIC8vIFRvIG1ha2UgcGFuZWxzIGhhdmUgdGhlIHNhbWUgd2lkdGhcclxuICAgIGNvbnN0IHBhbmVsQWxpZ25Hcm91cCA9IG5ldyBBbGlnbkdyb3VwKCB7XHJcbiAgICAgIG1hdGNoSG9yaXpvbnRhbDogdHJ1ZSxcclxuICAgICAgbWF0Y2hWZXJ0aWNhbDogZmFsc2VcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBDb250cm9sc1xyXG4gICAgY29uc3Qgc29sdXRpb25QYW5lbCA9IGNyZWF0ZVNvbHV0aW9uUGFuZWwoIHBhbmVsQWxpZ25Hcm91cCApO1xyXG4gICAgY29uc3Qgdmlld3NQYW5lbCA9IG5ldyBWaWV3c1BhbmVsKCB0aGlzLnZpZXdQcm9wZXJ0aWVzLnZpZXdNb2RlUHJvcGVydHksIHRoaXMudmlld1Byb3BlcnRpZXMuc29sdmVudFZpc2libGVQcm9wZXJ0eSxcclxuICAgICAgcGFuZWxBbGlnbkdyb3VwLCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAndmlld3NQYW5lbCcgKSApO1xyXG4gICAgY29uc3QgdG9vbHNSYWRpb0J1dHRvbkdyb3VwID0gbmV3IFRvb2xzUmFkaW9CdXR0b25Hcm91cCggdGhpcy52aWV3UHJvcGVydGllcy50b29sTW9kZVByb3BlcnR5LFxyXG4gICAgICB0YW5kZW0uY3JlYXRlVGFuZGVtKCAndG9vbHNSYWRpb0J1dHRvbkdyb3VwJyApICk7XHJcblxyXG4gICAgY29uc3QgY29udHJvbHNQYXJlbnQgPSBuZXcgVkJveCgge1xyXG4gICAgICBjaGlsZHJlbjogWyBzb2x1dGlvblBhbmVsLCB2aWV3c1BhbmVsLCB0b29sc1JhZGlvQnV0dG9uR3JvdXAgXSxcclxuICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICBzcGFjaW5nOiAxMFxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIENlbnRlcmVkIGluIHRoZSBzcGFjZSB0byB0aGUgcmlnaHQgb2YgdGhlIG1hZ25pZnlpbmcgZ2xhc3NcclxuICAgIGNvbnRyb2xzUGFyZW50LmJvdW5kc1Byb3BlcnR5LmxpbmsoIGJvdW5kcyA9PiB7XHJcbiAgICAgIGNvbnRyb2xzUGFyZW50LmNlbnRlclggPSBtYWduaWZ5aW5nR2xhc3NOb2RlLnJpZ2h0ICsgKCB0aGlzLmxheW91dEJvdW5kcy5yaWdodCAtIG1hZ25pZnlpbmdHbGFzc05vZGUucmlnaHQgKSAvIDI7XHJcbiAgICAgIGNvbnRyb2xzUGFyZW50LmNlbnRlclkgPSB0aGlzLmxheW91dEJvdW5kcy5jZW50ZXJZO1xyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IHJvb3ROb2RlID0gbmV3IE5vZGUoIHtcclxuICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICBwSE1ldGVyTm9kZSxcclxuICAgICAgICBwSENvbG9yS2V5Tm9kZSxcclxuICAgICAgICBwSFBhcGVyTm9kZSxcclxuICAgICAgICBjb25kdWN0aXZpdHlUZXN0ZXJOb2RlLFxyXG4gICAgICAgIGJlYWtlck5vZGUsXHJcbiAgICAgICAgcmVhY3Rpb25FcXVhdGlvbk5vZGUsXHJcbiAgICAgICAgbWFnbmlmeWluZ0dsYXNzTm9kZSxcclxuICAgICAgICBncmFwaE5vZGUsXHJcbiAgICAgICAgY29udHJvbHNQYXJlbnQsXHJcbiAgICAgICAgcmVzZXRBbGxCdXR0b25cclxuICAgICAgXVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggcm9vdE5vZGUgKTtcclxuXHJcbiAgICAvLyBuZWVkZWQgYnkgc3RlcFxyXG4gICAgdGhpcy5wSFBhcGVyTm9kZSA9IHBIUGFwZXJOb2RlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBmYWxzZSwgJ2Rpc3Bvc2UgaXMgbm90IHN1cHBvcnRlZCwgZXhpc3RzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbScgKTtcclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcclxuICAgIHRoaXMudmlld1Byb3BlcnRpZXMucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBzdGVwKCBkdDogbnVtYmVyICk6IHZvaWQge1xyXG4gICAgc3VwZXIuc3RlcCggZHQgKTtcclxuICAgIHRoaXMucEhQYXBlck5vZGUuc3RlcCggZHQgKTtcclxuICB9XHJcbn1cclxuXHJcbmFjaWRCYXNlU29sdXRpb25zLnJlZ2lzdGVyKCAnQUJTU2NyZWVuVmlldycsIEFCU1NjcmVlblZpZXcgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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