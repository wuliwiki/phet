// Copyright 2021-2022, University of Colorado Boulder

/**
 * Example Mobius ScreenView
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import Vector3 from '../../dot/js/Vector3.js';
import ScreenView from '../../joist/js/ScreenView.js';
import Keypad from '../../scenery-phet/js/keypad/Keypad.js';
import { animatedPanZoomSingleton } from '../../scenery/js/imports.js';
import NodeTexture from './NodeTexture.js';
import TextureQuad from './TextureQuad.js';
import ThreeIsometricNode from './ThreeIsometricNode.js';
import ThreeUtils from './ThreeUtils.js';
import mobius from './mobius.js';
import Tandem from '../../tandem/js/Tandem.js';
export default class MobiusDemoScreenView extends ScreenView {
  constructor() {
    super({
      preventFit: true,
      tandem: Tandem.OPT_OUT
    });

    // f we detect that we can't use WebGL, we'll set this to false so we can bail out.
    this.enabled = true;
    if (!ThreeUtils.isWebGLEnabled()) {
      ThreeUtils.showWebGLWarning(this);
      this.enabled = false;
      return;
    }

    // Used to display the 3D view
    this.sceneNode = new ThreeIsometricNode(this.layoutBounds, {
      parentMatrixProperty: animatedPanZoomSingleton.listener.matrixProperty,
      cameraPosition: new Vector3(0, 0.4, 2)
    });
    this.addChild(this.sceneNode);

    // Camera settings
    this.sceneNode.stage.threeCamera.zoom = 1.7;
    this.sceneNode.stage.threeCamera.updateProjectionMatrix();
    this.sceneNode.stage.threeCamera.up = new THREE.Vector3(0, 0, -1);
    this.sceneNode.stage.threeCamera.lookAt(ThreeUtils.vectorToThree(Vector3.ZERO));

    // Lights
    const ambientLight = new THREE.AmbientLight(0x333333);
    this.sceneNode.stage.threeScene.add(ambientLight);
    const sunLight = new THREE.DirectionalLight(0xffffff, 1);
    sunLight.position.set(-1, 1.5, 0.8);
    this.sceneNode.stage.threeScene.add(sunLight);
    const moonLight = new THREE.DirectionalLight(0xffffff, 0.2);
    moonLight.position.set(2.0, -1.0, 1.0);
    this.sceneNode.stage.threeScene.add(moonLight);
    const cubeGeometry = new THREE.BoxGeometry(0.5, 0.5, 0.5);
    const cubeMaterial = new THREE.MeshLambertMaterial({
      color: 0xFF0000
    });

    // Create a mesh with the geometry and material
    this.cubeMesh = new THREE.Mesh(cubeGeometry, cubeMaterial);
    this.sceneNode.stage.threeScene.add(this.cubeMesh);

    // Toss some Node content into the 3D scene. Would call update() on the NodeTexture whenever it needs updates.
    const exampleNode = new Keypad(Keypad.PositiveIntegerLayout, {
      scale: 3,
      left: 1,
      top: 1
    });
    const size = Math.ceil(Math.max(exampleNode.width, exampleNode.height)) + 2;
    const label = new TextureQuad(new NodeTexture(exampleNode, size, size), 0.2, 0.2);
    label.position.copy(ThreeUtils.vectorToThree(new Vector3(0, 0, 0.26)));
    this.cubeMesh.add(label);
  }
  layout(viewBounds) {
    super.layout(viewBounds);

    // If the simulation was not able to load for WebGL, bail out
    if (!this.sceneNode) {
      return;
    }
    this.sceneNode.layout(viewBounds.width, viewBounds.height);

    // We need to do an initial render for certain layout-based code to work
    this.sceneNode.render(undefined);
  }

  /**
   * Steps forward in time.
   */
  step(dt) {
    // If the simulation was not able to load for WebGL, bail out
    if (!this.sceneNode) {
      return;
    }
    this.cubeMesh.rotateY(dt);
    this.sceneNode.render(undefined);
  }
}
mobius.register('MobiusDemoScreenView', MobiusDemoScreenView);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWZWN0b3IzIiwiU2NyZWVuVmlldyIsIktleXBhZCIsImFuaW1hdGVkUGFuWm9vbVNpbmdsZXRvbiIsIk5vZGVUZXh0dXJlIiwiVGV4dHVyZVF1YWQiLCJUaHJlZUlzb21ldHJpY05vZGUiLCJUaHJlZVV0aWxzIiwibW9iaXVzIiwiVGFuZGVtIiwiTW9iaXVzRGVtb1NjcmVlblZpZXciLCJjb25zdHJ1Y3RvciIsInByZXZlbnRGaXQiLCJ0YW5kZW0iLCJPUFRfT1VUIiwiZW5hYmxlZCIsImlzV2ViR0xFbmFibGVkIiwic2hvd1dlYkdMV2FybmluZyIsInNjZW5lTm9kZSIsImxheW91dEJvdW5kcyIsInBhcmVudE1hdHJpeFByb3BlcnR5IiwibGlzdGVuZXIiLCJtYXRyaXhQcm9wZXJ0eSIsImNhbWVyYVBvc2l0aW9uIiwiYWRkQ2hpbGQiLCJzdGFnZSIsInRocmVlQ2FtZXJhIiwiem9vbSIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJ1cCIsIlRIUkVFIiwibG9va0F0IiwidmVjdG9yVG9UaHJlZSIsIlpFUk8iLCJhbWJpZW50TGlnaHQiLCJBbWJpZW50TGlnaHQiLCJ0aHJlZVNjZW5lIiwiYWRkIiwic3VuTGlnaHQiLCJEaXJlY3Rpb25hbExpZ2h0IiwicG9zaXRpb24iLCJzZXQiLCJtb29uTGlnaHQiLCJjdWJlR2VvbWV0cnkiLCJCb3hHZW9tZXRyeSIsImN1YmVNYXRlcmlhbCIsIk1lc2hMYW1iZXJ0TWF0ZXJpYWwiLCJjb2xvciIsImN1YmVNZXNoIiwiTWVzaCIsImV4YW1wbGVOb2RlIiwiUG9zaXRpdmVJbnRlZ2VyTGF5b3V0Iiwic2NhbGUiLCJsZWZ0IiwidG9wIiwic2l6ZSIsIk1hdGgiLCJjZWlsIiwibWF4Iiwid2lkdGgiLCJoZWlnaHQiLCJsYWJlbCIsImNvcHkiLCJsYXlvdXQiLCJ2aWV3Qm91bmRzIiwicmVuZGVyIiwidW5kZWZpbmVkIiwic3RlcCIsImR0Iiwicm90YXRlWSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiTW9iaXVzRGVtb1NjcmVlblZpZXcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogRXhhbXBsZSBNb2JpdXMgU2NyZWVuVmlld1xyXG4gKlxyXG4gKiBAYXV0aG9yIEpvbmF0aGFuIE9sc29uIDxqb25hdGhhbi5vbHNvbkBjb2xvcmFkby5lZHU+XHJcbiAqL1xyXG5cclxuaW1wb3J0IFZlY3RvcjMgZnJvbSAnLi4vLi4vZG90L2pzL1ZlY3RvcjMuanMnO1xyXG5pbXBvcnQgU2NyZWVuVmlldyBmcm9tICcuLi8uLi9qb2lzdC9qcy9TY3JlZW5WaWV3LmpzJztcclxuaW1wb3J0IEtleXBhZCBmcm9tICcuLi8uLi9zY2VuZXJ5LXBoZXQvanMva2V5cGFkL0tleXBhZC5qcyc7XHJcbmltcG9ydCB7IGFuaW1hdGVkUGFuWm9vbVNpbmdsZXRvbiB9IGZyb20gJy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBOb2RlVGV4dHVyZSBmcm9tICcuL05vZGVUZXh0dXJlLmpzJztcclxuaW1wb3J0IFRleHR1cmVRdWFkIGZyb20gJy4vVGV4dHVyZVF1YWQuanMnO1xyXG5pbXBvcnQgVGhyZWVJc29tZXRyaWNOb2RlIGZyb20gJy4vVGhyZWVJc29tZXRyaWNOb2RlLmpzJztcclxuaW1wb3J0IFRocmVlVXRpbHMgZnJvbSAnLi9UaHJlZVV0aWxzLmpzJztcclxuaW1wb3J0IG1vYml1cyBmcm9tICcuL21vYml1cy5qcyc7XHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IFRhbmRlbSBmcm9tICcuLi8uLi90YW5kZW0vanMvVGFuZGVtLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vYml1c0RlbW9TY3JlZW5WaWV3IGV4dGVuZHMgU2NyZWVuVmlldyB7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgc2NlbmVOb2RlITogVGhyZWVJc29tZXRyaWNOb2RlO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY3ViZU1lc2ghOiBUSFJFRS5NZXNoO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigge1xyXG4gICAgICBwcmV2ZW50Rml0OiB0cnVlLFxyXG4gICAgICB0YW5kZW06IFRhbmRlbS5PUFRfT1VUXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gZiB3ZSBkZXRlY3QgdGhhdCB3ZSBjYW4ndCB1c2UgV2ViR0wsIHdlJ2xsIHNldCB0aGlzIHRvIGZhbHNlIHNvIHdlIGNhbiBiYWlsIG91dC5cclxuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgaWYgKCAhVGhyZWVVdGlscy5pc1dlYkdMRW5hYmxlZCgpICkge1xyXG4gICAgICBUaHJlZVV0aWxzLnNob3dXZWJHTFdhcm5pbmcoIHRoaXMgKTtcclxuICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVc2VkIHRvIGRpc3BsYXkgdGhlIDNEIHZpZXdcclxuICAgIHRoaXMuc2NlbmVOb2RlID0gbmV3IFRocmVlSXNvbWV0cmljTm9kZSggdGhpcy5sYXlvdXRCb3VuZHMsIHtcclxuICAgICAgcGFyZW50TWF0cml4UHJvcGVydHk6IGFuaW1hdGVkUGFuWm9vbVNpbmdsZXRvbi5saXN0ZW5lciEubWF0cml4UHJvcGVydHksXHJcbiAgICAgIGNhbWVyYVBvc2l0aW9uOiBuZXcgVmVjdG9yMyggMCwgMC40LCAyIClcclxuICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHRoaXMuc2NlbmVOb2RlICk7XHJcblxyXG4gICAgLy8gQ2FtZXJhIHNldHRpbmdzXHJcbiAgICB0aGlzLnNjZW5lTm9kZS5zdGFnZS50aHJlZUNhbWVyYS56b29tID0gMS43O1xyXG4gICAgdGhpcy5zY2VuZU5vZGUuc3RhZ2UudGhyZWVDYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgdGhpcy5zY2VuZU5vZGUuc3RhZ2UudGhyZWVDYW1lcmEudXAgPSBuZXcgVEhSRUUuVmVjdG9yMyggMCwgMCwgLTEgKTtcclxuICAgIHRoaXMuc2NlbmVOb2RlLnN0YWdlLnRocmVlQ2FtZXJhLmxvb2tBdCggVGhyZWVVdGlscy52ZWN0b3JUb1RocmVlKCBWZWN0b3IzLlpFUk8gKSApO1xyXG5cclxuICAgIC8vIExpZ2h0c1xyXG4gICAgY29uc3QgYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCggMHgzMzMzMzMgKTtcclxuICAgIHRoaXMuc2NlbmVOb2RlLnN0YWdlLnRocmVlU2NlbmUuYWRkKCBhbWJpZW50TGlnaHQgKTtcclxuICAgIGNvbnN0IHN1bkxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoIDB4ZmZmZmZmLCAxICk7XHJcbiAgICBzdW5MaWdodC5wb3NpdGlvbi5zZXQoIC0xLCAxLjUsIDAuOCApO1xyXG4gICAgdGhpcy5zY2VuZU5vZGUuc3RhZ2UudGhyZWVTY2VuZS5hZGQoIHN1bkxpZ2h0ICk7XHJcbiAgICBjb25zdCBtb29uTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCggMHhmZmZmZmYsIDAuMiApO1xyXG4gICAgbW9vbkxpZ2h0LnBvc2l0aW9uLnNldCggMi4wLCAtMS4wLCAxLjAgKTtcclxuICAgIHRoaXMuc2NlbmVOb2RlLnN0YWdlLnRocmVlU2NlbmUuYWRkKCBtb29uTGlnaHQgKTtcclxuXHJcbiAgICBjb25zdCBjdWJlR2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoIDAuNSwgMC41LCAwLjUgKTtcclxuICAgIGNvbnN0IGN1YmVNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKCB7XHJcbiAgICAgIGNvbG9yOiAweEZGMDAwMFxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIG1lc2ggd2l0aCB0aGUgZ2VvbWV0cnkgYW5kIG1hdGVyaWFsXHJcbiAgICB0aGlzLmN1YmVNZXNoID0gbmV3IFRIUkVFLk1lc2goIGN1YmVHZW9tZXRyeSwgY3ViZU1hdGVyaWFsICk7XHJcbiAgICB0aGlzLnNjZW5lTm9kZS5zdGFnZS50aHJlZVNjZW5lLmFkZCggdGhpcy5jdWJlTWVzaCApO1xyXG5cclxuICAgIC8vIFRvc3Mgc29tZSBOb2RlIGNvbnRlbnQgaW50byB0aGUgM0Qgc2NlbmUuIFdvdWxkIGNhbGwgdXBkYXRlKCkgb24gdGhlIE5vZGVUZXh0dXJlIHdoZW5ldmVyIGl0IG5lZWRzIHVwZGF0ZXMuXHJcbiAgICBjb25zdCBleGFtcGxlTm9kZSA9IG5ldyBLZXlwYWQoIEtleXBhZC5Qb3NpdGl2ZUludGVnZXJMYXlvdXQsIHtcclxuICAgICAgc2NhbGU6IDMsXHJcbiAgICAgIGxlZnQ6IDEsXHJcbiAgICAgIHRvcDogMVxyXG4gICAgfSApO1xyXG4gICAgY29uc3Qgc2l6ZSA9IE1hdGguY2VpbCggTWF0aC5tYXgoIGV4YW1wbGVOb2RlLndpZHRoLCBleGFtcGxlTm9kZS5oZWlnaHQgKSApICsgMjtcclxuICAgIGNvbnN0IGxhYmVsID0gbmV3IFRleHR1cmVRdWFkKCBuZXcgTm9kZVRleHR1cmUoIGV4YW1wbGVOb2RlLCBzaXplLCBzaXplICksIDAuMiwgMC4yICk7XHJcbiAgICBsYWJlbC5wb3NpdGlvbi5jb3B5KCBUaHJlZVV0aWxzLnZlY3RvclRvVGhyZWUoIG5ldyBWZWN0b3IzKCAwLCAwLCAwLjI2ICkgKSApO1xyXG4gICAgdGhpcy5jdWJlTWVzaC5hZGQoIGxhYmVsICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgbGF5b3V0KCB2aWV3Qm91bmRzOiBCb3VuZHMyICk6IHZvaWQge1xyXG4gICAgc3VwZXIubGF5b3V0KCB2aWV3Qm91bmRzICk7XHJcblxyXG4gICAgLy8gSWYgdGhlIHNpbXVsYXRpb24gd2FzIG5vdCBhYmxlIHRvIGxvYWQgZm9yIFdlYkdMLCBiYWlsIG91dFxyXG4gICAgaWYgKCAhdGhpcy5zY2VuZU5vZGUgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNjZW5lTm9kZS5sYXlvdXQoIHZpZXdCb3VuZHMud2lkdGgsIHZpZXdCb3VuZHMuaGVpZ2h0ICk7XHJcblxyXG4gICAgLy8gV2UgbmVlZCB0byBkbyBhbiBpbml0aWFsIHJlbmRlciBmb3IgY2VydGFpbiBsYXlvdXQtYmFzZWQgY29kZSB0byB3b3JrXHJcbiAgICB0aGlzLnNjZW5lTm9kZS5yZW5kZXIoIHVuZGVmaW5lZCApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RlcHMgZm9yd2FyZCBpbiB0aW1lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBzdGVwKCBkdDogbnVtYmVyICk6IHZvaWQge1xyXG4gICAgLy8gSWYgdGhlIHNpbXVsYXRpb24gd2FzIG5vdCBhYmxlIHRvIGxvYWQgZm9yIFdlYkdMLCBiYWlsIG91dFxyXG4gICAgaWYgKCAhdGhpcy5zY2VuZU5vZGUgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmN1YmVNZXNoLnJvdGF0ZVkoIGR0ICk7XHJcblxyXG4gICAgdGhpcy5zY2VuZU5vZGUucmVuZGVyKCB1bmRlZmluZWQgKTtcclxuICB9XHJcbn1cclxuXHJcbm1vYml1cy5yZWdpc3RlciggJ01vYml1c0RlbW9TY3JlZW5WaWV3JywgTW9iaXVzRGVtb1NjcmVlblZpZXcgKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLE9BQU8sTUFBTSx5QkFBeUI7QUFDN0MsT0FBT0MsVUFBVSxNQUFNLDhCQUE4QjtBQUNyRCxPQUFPQyxNQUFNLE1BQU0sd0NBQXdDO0FBQzNELFNBQVNDLHdCQUF3QixRQUFRLDZCQUE2QjtBQUN0RSxPQUFPQyxXQUFXLE1BQU0sa0JBQWtCO0FBQzFDLE9BQU9DLFdBQVcsTUFBTSxrQkFBa0I7QUFDMUMsT0FBT0Msa0JBQWtCLE1BQU0seUJBQXlCO0FBQ3hELE9BQU9DLFVBQVUsTUFBTSxp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