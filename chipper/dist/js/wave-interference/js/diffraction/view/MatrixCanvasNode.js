// Copyright 2019-2022, University of Colorado Boulder

/**
 * Renders data from a Matrix into a canvas.  Shows the apertures and diffraction regions.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 */

import Bounds2 from '../../../../dot/js/Bounds2.js';
import optionize from '../../../../phet-core/js/optionize.js';
import { CanvasNode, Color } from '../../../../scenery/js/imports.js';
import ImageDataRenderer from '../../../../scenery-phet/js/ImageDataRenderer.js';
import WaveInterferenceConstants from '../../common/WaveInterferenceConstants.js';
import waveInterference from '../../waveInterference.js';

// Linear scaling factor to increase the brightness.  Color values are clamped, and could whiten at the center.
const SCALE_FACTOR = 2.5;
class MatrixCanvasNode extends CanvasNode {
  // note node already defines matrix, so we use a different variable name
  constructor(dataMatrix, providedOptions) {
    const options = optionize()({
      // only use the visible part for the bounds (not the damping regions)
      canvasBounds: new Bounds2(0, 0, WaveInterferenceConstants.DIFFRACTION_MATRIX_DIMENSION, WaveInterferenceConstants.DIFFRACTION_MATRIX_DIMENSION),
      layerSplit: true,
      // ensure we're on our own layer
      baseColor: Color.white
    }, providedOptions);
    super(options);

    // @private
    this.dataMatrix = dataMatrix;
    this.baseColor = options.baseColor;

    // @private - Use putImageData for performance
    this.imageDataRenderer = new ImageDataRenderer(dataMatrix.getRowDimension(), dataMatrix.getColumnDimension());
  }

  /**
   * Sets the color of the peaks of the wave.
   */
  setBaseColor(color) {
    this.baseColor = color;
    this.invalidatePaint();
  }

  /**
   * Draws into the canvas.
   */
  paintCanvas(context) {
    let x = 0;
    const m = this.dataMatrix.getRowDimension();
    const n = this.dataMatrix.getColumnDimension();
    for (let row = 0; row < m; row++) {
      for (let column = 0; column < n; column++) {
        // Get the value from the data matrix
        const value = this.dataMatrix.get(row, column);

        // Note this interpolation doesn't include the gamma factor that Color.blend does
        const r = Math.min(value * this.baseColor.red * SCALE_FACTOR, 255);
        const g = Math.min(value * this.baseColor.green * SCALE_FACTOR, 255);
        const b = Math.min(value * this.baseColor.blue * SCALE_FACTOR, 255);

        // ImageData.data is Uint8ClampedArray.  Performance is critical and all numbers are non-negative.
        const offset = 4 * x;
        this.imageDataRenderer.data[offset] = Math.round(r); // eslint-disable-line bad-sim-text
        this.imageDataRenderer.data[offset + 1] = Math.round(g); // eslint-disable-line bad-sim-text
        this.imageDataRenderer.data[offset + 2] = Math.round(b); // eslint-disable-line bad-sim-text
        this.imageDataRenderer.data[offset + 3] = 255; // Fully opaque
        x++;
      }
    }
    this.imageDataRenderer.putImageData();

    // draw the sub-canvas to the rendering context at the appropriate scale
    context.drawImage(this.imageDataRenderer.canvas, 0, 0);
  }
}
waveInterference.register('MatrixCanvasNode', MatrixCanvasNode);
export default MatrixCanvasNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb3VuZHMyIiwib3B0aW9uaXplIiwiQ2FudmFzTm9kZSIsIkNvbG9yIiwiSW1hZ2VEYXRhUmVuZGVyZXIiLCJXYXZlSW50ZXJmZXJlbmNlQ29uc3RhbnRzIiwid2F2ZUludGVyZmVyZW5jZSIsIlNDQUxFX0ZBQ1RPUiIsIk1hdHJpeENhbnZhc05vZGUiLCJjb25zdHJ1Y3RvciIsImRhdGFNYXRyaXgiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwiY2FudmFzQm91bmRzIiwiRElGRlJBQ1RJT05fTUFUUklYX0RJTUVOU0lPTiIsImxheWVyU3BsaXQiLCJiYXNlQ29sb3IiLCJ3aGl0ZSIsImltYWdlRGF0YVJlbmRlcmVyIiwiZ2V0Um93RGltZW5zaW9uIiwiZ2V0Q29sdW1uRGltZW5zaW9uIiwic2V0QmFzZUNvbG9yIiwiY29sb3IiLCJpbnZhbGlkYXRlUGFpbnQiLCJwYWludENhbnZhcyIsImNvbnRleHQiLCJ4IiwibSIsIm4iLCJyb3ciLCJjb2x1bW4iLCJ2YWx1ZSIsImdldCIsInIiLCJNYXRoIiwibWluIiwicmVkIiwiZyIsImdyZWVuIiwiYiIsImJsdWUiLCJvZmZzZXQiLCJkYXRhIiwicm91bmQiLCJwdXRJbWFnZURhdGEiLCJkcmF3SW1hZ2UiLCJjYW52YXMiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIk1hdHJpeENhbnZhc05vZGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTktMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogUmVuZGVycyBkYXRhIGZyb20gYSBNYXRyaXggaW50byBhIGNhbnZhcy4gIFNob3dzIHRoZSBhcGVydHVyZXMgYW5kIGRpZmZyYWN0aW9uIHJlZ2lvbnMuXHJcbiAqXHJcbiAqIEBhdXRob3IgU2FtIFJlaWQgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IEJvdW5kczIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL0JvdW5kczIuanMnO1xyXG5pbXBvcnQgTWF0cml4IGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9NYXRyaXguanMnO1xyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgeyBDYW52YXNOb2RlLCBDYW52YXNOb2RlT3B0aW9ucywgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgSW1hZ2VEYXRhUmVuZGVyZXIgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL0ltYWdlRGF0YVJlbmRlcmVyLmpzJztcclxuaW1wb3J0IFdhdmVJbnRlcmZlcmVuY2VDb25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL1dhdmVJbnRlcmZlcmVuY2VDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgd2F2ZUludGVyZmVyZW5jZSBmcm9tICcuLi8uLi93YXZlSW50ZXJmZXJlbmNlLmpzJztcclxuXHJcbi8vIExpbmVhciBzY2FsaW5nIGZhY3RvciB0byBpbmNyZWFzZSB0aGUgYnJpZ2h0bmVzcy4gIENvbG9yIHZhbHVlcyBhcmUgY2xhbXBlZCwgYW5kIGNvdWxkIHdoaXRlbiBhdCB0aGUgY2VudGVyLlxyXG5jb25zdCBTQ0FMRV9GQUNUT1IgPSAyLjU7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG4gIGJhc2VDb2xvcj86IENvbG9yO1xyXG59O1xyXG50eXBlIE1hdHJpeENhbnZhc05vZGVPcHRpb25zID0gU2VsZk9wdGlvbnMgJiBDYW52YXNOb2RlT3B0aW9ucztcclxuXHJcbmNsYXNzIE1hdHJpeENhbnZhc05vZGUgZXh0ZW5kcyBDYW52YXNOb2RlIHtcclxuICBwcml2YXRlIHJlYWRvbmx5IGltYWdlRGF0YVJlbmRlcmVyOiBJbWFnZURhdGFSZW5kZXJlcjtcclxuICBwcml2YXRlIGJhc2VDb2xvcjogQ29sb3I7XHJcblxyXG4gIC8vIG5vdGUgbm9kZSBhbHJlYWR5IGRlZmluZXMgbWF0cml4LCBzbyB3ZSB1c2UgYSBkaWZmZXJlbnQgdmFyaWFibGUgbmFtZVxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggcHJpdmF0ZSByZWFkb25seSBkYXRhTWF0cml4OiBNYXRyaXgsIHByb3ZpZGVkT3B0aW9ucz86IE1hdHJpeENhbnZhc05vZGVPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8TWF0cml4Q2FudmFzTm9kZU9wdGlvbnMsIFNlbGZPcHRpb25zLCBDYW52YXNOb2RlT3B0aW9ucz4oKSgge1xyXG5cclxuICAgICAgLy8gb25seSB1c2UgdGhlIHZpc2libGUgcGFydCBmb3IgdGhlIGJvdW5kcyAobm90IHRoZSBkYW1waW5nIHJlZ2lvbnMpXHJcbiAgICAgIGNhbnZhc0JvdW5kczogbmV3IEJvdW5kczIoIDAsIDAsXHJcbiAgICAgICAgV2F2ZUludGVyZmVyZW5jZUNvbnN0YW50cy5ESUZGUkFDVElPTl9NQVRSSVhfRElNRU5TSU9OLFxyXG4gICAgICAgIFdhdmVJbnRlcmZlcmVuY2VDb25zdGFudHMuRElGRlJBQ1RJT05fTUFUUklYX0RJTUVOU0lPTlxyXG4gICAgICApLFxyXG4gICAgICBsYXllclNwbGl0OiB0cnVlLCAvLyBlbnN1cmUgd2UncmUgb24gb3VyIG93biBsYXllclxyXG4gICAgICBiYXNlQ29sb3I6IENvbG9yLndoaXRlXHJcbiAgICB9LCBwcm92aWRlZE9wdGlvbnMgKTtcclxuXHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG5cclxuICAgIC8vIEBwcml2YXRlXHJcbiAgICB0aGlzLmJhc2VDb2xvciA9IG9wdGlvbnMuYmFzZUNvbG9yO1xyXG5cclxuICAgIC8vIEBwcml2YXRlIC0gVXNlIHB1dEltYWdlRGF0YSBmb3IgcGVyZm9ybWFuY2VcclxuICAgIHRoaXMuaW1hZ2VEYXRhUmVuZGVyZXIgPSBuZXcgSW1hZ2VEYXRhUmVuZGVyZXIoIGRhdGFNYXRyaXguZ2V0Um93RGltZW5zaW9uKCksIGRhdGFNYXRyaXguZ2V0Q29sdW1uRGltZW5zaW9uKCkgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIGNvbG9yIG9mIHRoZSBwZWFrcyBvZiB0aGUgd2F2ZS5cclxuICAgKi9cclxuICBwdWJsaWMgc2V0QmFzZUNvbG9yKCBjb2xvcjogQ29sb3IgKTogdm9pZCB7XHJcbiAgICB0aGlzLmJhc2VDb2xvciA9IGNvbG9yO1xyXG4gICAgdGhpcy5pbnZhbGlkYXRlUGFpbnQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdzIGludG8gdGhlIGNhbnZhcy5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgcGFpbnRDYW52YXMoIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCApOiB2b2lkIHtcclxuXHJcbiAgICBsZXQgeCA9IDA7XHJcblxyXG4gICAgY29uc3QgbSA9IHRoaXMuZGF0YU1hdHJpeC5nZXRSb3dEaW1lbnNpb24oKTtcclxuICAgIGNvbnN0IG4gPSB0aGlzLmRhdGFNYXRyaXguZ2V0Q29sdW1uRGltZW5zaW9uKCk7XHJcbiAgICBmb3IgKCBsZXQgcm93ID0gMDsgcm93IDwgbTsgcm93KysgKSB7XHJcbiAgICAgIGZvciAoIGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBuOyBjb2x1bW4rKyApIHtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSBkYXRhIG1hdHJpeFxyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5kYXRhTWF0cml4LmdldCggcm93LCBjb2x1bW4gKTtcclxuXHJcbiAgICAgICAgLy8gTm90ZSB0aGlzIGludGVycG9sYXRpb24gZG9lc24ndCBpbmNsdWRlIHRoZSBnYW1tYSBmYWN0b3IgdGhhdCBDb2xvci5ibGVuZCBkb2VzXHJcbiAgICAgICAgY29uc3QgciA9IE1hdGgubWluKCB2YWx1ZSAqIHRoaXMuYmFzZUNvbG9yLnJlZCAqIFNDQUxFX0ZBQ1RPUiwgMjU1ICk7XHJcbiAgICAgICAgY29uc3QgZyA9IE1hdGgubWluKCB2YWx1ZSAqIHRoaXMuYmFzZUNvbG9yLmdyZWVuICogU0NBTEVfRkFDVE9SLCAyNTUgKTtcclxuICAgICAgICBjb25zdCBiID0gTWF0aC5taW4oIHZhbHVlICogdGhpcy5iYXNlQ29sb3IuYmx1ZSAqIFNDQUxFX0ZBQ1RPUiwgMjU1ICk7XHJcblxyXG4gICAgICAgIC8vIEltYWdlRGF0YS5kYXRhIGlzIFVpbnQ4Q2xhbXBlZEFycmF5LiAgUGVyZm9ybWFuY2UgaXMgY3JpdGljYWwgYW5kIGFsbCBudW1iZXJzIGFyZSBub24tbmVnYXRpdmUuXHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gNCAqIHg7XHJcbiAgICAgICAgdGhpcy5pbWFnZURhdGFSZW5kZXJlci5kYXRhWyBvZmZzZXQgXSA9IE1hdGgucm91bmQoIHIgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYWQtc2ltLXRleHRcclxuICAgICAgICB0aGlzLmltYWdlRGF0YVJlbmRlcmVyLmRhdGFbIG9mZnNldCArIDEgXSA9IE1hdGgucm91bmQoIGcgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYWQtc2ltLXRleHRcclxuICAgICAgICB0aGlzLmltYWdlRGF0YVJlbmRlcmVyLmRhdGFbIG9mZnNldCArIDIgXSA9IE1hdGgucm91bmQoIGIgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYWQtc2ltLXRleHRcclxuICAgICAgICB0aGlzLmltYWdlRGF0YVJlbmRlcmVyLmRhdGFbIG9mZnNldCArIDMgXSA9IDI1NTsgLy8gRnVsbHkgb3BhcXVlXHJcbiAgICAgICAgeCsrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmltYWdlRGF0YVJlbmRlcmVyLnB1dEltYWdlRGF0YSgpO1xyXG5cclxuICAgIC8vIGRyYXcgdGhlIHN1Yi1jYW52YXMgdG8gdGhlIHJlbmRlcmluZyBjb250ZXh0IGF0IHRoZSBhcHByb3ByaWF0ZSBzY2FsZVxyXG4gICAgY29udGV4dC5kcmF3SW1hZ2UoIHRoaXMuaW1hZ2VEYXRhUmVuZGVyZXIuY2FudmFzLCAwLCAwICk7XHJcbiAgfVxyXG59XHJcblxyXG53YXZlSW50ZXJmZXJlbmNlLnJlZ2lzdGVyKCAnTWF0cml4Q2FudmFzTm9kZScsIE1hdHJpeENhbnZhc05vZGUgKTtcclxuZXhwb3J0IGRlZmF1bHQgTWF0cml4Q2FudmFzTm9kZTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsT0FBTyxNQUFNLCtCQUErQjtBQUVuRCxPQUFPQyxTQUFTLE1BQU0sdUNBQXVDO0FBQzdELFNBQVNDLFVBQVUsRUFBcUJDLEtBQUssUUFBUSxtQ0FBbUM7QUFDeEYsT0FBT0MsaUJBQWlCLE1BQU0sa0RBQWtEO0FBQ2hGLE9BQU9DLHlCQUF5QixNQUFNLDJDQUEyQztBQUNqRixPQUFPQyxnQkFBZ0IsTUFBTSwyQkFBMkI7O0FBRXhEO0FBQ0EsTUFBTUMsWUFBWSxHQUFHLEdBQUc7QUFPeEIsTUFBTUMsZ0JBQWdCLFNBQVNOLFVBQVUsQ0FBQztFQUl4QztFQUNPTyxXQUFXQSxDQUFtQkMsVUFBa0IsRUFBRUMsZUFBeUMsRUFBRztJQUVuRyxNQUFNQyxPQUFPLEdBQUdYLFNBQVMsQ0FBMEQsQ0FBQyxDQUFFO01BRXBGO01BQ0FZLFlBQVksRUFBRSxJQUFJYixPQUFPLENBQUUsQ0FBQyxFQUFFLENBQUMsRUFDN0JLLHlCQUF5QixDQUFDUyw0QkFBNEIsRUFDdERULHlCQUF5QixDQUFDUyw0QkFDNUIsQ0FBQztNQUNEQyxVQUFVLEVBQUUsSUFBSTtNQUFFO01BQ2xCQyxTQUFTLEVBQUViLEtBQUssQ0FBQ2M7SUFDbkIsQ0FBQyxFQUFFTixlQUFnQixDQUFDO0lBRXBCLEtBQUssQ0FBRUMsT0FBUSxDQUFDOztJQUVoQjtJQUFBLEtBZm1DRixVQUFrQixHQUFsQkEsVUFBa0I7SUFnQnJELElBQUksQ0FBQ00sU0FBUyxHQUFHSixPQUFPLENBQUNJLFNBQVM7O0lBRWxDO0lBQ0EsSUFBSSxDQUFDRSxpQkFBaUIsR0FBRyxJQUFJZCxpQkFBaUIs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