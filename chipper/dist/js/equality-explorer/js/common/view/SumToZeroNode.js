// Copyright 2017-2022, University of Colorado Boulder

/**
 * A '0' or '0x' (with optional halo) that fades out.
 * Used to indicate that 1 and -1, or x and -x, have summed to zero.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import NumberProperty from '../../../../axon/js/NumberProperty.js';
import optionize from '../../../../phet-core/js/optionize.js';
import MathSymbolFont from '../../../../scenery-phet/js/MathSymbolFont.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { HBox, Node, Text } from '../../../../scenery/js/imports.js';
import Animation from '../../../../twixt/js/Animation.js';
import Easing from '../../../../twixt/js/Easing.js';
import equalityExplorer from '../../equalityExplorer.js';
import EqualityExplorerConstants from '../EqualityExplorerConstants.js';
import HaloNode from './HaloNode.js';
import Range from '../../../../dot/js/Range.js';
export default class SumToZeroNode extends Node {
  constructor(providedOptions) {
    const options = optionize()({
      // SelfOptions
      variable: null,
      haloRadius: 20,
      haloBaseColor: 'transparent',
      fontSize: EqualityExplorerConstants.SUM_TO_ZERO_SMALL_FONT_SIZE
    }, providedOptions);
    const zeroText = new Text('0', {
      font: new PhetFont(options.fontSize)
    });
    let contentNode;
    let symbolText;
    if (options.variable) {
      symbolText = new Text(options.variable.symbolProperty, {
        font: new MathSymbolFont(options.fontSize)
      });
      contentNode = new HBox({
        spacing: 0,
        children: [zeroText, symbolText] // e.g. '0x'
      });
    } else {
      // no variable, just show '0'
      contentNode = zeroText;
    }
    contentNode.maxWidth = 2 * options.haloRadius;
    const haloNode = new HaloNode(options.haloRadius, {
      baseColor: options.haloBaseColor,
      center: contentNode.center
    });
    options.children = [haloNode, contentNode];
    super(options);

    // Property to be animated
    const opacityProperty = new NumberProperty(this.opacity, {
      range: new Range(0, 1)
    });
    opacityProperty.link(opacity => {
      this.opacity = opacity;
    });
    this.animation = new Animation({
      //TODO https://github.com/phetsims/equality-explorer/issues/197 stateful animation?
      duration: 0.75,
      targets: [{
        property: opacityProperty,
        easing: Easing.QUINTIC_IN,
        to: 0
      }]
    });

    // removes this Node from the scenegraph
    this.animation.finishEmitter.addListener(() => this.dispose());
    this.disposeSumToZeroNode = () => {
      symbolText && symbolText.dispose();
    };
  }
  dispose() {
    this.disposeSumToZeroNode();
    super.dispose();
  }

  /**
   * Starts the animation.
   */
  startAnimation() {
    this.animation.start();
  }

  /**
   * Performs sum-to-zero animation for terms that have summed to zero.
   * Intended to be used in screens where like terms are combined in one cell on the scale,
   * and that involve applying universal operations.  Because universal operations may result
   * in more than one term summing to zero, we need to perform sum-to-zero animations after
   * the operation has been applied to all terms, so that the scale is in its final position.
   * @param termCreators - term creators whose term summed to zero
   * @param termsLayer
   */
  static animateSumToZero(termCreators, termsLayer) {
    for (let i = 0; i < termCreators.length; i++) {
      const termCreator = termCreators[i];
      assert && assert(termCreator.combineLikeTermsEnabled, 'animateSumToZero should only be used when combineLikeTermsEnabled');
      const likeTermsCell = termCreator.likeTermsCell;
      assert && assert(likeTermsCell !== null);

      // determine where the cell that contained the term is currently located
      const cellCenter = termCreator.plate.getPositionOfCell(likeTermsCell);

      // display the animation in that cell
      const sumToZeroNode = new SumToZeroNode({
        variable: termCreator.variable,
        fontSize: EqualityExplorerConstants.SUM_TO_ZERO_BIG_FONT_SIZE,
        center: cellCenter
      });
      termsLayer.addChild(sumToZeroNode);
      sumToZeroNode.startAnimation();
    }
  }
}
equalityExplorer.register('SumToZeroNode', SumToZeroNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJOdW1iZXJQcm9wZXJ0eSIsIm9wdGlvbml6ZSIsIk1hdGhTeW1ib2xGb250IiwiUGhldEZvbnQiLCJIQm94IiwiTm9kZSIsIlRleHQiLCJBbmltYXRpb24iLCJFYXNpbmciLCJlcXVhbGl0eUV4cGxvcmVyIiwiRXF1YWxpdHlFeHBsb3JlckNvbnN0YW50cyIsIkhhbG9Ob2RlIiwiUmFuZ2UiLCJTdW1Ub1plcm9Ob2RlIiwiY29uc3RydWN0b3IiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwidmFyaWFibGUiLCJoYWxvUmFkaXVzIiwiaGFsb0Jhc2VDb2xvciIsImZvbnRTaXplIiwiU1VNX1RPX1pFUk9fU01BTExfRk9OVF9TSVpFIiwiemVyb1RleHQiLCJmb250IiwiY29udGVudE5vZGUiLCJzeW1ib2xUZXh0Iiwic3ltYm9sUHJvcGVydHkiLCJzcGFjaW5nIiwiY2hpbGRyZW4iLCJtYXhXaWR0aCIsImhhbG9Ob2RlIiwiYmFzZUNvbG9yIiwiY2VudGVyIiwib3BhY2l0eVByb3BlcnR5Iiwib3BhY2l0eSIsInJhbmdlIiwibGluayIsImFuaW1hdGlvbiIsImR1cmF0aW9uIiwidGFyZ2V0cyIsInByb3BlcnR5IiwiZWFzaW5nIiwiUVVJTlRJQ19JTiIsInRvIiwiZmluaXNoRW1pdHRlciIsImFkZExpc3RlbmVyIiwiZGlzcG9zZSIsImRpc3Bvc2VTdW1Ub1plcm9Ob2RlIiwic3RhcnRBbmltYXRpb24iLCJzdGFydCIsImFuaW1hdGVTdW1Ub1plcm8iLCJ0ZXJtQ3JlYXRvcnMiLCJ0ZXJtc0xheWVyIiwiaSIsImxlbmd0aCIsInRlcm1DcmVhdG9yIiwiYXNzZXJ0IiwiY29tYmluZUxpa2VUZXJtc0VuYWJsZWQiLCJsaWtlVGVybXNDZWxsIiwiY2VsbENlbnRlciIsInBsYXRlIiwiZ2V0UG9zaXRpb25PZkNlbGwiLCJzdW1Ub1plcm9Ob2RlIiwiU1VNX1RPX1pFUk9fQklHX0ZPTlRfU0laRSIsImFkZENoaWxkIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJTdW1Ub1plcm9Ob2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE3LTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEEgJzAnIG9yICcweCcgKHdpdGggb3B0aW9uYWwgaGFsbykgdGhhdCBmYWRlcyBvdXQuXHJcbiAqIFVzZWQgdG8gaW5kaWNhdGUgdGhhdCAxIGFuZCAtMSwgb3IgeCBhbmQgLXgsIGhhdmUgc3VtbWVkIHRvIHplcm8uXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IE51bWJlclByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvTnVtYmVyUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgTWF0aFN5bWJvbEZvbnQgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL01hdGhTeW1ib2xGb250LmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XHJcbmltcG9ydCB7IEhCb3gsIE5vZGUsIE5vZGVPcHRpb25zLCBOb2RlVHJhbnNsYXRpb25PcHRpb25zLCBUQ29sb3IsIFRleHQgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgQW5pbWF0aW9uIGZyb20gJy4uLy4uLy4uLy4uL3R3aXh0L2pzL0FuaW1hdGlvbi5qcyc7XHJcbmltcG9ydCBFYXNpbmcgZnJvbSAnLi4vLi4vLi4vLi4vdHdpeHQvanMvRWFzaW5nLmpzJztcclxuaW1wb3J0IGVxdWFsaXR5RXhwbG9yZXIgZnJvbSAnLi4vLi4vZXF1YWxpdHlFeHBsb3Jlci5qcyc7XHJcbmltcG9ydCBFcXVhbGl0eUV4cGxvcmVyQ29uc3RhbnRzIGZyb20gJy4uL0VxdWFsaXR5RXhwbG9yZXJDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgVmFyaWFibGUgZnJvbSAnLi4vbW9kZWwvVmFyaWFibGUuanMnO1xyXG5pbXBvcnQgSGFsb05vZGUgZnJvbSAnLi9IYWxvTm9kZS5qcyc7XHJcbmltcG9ydCBUZXJtQ3JlYXRvciBmcm9tICcuLi9tb2RlbC9UZXJtQ3JlYXRvci5qcyc7XHJcbmltcG9ydCBSYW5nZSBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvUmFuZ2UuanMnO1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IHtcclxuICB2YXJpYWJsZT86IFZhcmlhYmxlIHwgbnVsbDsgLy8gZGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHJlbmRlciAnMCcgb3IgJzB4JyAoZm9yIGV4YW1wbGUpXHJcbiAgaGFsb1JhZGl1cz86IG51bWJlcjtcclxuICBoYWxvQmFzZUNvbG9yPzogVENvbG9yOyAvLyBubyB2aXNpYmxlIGhhbG8sIHNldCB0aGlzIGlmIHlvdSB3YW50IHRvIHNlZSB0aGUgaGFsb1xyXG4gIGZvbnRTaXplPzogbnVtYmVyO1xyXG59O1xyXG5cclxudHlwZSBTdW1Ub1plcm9Ob2RlT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgTm9kZVRyYW5zbGF0aW9uT3B0aW9ucztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN1bVRvWmVyb05vZGUgZXh0ZW5kcyBOb2RlIHtcclxuXHJcbiAgcHJpdmF0ZSBhbmltYXRpb246IEFuaW1hdGlvbjtcclxuICBwcml2YXRlIHJlYWRvbmx5IGRpc3Bvc2VTdW1Ub1plcm9Ob2RlOiAoKSA9PiB2b2lkO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHByb3ZpZGVkT3B0aW9ucz86IFN1bVRvWmVyb05vZGVPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8U3VtVG9aZXJvTm9kZU9wdGlvbnMsIFNlbGZPcHRpb25zLCBOb2RlT3B0aW9ucz4oKSgge1xyXG5cclxuICAgICAgLy8gU2VsZk9wdGlvbnNcclxuICAgICAgdmFyaWFibGU6IG51bGwsXHJcbiAgICAgIGhhbG9SYWRpdXM6IDIwLFxyXG4gICAgICBoYWxvQmFzZUNvbG9yOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICBmb250U2l6ZTogRXF1YWxpdHlFeHBsb3JlckNvbnN0YW50cy5TVU1fVE9fWkVST19TTUFMTF9GT05UX1NJWkVcclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIGNvbnN0IHplcm9UZXh0ID0gbmV3IFRleHQoICcwJywge1xyXG4gICAgICBmb250OiBuZXcgUGhldEZvbnQoIG9wdGlvbnMuZm9udFNpemUgKVxyXG4gICAgfSApO1xyXG5cclxuICAgIGxldCBjb250ZW50Tm9kZTogTm9kZTtcclxuICAgIGxldCBzeW1ib2xUZXh0OiBOb2RlO1xyXG4gICAgaWYgKCBvcHRpb25zLnZhcmlhYmxlICkge1xyXG5cclxuICAgICAgc3ltYm9sVGV4dCA9IG5ldyBUZXh0KCBvcHRpb25zLnZhcmlhYmxlLnN5bWJvbFByb3BlcnR5LCB7XHJcbiAgICAgICAgZm9udDogbmV3IE1hdGhTeW1ib2xGb250KCBvcHRpb25zLmZvbnRTaXplIClcclxuICAgICAgfSApO1xyXG5cclxuICAgICAgY29udGVudE5vZGUgPSBuZXcgSEJveCgge1xyXG4gICAgICAgIHNwYWNpbmc6IDAsXHJcbiAgICAgICAgY2hpbGRyZW46IFsgemVyb1RleHQsIHN5bWJvbFRleHQgXSAvLyBlLmcuICcweCdcclxuICAgICAgfSApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcblxyXG4gICAgICAvLyBubyB2YXJpYWJsZSwganVzdCBzaG93ICcwJ1xyXG4gICAgICBjb250ZW50Tm9kZSA9IHplcm9UZXh0O1xyXG4gICAgfVxyXG4gICAgY29udGVudE5vZGUubWF4V2lkdGggPSAyICogb3B0aW9ucy5oYWxvUmFkaXVzO1xyXG5cclxuICAgIGNvbnN0IGhhbG9Ob2RlID0gbmV3IEhhbG9Ob2RlKCBvcHRpb25zLmhhbG9SYWRpdXMsIHtcclxuICAgICAgYmFzZUNvbG9yOiBvcHRpb25zLmhhbG9CYXNlQ29sb3IsXHJcbiAgICAgIGNlbnRlcjogY29udGVudE5vZGUuY2VudGVyXHJcbiAgICB9ICk7XHJcblxyXG4gICAgb3B0aW9ucy5jaGlsZHJlbiA9IFsgaGFsb05vZGUsIGNvbnRlbnROb2RlIF07XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyBQcm9wZXJ0eSB0byBiZSBhbmltYXRlZFxyXG4gICAgY29uc3Qgb3BhY2l0eVByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCB0aGlzLm9wYWNpdHksIHtcclxuICAgICAgcmFuZ2U6IG5ldyBSYW5nZSggMCwgMSApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgb3BhY2l0eVByb3BlcnR5LmxpbmsoIG9wYWNpdHkgPT4ge1xyXG4gICAgICB0aGlzLm9wYWNpdHkgPSBvcGFjaXR5O1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbiggeyAvL1RPRE8gaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL2VxdWFsaXR5LWV4cGxvcmVyL2lzc3Vlcy8xOTcgc3RhdGVmdWwgYW5pbWF0aW9uP1xyXG4gICAgICBkdXJhdGlvbjogMC43NSxcclxuICAgICAgdGFyZ2V0czogWyB7XHJcbiAgICAgICAgcHJvcGVydHk6IG9wYWNpdHlQcm9wZXJ0eSxcclxuICAgICAgICBlYXNpbmc6IEVhc2luZy5RVUlOVElDX0lOLFxyXG4gICAgICAgIHRvOiAwXHJcbiAgICAgIH0gXVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIHJlbW92ZXMgdGhpcyBOb2RlIGZyb20gdGhlIHNjZW5lZ3JhcGhcclxuICAgIHRoaXMuYW5pbWF0aW9uLmZpbmlzaEVtaXR0ZXIuYWRkTGlzdGVuZXIoICgpID0+IHRoaXMuZGlzcG9zZSgpICk7XHJcblxyXG4gICAgdGhpcy5kaXNwb3NlU3VtVG9aZXJvTm9kZSA9ICgpID0+IHtcclxuICAgICAgc3ltYm9sVGV4dCAmJiBzeW1ib2xUZXh0LmRpc3Bvc2UoKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGlzcG9zZVN1bVRvWmVyb05vZGUoKTtcclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0YXJ0cyB0aGUgYW5pbWF0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGFydEFuaW1hdGlvbigpOiB2b2lkIHtcclxuICAgIHRoaXMuYW5pbWF0aW9uLnN0YXJ0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQZXJmb3JtcyBzdW0tdG8temVybyBhbmltYXRpb24gZm9yIHRlcm1zIHRoYXQgaGF2ZSBzdW1tZWQgdG8gemVyby5cclxuICAgKiBJbnRlbmRlZCB0byBiZSB1c2VkIGluIHNjcmVlbnMgd2hlcmUgbGlrZSB0ZXJtcyBhcmUgY29tYmluZWQgaW4gb25lIGNlbGwgb24gdGhlIHNjYWxlLFxyXG4gICAqIGFuZCB0aGF0IGludm9sdmUgYXBwbHlpbmcgdW5pdmVyc2FsIG9wZXJhdGlvbnMuICBCZWNhdXNlIHVuaXZlcnNhbCBvcGVyYXRpb25zIG1heSByZXN1bHRcclxuICAgKiBpbiBtb3JlIHRoYW4gb25lIHRlcm0gc3VtbWluZyB0byB6ZXJvLCB3ZSBuZWVkIHRvIHBlcmZvcm0gc3VtLXRvLXplcm8gYW5pbWF0aW9ucyBhZnRlclxyXG4gICAqIHRoZSBvcGVyYXRpb24gaGFzIGJlZW4gYXBwbGllZCB0byBhbGwgdGVybXMsIHNvIHRoYXQgdGhlIHNjYWxlIGlzIGluIGl0cyBmaW5hbCBwb3NpdGlvbi5cclxuICAgKiBAcGFyYW0gdGVybUNyZWF0b3JzIC0gdGVybSBjcmVhdG9ycyB3aG9zZSB0ZXJtIHN1bW1lZCB0byB6ZXJvXHJcbiAgICogQHBhcmFtIHRlcm1zTGF5ZXJcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGFuaW1hdGVTdW1Ub1plcm8oIHRlcm1DcmVhdG9yczogVGVybUNyZWF0b3JbXSwgdGVybXNMYXllcjogTm9kZSApOiB2b2lkIHtcclxuXHJcbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCB0ZXJtQ3JlYXRvcnMubGVuZ3RoOyBpKysgKSB7XHJcblxyXG4gICAgICBjb25zdCB0ZXJtQ3JlYXRvciA9IHRlcm1DcmVhdG9yc1sgaSBdO1xyXG5cclxuICAgICAgYXNzZXJ0ICYmIGFzc2VydCggdGVybUNyZWF0b3IuY29tYmluZUxpa2VUZXJtc0VuYWJsZWQsXHJcbiAgICAgICAgJ2FuaW1hdGVTdW1Ub1plcm8gc2hvdWxkIG9ubHkgYmUgdXNlZCB3aGVuIGNvbWJpbmVMaWtlVGVybXNFbmFibGVkJyApO1xyXG5cclxuICAgICAgY29uc3QgbGlrZVRlcm1zQ2VsbCA9IHRlcm1DcmVhdG9yLmxpa2VUZXJtc0NlbGwhO1xyXG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCBsaWtlVGVybXNDZWxsICE9PSBudWxsICk7XHJcblxyXG4gICAgICAvLyBkZXRlcm1pbmUgd2hlcmUgdGhlIGNlbGwgdGhhdCBjb250YWluZWQgdGhlIHRlcm0gaXMgY3VycmVudGx5IGxvY2F0ZWRcclxuICAgICAgY29uc3QgY2VsbENlbnRlciA9IHRlcm1DcmVhdG9yLnBsYXRlLmdldFBvc2l0aW9uT2ZDZWxsKCBsaWtlVGVybXNDZWxsICk7XHJcblxyXG4gICAgICAvLyBkaXNwbGF5IHRoZSBhbmltYXRpb24gaW4gdGhhdCBjZWxsXHJcbiAgICAgIGNvbnN0IHN1bVRvWmVyb05vZGUgPSBuZXcgU3VtVG9aZXJvTm9kZSgge1xyXG4gICAgICAgIHZhcmlhYmxlOiB0ZXJtQ3JlYXRvci52YXJpYWJsZSxcclxuICAgICAgICBmb250U2l6ZTogRXF1YWxpdHlFeHBsb3JlckNvbnN0YW50cy5TVU1fVE9fWkVST19CSUdfRk9OVF9TSVpFLFxyXG4gICAgICAgIGNlbnRlcjogY2VsbENlbnRlclxyXG4gICAgICB9ICk7XHJcbiAgICAgIHRlcm1zTGF5ZXIuYWRkQ2hpbGQoIHN1bVRvWmVyb05vZGUgKTtcclxuICAgICAgc3VtVG9aZXJvTm9kZS5zdGFydEFuaW1hdGlvbigpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXF1YWxpdHlFeHBsb3Jlci5yZWdpc3RlciggJ1N1bVRvWmVyb05vZGUnLCBTdW1Ub1plcm9Ob2RlICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsY0FBYyxNQUFNLHVDQUF1QztBQUNsRSxPQUFPQyxTQUFTLE1BQU0sdUNBQXVDO0FBQzdELE9BQU9DLGNBQWMsTUFBTSwrQ0FBK0M7QUFDMUUsT0FBT0MsUUFBUSxNQUFNLHlDQUF5QztBQUM5RCxTQUFTQyxJQUFJLEVBQUVDLElBQUksRUFBK0NDLElBQUksUUFBUSxtQ0FBbUM7QUFDakgsT0FBT0MsU0FBUyxNQUFNLG1DQUFtQztBQUN6RCxPQUFPQyxNQUFNLE1BQU0sZ0NBQWdDO0FBQ25ELE9BQU9DLGdCQUFnQixNQUFNLDJCQUEyQjtBQUN4RCxPQUFPQyx5QkFBeUIsTUFBTSxpQ0FBaUM7QUFFdkUsT0FBT0MsUUFBUSxNQUFNLGVBQWU7QUFFcEMsT0FBT0MsS0FBSyxNQUFNLDZCQUE2QjtBQVcvQyxlQUFlLE1BQU1DLGFBQWEsU0FBU1IsSUFBSSxDQUFDO0VBS3ZDUyxXQUFXQSxDQUFFQyxlQUFzQyxFQUFHO0lBRTNELE1BQU1DLE9BQU8sR0FBR2YsU0FBUyxDQUFpRCxDQUFDLENBQUU7TUFFM0U7TUFDQWdCLFFBQVEsRUFBRSxJQUFJO01BQ2RDLFVBQVUsRUFBRSxFQUFFO01BQ2RDLGFBQWEsRUFBRSxhQUFhO01BQzVCQyxRQUFRLEVBQUVWLHlCQUF5QixDQUFDVztJQUN0QyxDQUFDLEVBQUVOLGVBQWdCLENBQUM7SUFFcEIsTUFBTU8sUUFBUSxHQUFHLElBQUloQixJQUFJLENBQUUsR0FBRyxFQUFFO01BQzlCaUIsSUFBSSxFQUFFLElBQUlwQixRQUFRLENBQUVhLE9BQU8sQ0FBQ0ksUUFBUztJQUN2QyxD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