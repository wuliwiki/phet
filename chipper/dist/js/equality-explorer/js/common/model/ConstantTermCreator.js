// Copyright 2018-2023, University of Colorado Boulder

/**
 * ConstantTermCreator creates and manages constant terms.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import optionize, { combineOptions } from '../../../../phet-core/js/optionize.js';
import Fraction from '../../../../phetcommon/js/model/Fraction.js';
import equalityExplorer from '../../equalityExplorer.js';
import EqualityExplorerConstants from '../EqualityExplorerConstants.js';
import ConstantTermNode from '../view/ConstantTermNode.js'; // eslint-disable-line no-view-imported-from-model
import ConstantTerm from './ConstantTerm.js';
import TermCreator from './TermCreator.js';

// options to createTermProtected and createZeroTerm

export default class ConstantTermCreator extends TermCreator {
  constructor(providedOptions) {
    const options = optionize()({
      // SelfOptions
      constantValue: EqualityExplorerConstants.DEFAULT_CONSTANT_VALUE
    }, providedOptions);
    super(options);
    this.constantValue = options.constantValue;
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
  toString() {
    return `ConstantTermCreator constantValue=${this.constantValue}`;
  }

  /**
   * Returns the sum of constant values for all terms on the plate.
   */
  sumConstantsOnPlate() {
    let sum = Fraction.fromInteger(0);
    for (let i = 0; i < this.termsOnPlate.length; i++) {
      const term = this.termsOnPlate.get(i);
      assert && assert(term instanceof ConstantTerm); // eslint-disable-line no-simple-type-checking-assertions
      sum = sum.plus(term.constantValue).reduced();
    }
    return sum;
  }

  /**
   * Overridden so that we can expand the type definition of providedOptions, so that it includes properties
   * that are specific to this class. Note that super.createTerm calls createTermProtected.
   */
  createTerm(providedOptions) {
    return super.createTerm(providedOptions);
  }

  //-------------------------------------------------------------------------------------------------
  // Below here is the implementation of the TermCreator API
  //-------------------------------------------------------------------------------------------------

  /**
   * Creates the icon used to represent this term in the TermsToolboxNode and equations.
   * @param sign of the constant shown on the icon
   */
  createIcon(sign = 1) {
    const constantValue = this.constantValue.timesInteger(sign);
    return ConstantTermNode.createInteractiveTermNode(constantValue);
  }

  /**
   * Instantiates a ConstantTerm.
   */
  createTermProtected(providedOptions) {
    const options = combineOptions({
      sign: 1,
      constantValue: this.constantValue
    }, providedOptions);

    // Adjust the sign
    assert && assert(options.sign !== undefined);
    assert && assert(options.constantValue !== undefined);
    options.constantValue = options.constantValue.timesInteger(options.sign);
    return new ConstantTerm(options); //TODO https://github.com/phetsims/equality-explorer/issues/200 dynamic
  }

  /**
   * Creates a term whose significant value is zero. This is used when applying an operation to an empty plate.
   * The term is not managed by the TermCreator, so we call createTermProtected instead of createTerm.
   */
  createZeroTerm(providedOptions) {
    const options = providedOptions || {};
    assert && assert(!options.constantValue, 'ConstantTermCreator sets constantValue');
    options.constantValue = Fraction.fromInteger(0);
    return this.createTermProtected(options);
  }

  /**
   * Instantiates the Node that corresponds to this term.
   */
  createTermNode(term) {
    return new ConstantTermNode(this, term); //TODO https://github.com/phetsims/equality-explorer/issues/200 dynamic
  }
}

equalityExplorer.register('ConstantTermCreator', ConstantTermCreator);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcHRpb25pemUiLCJjb21iaW5lT3B0aW9ucyIsIkZyYWN0aW9uIiwiZXF1YWxpdHlFeHBsb3JlciIsIkVxdWFsaXR5RXhwbG9yZXJDb25zdGFudHMiLCJDb25zdGFudFRlcm1Ob2RlIiwiQ29uc3RhbnRUZXJtIiwiVGVybUNyZWF0b3IiLCJDb25zdGFudFRlcm1DcmVhdG9yIiwiY29uc3RydWN0b3IiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwiY29uc3RhbnRWYWx1ZSIsIkRFRkFVTFRfQ09OU1RBTlRfVkFMVUUiLCJkaXNwb3NlIiwiYXNzZXJ0IiwidG9TdHJpbmciLCJzdW1Db25zdGFudHNPblBsYXRlIiwic3VtIiwiZnJvbUludGVnZXIiLCJpIiwidGVybXNPblBsYXRlIiwibGVuZ3RoIiwidGVybSIsImdldCIsInBsdXMiLCJyZWR1Y2VkIiwiY3JlYXRlVGVybSIsImNyZWF0ZUljb24iLCJzaWduIiwidGltZXNJbnRlZ2VyIiwiY3JlYXRlSW50ZXJhY3RpdmVUZXJtTm9kZSIsImNyZWF0ZVRlcm1Qcm90ZWN0ZWQiLCJ1bmRlZmluZWQiLCJjcmVhdGVaZXJvVGVybSIsImNyZWF0ZVRlcm1Ob2RlIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJDb25zdGFudFRlcm1DcmVhdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE4LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIENvbnN0YW50VGVybUNyZWF0b3IgY3JlYXRlcyBhbmQgbWFuYWdlcyBjb25zdGFudCB0ZXJtcy5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgeyBOb2RlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSwgeyBjb21iaW5lT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgRnJhY3Rpb24gZnJvbSAnLi4vLi4vLi4vLi4vcGhldGNvbW1vbi9qcy9tb2RlbC9GcmFjdGlvbi5qcyc7XHJcbmltcG9ydCBlcXVhbGl0eUV4cGxvcmVyIGZyb20gJy4uLy4uL2VxdWFsaXR5RXhwbG9yZXIuanMnO1xyXG5pbXBvcnQgRXF1YWxpdHlFeHBsb3JlckNvbnN0YW50cyBmcm9tICcuLi9FcXVhbGl0eUV4cGxvcmVyQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IENvbnN0YW50VGVybU5vZGUgZnJvbSAnLi4vdmlldy9Db25zdGFudFRlcm1Ob2RlLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby12aWV3LWltcG9ydGVkLWZyb20tbW9kZWxcclxuaW1wb3J0IENvbnN0YW50VGVybSwgeyBDb25zdGFudFRlcm1PcHRpb25zIH0gZnJvbSAnLi9Db25zdGFudFRlcm0uanMnO1xyXG5pbXBvcnQgVGVybUNyZWF0b3IsIHsgQ3JlYXRlVGVybU9wdGlvbnMsIFRlcm1DcmVhdG9yT3B0aW9ucywgVGVybUNyZWF0b3JTaWduIH0gZnJvbSAnLi9UZXJtQ3JlYXRvci5qcyc7XHJcbmltcG9ydCBUZXJtIGZyb20gJy4vVGVybS5qcyc7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG4gIGNvbnN0YW50VmFsdWU/OiBGcmFjdGlvbjsgLy8gdGhlIGRlZmF1bHQgY29uc3RhbnQgdmFsdWUgdXNlZCB0byBjcmVhdGUgdGVybXNcclxufTtcclxuXHJcbnR5cGUgQ29uc3RhbnRUZXJtQ3JlYXRvck9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIFRlcm1DcmVhdG9yT3B0aW9ucztcclxuXHJcbi8vIG9wdGlvbnMgdG8gY3JlYXRlVGVybVByb3RlY3RlZCBhbmQgY3JlYXRlWmVyb1Rlcm1cclxudHlwZSBDcmVhdGVDb25zdGFudFRlcm1PcHRpb25zID0gQ3JlYXRlVGVybU9wdGlvbnMgJiBDb25zdGFudFRlcm1PcHRpb25zO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uc3RhbnRUZXJtQ3JlYXRvciBleHRlbmRzIFRlcm1DcmVhdG9yIHtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBjb25zdGFudFZhbHVlOiBGcmFjdGlvbjtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBwcm92aWRlZE9wdGlvbnM6IENvbnN0YW50VGVybUNyZWF0b3JPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8Q29uc3RhbnRUZXJtQ3JlYXRvck9wdGlvbnMsIFNlbGZPcHRpb25zLCBUZXJtQ3JlYXRvck9wdGlvbnM+KCkoIHtcclxuXHJcbiAgICAgIC8vIFNlbGZPcHRpb25zXHJcbiAgICAgIGNvbnN0YW50VmFsdWU6IEVxdWFsaXR5RXhwbG9yZXJDb25zdGFudHMuREVGQVVMVF9DT05TVEFOVF9WQUxVRVxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcbiAgICB0aGlzLmNvbnN0YW50VmFsdWUgPSBvcHRpb25zLmNvbnN0YW50VmFsdWU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGZhbHNlLCAnZGlzcG9zZSBpcyBub3Qgc3VwcG9ydGVkLCBleGlzdHMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltJyApO1xyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYENvbnN0YW50VGVybUNyZWF0b3IgY29uc3RhbnRWYWx1ZT0ke3RoaXMuY29uc3RhbnRWYWx1ZX1gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgc3VtIG9mIGNvbnN0YW50IHZhbHVlcyBmb3IgYWxsIHRlcm1zIG9uIHRoZSBwbGF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgc3VtQ29uc3RhbnRzT25QbGF0ZSgpOiBGcmFjdGlvbiB7XHJcbiAgICBsZXQgc3VtID0gRnJhY3Rpb24uZnJvbUludGVnZXIoIDAgKTtcclxuICAgIGZvciAoIGxldCBpID0gMDsgaSA8IHRoaXMudGVybXNPblBsYXRlLmxlbmd0aDsgaSsrICkge1xyXG4gICAgICBjb25zdCB0ZXJtID0gdGhpcy50ZXJtc09uUGxhdGUuZ2V0KCBpICk7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIHRlcm0gaW5zdGFuY2VvZiBDb25zdGFudFRlcm0gKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zaW1wbGUtdHlwZS1jaGVja2luZy1hc3NlcnRpb25zXHJcbiAgICAgIHN1bSA9IHN1bS5wbHVzKCAoIHRlcm0gYXMgQ29uc3RhbnRUZXJtICkuY29uc3RhbnRWYWx1ZSApLnJlZHVjZWQoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdW07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPdmVycmlkZGVuIHNvIHRoYXQgd2UgY2FuIGV4cGFuZCB0aGUgdHlwZSBkZWZpbml0aW9uIG9mIHByb3ZpZGVkT3B0aW9ucywgc28gdGhhdCBpdCBpbmNsdWRlcyBwcm9wZXJ0aWVzXHJcbiAgICogdGhhdCBhcmUgc3BlY2lmaWMgdG8gdGhpcyBjbGFzcy4gTm90ZSB0aGF0IHN1cGVyLmNyZWF0ZVRlcm0gY2FsbHMgY3JlYXRlVGVybVByb3RlY3RlZC5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgY3JlYXRlVGVybSggcHJvdmlkZWRPcHRpb25zPzogQ3JlYXRlQ29uc3RhbnRUZXJtT3B0aW9ucyApOiBUZXJtIHtcclxuICAgIHJldHVybiBzdXBlci5jcmVhdGVUZXJtKCBwcm92aWRlZE9wdGlvbnMgKTtcclxuICB9XHJcblxyXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIEJlbG93IGhlcmUgaXMgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBUZXJtQ3JlYXRvciBBUElcclxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyB0aGUgaWNvbiB1c2VkIHRvIHJlcHJlc2VudCB0aGlzIHRlcm0gaW4gdGhlIFRlcm1zVG9vbGJveE5vZGUgYW5kIGVxdWF0aW9ucy5cclxuICAgKiBAcGFyYW0gc2lnbiBvZiB0aGUgY29uc3RhbnQgc2hvd24gb24gdGhlIGljb25cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgY3JlYXRlSWNvbiggc2lnbjogVGVybUNyZWF0b3JTaWduID0gMSApOiBOb2RlIHtcclxuICAgIGNvbnN0IGNvbnN0YW50VmFsdWUgPSB0aGlzLmNvbnN0YW50VmFsdWUudGltZXNJbnRlZ2VyKCBzaWduICk7XHJcbiAgICByZXR1cm4gQ29uc3RhbnRUZXJtTm9kZS5jcmVhdGVJbnRlcmFjdGl2ZVRlcm1Ob2RlKCBjb25zdGFudFZhbHVlICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbnN0YW50aWF0ZXMgYSBDb25zdGFudFRlcm0uXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGNyZWF0ZVRlcm1Qcm90ZWN0ZWQoIHByb3ZpZGVkT3B0aW9ucz86IENyZWF0ZUNvbnN0YW50VGVybU9wdGlvbnMgKTogQ29uc3RhbnRUZXJtIHtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gY29tYmluZU9wdGlvbnM8Q3JlYXRlQ29uc3RhbnRUZXJtT3B0aW9ucz4oIHtcclxuICAgICAgc2lnbjogMSxcclxuICAgICAgY29uc3RhbnRWYWx1ZTogdGhpcy5jb25zdGFudFZhbHVlXHJcbiAgICB9LCBwcm92aWRlZE9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyBBZGp1c3QgdGhlIHNpZ25cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMuc2lnbiAhPT0gdW5kZWZpbmVkICk7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBvcHRpb25zLmNvbnN0YW50VmFsdWUgIT09IHVuZGVmaW5lZCApO1xyXG4gICAgb3B0aW9ucy5jb25zdGFudFZhbHVlID0gb3B0aW9ucy5jb25zdGFudFZhbHVlIS50aW1lc0ludGVnZXIoIG9wdGlvbnMuc2lnbiEgKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IENvbnN0YW50VGVybSggb3B0aW9ucyApOyAvL1RPRE8gaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL2VxdWFsaXR5LWV4cGxvcmVyL2lzc3Vlcy8yMDAgZHluYW1pY1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIHRlcm0gd2hvc2Ugc2lnbmlmaWNhbnQgdmFsdWUgaXMgemVyby4gVGhpcyBpcyB1c2VkIHdoZW4gYXBwbHlpbmcgYW4gb3BlcmF0aW9uIHRvIGFuIGVtcHR5IHBsYXRlLlxyXG4gICAqIFRoZSB0ZXJtIGlzIG5vdCBtYW5hZ2VkIGJ5IHRoZSBUZXJtQ3JlYXRvciwgc28gd2UgY2FsbCBjcmVhdGVUZXJtUHJvdGVjdGVkIGluc3RlYWQgb2YgY3JlYXRlVGVybS5cclxuICAgKi9cclxuICBwdWJsaWMgb3ZlcnJpZGUgY3JlYXRlWmVyb1Rlcm0oIHByb3ZpZGVkT3B0aW9ucz86IENyZWF0ZUNvbnN0YW50VGVybU9wdGlvbnMgKTogQ29uc3RhbnRUZXJtIHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSBwcm92aWRlZE9wdGlvbnMgfHwge307XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCAhb3B0aW9ucy5jb25zdGFudFZhbHVlLCAnQ29uc3RhbnRUZXJtQ3JlYXRvciBzZXRzIGNvbnN0YW50VmFsdWUnICk7XHJcbiAgICBvcHRpb25zLmNvbnN0YW50VmFsdWUgPSBGcmFjdGlvbi5mcm9tSW50ZWdlciggMCApO1xyXG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlVGVybVByb3RlY3RlZCggb3B0aW9ucyApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5zdGFudGlhdGVzIHRoZSBOb2RlIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhpcyB0ZXJtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSBjcmVhdGVUZXJtTm9kZSggdGVybTogQ29uc3RhbnRUZXJtICk6IENvbnN0YW50VGVybU5vZGUge1xyXG4gICAgcmV0dXJuIG5ldyBDb25zdGFudFRlcm1Ob2RlKCB0aGlzLCB0ZXJtICk7IC8vVE9ETyBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvZXF1YWxpdHktZXhwbG9yZXIvaXNzdWVzLzIwMCBkeW5hbWljXHJcbiAgfVxyXG59XHJcblxyXG5lcXVhbGl0eUV4cGxvcmVyLnJlZ2lzdGVyKCAnQ29uc3RhbnRUZXJtQ3JlYXRvcicsIENvbnN0YW50VGVybUNyZWF0b3IgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0EsT0FBT0EsU0FBUyxJQUFJQyxjQUFjLFFBQVEsdUNBQXVDO0FBQ2pGLE9BQU9DLFFBQVEsTUFBTSw2Q0FBNkM7QUFDbEUsT0FBT0MsZ0JBQWdCLE1BQU0sMkJBQTJCO0FBQ3hELE9BQU9DLHlCQUF5QixNQUFNLGlDQUFpQztBQUN2RSxPQUFPQyxnQkFBZ0IsTUFBTSw2QkFBNkIsQ0FBQyxDQUFDO0FBQzVELE9BQU9DLFlBQVksTUFBK0IsbUJBQW1CO0FBQ3JFLE9BQU9DLFdBQVcsTUFBa0Usa0JBQWtCOztBQVN0Rzs7QUFHQSxlQUFlLE1BQU1DLG1CQUFtQixTQUFTRCxXQUFXLENBQUM7RUFJcERFLFdBQVdBLENBQUVDLGVBQTJDLEVBQUc7SUFFaEUsTUFBTUMsT0FBTyxHQUFHWCxTQUFTLENBQThELENBQUMsQ0FBRTtNQUV4RjtNQUNBWSxhQUFhLEVBQUVSLHlCQUF5QixDQUFDUztJQUMzQyxDQUFDLEVBQUVI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