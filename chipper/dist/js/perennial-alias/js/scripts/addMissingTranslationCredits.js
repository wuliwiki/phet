// Copyright 2018, University of Colorado Boulder

/**
 *  This script searches babel for all translation credits based on history and adds them to the website database
 *  if not previously added.
 *
 *  @author Matt Pennington
 **/

const buildLocal = require('../common/buildLocal');
const fetch = require('node-fetch'); // eslint-disable-line require-statement-match
const fs = require('fs');
const translatorAuthCode = buildLocal.translatorAuthCode;
if (!translatorAuthCode) {
  console.log('ERROR: translatorAuthCode required in build-local.json');
} else {
  let repos;
  let error = null;
  try {
    repos = fs.readFileSync('../perennial/data/active-sims').toString().split('\r\n').filter(e => e !== '');
  } catch (e) {
    console.log(e);
    console.log('Error processing data/active-sims, this script must be run from the perennial directory');
    error = e;
  }
  if (!error) {
    const usermap = {};

    // FIND ALL TRANSLATION CREDITS
    repos.forEach(repo => {
      try {
        const repoPath = `../babel/${repo}/`;
        fs.readdirSync(repoPath).forEach(localizedFilename => {
          const locale = localizedFilename.slice(`${repo}-strings_`.length, localizedFilename.indexOf('.'));
          const content = JSON.parse(fs.readFileSync(repoPath + localizedFilename).toString());
          for (const stringKey in content) {
            if (content.hasOwnProperty(stringKey) && content[stringKey].history) {
              content[stringKey].history.forEach(entry => {
                if (!usermap[entry.userId]) {
                  usermap[entry.userId] = {};
                }
                if (!usermap[entry.userId][locale]) {
                  usermap[entry.userId][locale] = [];
                }
                if (!usermap[entry.userId][locale].includes(repo)) {
                  usermap[entry.userId][locale].push(repo);
                }
              });
            }
          }
        });
      } catch (e) {
        // We expect unpublished or test repos to have no translations
        if (e.code === 'ENOENT') {
          console.log(`INFO: no localized files found for ${repo}`);
        }
        // Catch-all
        else {
          console.log('WARN: ', e);
        }
      }
    });

    // PREPARE QUEUE
    const urlPath = 'https://phet.colorado.edu/services/add-html-translator?';
    const requests = [];
    for (const user in usermap) {
      if (usermap.hasOwnProperty(user)) {
        for (const locale in usermap[user]) {
          if (usermap[user].hasOwnProperty(locale)) {
            usermap[user][locale].forEach(async repo => {
              const paramString = `simName=${repo}&locale=${locale}&userId=${user}&authorizationCode=${translatorAuthCode}`;
              requests.push(urlPath + paramString);
            });
          }
        }
      }
    }

    // SEND HTTP REQUESTS
    let i = 0;
    const get = async () => {
      console.log(`Fetching ${requests[i]}`);
      const response = await fetch(requests[i]);
      if (response.status < 200 || response.status > 299) {
        console.log(`ERROR: ${response.status} ${response.statusText}`);
      } else {
        console.log(`SUCCESS: ${response.status}`);
      }
      i += 1;
      if (i < requests.length) {
        get();
      } else {
        console.log('FINISHED!');
      }
    };
    try {
      get();
    } catch (e) {
      console.log('ERROR: ', e);
    }
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJidWlsZExvY2FsIiwicmVxdWlyZSIsImZldGNoIiwiZnMiLCJ0cmFuc2xhdG9yQXV0aENvZGUiLCJjb25zb2xlIiwibG9nIiwicmVwb3MiLCJlcnJvciIsInJlYWRGaWxlU3luYyIsInRvU3RyaW5nIiwic3BsaXQiLCJmaWx0ZXIiLCJlIiwidXNlcm1hcCIsImZvckVhY2giLCJyZXBvIiwicmVwb1BhdGgiLCJyZWFkZGlyU3luYyIsImxvY2FsaXplZEZpbGVuYW1lIiwibG9jYWxlIiwic2xpY2UiLCJsZW5ndGgiLCJpbmRleE9mIiwiY29udGVudCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ0tleSIsImhhc093blByb3BlcnR5IiwiaGlzdG9yeSIsImVudHJ5IiwidXNlcklkIiwiaW5jbHVkZXMiLCJwdXNoIiwiY29kZSIsInVybFBhdGgiLCJyZXF1ZXN0cyIsInVzZXIiLCJwYXJhbVN0cmluZyIsImkiLCJnZXQiLCJyZXNwb25zZSIsInN0YXR1cyIsInN0YXR1c1RleHQiXSwic291cmNlcyI6WyJhZGRNaXNzaW5nVHJhbnNsYXRpb25DcmVkaXRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE4LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiAgVGhpcyBzY3JpcHQgc2VhcmNoZXMgYmFiZWwgZm9yIGFsbCB0cmFuc2xhdGlvbiBjcmVkaXRzIGJhc2VkIG9uIGhpc3RvcnkgYW5kIGFkZHMgdGhlbSB0byB0aGUgd2Vic2l0ZSBkYXRhYmFzZVxyXG4gKiAgaWYgbm90IHByZXZpb3VzbHkgYWRkZWQuXHJcbiAqXHJcbiAqICBAYXV0aG9yIE1hdHQgUGVubmluZ3RvblxyXG4gKiovXHJcblxyXG5jb25zdCBidWlsZExvY2FsID0gcmVxdWlyZSggJy4uL2NvbW1vbi9idWlsZExvY2FsJyApO1xyXG5jb25zdCBmZXRjaCA9IHJlcXVpcmUoICdub2RlLWZldGNoJyApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtc3RhdGVtZW50LW1hdGNoXHJcbmNvbnN0IGZzID0gcmVxdWlyZSggJ2ZzJyApO1xyXG5cclxuY29uc3QgdHJhbnNsYXRvckF1dGhDb2RlID0gYnVpbGRMb2NhbC50cmFuc2xhdG9yQXV0aENvZGU7XHJcbmlmICggIXRyYW5zbGF0b3JBdXRoQ29kZSApIHtcclxuICBjb25zb2xlLmxvZyggJ0VSUk9SOiB0cmFuc2xhdG9yQXV0aENvZGUgcmVxdWlyZWQgaW4gYnVpbGQtbG9jYWwuanNvbicgKTtcclxufVxyXG5lbHNlIHtcclxuXHJcbiAgbGV0IHJlcG9zO1xyXG4gIGxldCBlcnJvciA9IG51bGw7XHJcbiAgdHJ5IHtcclxuICAgIHJlcG9zID0gZnMucmVhZEZpbGVTeW5jKCAnLi4vcGVyZW5uaWFsL2RhdGEvYWN0aXZlLXNpbXMnIClcclxuICAgICAgLnRvU3RyaW5nKClcclxuICAgICAgLnNwbGl0KCAnXFxyXFxuJyApXHJcbiAgICAgIC5maWx0ZXIoIGUgPT4gZSAhPT0gJycgKTtcclxuICB9XHJcbiAgY2F0Y2goIGUgKSB7XHJcbiAgICBjb25zb2xlLmxvZyggZSApO1xyXG4gICAgY29uc29sZS5sb2coICdFcnJvciBwcm9jZXNzaW5nIGRhdGEvYWN0aXZlLXNpbXMsIHRoaXMgc2NyaXB0IG11c3QgYmUgcnVuIGZyb20gdGhlIHBlcmVubmlhbCBkaXJlY3RvcnknICk7XHJcbiAgICBlcnJvciA9IGU7XHJcbiAgfVxyXG5cclxuICBpZiAoICFlcnJvciApIHtcclxuXHJcbiAgICBjb25zdCB1c2VybWFwID0ge307XHJcblxyXG4vLyBGSU5EIEFMTCBUUkFOU0xBVElPTiBDUkVESVRTXHJcbiAgICByZXBvcy5mb3JFYWNoKCByZXBvID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXBvUGF0aCA9IGAuLi9iYWJlbC8ke3JlcG99L2A7XHJcbiAgICAgICAgZnMucmVhZGRpclN5bmMoIHJlcG9QYXRoICkuZm9yRWFjaCggbG9jYWxpemVkRmlsZW5hbWUgPT4ge1xyXG4gICAgICAgICAgY29uc3QgbG9jYWxlID0gbG9jYWxpemVkRmlsZW5hbWUuc2xpY2UoICggYCR7cmVwb30tc3RyaW5nc19gICkubGVuZ3RoLCBsb2NhbGl6ZWRGaWxlbmFtZS5pbmRleE9mKCAnLicgKSApO1xyXG4gICAgICAgICAgY29uc3QgY29udGVudCA9IEpTT04ucGFyc2UoIGZzLnJlYWRGaWxlU3luYyggcmVwb1BhdGggKyBsb2NhbGl6ZWRGaWxlbmFtZSApLnRvU3RyaW5nKCkgKTtcclxuICAgICAgICAgIGZvciAoIGNvbnN0IHN0cmluZ0tleSBpbiBjb250ZW50ICkge1xyXG4gICAgICAgICAgICBpZiAoIGNvbnRlbnQuaGFzT3duUHJvcGVydHkoIHN0cmluZ0tleSApICYmIGNvbnRlbnRbIHN0cmluZ0tleSBdLmhpc3RvcnkgKSB7XHJcbiAgICAgICAgICAgICAgY29udGVudFsgc3RyaW5nS2V5IF0uaGlzdG9yeS5mb3JFYWNoKCBlbnRyeSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoICF1c2VybWFwWyBlbnRyeS51c2VySWQgXSApIHtcclxuICAgICAgICAgICAgICAgICAgdXNlcm1hcFsgZW50cnkudXNlcklkIF0gPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICggIXVzZXJtYXBbIGVudHJ5LnVzZXJJZCBdWyBsb2NhbGUgXSApIHtcclxuICAgICAgICAgICAgICAgICAgdXNlcm1hcFsgZW50cnkudXNlcklkIF1bIGxvY2FsZSBdID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoICF1c2VybWFwWyBlbnRyeS51c2VySWQgXVsgbG9jYWxlIF0uaW5jbHVkZXMoIHJlcG8gKSApIHtcclxuICAgICAgICAgICAgICAgICAgdXNlcm1hcFsgZW50cnkudXNlcklkIF1bIGxvY2FsZSBdLnB1c2goIHJlcG8gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSApO1xyXG4gICAgICB9XHJcbiAgICAgIGNhdGNoKCBlICkge1xyXG4gICAgICAgIC8vIFdlIGV4cGVjdCB1bnB1Ymxpc2hlZCBvciB0ZXN0IHJlcG9zIHRvIGhhdmUgbm8gdHJhbnNsYXRpb25zXHJcbiAgICAgICAgaWYgKCBlLmNvZGUgPT09ICdFTk9FTlQnICkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coIGBJTkZPOiBubyBsb2NhbGl6ZWQgZmlsZXMgZm91bmQgZm9yICR7cmVwb31gICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENhdGNoLWFsbFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coICdXQVJOOiAnLCBlICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcblxyXG4vLyBQUkVQQVJFIFFVRVVFXHJcbiAgICBjb25zdCB1cmxQYXRoID0gJ2h0dHBzOi8vcGhldC5jb2xvcmFkby5lZHUvc2VydmljZXMvYWRkLWh0bWwtdHJhbnNsYXRvcj8nO1xyXG4gICAgY29uc3QgcmVxdWVzdHMgPSBbXTtcclxuICAgIGZvciAoIGNvbnN0IHVzZXIgaW4gdXNlcm1hcCApIHtcclxuICAgICAgaWYgKCB1c2VybWFwLmhhc093blByb3BlcnR5KCB1c2VyICkgKSB7XHJcbiAgICAgICAgZm9yICggY29uc3QgbG9jYWxlIGluIHVzZXJtYXBbIHVzZXIgXSApIHtcclxuICAgICAgICAgIGlmICggdXNlcm1hcFsgdXNlciBdLmhhc093blByb3BlcnR5KCBsb2NhbGUgKSApIHtcclxuICAgICAgICAgICAgdXNlcm1hcFsgdXNlciBdWyBsb2NhbGUgXS5mb3JFYWNoKCBhc3luYyByZXBvID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBwYXJhbVN0cmluZyA9IGBzaW1OYW1lPSR7cmVwb1xyXG4gICAgICAgICAgICAgIH0mbG9jYWxlPSR7bG9jYWxlXHJcbiAgICAgICAgICAgICAgfSZ1c2VySWQ9JHt1c2VyXHJcbiAgICAgICAgICAgICAgfSZhdXRob3JpemF0aW9uQ29kZT0ke3RyYW5zbGF0b3JBdXRoQ29kZX1gO1xyXG4gICAgICAgICAgICAgIHJlcXVlc3RzLnB1c2goIHVybFBhdGggKyBwYXJhbVN0cmluZyApO1xyXG4gICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuLy8gU0VORCBIVFRQIFJFUVVFU1RTXHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBjb25zdCBnZXQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCBgRmV0Y2hpbmcgJHtyZXF1ZXN0c1sgaSBdfWAgKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCggcmVxdWVzdHNbIGkgXSApO1xyXG4gICAgICBpZiAoIHJlc3BvbnNlLnN0YXR1cyA8IDIwMCB8fCByZXNwb25zZS5zdGF0dXMgPiAyOTkgKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coIGBFUlJPUjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coIGBTVUNDRVNTOiAke3Jlc3BvbnNlLnN0YXR1c31gICk7XHJcbiAgICAgIH1cclxuICAgICAgaSArPSAxO1xyXG4gICAgICBpZiAoIGkgPCByZXF1ZXN0cy5sZW5ndGggKSB7XHJcbiAgICAgICAgZ2V0KCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coICdGSU5JU0hFRCEnICk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0cnkge1xyXG4gICAgICBnZXQoKTtcclxuICAgIH1cclxuICAgIGNhdGNoKCBlICkge1xyXG4gICAgICBjb25zb2xlLmxvZyggJ0VSUk9SOiAnLCBlICk7XHJc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