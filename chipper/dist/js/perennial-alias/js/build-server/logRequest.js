// Copyright 2017, University of Colorado Boulder

module.exports = function logRequest(req, type, winston) {
  // log the request, which is useful for debugging
  let requestBodyString = '';
  for (const key in req[type]) {
    if (req[type].hasOwnProperty(key)) {
      requestBodyString += `${key}:${JSON.stringify(req[type][key])}\n`;
    }
  }
  winston.log('info', `deploy request received, original URL = ${req.protocol}://${req.get('host')}${req.originalUrl}\n${requestBodyString}`);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwibG9nUmVxdWVzdCIsInJlcSIsInR5cGUiLCJ3aW5zdG9uIiwicmVxdWVzdEJvZHlTdHJpbmciLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2ciLCJwcm90b2NvbCIsImdldCIsIm9yaWdpbmFsVXJsIl0sInNvdXJjZXMiOlsibG9nUmVxdWVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBsb2dSZXF1ZXN0KCByZXEsIHR5cGUsIHdpbnN0b24gKSB7XHJcbiAgLy8gbG9nIHRoZSByZXF1ZXN0LCB3aGljaCBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZ1xyXG4gIGxldCByZXF1ZXN0Qm9keVN0cmluZyA9ICcnO1xyXG4gIGZvciAoIGNvbnN0IGtleSBpbiByZXFbIHR5cGUgXSApIHtcclxuICAgIGlmICggcmVxWyB0eXBlIF0uaGFzT3duUHJvcGVydHkoIGtleSApICkge1xyXG4gICAgICByZXF1ZXN0Qm9keVN0cmluZyArPSBgJHtrZXl9OiR7SlNPTi5zdHJpbmdpZnkoIHJlcVsgdHlwZSBdWyBrZXkgXSApfVxcbmA7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHdpbnN0b24ubG9nKFxyXG4gICAgJ2luZm8nLFxyXG4gICAgYGRlcGxveSByZXF1ZXN0IHJlY2VpdmVkLCBvcmlnaW5hbCBVUkwgPSAke3JlcS5wcm90b2NvbH06Ly8ke3JlcS5nZXQoICdob3N0JyApfSR7cmVxLm9yaWdpbmFsVXJsfVxcbiR7cmVxdWVzdEJvZHlTdHJpbmd9YFxyXG4gICk7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBR0FBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLFNBQVNDLFVBQVVBLENBQUVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEVBQUc7RUFDekQ7RUFDQSxJQUFJQyxpQkFBaUIsR0FBRyxFQUFFO0VBQzFCLEtBQU0sTUFBTUMsR0FBRyxJQUFJSixHQUFHLENBQUVDLElBQUksQ0FBRSxFQUFHO0lBQy9CLElBQUtELEdBQUcsQ0FBRUMsSUFBSSxDQUFFLENBQUNJLGNBQWMsQ0FBRUQsR0FBSSxDQUFDLEVBQUc7TUFDdkNELGlCQUFpQixJQUFLLEdBQUVDLEdBQUksSUFBR0UsSUFBSSxDQUFDQyxTQUFTLENBQUVQLEdBQUcsQ0FBRUMsSUFBSSxDQUFFLENBQUVHLEdBQUcsQ0FBRyxDQUFFLElBQUc7SUFDekU7RUFDRjtFQUNBRixPQUFPLENBQUNNLEdBQUcsQ0FDVCxNQUFNLEVBQ0wsMkNBQTBDUixHQUFHLENBQUNTLFFBQVMsTUFBS1QsR0FBRyxDQUFDVSxHQUFHLENBQUUsTUFBTyxDQUFFLEdBQUVWLEdBQUcsQ0FBQ1csV0FBWSxLQUFJUixpQkFBa0IsRUFDekgsQ0FBQztBQUNILENBQUMifQ==