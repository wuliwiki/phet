// Copyright 2014-2022, University of Colorado Boulder

/**
 * This file contains the code used to generate the screen icons that need to be produced in code in order to look half
 * decent.
 */

import Vector2 from '../../../../dot/js/Vector2.js';
import Screen from '../../../../joist/js/Screen.js';
import ScreenIcon from '../../../../joist/js/ScreenIcon.js';
import { Shape } from '../../../../kite/js/imports.js';
import merge from '../../../../phet-core/js/merge.js';
import FaceNode from '../../../../scenery-phet/js/FaceNode.js';
import { Color, HBox, LinearGradient, Node, Path, Rectangle } from '../../../../scenery/js/imports.js';
import areaBuilder from '../../areaBuilder.js';
import AreaBuilderSharedConstants from '../AreaBuilderSharedConstants.js';
import GridIcon from './GridIcon.js';

// constants
const NAV_BAR_ICON_SIZE = Screen.MINIMUM_NAVBAR_ICON_SIZE;
const GRID_STROKE = null;
const SHAPE_LINE_WIDTH = 1;
const GRID_OPTIONS = {
  backgroundStroke: 'black',
  backgroundLineWidth: 0.5,
  gridStroke: GRID_STROKE,
  shapeLineWidth: SHAPE_LINE_WIDTH
};
function createBucketIcon(options) {
  const icon = new Node();
  const ellipseXRadius = NAV_BAR_ICON_SIZE.width * 0.125;
  const ellipseYRadius = ellipseXRadius * 0.3;
  const bucketDepth = ellipseXRadius * 0.75;
  const bodyShape = new Shape().moveTo(-ellipseXRadius, 0).lineTo(-ellipseXRadius * 0.75, bucketDepth).quadraticCurveTo(0, bucketDepth + ellipseYRadius, ellipseXRadius * 0.75, bucketDepth).lineTo(ellipseXRadius, 0).close();
  icon.addChild(new Path(bodyShape, {
    fill: 'blue',
    stroke: 'blue',
    lineWidth: 0.5
  }));
  icon.addChild(new Path(Shape.ellipse(0, 0, ellipseXRadius, ellipseYRadius), {
    fill: new LinearGradient(-ellipseXRadius, 0, ellipseXRadius, 0).addColorStop(0, '#333333').addColorStop(1, '#999999')
  }));
  icon.mutate(options);
  return icon;
}

/**
 * Static object, not meant to be instantiated.
 */
const AreaBuilderIconFactory = {
  createExploreScreenNavBarIcon() {
    // root node
    const icon = new Node();

    // background
    icon.addChild(new Rectangle(0, 0, NAV_BAR_ICON_SIZE.width, NAV_BAR_ICON_SIZE.height, 0, 0, {
      fill: AreaBuilderSharedConstants.BACKGROUND_COLOR
    }));

    // left shape placement board and shapes
    const unitSquareLength = 15;
    const leftBoard = new GridIcon(4, 4, unitSquareLength, AreaBuilderSharedConstants.GREENISH_COLOR, [new Vector2(1, 1), new Vector2(2, 1), new Vector2(1, 2)], merge({
      left: NAV_BAR_ICON_SIZE.width * 0.05,
      top: NAV_BAR_ICON_SIZE.height * 0.1
    }, GRID_OPTIONS));
    icon.addChild(leftBoard);

    // right shape placement board and shapes
    const rightBoard = new GridIcon(4, 4, unitSquareLength, AreaBuilderSharedConstants.PURPLISH_COLOR, [new Vector2(1, 1), new Vector2(2, 1)], merge({
      right: NAV_BAR_ICON_SIZE.width * 0.95,
      top: NAV_BAR_ICON_SIZE.height * 0.1
    }, GRID_OPTIONS));
    icon.addChild(rightBoard);

    // left bucket
    icon.addChild(createBucketIcon({
      centerX: leftBoard.centerX,
      top: leftBoard.bottom + 2
    }));

    // right bucket
    icon.addChild(createBucketIcon({
      centerX: rightBoard.centerX,
      top: rightBoard.bottom + 2
    }));
    return new ScreenIcon(icon, {
      maxIconWidthProportion: 1,
      maxIconHeightProportion: 1
    });
  },
  createGameScreenNavBarIcon() {
    // root node
    const icon = new Node();

    // background
    icon.addChild(new Rectangle(0, 0, NAV_BAR_ICON_SIZE.width, NAV_BAR_ICON_SIZE.height, 0, 0, {
      fill: AreaBuilderSharedConstants.BACKGROUND_COLOR
    }));

    // shape placement board and shapes
    const unitSquareLength = 12;
    const shapePlacementBoard = new GridIcon(4, 4, unitSquareLength, AreaBuilderSharedConstants.GREENISH_COLOR, [new Vector2(1, 1), new Vector2(2, 1), new Vector2(2, 2)], merge({
      left: NAV_BAR_ICON_SIZE.width * 0.075,
      top: NAV_BAR_ICON_SIZE.height * 0.1
    }, GRID_OPTIONS));
    icon.addChild(shapePlacementBoard);

    // smiley face
    icon.addChild(new FaceNode(NAV_BAR_ICON_SIZE.width * 0.35, {
      left: shapePlacementBoard.right + 4,
      centerY: shapePlacementBoard.centerY
    }));

    // shape carousel
    const shapeCarousel = new Rectangle(0, 0, NAV_BAR_ICON_SIZE.width * 0.5, NAV_BAR_ICON_SIZE.height * 0.25, 1, 1, {
      fill: AreaBuilderSharedConstants.CONTROL_PANEL_BACKGROUND_COLOR,
      stroke: 'black',
      lineWidth: 0.5,
      top: shapePlacementBoard.bottom + 8,
      centerX: NAV_BAR_ICON_SIZE.width / 2
    });
    icon.addChild(shapeCarousel);

    // shapes on the shape carousel
    const shapeFill = AreaBuilderSharedConstants.GREENISH_COLOR;
    const shapeStroke = new Color(shapeFill).colorUtilsDarker(AreaBuilderSharedConstants.PERIMETER_DARKEN_FACTOR);
    const shapes = new HBox({
      children: [new Rectangle(0, 0, unitSquareLength, unitSquareLength, 0, 0, {
        fill: shapeFill,
        stroke: shapeStroke
      }), new HBox({
        children: [new Rectangle(0, 0, unitSquareLength, unitSquareLength, 0, 0, {
          fill: shapeFill,
          stroke: shapeStroke
        }), new Rectangle(0, 0, unitSquareLength, unitSquareLength, 0, 0, {
          fill: shapeFill,
          stroke: shapeStroke
        })],
        spacing: 0
      })],
      spacing: 2,
      centerX: shapeCarousel.width / 2,
      centerY: shapeCarousel.height / 2
    });
    shapeCarousel.addChild(shapes);
    return new ScreenIcon(icon, {
      maxIconWidthProportion: 1,
      maxIconHeightProportion: 1
    });
  }
};
areaBuilder.register('AreaBuilderIconFactory', AreaBuilderIconFactory);
export default AreaBuilderIconFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWZWN0b3IyIiwiU2NyZWVuIiwiU2NyZWVuSWNvbiIsIlNoYXBlIiwibWVyZ2UiLCJGYWNlTm9kZSIsIkNvbG9yIiwiSEJveCIsIkxpbmVhckdyYWRpZW50IiwiTm9kZSIsIlBhdGgiLCJSZWN0YW5nbGUiLCJhcmVhQnVpbGRlciIsIkFyZWFCdWlsZGVyU2hhcmVkQ29uc3RhbnRzIiwiR3JpZEljb24iLCJOQVZfQkFSX0lDT05fU0laRSIsIk1JTklNVU1fTkFWQkFSX0lDT05fU0laRSIsIkdSSURfU1RST0tFIiwiU0hBUEVfTElORV9XSURUSCIsIkdSSURfT1BUSU9OUyIsImJhY2tncm91bmRTdHJva2UiLCJiYWNrZ3JvdW5kTGluZVdpZHRoIiwiZ3JpZFN0cm9rZSIsInNoYXBlTGluZVdpZHRoIiwiY3JlYXRlQnVja2V0SWNvbiIsIm9wdGlvbnMiLCJpY29uIiwiZWxsaXBzZVhSYWRpdXMiLCJ3aWR0aCIsImVsbGlwc2VZUmFkaXVzIiwiYnVja2V0RGVwdGgiLCJib2R5U2hhcGUiLCJtb3ZlVG8iLCJsaW5lVG8iLCJxdWFkcmF0aWNDdXJ2ZVRvIiwiY2xvc2UiLCJhZGRDaGlsZCIsImZpbGwiLCJzdHJva2UiLCJsaW5lV2lkdGgiLCJlbGxpcHNlIiwiYWRkQ29sb3JTdG9wIiwibXV0YXRlIiwiQXJlYUJ1aWxkZXJJY29uRmFjdG9yeSIsImNyZWF0ZUV4cGxvcmVTY3JlZW5OYXZCYXJJY29uIiwiaGVpZ2h0IiwiQkFDS0dST1VORF9DT0xPUiIsInVuaXRTcXVhcmVMZW5ndGgiLCJsZWZ0Qm9hcmQiLCJHUkVFTklTSF9DT0xPUiIsImxlZnQiLCJ0b3AiLCJyaWdodEJvYXJkIiwiUFVSUExJU0hfQ09MT1IiLCJyaWdodCIsImNlbnRlclgiLCJib3R0b20iLCJtYXhJY29uV2lkdGhQcm9wb3J0aW9uIiwibWF4SWNvbkhlaWdodFByb3BvcnRpb24iLCJjcmVhdGVHYW1lU2NyZWVuTmF2QmFySWNvbiIsInNoYXBlUGxhY2VtZW50Qm9hcmQiLCJjZW50ZXJZIiwic2hhcGVDYXJvdXNlbCIsIkNPTlRST0xfUEFORUxfQkFDS0dST1VORF9DT0xPUiIsInNoYXBlRmlsbCIsInNoYXBlU3Ryb2tlIiwiY29sb3JVdGlsc0RhcmtlciIsIlBFUklNRVRFUl9EQVJLRU5fRkFDVE9SIiwic2hhcGVzIiwiY2hpbGRyZW4iLCJzcGFjaW5nIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJBcmVhQnVpbGRlckljb25GYWN0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE0LTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFRoaXMgZmlsZSBjb250YWlucyB0aGUgY29kZSB1c2VkIHRvIGdlbmVyYXRlIHRoZSBzY3JlZW4gaWNvbnMgdGhhdCBuZWVkIHRvIGJlIHByb2R1Y2VkIGluIGNvZGUgaW4gb3JkZXIgdG8gbG9vayBoYWxmXHJcbiAqIGRlY2VudC5cclxuICovXHJcblxyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCBTY3JlZW4gZnJvbSAnLi4vLi4vLi4vLi4vam9pc3QvanMvU2NyZWVuLmpzJztcclxuaW1wb3J0IFNjcmVlbkljb24gZnJvbSAnLi4vLi4vLi4vLi4vam9pc3QvanMvU2NyZWVuSWNvbi5qcyc7XHJcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4va2l0ZS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IG1lcmdlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tZXJnZS5qcyc7XHJcbmltcG9ydCBGYWNlTm9kZSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvRmFjZU5vZGUuanMnO1xyXG5pbXBvcnQgeyBDb2xvciwgSEJveCwgTGluZWFyR3JhZGllbnQsIE5vZGUsIFBhdGgsIFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBhcmVhQnVpbGRlciBmcm9tICcuLi8uLi9hcmVhQnVpbGRlci5qcyc7XHJcbmltcG9ydCBBcmVhQnVpbGRlclNoYXJlZENvbnN0YW50cyBmcm9tICcuLi9BcmVhQnVpbGRlclNoYXJlZENvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBHcmlkSWNvbiBmcm9tICcuL0dyaWRJY29uLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBOQVZfQkFSX0lDT05fU0laRSA9IFNjcmVlbi5NSU5JTVVNX05BVkJBUl9JQ09OX1NJWkU7XHJcbmNvbnN0IEdSSURfU1RST0tFID0gbnVsbDtcclxuY29uc3QgU0hBUEVfTElORV9XSURUSCA9IDE7XHJcbmNvbnN0IEdSSURfT1BUSU9OUyA9IHtcclxuICBiYWNrZ3JvdW5kU3Ryb2tlOiAnYmxhY2snLFxyXG4gIGJhY2tncm91bmRMaW5lV2lkdGg6IDAuNSxcclxuICBncmlkU3Ryb2tlOiBHUklEX1NUUk9LRSxcclxuICBzaGFwZUxpbmVXaWR0aDogU0hBUEVfTElORV9XSURUSFxyXG59O1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlQnVja2V0SWNvbiggb3B0aW9ucyApIHtcclxuICBjb25zdCBpY29uID0gbmV3IE5vZGUoKTtcclxuICBjb25zdCBlbGxpcHNlWFJhZGl1cyA9IE5BVl9CQVJfSUNPTl9TSVpFLndpZHRoICogMC4xMjU7XHJcbiAgY29uc3QgZWxsaXBzZVlSYWRpdXMgPSBlbGxpcHNlWFJhZGl1cyAqIDAuMztcclxuICBjb25zdCBidWNrZXREZXB0aCA9IGVsbGlwc2VYUmFkaXVzICogMC43NTtcclxuICBjb25zdCBib2R5U2hhcGUgPSBuZXcgU2hhcGUoKVxyXG4gICAgLm1vdmVUbyggLWVsbGlwc2VYUmFkaXVzLCAwIClcclxuICAgIC5saW5lVG8oIC1lbGxpcHNlWFJhZGl1cyAqIDAuNzUsIGJ1Y2tldERlcHRoIClcclxuICAgIC5xdWFkcmF0aWNDdXJ2ZVRvKCAwLCBidWNrZXREZXB0aCArIGVsbGlwc2VZUmFkaXVzLCBlbGxpcHNlWFJhZGl1cyAqIDAuNzUsIGJ1Y2tldERlcHRoIClcclxuICAgIC5saW5lVG8oIGVsbGlwc2VYUmFkaXVzLCAwIClcclxuICAgIC5jbG9zZSgpO1xyXG4gIGljb24uYWRkQ2hpbGQoIG5ldyBQYXRoKCBib2R5U2hhcGUsIHsgZmlsbDogJ2JsdWUnLCBzdHJva2U6ICdibHVlJywgbGluZVdpZHRoOiAwLjUgfSApICk7XHJcbiAgaWNvbi5hZGRDaGlsZCggbmV3IFBhdGgoIFNoYXBlLmVsbGlwc2UoIDAsIDAsIGVsbGlwc2VYUmFkaXVzLCBlbGxpcHNlWVJhZGl1cyApLCB7XHJcbiAgICBmaWxsOiBuZXcgTGluZWFyR3JhZGllbnQoIC1lbGxpcHNlWFJhZGl1cywgMCwgZWxsaXBzZVhSYWRpdXMsIDAgKS5hZGRDb2xvclN0b3AoIDAsICcjMzMzMzMzJyApLmFkZENvbG9yU3RvcCggMSwgJyM5OTk5OTknIClcclxuICB9ICkgKTtcclxuXHJcbiAgaWNvbi5tdXRhdGUoIG9wdGlvbnMgKTtcclxuICByZXR1cm4gaWNvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0YXRpYyBvYmplY3QsIG5vdCBtZWFudCB0byBiZSBpbnN0YW50aWF0ZWQuXHJcbiAqL1xyXG5jb25zdCBBcmVhQnVpbGRlckljb25GYWN0b3J5ID0ge1xyXG4gIGNyZWF0ZUV4cGxvcmVTY3JlZW5OYXZCYXJJY29uKCkge1xyXG5cclxuICAgIC8vIHJvb3Qgbm9kZVxyXG4gICAgY29uc3QgaWNvbiA9IG5ldyBOb2RlKCk7XHJcblxyXG4gICAgLy8gYmFja2dyb3VuZFxyXG4gICAgaWNvbi5hZGRDaGlsZCggbmV3IFJlY3RhbmdsZSggMCwgMCwgTkFWX0JBUl9JQ09OX1NJWkUud2lkdGgsIE5BVl9CQVJfSUNPTl9TSVpFLmhlaWdodCwgMCwgMCwge1xyXG4gICAgICBmaWxsOiBBcmVhQnVpbGRlclNoYXJlZENvbnN0YW50cy5CQUNLR1JPVU5EX0NPTE9SXHJcbiAgICB9ICkgKTtcclxuXHJcbiAgICAvLyBsZWZ0IHNoYXBlIHBsYWNlbWVudCBib2FyZCBhbmQgc2hhcGVzXHJcbiAgICBjb25zdCB1bml0U3F1YXJlTGVuZ3RoID0gMTU7XHJcbiAgICBjb25zdCBsZWZ0Qm9hcmQgPSBuZXcgR3JpZEljb24oIDQsIDQsIHVuaXRTcXVhcmVMZW5ndGgsIEFyZWFCdWlsZGVyU2hhcmVkQ29uc3RhbnRzLkdSRUVOSVNIX0NPTE9SLCBbXHJcbiAgICAgIG5ldyBWZWN0b3IyKCAxLCAxICksIG5ldyBWZWN0b3IyKCAyLCAxICksIG5ldyBWZWN0b3IyKCAxLCAyIClcclxuICAgIF0sIG1lcmdlKCB7IGxlZnQ6IE5BVl9CQVJfSUNPTl9TSVpFLndpZHRoICogMC4wNSwgdG9wOiBOQVZfQkFSX0lDT05fU0laRS5oZWlnaHQgKiAwLjEgfSwgR1JJRF9PUFRJT05TICkgKTtcclxuICAgIGljb24uYWRkQ2hpbGQoIGxlZnRCb2FyZCApO1xyXG5cclxuICAgIC8vIHJpZ2h0IHNoYXBlIHBsYWNlbWVudCBib2FyZCBhbmQgc2hhcGVzXHJcbiAgICBjb25zdCByaWdodEJvYXJkID0gbmV3IEdyaWRJY29uKCA0LCA0LCB1bml0U3F1YXJlTGVuZ3RoLCBBcmVhQnVpbGRlclNoYXJlZENvbnN0YW50cy5QVVJQTElTSF9DT0xPUiwgW1xyXG4gICAgICBuZXcgVmVjdG9yMiggMSwgMSApLCBuZXcgVmVjdG9yMiggMiwgMSApXHJcbiAgICBdLCBtZXJnZSggeyByaWdodDogTkFWX0JBUl9JQ09OX1NJWkUud2lkdGggKiAwLjk1LCB0b3A6IE5BVl9CQVJfSUNPTl9TSVpFLmhlaWdodCAqIDAuMSB9LCBHUklEX09QVElPTlMgKSApO1xyXG4gICAgaWNvbi5hZGRDaGlsZCggcmlnaHRCb2FyZCApO1xyXG5cclxuICAgIC8vIGxlZnQgYnVja2V0XHJcbiAgICBpY29uLmFkZENoaWxkKCBjcmVhdGVCdWNrZXRJY29uKCB7IGNlbnRlclg6IGxlZnRCb2FyZC5jZW50ZXJYLCB0b3A6IGxlZnRCb2FyZC5ib3R0b20gKyAyIH0gKSApO1xyXG5cclxuICAgIC8vIHJpZ2h0IGJ1Y2tldFxyXG4gICAgaWNvbi5hZGRDaGlsZCggY3JlYXRlQnVja2V0SWNvbiggeyBjZW50ZXJYOiByaWdodEJvYXJkLmNlbnRlclgsIHRvcDogcmlnaHRCb2FyZC5ib3R0b20gKyAyIH0gKSApO1xyXG5cclxuICAgIHJldHVybiBuZXcgU2NyZWVuSWNvbiggaWNvbiwge1xyXG4gICAgICBtYXhJY29uV2lkdGhQcm9wb3J0aW9uOiAxLFxyXG4gICAgICBtYXhJY29uSGVpZ2h0UHJvcG9ydGlvbjogMVxyXG4gICAgfSApO1xyXG4gIH0sXHJcblxyXG4gIGNyZWF0ZUdhbWVTY3JlZW5OYXZCYXJJY29uKCkge1xyXG5cclxuICAgIC8vIHJvb3Qgbm9kZVxyXG4gICAgY29uc3QgaWNvbiA9IG5ldyBOb2RlKCk7XHJcblxyXG4gICAgLy8gYmFja2dyb3VuZFxyXG4gICAgaWNvbi5hZGRDaGlsZCggbmV3IFJlY3RhbmdsZSggMCwgMCwgTkFWX0JBUl9JQ09OX1NJWkUud2lkdGgsIE5BVl9CQVJfSUNPTl9TSVpFLmhlaWdodCwgMCwgMCwge1xyXG4gICAgICBmaWxsOiBBcmVhQnVpbGRlclNoYXJlZENvbnN0YW50cy5CQUNLR1JPVU5EX0NPTE9SXHJcbiAgICB9ICkgKTtcclxuXHJcbiAgICAvLyBzaGFwZSBwbGFjZW1lbnQgYm9hcmQgYW5kIHNoYXBlc1xyXG4gICAgY29uc3QgdW5pdFNxdWFyZUxlbmd0aCA9IDEyO1xyXG4gICAgY29uc3Qgc2hhcGVQbGFjZW1lbnRCb2FyZCA9IG5ldyBHcmlkSWNvbiggNCwgNCwgdW5pdFNxdWFyZUxlbmd0aCwgQXJlYUJ1aWxkZXJTaGFyZWRDb25zdGFudHMuR1JFRU5JU0hfQ09MT1IsIFtcclxuICAgICAgbmV3IFZlY3RvcjIoIDEsIDEgKSwgbmV3IFZlY3RvcjIoIDIsIDEgKSwgbmV3IFZlY3RvcjIoIDIsIDIgKVxyXG4gICAgXSwgbWVyZ2UoIHsgbGVmdDogTkFWX0JBUl9JQ09OX1NJWkUud2lkdGggKiAwLjA3NSwgdG9wOiBOQVZfQkFSX0lDT05fU0laRS5oZWlnaHQgKiAwLjEgfSwgR1JJRF9PUFRJT05TICkgKTtcclxuICAgIGljb24uYWRkQ2hpbGQoIHNoYXBlUGxhY2VtZW50Qm9hcmQgKTtcclxuXHJcbiAgICAvLyBzbWlsZXkgZmFjZVxyXG4gICAgaWNvbi5hZGRDaGlsZCggbmV3IEZhY2VOb2RlKCBOQVZfQkFSX0lDT05fU0laRS53aWR0aCAqIDAuMzUsIHtcclxuICAgICAgbGVmdDogc2hhcGVQbGFjZW1lbnRCb2FyZC5yaWdodCArIDQsXHJcbiAgICAgIGNlbnRlclk6IHNoYXBlUGxhY2VtZW50Qm9hcmQuY2VudGVyWVxyXG4gICAgfSApICk7XHJcblxyXG4gICAgLy8gc2hhcGUgY2Fyb3VzZWxcclxuICAgIGNvbnN0IHNoYXBlQ2Fyb3VzZWwgPSBuZXcgUmVjdGFuZ2xlKCAwLCAwLCBOQVZfQkFSX0lDT05fU0laRS53aWR0aCAqIDAuNSwgTkFWX0JBUl9JQ09OX1NJWkUuaGVpZ2h0ICogMC4yNSwgMSwgMSwge1xyXG4gICAgICBmaWxsOiBBcmVhQnVpbGRlclNoYXJlZENvbnN0YW50cy5DT05UUk9MX1BBTkVMX0JBQ0tHUk9VTkRfQ09MT1IsXHJcbiAgICAgIHN0cm9rZTogJ2JsYWNrJyxcclxuICAgICAgbGluZVdpZHRoOiAwLjUsXHJcbiAgICAgIHRvcDogc2hhcGVQbGFjZW1lbnRCb2FyZC5ib3R0b20gKyA4LFxyXG4gICAgICBjZW50ZXJYOiBOQVZfQkFSX0lDT05fU0laRS53aWR0aCAvIDJcclxuICAgIH0gKTtcclxuICAgIGljb24uYWRkQ2hpbGQoIHNoYXBlQ2Fyb3VzZWwgKTtcclxuXHJcbiAgICAvLyBzaGFwZXMgb24gdGhlIHNoYXBlIGNhcm91c2VsXHJcbiAgICBjb25zdCBzaGFwZUZpbGwgPSBBcmVhQnVpbGRlclNoYXJlZENvbnN0YW50cy5HUkVFTklTSF9DT0xPUjtcclxuICAgIGNvbnN0IHNoYXBlU3Ryb2tlID0gbmV3IENvbG9yKCBzaGFwZUZpbGwgKS5jb2xvclV0aWxzRGFya2VyKCBBcmVhQnVpbGRlclNoYXJlZENvbnN0YW50cy5QRVJJTUVURVJfREFSS0VOX0ZBQ1RPUiApO1xyXG4gICAgY29uc3Qgc2hhcGVzID0gbmV3IEhCb3goIHtcclxuICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICBuZXcgUmVjdGFuZ2xlKCAwLCAwLCB1bml0U3F1YXJlTGVuZ3RoLCB1bml0U3F1YXJlTGVuZ3RoLCAwLCAwLCB7XHJcbiAgICAgICAgICBmaWxsOiBzaGFwZUZpbGwsXHJcbiAgICAgICAgICBzdHJva2U6IHNoYXBlU3Ryb2tlXHJcbiAgICAgICAgfSApLFxyXG4gICAgICAgIG5ldyBIQm94KCB7XHJcbiAgICAgICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgICAgICBuZXcgUmVjdGFuZ2xlKCAwLCAwLCB1bml0U3F1YXJlTGVuZ3RoLCB1bml0U3F1YXJlTGVuZ3RoLCAwLCAwLCB7XHJcbiAgICAgICAgICAgICAgZmlsbDogc2hhcGVGaWxsLFxyXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVTdHJva2VcclxuICAgICAgICAgICAgfSApLFxyXG4gICAgICAgICAgICBuZXcgUmVjdGFuZ2xlKCAwLCAwLCB1bml0U3F1YXJlTGVuZ3RoLCB1bml0U3F1YXJlTGVuZ3RoLCAwLCAwLCB7XHJcbiAgICAgICAgICAgICAgZmlsbDogc2hhcGVGaWxsLFxyXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVTdHJva2VcclxuICAgICAgICAgICAgfSApXHJcbiAgICAgICAgICBdLCBzcGFjaW5nOiAwXHJcbiAgICAgICAgfSApIF0sXHJcbiAgICAgIHNwYWNpbmc6IDIsXHJcbiAgICAgIGNlbnRlclg6IHNoYXBlQ2Fyb3VzZWwud2lkdGggLyAyLFxyXG4gICAgICBjZW50ZXJZOiBzaGFwZUNhcm91c2VsLmhlaWdodCAvIDJcclxuICAgIH0gKTtcclxuXHJcbiAgICBzaGFwZUNhcm91c2VsLmFkZENoaWxkKCBzaGFwZXMgKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFNjcmVlbkljb24oIGljb24sIHtcclxuICAgICAgbWF4SWNvbldpZHRoUHJvcG9ydGlvbjogMSxcclxuICAgICAgbWF4SWNvbkhlaWdodFByb3BvcnRpb246IDFcclxuICAgIH0gKTtcclxuICB9XHJcbn07XHJcblxyXG5hcmVhQnVpbGRlci5yZWdpc3RlciggJ0FyZWFCdWlsZGVySWNvbkZhY3RvcnknLCBBcmVhQnVpbGRlckljb25GYWN0b3J5ICk7XHJcbmV4cG9ydCBkZWZhdWx0IEFyZWFCdWlsZGVySWNvbkZhY3Rvcnk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxPQUFPLE1BQU0sK0JBQStCO0FBQ25ELE9BQU9DLE1BQU0sTUFBTSxnQ0FBZ0M7QUFDbkQsT0FBT0MsVUFBVSxNQUFNLG9DQUFvQztBQUMzRCxTQUFTQyxLQUFLLFFBQVEsZ0NBQWdDO0FBQ3RELE9BQU9DLEtBQUssTUFBTSxtQ0FBbUM7QUFDckQsT0FBT0MsUUFBUSxNQUFNLHlDQUF5QztBQUM5RCxTQUFTQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsY0FBYyxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsU0FBUyxRQUFRLG1DQUFtQztBQUN0RyxPQUFPQyxXQUFXLE1BQU0sc0JBQXNCO0FBQzlDLE9BQU9DLDBCQUEwQixNQUFNLGtDQUFrQztBQUN6RSxPQUFPQyxRQUFRLE1BQU0sZUFBZTs7QUFFcEM7QUFDQSxNQUFNQyxpQkFBaUIsR0FBR2QsTUFBTSxDQUFDZSx3QkFBd0I7QUFDekQsTUFBTUMsV0FBVyxHQUFHLElBQUk7QUFDeEIsTUFBTUMsZ0JBQWdCLEdBQUcsQ0FBQztBQUMxQixNQUFNQyxZQUFZLEdBQUc7RUFDbkJDLGdCQUFnQixFQUFFLE9BQU87RUFDekJDLG1CQUFtQixFQUFFLEdBQUc7RUFDeEJDLFVBQVUsRUFBRUwsV0FBVztFQUN2Qk0sY0FBYyxFQUFFTDtBQUNsQixDQUFDO0FBRUQsU0FBU00sZ0JBQWdCQSxDQUFFQyxPQUFPLEVBQUc7RUFDbkMsTUFBTUMsSUFBSSxHQUFHLElBQUlqQixJQUFJLENBQUMsQ0FBQztFQUN2QixNQUFNa0IsY0FBYyxH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