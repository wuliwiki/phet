// Copyright 2014-2022, University of Colorado Boulder

/**
 * Panel that contains controls for turning various tools on and off for the Area Builder game. It is dynamic in the
 * sense that different elements of the panel come and go.
 *
 * @author John Blanco
 */

import Property from '../../../../axon/js/Property.js';
import Bounds2 from '../../../../dot/js/Bounds2.js';
import { Node, VBox } from '../../../../scenery/js/imports.js';
import Checkbox from '../../../../sun/js/Checkbox.js';
import Panel from '../../../../sun/js/Panel.js';
import areaBuilder from '../../areaBuilder.js';
import AreaBuilderSharedConstants from '../AreaBuilderSharedConstants.js';
import DimensionsIcon from './DimensionsIcon.js';
import Grid from './Grid.js';

// constants
const BACKGROUND_COLOR = AreaBuilderSharedConstants.CONTROL_PANEL_BACKGROUND_COLOR;
const PANEL_OPTIONS = {
  fill: BACKGROUND_COLOR,
  yMargin: 10,
  xMargin: 20
};
class AreaBuilderControlPanel extends Node {
  /**
   * @param showGridProperty
   * @param showDimensionsProperty
   * @param {Object} [options]
   */
  constructor(showGridProperty, showDimensionsProperty, options) {
    super();

    // Properties that control which elements are visible and which are hidden.  This constitutes the primary API.
    this.gridControlVisibleProperty = new Property(true);
    this.dimensionsControlVisibleProperty = new Property(true);

    // Create the controls and labels
    const gridCheckbox = new Checkbox(showGridProperty, new Grid(new Bounds2(0, 0, 40, 40), 10, {
      stroke: '#b0b0b0'
    }), {
      spacing: 15
    });
    this.dimensionsIcon = new DimensionsIcon(); // @public so that the icon style can be set
    const dimensionsCheckbox = new Checkbox(showDimensionsProperty, this.dimensionsIcon, {
      spacing: 15
    });

    // Create the panel.
    const vBox = new VBox({
      children: [gridCheckbox, dimensionsCheckbox],
      spacing: 8,
      align: 'left'
    });
    this.addChild(new Panel(vBox, PANEL_OPTIONS));

    // Add/remove the grid visibility control.
    this.gridControlVisibleProperty.link(gridControlVisible => {
      if (gridControlVisible && !vBox.hasChild(gridCheckbox)) {
        vBox.insertChild(0, gridCheckbox);
      } else if (!gridControlVisible && vBox.hasChild(gridCheckbox)) {
        vBox.removeChild(gridCheckbox);
      }
    });

    // Add/remove the dimension visibility control.
    this.dimensionsControlVisibleProperty.link(dimensionsControlVisible => {
      if (dimensionsControlVisible && !vBox.hasChild(dimensionsCheckbox)) {
        // Insert at bottom.
        vBox.insertChild(vBox.getChildrenCount(), dimensionsCheckbox);
      } else if (!dimensionsControlVisible && vBox.hasChild(dimensionsCheckbox)) {
        vBox.removeChild(dimensionsCheckbox);
      }
    });
    this.mutate(options);
  }
}
areaBuilder.register('AreaBuilderControlPanel', AreaBuilderControlPanel);
export default AreaBuilderControlPanel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIkJvdW5kczIiLCJOb2RlIiwiVkJveCIsIkNoZWNrYm94IiwiUGFuZWwiLCJhcmVhQnVpbGRlciIsIkFyZWFCdWlsZGVyU2hhcmVkQ29uc3RhbnRzIiwiRGltZW5zaW9uc0ljb24iLCJHcmlkIiwiQkFDS0dST1VORF9DT0xPUiIsIkNPTlRST0xfUEFORUxfQkFDS0dST1VORF9DT0xPUiIsIlBBTkVMX09QVElPTlMiLCJmaWxsIiwieU1hcmdpbiIsInhNYXJnaW4iLCJBcmVhQnVpbGRlckNvbnRyb2xQYW5lbCIsImNvbnN0cnVjdG9yIiwic2hvd0dyaWRQcm9wZXJ0eSIsInNob3dEaW1lbnNpb25zUHJvcGVydHkiLCJvcHRpb25zIiwiZ3JpZENvbnRyb2xWaXNpYmxlUHJvcGVydHkiLCJkaW1lbnNpb25zQ29udHJvbFZpc2libGVQcm9wZXJ0eSIsImdyaWRDaGVja2JveCIsInN0cm9rZSIsInNwYWNpbmciLCJkaW1lbnNpb25zSWNvbiIsImRpbWVuc2lvbnNDaGVja2JveCIsInZCb3giLCJjaGlsZHJlbiIsImFsaWduIiwiYWRkQ2hpbGQiLCJsaW5rIiwiZ3JpZENvbnRyb2xWaXNpYmxlIiwiaGFzQ2hpbGQiLCJpbnNlcnRDaGlsZCIsInJlbW92ZUNoaWxkIiwiZGltZW5zaW9uc0NvbnRyb2xWaXNpYmxlIiwiZ2V0Q2hpbGRyZW5Db3VudCIsIm11dGF0ZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQXJlYUJ1aWxkZXJDb250cm9sUGFuZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTQtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogUGFuZWwgdGhhdCBjb250YWlucyBjb250cm9scyBmb3IgdHVybmluZyB2YXJpb3VzIHRvb2xzIG9uIGFuZCBvZmYgZm9yIHRoZSBBcmVhIEJ1aWxkZXIgZ2FtZS4gSXQgaXMgZHluYW1pYyBpbiB0aGVcclxuICogc2Vuc2UgdGhhdCBkaWZmZXJlbnQgZWxlbWVudHMgb2YgdGhlIHBhbmVsIGNvbWUgYW5kIGdvLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvaG4gQmxhbmNvXHJcbiAqL1xyXG5cclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgQm91bmRzMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvQm91bmRzMi5qcyc7XHJcbmltcG9ydCB7IE5vZGUsIFZCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL0NoZWNrYm94LmpzJztcclxuaW1wb3J0IFBhbmVsIGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9QYW5lbC5qcyc7XHJcbmltcG9ydCBhcmVhQnVpbGRlciBmcm9tICcuLi8uLi9hcmVhQnVpbGRlci5qcyc7XHJcbmltcG9ydCBBcmVhQnVpbGRlclNoYXJlZENvbnN0YW50cyBmcm9tICcuLi9BcmVhQnVpbGRlclNoYXJlZENvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBEaW1lbnNpb25zSWNvbiBmcm9tICcuL0RpbWVuc2lvbnNJY29uLmpzJztcclxuaW1wb3J0IEdyaWQgZnJvbSAnLi9HcmlkLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBCQUNLR1JPVU5EX0NPTE9SID0gQXJlYUJ1aWxkZXJTaGFyZWRDb25zdGFudHMuQ09OVFJPTF9QQU5FTF9CQUNLR1JPVU5EX0NPTE9SO1xyXG5jb25zdCBQQU5FTF9PUFRJT05TID0geyBmaWxsOiBCQUNLR1JPVU5EX0NPTE9SLCB5TWFyZ2luOiAxMCwgeE1hcmdpbjogMjAgfTtcclxuXHJcbmNsYXNzIEFyZWFCdWlsZGVyQ29udHJvbFBhbmVsIGV4dGVuZHMgTm9kZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBzaG93R3JpZFByb3BlcnR5XHJcbiAgICogQHBhcmFtIHNob3dEaW1lbnNpb25zUHJvcGVydHlcclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIHNob3dHcmlkUHJvcGVydHksIHNob3dEaW1lbnNpb25zUHJvcGVydHksIG9wdGlvbnMgKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIC8vIFByb3BlcnRpZXMgdGhhdCBjb250cm9sIHdoaWNoIGVsZW1lbnRzIGFyZSB2aXNpYmxlIGFuZCB3aGljaCBhcmUgaGlkZGVuLiAgVGhpcyBjb25zdGl0dXRlcyB0aGUgcHJpbWFyeSBBUEkuXHJcbiAgICB0aGlzLmdyaWRDb250cm9sVmlzaWJsZVByb3BlcnR5ID0gbmV3IFByb3BlcnR5KCB0cnVlICk7XHJcbiAgICB0aGlzLmRpbWVuc2lvbnNDb250cm9sVmlzaWJsZVByb3BlcnR5ID0gbmV3IFByb3BlcnR5KCB0cnVlICk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBjb250cm9scyBhbmQgbGFiZWxzXHJcbiAgICBjb25zdCBncmlkQ2hlY2tib3ggPSBuZXcgQ2hlY2tib3goIHNob3dHcmlkUHJvcGVydHksIG5ldyBHcmlkKCBuZXcgQm91bmRzMiggMCwgMCwgNDAsIDQwICksIDEwLCB7IHN0cm9rZTogJyNiMGIwYjAnIH0gKSwgeyBzcGFjaW5nOiAxNSB9ICk7XHJcbiAgICB0aGlzLmRpbWVuc2lvbnNJY29uID0gbmV3IERpbWVuc2lvbnNJY29uKCk7IC8vIEBwdWJsaWMgc28gdGhhdCB0aGUgaWNvbiBzdHlsZSBjYW4gYmUgc2V0XHJcbiAgICBjb25zdCBkaW1lbnNpb25zQ2hlY2tib3ggPSBuZXcgQ2hlY2tib3goIHNob3dEaW1lbnNpb25zUHJvcGVydHksIHRoaXMuZGltZW5zaW9uc0ljb24sIHsgc3BhY2luZzogMTUgfSApO1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgcGFuZWwuXHJcbiAgICBjb25zdCB2Qm94ID0gbmV3IFZCb3goIHtcclxuICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICBncmlkQ2hlY2tib3gsXHJcbiAgICAgICAgZGltZW5zaW9uc0NoZWNrYm94XHJcbiAgICAgIF0sXHJcbiAgICAgIHNwYWNpbmc6IDgsXHJcbiAgICAgIGFsaWduOiAnbGVmdCdcclxuICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIG5ldyBQYW5lbCggdkJveCwgUEFORUxfT1BUSU9OUyApICk7XHJcblxyXG4gICAgLy8gQWRkL3JlbW92ZSB0aGUgZ3JpZCB2aXNpYmlsaXR5IGNvbnRyb2wuXHJcbiAgICB0aGlzLmdyaWRDb250cm9sVmlzaWJsZVByb3BlcnR5LmxpbmsoIGdyaWRDb250cm9sVmlzaWJsZSA9PiB7XHJcbiAgICAgIGlmICggZ3JpZENvbnRyb2xWaXNpYmxlICYmICF2Qm94Lmhhc0NoaWxkKCBncmlkQ2hlY2tib3ggKSApIHtcclxuICAgICAgICB2Qm94Lmluc2VydENoaWxkKCAwLCBncmlkQ2hlY2tib3ggKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICggIWdyaWRDb250cm9sVmlzaWJsZSAmJiB2Qm94Lmhhc0NoaWxkKCBncmlkQ2hlY2tib3ggKSApIHtcclxuICAgICAgICB2Qm94LnJlbW92ZUNoaWxkKCBncmlkQ2hlY2tib3ggKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIEFkZC9yZW1vdmUgdGhlIGRpbWVuc2lvbiB2aXNpYmlsaXR5IGNvbnRyb2wuXHJcbiAgICB0aGlzLmRpbWVuc2lvbnNDb250cm9sVmlzaWJsZVByb3BlcnR5LmxpbmsoIGRpbWVuc2lvbnNDb250cm9sVmlzaWJsZSA9PiB7XHJcbiAgICAgIGlmICggZGltZW5zaW9uc0NvbnRyb2xWaXNpYmxlICYmICF2Qm94Lmhhc0NoaWxkKCBkaW1lbnNpb25zQ2hlY2tib3ggKSApIHtcclxuICAgICAgICAvLyBJbnNlcnQgYXQgYm90dG9tLlxyXG4gICAgICAgIHZCb3guaW5zZXJ0Q2hpbGQoIHZCb3guZ2V0Q2hpbGRyZW5Db3VudCgpLCBkaW1lbnNpb25zQ2hlY2tib3ggKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICggIWRpbWVuc2lvbnNDb250cm9sVmlzaWJsZSAmJiB2Qm94Lmhhc0NoaWxkKCBkaW1lbnNpb25zQ2hlY2tib3ggKSApIHtcclxuICAgICAgICB2Qm94LnJlbW92ZUNoaWxkKCBkaW1lbnNpb25zQ2hlY2tib3ggKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMubXV0YXRlKCBvcHRpb25zICk7XHJcbiAgfVxyXG59XHJcblxyXG5hcmVhQnVpbGRlci5yZWdpc3RlciggJ0FyZWFCdWlsZGVyQ29udHJvbFBhbmVsJywgQXJlYUJ1aWxkZXJDb250cm9sUGFuZWwgKTtcclxuZXhwb3J0IGRlZmF1bHQgQXJlYUJ1aWxkZXJDb250cm9sUGFuZWw7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsUUFBUSxNQUFNLGlDQUFpQztBQUN0RCxPQUFPQyxPQUFPLE1BQU0sK0JBQStCO0FBQ25ELFNBQVNDLElBQUksRUFBRUMsSUFBSSxRQUFRLG1DQUFtQztBQUM5RCxPQUFPQyxRQUFRLE1BQU0sZ0NBQWdDO0FBQ3JELE9BQU9DLEtBQUssTUFBTSw2QkFBNkI7QUFDL0MsT0FBT0MsV0FBVyxNQUFNLHNCQUFzQjtBQUM5QyxPQUFPQywwQkFBMEIsTUFBTSxrQ0FBa0M7QUFDekUsT0FBT0MsY0FBYyxNQUFNLHFCQUFxQjtBQUNoRCxPQUFPQyxJQUFJLE1BQU0sV0FBVzs7QUFFNUI7QUFDQSxNQUFNQyxnQkFBZ0IsR0FBR0gsMEJBQTBCLENBQUNJLDhCQUE4QjtBQUNsRixNQUFNQyxhQUFhLEdBQUc7RUFBRUMsSUFBSSxFQUFFSCxnQkFBZ0I7RUFBRUksT0FBTyxFQUFFLEVBQUU7RUFBRUMsT0FBTyxFQUFFO0FBQUcsQ0FBQztBQUUxRSxNQUFNQyx1QkFBdUIsU0FBU2QsSUFBSSxDQUFDO0VBRXpDO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRWUsV0FBV0EsQ0FBRUMsZ0JBQWdCLEVBQUVD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