// Copyright 2013-2022, University of Colorado Boulder

/**
 * Model of a shaker, contains solute in solid form.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import Multilink from '../../../../axon/js/Multilink.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import optionize from '../../../../phet-core/js/optionize.js';
import BooleanIO from '../../../../tandem/js/types/BooleanIO.js';
import beersLawLab from '../../beersLawLab.js';
import BLLMovable from '../../common/model/BLLMovable.js';
import SoluteForm from './SoluteForm.js';
export default class Shaker extends BLLMovable {
  constructor(soluteProperty, soluteFormProperty, providedOptions) {
    const options = optionize()({
      // SelfOptions
      orientation: 0,
      visible: true,
      maxDispensingRate: 1,
      // BLLMovableOptions
      phetioState: false
    }, providedOptions);
    super(options);
    this.orientation = options.orientation;
    this.maxDispensingRate = options.maxDispensingRate;
    this.soluteProperty = soluteProperty;
    this.visibleProperty = new DerivedProperty([soluteFormProperty], soluteForm => soluteForm === SoluteForm.SOLID, {
      tandem: options.tandem.createTandem('visibleProperty'),
      phetioValueType: BooleanIO
    });
    this.isEmptyProperty = new BooleanProperty(false, {
      tandem: options.tandem.createTandem('isEmptyProperty'),
      phetioReadOnly: true
    });
    this.dispensingRateProperty = new NumberProperty(0, {
      units: 'mol/s',
      isValidValue: value => value >= 0,
      tandem: options.tandem.createTandem('dispensingRateProperty'),
      phetioReadOnly: true
    });
    this.previousPosition = this.positionProperty.value;

    // Set the dispensing rate to zero when the shaker becomes empty or invisible.
    Multilink.multilink([this.isEmptyProperty, this.visibleProperty], (isEmpty, visible) => {
      if (isEmpty || !visible) {
        this.dispensingRateProperty.value = 0;
      }
    });

    // If the position changes while restoring PhET-iO state, then set previousPosition to position to prevent the
    // shaker from effective being moved and dispensing solute. See https://github.com/phetsims/beers-law-lab/issues/247.
    this.positionProperty.link(position => {
      if (phet.joist.sim.isSettingPhetioStateProperty.value) {
        this.previousPosition = position;
      }
    });
    this.addLinkedElement(soluteProperty, {
      tandem: options.tandem.createTandem('soluteProperty')
    });
  }
  reset() {
    super.reset();
    this.isEmptyProperty.reset();
    this.dispensingRateProperty.reset();

    // to prevent shaker from dispensing solute when its position is reset
    this.previousPosition = this.positionProperty.value;
  }

  /**
   * Sets the dispensing rate if the shaker is moving.
   */
  step() {
    if (this.visibleProperty.value && !this.isEmptyProperty.value) {
      if (this.previousPosition.equals(this.positionProperty.value)) {
        this.dispensingRateProperty.value = 0; // shaker is not moving, don't dispense anything
      } else {
        this.dispensingRateProperty.value = this.maxDispensingRate; // max rate seems to work fine
      }
    }

    this.previousPosition = this.positionProperty.value;
  }
}
beersLawLab.register('Shaker', Shaker);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJEZXJpdmVkUHJvcGVydHkiLCJNdWx0aWxpbmsiLCJOdW1iZXJQcm9wZXJ0eSIsIm9wdGlvbml6ZSIsIkJvb2xlYW5JTyIsImJlZXJzTGF3TGFiIiwiQkxMTW92YWJsZSIsIlNvbHV0ZUZvcm0iLCJTaGFrZXIiLCJjb25zdHJ1Y3RvciIsInNvbHV0ZVByb3BlcnR5Iiwic29sdXRlRm9ybVByb3BlcnR5IiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsIm9yaWVudGF0aW9uIiwidmlzaWJsZSIsIm1heERpc3BlbnNpbmdSYXRlIiwicGhldGlvU3RhdGUiLCJ2aXNpYmxlUHJvcGVydHkiLCJzb2x1dGVGb3JtIiwiU09MSUQiLCJ0YW5kZW0iLCJjcmVhdGVUYW5kZW0iLCJwaGV0aW9WYWx1ZVR5cGUiLCJpc0VtcHR5UHJvcGVydHkiLCJwaGV0aW9SZWFkT25seSIsImRpc3BlbnNpbmdSYXRlUHJvcGVydHkiLCJ1bml0cyIsImlzVmFsaWRWYWx1ZSIsInZhbHVlIiwicHJldmlvdXNQb3NpdGlvbiIsInBvc2l0aW9uUHJvcGVydHkiLCJtdWx0aWxpbmsiLCJpc0VtcHR5IiwibGluayIsInBvc2l0aW9uIiwicGhldCIsImpvaXN0Iiwic2ltIiwiaXNTZXR0aW5nUGhldGlvU3RhdGVQcm9wZXJ0eSIsImFkZExpbmtlZEVsZW1lbnQiLCJyZXNldCIsInN0ZXAiLCJlcXVhbHMiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlNoYWtlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxMy0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBNb2RlbCBvZiBhIHNoYWtlciwgY29udGFpbnMgc29sdXRlIGluIHNvbGlkIGZvcm0uXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IEJvb2xlYW5Qcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Jvb2xlYW5Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgRW51bWVyYXRpb25Qcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0VudW1lcmF0aW9uUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgTXVsdGlsaW5rIGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvTXVsdGlsaW5rLmpzJztcclxuaW1wb3J0IE51bWJlclByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvTnVtYmVyUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgQm9vbGVhbklPIGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy90eXBlcy9Cb29sZWFuSU8uanMnO1xyXG5pbXBvcnQgYmVlcnNMYXdMYWIgZnJvbSAnLi4vLi4vYmVlcnNMYXdMYWIuanMnO1xyXG5pbXBvcnQgQkxMTW92YWJsZSwgeyBCTExNb3ZhYmxlT3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbi9tb2RlbC9CTExNb3ZhYmxlLmpzJztcclxuaW1wb3J0IFNvbHV0ZSBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvU29sdXRlLmpzJztcclxuaW1wb3J0IFNvbHV0ZUZvcm0gZnJvbSAnLi9Tb2x1dGVGb3JtLmpzJztcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSB7XHJcbiAgb3JpZW50YXRpb24/OiBudW1iZXI7IC8vIHJhZGlhbnNcclxuICB2aXNpYmxlPzogYm9vbGVhbjtcclxuICBtYXhEaXNwZW5zaW5nUmF0ZT86IG51bWJlcjsgLy8gTC9zXHJcbn07XHJcblxyXG50eXBlIFNoYWtlck9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIEJMTE1vdmFibGVPcHRpb25zO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hha2VyIGV4dGVuZHMgQkxMTW92YWJsZSB7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBvcmllbnRhdGlvbjogbnVtYmVyO1xyXG4gIHB1YmxpYyByZWFkb25seSBtYXhEaXNwZW5zaW5nUmF0ZTogbnVtYmVyO1xyXG4gIHB1YmxpYyByZWFkb25seSBzb2x1dGVQcm9wZXJ0eTogUHJvcGVydHk8U29sdXRlPjtcclxuICBwdWJsaWMgcmVhZG9ubHkgdmlzaWJsZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPjtcclxuICBwdWJsaWMgcmVhZG9ubHkgaXNFbXB0eVByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZGlzcGVuc2luZ1JhdGVQcm9wZXJ0eTogUHJvcGVydHk8bnVtYmVyPjtcclxuICBwcml2YXRlIHByZXZpb3VzUG9zaXRpb246IFZlY3RvcjI7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvciggc29sdXRlUHJvcGVydHk6IFByb3BlcnR5PFNvbHV0ZT4sIHNvbHV0ZUZvcm1Qcm9wZXJ0eTogRW51bWVyYXRpb25Qcm9wZXJ0eTxTb2x1dGVGb3JtPixcclxuICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkT3B0aW9uczogU2hha2VyT3B0aW9ucyApIHtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPFNoYWtlck9wdGlvbnMsIFNlbGZPcHRpb25zLCBCTExNb3ZhYmxlT3B0aW9ucz4oKSgge1xyXG5cclxuICAgICAgLy8gU2VsZk9wdGlvbnNcclxuICAgICAgb3JpZW50YXRpb246IDAsXHJcbiAgICAgIHZpc2libGU6IHRydWUsXHJcbiAgICAgIG1heERpc3BlbnNpbmdSYXRlOiAxLFxyXG5cclxuICAgICAgLy8gQkxMTW92YWJsZU9wdGlvbnNcclxuICAgICAgcGhldGlvU3RhdGU6IGZhbHNlXHJcbiAgICB9LCBwcm92aWRlZE9wdGlvbnMgKTtcclxuXHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG5cclxuICAgIHRoaXMub3JpZW50YXRpb24gPSBvcHRpb25zLm9yaWVudGF0aW9uO1xyXG4gICAgdGhpcy5tYXhEaXNwZW5zaW5nUmF0ZSA9IG9wdGlvbnMubWF4RGlzcGVuc2luZ1JhdGU7XHJcblxyXG4gICAgdGhpcy5zb2x1dGVQcm9wZXJ0eSA9IHNvbHV0ZVByb3BlcnR5O1xyXG5cclxuICAgIHRoaXMudmlzaWJsZVByb3BlcnR5ID0gbmV3IERlcml2ZWRQcm9wZXJ0eSggWyBzb2x1dGVGb3JtUHJvcGVydHkgXSxcclxuICAgICAgc29sdXRlRm9ybSA9PiAoIHNvbHV0ZUZvcm0gPT09IFNvbHV0ZUZvcm0uU09MSUQgKSwge1xyXG4gICAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAndmlzaWJsZVByb3BlcnR5JyApLFxyXG4gICAgICAgIHBoZXRpb1ZhbHVlVHlwZTogQm9vbGVhbklPXHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmlzRW1wdHlQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlLCB7XHJcbiAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnaXNFbXB0eVByb3BlcnR5JyApLFxyXG4gICAgICBwaGV0aW9SZWFkT25seTogdHJ1ZVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuZGlzcGVuc2luZ1JhdGVQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggMCwge1xyXG4gICAgICB1bml0czogJ21vbC9zJyxcclxuICAgICAgaXNWYWxpZFZhbHVlOiB2YWx1ZSA9PiAoIHZhbHVlID49IDAgKSxcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdkaXNwZW5zaW5nUmF0ZVByb3BlcnR5JyApLFxyXG4gICAgICBwaGV0aW9SZWFkT25seTogdHJ1ZVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IHRoaXMucG9zaXRpb25Qcm9wZXJ0eS52YWx1ZTtcclxuXHJcbiAgICAvLyBTZXQgdGhlIGRpc3BlbnNpbmcgcmF0ZSB0byB6ZXJvIHdoZW4gdGhlIHNoYWtlciBiZWNvbWVzIGVtcHR5IG9yIGludmlzaWJsZS5cclxuICAgIE11bHRpbGluay5tdWx0aWxpbmsoIFsgdGhpcy5pc0VtcHR5UHJvcGVydHksIHRoaXMudmlzaWJsZVByb3BlcnR5IF0sICggaXNFbXB0eSwgdmlzaWJsZSApID0+IHtcclxuICAgICAgaWYgKCBpc0VtcHR5IHx8ICF2aXNpYmxlICkge1xyXG4gICAgICAgIHRoaXMuZGlzcGVuc2luZ1JhdGVQcm9wZXJ0eS52YWx1ZSA9IDA7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBJZiB0aGUgcG9zaXRpb24gY2hhbmdlcyB3aGlsZSByZXN0b3JpbmcgUGhFVC1pTyBzdGF0ZSwgdGhlbiBzZXQgcHJldmlvdXNQb3NpdGlvbiB0byBwb3NpdGlvbiB0byBwcmV2ZW50IHRoZVxyXG4gICAgLy8gc2hha2VyIGZyb20gZWZmZWN0aXZlIGJlaW5nIG1vdmVkIGFuZCBkaXNwZW5zaW5nIHNvbHV0ZS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9iZWVycy1sYXctbGFiL2lzc3Vlcy8yNDcuXHJcbiAgICB0aGlzLnBvc2l0aW9uUHJvcGVydHkubGluayggcG9zaXRpb24gPT4ge1xyXG4gICAgICBpZiAoIHBoZXQuam9pc3Quc2ltLmlzU2V0dGluZ1BoZXRpb1N0YXRlUHJvcGVydHkudmFsdWUgKSB7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmFkZExpbmtlZEVsZW1lbnQoIHNvbHV0ZVByb3BlcnR5LCB7XHJcbiAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnc29sdXRlUHJvcGVydHknIClcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNldCgpOiB2b2lkIHtcclxuICAgIHN1cGVyLnJlc2V0KCk7XHJcbiAgICB0aGlzLmlzRW1wdHlQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5kaXNwZW5zaW5nUmF0ZVByb3BlcnR5LnJlc2V0KCk7XHJcblxyXG4gICAgLy8gdG8gcHJldmVudCBzaGFrZXIgZnJvbSBkaXNwZW5zaW5nIHNvbHV0ZSB3aGVuIGl0cyBwb3NpdGlvbiBpcyByZXNldFxyXG4gICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID0gdGhpcy5wb3NpdGlvblByb3BlcnR5LnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgZGlzcGVuc2luZyByYXRlIGlmIHRoZSBzaGFrZXIgaXMgbW92aW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGVwKCk6IHZvaWQge1xyXG4gICAgaWYgKCB0aGlzLnZpc2libGVQcm9wZXJ0eS52YWx1ZSAmJiAhdGhpcy5pc0VtcHR5UHJvcGVydHkudmFsdWUgKSB7XHJcbiAgICAgIGlmICggdGhpcy5wcmV2aW91c1Bvc2l0aW9uLmVxdWFscyggdGhpcy5wb3NpdGlvblByb3BlcnR5LnZhbHVlICkgKSB7XHJcbiAgICAgICAgdGhpcy5kaXNwZW5zaW5nUmF0ZVByb3BlcnR5LnZhbHVlID0gMDsgLy8gc2hha2VyIGlzIG5vdCBtb3ZpbmcsIGRvbid0IGRpc3BlbnNlIGFueXRoaW5nXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy5kaXNwZW5zaW5nUmF0ZVByb3BlcnR5LnZhbHVlID0gdGhpcy5tYXhEaXNwZW5zaW5nUmF0ZTsgLy8gbWF4IHJhdGUgc2VlbXMgdG8gd29yayBmaW5lXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IHRoaXMucG9zaXRpb25Qcm9wZXJ0eS52YWx1ZTtcclxuICB9XHJcbn1cclxuXHJcbmJlZXJzTGF3TGFiLnJlZ2lzdGVyKCAnU2hha2VyJywgU2hha2VyICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsT0FBT0MsZUFBZSxNQUFNLHdDQUF3QztBQUVwRSxPQUFPQyxTQUFTLE1BQU0sa0NBQWtDO0FBQ3hELE9BQU9DLGNBQWMsTUFBTSx1Q0FBdUM7QUFJbEUsT0FBT0MsU0FBUyxNQUFNLHVDQUF1QztBQUM3RCxPQUFPQyxTQUFTLE1BQU0sMENBQTBDO0FBQ2hFLE9BQU9DLFdBQVcsTUFBTSxzQkFBc0I7QUFDOUMsT0FBT0MsVUFBVSxNQUE2QixrQ0FBa0M7QUFFaEYsT0FBT0MsVUFBVSxNQUFNLGlCQUFpQjtBQVV4QyxlQUFlLE1BQU1DLE1BQU0sU0FBU0YsVUFBVSxDQUFDO0VBVXRDRyxXQUFXQSxDQUFFQyxjQUFnQyxFQUFFQyxrQkFBbUQsRUFDckZDLGVBQThCLEVBQUc7SUFFbkQsTUFBTUMsT0FBTyxHQUFHVixTQUFTLENBQWdELENBQUMsQ0FBRTtNQUUxRTtNQUNBVyxXQUFXLEVBQUUsQ0FBQztNQUNkQyxPQUFPLEVBQUUsSUFBSTtNQUNiQyxpQkFBaUIsRUFBRSxDQUFDO01BRXBCO01BQ0FDLFdBQVcsRUFBRTtJQUNmLENBQUMsRUFBRUwsZUFBZ0IsQ0FBQztJQUVwQixLQUFLLENBQUVDLE9BQVEsQ0FBQztJQUVoQixJQUFJLENBQUNDLFdBQVcsR0FBR0QsT0FBTyxDQUFDQyxXQUFXO0lBQ3RDLElBQUksQ0FBQ0UsaUJBQWlCLEdBQUdILE9BQU8sQ0FBQ0csaUJBQWlCO0lBRWxELElBQUksQ0FBQ04sY0FBYyxHQUFHQSxjQUFjO0lBRXBDLElBQUksQ0FBQ1EsZUFBZSxHQUFHLElBQUlsQixlQUFlLENBQUUsQ0FBRVcsa0JBQWtCLENBQUUsRUFDaEVRLFVBQVUsSUFBTUEsVUFBVSxLQUFLWixVQUFVLENBQUNhLEtBQU8sRUFBRTtNQUNqREMsTUFBTSxFQUFFUixPQUFPLENBQUNRLE1BQU0sQ0FBQ0MsWUFBWSxDQUFFLGlCQUFrQixDQUFDO01BQ3hEQyxlQUFlLEVBQUVuQjtJQUNuQixDQUFFLENBQUM7SUFFTCxJQUFJLENBQUNvQixlQUFlLEdBQUcsSUFBSXpCLGVBQWUsQ0FBRSxLQUFLLEVBQUU7TUFDakRzQixNQUFNLEVBQUVSLE9BQU8sQ0FBQ1EsTUFBTSxDQUFDQyxZQUFZLENBQUUsaUJBQWtCLENBQUM7TUFDeERHLGNBQWMsRUFBRTtJQUNsQixDQUFFLENBQUM7SUFFSCxJQUFJLENBQUNDLHNCQUFzQixHQUFHLElBQUl4QixjQUFjLENBQUUsQ0FBQyxFQUFFO01BQ25EeUIsS0FBSyxFQUFFLE9BQU87TUFDZEMsWUFBWSxFQUFFQyxLQUFLLElBQU1BLEtBQUssSUFBSSxDQUFHO01BQ3JDUixNQUFNLEVBQUVSLE9BQU8sQ0FBQ1EsTUFBTSxDQUFDQyxZQUFZLENBQUUsd0JBQXlCLENBQUM7TUFDL0RHLGNBQWMsRUFBRTtJQUNsQixDQUFFLENBQUM7SUFFSCxJQUFJLENBQUNLLGdCQUFnQixHQUFHLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNGLEtBQUs7O0lBRW5EO0lBQ0E1QixTQUFTLENBQUMrQixTQUFTLENBQUUsQ0FBRSxJQUFJLENBQUNSLGVBQWUsRUFBRSxJQUFJLENBQUNOLGVBQWUsQ0FBRSxFQUFFLENBQUVlLE9BQU8sRUFBRWxCLE9BQU8sS0FBTTtNQUMzRixJQUFLa0IsT0FBTyxJQUFJLENBQUNsQixPQUFPLEVBQUc7UUFDekIsSUFBSSxDQUFDVyxzQkFBc0IsQ0FBQ0csS0FBSyxHQUFHLENBQUM7TUFDdkM7SUFDRixDQUFFLENBQUM7O0lBRUg7SUFDQTtJQUNBLElBQUksQ0FBQ0UsZ0JBQWdCLENBQUNHLElBQUksQ0FBRUMsUUFBUSxJQUFJO01BQ3RDLElBQUtDLElBQUksQ0FBQ0MsS0FBSyxDQUFDQyxHQUFHLENBQUNDLDRCQUE0QixDQUFDVixLQUFLLEVBQUc7UUFDdkQsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR0ssUUFBUTtNQUNsQztJQUNGLENBQUUsQ0FBQztJQUVILElBQUksQ0FBQ0ssZ0JBQWdCLENBQUU5QixjQUFjLEVBQUU7TUFDckNXLE1BQU0sRUFBRVIsT0FBTyxDQUFDUSxNQUFNLENBQUNDLFlBQVksQ0FBRSxnQkFBaUI7SUFDeEQsQ0FBRSxDQUFDO0VBQ0w7RUFFZ0JtQixLQUFLQSxDQUFBLEVBQVM7SUFDNUIsS0FBSyxDQUFDQSxLQUFLLENBQUMsQ0FBQztJQUNiLElBQUksQ0FBQ2pCLGVBQWUsQ0FBQ2lCLEtBQUssQ0FBQyxDQUFDO0lBQzVCLElBQUksQ0FBQ2Ysc0JBQXNCLENBQUNlLEtBQUssQ0FBQyxDQUFDOztJQUVuQztJQUNBLElBQUksQ0FBQ1gsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQ0YsS0FBSztFQUNyRDs7RUFFQTtBQUNGO0FBQ0E7RUFDU2EsSUFBSUEsQ0FBQSxFQUFTO0lBQ2xCLElBQUssSUFBSSxDQUFDeEIsZUFBZSxDQUFDVyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUNMLGVBQWUsQ0FBQ0ssS0FBSyxFQUFHO01BQy9ELElBQUssSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQ2EsTUFBTSxDQUFFLElBQUksQ0FBQ1osZ0JBQWdCLENBQUNGLEtBQU0sQ0FBQyxFQUFHO1FBQ2pFLElBQUksQ0FBQ0gsc0JBQXNCLENBQUNHLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztNQUN6QyxDQUFDLE1BQ0k7UUFDSCxJQUFJLENBQUNILHNCQUFzQixDQUFDRyxLQUFLLEdBQUcsSUFBSSxDQUFDYixpQkFBaUIsQ0FBQyxDQUFDO01BQzlEO0lBQ0Y7O0lBQ0EsSUFBSSxDQUFDYyxnQkFBZ0IsR0FBRyxJQUFJLENBQUNDLGdCQUFnQixDQUFDRixLQUFLO0VBQ3JEO0FBQ0Y7QUFFQXhCLFdBQVcsQ0FBQ3VDLFFBQVEsQ0FBRSxRQUFRLEVBQUVwQyxNQUFPLENBQUMifQ==