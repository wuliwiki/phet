// Copyright 2013-2022, University of Colorado Boulder

/**
 * BeersLawSolution is the solution model for the Beer's Law screen.
 *
 * The numeric values for specific solutions were arrived at by running lab experiments,
 * and are documented in doc/Beers-Law-Lab-design.pdf and doc/BeersLawLabData.xlsx.
 *
 * Note that this model does not use the Solute model from the Concentration screen, because
 * we have very different needs wrt color scheme, properties, etc.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import RangeWithValue from '../../../../dot/js/RangeWithValue.js';
import Utils from '../../../../dot/js/Utils.js';
import { Color } from '../../../../scenery/js/imports.js';
import PhetioObject from '../../../../tandem/js/PhetioObject.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import IOType from '../../../../tandem/js/types/IOType.js';
import ReferenceIO from '../../../../tandem/js/types/ReferenceIO.js';
import beersLawLab from '../../beersLawLab.js';
import ColorRange from '../../common/model/ColorRange.js';
import Solute from '../../common/model/Solute.js';
import Solvent from '../../common/model/Solvent.js';
import ConcentrationTransform from './ConcentrationTransform.js';
import MolarAbsorptivityData from './MolarAbsorptivityData.js';
import optionize from '../../../../phet-core/js/optionize.js';
// parent tandem for all static instances of BeersLawSolution
const SOLUTIONS_TANDEM = Tandem.ROOT.createTandem('beersLawScreen').createTandem('model').createTandem('solutions');
export default class BeersLawSolution extends PhetioObject {
  // the name of the solution, displayed to the user

  // // formula that is visible to the user, null defaults to nameProperty.value

  // tandem name of the solution, used to create other tandems that are related to this solution.

  constructor(providedOptions) {
    assert && assert(BeersLawSolution.BeersLawSolutionIO, 'BeersLawSolutionIO and BeersLawSolution instances are statics, so make sure BeersLawSolutionIO exists');
    const options = optionize()({
      // SelfOptions
      saturatedColor: providedOptions.colorRange.max,
      // PhetioObjectOptions
      phetioType: BeersLawSolution.BeersLawSolutionIO,
      phetioState: false
    }, providedOptions);
    super(options);
    this.nameProperty = options.nameProperty;
    this.formulaProperty = options.formulaProperty;
    this.solvent = Solvent.WATER;
    this.molarAbsorptivityData = options.molarAbsorptivityData;
    this.concentrationTransform = options.concentrationTransform;
    this.colorRange = options.colorRange;
    this.saturatedColor = options.saturatedColor;
    this.concentrationProperty = new NumberProperty(options.concentrationRange.defaultValue, {
      units: 'mol/L',
      range: options.concentrationRange,
      tandem: options.tandem.createTandem('concentrationProperty')
    });
    this.fluidColorProperty = new DerivedProperty([this.concentrationProperty], concentration => {
      let color = this.solvent.colorProperty.value;
      if (concentration > 0) {
        const range = this.concentrationProperty.range;
        const distance = Utils.linear(range.min, range.max, 0, 1, concentration);
        color = this.colorRange.interpolateLinear(distance);
      }
      return color;
    });
    this.tandemName = options.tandem.name;
    this.addLinkedElement(options.nameProperty, {
      tandem: options.tandem.createTandem('nameProperty')
    });
    this.addLinkedElement(options.formulaProperty, {
      tandem: options.tandem.createTandem('formulaProperty')
    });
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
  reset() {
    this.concentrationProperty.reset();
  }

  /**
   * BeersLawSolutionIO handles PhET-iO serialization of BeersLawSolution. Since all BeersLawSolution are
   * static instances, it implements 'Reference type serialization', as described in the Serialization section of
   * https://github.com/phetsims/phet-io/blob/master/doc/phet-io-instrumentation-technical-guide.md#serialization
   */
  static BeersLawSolutionIO = new IOType('BeersLawSolutionIO', {
    valueType: BeersLawSolution,
    supertype: ReferenceIO(IOType.ObjectIO),
    documentation: 'A solution in the Beer\'s Law screen'
  });
  static DRINK_MIX = new BeersLawSolution({
    nameProperty: Solute.DRINK_MIX.nameProperty,
    formulaProperty: Solute.DRINK_MIX.formulaProperty,
    molarAbsorptivityData: MolarAbsorptivityData.DRINK_MIX,
    concentrationRange: new RangeWithValue(0, 0.400, 0.100),
    concentrationTransform: ConcentrationTransform.mM,
    colorRange: new ColorRange(new Color(255, 225, 225), Color.RED),
    tandem: SOLUTIONS_TANDEM.createTandem('drinkMix')
  });
  static COBALT_II_NITRATE = new BeersLawSolution({
    nameProperty: Solute.COBALT_II_NITRATE.nameProperty,
    formulaProperty: Solute.COBALT_II_NITRATE.formulaProperty,
    molarAbsorptivityData: MolarAbsorptivityData.COBALT_II_NITRATE,
    concentrationRange: new RangeWithValue(0, 0.400, 0.100),
    concentrationTransform: ConcentrationTransform.mM,
    colorRange: new ColorRange(new Color(255, 225, 225), Color.RED),
    tandem: SOLUTIONS_TANDEM.createTandem('cobaltIINitrate')
  });
  static COBALT_CHLORIDE = new BeersLawSolution({
    nameProperty: Solute.COBALT_CHLORIDE.nameProperty,
    formulaProperty: Solute.COBALT_CHLORIDE.formulaProperty,
    molarAbsorptivityData: MolarAbsorptivityData.COBALT_CHLORIDE,
    concentrationRange: new RangeWithValue(0, 0.250, 0.100),
    concentrationTransform: ConcentrationTransform.mM,
    colorRange: new ColorRange(new Color(255, 242, 242), new Color(255, 106, 106)),
    tandem: SOLUTIONS_TANDEM.createTandem('cobaltChloride')
  });
  static POTASSIUM_DICHROMATE = new BeersLawSolution({
    nameProperty: Solute.POTASSIUM_DICHROMATE.nameProperty,
    formulaProperty: Solute.POTASSIUM_DICHROMATE.formulaProperty,
    molarAbsorptivityData: MolarAbsorptivityData.POTASSIUM_DICHROMATE,
    concentrationRange: new RangeWithValue(0, 0.000500, 0.000100),
    concentrationTransform: ConcentrationTransform.uM,
    colorRange: new ColorRange(new Color(255, 232, 210), new Color(255, 127, 0)),
    tandem: SOLUTIONS_TANDEM.createTandem('potassiumDichromate')
  });
  static POTASSIUM_CHROMATE = new BeersLawSolution({
    nameProperty: Solute.POTASSIUM_CHROMATE.nameProperty,
    formulaProperty: Solute.POTASSIUM_CHROMATE.formulaProperty,
    molarAbsorptivityData: MolarAbsorptivityData.POTASSIUM_CHROMATE,
    concentrationRange: new RangeWithValue(0, 0.000400, 0.000100),
    concentrationTransform: ConcentrationTransform.uM,
    colorRange: new ColorRange(new Color(255, 255, 199), new Color(255, 255, 0)),
    tandem: SOLUTIONS_TANDEM.createTandem('potassiumChromate')
  });
  static NICKEL_II_CHLORIDE = new BeersLawSolution({
    nameProperty: Solute.NICKEL_II_CHLORIDE.nameProperty,
    formulaProperty: Solute.NICKEL_II_CHLORIDE.formulaProperty,
    molarAbsorptivityData: MolarAbsorptivityData.NICKEL_II_CHLORIDE,
    concentrationRange: new RangeWithValue(0, 0.350, 0.100),
    concentrationTransform: ConcentrationTransform.mM,
    colorRange: new ColorRange(new Color(234, 244, 234), new Color(0, 128, 0)),
    tandem: SOLUTIONS_TANDEM.createTandem('nickelIIChloride')
  });
  static COPPER_SULFATE = new BeersLawSolution({
    nameProperty: Solute.COPPER_SULFATE.nameProperty,
    formulaProperty: Solute.COPPER_SULFATE.formulaProperty,
    molarAbsorptivityData: MolarAbsorptivityData.COPPER_SULFATE,
    concentrationRange: new RangeWithValue(0, 0.200, 0.100),
    concentrationTransform: ConcentrationTransform.mM,
    colorRange: new ColorRange(new Color(222, 238, 255), new Color(30, 144, 255)),
    tandem: SOLUTIONS_TANDEM.createTandem('copperSulfate')
  });
  static POTASSIUM_PERMANGANATE = new BeersLawSolution({
    nameProperty: Solute.POTASSIUM_PERMANGANATE.nameProperty,
    formulaProperty: Solute.POTASSIUM_PERMANGANATE.formulaProperty,
    molarAbsorptivityData: MolarAbsorptivityData.POTASSIUM_PERMANGANATE,
    concentrationRange: new RangeWithValue(0, 0.000800, 0.000100),
    concentrationTransform: ConcentrationTransform.uM,
    colorRange: new ColorRange(new Color(255, 235, 255), new Color(255, 0, 255)),
    // has a special saturated color
    saturatedColor: new Color(80, 0, 120),
    tandem: SOLUTIONS_TANDEM.createTandem('potassiumPermanganate')
  });
}
beersLawLab.register('BeersLawSolution', BeersLawSolution);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJOdW1iZXJQcm9wZXJ0eSIsIlJhbmdlV2l0aFZhbHVlIiwiVXRpbHMiLCJDb2xvciIsIlBoZXRpb09iamVjdCIsIlRhbmRlbSIsIklPVHlwZSIsIlJlZmVyZW5jZUlPIiwiYmVlcnNMYXdMYWIiLCJDb2xvclJhbmdlIiwiU29sdXRlIiwiU29sdmVudCIsIkNvbmNlbnRyYXRpb25UcmFuc2Zvcm0iLCJNb2xhckFic29ycHRpdml0eURhdGEiLCJvcHRpb25pemUiLCJTT0xVVElPTlNfVEFOREVNIiwiUk9PVCIsImNyZWF0ZVRhbmRlbSIsIkJlZXJzTGF3U29sdXRpb24iLCJjb25zdHJ1Y3RvciIsInByb3ZpZGVkT3B0aW9ucyIsImFzc2VydCIsIkJlZXJzTGF3U29sdXRpb25JTyIsIm9wdGlvbnMiLCJzYXR1cmF0ZWRDb2xvciIsImNvbG9yUmFuZ2UiLCJtYXgiLCJwaGV0aW9UeXBlIiwicGhldGlvU3RhdGUiLCJuYW1lUHJvcGVydHkiLCJmb3JtdWxhUHJvcGVydHkiLCJzb2x2ZW50IiwiV0FURVIiLCJtb2xhckFic29ycHRpdml0eURhdGEiLCJjb25jZW50cmF0aW9uVHJhbnNmb3JtIiwiY29uY2VudHJhdGlvblByb3BlcnR5IiwiY29uY2VudHJhdGlvblJhbmdlIiwiZGVmYXVsdFZhbHVlIiwidW5pdHMiLCJyYW5nZSIsInRhbmRlbSIsImZsdWlkQ29sb3JQcm9wZXJ0eSIsImNvbmNlbnRyYXRpb24iLCJjb2xvciIsImNvbG9yUHJvcGVydHkiLCJ2YWx1ZSIsImRpc3RhbmNlIiwibGluZWFyIiwibWluIiwiaW50ZXJwb2xhdGVMaW5lYXIiLCJ0YW5kZW1OYW1lIiwibmFtZSIsImFkZExpbmtlZEVsZW1lbnQiLCJkaXNwb3NlIiwicmVzZXQiLCJ2YWx1ZVR5cGUiLCJzdXBlcnR5cGUiLCJPYmplY3RJTyIsImRvY3VtZW50YXRpb24iLCJEUklOS19NSVgiLCJtTSIsIlJFRCIsIkNPQkFMVF9JSV9OSVRSQVRFIiwiQ09CQUxUX0NITE9SSURFIiwiUE9UQVNTSVVNX0RJQ0hST01BVEUiLCJ1TSIsIlBPVEFTU0lVTV9DSFJPTUFURSIsIk5JQ0tFTF9JSV9DSExPUklERSIsIkNPUFBFUl9TVUxGQVRFIiwiUE9UQVNTSVVNX1BFUk1BTkdBTkFURSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQmVlcnNMYXdTb2x1dGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxMy0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBCZWVyc0xhd1NvbHV0aW9uIGlzIHRoZSBzb2x1dGlvbiBtb2RlbCBmb3IgdGhlIEJlZXIncyBMYXcgc2NyZWVuLlxyXG4gKlxyXG4gKiBUaGUgbnVtZXJpYyB2YWx1ZXMgZm9yIHNwZWNpZmljIHNvbHV0aW9ucyB3ZXJlIGFycml2ZWQgYXQgYnkgcnVubmluZyBsYWIgZXhwZXJpbWVudHMsXHJcbiAqIGFuZCBhcmUgZG9jdW1lbnRlZCBpbiBkb2MvQmVlcnMtTGF3LUxhYi1kZXNpZ24ucGRmIGFuZCBkb2MvQmVlcnNMYXdMYWJEYXRhLnhsc3guXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCB0aGlzIG1vZGVsIGRvZXMgbm90IHVzZSB0aGUgU29sdXRlIG1vZGVsIGZyb20gdGhlIENvbmNlbnRyYXRpb24gc2NyZWVuLCBiZWNhdXNlXHJcbiAqIHdlIGhhdmUgdmVyeSBkaWZmZXJlbnQgbmVlZHMgd3J0IGNvbG9yIHNjaGVtZSwgcHJvcGVydGllcywgZXRjLlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgTnVtYmVyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9OdW1iZXJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBSYW5nZVdpdGhWYWx1ZSBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvUmFuZ2VXaXRoVmFsdWUuanMnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IFBpY2tSZXF1aXJlZCBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvUGlja1JlcXVpcmVkLmpzJztcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgUGhldGlvT2JqZWN0LCB7IFBoZXRpb09iamVjdE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvUGhldGlvT2JqZWN0LmpzJztcclxuaW1wb3J0IFRhbmRlbSBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvVGFuZGVtLmpzJztcclxuaW1wb3J0IElPVHlwZSBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvdHlwZXMvSU9UeXBlLmpzJztcclxuaW1wb3J0IFJlZmVyZW5jZUlPIGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy90eXBlcy9SZWZlcmVuY2VJTy5qcyc7XHJcbmltcG9ydCBiZWVyc0xhd0xhYiBmcm9tICcuLi8uLi9iZWVyc0xhd0xhYi5qcyc7XHJcbmltcG9ydCBDb2xvclJhbmdlIGZyb20gJy4uLy4uL2NvbW1vbi9tb2RlbC9Db2xvclJhbmdlLmpzJztcclxuaW1wb3J0IFNvbHV0ZSBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvU29sdXRlLmpzJztcclxuaW1wb3J0IFNvbHZlbnQgZnJvbSAnLi4vLi4vY29tbW9uL21vZGVsL1NvbHZlbnQuanMnO1xyXG5pbXBvcnQgQ29uY2VudHJhdGlvblRyYW5zZm9ybSBmcm9tICcuL0NvbmNlbnRyYXRpb25UcmFuc2Zvcm0uanMnO1xyXG5pbXBvcnQgTW9sYXJBYnNvcnB0aXZpdHlEYXRhIGZyb20gJy4vTW9sYXJBYnNvcnB0aXZpdHlEYXRhLmpzJztcclxuaW1wb3J0IFRSZWFkT25seVByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvVFJlYWRPbmx5UHJvcGVydHkuanMnO1xyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgTGlua2FibGVQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0xpbmthYmxlUHJvcGVydHkuanMnO1xyXG5cclxuLy8gcGFyZW50IHRhbmRlbSBmb3IgYWxsIHN0YXRpYyBpbnN0YW5jZXMgb2YgQmVlcnNMYXdTb2x1dGlvblxyXG5jb25zdCBTT0xVVElPTlNfVEFOREVNID0gVGFuZGVtLlJPT1QuY3JlYXRlVGFuZGVtKCAnYmVlcnNMYXdTY3JlZW4nICkuY3JlYXRlVGFuZGVtKCAnbW9kZWwnICkuY3JlYXRlVGFuZGVtKCAnc29sdXRpb25zJyApO1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IHtcclxuXHJcbiAgLy8gcmVxdWlyZWRcclxuICBuYW1lUHJvcGVydHk6IExpbmthYmxlUHJvcGVydHk8c3RyaW5nPjsgLy8gbmFtZSB0aGF0IGlzIHZpc2libGUgdG8gdGhlIHVzZXJcclxuICBmb3JtdWxhUHJvcGVydHk6IExpbmthYmxlUHJvcGVydHk8c3RyaW5nIHwgbnVsbD47IC8vIGZvcm11bGEgdGhhdCBpcyB2aXNpYmxlIHRvIHRoZSB1c2VyLCBudWxsIGRlZmF1bHRzIHRvIG5hbWVQcm9wZXJ0eS52YWx1ZVxyXG4gIG1vbGFyQWJzb3JwdGl2aXR5RGF0YTogTW9sYXJBYnNvcnB0aXZpdHlEYXRhO1xyXG4gIGNvbmNlbnRyYXRpb25SYW5nZTogUmFuZ2VXaXRoVmFsdWU7XHJcbiAgY29uY2VudHJhdGlvblRyYW5zZm9ybTogQ29uY2VudHJhdGlvblRyYW5zZm9ybTtcclxuICBjb2xvclJhbmdlOiBDb2xvclJhbmdlO1xyXG5cclxuICAvLyBvcHRpb25hbFxyXG4gIHNhdHVyYXRlZENvbG9yPzogQ29sb3I7IC8vIGNvbG9yIHRvIHVzZSB3aGVuIHRoZSBzb2x1dGlvbiBpcyBzYXR1cmF0ZWRcclxufTtcclxuXHJcbnR5cGUgQmVlcnNMYXdTb2x1dGlvbk9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIFBpY2tSZXF1aXJlZDxQaGV0aW9PYmplY3RPcHRpb25zLCAndGFuZGVtJz47XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCZWVyc0xhd1NvbHV0aW9uIGV4dGVuZHMgUGhldGlvT2JqZWN0IHtcclxuXHJcbiAgLy8gdGhlIG5hbWUgb2YgdGhlIHNvbHV0aW9uLCBkaXNwbGF5ZWQgdG8gdGhlIHVzZXJcclxuICBwdWJsaWMgcmVhZG9ubHkgbmFtZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xyXG5cclxuICAvLyAvLyBmb3JtdWxhIHRoYXQgaXMgdmlzaWJsZSB0byB0aGUgdXNlciwgbnVsbCBkZWZhdWx0cyB0byBuYW1lUHJvcGVydHkudmFsdWVcclxuICBwdWJsaWMgcmVhZG9ubHkgZm9ybXVsYVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmcgfCBudWxsPjtcclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IHNvbHZlbnQ6IFNvbHZlbnQ7XHJcbiAgcHVibGljIHJlYWRvbmx5IG1vbGFyQWJzb3JwdGl2aXR5RGF0YTogTW9sYXJBYnNvcnB0aXZpdHlEYXRhO1xyXG4gIHB1YmxpYyByZWFkb25seSBjb25jZW50cmF0aW9uVHJhbnNmb3JtOiBDb25jZW50cmF0aW9uVHJhbnNmb3JtO1xyXG4gIHB1YmxpYyByZWFkb25seSBjb2xvclJhbmdlOiBDb2xvclJhbmdlO1xyXG4gIHB1YmxpYyByZWFkb25seSBzYXR1cmF0ZWRDb2xvcjogQ29sb3I7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBjb25jZW50cmF0aW9uUHJvcGVydHk6IE51bWJlclByb3BlcnR5O1xyXG4gIHB1YmxpYyByZWFkb25seSBmbHVpZENvbG9yUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PENvbG9yPjtcclxuXHJcbiAgLy8gdGFuZGVtIG5hbWUgb2YgdGhlIHNvbHV0aW9uLCB1c2VkIHRvIGNyZWF0ZSBvdGhlciB0YW5kZW1zIHRoYXQgYXJlIHJlbGF0ZWQgdG8gdGhpcyBzb2x1dGlvbi5cclxuICBwdWJsaWMgcmVhZG9ubHkgdGFuZGVtTmFtZTogc3RyaW5nO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHByb3ZpZGVkT3B0aW9uczogQmVlcnNMYXdTb2x1dGlvbk9wdGlvbnMgKSB7XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggQmVlcnNMYXdTb2x1dGlvbi5CZWVyc0xhd1NvbHV0aW9uSU8sXHJcbiAgICAgICdCZWVyc0xhd1NvbHV0aW9uSU8gYW5kIEJlZXJzTGF3U29sdXRpb24gaW5zdGFuY2VzIGFyZSBzdGF0aWNzLCBzbyBtYWtlIHN1cmUgQmVlcnNMYXdTb2x1dGlvbklPIGV4aXN0cycgKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPEJlZXJzTGF3U29sdXRpb25PcHRpb25zLCBTZWxmT3B0aW9ucywgUGhldGlvT2JqZWN0T3B0aW9ucz4oKSgge1xyXG5cclxuICAgICAgLy8gU2VsZk9wdGlvbnNcclxuICAgICAgc2F0dXJhdGVkQ29sb3I6IHByb3ZpZGVkT3B0aW9ucy5jb2xvclJhbmdlLm1heCxcclxuXHJcbiAgICAgIC8vIFBoZXRpb09iamVjdE9wdGlvbnNcclxuICAgICAgcGhldGlvVHlwZTogQmVlcnNMYXdTb2x1dGlvbi5CZWVyc0xhd1NvbHV0aW9uSU8sXHJcbiAgICAgIHBoZXRpb1N0YXRlOiBmYWxzZVxyXG5cclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIHN1cGVyKCBvcHRpb25zICk7XHJcblxyXG4gICAgdGhpcy5uYW1lUHJvcGVydHkgPSBvcHRpb25zLm5hbWVQcm9wZXJ0eTtcclxuICAgIHRoaXMuZm9ybXVsYVByb3BlcnR5ID0gb3B0aW9ucy5mb3JtdWxhUHJvcGVydHk7XHJcbiAgICB0aGlzLnNvbHZlbnQgPSBTb2x2ZW50LldBVEVSO1xyXG4gICAgdGhpcy5tb2xhckFic29ycHRpdml0eURhdGEgPSBvcHRpb25zLm1vbGFyQWJzb3JwdGl2aXR5RGF0YTtcclxuICAgIHRoaXMuY29uY2VudHJhdGlvblRyYW5zZm9ybSA9IG9wdGlvbnMuY29uY2VudHJhdGlvblRyYW5zZm9ybTtcclxuICAgIHRoaXMuY29sb3JSYW5nZSA9IG9wdGlvbnMuY29sb3JSYW5nZTtcclxuICAgIHRoaXMuc2F0dXJhdGVkQ29sb3IgPSBvcHRpb25zLnNhdHVyYXRlZENvbG9yO1xyXG5cclxuICAgIHRoaXMuY29uY2VudHJhdGlvblByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCBvcHRpb25zLmNvbmNlbnRyYXRpb25SYW5nZS5kZWZhdWx0VmFsdWUsIHtcclxuICAgICAgdW5pdHM6ICdtb2wvTCcsXHJcbiAgICAgIHJhbmdlOiBvcHRpb25zLmNvbmNlbnRyYXRpb25SYW5nZSxcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdjb25jZW50cmF0aW9uUHJvcGVydHknIClcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmZsdWlkQ29sb3JQcm9wZXJ0eSA9IG5ldyBEZXJpdmVkUHJvcGVydHkoIFsgdGhpcy5jb25jZW50cmF0aW9uUHJvcGVydHkgXSxcclxuICAgICAgY29uY2VudHJhdGlvbiA9PiB7XHJcbiAgICAgICAgbGV0IGNvbG9yID0gdGhpcy5zb2x2ZW50LmNvbG9yUHJvcGVydHkudmFsdWU7XHJcbiAgICAgICAgaWYgKCBjb25jZW50cmF0aW9uID4gMCApIHtcclxuICAgICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5jb25jZW50cmF0aW9uUHJvcGVydHkucmFuZ2U7XHJcbiAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IFV0aWxzLmxpbmVhciggcmFuZ2UubWluLCByYW5nZS5tYXgsIDAsIDEsIGNvbmNlbnRyYXRpb24gKTtcclxuICAgICAgICAgIGNvbG9yID0gdGhpcy5jb2xvclJhbmdlLmludGVycG9sYXRlTGluZWFyKCBkaXN0YW5jZSApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnRhbmRlbU5hbWUgPSBvcHRpb25zLnRhbmRlbS5uYW1lO1xyXG5cclxuICAgIHRoaXMuYWRkTGlua2VkRWxlbWVudCggb3B0aW9ucy5uYW1lUHJvcGVydHksIHtcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICduYW1lUHJvcGVydHknIClcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmFkZExpbmtlZEVsZW1lbnQoIG9wdGlvbnMuZm9ybXVsYVByb3BlcnR5LCB7XHJcbiAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnZm9ybXVsYVByb3BlcnR5JyApXHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGZhbHNlLCAnZGlzcG9zZSBpcyBub3Qgc3VwcG9ydGVkLCBleGlzdHMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltJyApO1xyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5jb25jZW50cmF0aW9uUHJvcGVydHkucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEJlZXJzTGF3U29sdXRpb25JTyBoYW5kbGVzIFBoRVQtaU8gc2VyaWFsaXphdGlvbiBvZiBCZWVyc0xhd1NvbHV0aW9uLiBTaW5jZSBhbGwgQmVlcnNMYXdTb2x1dGlvbiBhcmVcclxuICAgKiBzdGF0aWMgaW5zdGFuY2VzLCBpdCBpbXBsZW1lbnRzICdSZWZlcmVuY2UgdHlwZSBzZXJpYWxpemF0aW9uJywgYXMgZGVzY3JpYmVkIGluIHRoZSBTZXJpYWxpemF0aW9uIHNlY3Rpb24gb2ZcclxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcGhldC1pby9ibG9iL21hc3Rlci9kb2MvcGhldC1pby1pbnN0cnVtZW50YXRpb24tdGVjaG5pY2FsLWd1aWRlLm1kI3NlcmlhbGl6YXRpb25cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJlZXJzTGF3U29sdXRpb25JTyA9IG5ldyBJT1R5cGUoICdCZWVyc0xhd1NvbHV0aW9uSU8nLCB7XHJcbiAgICB2YWx1ZVR5cGU6IEJlZXJzTGF3U29sdXRpb24sXHJcbiAgICBzdXBlcnR5cGU6IFJlZmVyZW5jZUlPKCBJT1R5cGUuT2JqZWN0SU8gKSxcclxuICAgIGRvY3VtZW50YXRpb246ICdBIHNvbHV0aW9uIGluIHRoZSBCZWVyXFwncyBMYXcgc2NyZWVuJ1xyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBEUklOS19NSVggPSBuZXcgQmVlcnNMYXdTb2x1dGlvbigge1xyXG4gICAgbmFtZVByb3BlcnR5OiBTb2x1dGUuRFJJTktfTUlYLm5hbWVQcm9wZXJ0eSxcclxuICAgIGZvcm11bGFQcm9wZXJ0eTogU29sdXRlLkRSSU5LX01JWC5mb3JtdWxhUHJvcGVydHksXHJcbiAgICBtb2xhckFic29ycHRpdml0eURhdGE6IE1vbGFyQWJzb3JwdGl2aXR5RGF0YS5EUklOS19NSVgsXHJcbiAgICBjb25jZW50cmF0aW9uUmFuZ2U6IG5ldyBSYW5nZVdpdGhWYWx1ZSggMCwgMC40MDAsIDAuMTAwICksXHJcbiAgICBjb25jZW50cmF0aW9uVHJhbnNmb3JtOiBDb25jZW50cmF0aW9uVHJhbnNmb3JtLm1NLFxyXG4gICAgY29sb3JSYW5nZTogbmV3IENvbG9yUmFuZ2UoIG5ldyBDb2xvciggMjU1LCAyMjUsIDIyNSApLCBDb2xvci5SRUQgKSxcclxuICAgIHRhbmRlbTogU09MVVRJT05TX1RBTkRFTS5jcmVhdGVUYW5kZW0oICdkcmlua01peCcgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBDT0JBTFRfSUlfTklUUkFURSA9IG5ldyBCZWVyc0xhd1NvbHV0aW9uKCB7XHJcbiAgICBuYW1lUHJvcGVydHk6IFNvbHV0ZS5DT0JBTFRfSUlfTklUUkFURS5uYW1lUHJvcGVydHksXHJcbiAgICBmb3JtdWxhUHJvcGVydHk6IFNvbHV0ZS5DT0JBTFRfSUlfTklUUkFURS5mb3JtdWxhUHJvcGVydHksXHJcbiAgICBtb2xhckFic29ycHRpdml0eURhdGE6IE1vbGFyQWJzb3JwdGl2aXR5RGF0YS5DT0JBTFRfSUlfTklUUkFURSxcclxuICAgIGNvbmNlbnRyYXRpb25SYW5nZTogbmV3IFJhbmdlV2l0aFZhbHVlKCAwLCAwLjQwMCwgMC4xMDAgKSxcclxuICAgIGNvbmNlbnRyYXRpb25UcmFuc2Zvcm06IENvbmNlbnRyYXRpb25UcmFuc2Zvcm0ubU0sXHJcbiAgICBjb2xvclJhbmdlOiBuZXcgQ29sb3JSYW5nZSggbmV3IENvbG9yKCAyNTUsIDIyNSwgMjI1ICksIENvbG9yLlJFRCApLFxyXG4gICAgdGFuZGVtOiBTT0xVVElPTlNfVEFOREVNLmNyZWF0ZVRhbmRlbSggJ2NvYmFsdElJTml0cmF0ZScgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBDT0JBTFRfQ0hMT1JJREUgPSBuZXcgQmVlcnNMYXdTb2x1dGlvbigge1xyXG4gICAgbmFtZVByb3BlcnR5OiBTb2x1dGUuQ09CQUxUX0NITE9SSURFLm5hbWVQcm9wZXJ0eSxcclxuICAgIGZvcm11bGFQcm9wZXJ0eTogU29sdXRlLkNPQkFMVF9DSExPUklERS5mb3JtdWxhUHJvcGVydHksXHJcbiAgICBtb2xhckFic29ycHRpdml0eURhdGE6IE1vbGFyQWJzb3JwdGl2aXR5RGF0YS5DT0JBTFRfQ0hMT1JJREUsXHJcbiAgICBjb25jZW50cmF0aW9uUmFuZ2U6IG5ldyBSYW5nZVdpdGhWYWx1ZSggMCwgMC4yNTAsIDAuMTAwICksXHJcbiAgICBjb25jZW50cmF0aW9uVHJhbnNmb3JtOiBDb25jZW50cmF0aW9uVHJhbnNmb3JtLm1NLFxyXG4gICAgY29sb3JSYW5nZTogbmV3IENvbG9yUmFuZ2UoIG5ldyBDb2xvciggMjU1LCAyNDIsIDI0MiApLCBuZXcgQ29sb3IoIDI1NSwgMTA2LCAxMDYgKSApLFxyXG4gICAgdGFuZGVtOiBTT0xVVElPTlNfVEFOREVNLmNyZWF0ZVRhbmRlbSggJ2NvYmFsdENobG9yaWRlJyApXHJcbiAgfSApO1xyXG5cclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBPVEFTU0lVTV9ESUNIUk9NQVRFID0gbmV3IEJlZXJzTGF3U29sdXRpb24oIHtcclxuICAgIG5hbWVQcm9wZXJ0eTogU29sdXRlLlBPVEFTU0lVTV9ESUNIUk9NQVRFLm5hbWVQcm9wZXJ0eSxcclxuICAgIGZvcm11bGFQcm9wZXJ0eTogU29sdXRlLlBPVEFTU0lVTV9ESUNIUk9NQVRFLmZvcm11bGFQcm9wZXJ0eSxcclxuICAgIG1vbGFyQWJzb3JwdGl2aXR5RGF0YTogTW9sYXJBYnNvcnB0aXZpdHlEYXRhLlBPVEFTU0lVTV9ESUNIUk9NQVRFLFxyXG4gICAgY29uY2VudHJhdGlvblJhbmdlOiBuZXcgUmFuZ2VXaXRoVmFsdWUoIDAsIDAuMDAwNTAwLCAwLjAwMDEwMCApLFxyXG4gICAgY29uY2VudHJhdGlvblRyYW5zZm9ybTogQ29uY2VudHJhdGlvblRyYW5zZm9ybS51TSxcclxuICAgIGNvbG9yUmFuZ2U6IG5ldyBDb2xvclJhbmdlKCBuZXcgQ29sb3IoIDI1NSwgMjMyLCAyMTAgKSwgbmV3IENvbG9yKCAyNTUsIDEyNywgMCApICksXHJcbiAgICB0YW5kZW06IFNPTFVUSU9OU19UQU5ERU0uY3JlYXRlVGFuZGVtKCAncG90YXNzaXVtRGljaHJvbWF0ZScgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBQT1RBU1NJVU1fQ0hST01BVEUgPSBuZXcgQmVlcnNMYXdTb2x1dGlvbigge1xyXG4gICAgbmFtZVByb3BlcnR5OiBTb2x1dGUuUE9UQVNTSVVNX0NIUk9NQVRFLm5hbWVQcm9wZXJ0eSxcclxuICAgIGZvcm11bGFQcm9wZXJ0eTogU29sdXRlLlBPVEFTU0lVTV9DSFJPTUFURS5mb3JtdWxhUHJvcGVydHksXHJcbiAgICBtb2xhckFic29ycHRpdml0eURhdGE6IE1vbGFyQWJzb3JwdGl2aXR5RGF0YS5QT1RBU1NJVU1fQ0hST01BVEUsXHJcbiAgICBjb25jZW50cmF0aW9uUmFuZ2U6IG5ldyBSYW5nZVdpdGhWYWx1ZSggMCwgMC4wMDA0MDAsIDAuMDAwMTAwICksXHJcbiAgICBjb25jZW50cmF0aW9uVHJhbnNmb3JtOiBDb25jZW50cmF0aW9uVHJhbnNmb3JtLnVNLFxyXG4gICAgY29sb3JSYW5nZTogbmV3IENvbG9yUmFuZ2UoIG5ldyBDb2xvciggMjU1LCAyNTUsIDE5OSApLCBuZXcgQ29sb3IoIDI1NSwgMjU1LCAwICkgKSxcclxuICAgIHRhbmRlbTogU09MVVRJT05TX1RBTkRFTS5jcmVhdGVUYW5kZW0oICdwb3Rhc3NpdW1DaHJvbWF0ZScgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBOSUNLRUxfSUlfQ0hMT1JJREUgPSBuZXcgQmVlcnNMYXdTb2x1dGlvbigge1xyXG4gICAgbmFtZVByb3BlcnR5OiBTb2x1dGUuTklDS0VMX0lJX0NITE9SSURFLm5hbWVQcm9wZXJ0eSxcclxuICAgIGZvcm11bGFQcm9wZXJ0eTogU29sdXRlLk5JQ0tFTF9JSV9DSExPUklERS5mb3JtdWxhUHJvcGVydHksXHJcbiAgICBtb2xhckFic29ycHRpdml0eURhdGE6IE1vbGFyQWJzb3JwdGl2aXR5RGF0YS5OSUNLRUxfSUlfQ0hMT1JJREUsXHJcbiAgICBjb25jZW50cmF0aW9uUmFuZ2U6IG5ldyBSYW5nZVdpdGhWYWx1ZSggMCwgMC4zNTAsIDAuMTAwICksXHJcbiAgICBjb25jZW50cmF0aW9uVHJhbnNmb3JtOiBDb25jZW50cmF0aW9uVHJhbnNmb3JtLm1NLFxyXG4gICAgY29sb3JSYW5nZTogbmV3IENvbG9yUmFuZ2UoIG5ldyBDb2xvciggMjM0LCAyNDQsIDIzNCApLCBuZXcgQ29sb3IoIDAsIDEyOCwgMCApICksXHJcbiAgICB0YW5kZW06IFNPTFVUSU9OU19UQU5ERU0uY3JlYXRlVGFuZGVtKCAnbmlja2VsSUlDaGxvcmlkZScgKVxyXG4gIH0gKTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBDT1BQRVJfU1VMRkFURSA9IG5ldyBCZWVyc0xhd1NvbHV0aW9uKCB7XHJcbiAgICBuYW1lUHJvcGVydHk6IFNvbHV0ZS5DT1BQRVJfU1VMRkFURS5uYW1lUHJvcGVydHksXHJcbiAgICBmb3JtdWxhUHJvcGVydHk6IFNvbHV0ZS5DT1BQRVJfU1VMRkFURS5mb3JtdWxhUHJvcGVydHksXHJcbiAgICBtb2xhckFic29ycHRpdml0eURhdGE6IE1vbGFyQWJzb3JwdGl2aXR5RGF0YS5DT1BQRVJfU1VMRkFURSxcclxuICAgIGNvbmNlbnRyYXRpb25SYW5nZTogbmV3IFJhbmdlV2l0aFZhbHVlKCAwLCAwLjIwMCwgMC4xMDAgKSxcclxuICAgIGNvbmNlbnRyYXRpb25UcmFuc2Zvcm06IENvbmNlbnRyYXRpb25UcmFuc2Zvcm0ubU0sXHJcbiAgICBjb2xvclJhbmdlOiBuZXcgQ29sb3JSYW5nZSggbmV3IENvbG9yKCAyMjIsIDIzOCwgMjU1ICksIG5ldyBDb2xvciggMzAsIDE0NCwgMjU1ICkgKSxcclxuICAgIHRhbmRlbTogU09MVVRJT05TX1RBTkRFTS5jcmVhdGVUYW5kZW0oICdjb3BwZXJTdWxmYXRlJyApXHJcbiAgfSApO1xyXG5cclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBPVEFTU0lVTV9QRVJNQU5HQU5BVEUgPSBuZXcgQmVlcnNMYXdTb2x1dGlvbigge1xyXG4gICAgbmFtZVByb3BlcnR5OiBTb2x1dGUuUE9UQVNTSVVNX1BFUk1BTkdBTkFURS5uYW1lUHJvcGVydHksXHJcbiAgICBmb3JtdWxhUHJvcGVydHk6IFNvbHV0ZS5QT1RBU1NJVU1fUEVSTUFOR0FOQVRFLmZvcm11bGFQcm9wZXJ0eSxcclxuICAgIG1vbGFyQWJzb3JwdGl2aXR5RGF0YTogTW9sYXJBYnNvcnB0aXZpdHlEYXRhLlBPVEFTU0lVTV9QRVJNQU5HQU5BVEUsXHJcbiAgICBjb25jZW50cmF0aW9uUmFuZ2U6IG5ldyBSYW5nZVdpdGhWYWx1ZSggMCwgMC4wMDA4MDAsIDAuMDAwMTAwICksXHJcbiAgICBjb25jZW50cmF0aW9uVHJhbnNmb3JtOiBDb25jZW50cmF0aW9uVHJhbnNmb3JtLnVNLFxyXG4gICAgY29sb3JSYW5nZTogbmV3IENvbG9yUmFuZ2UoIG5ldyBDb2xvciggMjU1LCAyMzUsIDI1NSApLCBuZXcgQ29sb3IoIDI1NSwgMCwgMjU1ICkgKSxcclxuXHJcbiAgICAvLyBoYXMgYSBzcGVjaWFsIHNhdHVyYXRlZCBjb2xvclxyXG4gICAgc2F0dXJhdGVkQ29sb3I6IG5ldyBDb2xvciggODAsIDAsIDEyMCApLFxyXG4gICAgdGFuZGVtOiBTT0xVVElPTlNfVEFOREVNLmNyZWF0ZVRhbmRlbSggJ3BvdGFzc2l1bVBlcm1hbmdhbmF0ZScgKVxyXG4gIH0gKTtcclxufVxyXG5cclxuYmVlcnNMYXdMYWIucmVnaXN0ZXIoICdCZWVyc0xhd1NvbHV0aW9uJywgQmVlcnNMYXdTb2x1dGlvbiApOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxlQUFlLE1BQU0sd0NBQXdDO0FBQ3BFLE9BQU9DLGNBQWMsTUFBTSx1Q0FBdUM7QUFDbEUsT0FBT0MsY0FBYyxNQUFNLHNDQUFzQztBQUNqRSxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBRS9DLFNBQVNDLEtBQUssUUFBUSxtQ0FBbUM7QUFDekQsT0FBT0MsWUFBWSxNQUErQix1Q0FBdUM7QUFDekYsT0FBT0MsTUFBTSxNQUFNLGlDQUFpQztBQUNwRCxPQUFPQyxNQUFNLE1BQU0sdUNBQXVDO0FBQzFELE9BQU9DLFdBQVcsTUFBTSw0Q0FBNEM7QUFDcEUsT0FBT0MsV0FBVyxNQUFNLHNCQUFzQjtBQUM5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