// Copyright 2013-2022, University of Colorado Boulder

/**
 * Beam is the model of the light as a solid beam.
 * Changes in wavelength affect the entire beam instantaneously.
 * Consists of 3 segments: left (between light and cuvette), center (inside cuvette), and right (to right of cuvette).
 * Beam may be intercepted at any point by the SolutionInCuvette-Transmittance detector.
 * The beam is in the probe if the entire beam is in contact with the probe lens.
 *
 * Unlike most model types, properties are in view coordinates.
 * This makes it convenient to describe the beam's shape and gradient fill.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import Utils from '../../../../dot/js/Utils.js';
import { Shape } from '../../../../kite/js/imports.js';
import VisibleColor from '../../../../scenery-phet/js/VisibleColor.js';
import { LinearGradient } from '../../../../scenery/js/imports.js';
import beersLawLab from '../../beersLawLab.js';
// constants
const MAX_LIGHT_WIDTH = 50; // cm, wide enough to be way off the right edge of the play area
const MAX_LIGHT_ALPHA = 0.78; // transparency of light when transmittance is 1.0 (tuned by eye)
const MIN_LIGHT_ALPHA = 0.078; // min transparency of light when transmittance is non-zero (tuned by eye)

export default class Beam {
  // Shape of the beam, null when the light is off.

  // beam color, a left-to-right linear gradient that transitions inside the solution

  constructor(light, cuvette, detector, solutionInCuvette, modelViewTransform) {
    // Make the beam visible when the light is on.
    this.visibleProperty = new DerivedProperty([light.isOnProperty], lightIsOn => lightIsOn);

    // beam shape, with added overlap, to hide space between beam and light housing
    const xOverlap = modelViewTransform.modelToViewDeltaX(1);
    this.shapeProperty = new DerivedProperty([this.visibleProperty, cuvette.widthProperty, detector.probe.positionProperty], (beamVisible, cuvetteWidth, probePosition) => {
      if (beamVisible) {
        const x = modelViewTransform.modelToViewPosition(light.position).x - xOverlap;
        const y = modelViewTransform.modelToViewPosition(light.position).y - modelViewTransform.modelToViewDeltaY(light.lensDiameter / 2);
        const w = modelViewTransform.modelToViewDeltaX(detector.isProbeInBeam() ? probePosition.x - light.position.x : MAX_LIGHT_WIDTH) + xOverlap;
        const h = modelViewTransform.modelToViewDeltaY(light.lensDiameter);
        return Shape.rect(x, y, w, h);
      } else {
        return null;
      }
    });
    this.fillProperty = new DerivedProperty([this.visibleProperty, cuvette.widthProperty, light.wavelengthProperty, solutionInCuvette.transmittanceProperty], (beamVisible, cuvetteWidth, wavelength, transmittance) => {
      if (beamVisible) {
        const baseColor = VisibleColor.wavelengthToColor(wavelength);
        const leftColor = baseColor.withAlpha(MAX_LIGHT_ALPHA);
        const rightColor = baseColor.withAlpha(Utils.linear(0, 1, MIN_LIGHT_ALPHA, MAX_LIGHT_ALPHA, transmittance));
        const x = modelViewTransform.modelToViewPosition(cuvette.position).x;
        const w = modelViewTransform.modelToViewDeltaX(cuvetteWidth);
        return new LinearGradient(x, 0, x + w, 0).addColorStop(0, leftColor).addColorStop(1, rightColor);
      } else {
        return null;
      }
    });
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
  }
}
beersLawLab.register('Beam', Beam);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJVdGlscyIsIlNoYXBlIiwiVmlzaWJsZUNvbG9yIiwiTGluZWFyR3JhZGllbnQiLCJiZWVyc0xhd0xhYiIsIk1BWF9MSUdIVF9XSURUSCIsIk1BWF9MSUdIVF9BTFBIQSIsIk1JTl9MSUdIVF9BTFBIQSIsIkJlYW0iLCJjb25zdHJ1Y3RvciIsImxpZ2h0IiwiY3V2ZXR0ZSIsImRldGVjdG9yIiwic29sdXRpb25JbkN1dmV0dGUiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJ2aXNpYmxlUHJvcGVydHkiLCJpc09uUHJvcGVydHkiLCJsaWdodElzT24iLCJ4T3ZlcmxhcCIsIm1vZGVsVG9WaWV3RGVsdGFYIiwic2hhcGVQcm9wZXJ0eSIsIndpZHRoUHJvcGVydHkiLCJwcm9iZSIsInBvc2l0aW9uUHJvcGVydHkiLCJiZWFtVmlzaWJsZSIsImN1dmV0dGVXaWR0aCIsInByb2JlUG9zaXRpb24iLCJ4IiwibW9kZWxUb1ZpZXdQb3NpdGlvbiIsInBvc2l0aW9uIiwieSIsIm1vZGVsVG9WaWV3RGVsdGFZIiwibGVuc0RpYW1ldGVyIiwidyIsImlzUHJvYmVJbkJlYW0iLCJoIiwicmVjdCIsImZpbGxQcm9wZXJ0eSIsIndhdmVsZW5ndGhQcm9wZXJ0eSIsInRyYW5zbWl0dGFuY2VQcm9wZXJ0eSIsIndhdmVsZW5ndGgiLCJ0cmFuc21pdHRhbmNlIiwiYmFzZUNvbG9yIiwid2F2ZWxlbmd0aFRvQ29sb3IiLCJsZWZ0Q29sb3IiLCJ3aXRoQWxwaGEiLCJyaWdodENvbG9yIiwibGluZWFyIiwiYWRkQ29sb3JTdG9wIiwiZGlzcG9zZSIsImFzc2VydCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQmVhbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxMy0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBCZWFtIGlzIHRoZSBtb2RlbCBvZiB0aGUgbGlnaHQgYXMgYSBzb2xpZCBiZWFtLlxyXG4gKiBDaGFuZ2VzIGluIHdhdmVsZW5ndGggYWZmZWN0IHRoZSBlbnRpcmUgYmVhbSBpbnN0YW50YW5lb3VzbHkuXHJcbiAqIENvbnNpc3RzIG9mIDMgc2VnbWVudHM6IGxlZnQgKGJldHdlZW4gbGlnaHQgYW5kIGN1dmV0dGUpLCBjZW50ZXIgKGluc2lkZSBjdXZldHRlKSwgYW5kIHJpZ2h0ICh0byByaWdodCBvZiBjdXZldHRlKS5cclxuICogQmVhbSBtYXkgYmUgaW50ZXJjZXB0ZWQgYXQgYW55IHBvaW50IGJ5IHRoZSBTb2x1dGlvbkluQ3V2ZXR0ZS1UcmFuc21pdHRhbmNlIGRldGVjdG9yLlxyXG4gKiBUaGUgYmVhbSBpcyBpbiB0aGUgcHJvYmUgaWYgdGhlIGVudGlyZSBiZWFtIGlzIGluIGNvbnRhY3Qgd2l0aCB0aGUgcHJvYmUgbGVucy5cclxuICpcclxuICogVW5saWtlIG1vc3QgbW9kZWwgdHlwZXMsIHByb3BlcnRpZXMgYXJlIGluIHZpZXcgY29vcmRpbmF0ZXMuXHJcbiAqIFRoaXMgbWFrZXMgaXQgY29udmVuaWVudCB0byBkZXNjcmliZSB0aGUgYmVhbSdzIHNoYXBlIGFuZCBncmFkaWVudCBmaWxsLlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBVdGlscyBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVXRpbHMuanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBNb2RlbFZpZXdUcmFuc2Zvcm0yIGZyb20gJy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvdmlldy9Nb2RlbFZpZXdUcmFuc2Zvcm0yLmpzJztcclxuaW1wb3J0IFZpc2libGVDb2xvciBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvVmlzaWJsZUNvbG9yLmpzJztcclxuaW1wb3J0IHsgTGluZWFyR3JhZGllbnQgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgYmVlcnNMYXdMYWIgZnJvbSAnLi4vLi4vYmVlcnNMYXdMYWIuanMnO1xyXG5pbXBvcnQgU29sdXRpb25JbkN1dmV0dGUgZnJvbSAnLi9Tb2x1dGlvbkluQ3V2ZXR0ZS5qcyc7XHJcbmltcG9ydCBBVERldGVjdG9yIGZyb20gJy4vQVREZXRlY3Rvci5qcyc7XHJcbmltcG9ydCBDdXZldHRlIGZyb20gJy4vQ3V2ZXR0ZS5qcyc7XHJcbmltcG9ydCBMaWdodCBmcm9tICcuL0xpZ2h0LmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBNQVhfTElHSFRfV0lEVEggPSA1MDsgLy8gY20sIHdpZGUgZW5vdWdoIHRvIGJlIHdheSBvZmYgdGhlIHJpZ2h0IGVkZ2Ugb2YgdGhlIHBsYXkgYXJlYVxyXG5jb25zdCBNQVhfTElHSFRfQUxQSEEgPSAwLjc4OyAvLyB0cmFuc3BhcmVuY3kgb2YgbGlnaHQgd2hlbiB0cmFuc21pdHRhbmNlIGlzIDEuMCAodHVuZWQgYnkgZXllKVxyXG5jb25zdCBNSU5fTElHSFRfQUxQSEEgPSAwLjA3ODsgLy8gbWluIHRyYW5zcGFyZW5jeSBvZiBsaWdodCB3aGVuIHRyYW5zbWl0dGFuY2UgaXMgbm9uLXplcm8gKHR1bmVkIGJ5IGV5ZSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJlYW0ge1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgdmlzaWJsZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPjtcclxuXHJcbiAgLy8gU2hhcGUgb2YgdGhlIGJlYW0sIG51bGwgd2hlbiB0aGUgbGlnaHQgaXMgb2ZmLlxyXG4gIHB1YmxpYyByZWFkb25seSBzaGFwZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxTaGFwZSB8IG51bGw+O1xyXG5cclxuICAvLyBiZWFtIGNvbG9yLCBhIGxlZnQtdG8tcmlnaHQgbGluZWFyIGdyYWRpZW50IHRoYXQgdHJhbnNpdGlvbnMgaW5zaWRlIHRoZSBzb2x1dGlvblxyXG4gIHB1YmxpYyByZWFkb25seSBmaWxsUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PExpbmVhckdyYWRpZW50IHwgbnVsbD47XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggbGlnaHQ6IExpZ2h0LCBjdXZldHRlOiBDdXZldHRlLCBkZXRlY3RvcjogQVREZXRlY3RvcixcclxuICAgICAgICAgICAgICAgICAgICAgIHNvbHV0aW9uSW5DdXZldHRlOiBTb2x1dGlvbkluQ3V2ZXR0ZSwgbW9kZWxWaWV3VHJhbnNmb3JtOiBNb2RlbFZpZXdUcmFuc2Zvcm0yICkge1xyXG5cclxuICAgIC8vIE1ha2UgdGhlIGJlYW0gdmlzaWJsZSB3aGVuIHRoZSBsaWdodCBpcyBvbi5cclxuICAgIHRoaXMudmlzaWJsZVByb3BlcnR5ID0gbmV3IERlcml2ZWRQcm9wZXJ0eSggWyBsaWdodC5pc09uUHJvcGVydHkgXSwgbGlnaHRJc09uID0+IGxpZ2h0SXNPbiApO1xyXG5cclxuICAgIC8vIGJlYW0gc2hhcGUsIHdpdGggYWRkZWQgb3ZlcmxhcCwgdG8gaGlkZSBzcGFjZSBiZXR3ZWVuIGJlYW0gYW5kIGxpZ2h0IGhvdXNpbmdcclxuICAgIGNvbnN0IHhPdmVybGFwID0gbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3RGVsdGFYKCAxICk7XHJcblxyXG4gICAgdGhpcy5zaGFwZVByb3BlcnR5ID0gbmV3IERlcml2ZWRQcm9wZXJ0eShcclxuICAgICAgWyB0aGlzLnZpc2libGVQcm9wZXJ0eSwgY3V2ZXR0ZS53aWR0aFByb3BlcnR5LCBkZXRlY3Rvci5wcm9iZS5wb3NpdGlvblByb3BlcnR5IF0sXHJcbiAgICAgICggYmVhbVZpc2libGUsIGN1dmV0dGVXaWR0aCwgcHJvYmVQb3NpdGlvbiApID0+IHtcclxuICAgICAgICBpZiAoIGJlYW1WaXNpYmxlICkge1xyXG4gICAgICAgICAgY29uc3QgeCA9IG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1Bvc2l0aW9uKCBsaWdodC5wb3NpdGlvbiApLnggLSB4T3ZlcmxhcDtcclxuICAgICAgICAgIGNvbnN0IHkgPSBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdQb3NpdGlvbiggbGlnaHQucG9zaXRpb24gKS55IC0gbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3RGVsdGFZKCBsaWdodC5sZW5zRGlhbWV0ZXIgLyAyICk7XHJcbiAgICAgICAgICBjb25zdCB3ID0gbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3RGVsdGFYKCBkZXRlY3Rvci5pc1Byb2JlSW5CZWFtKCkgPyBwcm9iZVBvc2l0aW9uLnggLSBsaWdodC5wb3NpdGlvbi54IDogTUFYX0xJR0hUX1dJRFRIICkgKyB4T3ZlcmxhcDtcclxuICAgICAgICAgIGNvbnN0IGggPSBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdEZWx0YVkoIGxpZ2h0LmxlbnNEaWFtZXRlciApO1xyXG4gICAgICAgICAgcmV0dXJuIFNoYXBlLnJlY3QoIHgsIHksIHcsIGggKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmZpbGxQcm9wZXJ0eSA9IG5ldyBEZXJpdmVkUHJvcGVydHkoXHJcbiAgICAgIFsgdGhpcy52aXNpYmxlUHJvcGVydHksIGN1dmV0dGUud2lkdGhQcm9wZXJ0eSwgbGlnaHQud2F2ZWxlbmd0aFByb3BlcnR5LCBzb2x1dGlvbkluQ3V2ZXR0ZS50cmFuc21pdHRhbmNlUHJvcGVydHkgXSxcclxuICAgICAgKCBiZWFtVmlzaWJsZSwgY3V2ZXR0ZVdpZHRoLCB3YXZlbGVuZ3RoLCB0cmFuc21pdHRhbmNlICkgPT4ge1xyXG4gICAgICAgIGlmICggYmVhbVZpc2libGUgKSB7XHJcbiAgICAgICAgICBjb25zdCBiYXNlQ29sb3IgPSBWaXNpYmxlQ29sb3Iud2F2ZWxlbmd0aFRvQ29sb3IoIHdhdmVsZW5ndGggKTtcclxuICAgICAgICAgIGNvbnN0IGxlZnRDb2xvciA9IGJhc2VDb2xvci53aXRoQWxwaGEoIE1BWF9MSUdIVF9BTFBIQSApO1xyXG4gICAgICAgICAgY29uc3QgcmlnaHRDb2xvciA9IGJhc2VDb2xvci53aXRoQWxwaGEoIFV0aWxzLmxpbmVhciggMCwgMSwgTUlOX0xJR0hUX0FMUEhBLCBNQVhfTElHSFRfQUxQSEEsIHRyYW5zbWl0dGFuY2UgKSApO1xyXG4gICAgICAgICAgY29uc3QgeCA9IG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1Bvc2l0aW9uKCBjdXZldHRlLnBvc2l0aW9uICkueDtcclxuICAgICAgICAgIGNvbnN0IHcgPSBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdEZWx0YVgoIGN1dmV0dGVXaWR0aCApO1xyXG4gICAgICAgICAgcmV0dXJuIG5ldyBMaW5lYXJHcmFkaWVudCggeCwgMCwgeCArIHcsIDAgKS5hZGRDb2xvclN0b3AoIDAsIGxlZnRDb2xvciApLmFkZENvbG9yU3RvcCggMSwgcmlnaHRDb2xvciApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBmYWxzZSwgJ2Rpc3Bvc2UgaXMgbm90IHN1cHBvcnRlZCwgZXhpc3RzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbScgKTtcclxuICB9XHJcbn1cclxuXHJcbmJlZXJzTGF3TGFiLnJlZ2lzdGVyKCAnQmVhbScs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