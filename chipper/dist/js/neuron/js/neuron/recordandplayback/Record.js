// Copyright 2014-2021, University of Colorado Boulder

/**
 * Type representing the 'record' mode within the RecordAndPlaybackModel.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 * @author Sharfudeen Ashraf (for Ghent University)
 */

import neuron from '../../neuron.js';
import DataPoint from './DataPoint.js';
import Mode from './Mode.js';
class Record extends Mode {
  /**
   * @param {RecordAndPlaybackModel} recordAndPlaybackModel
   */
  constructor(recordAndPlaybackModel) {
    super();
    this.recordAndPlaybackModel = recordAndPlaybackModel;
  }

  /**
   * @override
   * @public
   * @param {number} simulationTimeChange
   */
  step(simulationTimeChange) {
    this.recordAndPlaybackModel.setTime(this.recordAndPlaybackModel.getTime() + simulationTimeChange);
    const state = this.recordAndPlaybackModel.stepInTime(simulationTimeChange);
    // only record the point if we have space
    this.recordAndPlaybackModel.addRecordedPoint(new DataPoint(this.recordAndPlaybackModel.getTime(), state));
  }

  /**
   * @override
   * @public
   */
  toString() {
    return 'Record';
  }
}
neuron.register('Record', Record);
export default Record;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJuZXVyb24iLCJEYXRhUG9pbnQiLCJNb2RlIiwiUmVjb3JkIiwiY29uc3RydWN0b3IiLCJyZWNvcmRBbmRQbGF5YmFja01vZGVsIiwic3RlcCIsInNpbXVsYXRpb25UaW1lQ2hhbmdlIiwic2V0VGltZSIsImdldFRpbWUiLCJzdGF0ZSIsInN0ZXBJblRpbWUiLCJhZGRSZWNvcmRlZFBvaW50IiwidG9TdHJpbmciLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlJlY29yZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNC0yMDIxLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBUeXBlIHJlcHJlc2VudGluZyB0aGUgJ3JlY29yZCcgbW9kZSB3aXRoaW4gdGhlIFJlY29yZEFuZFBsYXliYWNrTW9kZWwuXHJcbiAqXHJcbiAqIEBhdXRob3IgU2FtIFJlaWQgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgU2hhcmZ1ZGVlbiBBc2hyYWYgKGZvciBHaGVudCBVbml2ZXJzaXR5KVxyXG4gKi9cclxuXHJcbmltcG9ydCBuZXVyb24gZnJvbSAnLi4vLi4vbmV1cm9uLmpzJztcclxuaW1wb3J0IERhdGFQb2ludCBmcm9tICcuL0RhdGFQb2ludC5qcyc7XHJcbmltcG9ydCBNb2RlIGZyb20gJy4vTW9kZS5qcyc7XHJcblxyXG5jbGFzcyBSZWNvcmQgZXh0ZW5kcyBNb2RlIHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtSZWNvcmRBbmRQbGF5YmFja01vZGVsfSByZWNvcmRBbmRQbGF5YmFja01vZGVsXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIHJlY29yZEFuZFBsYXliYWNrTW9kZWwgKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5yZWNvcmRBbmRQbGF5YmFja01vZGVsID0gcmVjb3JkQW5kUGxheWJhY2tNb2RlbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBvdmVycmlkZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2ltdWxhdGlvblRpbWVDaGFuZ2VcclxuICAgKi9cclxuICBzdGVwKCBzaW11bGF0aW9uVGltZUNoYW5nZSApIHtcclxuICAgIHRoaXMucmVjb3JkQW5kUGxheWJhY2tNb2RlbC5zZXRUaW1lKCB0aGlzLnJlY29yZEFuZFBsYXliYWNrTW9kZWwuZ2V0VGltZSgpICsgc2ltdWxhdGlvblRpbWVDaGFuZ2UgKTtcclxuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5yZWNvcmRBbmRQbGF5YmFja01vZGVsLnN0ZXBJblRpbWUoIHNpbXVsYXRpb25UaW1lQ2hhbmdlICk7XHJcbiAgICAvLyBvbmx5IHJlY29yZCB0aGUgcG9pbnQgaWYgd2UgaGF2ZSBzcGFjZVxyXG4gICAgdGhpcy5yZWNvcmRBbmRQbGF5YmFja01vZGVsLmFkZFJlY29yZGVkUG9pbnQoIG5ldyBEYXRhUG9pbnQoIHRoaXMucmVjb3JkQW5kUGxheWJhY2tNb2RlbC5nZXRUaW1lKCksIHN0YXRlICkgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBvdmVycmlkZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiAnUmVjb3JkJztcclxuICB9XHJcbn1cclxuXHJcbm5ldXJvbi5yZWdpc3RlciggJ1JlY29yZCcsIFJlY29yZCApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmVjb3JkOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLE1BQU0sTUFBTSxpQkFBaUI7QUFDcEMsT0FBT0MsU0FBUyxNQUFNLGdCQUFnQjtBQUN0QyxPQUFPQyxJQUFJLE1BQU0sV0FBVztBQUU1QixNQUFNQyxNQUFNLFNBQVNELElBQUksQ0FBQztFQUV4QjtBQUNGO0FBQ0E7RUFDRUUsV0FBV0EsQ0FBRUMsc0JBQXNCLEVBQUc7SUFDcEMsS0FBSyxDQUFDLENBQUM7SUFDUCxJQUFJLENBQUNBLHNCQUFzQixHQUFHQSxzQkFBc0I7RUFDdEQ7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtFQUNFQyxJQUFJQSxDQUFFQyxvQkFBb0IsRUFBRztJQUMzQixJQUFJLENBQUNGLHNCQUFzQixDQUFDRyxPQUFPLENBQUUsSUFBSSxDQUFDSCxzQkFBc0IsQ0FBQ0ksT0FBTyxDQUFDLENBQUMsR0FBR0Ysb0JBQXFCLENBQUM7SUFDbkcsTUFBTUcsS0FBSyxHQUFHLElBQUksQ0FBQ0wsc0JBQXNCLENBQUNNLFVBQVUsQ0FBRUosb0JBQXFCLENBQUM7SUFDNUU7SUFDQSxJQUFJLENBQUNGLHNCQUFzQixDQUFDTyxnQkFBZ0IsQ0FBRSxJQUFJWCxTQUFTLENBQUUsSUFBSSxDQUFDSSxzQkFBc0IsQ0FBQ0ksT0FBTyxDQUFDLENBQUMsRUFBRUMsS0FBTSxDQUFFLENBQUM7RUFDL0c7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7RUFDRUcsUUFBUUEsQ0FBQSxFQUFHO0lBQ1QsT0FBTyxRQUFRO0VBQ2pCO0FBQ0Y7QUFFQWIsTUFBTSxDQUFDYyxRQUFRLENBQUUsUUFBUSxFQUFFWCxNQUFPLENBQUM7QUFFbkMsZUFBZUEsTUFBTSJ9