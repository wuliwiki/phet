// Copyright 2014-2020, University of Colorado Boulder

/**
 * Abstract base class for a simulated particle.  It is intended that this be subclassed for each specific particle
 * type used in the simulation.
 *
 * This class serves as a Fadable element that can fade in or out of existence in based on different fade strategies.
 * Also functions as a "Movable" element that can be move differently based on different motion strategies.
 *
 * @author John Blanco
 * @Sharfudeen Ashraf (for Ghent University)
 */

import Property from '../../../../axon/js/Property.js';
import neuron from '../../neuron.js';
import MotionStrategy from './MotionStrategy.js';
import NullFadeStrategy from './NullFadeStrategy.js';
import ParticlePlaybackMemento from './ParticlePlaybackMemento.js';
import StillnessMotionStrategy from './StillnessMotionStrategy.js';
import ViewableParticle from './ViewableParticle.js';

// constants
const DEFAULT_PARTICLE_RADIUS = 0.75; // In nanometers.

class Particle extends ViewableParticle {
  /**
   * Construct a particle.
   * @param {number} xPos - initial X position of this particle
   * @param {number} yPos - initial Y position of this particle
   */
  constructor(xPos, yPos) {
    xPos = xPos || 0;
    yPos = yPos || 0;
    super({});

    // @public, used to signal if and when this particle should be removed from the model
    this.continueExistingProperty = new Property(true);

    // @private, position in space of this particle, units are nanometers, accessed through getter/setter methods
    this.positionX = xPos;
    this.positionY = yPos;

    // @public, opacity value, ranges from 0 (completely transparent) to 1 (completely opaque)
    this.opacity = 1;

    // @public - motion strategy for moving this particle around. StillnessMotionStrategy is stateless so use the
    // singleton instance.
    this.motionStrategy = StillnessMotionStrategy.getInstance();

    // @public - strategy for fading in and out
    this.fadeStrategy = NullFadeStrategy.getInstance();
  }

  // @public
  stepInTime(dt) {
    this.motionStrategy.move(this, this, dt);
    this.fadeStrategy.updateOpacity(this, dt);
    if (!this.fadeStrategy.shouldContinueExisting(this)) {
      // This particle has faded out of existence, so send out a notification that indicates that it is being removed
      // from the model.  The thinking here is that everyone with a reference to this particle should listen for this
      // notification and do any cleanup and removal of references needed.  If they don't, there will be memory leaks.
      this.continueExistingProperty.value = false;
    }
  }

  // @public
  isPositionEqual(otherX, otherY) {
    return this.positionX === otherX && this.positionY === otherY;
  }

  // @public
  getPositionX() {
    return this.positionX;
  }

  // @public
  getPositionY() {
    return this.positionY;
  }

  /**
   * Get the radius of the object being moved.  This is generally used when the object needs to "bounce" (i.e. change
   * direction because some limit has been reached).  Note that this assumes a circular object or one that is fairly
   * close to circular.  If this assumption of approximate roundness proves to be too much of a limitation at some
   * point in the future, this may need to be generalized to be a bounding rectangle or some such thing.
   * @public
   */
  getRadius() {
    return DEFAULT_PARTICLE_RADIUS; // Default value, override if needed to support other particles.
  }

  // @public
  setFadeStrategy(fadeStrategy) {
    this.fadeStrategy = fadeStrategy;
  }

  // @public
  setMotionStrategy(motionStrategy) {
    this.motionStrategy = motionStrategy;
  }

  // @public
  setPosition(x, y) {
    this.positionX = x;
    this.positionY = y;
  }

  // @public
  isAvailableForCapture() {
    // If the particle is not in the process of trying to traverse a membrane channel, then it should be considered
    // to be available for capture.
    return !(this.motionStrategy instanceof MotionStrategy);
  }

  /**
   * Get a playback memento, which can be used when doing playback of previous model states.  Note that the memento
   * does not capture all of the particle's state, just enough to support playback.
   * @public
   */
  getPlaybackMemento() {
    return new ParticlePlaybackMemento(this);
  }

  // @public
  setOpacity(opacity) {
    this.opacity = opacity;
  }

  // @public
  getOpacity() {
    return this.opacity;
  }
}
neuron.register('Particle', Particle);
export default Particle;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIm5ldXJvbiIsIk1vdGlvblN0cmF0ZWd5IiwiTnVsbEZhZGVTdHJhdGVneSIsIlBhcnRpY2xlUGxheWJhY2tNZW1lbnRvIiwiU3RpbGxuZXNzTW90aW9uU3RyYXRlZ3kiLCJWaWV3YWJsZVBhcnRpY2xlIiwiREVGQVVMVF9QQVJUSUNMRV9SQURJVVMiLCJQYXJ0aWNsZSIsImNvbnN0cnVjdG9yIiwieFBvcyIsInlQb3MiLCJjb250aW51ZUV4aXN0aW5nUHJvcGVydHkiLCJwb3NpdGlvblgiLCJwb3NpdGlvblkiLCJvcGFjaXR5IiwibW90aW9uU3RyYXRlZ3kiLCJnZXRJbnN0YW5jZSIsImZhZGVTdHJhdGVneSIsInN0ZXBJblRpbWUiLCJkdCIsIm1vdmUiLCJ1cGRhdGVPcGFjaXR5Iiwic2hvdWxkQ29udGludWVFeGlzdGluZyIsInZhbHVlIiwiaXNQb3NpdGlvbkVxdWFsIiwib3RoZXJYIiwib3RoZXJZIiwiZ2V0UG9zaXRpb25YIiwiZ2V0UG9zaXRpb25ZIiwiZ2V0UmFkaXVzIiwic2V0RmFkZVN0cmF0ZWd5Iiwic2V0TW90aW9uU3RyYXRlZ3kiLCJzZXRQb3NpdGlvbiIsIngiLCJ5IiwiaXNBdmFpbGFibGVGb3JDYXB0dXJlIiwiZ2V0UGxheWJhY2tNZW1lbnRvIiwic2V0T3BhY2l0eSIsImdldE9wYWNpdHkiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlBhcnRpY2xlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE0LTIwMjAsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGEgc2ltdWxhdGVkIHBhcnRpY2xlLiAgSXQgaXMgaW50ZW5kZWQgdGhhdCB0aGlzIGJlIHN1YmNsYXNzZWQgZm9yIGVhY2ggc3BlY2lmaWMgcGFydGljbGVcclxuICogdHlwZSB1c2VkIGluIHRoZSBzaW11bGF0aW9uLlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIHNlcnZlcyBhcyBhIEZhZGFibGUgZWxlbWVudCB0aGF0IGNhbiBmYWRlIGluIG9yIG91dCBvZiBleGlzdGVuY2UgaW4gYmFzZWQgb24gZGlmZmVyZW50IGZhZGUgc3RyYXRlZ2llcy5cclxuICogQWxzbyBmdW5jdGlvbnMgYXMgYSBcIk1vdmFibGVcIiBlbGVtZW50IHRoYXQgY2FuIGJlIG1vdmUgZGlmZmVyZW50bHkgYmFzZWQgb24gZGlmZmVyZW50IG1vdGlvbiBzdHJhdGVnaWVzLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvaG4gQmxhbmNvXHJcbiAqIEBTaGFyZnVkZWVuIEFzaHJhZiAoZm9yIEdoZW50IFVuaXZlcnNpdHkpXHJcbiAqL1xyXG5cclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgbmV1cm9uIGZyb20gJy4uLy4uL25ldXJvbi5qcyc7XHJcbmltcG9ydCBNb3Rpb25TdHJhdGVneSBmcm9tICcuL01vdGlvblN0cmF0ZWd5LmpzJztcclxuaW1wb3J0IE51bGxGYWRlU3RyYXRlZ3kgZnJvbSAnLi9OdWxsRmFkZVN0cmF0ZWd5LmpzJztcclxuaW1wb3J0IFBhcnRpY2xlUGxheWJhY2tNZW1lbnRvIGZyb20gJy4vUGFydGljbGVQbGF5YmFja01lbWVudG8uanMnO1xyXG5pbXBvcnQgU3RpbGxuZXNzTW90aW9uU3RyYXRlZ3kgZnJvbSAnLi9TdGlsbG5lc3NNb3Rpb25TdHJhdGVneS5qcyc7XHJcbmltcG9ydCBWaWV3YWJsZVBhcnRpY2xlIGZyb20gJy4vVmlld2FibGVQYXJ0aWNsZS5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgREVGQVVMVF9QQVJUSUNMRV9SQURJVVMgPSAwLjc1OyAgLy8gSW4gbmFub21ldGVycy5cclxuXHJcbmNsYXNzIFBhcnRpY2xlIGV4dGVuZHMgVmlld2FibGVQYXJ0aWNsZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdCBhIHBhcnRpY2xlLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4UG9zIC0gaW5pdGlhbCBYIHBvc2l0aW9uIG9mIHRoaXMgcGFydGljbGVcclxuICAgKiBAcGFyYW0ge251bWJlcn0geVBvcyAtIGluaXRpYWwgWSBwb3NpdGlvbiBvZiB0aGlzIHBhcnRpY2xlXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIHhQb3MsIHlQb3MgKSB7XHJcbiAgICB4UG9zID0geFBvcyB8fCAwO1xyXG4gICAgeVBvcyA9IHlQb3MgfHwgMDtcclxuXHJcbiAgICBzdXBlcigge30gKTtcclxuXHJcbiAgICAvLyBAcHVibGljLCB1c2VkIHRvIHNpZ25hbCBpZiBhbmQgd2hlbiB0aGlzIHBhcnRpY2xlIHNob3VsZCBiZSByZW1vdmVkIGZyb20gdGhlIG1vZGVsXHJcbiAgICB0aGlzLmNvbnRpbnVlRXhpc3RpbmdQcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eSggdHJ1ZSApO1xyXG5cclxuICAgIC8vIEBwcml2YXRlLCBwb3NpdGlvbiBpbiBzcGFjZSBvZiB0aGlzIHBhcnRpY2xlLCB1bml0cyBhcmUgbmFub21ldGVycywgYWNjZXNzZWQgdGhyb3VnaCBnZXR0ZXIvc2V0dGVyIG1ldGhvZHNcclxuICAgIHRoaXMucG9zaXRpb25YID0geFBvcztcclxuICAgIHRoaXMucG9zaXRpb25ZID0geVBvcztcclxuXHJcbiAgICAvLyBAcHVibGljLCBvcGFjaXR5IHZhbHVlLCByYW5nZXMgZnJvbSAwIChjb21wbGV0ZWx5IHRyYW5zcGFyZW50KSB0byAxIChjb21wbGV0ZWx5IG9wYXF1ZSlcclxuICAgIHRoaXMub3BhY2l0eSA9IDE7XHJcblxyXG4gICAgLy8gQHB1YmxpYyAtIG1vdGlvbiBzdHJhdGVneSBmb3IgbW92aW5nIHRoaXMgcGFydGljbGUgYXJvdW5kLiBTdGlsbG5lc3NNb3Rpb25TdHJhdGVneSBpcyBzdGF0ZWxlc3Mgc28gdXNlIHRoZVxyXG4gICAgLy8gc2luZ2xldG9uIGluc3RhbmNlLlxyXG4gICAgdGhpcy5tb3Rpb25TdHJhdGVneSA9IFN0aWxsbmVzc01vdGlvblN0cmF0ZWd5LmdldEluc3RhbmNlKCk7XHJcblxyXG4gICAgLy8gQHB1YmxpYyAtIHN0cmF0ZWd5IGZvciBmYWRpbmcgaW4gYW5kIG91dFxyXG4gICAgdGhpcy5mYWRlU3RyYXRlZ3kgPSBOdWxsRmFkZVN0cmF0ZWd5LmdldEluc3RhbmNlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBAcHVibGljXHJcbiAgc3RlcEluVGltZSggZHQgKSB7XHJcbiAgICB0aGlzLm1vdGlvblN0cmF0ZWd5Lm1vdmUoIHRoaXMsIHRoaXMsIGR0ICk7XHJcbiAgICB0aGlzLmZhZGVTdHJhdGVneS51cGRhdGVPcGFjaXR5KCB0aGlzLCBkdCApO1xyXG4gICAgaWYgKCAhdGhpcy5mYWRlU3RyYXRlZ3kuc2hvdWxkQ29udGludWVFeGlzdGluZyggdGhpcyApICkge1xyXG4gICAgICAvLyBUaGlzIHBhcnRpY2xlIGhhcyBmYWRlZCBvdXQgb2YgZXhpc3RlbmNlLCBzbyBzZW5kIG91dCBhIG5vdGlmaWNhdGlvbiB0aGF0IGluZGljYXRlcyB0aGF0IGl0IGlzIGJlaW5nIHJlbW92ZWRcclxuICAgICAgLy8gZnJvbSB0aGUgbW9kZWwuICBUaGUgdGhpbmtpbmcgaGVyZSBpcyB0aGF0IGV2ZXJ5b25lIHdpdGggYSByZWZlcmVuY2UgdG8gdGhpcyBwYXJ0aWNsZSBzaG91bGQgbGlzdGVuIGZvciB0aGlzXHJcbiAgICAgIC8vIG5vdGlmaWNhdGlvbiBhbmQgZG8gYW55IGNsZWFudXAgYW5kIHJlbW92YWwgb2YgcmVmZXJlbmNlcyBuZWVkZWQuICBJZiB0aGV5IGRvbid0LCB0aGVyZSB3aWxsIGJlIG1lbW9yeSBsZWFrcy5cclxuICAgICAgdGhpcy5jb250aW51ZUV4aXN0aW5nUHJvcGVydHkudmFsdWUgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEBwdWJsaWNcclxuICBpc1Bvc2l0aW9uRXF1YWwoIG90aGVyWCwgb3RoZXJZICkge1xyXG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb25YID09PSBvdGhlclggJiYgdGhpcy5wb3NpdGlvblkgPT09IG90aGVyWTtcclxuICB9XHJcblxyXG4gIC8vIEBwdWJsaWNcclxuICBnZXRQb3NpdGlvblgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvblg7XHJcbiAgfVxyXG5cclxuICAvLyBAcHVibGljXHJcbiAgZ2V0UG9zaXRpb25ZKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb25ZO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSByYWRpdXMgb2YgdGhlIG9iamVjdCBiZWluZyBtb3ZlZC4gIFRoaXMgaXMgZ2VuZXJhbGx5IHVzZWQgd2hlbiB0aGUgb2JqZWN0IG5lZWRzIHRvIFwiYm91bmNlXCIgKGkuZS4gY2hhbmdlXHJcbiAgICogZGlyZWN0aW9uIGJlY2F1c2Ugc29tZSBsaW1pdCBoYXMgYmVlbiByZWFjaGVkKS4gIE5vdGUgdGhhdCB0aGlzIGFzc3VtZXMgYSBjaXJjdWxhciBvYmplY3Qgb3Igb25lIHRoYXQgaXMgZmFpcmx5XHJcbiAgICogY2xvc2UgdG8gY2lyY3VsYXIuICBJZiB0aGlzIGFzc3VtcHRpb24gb2YgYXBwcm94aW1hdGUgcm91bmRuZXNzIHByb3ZlcyB0byBiZSB0b28gbXVjaCBvZiBhIGxpbWl0YXRpb24gYXQgc29tZVxyXG4gICAqIHBvaW50IGluIHRoZSBmdXR1cmUsIHRoaXMgbWF5IG5lZWQgdG8gYmUgZ2VuZXJhbGl6ZWQgdG8gYmUgYSBib3VuZGluZyByZWN0YW5nbGUgb3Igc29tZSBzdWNoIHRoaW5nLlxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBnZXRSYWRpdXMoKSB7XHJcbiAgICByZXR1cm4gREVGQVVMVF9QQVJUSUNMRV9SQURJVVM7ICAgLy8gRGVmYXVsdCB2YWx1ZSwgb3ZlcnJpZGUgaWYgbmVlZGVkIHRvIHN1cHBvcnQgb3RoZXIgcGFydGljbGVzLlxyXG4gIH1cclxuXHJcbiAgLy8gQHB1YmxpY1xyXG4gIHNldEZhZGVTdHJhdGVneSggZmFkZVN0cmF0ZWd5ICkge1xyXG4gICAgdGhpcy5mYWRlU3RyYXRlZ3kgPSBmYWRlU3RyYXRlZ3k7XHJcbiAgfVxyXG5cclxuICAvLyBAcHVibGljXHJcbiAgc2V0TW90aW9uU3RyYXRlZ3koIG1vdGlvblN0cmF0ZWd5ICkge1xyXG4gICAgdGhpcy5tb3Rpb25TdHJhdGVneSA9IG1vdGlvblN0cmF0ZWd5O1xyXG4gIH1cclxuXHJcbiAgLy8gQHB1YmxpY1xyXG4gIHNldFBvc2l0aW9uKCB4LCB5ICkge1xyXG4gICAgdGhpcy5wb3NpdGlvblggPSB4O1xyXG4gICAgdGhpcy5wb3NpdGlvblkgPSB5O1xyXG4gIH1cclxuXHJcbiAgLy8gQHB1YmxpY1xyXG4gIGlzQXZhaWxhYmxlRm9yQ2FwdHVyZSgpIHtcclxuICAgIC8vIElmIHRoZSBwYXJ0aWNsZSBpcyBub3QgaW4gdGhlIHByb2Nlc3Mgb2YgdHJ5aW5nIHRvIHRyYXZlcnNlIGEgbWVtYnJhbmUgY2hhbm5lbCwgdGhlbiBpdCBzaG91bGQgYmUgY29uc2lkZXJlZFxyXG4gICAgLy8gdG8gYmUgYXZhaWxhYmxlIGZvciBjYXB0dXJlLlxyXG4gICAgcmV0dXJuICEoIHRoaXMubW90aW9uU3RyYXRlZ3kgaW5zdGFuY2VvZiBNb3Rpb25TdHJhdGVneSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGEgcGxheWJhY2sgbWVtZW50bywgd2hpY2ggY2FuIGJlIHVzZWQgd2hlbiBkb2luZyBwbGF5YmFjayBvZiBwcmV2aW91cyBtb2RlbCBzdGF0ZXMuICBOb3RlIHRoYXQgdGhlIG1lbWVudG9cclxuICAgKiBkb2VzIG5vdCBjYXB0dXJlIGFsbCBvZiB0aGUgcGFydGljbGUncyBzdGF0ZSwganVzdCBlbm91Z2ggdG8gc3VwcG9ydCBwbGF5YmFjay5cclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgZ2V0UGxheWJhY2tNZW1lbnRvKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQYXJ0aWNsZVBsYXliYWNrTWVtZW50byggdGhpcyApO1xyXG4gIH1cclxuXHJcbiAgLy8gQHB1YmxpY1xyXG4gIHNldE9wYWNpdHkoIG9wYWNpdHkgKSB7XHJcbiAgICB0aGlzLm9wYWNpdHkgPSBvcGFjaXR5O1xyXG4gIH1cclxuXHJcbiAgLy8gQHB1YmxpY1xyXG4gIGdldE9wYWNpdHkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vcGFjaXR5O1xyXG4gIH1cclxufVxyXG5cclxubmV1cm9uLnJlZ2lzdGVyKCAnUGFydGljbGUnLCBQYXJ0aWNsZSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFydGljbGU7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsUUFBUSxNQUFNLGlDQUFpQztBQUN0RCxPQUFPQyxNQUFNLE1BQU0saUJBQWlCO0FBQ3BDLE9BQU9DLGNBQWMsTUFBTSxxQkFBcUI7QUFDaEQsT0FBT0MsZ0JBQWdCLE1BQU0sdUJBQXVCO0FBQ3BELE9BQU9DLHVCQUF1QixNQUFNLDhCQUE4QjtBQUNsRSxPQUFPQyx1QkFBdUIsTUFBTSw4QkFBOEI7QUFDbEUsT0FBT0MsZ0JBQWdCLE1BQU0sdUJBQXVCOztBQUVwRDtBQUNBLE1BQU1DLHVCQUF1QixHQUFHLElBQUksQ0FBQyxDQUFFOztBQUV2QyxNQUFNQyxRQUFRLFNBQVNGLGdCQUFnQixDQUFDO0VBRXRDO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRUcsV0FBV0EsQ0FBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUc7SUFDeEJELElBQUksR0FBR0EsSUFBSSxJQUFJLENBQUM7SUFDaEJDLElBQUksR0FBR0EsSUFBSSxJQUFJLENBQUM7SUFFaEIsS0FBSyxDQUFFLENBQUMsQ0FBRSxDQUFDOztJQUVYO0lBQ0EsSUFBSSxDQUFDQyx3QkFBd0IsR0FBRyxJQUFJWixRQUFRLENBQUUsSUFBSyxDQUFDOztJQUVwRDtJQUNBLElBQUksQ0FBQ2EsU0FBUyxHQUFHSCxJQUFJO0lBQ3JCLElBQUksQ0FBQ0ksU0FBUyxHQUFHSCxJQUFJOztJQUVyQjtJQUNBLElBQUksQ0FBQ0ksT0FBTyxHQUFHLENBQUM7O0lBRWhCO0lBQ0E7SUFDQSxJQUFJLENBQUNDLGNBQWMsR0FBR1gsdUJBQXVCLENBQUNZLFdBQVcsQ0FBQyxDQUFDOztJQUUzRDtJQUNBLElBQUksQ0FBQ0MsWUFBWSxHQUFHZixnQkFBZ0IsQ0FBQ2MsV0FBVyxDQUFDLENBQUM7RUFDcEQ7O0VBRUE7RUFDQUUsVUFBVUEsQ0FBRUMsRUFBRSxFQUFHO0lBQ2YsSUFBSSxDQUFDSixjQUFjLENBQUNLLElBQUksQ0FBRSxJQUFJLEVBQUUsSUFBSSxFQUFFRCxFQUFHLENBQUM7SUFDMUMsSUFBSSxDQUFDRixZQUFZLENBQUNJLGFBQWEsQ0FBRSxJQUFJLEVBQUVGLEVBQUcsQ0FBQztJQUMzQyxJQUFLLENBQUMsSUFBSSxDQUFDRixZQUFZLENBQUNLLHNCQUFzQixDQUFFLElBQUssQ0FBQyxFQUFHO01BQ3ZEO01BQ0E7TUFDQTtNQUNBLElBQUksQ0FBQ1gsd0JBQXdCLENBQUNZLEtBQUssR0FBRyxLQUFLO0lBQzdDO0VBQ0Y7O0VBRUE7RUFDQUMsZUFBZUEsQ0FBRUMsTUFBTSxFQUFFQyxNQUFNLEVBQUc7SUFDaEMsT0FBTyxJQUFJLENBQUNkLFNBQVMsS0FBS2EsTUFBTSxJQUFJLElBQUksQ0FBQ1osU0FBUyxLQUFLYSxNQUFNO0VBQy9EOztFQUVBO0VBQ0FDLFlBQVlBLENBQUEsRUFBRztJQUNiLE9BQU8sSUFBSSxDQUFDZixTQUFTO0VBQ3ZCOztFQUVBO0VBQ0FnQixZQUFZQSxDQUFBLEVBQUc7SUFDYixPQUFPLElBQUksQ0FBQ2YsU0FBUztFQUN2Qjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFZ0IsU0FBU0EsQ0FBQSxFQUFHO0lBQ1YsT0FBT3ZCLHVCQUF1QixDQUFDLENBQUc7RUFDcEM7O0VBRUE7RUFDQXdCLGVBQWVBLENBQUViLFlBQVksRUFBRztJQUM5QixJQUFJLENBQUNBLFlBQVksR0FBR0EsWUFBWTtFQUNsQzs7RUFFQTtFQUNBYyxpQkFBaUJBLENBQUVoQixjQUFjLEVBQUc7SUFDbEMsSUFBSSxDQUFDQSxjQUFjLEdBQUdBLGNBQWM7RUFDdEM7O0VBRUE7RUFDQWlCLFdBQVdBLENBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFHO0lBQ2xCLElBQUksQ0FBQ3RCLFNBQVMsR0FBR3FCLENBQUM7SUFDbEIsSUFBSSxDQUFDcEIsU0FBUyxHQUFHcUIsQ0FBQztFQUNwQjs7RUFFQTtFQUNBQyxxQkFBcUJBLENBQUEsRUFBRztJQUN0QjtJQUNBO0lBQ0EsT0FBTyxFQUFHLElBQUksQ0FBQ3BCLGNBQWMsWUFBWWQsY0FBYyxDQUFFO0VBQzNEOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRW1DLGtCQUFrQkEsQ0FBQSxFQUFHO0lBQ25CLE9BQU8sSUFBSWpDLHVCQUF1QixDQUFFLElBQUssQ0FBQztFQUM1Qzs7RUFFQTtFQUNBa0MsVUFBVUEsQ0FBRXZCLE9BQU8sRUFBRztJQUNwQixJQUFJLENBQUNBLE9BQU8sR0FBR0EsT0FBTztFQUN4Qjs7RUFFQTtFQUNBd0IsVUFBVUEsQ0FBQSxFQUFHO0lBQ1gsT0FBTyxJQUFJLENBQUN4QixPQUFPO0VBQ3JCO0FBQ0Y7QUFFQWQsTUFBTSxDQUFDdUMsUUFBUSxDQUFFLFVBQVUsRUFBRWhDLFFBQVMsQ0FBQztBQUV2QyxlQUFlQSxRQUFRIn0=