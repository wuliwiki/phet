// Copyright 2021-2022, University of Colorado Boulder

/**
 * Reports the results of tsc() in a grunt context, failing if there are errors.
 * @author Sam Reid (PhET Interactive Simulations)
 */

module.exports = (results, grunt) => {
  if (results.stderr && results.stderr.length > 0 || results.code !== 0) {
    grunt.fail.fatal(`tsc failed with code: ${results.code}
stdout:
${results.stdout}

${results.stdout.split('\n').length - 1} problems found.

stderr:
${results.stderr}`);
  } else {
    grunt.log.ok(`tsc complete: ${results.time}ms`);
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVzdWx0cyIsImdydW50Iiwic3RkZXJyIiwibGVuZ3RoIiwiY29kZSIsImZhaWwiLCJmYXRhbCIsInN0ZG91dCIsInNwbGl0IiwibG9nIiwib2siLCJ0aW1lIl0sInNvdXJjZXMiOlsicmVwb3J0VHNjUmVzdWx0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBSZXBvcnRzIHRoZSByZXN1bHRzIG9mIHRzYygpIGluIGEgZ3J1bnQgY29udGV4dCwgZmFpbGluZyBpZiB0aGVyZSBhcmUgZXJyb3JzLlxyXG4gKiBAYXV0aG9yIFNhbSBSZWlkIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gKCByZXN1bHRzLCBncnVudCApID0+IHtcclxuICBpZiAoICggcmVzdWx0cy5zdGRlcnIgJiYgcmVzdWx0cy5zdGRlcnIubGVuZ3RoID4gMCApIHx8IHJlc3VsdHMuY29kZSAhPT0gMCApIHtcclxuICAgIGdydW50LmZhaWwuZmF0YWwoIGB0c2MgZmFpbGVkIHdpdGggY29kZTogJHtyZXN1bHRzLmNvZGV9XHJcbnN0ZG91dDpcclxuJHtyZXN1bHRzLnN0ZG91dH1cclxuXHJcbiR7cmVzdWx0cy5zdGRvdXQuc3BsaXQoICdcXG4nICkubGVuZ3RoIC0gMX0gcHJvYmxlbXMgZm91bmQuXHJcblxyXG5zdGRlcnI6XHJcbiR7cmVzdWx0cy5zdGRlcnJ9YCApO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGdydW50LmxvZy5vayggYHRzYyBjb21wbGV0ZTogJHtyZXN1bHRzLnRpbWV9bXNgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQUEsTUFBTSxDQUFDQyxPQUFPLEdBQUcsQ0FBRUMsT0FBTyxFQUFFQyxLQUFLLEtBQU07RUFDckMsSUFBT0QsT0FBTyxDQUFDRSxNQUFNLElBQUlGLE9BQU8sQ0FBQ0UsTUFBTSxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxJQUFNSCxPQUFPLENBQUNJLElBQUksS0FBSyxDQUFDLEVBQUc7SUFDM0VILEtBQUssQ0FBQ0ksSUFBSSxDQUFDQyxLQUFLLENBQUcseUJBQXdCTixPQUFPLENBQUNJLElBQUs7QUFDNUQ7QUFDQSxFQUFFSixPQUFPLENBQUNPLE1BQU87QUFDakI7QUFDQSxFQUFFUCxPQUFPLENBQUNPLE1BQU0sQ0FBQ0MsS0FBSyxDQUFFLElBQUssQ0FBQyxDQUFDTCxNQUFNLEdBQUcsQ0FBRTtBQUMxQztBQUNBO0FBQ0EsRUFBRUgsT0FBTyxDQUFDRSxNQUFPLEVBQUUsQ0FBQztFQUNsQixDQUFDLE1BQ0k7SUFDSEQsS0FBSyxDQUFDUSxHQUFHLENBQUNDLEVBQUUsQ0FBRyxpQkFBZ0JWLE9BQU8sQ0FBQ1csSUFBSyxJQUFJLENBQUM7RUFDbkQ7QUFDRixDQUFDIn0=