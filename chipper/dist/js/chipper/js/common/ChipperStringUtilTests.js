// Copyright 2019-2021, University of Colorado Boulder

/**
 * Tests for ChipperStringUtils
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

/* eslint-env node*/

const ChipperStringUtils = require('./ChipperStringUtils');
const qunit = require('qunit');
qunit.module('ChipperStringUtils');
qunit.test('forEachString', assert => {
  const map1 = {
    x: {
      value: 'x'
    },
    y: {
      value: 'y',
      z: {
        value: 'z'
      }
    },
    intermediary: {
      a: {
        value: 'a'
      },
      b: {
        value: 'b'
      },
      intermediary2: {
        c: {
          value: 'c'
        }
      }
    }
  };
  let count = 0;
  const expectedKeys = ['x', 'y', 'y.z', 'intermediary.a', 'intermediary.b', 'intermediary.intermediary2.c'];
  ChipperStringUtils.forEachString(map1, key => {
    count++;
    const keyIndex = expectedKeys.indexOf(key);
    assert.ok(keyIndex >= 0, `unexpected key:${key}`);
    expectedKeys.splice(keyIndex, 1); // just remove the single item
  });

  assert.ok(expectedKeys.length === 0, 'all keys should be accounted for');
  assert.ok(count === 6, 'should be three string');
  assert.ok(true, 'success');
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDaGlwcGVyU3RyaW5nVXRpbHMiLCJyZXF1aXJlIiwicXVuaXQiLCJtb2R1bGUiLCJ0ZXN0IiwiYXNzZXJ0IiwibWFwMSIsIngiLCJ2YWx1ZSIsInkiLCJ6IiwiaW50ZXJtZWRpYXJ5IiwiYSIsImIiLCJpbnRlcm1lZGlhcnkyIiwiYyIsImNvdW50IiwiZXhwZWN0ZWRLZXlzIiwiZm9yRWFjaFN0cmluZyIsImtleSIsImtleUluZGV4IiwiaW5kZXhPZiIsIm9rIiwic3BsaWNlIiwibGVuZ3RoIl0sInNvdXJjZXMiOlsiQ2hpcHBlclN0cmluZ1V0aWxUZXN0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOS0yMDIxLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBmb3IgQ2hpcHBlclN0cmluZ1V0aWxzXHJcbiAqIEBhdXRob3IgTWljaGFlbCBLYXV6bWFubiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG4vKiBlc2xpbnQtZW52IG5vZGUqL1xyXG5cclxuXHJcbmNvbnN0IENoaXBwZXJTdHJpbmdVdGlscyA9IHJlcXVpcmUoICcuL0NoaXBwZXJTdHJpbmdVdGlscycgKTtcclxuY29uc3QgcXVuaXQgPSByZXF1aXJlKCAncXVuaXQnICk7XHJcbnF1bml0Lm1vZHVsZSggJ0NoaXBwZXJTdHJpbmdVdGlscycgKTtcclxuXHJcblxyXG5xdW5pdC50ZXN0KCAnZm9yRWFjaFN0cmluZycsIGFzc2VydCA9PiB7XHJcbiAgY29uc3QgbWFwMSA9IHtcclxuICAgIHg6IHsgdmFsdWU6ICd4JyB9LFxyXG4gICAgeToge1xyXG4gICAgICB2YWx1ZTogJ3knLFxyXG4gICAgICB6OiB7IHZhbHVlOiAneicgfVxyXG4gICAgfSxcclxuICAgIGludGVybWVkaWFyeToge1xyXG4gICAgICBhOiB7IHZhbHVlOiAnYScgfSxcclxuICAgICAgYjogeyB2YWx1ZTogJ2InIH0sXHJcbiAgICAgIGludGVybWVkaWFyeTI6IHtcclxuICAgICAgICBjOiB7IHZhbHVlOiAnYycgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgbGV0IGNvdW50ID0gMDtcclxuICBjb25zdCBleHBlY3RlZEtleXMgPSBbXHJcbiAgICAneCcsXHJcbiAgICAneScsXHJcbiAgICAneS56JyxcclxuICAgICdpbnRlcm1lZGlhcnkuYScsXHJcbiAgICAnaW50ZXJtZWRpYXJ5LmInLFxyXG4gICAgJ2ludGVybWVkaWFyeS5pbnRlcm1lZGlhcnkyLmMnXHJcbiAgXTtcclxuICBDaGlwcGVyU3RyaW5nVXRpbHMuZm9yRWFjaFN0cmluZyggbWFwMSwga2V5ID0+IHtcclxuICAgIGNvdW50Kys7XHJcbiAgICBjb25zdCBrZXlJbmRleCA9IGV4cGVjdGVkS2V5cy5pbmRleE9mKCBrZXkgKTtcclxuICAgIGFzc2VydC5vaygga2V5SW5kZXggPj0gMCwgYHVuZXhwZWN0ZWQga2V5OiR7a2V5fWAgKTtcclxuICAgIGV4cGVjdGVkS2V5cy5zcGxpY2UoIGtleUluZGV4LCAxICk7IC8vIGp1c3QgcmVtb3ZlIHRoZSBzaW5nbGUgaXRlbVxyXG4gIH0gKTtcclxuICBhc3NlcnQub2soIGV4cGVjdGVkS2V5cy5sZW5ndGggPT09IDAsICdhbGwga2V5cyBzaG91bGQgYmUgYWNjb3VudGVkIGZvcicgKTtcclxuICBhc3NlcnQub2soIGNvdW50ID09PSA2LCAnc2hvdWxkIGJlIHRocmVlIHN0cmluZycgKTtcclxuICBhc3NlcnQub2soIHRydWUsICdzdWNjZXNzJyApO1xyXG59ICk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBR0EsTUFBTUEsa0JBQWtCLEdBQUdDLE9BQU8sQ0FBRSxzQkFBdUIsQ0FBQztBQUM1RCxNQUFNQyxLQUFLLEdBQUdELE9BQU8sQ0FBRSxPQUFRLENBQUM7QUFDaENDLEtBQUssQ0FBQ0MsTUFBTSxDQUFFLG9CQUFxQixDQUFDO0FBR3BDRCxLQUFLLENBQUNFLElBQUksQ0FBRSxlQUFlLEVBQUVDLE1BQU0sSUFBSTtFQUNyQyxNQUFNQyxJQUFJLEdBQUc7SUFDWEMsQ0FBQyxFQUFFO01BQUVDLEtBQUssRUFBRTtJQUFJLENBQUM7SUFDakJDLENBQUMsRUFBRTtNQUNERCxLQUFLLEVBQUUsR0FBRztNQUNWRSxDQUFDLEVBQUU7UUFBRUYsS0FBSyxFQUFFO01BQUk7SUFDbEIsQ0FBQztJQUNERyxZQUFZLEVBQUU7TUFDWkMsQ0FBQyxFQUFFO1FBQUVKLEtBQUssRUFBRTtNQUFJLENBQUM7TUFDakJLLENBQUMsRUFBRTtRQUFFTCxLQUFLLEVBQUU7TUFBSSxDQUFDO01BQ2pCTSxhQUFhLEVBQUU7UUFDYkMsQ0FBQyxFQUFFO1VBQUVQLEtBQUssRUFBRTtRQUFJO01BQ2xCO0lBQ0Y7RUFDRixDQUFDO0VBRUQsSUFBSVEsS0FBSyxHQUFHLENBQUM7RUFDYixNQUFNQyxZQUFZLEdBQUcsQ0FDbkIsR0FBRyxFQUNILEdBQUcsRUFDSCxLQUFLLEVBQ0wsZ0JBQWdCLEVBQ2hCLGdCQUFnQixFQUNoQiw4QkFBOEIsQ0FDL0I7RUFDRGpCLGtCQUFrQixDQUFDa0IsYUFBYSxDQUFFWixJQUFJLEVBQUVhLEdBQUcsSUFBSTtJQUM3Q0gsS0FBSyxFQUFFO0lBQ1AsTUFBTUksUUFBUSxHQUFHSCxZQUFZLENBQUNJLE9BQU8sQ0FBRUYsR0FBSSxDQUFDO0lBQzVDZCxNQUFNLENBQUNpQixFQUFFLENBQUVGLFFBQVEsSUFBSSxDQUFDLEVBQUcsa0JBQWlCRCxHQUFJLEVBQUUsQ0FBQztJQUNuREYsWUFBWSxDQUFDTSxNQUFNLENBQUVILFFBQVEsRUFBRSxDQUFFLENBQUMsQ0FBQyxDQUFDO0VBQ3RDLENBQUUsQ0FBQzs7RUFDSGYsTUFBTSxDQUFDaUIsRUFBRSxDQUFFTCxZQUFZLENBQUNPLE1BQU0sS0FBSyxDQUFDLEVBQUUsa0NBQW1DLENBQUM7RUFDMUVuQixNQUFNLENBQUNpQixFQUFFLENBQUVOLEtBQUssS0FBSyxDQUFDLEVBQUUsd0JBQXlCLENBQUM7RUFDbERYLE1BQU0sQ0FBQ2lCLEVBQUUsQ0FBRSxJQUFJLEVBQUUsU0FBVSxDQUFDO0FBQzlCLENBQUUsQ0FBQyJ9