// Copyright 2021-2022, University of Colorado Boulder

/**
 * Alerts related to grabbing the book
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
import friction from '../../friction.js';
import FrictionStrings from '../../FrictionStrings.js';

// constants
const grabbedString = StringUtils.fillIn(FrictionStrings.a11y.grabbedPattern, {
  alert: ''
});
const grabbedLightlyOnBook = StringUtils.fillIn(FrictionStrings.a11y.grabbedPattern, {
  alert: FrictionStrings.a11y.lightlyOnPhysicsBook
});
const grabbedTouchingString = StringUtils.fillIn(FrictionStrings.a11y.grabbedPattern, {
  alert: FrictionStrings.a11y.rubFastOrSlow
});
const grabbedNotTouchingString = StringUtils.fillIn(FrictionStrings.a11y.grabbedNotTouchingPattern, {
  grabbedOnBook: grabbedLightlyOnBook,
  moveDownToRubHarder: FrictionStrings.a11y.moveDownToRubHarder
});

/**
 * @param {Object} [options]
 * @constructor
 */
class GrabbedDescriber {
  /**
   * @param {BooleanProperty} contactProperty
   * @param {BooleanProperty} successfullyInteractedWithProperty
   */
  constructor(contactProperty, successfullyInteractedWithProperty) {
    // we do not have access to phet.joist.sim until the sim starts, so these can't be constants
    const initialGrabbedNotTouchingString = phet.joist.sim.supportsGestureDescription ? FrictionStrings.a11y.initialTouchGrabbedNotTouching : FrictionStrings.a11y.initialKeyboardGrabbedNotTouching;
    const initialGrabbedTouchingString = phet.joist.sim.supportsGestureDescription ? FrictionStrings.a11y.initialTouchGrabbedTouching : FrictionStrings.a11y.initialKeyboardGrabbedTouching;
    this.touchingAlerts = {
      initial: initialGrabbedTouchingString,
      subsequent: grabbedTouchingString
    };
    this.notTouchingAlerts = {
      initial: initialGrabbedNotTouchingString,
      subsequent: grabbedLightlyOnBook
    };

    // @private
    this.contactProperty = contactProperty;
    this.successfullyInteractedWithProperty = successfullyInteractedWithProperty;
  }

  /**
   * for pdom
   * @public
   * @returns {string}
   */
  getGrabbedString() {
    const alerts = this.contactProperty.get() ? this.touchingAlerts : this.notTouchingAlerts;
    let alert = alerts.initial;
    if (this.successfullyInteractedWithProperty.value) {
      alert = alerts.subsequent;
    }
    return alert;
  }

  /**
   * Different string for Voicing
   * @public
   * @returns {string}
   */
  getGrabbedVoicingString() {
    // self-voicing alerts - all self-voicing alerts exclude the "WASD" keyboard information
    return this.contactProperty.get() ? this.touchingAlerts.subsequent : grabbedNotTouchingString;
  }

  /**
   * @public
   * @returns {string}
   */
  getVoicingGrabbedObjectResponse() {
    return this.contactProperty.get() ? grabbedString : grabbedLightlyOnBook;
  }
}
friction.register('GrabbedDescriber', GrabbedDescriber);
export default GrabbedDescriber;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTdHJpbmdVdGlscyIsImZyaWN0aW9uIiwiRnJpY3Rpb25TdHJpbmdzIiwiZ3JhYmJlZFN0cmluZyIsImZpbGxJbiIsImExMXkiLCJncmFiYmVkUGF0dGVybiIsImFsZXJ0IiwiZ3JhYmJlZExpZ2h0bHlPbkJvb2siLCJsaWdodGx5T25QaHlzaWNzQm9vayIsImdyYWJiZWRUb3VjaGluZ1N0cmluZyIsInJ1YkZhc3RPclNsb3ciLCJncmFiYmVkTm90VG91Y2hpbmdTdHJpbmciLCJncmFiYmVkTm90VG91Y2hpbmdQYXR0ZXJuIiwiZ3JhYmJlZE9uQm9vayIsIm1vdmVEb3duVG9SdWJIYXJkZXIiLCJHcmFiYmVkRGVzY3JpYmVyIiwiY29uc3RydWN0b3IiLCJjb250YWN0UHJvcGVydHkiLCJzdWNjZXNzZnVsbHlJbnRlcmFjdGVkV2l0aFByb3BlcnR5IiwiaW5pdGlhbEdyYWJiZWROb3RUb3VjaGluZ1N0cmluZyIsInBoZXQiLCJqb2lzdCIsInNpbSIsInN1cHBvcnRzR2VzdHVyZURlc2NyaXB0aW9uIiwiaW5pdGlhbFRvdWNoR3JhYmJlZE5vdFRvdWNoaW5nIiwiaW5pdGlhbEtleWJvYXJkR3JhYmJlZE5vdFRvdWNoaW5nIiwiaW5pdGlhbEdyYWJiZWRUb3VjaGluZ1N0cmluZyIsImluaXRpYWxUb3VjaEdyYWJiZWRUb3VjaGluZyIsImluaXRpYWxLZXlib2FyZEdyYWJiZWRUb3VjaGluZyIsInRvdWNoaW5nQWxlcnRzIiwiaW5pdGlhbCIsInN1YnNlcXVlbnQiLCJub3RUb3VjaGluZ0FsZXJ0cyIsImdldEdyYWJiZWRTdHJpbmciLCJhbGVydHMiLCJnZXQiLCJ2YWx1ZSIsImdldEdyYWJiZWRWb2ljaW5nU3RyaW5nIiwiZ2V0Vm9pY2luZ0dyYWJiZWRPYmplY3RSZXNwb25zZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiR3JhYmJlZERlc2NyaWJlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMS0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBBbGVydHMgcmVsYXRlZCB0byBncmFiYmluZyB0aGUgYm9va1xyXG4gKiBAYXV0aG9yIE1pY2hhZWwgS2F1em1hbm4gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvdXRpbC9TdHJpbmdVdGlscy5qcyc7XHJcbmltcG9ydCBmcmljdGlvbiBmcm9tICcuLi8uLi9mcmljdGlvbi5qcyc7XHJcbmltcG9ydCBGcmljdGlvblN0cmluZ3MgZnJvbSAnLi4vLi4vRnJpY3Rpb25TdHJpbmdzLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBncmFiYmVkU3RyaW5nID0gU3RyaW5nVXRpbHMuZmlsbEluKCBGcmljdGlvblN0cmluZ3MuYTExeS5ncmFiYmVkUGF0dGVybiwge1xyXG4gIGFsZXJ0OiAnJ1xyXG59ICk7XHJcbmNvbnN0IGdyYWJiZWRMaWdodGx5T25Cb29rID0gU3RyaW5nVXRpbHMuZmlsbEluKCBGcmljdGlvblN0cmluZ3MuYTExeS5ncmFiYmVkUGF0dGVybiwge1xyXG4gIGFsZXJ0OiBGcmljdGlvblN0cmluZ3MuYTExeS5saWdodGx5T25QaHlzaWNzQm9va1xyXG59ICk7XHJcbmNvbnN0IGdyYWJiZWRUb3VjaGluZ1N0cmluZyA9IFN0cmluZ1V0aWxzLmZpbGxJbiggRnJpY3Rpb25TdHJpbmdzLmExMXkuZ3JhYmJlZFBhdHRlcm4sIHtcclxuICBhbGVydDogRnJpY3Rpb25TdHJpbmdzLmExMXkucnViRmFzdE9yU2xvd1xyXG59ICk7XHJcbmNvbnN0IGdyYWJiZWROb3RUb3VjaGluZ1N0cmluZyA9IFN0cmluZ1V0aWxzLmZpbGxJbiggRnJpY3Rpb25TdHJpbmdzLmExMXkuZ3JhYmJlZE5vdFRvdWNoaW5nUGF0dGVybiwge1xyXG4gIGdyYWJiZWRPbkJvb2s6IGdyYWJiZWRMaWdodGx5T25Cb29rLFxyXG4gIG1vdmVEb3duVG9SdWJIYXJkZXI6IEZyaWN0aW9uU3RyaW5ncy5hMTF5Lm1vdmVEb3duVG9SdWJIYXJkZXJcclxufSApO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5jbGFzcyBHcmFiYmVkRGVzY3JpYmVyIHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtCb29sZWFuUHJvcGVydHl9IGNvbnRhY3RQcm9wZXJ0eVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhblByb3BlcnR5fSBzdWNjZXNzZnVsbHlJbnRlcmFjdGVkV2l0aFByb3BlcnR5XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIGNvbnRhY3RQcm9wZXJ0eSwgc3VjY2Vzc2Z1bGx5SW50ZXJhY3RlZFdpdGhQcm9wZXJ0eSApIHtcclxuXHJcbiAgICAvLyB3ZSBkbyBub3QgaGF2ZSBhY2Nlc3MgdG8gcGhldC5qb2lzdC5zaW0gdW50aWwgdGhlIHNpbSBzdGFydHMsIHNvIHRoZXNlIGNhbid0IGJlIGNvbnN0YW50c1xyXG4gICAgY29uc3QgaW5pdGlhbEdyYWJiZWROb3RUb3VjaGluZ1N0cmluZyA9IHBoZXQuam9pc3Quc2ltLnN1cHBvcnRzR2VzdHVyZURlc2NyaXB0aW9uID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGcmljdGlvblN0cmluZ3MuYTExeS5pbml0aWFsVG91Y2hHcmFiYmVkTm90VG91Y2hpbmcgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZyaWN0aW9uU3RyaW5ncy5hMTF5LmluaXRpYWxLZXlib2FyZEdyYWJiZWROb3RUb3VjaGluZztcclxuXHJcbiAgICBjb25zdCBpbml0aWFsR3JhYmJlZFRvdWNoaW5nU3RyaW5nID0gcGhldC5qb2lzdC5zaW0uc3VwcG9ydHNHZXN0dXJlRGVzY3JpcHRpb24gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZyaWN0aW9uU3RyaW5ncy5hMTF5LmluaXRpYWxUb3VjaEdyYWJiZWRUb3VjaGluZyA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnJpY3Rpb25TdHJpbmdzLmExMXkuaW5pdGlhbEtleWJvYXJkR3JhYmJlZFRvdWNoaW5nO1xyXG5cclxuICAgIHRoaXMudG91Y2hpbmdBbGVydHMgPSB7IGluaXRpYWw6IGluaXRpYWxHcmFiYmVkVG91Y2hpbmdTdHJpbmcsIHN1YnNlcXVlbnQ6IGdyYWJiZWRUb3VjaGluZ1N0cmluZyB9O1xyXG4gICAgdGhpcy5ub3RUb3VjaGluZ0FsZXJ0cyA9IHsgaW5pdGlhbDogaW5pdGlhbEdyYWJiZWROb3RUb3VjaGluZ1N0cmluZywgc3Vic2VxdWVudDogZ3JhYmJlZExpZ2h0bHlPbkJvb2sgfTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZVxyXG4gICAgdGhpcy5jb250YWN0UHJvcGVydHkgPSBjb250YWN0UHJvcGVydHk7XHJcbiAgICB0aGlzLnN1Y2Nlc3NmdWxseUludGVyYWN0ZWRXaXRoUHJvcGVydHkgPSBzdWNjZXNzZnVsbHlJbnRlcmFjdGVkV2l0aFByb3BlcnR5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZm9yIHBkb21cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZXRHcmFiYmVkU3RyaW5nKCkge1xyXG5cclxuICAgIGNvbnN0IGFsZXJ0cyA9IHRoaXMuY29udGFjdFByb3BlcnR5LmdldCgpID8gdGhpcy50b3VjaGluZ0FsZXJ0cyA6IHRoaXMubm90VG91Y2hpbmdBbGVydHM7XHJcblxyXG4gICAgbGV0IGFsZXJ0ID0gYWxlcnRzLmluaXRpYWw7XHJcbiAgICBpZiAoIHRoaXMuc3VjY2Vzc2Z1bGx5SW50ZXJhY3RlZFdpdGhQcm9wZXJ0eS52YWx1ZSApIHtcclxuICAgICAgYWxlcnQgPSBhbGVydHMuc3Vic2VxdWVudDtcclxuICAgIH1cclxuICAgIHJldHVybiBhbGVydDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERpZmZlcmVudCBzdHJpbmcgZm9yIFZvaWNpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZXRHcmFiYmVkVm9pY2luZ1N0cmluZygpIHtcclxuXHJcbiAgICAvLyBzZWxmLXZvaWNpbmcgYWxlcnRzIC0gYWxsIHNlbGYtdm9pY2luZyBhbGVydHMgZXhjbHVkZSB0aGUgXCJXQVNEXCIga2V5Ym9hcmQgaW5mb3JtYXRpb25cclxuICAgIHJldHVybiB0aGlzLmNvbnRhY3RQcm9wZXJ0eS5nZXQoKSA/IHRoaXMudG91Y2hpbmdBbGVydHMuc3Vic2VxdWVudCA6IGdyYWJiZWROb3RUb3VjaGluZ1N0cmluZztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldFZvaWNpbmdHcmFiYmVkT2JqZWN0UmVzcG9uc2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb250YWN0UHJvcGVydHkuZ2V0KCkgPyBncmFiYmVkU3RyaW5nIDogZ3JhYmJlZExpZ2h0bHlPbkJvb2s7XHJcbiAgfVxyXG59XHJcblxyXG5mcmljdGlvbi5yZWdpc3RlciggJ0dyYWJiZWREZXNjcmliZXInLCBHcmFiYmVkRGVzY3JpYmVyICk7XHJcbmV4cG9ydCBkZWZhdWx0IEdyYWJiZWREZXNjcmliZXI7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxXQUFXLE1BQU0sK0NBQStDO0FBQ3ZFLE9BQU9DLFFBQVEsTUFBTSxtQkFBbUI7QUFDeEMsT0FBT0MsZUFBZSxNQUFNLDBCQUEwQjs7QUFFdEQ7QUFDQSxNQUFNQyxhQUFhLEdBQUdILFdBQVcsQ0FBQ0ksTUFBTSxDQUFFRixlQUFlLENBQUNHLElBQUksQ0FBQ0MsY0FBYyxFQUFFO0VBQzdFQyxLQUFL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