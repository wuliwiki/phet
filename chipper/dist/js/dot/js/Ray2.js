// Copyright 2013-2022, University of Colorado Boulder

/**
 * 2-dimensional ray consisting of an origin point and a unit direction vector.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import dot from './dot.js';
export default class Ray2 {
  /**
   * Constructs a2D ray using the supplied origin position and unit length direction vector
   *
   * @param position - the ray's point of origin
   * @param direction - the ray's unit direction vector
   */
  constructor(position, direction) {
    this.position = position;
    this.direction = direction;
    assert && assert(Math.abs(direction.magnitude - 1) < 0.01, 'the direction must be a unit vector');
  }

  /**
   * Returns a new Ray that has it origin shifted to a position given by an amount distance*this.direction.
   */
  shifted(distance) {
    return new Ray2(this.pointAtDistance(distance), this.direction);
  }

  /**
   * Returns a position that is a distance 'distance' along the ray.
   */
  pointAtDistance(distance) {
    return this.position.plus(this.direction.timesScalar(distance));
  }

  /**
   * Returns the attributes of this ray into a string
   */
  toString() {
    return `${this.position.toString()} => ${this.direction.toString()}`;
  }
}
dot.register('Ray2', Ray2);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3QiLCJSYXkyIiwiY29uc3RydWN0b3IiLCJwb3NpdGlvbiIsImRpcmVjdGlvbiIsImFzc2VydCIsIk1hdGgiLCJhYnMiLCJtYWduaXR1ZGUiLCJzaGlmdGVkIiwiZGlzdGFuY2UiLCJwb2ludEF0RGlzdGFuY2UiLCJwbHVzIiwidGltZXNTY2FsYXIiLCJ0b1N0cmluZyIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiUmF5Mi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxMy0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiAyLWRpbWVuc2lvbmFsIHJheSBjb25zaXN0aW5nIG9mIGFuIG9yaWdpbiBwb2ludCBhbmQgYSB1bml0IGRpcmVjdGlvbiB2ZWN0b3IuXHJcbiAqXHJcbiAqIEBhdXRob3IgSm9uYXRoYW4gT2xzb24gPGpvbmF0aGFuLm9sc29uQGNvbG9yYWRvLmVkdT5cclxuICovXHJcblxyXG5pbXBvcnQgZG90IGZyb20gJy4vZG90LmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi9WZWN0b3IyLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJheTIge1xyXG5cclxuICBwdWJsaWMgcG9zaXRpb246IFZlY3RvcjI7XHJcbiAgcHVibGljIGRpcmVjdGlvbjogVmVjdG9yMjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhMkQgcmF5IHVzaW5nIHRoZSBzdXBwbGllZCBvcmlnaW4gcG9zaXRpb24gYW5kIHVuaXQgbGVuZ3RoIGRpcmVjdGlvbiB2ZWN0b3JcclxuICAgKlxyXG4gICAqIEBwYXJhbSBwb3NpdGlvbiAtIHRoZSByYXkncyBwb2ludCBvZiBvcmlnaW5cclxuICAgKiBAcGFyYW0gZGlyZWN0aW9uIC0gdGhlIHJheSdzIHVuaXQgZGlyZWN0aW9uIHZlY3RvclxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggcG9zaXRpb246IFZlY3RvcjIsIGRpcmVjdGlvbjogVmVjdG9yMiApIHtcclxuXHJcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuXHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBNYXRoLmFicyggZGlyZWN0aW9uLm1hZ25pdHVkZSAtIDEgKSA8IDAuMDEsICd0aGUgZGlyZWN0aW9uIG11c3QgYmUgYSB1bml0IHZlY3RvcicgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBuZXcgUmF5IHRoYXQgaGFzIGl0IG9yaWdpbiBzaGlmdGVkIHRvIGEgcG9zaXRpb24gZ2l2ZW4gYnkgYW4gYW1vdW50IGRpc3RhbmNlKnRoaXMuZGlyZWN0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzaGlmdGVkKCBkaXN0YW5jZTogbnVtYmVyICk6IFJheTIge1xyXG4gICAgcmV0dXJuIG5ldyBSYXkyKCB0aGlzLnBvaW50QXREaXN0YW5jZSggZGlzdGFuY2UgKSwgdGhpcy5kaXJlY3Rpb24gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBwb3NpdGlvbiB0aGF0IGlzIGEgZGlzdGFuY2UgJ2Rpc3RhbmNlJyBhbG9uZyB0aGUgcmF5LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb2ludEF0RGlzdGFuY2UoIGRpc3RhbmNlOiBudW1iZXIgKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi5wbHVzKCB0aGlzLmRpcmVjdGlvbi50aW1lc1NjYWxhciggZGlzdGFuY2UgKSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYXR0cmlidXRlcyBvZiB0aGlzIHJheSBpbnRvIGEgc3RyaW5nXHJcbiAgICovXHJcbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYCR7dGhpcy5wb3NpdGlvbi50b1N0cmluZygpfSA9PiAke3RoaXMuZGlyZWN0aW9uLnRvU3RyaW5nKCl9YDtcclxuICB9XHJcbn1cclxuXHJcbmRvdC5yZWdpc3RlciggJ1JheTInLCBSYXkyICk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxHQUFHLE1BQU0sVUFBVTtBQUcxQixlQUFlLE1BQU1DLElBQUksQ0FBQztFQUt4QjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDU0MsV0FBV0EsQ0FBRUMsUUFBaUIsRUFBRUMsU0FBa0IsRUFBRztJQUUxRCxJQUFJLENBQUNELFFBQVEsR0FBR0EsUUFBUTtJQUN4QixJQUFJLENBQUNDLFNBQVMsR0FBR0EsU0FBUztJQUUxQkMsTUFBTSxJQUFJQSxNQUFNLENBQUVDLElBQUksQ0FBQ0MsR0FBRyxDQUFFSCxTQUFTLENBQUNJLFNBQVMsR0FBRyxDQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUscUNBQXNDLENBQUM7RUFDdkc7O0VBRUE7QUFDRjtBQUNBO0VBQ1NDLE9BQU9BLENBQUVDLFFBQWdCLEVBQVM7SUFDdkMsT0FBTyxJQUFJVCxJQUFJLENBQUUsSUFBSSxDQUFDVSxlQUFlLENBQUVELFFBQVMsQ0FBQyxFQUFFLElBQUksQ0FBQ04sU0FBVSxDQUFDO0VBQ3JFOztFQUVBO0FBQ0Y7QUFDQTtFQUNTTyxlQUFlQSxDQUFFRCxRQUFnQixFQUFZO0lBQ2xELE9BQU8sSUFBSSxDQUFDUCxRQUFRLENBQUNTLElBQUksQ0FBRSxJQUFJLENBQUNSLFNBQVMsQ0FBQ1MsV0FBVyxDQUFFSCxRQUFTLENBQUUsQ0FBQztFQUNyRTs7RUFFQTtBQUNGO0FBQ0E7RUFDU0ksUUFBUUEsQ0FBQSxFQUFXO0lBQ3hCLE9BQVEsR0FBRSxJQUFJLENBQUNYLFFBQVEsQ0FBQ1csUUFBUSxDQUFDLENBQUUsT0FBTSxJQUFJLENBQUNWLFNBQVMsQ0FBQ1UsUUFBUSxDQUFDLENBQUUsRUFBQztFQUN0RTtBQUNGO0FBRUFkLEdBQUcsQ0FBQ2UsUUFBUSxDQUFFLE1BQU0sRUFBRWQsSUFBSyxDQUFDIn0=