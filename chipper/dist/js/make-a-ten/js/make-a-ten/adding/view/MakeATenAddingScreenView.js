// Copyright 2015-2023, University of Colorado Boulder

/**
 * Adding screenview for Make a Ten. Allows entering two numbers with a keypad, so that the user can experiment with
 * adding with the sim's usual constraints.
 *
 * @author Sharfudeen Ashraf
 */

import CountingCommonScreenView from '../../../../../counting-common/js/common/view/CountingCommonScreenView.js';
import { Color, Image, Rectangle } from '../../../../../scenery/js/imports.js';
import RectangularPushButton from '../../../../../sun/js/buttons/RectangularPushButton.js';
import edit_png from '../../../../images/edit_png.js';
import makeATen from '../../../makeATen.js';
import MakeATenConstants from '../../common/MakeATenConstants.js';
import AdditionTermsNode from '../../common/view/AdditionTermsNode.js';
import ActiveTerm from '../model/ActiveTerm.js';
import KeyboardPanel from './KeyboardPanel.js';

// constants
const MAX_DIGITS = 3;
class MakeATenAddingScreenView extends CountingCommonScreenView {
  /**
   * @param {MakeATenAddingModel} model
   */
  constructor(model) {
    super(model);
    this.finishInitialization();
    function createEditNumberButton(term) {
      return new RectangularPushButton({
        touchAreaXDilation: 10,
        touchAreaYDilation: 10,
        content: new Image(edit_png, {
          scale: 0.5
        }),
        listener: () => {
          model.additionTerms.activeTermProperty.value = term;
        },
        baseColor: 'white'
      });
    }

    // The node that display "12 + 100 = "
    const additionTermsNode = new AdditionTermsNode(model.additionTerms, true);
    this.addChild(additionTermsNode);
    additionTermsNode.left = this.layoutBounds.left + 38;
    additionTermsNode.top = this.layoutBounds.top + 85;
    const leftEditButton = createEditNumberButton(ActiveTerm.LEFT);
    const rightEditButton = createEditNumberButton(ActiveTerm.RIGHT);
    leftEditButton.top = rightEditButton.top = this.layoutBounds.top + 32;
    leftEditButton.right = additionTermsNode.getLeftAlignment() + additionTermsNode.x;
    rightEditButton.left = additionTermsNode.getRightAlignment() + additionTermsNode.x;
    this.addChild(leftEditButton);
    this.addChild(rightEditButton);

    // Where all of the counting objects go (from supertype)
    this.addChild(this.countingObjectLayerNode);
    function onNumberSubmit(value) {
      if (model.additionTerms.activeTermProperty.value === ActiveTerm.LEFT) {
        model.additionTerms.leftTermProperty.value = value;
      }
      if (model.additionTerms.activeTermProperty.value === ActiveTerm.RIGHT) {
        model.additionTerms.rightTermProperty.value = value;
      }
      model.setupTerms();
      model.additionTerms.activeTermProperty.value = ActiveTerm.NONE;
    }
    const dimBackground = new Rectangle({
      fill: new Color(MakeATenConstants.SCREEN_BACKGROUND_COLOR).colorUtilsDarker(0.4).withAlpha(0.4)
    });
    dimBackground.addInputListener({
      down: event => {
        model.additionTerms.activeTermProperty.value = ActiveTerm.NONE; // this will close the keyboard button
      }
    });

    this.visibleBoundsProperty.link(visibleBounds => {
      dimBackground.rectBounds = visibleBounds.dilated(5); // Extra dilation so anti-aliasing doesn't mess with borders
    });

    this.addChild(dimBackground);
    const keyboardPanel = new KeyboardPanel(onNumberSubmit, MAX_DIGITS);
    this.addChild(keyboardPanel);
    keyboardPanel.centerX = additionTermsNode.centerX - 25;
    keyboardPanel.top = additionTermsNode.top + 120;
    model.additionTerms.activeTermProperty.link(term => {
      keyboardPanel.visible = dimBackground.visible = term !== ActiveTerm.NONE;
      if (term === ActiveTerm.LEFT) {
        keyboardPanel.setValue(model.additionTerms.leftTermProperty.value);
      }
      if (term === ActiveTerm.RIGHT) {
        keyboardPanel.setValue(model.additionTerms.rightTermProperty.value);
      }
    });
    this.layoutControls();
  }
}
makeATen.register('MakeATenAddingScreenView', MakeATenAddingScreenView);
export default MakeATenAddingScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb3VudGluZ0NvbW1vblNjcmVlblZpZXciLCJDb2xvciIsIkltYWdlIiwiUmVjdGFuZ2xlIiwiUmVjdGFuZ3VsYXJQdXNoQnV0dG9uIiwiZWRpdF9wbmciLCJtYWtlQVRlbiIsIk1ha2VBVGVuQ29uc3RhbnRzIiwiQWRkaXRpb25UZXJtc05vZGUiLCJBY3RpdmVUZXJtIiwiS2V5Ym9hcmRQYW5lbCIsIk1BWF9ESUdJVFMiLCJNYWtlQVRlbkFkZGluZ1NjcmVlblZpZXciLCJjb25zdHJ1Y3RvciIsIm1vZGVsIiwiZmluaXNoSW5pdGlhbGl6YXRpb24iLCJjcmVhdGVFZGl0TnVtYmVyQnV0dG9uIiwidGVybSIsInRvdWNoQXJlYVhEaWxhdGlvbiIsInRvdWNoQXJlYVlEaWxhdGlvbiIsImNvbnRlbnQiLCJzY2FsZSIsImxpc3RlbmVyIiwiYWRkaXRpb25UZXJtcyIsImFjdGl2ZVRlcm1Qcm9wZXJ0eSIsInZhbHVlIiwiYmFzZUNvbG9yIiwiYWRkaXRpb25UZXJtc05vZGUiLCJhZGRDaGlsZCIsImxlZnQiLCJsYXlvdXRCb3VuZHMiLCJ0b3AiLCJsZWZ0RWRpdEJ1dHRvbiIsIkxFRlQiLCJyaWdodEVkaXRCdXR0b24iLCJSSUdIVCIsInJpZ2h0IiwiZ2V0TGVmdEFsaWdubWVudCIsIngiLCJnZXRSaWdodEFsaWdubWVudCIsImNvdW50aW5nT2JqZWN0TGF5ZXJOb2RlIiwib25OdW1iZXJTdWJtaXQiLCJsZWZ0VGVybVByb3BlcnR5IiwicmlnaHRUZXJtUHJvcGVydHkiLCJzZXR1cFRlcm1zIiwiTk9ORSIsImRpbUJhY2tncm91bmQiLCJmaWxsIiwiU0NSRUVOX0JBQ0tHUk9VTkRfQ09MT1IiLCJjb2xvclV0aWxzRGFya2VyIiwid2l0aEFscGhhIiwiYWRkSW5wdXRMaXN0ZW5lciIsImRvd24iLCJldmVudCIsInZpc2libGVCb3VuZHNQcm9wZXJ0eSIsImxpbmsiLCJ2aXNpYmxlQm91bmRzIiwicmVjdEJvdW5kcyIsImRpbGF0ZWQiLCJrZXlib2FyZFBhbmVsIiwiY2VudGVyWCIsInZpc2libGUiLCJzZXRWYWx1ZSIsImxheW91dENvbnRyb2xzIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJNYWtlQVRlbkFkZGluZ1NjcmVlblZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTUtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQWRkaW5nIHNjcmVlbnZpZXcgZm9yIE1ha2UgYSBUZW4uIEFsbG93cyBlbnRlcmluZyB0d28gbnVtYmVycyB3aXRoIGEga2V5cGFkLCBzbyB0aGF0IHRoZSB1c2VyIGNhbiBleHBlcmltZW50IHdpdGhcclxuICogYWRkaW5nIHdpdGggdGhlIHNpbSdzIHVzdWFsIGNvbnN0cmFpbnRzLlxyXG4gKlxyXG4gKiBAYXV0aG9yIFNoYXJmdWRlZW4gQXNocmFmXHJcbiAqL1xyXG5cclxuaW1wb3J0IENvdW50aW5nQ29tbW9uU2NyZWVuVmlldyBmcm9tICcuLi8uLi8uLi8uLi8uLi9jb3VudGluZy1jb21tb24vanMvY29tbW9uL3ZpZXcvQ291bnRpbmdDb21tb25TY3JlZW5WaWV3LmpzJztcclxuaW1wb3J0IHsgQ29sb3IsIEltYWdlLCBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgUmVjdGFuZ3VsYXJQdXNoQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uLy4uL3N1bi9qcy9idXR0b25zL1JlY3Rhbmd1bGFyUHVzaEJ1dHRvbi5qcyc7XHJcbmltcG9ydCBlZGl0X3BuZyBmcm9tICcuLi8uLi8uLi8uLi9pbWFnZXMvZWRpdF9wbmcuanMnO1xyXG5pbXBvcnQgbWFrZUFUZW4gZnJvbSAnLi4vLi4vLi4vbWFrZUFUZW4uanMnO1xyXG5pbXBvcnQgTWFrZUFUZW5Db25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL01ha2VBVGVuQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IEFkZGl0aW9uVGVybXNOb2RlIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L0FkZGl0aW9uVGVybXNOb2RlLmpzJztcclxuaW1wb3J0IEFjdGl2ZVRlcm0gZnJvbSAnLi4vbW9kZWwvQWN0aXZlVGVybS5qcyc7XHJcbmltcG9ydCBLZXlib2FyZFBhbmVsIGZyb20gJy4vS2V5Ym9hcmRQYW5lbC5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgTUFYX0RJR0lUUyA9IDM7XHJcblxyXG5jbGFzcyBNYWtlQVRlbkFkZGluZ1NjcmVlblZpZXcgZXh0ZW5kcyBDb3VudGluZ0NvbW1vblNjcmVlblZpZXcge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge01ha2VBVGVuQWRkaW5nTW9kZWx9IG1vZGVsXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIG1vZGVsICkge1xyXG5cclxuICAgIHN1cGVyKCBtb2RlbCApO1xyXG5cclxuICAgIHRoaXMuZmluaXNoSW5pdGlhbGl6YXRpb24oKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVFZGl0TnVtYmVyQnV0dG9uKCB0ZXJtICkge1xyXG4gICAgICByZXR1cm4gbmV3IFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbigge1xyXG4gICAgICAgIHRvdWNoQXJlYVhEaWxhdGlvbjogMTAsXHJcbiAgICAgICAgdG91Y2hBcmVhWURpbGF0aW9uOiAxMCxcclxuICAgICAgICBjb250ZW50OiBuZXcgSW1hZ2UoIGVkaXRfcG5nLCB7IHNjYWxlOiAwLjUgfSApLFxyXG4gICAgICAgIGxpc3RlbmVyOiAoKSA9PiB7XHJcbiAgICAgICAgICBtb2RlbC5hZGRpdGlvblRlcm1zLmFjdGl2ZVRlcm1Qcm9wZXJ0eS52YWx1ZSA9IHRlcm07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiYXNlQ29sb3I6ICd3aGl0ZSdcclxuICAgICAgfSApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoZSBub2RlIHRoYXQgZGlzcGxheSBcIjEyICsgMTAwID0gXCJcclxuICAgIGNvbnN0IGFkZGl0aW9uVGVybXNOb2RlID0gbmV3IEFkZGl0aW9uVGVybXNOb2RlKCBtb2RlbC5hZGRpdGlvblRlcm1zLCB0cnVlICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBhZGRpdGlvblRlcm1zTm9kZSApO1xyXG5cclxuICAgIGFkZGl0aW9uVGVybXNOb2RlLmxlZnQgPSB0aGlzLmxheW91dEJvdW5kcy5sZWZ0ICsgMzg7XHJcbiAgICBhZGRpdGlvblRlcm1zTm9kZS50b3AgPSB0aGlzLmxheW91dEJvdW5kcy50b3AgKyA4NTtcclxuXHJcbiAgICBjb25zdCBsZWZ0RWRpdEJ1dHRvbiA9IGNyZWF0ZUVkaXROdW1iZXJCdXR0b24oIEFjdGl2ZVRlcm0uTEVGVCApO1xyXG4gICAgY29uc3QgcmlnaHRFZGl0QnV0dG9uID0gY3JlYXRlRWRpdE51bWJlckJ1dHRvbiggQWN0aXZlVGVybS5SSUdIVCApO1xyXG4gICAgbGVmdEVkaXRCdXR0b24udG9wID0gcmlnaHRFZGl0QnV0dG9uLnRvcCA9IHRoaXMubGF5b3V0Qm91bmRzLnRvcCArIDMyO1xyXG4gICAgbGVmdEVkaXRCdXR0b24ucmlnaHQgPSBhZGRpdGlvblRlcm1zTm9kZS5nZXRMZWZ0QWxpZ25tZW50KCkgKyBhZGRpdGlvblRlcm1zTm9kZS54O1xyXG4gICAgcmlnaHRFZGl0QnV0dG9uLmxlZnQgPSBhZGRpdGlvblRlcm1zTm9kZS5nZXRSaWdodEFsaWdubWVudCgpICsgYWRkaXRpb25UZXJtc05vZGUueDtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIGxlZnRFZGl0QnV0dG9uICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCByaWdodEVkaXRCdXR0b24gKTtcclxuXHJcbiAgICAvLyBXaGVyZSBhbGwgb2YgdGhlIGNvdW50aW5nIG9iamVjdHMgZ28gKGZyb20gc3VwZXJ0eXBlKVxyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5jb3VudGluZ09iamVjdExheWVyTm9kZSApO1xyXG5cclxuICAgIGZ1bmN0aW9uIG9uTnVtYmVyU3VibWl0KCB2YWx1ZSApIHtcclxuICAgICAgaWYgKCBtb2RlbC5hZGRpdGlvblRlcm1zLmFjdGl2ZVRlcm1Qcm9wZXJ0eS52YWx1ZSA9PT0gQWN0aXZlVGVybS5MRUZUICkge1xyXG4gICAgICAgIG1vZGVsLmFkZGl0aW9uVGVybXMubGVmdFRlcm1Qcm9wZXJ0eS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICggbW9kZWwuYWRkaXRpb25UZXJtcy5hY3RpdmVUZXJtUHJvcGVydHkudmFsdWUgPT09IEFjdGl2ZVRlcm0uUklHSFQgKSB7XHJcbiAgICAgICAgbW9kZWwuYWRkaXRpb25UZXJtcy5yaWdodFRlcm1Qcm9wZXJ0eS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtb2RlbC5zZXR1cFRlcm1zKCk7XHJcbiAgICAgIG1vZGVsLmFkZGl0aW9uVGVybXMuYWN0aXZlVGVybVByb3BlcnR5LnZhbHVlID0gQWN0aXZlVGVybS5OT05FO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRpbUJhY2tncm91bmQgPSBuZXcgUmVjdGFuZ2xlKCB7XHJcbiAgICAgIGZpbGw6IG5ldyBDb2xvciggTWFrZUFUZW5Db25zdGFudHMuU0NSRUVOX0JBQ0tHUk9VTkRfQ09MT1IgKS5jb2xvclV0aWxzRGFya2VyKCAwLjQgKS53aXRoQWxwaGEoIDAuNCApXHJcbiAgICB9ICk7XHJcbiAgICBkaW1CYWNrZ3JvdW5kLmFkZElucHV0TGlzdGVuZXIoIHtcclxuICAgICAgZG93bjogZXZlbnQgPT4ge1xyXG4gICAgICAgIG1vZGVsLmFkZGl0aW9uVGVybXMuYWN0aXZlVGVybVByb3BlcnR5LnZhbHVlID0gQWN0aXZlVGVybS5OT05FOyAvLyB0aGlzIHdpbGwgY2xvc2UgdGhlIGtleWJvYXJkIGJ1dHRvblxyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLnZpc2libGVCb3VuZHNQcm9wZXJ0eS5saW5rKCB2aXNpYmxlQm91bmRzID0+IHtcclxuICAgICAgZGltQmFja2dyb3VuZC5yZWN0Qm91bmRzID0gdmlzaWJsZUJvdW5kcy5kaWxhdGVkKCA1ICk7IC8vIEV4dHJhIGRpbGF0aW9uIHNvIGFudGktYWxpYXNpbmcgZG9lc24ndCBtZXNzIHdpdGggYm9yZGVyc1xyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggZGltQmFja2dyb3VuZCApO1xyXG5cclxuICAgIGNvbnN0IGtleWJvYXJkUGFuZWwgPSBuZXcgS2V5Ym9hcmRQYW5lbCggb25OdW1iZXJTdWJtaXQsIE1BWF9ESUdJVFMgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIGtleWJvYXJkUGFuZWwgKTtcclxuXHJcbiAgICBrZXlib2FyZFBhbmVsLmNlbnRlclggPSBhZGRpdGlvblRlcm1zTm9kZS5jZW50ZXJYIC0gMjU7XHJcbiAgICBrZXlib2FyZFBhbmVsLnRvcCA9IGFkZGl0aW9uVGVybXNOb2RlLnRvcCArIDEyMDtcclxuXHJcbiAgICBtb2RlbC5hZGRpdGlvblRlcm1zLmFjdGl2ZVRlcm1Qcm9wZXJ0eS5saW5rKCB0ZXJtID0+IHtcclxuICAgICAga2V5Ym9hcmRQYW5lbC52aXNpYmxlID0gZGltQmFja2dyb3VuZC52aXNpYmxlID0gdGVybSAhPT0gQWN0aXZlVGVybS5OT05FO1xyXG5cclxuICAgICAgaWYgKCB0ZXJtID09PSBBY3RpdmVUZXJtLkxFRlQgKSB7XHJcbiAgICAgICAga2V5Ym9hcmRQYW5lbC5zZXRWYWx1ZSggbW9kZWwuYWRkaXRpb25UZXJtcy5sZWZ0VGVybVByb3BlcnR5LnZhbHVlICk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCB0ZXJtID09PSBBY3RpdmVUZXJtLlJJR0hUICkge1xyXG4gICAgICAgIGtleWJvYXJkUGFuZWwuc2V0VmFsdWUoIG1vZGVsLmFkZGl0aW9uVGVybXMucmlnaHRUZXJtUHJvcGVydHkudmFsdWUgKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMubGF5b3V0Q29udHJvbHMoKTtcclxuICB9XHJcbn1cclxuXHJcbm1ha2VBVGVuLnJlZ2lzdGVyKCAnTWFrZUFUZW5BZGRpbmdTY3JlZW5WaWV3JywgTWFrZUFUZW5BZGRpbmdTY3JlZW5WaWV3ICk7XHJcbmV4cG9ydCBkZWZhdWx0IE1ha2VBVGVuQWRkaW5nU2NyZWVuVmlldzsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSx3QkFBd0IsTUFBTSwyRUFBMkU7QUFDaEgsU0FBU0MsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLFNBQVMsUUFBUSxzQ0FBc0M7QUFDOUUsT0FBT0MscUJBQXFCLE1BQU0sd0RBQXdEO0FBQzFGLE9BQU9DLFFBQVEsTUFBTSxnQ0FBZ0M7QUFDckQsT0FBT0MsUUFBUSxNQUFNLHNCQUFzQjtBQUMzQyxPQUFPQyxpQkFBaUIsTUFBTSxtQ0FBbUM7QUFDakUsT0FBT0MsaUJBQWlCLE1BQU0sd0NBQXdDO0FBQ3RFLE9BQU9DLFVBQVUsTUFBTSx3QkFBd0I7QUFDL0MsT0FBT0MsYUFBYSxNQUFNLG9CQUFvQjs7QUFFOUM7QUFDQSxNQUFNQyxVQUFVLEdBQUcsQ0FBQztBQUVwQixNQUFNQyx3QkFBd0IsU0FBU1osd0JBQXdCLENBQUM7RUFFOUQ7QUFDRjtBQUNBO0VBQ0VhLFdBQVdBLENBQUVDLEtBQUssRUFBRztJQUVuQixLQUFLLENBQUVBLEtBQU0sQ0FBQztJQUVkLElBQUksQ0FBQ0Msb0JBQW9CLENBQUMsQ0FBQztJQUUzQixTQUFTQyxzQkFBc0JBLENBQUVDLElBQUksRUFBRztNQUN0QyxPQUFPLElBQUliLHFCQUFxQixDQUFFO1FBQ2hDYyxrQkFBa0IsRUFBRSxFQUFFO1FBQ3RCQyxrQkFBa0IsRUFBRSxFQUFFO1FBQ3RCQyxPQUFPLEVBQUUsSUFBSWxCLEtBQUssQ0FBRUcsUUFBUSxFQUFFO1VBQUVnQixLQUFLLEVBQUU7UUFBSSxDQUFFLENBQUM7UUFDOUNDLFFBQVEsRUFBRUEsQ0FBQSxLQUFNO1VBQ2RSLEtBQUssQ0FBQ1MsYUFBYSxDQUFDQyxrQkFBa0IsQ0FBQ0MsS0FBSyxHQUFHUixJQUFJO1FBQ3JELENBQUM7UUFDRFMsU0FBUyxFQUFFO01BQ2Is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