// Copyright 2014-2022, University of Colorado Boulder

/**
 * Bulb node for 'Faradays Law' simulation
 *
 * @author Vasily Shakhov (MLearner)
 * @author John Blanco (PhET Interactive Simulations)
 * @author Sam Reid (PhET Interactive Simulations)
 */

import Vector2 from '../../../../dot/js/Vector2.js';
import { Shape } from '../../../../kite/js/imports.js';
import lightBulbBase_png from '../../../../scenery-phet/mipmaps/lightBulbBase_png.js';
import { Circle, Image, Node, Path, RadialGradient } from '../../../../scenery/js/imports.js';
import faradaysLaw from '../../faradaysLaw.js';

// constants
const BULB_BODY_HEIGHT = 125 - 45;
const BULB_WIDTH = 65;
const BULB_BASE_WIDTH = 36;
const NUM_FILAMENT_ZIG_ZAGS = 4;
const FILAMENT_ZIG_ZAG_SPAN = 4;
const BULB_X_DISPLACEMENT = -45; // Bulb dx relative to center position
const BULB_NECK_WIDTH = BULB_BASE_WIDTH * 0.85;
const CONTROL_POINT_Y_VALUE = BULB_WIDTH * 0.7;
class BulbNode extends Node {
  /**
   * @param {NumberProperty} voltageProperty - indicated on the voltmeter
   * @param {Object} [options]
   */
  constructor(voltageProperty, options) {
    super();

    // Create the base of the bulb
    const bulbBase = new Image(lightBulbBase_png);
    bulbBase.scale(BULB_BASE_WIDTH / bulbBase.height);

    // Important Note: For the drawing code below, the reference frame is assumed to be such that the point x=0, y=0 is
    // at the left side of the light bulb base, which is also the right side of the light bulb body, and the vertical
    // center of both.  This was the easiest to work with.

    // Create the bulb body.
    const bulbShape = new Shape().moveTo(0, -BULB_NECK_WIDTH / 2).cubicCurveTo(-BULB_BODY_HEIGHT * 0.33, -CONTROL_POINT_Y_VALUE, -BULB_BODY_HEIGHT * 0.95, -CONTROL_POINT_Y_VALUE, -BULB_BODY_HEIGHT, 0).cubicCurveTo(-BULB_BODY_HEIGHT * 0.95, CONTROL_POINT_Y_VALUE, -BULB_BODY_HEIGHT * 0.33, CONTROL_POINT_Y_VALUE, 0, BULB_NECK_WIDTH / 2);
    const bulbBodyOutline = new Path(bulbShape, {
      stroke: 'black',
      lineCap: 'round'
    });
    const bulbBodyFill = new Path(bulbShape, {
      fill: new RadialGradient(bulbBodyOutline.centerX, bulbBodyOutline.centerY, BULB_WIDTH / 10, bulbBodyOutline.centerX, bulbBodyOutline.centerY, BULB_WIDTH / 2).addColorStop(0, '#eeeeee').addColorStop(1, '#bbccbb')
    });

    // Create the filament support wires.
    const filamentWireHeight = BULB_BODY_HEIGHT * 0.6;
    const filamentTopPoint = new Vector2(-filamentWireHeight, -BULB_WIDTH * 0.3);
    const filamentBottomPoint = new Vector2(-filamentWireHeight, BULB_WIDTH * 0.3);
    const filamentSupportWiresShape = new Shape().moveTo(0, -BULB_BASE_WIDTH * 0.3).cubicCurveTo(-filamentWireHeight * 0.3, -BULB_BASE_WIDTH * 0.3, -filamentWireHeight * 0.4, filamentTopPoint.y, filamentTopPoint.x, filamentTopPoint.y).moveTo(0, BULB_BASE_WIDTH * 0.3).cubicCurveTo(-filamentWireHeight * 0.3, BULB_BASE_WIDTH * 0.3, -filamentWireHeight * 0.4, filamentBottomPoint.y, filamentBottomPoint.x, filamentBottomPoint.y);
    const filamentSupportWires = new Path(filamentSupportWiresShape, {
      stroke: 'black'
    });
    const filamentShape = new Shape().moveToPoint(filamentBottomPoint).zigZagToPoint(filamentTopPoint, FILAMENT_ZIG_ZAG_SPAN, NUM_FILAMENT_ZIG_ZAGS, true);
    const filamentNode = new Path(filamentShape, {
      stroke: 'black'
    });

    // Create the 'halo' that makes the bulb look like it is shining.
    const haloNode = new Node({
      children: [new Circle(5, {
        fill: 'white',
        opacity: 0.46
      }), new Circle(3.75, {
        fill: 'white',
        opacity: 0.51
      }), new Circle(2, {
        fill: 'white'
      })]
    });

    // Update the halo as the needle angle changes.
    voltageProperty.link(voltage => {
      // in angle = 1, we would have 200x200 halo (max circle diameter - 10px, so 200/10 = 20)
      const scale = 20 * Math.abs(voltage);
      if (scale < 0.1) {
        haloNode.visible = false;
      } else {
        haloNode.visible = true;
        haloNode.scale(scale / haloNode.transform.matrix.scaleVector.x);
      }
    });

    // Layering
    this.children = [bulbBodyFill, filamentSupportWires, filamentNode, haloNode, bulbBase, bulbBodyOutline];

    // Do some last layout
    bulbBase.centerY = 0;
    bulbBase.left = 0;
    haloNode.center = filamentNode.center;
    this.mutate(options);
    this.translate(BULB_X_DISPLACEMENT, 0);
  }
}
faradaysLaw.register('BulbNode', BulbNode);
export default BulbNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWZWN0b3IyIiwiU2hhcGUiLCJsaWdodEJ1bGJCYXNlX3BuZyIsIkNpcmNsZSIsIkltYWdlIiwiTm9kZSIsIlBhdGgiLCJSYWRpYWxHcmFkaWVudCIsImZhcmFkYXlzTGF3IiwiQlVMQl9CT0RZX0hFSUdIVCIsIkJVTEJfV0lEVEgiLCJCVUxCX0JBU0VfV0lEVEgiLCJOVU1fRklMQU1FTlRfWklHX1pBR1MiLCJGSUxBTUVOVF9aSUdfWkFHX1NQQU4iLCJCVUxCX1hfRElTUExBQ0VNRU5UIiwiQlVMQl9ORUNLX1dJRFRIIiwiQ09OVFJPTF9QT0lOVF9ZX1ZBTFVFIiwiQnVsYk5vZGUiLCJjb25zdHJ1Y3RvciIsInZvbHRhZ2VQcm9wZXJ0eSIsIm9wdGlvbnMiLCJidWxiQmFzZSIsInNjYWxlIiwiaGVpZ2h0IiwiYnVsYlNoYXBlIiwibW92ZVRvIiwiY3ViaWNDdXJ2ZVRvIiwiYnVsYkJvZHlPdXRsaW5lIiwic3Ryb2tlIiwibGluZUNhcCIsImJ1bGJCb2R5RmlsbCIsImZpbGwiLCJjZW50ZXJYIiwiY2VudGVyWSIsImFkZENvbG9yU3RvcCIsImZpbGFtZW50V2lyZUhlaWdodCIsImZpbGFtZW50VG9wUG9pbnQiLCJmaWxhbWVudEJvdHRvbVBvaW50IiwiZmlsYW1lbnRTdXBwb3J0V2lyZXNTaGFwZSIsInkiLCJ4IiwiZmlsYW1lbnRTdXBwb3J0V2lyZXMiLCJmaWxhbWVudFNoYXBlIiwibW92ZVRvUG9pbnQiLCJ6aWdaYWdUb1BvaW50IiwiZmlsYW1lbnROb2RlIiwiaGFsb05vZGUiLCJjaGlsZHJlbiIsIm9wYWNpdHkiLCJsaW5rIiwidm9sdGFnZSIsIk1hdGgiLCJhYnMiLCJ2aXNpYmxlIiwidHJhbnNmb3JtIiwibWF0cml4Iiwic2NhbGVWZWN0b3IiLCJsZWZ0IiwiY2VudGVyIiwibXV0YXRlIiwidHJhbnNsYXRlIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJCdWxiTm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNC0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBCdWxiIG5vZGUgZm9yICdGYXJhZGF5cyBMYXcnIHNpbXVsYXRpb25cclxuICpcclxuICogQGF1dGhvciBWYXNpbHkgU2hha2hvdiAoTUxlYXJuZXIpXHJcbiAqIEBhdXRob3IgSm9obiBCbGFuY28gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgU2FtIFJlaWQgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBsaWdodEJ1bGJCYXNlX3BuZyBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvbWlwbWFwcy9saWdodEJ1bGJCYXNlX3BuZy5qcyc7XHJcbmltcG9ydCB7IENpcmNsZSwgSW1hZ2UsIE5vZGUsIFBhdGgsIFJhZGlhbEdyYWRpZW50IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IGZhcmFkYXlzTGF3IGZyb20gJy4uLy4uL2ZhcmFkYXlzTGF3LmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBCVUxCX0JPRFlfSEVJR0hUID0gMTI1IC0gNDU7XHJcbmNvbnN0IEJVTEJfV0lEVEggPSA2NTtcclxuY29uc3QgQlVMQl9CQVNFX1dJRFRIID0gMzY7XHJcbmNvbnN0IE5VTV9GSUxBTUVOVF9aSUdfWkFHUyA9IDQ7XHJcbmNvbnN0IEZJTEFNRU5UX1pJR19aQUdfU1BBTiA9IDQ7XHJcbmNvbnN0IEJVTEJfWF9ESVNQTEFDRU1FTlQgPSAtNDU7IC8vIEJ1bGIgZHggcmVsYXRpdmUgdG8gY2VudGVyIHBvc2l0aW9uXHJcbmNvbnN0IEJVTEJfTkVDS19XSURUSCA9IEJVTEJfQkFTRV9XSURUSCAqIDAuODU7XHJcbmNvbnN0IENPTlRST0xfUE9JTlRfWV9WQUxVRSA9IEJVTEJfV0lEVEggKiAwLjc7XHJcblxyXG5jbGFzcyBCdWxiTm9kZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge051bWJlclByb3BlcnR5fSB2b2x0YWdlUHJvcGVydHkgLSBpbmRpY2F0ZWQgb24gdGhlIHZvbHRtZXRlclxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvciggdm9sdGFnZVByb3BlcnR5LCBvcHRpb25zICkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIGJhc2Ugb2YgdGhlIGJ1bGJcclxuICAgIGNvbnN0IGJ1bGJCYXNlID0gbmV3IEltYWdlKCBsaWdodEJ1bGJCYXNlX3BuZyApO1xyXG4gICAgYnVsYkJhc2Uuc2NhbGUoIEJVTEJfQkFTRV9XSURUSCAvIGJ1bGJCYXNlLmhlaWdodCApO1xyXG5cclxuICAgIC8vIEltcG9ydGFudCBOb3RlOiBGb3IgdGhlIGRyYXdpbmcgY29kZSBiZWxvdywgdGhlIHJlZmVyZW5jZSBmcmFtZSBpcyBhc3N1bWVkIHRvIGJlIHN1Y2ggdGhhdCB0aGUgcG9pbnQgeD0wLCB5PTAgaXNcclxuICAgIC8vIGF0IHRoZSBsZWZ0IHNpZGUgb2YgdGhlIGxpZ2h0IGJ1bGIgYmFzZSwgd2hpY2ggaXMgYWxzbyB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgbGlnaHQgYnVsYiBib2R5LCBhbmQgdGhlIHZlcnRpY2FsXHJcbiAgICAvLyBjZW50ZXIgb2YgYm90aC4gIFRoaXMgd2FzIHRoZSBlYXNpZXN0IHRvIHdvcmsgd2l0aC5cclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIGJ1bGIgYm9keS5cclxuICAgIGNvbnN0IGJ1bGJTaGFwZSA9IG5ldyBTaGFwZSgpLm1vdmVUbyggMCwgLUJVTEJfTkVDS19XSURUSCAvIDIgKVxyXG4gICAgICAuY3ViaWNDdXJ2ZVRvKFxyXG4gICAgICAgIC1CVUxCX0JPRFlfSEVJR0hUICogMC4zMyxcclxuICAgICAgICAtQ09OVFJPTF9QT0lOVF9ZX1ZBTFVFLFxyXG4gICAgICAgIC1CVUxCX0JPRFlfSEVJR0hUICogMC45NSxcclxuICAgICAgICAtQ09OVFJPTF9QT0lOVF9ZX1ZBTFVFLFxyXG4gICAgICAgIC1CVUxCX0JPRFlfSEVJR0hULFxyXG4gICAgICAgIDBcclxuICAgICAgKVxyXG4gICAgICAuY3ViaWNDdXJ2ZVRvKFxyXG4gICAgICAgIC1CVUxCX0JPRFlfSEVJR0hUICogMC45NSxcclxuICAgICAgICBDT05UUk9MX1BPSU5UX1lfVkFMVUUsXHJcbiAgICAgICAgLUJVTEJfQk9EWV9IRUlHSFQgKiAwLjMzLFxyXG4gICAgICAgIENPTlRST0xfUE9JTlRfWV9WQUxVRSxcclxuICAgICAgICAwLFxyXG4gICAgICAgIEJVTEJfTkVDS19XSURUSCAvIDJcclxuICAgICAgKTtcclxuICAgIGNvbnN0IGJ1bGJCb2R5T3V0bGluZSA9IG5ldyBQYXRoKCBidWxiU2hhcGUsIHtcclxuICAgICAgc3Ryb2tlOiAnYmxhY2snLFxyXG4gICAgICBsaW5lQ2FwOiAncm91bmQnXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCBidWxiQm9keUZpbGwgPSBuZXcgUGF0aCggYnVsYlNoYXBlLCB7XHJcbiAgICAgIGZpbGw6IG5ldyBSYWRpYWxHcmFkaWVudChcclxuICAgICAgICBidWxiQm9keU91dGxpbmUuY2VudGVyWCwgYnVsYkJvZHlPdXRsaW5lLmNlbnRlclksXHJcbiAgICAgICAgQlVMQl9XSURUSCAvIDEwLCBidWxiQm9keU91dGxpbmUuY2VudGVyWCwgYnVsYkJvZHlPdXRsaW5lLmNlbnRlclksXHJcbiAgICAgICAgQlVMQl9XSURUSCAvIDIgKVxyXG4gICAgICAgIC5hZGRDb2xvclN0b3AoIDAsICcjZWVlZWVlJyApXHJcbiAgICAgICAgLmFkZENvbG9yU3RvcCggMSwgJyNiYmNjYmInIClcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIGZpbGFtZW50IHN1cHBvcnQgd2lyZXMuXHJcbiAgICBjb25zdCBmaWxhbWVudFdpcmVIZWlnaHQgPSBCVUxCX0JPRFlfSEVJR0hUICogMC42O1xyXG4gICAgY29uc3QgZmlsYW1lbnRUb3BQb2ludCA9IG5ldyBWZWN0b3IyKCAtZmlsYW1lbnRXaXJlSGVpZ2h0LCAtQlVMQl9XSURUSCAqIDAuMyApO1xyXG4gICAgY29uc3QgZmlsYW1lbnRCb3R0b21Qb2ludCA9IG5ldyBWZWN0b3IyKCAtZmlsYW1lbnRXaXJlSGVpZ2h0LCBCVUxCX1dJRFRIICogMC4zICk7XHJcbiAgICBjb25zdCBmaWxhbWVudFN1cHBvcnRXaXJlc1NoYXBlID0gbmV3IFNoYXBlKClcclxuICAgICAgLm1vdmVUbyggMCwgLUJVTEJfQkFTRV9XSURUSCAqIDAuMyApXHJcbiAgICAgIC5jdWJpY0N1cnZlVG8oXHJcbiAgICAgICAgLWZpbGFtZW50V2lyZUhlaWdodCAqIDAuMyxcclxuICAgICAgICAtQlVMQl9CQVNFX1dJRFRIICogMC4zLFxyXG4gICAgICAgIC1maWxhbWVudFdpcmVIZWlnaHQgKiAwLjQsXHJcbiAgICAgICAgZmlsYW1lbnRUb3BQb2ludC55LFxyXG4gICAgICAgIGZpbGFtZW50VG9wUG9pbnQueCxcclxuICAgICAgICBmaWxhbWVudFRvcFBvaW50LnlcclxuICAgICAgKVxyXG4gICAgICAubW92ZVRvKCAwLCBCVUxCX0JBU0VfV0lEVEggKiAwLjMgKVxyXG4gICAgICAuY3ViaWNDdXJ2ZVRvKFxyXG4gICAgICAgIC1maWxhbWVudFdpcmVIZWlnaHQgKiAwLjMsXHJcbiAgICAgICAgQlVMQl9CQVNFX1dJRFRIICogMC4zLFxyXG4gICAgICAgIC1maWxhbWVudFdpcmVIZWlnaHQgKiAwLjQsXHJcbiAgICAgICAgZmlsYW1lbnRCb3R0b21Qb2ludC55LFxyXG4gICAgICAgIGZpbGFtZW50Qm90dG9tUG9pbnQueCxcclxuICAgICAgICBmaWxhbWVudEJvdHRvbVBvaW50LnlcclxuICAgICAgKTtcclxuICAgIGNvbnN0IGZpbGFtZW50U3VwcG9ydFdpcmVzID0gbmV3IFBhdGgoIGZpbGFtZW50U3VwcG9ydFdpcmVzU2hhcGUsIHsgc3Ryb2tlOiAnYmxhY2snIH0gKTtcclxuICAgIGNvbnN0IGZpbGFtZW50U2hhcGUgPSBuZXcgU2hhcGUoKVxyXG4gICAgICAubW92ZVRvUG9pbnQoIGZpbGFtZW50Qm90dG9tUG9pbnQgKVxyXG4gICAgICAuemlnWmFnVG9Qb2ludCggZmlsYW1lbnRUb3BQb2ludCwgRklMQU1FTlRfWklHX1pBR19TUEFOLCBOVU1fRklMQU1FTlRfWklHX1pBR1MsIHRydWUgKTtcclxuICAgIGNvbnN0IGZpbGFtZW50Tm9kZSA9IG5ldyBQYXRoKCBmaWxhbWVudFNoYXBlLCB7IHN0cm9rZTogJ2JsYWNrJyB9ICk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSAnaGFsbycgdGhhdCBtYWtlcyB0aGUgYnVsYiBsb29rIGxpa2UgaXQgaXMgc2hpbmluZy5cclxuICAgIGNvbnN0IGhhbG9Ob2RlID0gbmV3IE5vZGUoIHtcclxuICAgICAgY2hpbGRyZW46IFsgbmV3IENpcmNsZSggNSwge1xyXG4gICAgICAgIGZpbGw6ICd3aGl0ZScsXHJcbiAgICAgICAgb3BhY2l0eTogMC40NlxyXG4gICAgICB9ICksIG5ldyBDaXJjbGUoIDMuNzUsIHtcclxuICAgICAgICBmaWxsOiAnd2hpdGUnLFxyXG4gICAgICAgIG9wYWNpdHk6IDAuNTFcclxuICAgICAgfSApLCBuZXcgQ2lyY2xlKCAyLCB7XHJcbiAgICAgICAgZmlsbDogJ3doaXRlJ1xyXG4gICAgICB9ICkgXVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgaGFsbyBhcyB0aGUgbmVlZGxlIGFuZ2xlIGNoYW5nZXMuXHJcbiAgICB2b2x0YWdlUHJvcGVydHkubGluayggdm9sdGFnZSA9PiB7XHJcblxyXG4gICAgICAvLyBpbiBhbmdsZSA9IDEsIHdlIHdvdWxkIGhhdmUgMjAweDIwMCBoYWxvIChtYXggY2lyY2xlIGRpYW1ldGVyIC0gMTBweCwgc28gMjAwLzEwID0gMjApXHJcbiAgICAgIGNvbnN0IHNjYWxlID0gMjAgKiBNYXRoLmFicyggdm9sdGFnZSApO1xyXG4gICAgICBpZiAoIHNjYWxlIDwgMC4xICkge1xyXG4gICAgICAgIGhhbG9Ob2RlLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBoYWxvTm9kZS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICBoYWxvTm9kZS5zY2FsZSggc2NhbGUgLyBoYWxvTm9kZS50cmFuc2Zvcm0ubWF0cml4LnNjYWxlVmVjdG9yLnggKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIExheWVyaW5nXHJcbiAgICB0aGlzLmNoaWxkcmVuID0gW1xyXG4gICAgICBidWxiQm9keUZpbGwsXHJcbiAgICAgIGZpbGFtZW50U3VwcG9ydFdpcmVzLFxyXG4gICAgICBmaWxhbWVudE5vZGUsXHJcbiAgICAgIGhhbG9Ob2RlLFxyXG4gICAgICBidWxiQmFzZSxcclxuICAgICAgYnVsYkJvZHlPdXRsaW5lXHJcbiAgICBdO1xyXG5cclxuICAgIC8vIERvIHNvbWUgbGFzdCBsYXlvdXRcclxuICAgIGJ1bGJCYXNlLmNlbnRlclkgPSAwO1xyXG4gICAgYnVsYkJhc2UubGVmdCA9IDA7XHJcbiAgICBoYWxvTm9kZS5jZW50ZXIgPSBmaWxhbWVudE5vZGUuY2VudGVyO1xyXG5cclxuICAgIHRoaXMubXV0YXRlKCBvcHRpb25zICk7XHJcblxyXG4gICAgdGhpcy50cmFuc2xhdGUoIEJVTEJfWF9ESVNQTEFDRU1FTlQsIDAgKTtcclxuICB9XHJcbn1cclxuXHJcbmZhcmFkYXlzTGF3LnJlZ2lzdGVyKCAnQnVsYk5vZGUnLCBCdWxiTm9kZSApO1xyXG5leHBvcnQgZGVmYXVsdCBCdWxiTm9kZTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLE9BQU8s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