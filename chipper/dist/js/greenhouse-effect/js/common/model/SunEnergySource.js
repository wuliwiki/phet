// Copyright 2021-2022, University of Colorado Boulder

/**
 * SunEnergySource is used to produce energy at a constant rate.  The amount of energy produced is based on what the
 * real sun would be delivering to the Earth for the provided surface area.
 *
 * @author John Blanco (PhET Interactive Simulations)
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import PhetioObject from '../../../../tandem/js/PhetioObject.js';
import IOType from '../../../../tandem/js/types/IOType.js';
import greenhouseEffect from '../../greenhouseEffect.js';
import GreenhouseEffectConstants from '../GreenhouseEffectConstants.js';
import GreenhouseEffectQueryParameters from '../GreenhouseEffectQueryParameters.js';
import EMEnergyPacket from './EMEnergyPacket.js';
import EnergyDirection from './EnergyDirection.js';
import EnergyRateTracker from './EnergyRateTracker.js';
import LayersModel from './LayersModel.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import Range from '../../../../dot/js/Range.js';

// constants
const OUTPUT_PROPORTION_RANGE = new Range(0.5, 2);

// Energy produced the sun in Watts per square meter.  This value was calculated using the Stefan-Boltzmann equation,
// for more on the derivation see https://en.wikipedia.org/wiki/Stefan%E2%80%93Boltzmann_law, particularly the section
// entitled "Effective temperature of the Earth".
const OUTPUT_ENERGY_RATE = 343.6;
class SunEnergySource extends PhetioObject {
  // controls whether the sun is shining

  // value that controls the output level relative to Earth's sun

  /**
   * @param surfaceAreaOfIncidentLight - surface area onto which the sun is shining
   * @param emEnergyPackets - array of energy packets into which energy from this source will be placed
   * @param tandem - for phet-io
   */
  constructor(surfaceAreaOfIncidentLight, emEnergyPackets, tandem) {
    super({
      tandem: tandem,
      phetioType: SunEnergySource.SunEnergySourceIO
    });
    this.isShiningProperty = new BooleanProperty(GreenhouseEffectQueryParameters.initiallyStarted, {
      tandem: tandem.createTandem('isShiningProperty')
    });
    this.proportionateOutputRateProperty = new NumberProperty(1, {
      range: OUTPUT_PROPORTION_RANGE,
      tandem: tandem.createTandem('proportionateOutputRateProperty')
    });

    // tracks the average energy output
    this.outputEnergyRateTracker = new EnergyRateTracker({
      tandem: tandem.createTandem('outputEnergyRateTracker')
    });
    this.surfaceAreaOfIncidentLight = surfaceAreaOfIncidentLight;

    // {EMEnergyPacket[]} - EM energy packet group where produced energy will be put.
    this.emEnergyPackets = emEnergyPackets;
  }

  /**
   * Produce an energy packet that represents the sun shining towards the earth for the specified amount of time and
   * ass it to the group of energy packets.
   */
  produceEnergy(dt) {
    if (this.isShiningProperty.value) {
      const energyToProduce = OUTPUT_ENERGY_RATE * this.surfaceAreaOfIncidentLight * this.proportionateOutputRateProperty.value * dt;
      this.outputEnergyRateTracker.addEnergyInfo(energyToProduce, dt);
      this.emEnergyPackets.push(new EMEnergyPacket(GreenhouseEffectConstants.VISIBLE_WAVELENGTH, energyToProduce, LayersModel.HEIGHT_OF_ATMOSPHERE, EnergyDirection.DOWN));
    }
  }

  /**
   * Get the current output energy in watts per square meter.
   */
  getOutputEnergyRate() {
    return this.isShiningProperty.value ? OUTPUT_ENERGY_RATE * this.proportionateOutputRateProperty.value : 0;
  }

  /**
   */
  reset() {
    this.outputEnergyRateTracker.reset();
    this.isShiningProperty.reset();
    this.proportionateOutputRateProperty.reset();
  }

  /**
   * SunEnergySourceIO handles PhET-iO serialization of the SunEnergySource. Because serialization involves accessing
   * private members, it delegates to SunEnergySource. The methods that SunEnergySourceIO overrides are typical of
   * 'Dynamic element serialization', as described in the Serialization section of
   * https://github.com/phetsims/phet-io/blob/master/doc/phet-io-instrumentation-technical-guide.md#serialization
   */
  static SunEnergySourceIO = new IOType('SunEnergySourceIO', {
    valueType: SunEnergySource,
    stateSchema: {
      outputEnergyRateTracker: EnergyRateTracker.EnergyRateTrackerIO
    }
  });

  // static values
  static OUTPUT_ENERGY_RATE = OUTPUT_ENERGY_RATE;
  static OUTPUT_PROPORTION_RANGE = OUTPUT_PROPORTION_RANGE;
}
greenhouseEffect.register('SunEnergySource', SunEnergySource);
export default SunEnergySource;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJQaGV0aW9PYmplY3QiLCJJT1R5cGUiLCJncmVlbmhvdXNlRWZmZWN0IiwiR3JlZW5ob3VzZUVmZmVjdENvbnN0YW50cyIsIkdyZWVuaG91c2VFZmZlY3RRdWVyeVBhcmFtZXRlcnMiLCJFTUVuZXJneVBhY2tldCIsIkVuZXJneURpcmVjdGlvbiIsIkVuZXJneVJhdGVUcmFja2VyIiwiTGF5ZXJzTW9kZWwiLCJOdW1iZXJQcm9wZXJ0eSIsIlJhbmdlIiwiT1VUUFVUX1BST1BPUlRJT05fUkFOR0UiLCJPVVRQVVRfRU5FUkdZX1JBVEUiLCJTdW5FbmVyZ3lTb3VyY2UiLCJjb25zdHJ1Y3RvciIsInN1cmZhY2VBcmVhT2ZJbmNpZGVudExpZ2h0IiwiZW1FbmVyZ3lQYWNrZXRzIiwidGFuZGVtIiwicGhldGlvVHlwZSIsIlN1bkVuZXJneVNvdXJjZUlPIiwiaXNTaGluaW5nUHJvcGVydHkiLCJpbml0aWFsbHlTdGFydGVkIiwiY3JlYXRlVGFuZGVtIiwicHJvcG9ydGlvbmF0ZU91dHB1dFJhdGVQcm9wZXJ0eSIsInJhbmdlIiwib3V0cHV0RW5lcmd5UmF0ZVRyYWNrZXIiLCJwcm9kdWNlRW5lcmd5IiwiZHQiLCJ2YWx1ZSIsImVuZXJneVRvUHJvZHVjZSIsImFkZEVuZXJneUluZm8iLCJwdXNoIiwiVklTSUJMRV9XQVZFTEVOR1RIIiwiSEVJR0hUX09GX0FUTU9TUEhFUkUiLCJET1dOIiwiZ2V0T3V0cHV0RW5lcmd5UmF0ZSIsInJlc2V0IiwidmFsdWVUeXBlIiwic3RhdGVTY2hlbWEiLCJFbmVyZ3lSYXRlVHJhY2tlcklPIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJTdW5FbmVyZ3lTb3VyY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjEtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU3VuRW5lcmd5U291cmNlIGlzIHVzZWQgdG8gcHJvZHVjZSBlbmVyZ3kgYXQgYSBjb25zdGFudCByYXRlLiAgVGhlIGFtb3VudCBvZiBlbmVyZ3kgcHJvZHVjZWQgaXMgYmFzZWQgb24gd2hhdCB0aGVcclxuICogcmVhbCBzdW4gd291bGQgYmUgZGVsaXZlcmluZyB0byB0aGUgRWFydGggZm9yIHRoZSBwcm92aWRlZCBzdXJmYWNlIGFyZWEuXHJcbiAqXHJcbiAqIEBhdXRob3IgSm9obiBCbGFuY28gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IEJvb2xlYW5Qcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Jvb2xlYW5Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBQaGV0aW9PYmplY3QgZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1BoZXRpb09iamVjdC5qcyc7XHJcbmltcG9ydCBJT1R5cGUgZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL3R5cGVzL0lPVHlwZS5qcyc7XHJcbmltcG9ydCBncmVlbmhvdXNlRWZmZWN0IGZyb20gJy4uLy4uL2dyZWVuaG91c2VFZmZlY3QuanMnO1xyXG5pbXBvcnQgR3JlZW5ob3VzZUVmZmVjdENvbnN0YW50cyBmcm9tICcuLi9HcmVlbmhvdXNlRWZmZWN0Q29uc3RhbnRzLmpzJztcclxuaW1wb3J0IEdyZWVuaG91c2VFZmZlY3RRdWVyeVBhcmFtZXRlcnMgZnJvbSAnLi4vR3JlZW5ob3VzZUVmZmVjdFF1ZXJ5UGFyYW1ldGVycy5qcyc7XHJcbmltcG9ydCBFTUVuZXJneVBhY2tldCBmcm9tICcuL0VNRW5lcmd5UGFja2V0LmpzJztcclxuaW1wb3J0IEVuZXJneURpcmVjdGlvbiBmcm9tICcuL0VuZXJneURpcmVjdGlvbi5qcyc7XHJcbmltcG9ydCBFbmVyZ3lSYXRlVHJhY2tlciBmcm9tICcuL0VuZXJneVJhdGVUcmFja2VyLmpzJztcclxuaW1wb3J0IExheWVyc01vZGVsIGZyb20gJy4vTGF5ZXJzTW9kZWwuanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5pbXBvcnQgTnVtYmVyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9OdW1iZXJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBSYW5nZSBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvUmFuZ2UuanMnO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IE9VVFBVVF9QUk9QT1JUSU9OX1JBTkdFID0gbmV3IFJhbmdlKCAwLjUsIDIgKTtcclxuXHJcbi8vIEVuZXJneSBwcm9kdWNlZCB0aGUgc3VuIGluIFdhdHRzIHBlciBzcXVhcmUgbWV0ZXIuICBUaGlzIHZhbHVlIHdhcyBjYWxjdWxhdGVkIHVzaW5nIHRoZSBTdGVmYW4tQm9sdHptYW5uIGVxdWF0aW9uLFxyXG4vLyBmb3IgbW9yZSBvbiB0aGUgZGVyaXZhdGlvbiBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3RlZmFuJUUyJTgwJTkzQm9sdHptYW5uX2xhdywgcGFydGljdWxhcmx5IHRoZSBzZWN0aW9uXHJcbi8vIGVudGl0bGVkIFwiRWZmZWN0aXZlIHRlbXBlcmF0dXJlIG9mIHRoZSBFYXJ0aFwiLlxyXG5jb25zdCBPVVRQVVRfRU5FUkdZX1JBVEUgPSAzNDMuNjtcclxuXHJcbmNsYXNzIFN1bkVuZXJneVNvdXJjZSBleHRlbmRzIFBoZXRpb09iamVjdCB7XHJcblxyXG4gIC8vIGNvbnRyb2xzIHdoZXRoZXIgdGhlIHN1biBpcyBzaGluaW5nXHJcbiAgcHVibGljIHJlYWRvbmx5IGlzU2hpbmluZ1Byb3BlcnR5OiBCb29sZWFuUHJvcGVydHk7XHJcbiAgcHVibGljIHJlYWRvbmx5IG91dHB1dEVuZXJneVJhdGVUcmFja2VyOiBFbmVyZ3lSYXRlVHJhY2tlcjtcclxuXHJcbiAgLy8gdmFsdWUgdGhhdCBjb250cm9scyB0aGUgb3V0cHV0IGxldmVsIHJlbGF0aXZlIHRvIEVhcnRoJ3Mgc3VuXHJcbiAgcHVibGljIHJlYWRvbmx5IHByb3BvcnRpb25hdGVPdXRwdXRSYXRlUHJvcGVydHk6IE51bWJlclByb3BlcnR5O1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgc3VyZmFjZUFyZWFPZkluY2lkZW50TGlnaHQ6IG51bWJlcjtcclxuICBwcml2YXRlIHJlYWRvbmx5IGVtRW5lcmd5UGFja2V0czogRU1FbmVyZ3lQYWNrZXRbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHN1cmZhY2VBcmVhT2ZJbmNpZGVudExpZ2h0IC0gc3VyZmFjZSBhcmVhIG9udG8gd2hpY2ggdGhlIHN1biBpcyBzaGluaW5nXHJcbiAgICogQHBhcmFtIGVtRW5lcmd5UGFja2V0cyAtIGFycmF5IG9mIGVuZXJneSBwYWNrZXRzIGludG8gd2hpY2ggZW5lcmd5IGZyb20gdGhpcyBzb3VyY2Ugd2lsbCBiZSBwbGFjZWRcclxuICAgKiBAcGFyYW0gdGFuZGVtIC0gZm9yIHBoZXQtaW9cclxuICAgKi9cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHN1cmZhY2VBcmVhT2ZJbmNpZGVudExpZ2h0OiBudW1iZXIsIGVtRW5lcmd5UGFja2V0czogRU1FbmVyZ3lQYWNrZXRbXSwgdGFuZGVtOiBUYW5kZW0gKSB7XHJcblxyXG4gICAgc3VwZXIoIHtcclxuICAgICAgdGFuZGVtOiB0YW5kZW0sXHJcbiAgICAgIHBoZXRpb1R5cGU6IFN1bkVuZXJneVNvdXJjZS5TdW5FbmVyZ3lTb3VyY2VJT1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuaXNTaGluaW5nUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCBHcmVlbmhvdXNlRWZmZWN0UXVlcnlQYXJhbWV0ZXJzLmluaXRpYWxseVN0YXJ0ZWQsIHtcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnaXNTaGluaW5nUHJvcGVydHknIClcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnByb3BvcnRpb25hdGVPdXRwdXRSYXRlUHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHkoIDEsIHtcclxuICAgICAgcmFuZ2U6IE9VVFBVVF9QUk9QT1JUSU9OX1JBTkdFLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdwcm9wb3J0aW9uYXRlT3V0cHV0UmF0ZVByb3BlcnR5JyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gdHJhY2tzIHRoZSBhdmVyYWdlIGVuZXJneSBvdXRwdXRcclxuICAgIHRoaXMub3V0cHV0RW5lcmd5UmF0ZVRyYWNrZXIgPSBuZXcgRW5lcmd5UmF0ZVRyYWNrZXIoIHtcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnb3V0cHV0RW5lcmd5UmF0ZVRyYWNrZXInIClcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnN1cmZhY2VBcmVhT2ZJbmNpZGVudExpZ2h0ID0gc3VyZmFjZUFyZWFPZkluY2lkZW50TGlnaHQ7XHJcblxyXG4gICAgLy8ge0VNRW5lcmd5UGFja2V0W119IC0gRU0gZW5lcmd5IHBhY2tldCBncm91cCB3aGVyZSBwcm9kdWNlZCBlbmVyZ3kgd2lsbCBiZSBwdXQuXHJcbiAgICB0aGlzLmVtRW5lcmd5UGFja2V0cyA9IGVtRW5lcmd5UGFja2V0cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFByb2R1Y2UgYW4gZW5lcmd5IHBhY2tldCB0aGF0IHJlcHJlc2VudHMgdGhlIHN1biBzaGluaW5nIHRvd2FyZHMgdGhlIGVhcnRoIGZvciB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lIGFuZFxyXG4gICAqIGFzcyBpdCB0byB0aGUgZ3JvdXAgb2YgZW5lcmd5IHBhY2tldHMuXHJcbiAgICovXHJcbiAgcHVibGljIHByb2R1Y2VFbmVyZ3koIGR0OiBudW1iZXIgKTogdm9pZCB7XHJcbiAgICBpZiAoIHRoaXMuaXNTaGluaW5nUHJvcGVydHkudmFsdWUgKSB7XHJcbiAgICAgIGNvbnN0IGVuZXJneVRvUHJvZHVjZSA9IE9VVFBVVF9FTkVSR1lfUkFURSAqIHRoaXMuc3VyZmFjZUFyZWFPZkluY2lkZW50TGlnaHQgKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BvcnRpb25hdGVPdXRwdXRSYXRlUHJvcGVydHkudmFsdWUgKiBkdDtcclxuICAgICAgdGhpcy5vdXRwdXRFbmVyZ3lSYXRlVHJhY2tlci5hZGRFbmVyZ3lJbmZvKCBlbmVyZ3lUb1Byb2R1Y2UsIGR0ICk7XHJcbiAgICAgIHRoaXMuZW1FbmVyZ3lQYWNrZXRzLnB1c2goIG5ldyBFTUVuZXJneVBhY2tldChcclxuICAgICAgICBHcmVlbmhvdXNlRWZmZWN0Q29uc3RhbnRzLlZJU0lCTEVfV0FWRUxFTkdUSCxcclxuICAgICAgICBlbmVyZ3lUb1Byb2R1Y2UsXHJcbiAgICAgICAgTGF5ZXJzTW9kZWwuSEVJR0hUX09GX0FUTU9TUEhFUkUsXHJcbiAgICAgICAgRW5lcmd5RGlyZWN0aW9uLkRPV05cclxuICAgICAgKSApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBjdXJyZW50IG91dHB1dCBlbmVyZ3kgaW4gd2F0dHMgcGVyIHNxdWFyZSBtZXRlci5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0T3V0cHV0RW5lcmd5UmF0ZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNTaGluaW5nUHJvcGVydHkudmFsdWUgPyBPVVRQVVRfRU5FUkdZX1JBVEUgKiB0aGlzLnByb3BvcnRpb25hdGVPdXRwdXRSYXRlUHJvcGVydHkudmFsdWUgOiAwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICovXHJcbiAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5vdXRwdXRFbmVyZ3lSYXRlVHJhY2tlci5yZXNldCgpO1xyXG4gICAgdGhpcy5pc1NoaW5pbmdQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5wcm9wb3J0aW9uYXRlT3V0cHV0UmF0ZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdW5FbmVyZ3lTb3VyY2VJTyBoYW5kbGVzIFBoRVQtaU8gc2VyaWFsaXphdGlvbiBvZiB0aGUgU3VuRW5lcmd5U291cmNlLiBCZWNhdXNlIHNlcmlhbGl6YXRpb24gaW52b2x2ZXMgYWNjZXNzaW5nXHJcbiAgICogcHJpdmF0ZSBtZW1iZXJzLCBpdCBkZWxlZ2F0ZXMgdG8gU3VuRW5lcmd5U291cmNlLiBUaGUgbWV0aG9kcyB0aGF0IFN1bkVuZXJneVNvdXJjZUlPIG92ZXJyaWRlcyBhcmUgdHlwaWNhbCBvZlxyXG4gICAqICdEeW5hbWljIGVsZW1lbnQgc2VyaWFsaXphdGlvbicsIGFzIGRlc2NyaWJlZCBpbiB0aGUgU2VyaWFsaXphdGlvbiBzZWN0aW9uIG9mXHJcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3BoZXQtaW8vYmxvYi9tYXN0ZXIvZG9jL3BoZXQtaW8taW5zdHJ1bWVudGF0aW9uLXRlY2huaWNhbC1ndWlkZS5tZCNzZXJpYWxpemF0aW9uXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBTdW5FbmVyZ3lTb3VyY2VJTyA9IG5ldyBJT1R5cGUoICdTdW5FbmVyZ3lTb3VyY2VJTycsIHtcclxuICAgIHZhbHVlVHlwZTogU3VuRW5lcmd5U291cmNlLFxyXG4gICAgc3RhdGVTY2hlbWE6IHtcclxuICAgICAgb3V0cHV0RW5lcmd5UmF0ZVRyYWNrZXI6IEVuZXJneVJhdGVUcmFja2VyLkVuZXJneVJhdGVUcmFja2VySU9cclxuICAgIH1cclxuICB9ICk7XHJcblxyXG4gIC8vIHN0YXRpYyB2YWx1ZXNcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE9VVFBVVF9FTkVSR1lfUkFURSA9IE9VVFBVVF9FTkVSR1lfUkFURTtcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE9VVFBVVF9QUk9QT1JUSU9OX1JBTkdFID0gT1VUUFVUX1BST1BPUlRJT05fUkFOR0U7XHJcbn1cclxuXHJcbmdyZWVuaG91c2VFZmZlY3QucmVnaXN0ZXIoICdTdW5FbmVyZ3lTb3VyY2UnLCBTdW5FbmVyZ3lTb3VyY2UgKTtcclxuZXhwb3J0IGRl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