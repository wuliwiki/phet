// Copyright 2014-2020, University of Colorado Boulder

import Property from '../../../../axon/js/Property.js';
import EstimationConstants from '../../common/EstimationConstants.js';
import estimation from '../../estimation.js';
import CubeExplorationMode from './CubeExplorationMode.js';
import CylinderExplorationMode from './CylinderExplorationMode.js';
import LineExplorationMode from './LineExplorationMode.js';
import RectangleExplorationMode from './RectangleExplorationMode.js';
class ExploreModel {
  constructor() {
    // Externally visible properties.
    this.estimationModeProperty = new Property('lines'); // Valid values are 'lines', 'rectangles', 'cubes', and 'cylinders'.
    this.estimationRangeProperty = new Property(EstimationConstants.RANGE_1_TO_10);
    this.offsetIntoRangeProperty = new Property(0); // Amount of offset into the current range
    this.comparisonTypeProperty = new Property('discrete'); // Valid values are 'discrete' or 'continuous'.

    // The following property should only be observed outside of this model, never set.
    this.estimateProperty = new Property(1); // Estimated quantity of reference objects to fill the compare object

    // Hook up internal property dependencies.
    this.estimationRangeProperty.link(range => {
      this.offsetIntoRangeProperty.value = 0;
      this.estimateProperty.value = range.min;
    });

    // to calculate the user's estimate, linearly map offset from  0-1 to  estimationRange.min-estimationRange.max, and
    // then make it an integer
    this.offsetIntoRangeProperty.link(offset => {
      this.estimateProperty.value = Math.floor(offset * this.estimationRangeProperty.value.max - this.estimationRangeProperty.value.min * (offset - 1));
    });

    // Create the various modes that the user can explore.
    this.modes = {
      lines: new LineExplorationMode(this.estimationModeProperty),
      rectangles: new RectangleExplorationMode(this.estimationModeProperty),
      cubes: new CubeExplorationMode(this.estimationModeProperty),
      cylinders: new CylinderExplorationMode(this.estimationModeProperty, this.cylinders)
    };
    this.estimationModeProperty.link((newMode, oldMode) => {
      // Store the range associated with current mode.  It is necessary to
      // do this in order to restore it, since ranges are not mutually
      // exclusive.
      if (oldMode) {
        this.modes[oldMode].selectedRange = this.estimationRangeProperty.value;
        this.modes[oldMode].offsetIntoRange = this.offsetIntoRangeProperty.value;
      }

      // Restore the estimate for this mode.
      this.estimationRangeProperty.value = this.modes[newMode].selectedRange;
      this.offsetIntoRangeProperty.value = this.modes[newMode].offsetIntoRange;

      // Restore the comparison type.
      this.comparisonTypeProperty.value = this.modes[newMode].continuousOrDiscreteProperty.value;
    });
    this.estimateProperty.link(estimate => {
      // Propagate changes from the UI into the active mode.
      this.modes[this.estimationModeProperty.value].estimateProperty.value = estimate;
    });
    this.comparisonTypeProperty.link(discreteOrContinuous => {
      // Propagate changes from the UI into the active mode.
      this.modes[this.estimationModeProperty.value].continuousOrDiscreteProperty.value = discreteOrContinuous;
    });
  }

  // TODO: Visibility annotations should be checked and updated, see https://github.com/phetsims/estimation/issues/9

  // @public
  reset() {
    this.estimationModeProperty.reset();
    this.estimationRangeProperty.reset();
    this.offsetIntoRangeProperty.reset();
    this.comparisonTypeProperty.reset();
    for (const mode in this.modes) {
      this.modes[mode].reset();
    }
  }

  // @public
  newReferenceObject() {
    this.estimationRangeProperty.reset();
    this.offsetIntoRangeProperty.reset();
    this.modes[this.estimationModeProperty.value].newReferenceObject();
  }
}
estimation.register('ExploreModel', ExploreModel);
export default ExploreModel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIkVzdGltYXRpb25Db25zdGFudHMiLCJlc3RpbWF0aW9uIiwiQ3ViZUV4cGxvcmF0aW9uTW9kZSIsIkN5bGluZGVyRXhwbG9yYXRpb25Nb2RlIiwiTGluZUV4cGxvcmF0aW9uTW9kZSIsIlJlY3RhbmdsZUV4cGxvcmF0aW9uTW9kZSIsIkV4cGxvcmVNb2RlbCIsImNvbnN0cnVjdG9yIiwiZXN0aW1hdGlvbk1vZGVQcm9wZXJ0eSIsImVzdGltYXRpb25SYW5nZVByb3BlcnR5IiwiUkFOR0VfMV9UT18xMCIsIm9mZnNldEludG9SYW5nZVByb3BlcnR5IiwiY29tcGFyaXNvblR5cGVQcm9wZXJ0eSIsImVzdGltYXRlUHJvcGVydHkiLCJsaW5rIiwicmFuZ2UiLCJ2YWx1ZSIsIm1pbiIsIm9mZnNldCIsIk1hdGgiLCJmbG9vciIsIm1heCIsIm1vZGVzIiwibGluZXMiLCJyZWN0YW5nbGVzIiwiY3ViZXMiLCJjeWxpbmRlcnMiLCJuZXdNb2RlIiwib2xkTW9kZSIsInNlbGVjdGVkUmFuZ2UiLCJvZmZzZXRJbnRvUmFuZ2UiLCJjb250aW51b3VzT3JEaXNjcmV0ZVByb3BlcnR5IiwiZXN0aW1hdGUiLCJkaXNjcmV0ZU9yQ29udGludW91cyIsInJlc2V0IiwibW9kZSIsIm5ld1JlZmVyZW5jZU9iamVjdCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiRXhwbG9yZU1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE0LTIwMjAsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuXHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IEVzdGltYXRpb25Db25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL0VzdGltYXRpb25Db25zdGFudHMuanMnO1xyXG5pbXBvcnQgZXN0aW1hdGlvbiBmcm9tICcuLi8uLi9lc3RpbWF0aW9uLmpzJztcclxuaW1wb3J0IEN1YmVFeHBsb3JhdGlvbk1vZGUgZnJvbSAnLi9DdWJlRXhwbG9yYXRpb25Nb2RlLmpzJztcclxuaW1wb3J0IEN5bGluZGVyRXhwbG9yYXRpb25Nb2RlIGZyb20gJy4vQ3lsaW5kZXJFeHBsb3JhdGlvbk1vZGUuanMnO1xyXG5pbXBvcnQgTGluZUV4cGxvcmF0aW9uTW9kZSBmcm9tICcuL0xpbmVFeHBsb3JhdGlvbk1vZGUuanMnO1xyXG5pbXBvcnQgUmVjdGFuZ2xlRXhwbG9yYXRpb25Nb2RlIGZyb20gJy4vUmVjdGFuZ2xlRXhwbG9yYXRpb25Nb2RlLmpzJztcclxuXHJcbmNsYXNzIEV4cGxvcmVNb2RlbCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIC8vIEV4dGVybmFsbHkgdmlzaWJsZSBwcm9wZXJ0aWVzLlxyXG4gICAgdGhpcy5lc3RpbWF0aW9uTW9kZVByb3BlcnR5ID0gbmV3IFByb3BlcnR5KCAnbGluZXMnICk7IC8vIFZhbGlkIHZhbHVlcyBhcmUgJ2xpbmVzJywgJ3JlY3RhbmdsZXMnLCAnY3ViZXMnLCBhbmQgJ2N5bGluZGVycycuXHJcbiAgICB0aGlzLmVzdGltYXRpb25SYW5nZVByb3BlcnR5ID0gbmV3IFByb3BlcnR5KCBFc3RpbWF0aW9uQ29uc3RhbnRzLlJBTkdFXzFfVE9fMTAgKTtcclxuICAgIHRoaXMub2Zmc2V0SW50b1JhbmdlUHJvcGVydHkgPSBuZXcgUHJvcGVydHkoIDAgKTsgLy8gQW1vdW50IG9mIG9mZnNldCBpbnRvIHRoZSBjdXJyZW50IHJhbmdlXHJcbiAgICB0aGlzLmNvbXBhcmlzb25UeXBlUHJvcGVydHkgPSBuZXcgUHJvcGVydHkoICdkaXNjcmV0ZScgKTsgLy8gVmFsaWQgdmFsdWVzIGFyZSAnZGlzY3JldGUnIG9yICdjb250aW51b3VzJy5cclxuXHJcbiAgICAvLyBUaGUgZm9sbG93aW5nIHByb3BlcnR5IHNob3VsZCBvbmx5IGJlIG9ic2VydmVkIG91dHNpZGUgb2YgdGhpcyBtb2RlbCwgbmV2ZXIgc2V0LlxyXG4gICAgdGhpcy5lc3RpbWF0ZVByb3BlcnR5ID0gbmV3IFByb3BlcnR5KCAxICk7IC8vIEVzdGltYXRlZCBxdWFudGl0eSBvZiByZWZlcmVuY2Ugb2JqZWN0cyB0byBmaWxsIHRoZSBjb21wYXJlIG9iamVjdFxyXG5cclxuICAgIC8vIEhvb2sgdXAgaW50ZXJuYWwgcHJvcGVydHkgZGVwZW5kZW5jaWVzLlxyXG4gICAgdGhpcy5lc3RpbWF0aW9uUmFuZ2VQcm9wZXJ0eS5saW5rKCByYW5nZSA9PiB7XHJcbiAgICAgIHRoaXMub2Zmc2V0SW50b1JhbmdlUHJvcGVydHkudmFsdWUgPSAwO1xyXG4gICAgICB0aGlzLmVzdGltYXRlUHJvcGVydHkudmFsdWUgPSByYW5nZS5taW47XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gdG8gY2FsY3VsYXRlIHRoZSB1c2VyJ3MgZXN0aW1hdGUsIGxpbmVhcmx5IG1hcCBvZmZzZXQgZnJvbSAgMC0xIHRvICBlc3RpbWF0aW9uUmFuZ2UubWluLWVzdGltYXRpb25SYW5nZS5tYXgsIGFuZFxyXG4gICAgLy8gdGhlbiBtYWtlIGl0IGFuIGludGVnZXJcclxuICAgIHRoaXMub2Zmc2V0SW50b1JhbmdlUHJvcGVydHkubGluayggb2Zmc2V0ID0+IHtcclxuICAgICAgdGhpcy5lc3RpbWF0ZVByb3BlcnR5LnZhbHVlID0gTWF0aC5mbG9vciggb2Zmc2V0ICogdGhpcy5lc3RpbWF0aW9uUmFuZ2VQcm9wZXJ0eS52YWx1ZS5tYXggLSB0aGlzLmVzdGltYXRpb25SYW5nZVByb3BlcnR5LnZhbHVlLm1pbiAqICggb2Zmc2V0IC0gMSApICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSB2YXJpb3VzIG1vZGVzIHRoYXQgdGhlIHVzZXIgY2FuIGV4cGxvcmUuXHJcbiAgICB0aGlzLm1vZGVzID0ge1xyXG4gICAgICBsaW5lczogbmV3IExpbmVFeHBsb3JhdGlvbk1vZGUoIHRoaXMuZXN0aW1hdGlvbk1vZGVQcm9wZXJ0eSApLFxyXG4gICAgICByZWN0YW5nbGVzOiBuZXcgUmVjdGFuZ2xlRXhwbG9yYXRpb25Nb2RlKCB0aGlzLmVzdGltYXRpb25Nb2RlUHJvcGVydHkgKSxcclxuICAgICAgY3ViZXM6IG5ldyBDdWJlRXhwbG9yYXRpb25Nb2RlKCB0aGlzLmVzdGltYXRpb25Nb2RlUHJvcGVydHkgKSxcclxuICAgICAgY3lsaW5kZXJzOiBuZXcgQ3lsaW5kZXJFeHBsb3JhdGlvbk1vZGUoIHRoaXMuZXN0aW1hdGlvbk1vZGVQcm9wZXJ0eSwgdGhpcy5jeWxpbmRlcnMgKVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmVzdGltYXRpb25Nb2RlUHJvcGVydHkubGluayggKCBuZXdNb2RlLCBvbGRNb2RlICkgPT4ge1xyXG5cclxuICAgICAgLy8gU3RvcmUgdGhlIHJhbmdlIGFzc29jaWF0ZWQgd2l0aCBjdXJyZW50IG1vZGUuICBJdCBpcyBuZWNlc3NhcnkgdG9cclxuICAgICAgLy8gZG8gdGhpcyBpbiBvcmRlciB0byByZXN0b3JlIGl0LCBzaW5jZSByYW5nZXMgYXJlIG5vdCBtdXR1YWxseVxyXG4gICAgICAvLyBleGNsdXNpdmUuXHJcbiAgICAgIGlmICggb2xkTW9kZSApIHtcclxuICAgICAgICB0aGlzLm1vZGVzWyBvbGRNb2RlIF0uc2VsZWN0ZWRSYW5nZSA9IHRoaXMuZXN0aW1hdGlvblJhbmdlUHJvcGVydHkudmFsdWU7XHJcbiAgICAgICAgdGhpcy5tb2Rlc1sgb2xkTW9kZSBdLm9mZnNldEludG9SYW5nZSA9IHRoaXMub2Zmc2V0SW50b1JhbmdlUHJvcGVydHkudmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlc3RvcmUgdGhlIGVzdGltYXRlIGZvciB0aGlzIG1vZGUuXHJcbiAgICAgIHRoaXMuZXN0aW1hdGlvblJhbmdlUHJvcGVydHkudmFsdWUgPSB0aGlzLm1vZGVzWyBuZXdNb2RlIF0uc2VsZWN0ZWRSYW5nZTtcclxuICAgICAgdGhpcy5vZmZzZXRJbnRvUmFuZ2VQcm9wZXJ0eS52YWx1ZSA9IHRoaXMubW9kZXNbIG5ld01vZGUgXS5vZmZzZXRJbnRvUmFuZ2U7XHJcblxyXG4gICAgICAvLyBSZXN0b3JlIHRoZSBjb21wYXJpc29uIHR5cGUuXHJcbiAgICAgIHRoaXMuY29tcGFyaXNvblR5cGVQcm9wZXJ0eS52YWx1ZSA9IHRoaXMubW9kZXNbIG5ld01vZGUgXS5jb250aW51b3VzT3JEaXNjcmV0ZVByb3BlcnR5LnZhbHVlO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuZXN0aW1hdGVQcm9wZXJ0eS5saW5rKCBlc3RpbWF0ZSA9PiB7XHJcbiAgICAgIC8vIFByb3BhZ2F0ZSBjaGFuZ2VzIGZyb20gdGhlIFVJIGludG8gdGhlIGFjdGl2ZSBtb2RlLlxyXG4gICAgICB0aGlzLm1vZGVzWyB0aGlzLmVzdGltYXRpb25Nb2RlUHJvcGVydHkudmFsdWUgXS5lc3RpbWF0ZVByb3BlcnR5LnZhbHVlID0gZXN0aW1hdGU7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5jb21wYXJpc29uVHlwZVByb3BlcnR5LmxpbmsoIGRpc2NyZXRlT3JDb250aW51b3VzID0+IHtcclxuICAgICAgLy8gUHJvcGFnYXRlIGNoYW5nZXMgZnJvbSB0aGUgVUkgaW50byB0aGUgYWN0aXZlIG1vZGUuXHJcbiAgICAgIHRoaXMubW9kZXNbIHRoaXMuZXN0aW1hdGlvbk1vZGVQcm9wZXJ0eS52YWx1ZSBdLmNvbnRpbnVvdXNPckRpc2NyZXRlUHJvcGVydHkudmFsdWUgPSBkaXNjcmV0ZU9yQ29udGludW91cztcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIC8vIFRPRE86IFZpc2liaWxpdHkgYW5ub3RhdGlvbnMgc2hvdWxkIGJlIGNoZWNrZWQgYW5kIHVwZGF0ZWQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvZXN0aW1hdGlvbi9pc3N1ZXMvOVxyXG5cclxuICAvLyBAcHVibGljXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLmVzdGltYXRpb25Nb2RlUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMuZXN0aW1hdGlvblJhbmdlUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMub2Zmc2V0SW50b1JhbmdlUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMuY29tcGFyaXNvblR5cGVQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgZm9yICggY29uc3QgbW9kZSBpbiB0aGlzLm1vZGVzICkge1xyXG4gICAgICB0aGlzLm1vZGVzWyBtb2RlIF0ucmVzZXQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEBwdWJsaWNcclxuICBuZXdSZWZlcmVuY2VPYmplY3QoKSB7XHJcbiAgICB0aGlzLmVzdGltYXRpb25SYW5nZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLm9mZnNldEludG9SYW5nZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLm1vZGVzWyB0aGlzLmVzdGltYXRpb25Nb2RlUHJvcGVydHkudmFsdWUgXS5uZXdSZWZlcmVuY2VPYmplY3QoKTtcclxuICB9XHJcbn1cclxuXHJcbmVzdGltYXRpb24ucmVnaXN0ZXIoICdFeHBsb3JlTW9kZWwnLCBFeHBsb3JlTW9kZWwgKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEV4cGxvcmVNb2RlbDsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUdBLE9BQU9BLFFBQVEsTUFBTSxpQ0FBaUM7QUFDdEQsT0FBT0MsbUJBQW1CLE1BQU0scUNBQXFDO0FBQ3JFLE9BQU9DLFVBQVUsTUFBTSxxQkFBcUI7QUFDNUMsT0FBT0MsbUJBQW1CLE1BQU0sMEJBQTBCO0FBQzFELE9BQU9DLHVCQUF1QixNQUFNLDhCQUE4QjtBQUNsRSxPQUFPQyxtQkFBbUIsTUFBTSwwQkFBMEI7QUFDMUQsT0FBT0Msd0JBQXdCLE1BQU0sK0JBQStCO0FBRXBFLE1BQU1DLFlBQVksQ0FBQztFQUVqQkMsV0FBV0EsQ0FBQSxFQUFHO0lBRVo7SUFDQSxJQUFJLENBQUNDLHNCQUFzQixHQUFHLElBQUlULFFBQVEsQ0FBRSxPQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELElBQUksQ0FBQ1UsdUJBQXVCLEdBQUcs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