// Copyright 2017-2023, University of Colorado Boulder

/**
 * Supertype for area-model models.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import Property from '../../../../axon/js/Property.js';
import merge from '../../../../phet-core/js/merge.js';
import areaModelCommon from '../../areaModelCommon.js';
import AreaModelCommonColors from '../view/AreaModelCommonColors.js';
import Area from './Area.js';
import AreaCalculationChoice from './AreaCalculationChoice.js';
import PartialProductsChoice from './PartialProductsChoice.js';
class AreaModelCommonModel {
  /**
   * @param {Array.<Area>} areas - A list of all areas that can be switched between.
   * @param {Area} defaultArea - The initial area
   * @param {Object} [options]
   */
  constructor(areas, defaultArea, options) {
    assert && assert(options === undefined || typeof options === 'object', 'If provided, options should be an object');
    options = merge({
      allowExponents: false,
      isProportional: false,
      initialAreaBoxExpanded: false,
      initialAreaCalculationChoice: AreaCalculationChoice.HIDDEN,
      initialPartialProductsChoice: PartialProductsChoice.HIDDEN
    }, options);

    // @public {Array.<Area>} - All areas that can be switched between
    this.areas = areas;

    // @public {boolean} - Whether exponents (powers of x) are allowed
    this.allowExponents = options.allowExponents;

    // @public {boolean} - Whether the area is proportional (or generic)
    this.isProportional = options.isProportional;

    // @public {OrientationPair.<Property.<Color>>}
    this.colorProperties = options.isProportional ? AreaModelCommonColors.proportionalColorProperties : AreaModelCommonColors.genericColorProperties;

    // @public {Property.<Area>} - The current area
    this.currentAreaProperty = new Property(defaultArea, {
      valueType: Area
    });

    // @public {AreaDisplay}
    this.areaDisplay = this.createAreaDisplay(this.currentAreaProperty);

    // @public {Property.<boolean>}
    this.factorsBoxExpandedProperty = new BooleanProperty(true);

    // @public {Property.<boolean>}
    this.areaBoxExpandedProperty = new BooleanProperty(options.initialAreaBoxExpanded);

    // @public {Property.<AreaCalculationChoice}
    this.areaCalculationChoiceProperty = new Property(options.initialAreaCalculationChoice, {
      validValues: AreaCalculationChoice.VALUES
    });

    // @public {Property.<PartialProductsChoice}
    this.partialProductsChoiceProperty = new Property(options.initialPartialProductsChoice, {
      validValues: PartialProductsChoice.VALUES
    });
    const totalAreaProperties = [this.currentAreaProperty].concat(this.areas.map(area => area.totalAreaProperty));

    // @public {Property.<Polynomial>} - We need to properly update whenever the area changes OR any one of the
    // individual totalAreaProperties. Since we are guaranteed to get a callback for these cases whenever one of the
    // totalAreaProeprties changes, we listen to those instead.
    this.totalAreaProperty = new DerivedProperty(totalAreaProperties, () => this.currentAreaProperty.value.totalAreaProperty.value, {
      valueComparisonStrategy: 'equalsFunction'
    });
  }

  /**
   * Abstract, returns an AreaDisplay concrete type.
   * @protected
   *
   * @param {Property.<Area>} areaProperty
   * @returns {AreaDisplay}
   */
  createAreaDisplay(areaProperty) {
    throw new Error('abstract method');
  }

  /**
   * Returns the model to its initial state.
   * @public
   */
  reset() {
    this.currentAreaProperty.reset();
    this.factorsBoxExpandedProperty.reset();
    this.areaBoxExpandedProperty.reset();
    this.areaCalculationChoiceProperty.reset();
    this.partialProductsChoiceProperty.reset();
    this.areas.forEach(area => {
      area.reset();
    });
  }
}
areaModelCommon.register('AreaModelCommonModel', AreaModelCommonModel);
export default AreaModelCommonModel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJEZXJpdmVkUHJvcGVydHkiLCJQcm9wZXJ0eSIsIm1lcmdlIiwiYXJlYU1vZGVsQ29tbW9uIiwiQXJlYU1vZGVsQ29tbW9uQ29sb3JzIiwiQXJlYSIsIkFyZWFDYWxjdWxhdGlvbkNob2ljZSIsIlBhcnRpYWxQcm9kdWN0c0Nob2ljZSIsIkFyZWFNb2RlbENvbW1vbk1vZGVsIiwiY29uc3RydWN0b3IiLCJhcmVhcyIsImRlZmF1bHRBcmVhIiwib3B0aW9ucyIsImFzc2VydCIsInVuZGVmaW5lZCIsImFsbG93RXhwb25lbnRzIiwiaXNQcm9wb3J0aW9uYWwiLCJpbml0aWFsQXJlYUJveEV4cGFuZGVkIiwiaW5pdGlhbEFyZWFDYWxjdWxhdGlvbkNob2ljZSIsIkhJRERFTiIsImluaXRpYWxQYXJ0aWFsUHJvZHVjdHNDaG9pY2UiLCJjb2xvclByb3BlcnRpZXMiLCJwcm9wb3J0aW9uYWxDb2xvclByb3BlcnRpZXMiLCJnZW5lcmljQ29sb3JQcm9wZXJ0aWVzIiwiY3VycmVudEFyZWFQcm9wZXJ0eSIsInZhbHVlVHlwZSIsImFyZWFEaXNwbGF5IiwiY3JlYXRlQXJlYURpc3BsYXkiLCJmYWN0b3JzQm94RXhwYW5kZWRQcm9wZXJ0eSIsImFyZWFCb3hFeHBhbmRlZFByb3BlcnR5IiwiYXJlYUNhbGN1bGF0aW9uQ2hvaWNlUHJvcGVydHkiLCJ2YWxpZFZhbHVlcyIsIlZBTFVFUyIsInBhcnRpYWxQcm9kdWN0c0Nob2ljZVByb3BlcnR5IiwidG90YWxBcmVhUHJvcGVydGllcyIsImNvbmNhdCIsIm1hcCIsImFyZWEiLCJ0b3RhbEFyZWFQcm9wZXJ0eSIsInZhbHVlIiwidmFsdWVDb21wYXJpc29uU3RyYXRlZ3kiLCJhcmVhUHJvcGVydHkiLCJFcnJvciIsInJlc2V0IiwiZm9yRWFjaCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQXJlYU1vZGVsQ29tbW9uTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTctMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU3VwZXJ0eXBlIGZvciBhcmVhLW1vZGVsIG1vZGVscy5cclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxyXG4gKi9cclxuXHJcbmltcG9ydCBCb29sZWFuUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9Cb29sZWFuUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgRGVyaXZlZFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvRGVyaXZlZFByb3BlcnR5LmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IGFyZWFNb2RlbENvbW1vbiBmcm9tICcuLi8uLi9hcmVhTW9kZWxDb21tb24uanMnO1xyXG5pbXBvcnQgQXJlYU1vZGVsQ29tbW9uQ29sb3JzIGZyb20gJy4uL3ZpZXcvQXJlYU1vZGVsQ29tbW9uQ29sb3JzLmpzJztcclxuaW1wb3J0IEFyZWEgZnJvbSAnLi9BcmVhLmpzJztcclxuaW1wb3J0IEFyZWFDYWxjdWxhdGlvbkNob2ljZSBmcm9tICcuL0FyZWFDYWxjdWxhdGlvbkNob2ljZS5qcyc7XHJcbmltcG9ydCBQYXJ0aWFsUHJvZHVjdHNDaG9pY2UgZnJvbSAnLi9QYXJ0aWFsUHJvZHVjdHNDaG9pY2UuanMnO1xyXG5cclxuY2xhc3MgQXJlYU1vZGVsQ29tbW9uTW9kZWwge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QXJyYXkuPEFyZWE+fSBhcmVhcyAtIEEgbGlzdCBvZiBhbGwgYXJlYXMgdGhhdCBjYW4gYmUgc3dpdGNoZWQgYmV0d2Vlbi5cclxuICAgKiBAcGFyYW0ge0FyZWF9IGRlZmF1bHRBcmVhIC0gVGhlIGluaXRpYWwgYXJlYVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggYXJlYXMsIGRlZmF1bHRBcmVhLCBvcHRpb25zICkge1xyXG5cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcsICdJZiBwcm92aWRlZCwgb3B0aW9ucyBzaG91bGQgYmUgYW4gb2JqZWN0JyApO1xyXG5cclxuICAgIG9wdGlvbnMgPSBtZXJnZSgge1xyXG4gICAgICBhbGxvd0V4cG9uZW50czogZmFsc2UsXHJcbiAgICAgIGlzUHJvcG9ydGlvbmFsOiBmYWxzZSxcclxuICAgICAgaW5pdGlhbEFyZWFCb3hFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGluaXRpYWxBcmVhQ2FsY3VsYXRpb25DaG9pY2U6IEFyZWFDYWxjdWxhdGlvbkNob2ljZS5ISURERU4sXHJcbiAgICAgIGluaXRpYWxQYXJ0aWFsUHJvZHVjdHNDaG9pY2U6IFBhcnRpYWxQcm9kdWN0c0Nob2ljZS5ISURERU5cclxuICAgIH0sIG9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtBcnJheS48QXJlYT59IC0gQWxsIGFyZWFzIHRoYXQgY2FuIGJlIHN3aXRjaGVkIGJldHdlZW5cclxuICAgIHRoaXMuYXJlYXMgPSBhcmVhcztcclxuXHJcbiAgICAvLyBAcHVibGljIHtib29sZWFufSAtIFdoZXRoZXIgZXhwb25lbnRzIChwb3dlcnMgb2YgeCkgYXJlIGFsbG93ZWRcclxuICAgIHRoaXMuYWxsb3dFeHBvbmVudHMgPSBvcHRpb25zLmFsbG93RXhwb25lbnRzO1xyXG5cclxuICAgIC8vIEBwdWJsaWMge2Jvb2xlYW59IC0gV2hldGhlciB0aGUgYXJlYSBpcyBwcm9wb3J0aW9uYWwgKG9yIGdlbmVyaWMpXHJcbiAgICB0aGlzLmlzUHJvcG9ydGlvbmFsID0gb3B0aW9ucy5pc1Byb3BvcnRpb25hbDtcclxuXHJcbiAgICAvLyBAcHVibGljIHtPcmllbnRhdGlvblBhaXIuPFByb3BlcnR5LjxDb2xvcj4+fVxyXG4gICAgdGhpcy5jb2xvclByb3BlcnRpZXMgPSBvcHRpb25zLmlzUHJvcG9ydGlvbmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgID8gQXJlYU1vZGVsQ29tbW9uQ29sb3JzLnByb3BvcnRpb25hbENvbG9yUHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICA6IEFyZWFNb2RlbENvbW1vbkNvbG9ycy5nZW5lcmljQ29sb3JQcm9wZXJ0aWVzO1xyXG5cclxuICAgIC8vIEBwdWJsaWMge1Byb3BlcnR5LjxBcmVhPn0gLSBUaGUgY3VycmVudCBhcmVhXHJcbiAgICB0aGlzLmN1cnJlbnRBcmVhUHJvcGVydHkgPSBuZXcgUHJvcGVydHkoIGRlZmF1bHRBcmVhLCB7XHJcbiAgICAgIHZhbHVlVHlwZTogQXJlYVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIEBwdWJsaWMge0FyZWFEaXNwbGF5fVxyXG4gICAgdGhpcy5hcmVhRGlzcGxheSA9IHRoaXMuY3JlYXRlQXJlYURpc3BsYXkoIHRoaXMuY3VycmVudEFyZWFQcm9wZXJ0eSApO1xyXG5cclxuICAgIC8vIEBwdWJsaWMge1Byb3BlcnR5Ljxib29sZWFuPn1cclxuICAgIHRoaXMuZmFjdG9yc0JveEV4cGFuZGVkUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCB0cnVlICk7XHJcblxyXG4gICAgLy8gQHB1YmxpYyB7UHJvcGVydHkuPGJvb2xlYW4+fVxyXG4gICAgdGhpcy5hcmVhQm94RXhwYW5kZWRQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIG9wdGlvbnMuaW5pdGlhbEFyZWFCb3hFeHBhbmRlZCApO1xyXG5cclxuICAgIC8vIEBwdWJsaWMge1Byb3BlcnR5LjxBcmVhQ2FsY3VsYXRpb25DaG9pY2V9XHJcbiAgICB0aGlzLmFyZWFDYWxjdWxhdGlvbkNob2ljZVByb3BlcnR5ID0gbmV3IFByb3BlcnR5KCBvcHRpb25zLmluaXRpYWxBcmVhQ2FsY3VsYXRpb25DaG9pY2UsIHtcclxuICAgICAgdmFsaWRWYWx1ZXM6IEFyZWFDYWxjdWxhdGlvbkNob2ljZS5WQUxVRVNcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtQcm9wZXJ0eS48UGFydGlhbFByb2R1Y3RzQ2hvaWNlfVxyXG4gICAgdGhpcy5wYXJ0aWFsUHJvZHVjdHNDaG9pY2VQcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eSggb3B0aW9ucy5pbml0aWFsUGFydGlhbFByb2R1Y3RzQ2hvaWNlLCB7XHJcbiAgICAgIHZhbGlkVmFsdWVzOiBQYXJ0aWFsUHJvZHVjdHNDaG9pY2UuVkFMVUVTXHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgdG90YWxBcmVhUHJvcGVydGllcyA9IFsgdGhpcy5jdXJyZW50QXJlYVByb3BlcnR5IF0uY29uY2F0KCB0aGlzLmFyZWFzLm1hcCggYXJlYSA9PiBhcmVhLnRvdGFsQXJlYVByb3BlcnR5ICkgKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtQcm9wZXJ0eS48UG9seW5vbWlhbD59IC0gV2UgbmVlZCB0byBwcm9wZXJseSB1cGRhdGUgd2hlbmV2ZXIgdGhlIGFyZWEgY2hhbmdlcyBPUiBhbnkgb25lIG9mIHRoZVxyXG4gICAgLy8gaW5kaXZpZHVhbCB0b3RhbEFyZWFQcm9wZXJ0aWVzLiBTaW5jZSB3ZSBhcmUgZ3VhcmFudGVlZCB0byBnZXQgYSBjYWxsYmFjayBmb3IgdGhlc2UgY2FzZXMgd2hlbmV2ZXIgb25lIG9mIHRoZVxyXG4gICAgLy8gdG90YWxBcmVhUHJvZXBydGllcyBjaGFuZ2VzLCB3ZSBsaXN0ZW4gdG8gdGhvc2UgaW5zdGVhZC5cclxuICAgIHRoaXMudG90YWxBcmVhUHJvcGVydHkgPSBuZXcgRGVyaXZlZFByb3BlcnR5KCB0b3RhbEFyZWFQcm9wZXJ0aWVzLCAoKSA9PiB0aGlzLmN1cnJlbnRBcmVhUHJvcGVydHkudmFsdWUudG90YWxBcmVhUHJvcGVydHkudmFsdWUsIHtcclxuICAgICAgdmFsdWVDb21wYXJpc29uU3RyYXRlZ3k6ICdlcXVhbHNGdW5jdGlvbidcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFic3RyYWN0LCByZXR1cm5zIGFuIEFyZWFEaXNwbGF5IGNvbmNyZXRlIHR5cGUuXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtQcm9wZXJ0eS48QXJlYT59IGFyZWFQcm9wZXJ0eVxyXG4gICAqIEByZXR1cm5zIHtBcmVhRGlzcGxheX1cclxuICAgKi9cclxuICBjcmVhdGVBcmVhRGlzcGxheSggYXJlYVByb3BlcnR5ICkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCAnYWJzdHJhY3QgbWV0aG9kJyApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgbW9kZWwgdG8gaXRzIGluaXRpYWwgc3RhdGUuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5jdXJyZW50QXJlYVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLmZhY3RvcnNCb3hFeHBhbmRlZFByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLmFyZWFCb3hFeHBhbmRlZFByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLmFyZWFDYWxjdWxhdGlvbkNob2ljZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLnBhcnRpYWxQcm9kdWN0c0Nob2ljZVByb3BlcnR5LnJlc2V0KCk7XHJcblxyXG4gICAgdGhpcy5hcmVhcy5mb3JFYWNoKCBhcmVhID0+IHtcclxuICAgICAgYXJlYS5yZXNldCgpO1xyXG4gICAgfSApO1xyXG4gIH1cclxufVxyXG5cclxuYXJlYU1vZGVsQ29tbW9uLnJlZ2lzdGVyKCAnQXJlYU1vZGVsQ29tbW9uTW9kZWwnLCBBcmVhTW9kZWxDb21tb25Nb2RlbCApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXJlYU1vZGVsQ29tbW9uTW9kZWw7Il0sIm1hcHBp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