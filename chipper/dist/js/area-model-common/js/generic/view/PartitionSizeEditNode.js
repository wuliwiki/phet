// Copyright 2017-2022, University of Colorado Boulder

/**
 * Positions an edit button with a readout at the top/side of the partition.
 *
 * NOTE: This type is designed to be persistent, and will not need to release references to avoid memory leaks.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import DynamicProperty from '../../../../axon/js/DynamicProperty.js';
import Multilink from '../../../../axon/js/Multilink.js';
import Property from '../../../../axon/js/Property.js';
import Orientation from '../../../../phet-core/js/Orientation.js';
import { Color } from '../../../../scenery/js/imports.js';
import areaModelCommon from '../../areaModelCommon.js';
import AreaModelCommonConstants from '../../common/AreaModelCommonConstants.js';
import TermEditNode from './TermEditNode.js';
class PartitionSizeEditNode extends TermEditNode {
  /**
   * @param {Property.<Partition|null>} activePartitionProperty
   * @param {Property.<GenericPartition|null>} partitionProperty
   * @param {Property.<ModelViewTransform2>} modelViewTransformProperty
   * @param {boolean} allowExponents - Whether exponents (powers of x) are allowed
   */
  constructor(activePartitionProperty, partitionProperty, modelViewTransformProperty, allowExponents) {
    const orientationProperty = new DerivedProperty([partitionProperty], partition => partition ? partition.orientation : Orientation.HORIZONTAL);
    const sizeProperty = new DynamicProperty(partitionProperty, {
      derive: 'sizeProperty'
    });
    const colorProperty = new DynamicProperty(partitionProperty, {
      derive: 'colorProperty',
      defaultValue: Color.MAGENTA // Should not see this, but need a valid color
    });

    super(orientationProperty, sizeProperty, {
      textColorProperty: colorProperty,
      borderColorProperty: colorProperty,
      isActiveProperty: new DerivedProperty([activePartitionProperty, partitionProperty], (activePartition, partition) => activePartition === partition),
      digitCountProperty: new DerivedProperty([partitionProperty], partition => partition ? partition.digitCount : 1),
      allowExponentsProperty: new Property(allowExponents),
      editCallback: () => {
        if (activePartitionProperty.value !== partitionProperty.value) {
          activePartitionProperty.value = partitionProperty.value;
        } else {
          // Pressing on the edit button when that keypad is already open will instead close the keypad.
          // See https://github.com/phetsims/area-model-common/issues/127
          activePartitionProperty.value = null;
        }
      }
    });

    // @public {Property.<Partition|null>} - Exposed so it can be changed after creation in pooling.
    this.partitionProperty = partitionProperty;

    // Primary orientation (position of range center)
    const coordinateRangeProperty = new DynamicProperty(partitionProperty, {
      derive: 'coordinateRangeProperty'
    });
    Multilink.multilink([partitionProperty, coordinateRangeProperty, modelViewTransformProperty], (partition, range, modelViewTransform) => {
      if (range && partition) {
        this[partition.orientation.centerCoordinate] = partition.orientation.modelToView(modelViewTransform, range.getCenter());
      }
    });

    // Secondary (offsets)
    partitionProperty.link(partition => {
      if (partition) {
        this[partition.orientation.opposite.centerCoordinate] = AreaModelCommonConstants.PARTITION_OFFSET.get(partition.orientation);
      }
    });
    new DynamicProperty(partitionProperty, {
      derive: 'visibleProperty',
      defaultValue: false
    }).linkAttribute(this, 'visible');
  }
}
areaModelCommon.register('PartitionSizeEditNode', PartitionSizeEditNode);
export default PartitionSizeEditNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJEeW5hbWljUHJvcGVydHkiLCJNdWx0aWxpbmsiLCJQcm9wZXJ0eSIsIk9yaWVudGF0aW9uIiwiQ29sb3IiLCJhcmVhTW9kZWxDb21tb24iLCJBcmVhTW9kZWxDb21tb25Db25zdGFudHMiLCJUZXJtRWRpdE5vZGUiLCJQYXJ0aXRpb25TaXplRWRpdE5vZGUiLCJjb25zdHJ1Y3RvciIsImFjdGl2ZVBhcnRpdGlvblByb3BlcnR5IiwicGFydGl0aW9uUHJvcGVydHkiLCJtb2RlbFZpZXdUcmFuc2Zvcm1Qcm9wZXJ0eSIsImFsbG93RXhwb25lbnRzIiwib3JpZW50YXRpb25Qcm9wZXJ0eSIsInBhcnRpdGlvbiIsIm9yaWVudGF0aW9uIiwiSE9SSVpPTlRBTCIsInNpemVQcm9wZXJ0eSIsImRlcml2ZSIsImNvbG9yUHJvcGVydHkiLCJkZWZhdWx0VmFsdWUiLCJNQUdFTlRBIiwidGV4dENvbG9yUHJvcGVydHkiLCJib3JkZXJDb2xvclByb3BlcnR5IiwiaXNBY3RpdmVQcm9wZXJ0eSIsImFjdGl2ZVBhcnRpdGlvbiIsImRpZ2l0Q291bnRQcm9wZXJ0eSIsImRpZ2l0Q291bnQiLCJhbGxvd0V4cG9uZW50c1Byb3BlcnR5IiwiZWRpdENhbGxiYWNrIiwidmFsdWUiLCJjb29yZGluYXRlUmFuZ2VQcm9wZXJ0eSIsIm11bHRpbGluayIsInJhbmdlIiwibW9kZWxWaWV3VHJhbnNmb3JtIiwiY2VudGVyQ29vcmRpbmF0ZSIsIm1vZGVsVG9WaWV3IiwiZ2V0Q2VudGVyIiwibGluayIsIm9wcG9zaXRlIiwiUEFSVElUSU9OX09GRlNFVCIsImdldCIsImxpbmtBdHRyaWJ1dGUiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlBhcnRpdGlvblNpemVFZGl0Tm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNy0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBQb3NpdGlvbnMgYW4gZWRpdCBidXR0b24gd2l0aCBhIHJlYWRvdXQgYXQgdGhlIHRvcC9zaWRlIG9mIHRoZSBwYXJ0aXRpb24uXHJcbiAqXHJcbiAqIE5PVEU6IFRoaXMgdHlwZSBpcyBkZXNpZ25lZCB0byBiZSBwZXJzaXN0ZW50LCBhbmQgd2lsbCBub3QgbmVlZCB0byByZWxlYXNlIHJlZmVyZW5jZXMgdG8gYXZvaWQgbWVtb3J5IGxlYWtzLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvbmF0aGFuIE9sc29uIDxqb25hdGhhbi5vbHNvbkBjb2xvcmFkby5lZHU+XHJcbiAqL1xyXG5cclxuaW1wb3J0IERlcml2ZWRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Rlcml2ZWRQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBEeW5hbWljUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EeW5hbWljUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgTXVsdGlsaW5rIGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvTXVsdGlsaW5rLmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgT3JpZW50YXRpb24gZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL09yaWVudGF0aW9uLmpzJztcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgYXJlYU1vZGVsQ29tbW9uIGZyb20gJy4uLy4uL2FyZWFNb2RlbENvbW1vbi5qcyc7XHJcbmltcG9ydCBBcmVhTW9kZWxDb21tb25Db25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL0FyZWFNb2RlbENvbW1vbkNvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBUZXJtRWRpdE5vZGUgZnJvbSAnLi9UZXJtRWRpdE5vZGUuanMnO1xyXG5cclxuY2xhc3MgUGFydGl0aW9uU2l6ZUVkaXROb2RlIGV4dGVuZHMgVGVybUVkaXROb2RlIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5LjxQYXJ0aXRpb258bnVsbD59IGFjdGl2ZVBhcnRpdGlvblByb3BlcnR5XHJcbiAgICogQHBhcmFtIHtQcm9wZXJ0eS48R2VuZXJpY1BhcnRpdGlvbnxudWxsPn0gcGFydGl0aW9uUHJvcGVydHlcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5LjxNb2RlbFZpZXdUcmFuc2Zvcm0yPn0gbW9kZWxWaWV3VHJhbnNmb3JtUHJvcGVydHlcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93RXhwb25lbnRzIC0gV2hldGhlciBleHBvbmVudHMgKHBvd2VycyBvZiB4KSBhcmUgYWxsb3dlZFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBhY3RpdmVQYXJ0aXRpb25Qcm9wZXJ0eSwgcGFydGl0aW9uUHJvcGVydHksIG1vZGVsVmlld1RyYW5zZm9ybVByb3BlcnR5LCBhbGxvd0V4cG9uZW50cyApIHtcclxuXHJcbiAgICBjb25zdCBvcmllbnRhdGlvblByb3BlcnR5ID0gbmV3IERlcml2ZWRQcm9wZXJ0eSggWyBwYXJ0aXRpb25Qcm9wZXJ0eSBdLCBwYXJ0aXRpb24gPT4gcGFydGl0aW9uID8gcGFydGl0aW9uLm9yaWVudGF0aW9uIDogT3JpZW50YXRpb24uSE9SSVpPTlRBTCApO1xyXG4gICAgY29uc3Qgc2l6ZVByb3BlcnR5ID0gbmV3IER5bmFtaWNQcm9wZXJ0eSggcGFydGl0aW9uUHJvcGVydHksIHsgZGVyaXZlOiAnc2l6ZVByb3BlcnR5JyB9ICk7XHJcbiAgICBjb25zdCBjb2xvclByb3BlcnR5ID0gbmV3IER5bmFtaWNQcm9wZXJ0eSggcGFydGl0aW9uUHJvcGVydHksIHtcclxuICAgICAgZGVyaXZlOiAnY29sb3JQcm9wZXJ0eScsXHJcbiAgICAgIGRlZmF1bHRWYWx1ZTogQ29sb3IuTUFHRU5UQSAvLyBTaG91bGQgbm90IHNlZSB0aGlzLCBidXQgbmVlZCBhIHZhbGlkIGNvbG9yXHJcbiAgICB9ICk7XHJcblxyXG4gICAgc3VwZXIoIG9yaWVudGF0aW9uUHJvcGVydHksIHNpemVQcm9wZXJ0eSwge1xyXG4gICAgICB0ZXh0Q29sb3JQcm9wZXJ0eTogY29sb3JQcm9wZXJ0eSxcclxuICAgICAgYm9yZGVyQ29sb3JQcm9wZXJ0eTogY29sb3JQcm9wZXJ0eSxcclxuICAgICAgaXNBY3RpdmVQcm9wZXJ0eTogbmV3IERlcml2ZWRQcm9wZXJ0eShcclxuICAgICAgICBbIGFjdGl2ZVBhcnRpdGlvblByb3BlcnR5LCBwYXJ0aXRpb25Qcm9wZXJ0eSBdLFxyXG4gICAgICAgICggYWN0aXZlUGFydGl0aW9uLCBwYXJ0aXRpb24gKSA9PiBhY3RpdmVQYXJ0aXRpb24gPT09IHBhcnRpdGlvbiApLFxyXG4gICAgICBkaWdpdENvdW50UHJvcGVydHk6IG5ldyBEZXJpdmVkUHJvcGVydHkoIFsgcGFydGl0aW9uUHJvcGVydHkgXSwgcGFydGl0aW9uID0+IHBhcnRpdGlvbiA/IHBhcnRpdGlvbi5kaWdpdENvdW50IDogMSApLFxyXG4gICAgICBhbGxvd0V4cG9uZW50c1Byb3BlcnR5OiBuZXcgUHJvcGVydHkoIGFsbG93RXhwb25lbnRzICksXHJcbiAgICAgIGVkaXRDYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgIGlmICggYWN0aXZlUGFydGl0aW9uUHJvcGVydHkudmFsdWUgIT09IHBhcnRpdGlvblByb3BlcnR5LnZhbHVlICkge1xyXG4gICAgICAgICAgYWN0aXZlUGFydGl0aW9uUHJvcGVydHkudmFsdWUgPSBwYXJ0aXRpb25Qcm9wZXJ0eS52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAvLyBQcmVzc2luZyBvbiB0aGUgZWRpdCBidXR0b24gd2hlbiB0aGF0IGtleXBhZCBpcyBhbHJlYWR5IG9wZW4gd2lsbCBpbnN0ZWFkIGNsb3NlIHRoZSBrZXlwYWQuXHJcbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL2FyZWEtbW9kZWwtY29tbW9uL2lzc3Vlcy8xMjdcclxuICAgICAgICAgIGFjdGl2ZVBhcnRpdGlvblByb3BlcnR5LnZhbHVlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtQcm9wZXJ0eS48UGFydGl0aW9ufG51bGw+fSAtIEV4cG9zZWQgc28gaXQgY2FuIGJlIGNoYW5nZWQgYWZ0ZXIgY3JlYXRpb24gaW4gcG9vbGluZy5cclxuICAgIHRoaXMucGFydGl0aW9uUHJvcGVydHkgPSBwYXJ0aXRpb25Qcm9wZXJ0eTtcclxuXHJcbiAgICAvLyBQcmltYXJ5IG9yaWVudGF0aW9uIChwb3NpdGlvbiBvZiByYW5nZSBjZW50ZXIpXHJcbiAgICBjb25zdCBjb29yZGluYXRlUmFuZ2VQcm9wZXJ0eSA9IG5ldyBEeW5hbWljUHJvcGVydHkoIHBhcnRpdGlvblByb3BlcnR5LCB7IGRlcml2ZTogJ2Nvb3JkaW5hdGVSYW5nZVByb3BlcnR5JyB9ICk7XHJcbiAgICBNdWx0aWxpbmsubXVsdGlsaW5rKFxyXG4gICAgICBbIHBhcnRpdGlvblByb3BlcnR5LCBjb29yZGluYXRlUmFuZ2VQcm9wZXJ0eSwgbW9kZWxWaWV3VHJhbnNmb3JtUHJvcGVydHkgXSxcclxuICAgICAgKCBwYXJ0aXRpb24sIHJhbmdlLCBtb2RlbFZpZXdUcmFuc2Zvcm0gKSA9PiB7XHJcbiAgICAgICAgaWYgKCByYW5nZSAmJiBwYXJ0aXRpb24gKSB7XHJcbiAgICAgICAgICB0aGlzWyBwYXJ0aXRpb24ub3JpZW50YXRpb24uY2VudGVyQ29vcmRpbmF0ZSBdID0gcGFydGl0aW9uLm9yaWVudGF0aW9uLm1vZGVsVG9WaWV3KCBtb2RlbFZpZXdUcmFuc2Zvcm0sIHJhbmdlLmdldENlbnRlcigpICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgLy8gU2Vjb25kYXJ5IChvZmZzZXRzKVxyXG4gICAgcGFydGl0aW9uUHJvcGVydHkubGluayggcGFydGl0aW9uID0+IHtcclxuICAgICAgaWYgKCBwYXJ0aXRpb24gKSB7XHJcbiAgICAgICAgdGhpc1sgcGFydGl0aW9uLm9yaWVudGF0aW9uLm9wcG9zaXRlLmNlbnRlckNvb3JkaW5hdGUgXSA9IEFyZWFNb2RlbENvbW1vbkNvbnN0YW50cy5QQVJUSVRJT05fT0ZGU0VULmdldCggcGFydGl0aW9uLm9yaWVudGF0aW9uICk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICBuZXcgRHluYW1pY1Byb3BlcnR5KCBwYXJ0aXRpb25Qcm9wZXJ0eSwge1xyXG4gICAgICBkZXJpdmU6ICd2aXNpYmxlUHJvcGVydHknLFxyXG4gICAgICBkZWZhdWx0VmFsdWU6IGZhbHNlXHJcbiAgICB9ICkubGlua0F0dHJpYnV0ZSggdGhpcywgJ3Zpc2libGUnICk7XHJcbiAgfVxyXG59XHJcblxyXG5hcmVhTW9kZWxDb21tb24ucmVnaXN0ZXIoICdQYXJ0aXRpb25TaXplRWRpdE5vZGUnLCBQYXJ0aXRpb25TaXplRWRpdE5vZGUgKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBhcnRpdGlvblNpemVFZGl0Tm9kZTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxlQUFlLE1BQU0sd0NBQXdDO0FBQ3BFLE9BQU9DLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsT0FBT0MsU0FBUyxNQUFNLGtDQUFrQztBQUN4RCxPQUFPQyxRQUFRLE1BQU0saUNBQWlDO0FBQ3RELE9BQU9DLFdBQVcsTUFBTSx5Q0FBeUM7QUFDakUsU0FBU0MsS0FBSyxRQUFRLG1DQUFtQztBQUN6RCxPQUFPQyxlQUFlLE1BQU0sMEJBQTBCO0FBQ3RELE9BQU9DLHdCQUF3QixNQUFNLDBDQUEwQztBQUMvRSxPQUFPQyxZQUFZLE1BQU0sbUJBQW1CO0FBRTVDLE1BQU1DLHFCQUFxQixTQUFTRCxZQUFZLENBQUM7RUFDL0M7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0VFLFdBQVdBLENBQUVDLHVCQUF1QixFQUFFQyxp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