// Copyright 2017-2022, University of Colorado Boulder

/**
 * An edit button and readout for the associated term.
 *
 * NOTE: This type is designed to be persistent, and will not need to release references to avoid memory leaks.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import Property from '../../../../axon/js/Property.js';
import ReadOnlyProperty from '../../../../axon/js/ReadOnlyProperty.js';
import merge from '../../../../phet-core/js/merge.js';
import { Color, FireListener, FlowBox, Path, Rectangle, RichText } from '../../../../scenery/js/imports.js';
import editSolidShape from '../../../../sherpa/js/fontawesome-5/editSolidShape.js';
import RectangularPushButton from '../../../../sun/js/buttons/RectangularPushButton.js';
import areaModelCommon from '../../areaModelCommon.js';
import AreaModelCommonConstants from '../../common/AreaModelCommonConstants.js';
import Term from '../../common/model/Term.js';
import AreaModelCommonColors from '../../common/view/AreaModelCommonColors.js';
class TermEditNode extends FlowBox {
  /**
   * @param {Property.<Orientation>} orientationProperty
   * @param {Property.<Term|null>} termProperty
   * @param {Object} [options]
   */
  constructor(orientationProperty, termProperty, options) {
    assert && assert(orientationProperty instanceof ReadOnlyProperty);
    assert && assert(termProperty instanceof ReadOnlyProperty);
    options = merge({
      // {Property.<Color>} - The color of the readout text
      textColorProperty: new Property(Color.BLACK),
      // {Property.<Color>} - The color of the border around the readout
      borderColorProperty: new Property(Color.BLACK),
      // {Property.<boolean>} - Whether this term is the one being edited right now
      isActiveProperty: new BooleanProperty(false),
      // {Property.<number>} - How many digits are allowed to be used for this term
      digitCountProperty: new NumberProperty(1),
      // {Property.<boolean>} - Whether exponents are allowed for this term
      allowExponentsProperty: new BooleanProperty(false),
      // {function} - Called with no arguments when this term should start being edited
      editCallback: _.noop,
      // {Font}
      font: AreaModelCommonConstants.TERM_EDIT_READOUT_FONT
    }, options);
    const readoutText = new RichText('', {
      fill: options.textColorProperty,
      font: options.font
    });
    const readoutBackground = new Rectangle({
      stroke: options.borderColorProperty,
      cornerRadius: 4,
      children: [readoutText],
      // Allow clicking the readout to edit, see https://github.com/phetsims/area-model-common/issues/23
      cursor: 'pointer',
      inputListeners: [new FireListener({
        fire: options.editCallback
      })]
    });
    super({
      orientation: orientationProperty.value.flowBoxOrientation,
      spacing: 4,
      children: [readoutBackground, new RectangularPushButton({
        content: new Path(editSolidShape, {
          fill: 'black',
          scale: 0.03,
          xMargin: 6,
          yMargin: 4
        }),
        listener: () => {
          options.editCallback();
        },
        baseColor: AreaModelCommonColors.editButtonBackgroundProperty
      })]
    });
    orientationProperty.link(orientation => {
      this.orientation = orientation.flowBoxOrientation;
    });
    options.isActiveProperty.link(isActive => {
      readoutBackground.fill = isActive ? AreaModelCommonColors.editActiveBackgroundProperty : AreaModelCommonColors.editInactiveBackgroundProperty;
    });
    const updateText = () => {
      if (termProperty.value === null) {
        readoutText.string = '';
      } else {
        readoutText.string = termProperty.value.toRichString(false);
      }
      readoutText.center = readoutBackground.selfBounds.center;
      readoutBackground.touchArea = readoutBackground.parentToLocalBounds(this.localBounds).dilated(6);
    };
    function updateDigits() {
      readoutText.string = Term.getLargestGenericString(options.allowExponentsProperty.value, options.digitCountProperty.value);
      readoutBackground.rectWidth = readoutText.width + 5;
      readoutBackground.rectHeight = readoutText.height + 5;
      updateText();
    }
    termProperty.lazyLink(updateText);
    options.digitCountProperty.lazyLink(updateDigits);
    options.allowExponentsProperty.lazyLink(updateDigits);
    orientationProperty.lazyLink(updateDigits);
    updateDigits();
  }
}
areaModelCommon.register('TermEditNode', TermEditNode);
export default TermEditNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJOdW1iZXJQcm9wZXJ0eSIsIlByb3BlcnR5IiwiUmVhZE9ubHlQcm9wZXJ0eSIsIm1lcmdlIiwiQ29sb3IiLCJGaXJlTGlzdGVuZXIiLCJGbG93Qm94IiwiUGF0aCIsIlJlY3RhbmdsZSIsIlJpY2hUZXh0IiwiZWRpdFNvbGlkU2hhcGUiLCJSZWN0YW5ndWxhclB1c2hCdXR0b24iLCJhcmVhTW9kZWxDb21tb24iLCJBcmVhTW9kZWxDb21tb25Db25zdGFudHMiLCJUZXJtIiwiQXJlYU1vZGVsQ29tbW9uQ29sb3JzIiwiVGVybUVkaXROb2RlIiwiY29uc3RydWN0b3IiLCJvcmllbnRhdGlvblByb3BlcnR5IiwidGVybVByb3BlcnR5Iiwib3B0aW9ucyIsImFzc2VydCIsInRleHRDb2xvclByb3BlcnR5IiwiQkxBQ0siLCJib3JkZXJDb2xvclByb3BlcnR5IiwiaXNBY3RpdmVQcm9wZXJ0eSIsImRpZ2l0Q291bnRQcm9wZXJ0eSIsImFsbG93RXhwb25lbnRzUHJvcGVydHkiLCJlZGl0Q2FsbGJhY2siLCJfIiwibm9vcCIsImZvbnQiLCJURVJNX0VESVRfUkVBRE9VVF9GT05UIiwicmVhZG91dFRleHQiLCJmaWxsIiwicmVhZG91dEJhY2tncm91bmQiLCJzdHJva2UiLCJjb3JuZXJSYWRpdXMiLCJjaGlsZHJlbiIsImN1cnNvciIsImlucHV0TGlzdGVuZXJzIiwiZmlyZSIsIm9yaWVudGF0aW9uIiwidmFsdWUiLCJmbG93Qm94T3JpZW50YXRpb24iLCJzcGFjaW5nIiwiY29udGVudCIsInNjYWxlIiwieE1hcmdpbiIsInlNYXJnaW4iLCJsaXN0ZW5lciIsImJhc2VDb2xvciIsImVkaXRCdXR0b25CYWNrZ3JvdW5kUHJvcGVydHkiLCJsaW5rIiwiaXNBY3RpdmUiLCJlZGl0QWN0aXZlQmFja2dyb3VuZFByb3BlcnR5IiwiZWRpdEluYWN0aXZlQmFja2dyb3VuZFByb3BlcnR5IiwidXBkYXRlVGV4dCIsInN0cmluZyIsInRvUmljaFN0cmluZyIsImNlbnRlciIsInNlbGZCb3VuZHMiLCJ0b3VjaEFyZWEiLCJwYXJlbnRUb0xvY2FsQm91bmRzIiwibG9jYWxCb3VuZHMiLCJkaWxhdGVkIiwidXBkYXRlRGlnaXRzIiwiZ2V0TGFyZ2VzdEdlbmVyaWNTdHJpbmciLCJyZWN0V2lkdGgiLCJ3aWR0aCIsInJlY3RIZWlnaHQiLCJoZWlnaHQiLCJsYXp5TGluayIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiVGVybUVkaXROb2RlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE3LTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEFuIGVkaXQgYnV0dG9uIGFuZCByZWFkb3V0IGZvciB0aGUgYXNzb2NpYXRlZCB0ZXJtLlxyXG4gKlxyXG4gKiBOT1RFOiBUaGlzIHR5cGUgaXMgZGVzaWduZWQgdG8gYmUgcGVyc2lzdGVudCwgYW5kIHdpbGwgbm90IG5lZWQgdG8gcmVsZWFzZSByZWZlcmVuY2VzIHRvIGF2b2lkIG1lbW9yeSBsZWFrcy5cclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxyXG4gKi9cclxuXHJcbmltcG9ydCBCb29sZWFuUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9Cb29sZWFuUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgTnVtYmVyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9OdW1iZXJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9SZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IG1lcmdlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tZXJnZS5qcyc7XHJcbmltcG9ydCB7IENvbG9yLCBGaXJlTGlzdGVuZXIsIEZsb3dCb3gsIFBhdGgsIFJlY3RhbmdsZSwgUmljaFRleHQgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgZWRpdFNvbGlkU2hhcGUgZnJvbSAnLi4vLi4vLi4vLi4vc2hlcnBhL2pzL2ZvbnRhd2Vzb21lLTUvZWRpdFNvbGlkU2hhcGUuanMnO1xyXG5pbXBvcnQgUmVjdGFuZ3VsYXJQdXNoQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9idXR0b25zL1JlY3Rhbmd1bGFyUHVzaEJ1dHRvbi5qcyc7XHJcbmltcG9ydCBhcmVhTW9kZWxDb21tb24gZnJvbSAnLi4vLi4vYXJlYU1vZGVsQ29tbW9uLmpzJztcclxuaW1wb3J0IEFyZWFNb2RlbENvbW1vbkNvbnN0YW50cyBmcm9tICcuLi8uLi9jb21tb24vQXJlYU1vZGVsQ29tbW9uQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IFRlcm0gZnJvbSAnLi4vLi4vY29tbW9uL21vZGVsL1Rlcm0uanMnO1xyXG5pbXBvcnQgQXJlYU1vZGVsQ29tbW9uQ29sb3JzIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L0FyZWFNb2RlbENvbW1vbkNvbG9ycy5qcyc7XHJcblxyXG5jbGFzcyBUZXJtRWRpdE5vZGUgZXh0ZW5kcyBGbG93Qm94IHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5LjxPcmllbnRhdGlvbj59IG9yaWVudGF0aW9uUHJvcGVydHlcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5LjxUZXJtfG51bGw+fSB0ZXJtUHJvcGVydHlcclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIG9yaWVudGF0aW9uUHJvcGVydHksIHRlcm1Qcm9wZXJ0eSwgb3B0aW9ucyApIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIG9yaWVudGF0aW9uUHJvcGVydHkgaW5zdGFuY2VvZiBSZWFkT25seVByb3BlcnR5ICk7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCB0ZXJtUHJvcGVydHkgaW5zdGFuY2VvZiBSZWFkT25seVByb3BlcnR5ICk7XHJcblxyXG4gICAgb3B0aW9ucyA9IG1lcmdlKCB7XHJcbiAgICAgIC8vIHtQcm9wZXJ0eS48Q29sb3I+fSAtIFRoZSBjb2xvciBvZiB0aGUgcmVhZG91dCB0ZXh0XHJcbiAgICAgIHRleHRDb2xvclByb3BlcnR5OiBuZXcgUHJvcGVydHkoIENvbG9yLkJMQUNLICksXHJcblxyXG4gICAgICAvLyB7UHJvcGVydHkuPENvbG9yPn0gLSBUaGUgY29sb3Igb2YgdGhlIGJvcmRlciBhcm91bmQgdGhlIHJlYWRvdXRcclxuICAgICAgYm9yZGVyQ29sb3JQcm9wZXJ0eTogbmV3IFByb3BlcnR5KCBDb2xvci5CTEFDSyApLFxyXG5cclxuICAgICAgLy8ge1Byb3BlcnR5Ljxib29sZWFuPn0gLSBXaGV0aGVyIHRoaXMgdGVybSBpcyB0aGUgb25lIGJlaW5nIGVkaXRlZCByaWdodCBub3dcclxuICAgICAgaXNBY3RpdmVQcm9wZXJ0eTogbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKSxcclxuXHJcbiAgICAgIC8vIHtQcm9wZXJ0eS48bnVtYmVyPn0gLSBIb3cgbWFueSBkaWdpdHMgYXJlIGFsbG93ZWQgdG8gYmUgdXNlZCBmb3IgdGhpcyB0ZXJtXHJcbiAgICAgIGRpZ2l0Q291bnRQcm9wZXJ0eTogbmV3IE51bWJlclByb3BlcnR5KCAxICksXHJcblxyXG4gICAgICAvLyB7UHJvcGVydHkuPGJvb2xlYW4+fSAtIFdoZXRoZXIgZXhwb25lbnRzIGFyZSBhbGxvd2VkIGZvciB0aGlzIHRlcm1cclxuICAgICAgYWxsb3dFeHBvbmVudHNQcm9wZXJ0eTogbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKSxcclxuXHJcbiAgICAgIC8vIHtmdW5jdGlvbn0gLSBDYWxsZWQgd2l0aCBubyBhcmd1bWVudHMgd2hlbiB0aGlzIHRlcm0gc2hvdWxkIHN0YXJ0IGJlaW5nIGVkaXRlZFxyXG4gICAgICBlZGl0Q2FsbGJhY2s6IF8ubm9vcCxcclxuXHJcbiAgICAgIC8vIHtGb250fVxyXG4gICAgICBmb250OiBBcmVhTW9kZWxDb21tb25Db25zdGFudHMuVEVSTV9FRElUX1JFQURPVVRfRk9OVFxyXG4gICAgfSwgb3B0aW9ucyApO1xyXG5cclxuXHJcbiAgICBjb25zdCByZWFkb3V0VGV4dCA9IG5ldyBSaWNoVGV4dCggJycsIHtcclxuICAgICAgZmlsbDogb3B0aW9ucy50ZXh0Q29sb3JQcm9wZXJ0eSxcclxuICAgICAgZm9udDogb3B0aW9ucy5mb250XHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgcmVhZG91dEJhY2tncm91bmQgPSBuZXcgUmVjdGFuZ2xlKCB7XHJcbiAgICAgIHN0cm9rZTogb3B0aW9ucy5ib3JkZXJDb2xvclByb3BlcnR5LFxyXG4gICAgICBjb3JuZXJSYWRpdXM6IDQsXHJcbiAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgcmVhZG91dFRleHRcclxuICAgICAgXSxcclxuICAgICAgLy8gQWxsb3cgY2xpY2tpbmcgdGhlIHJlYWRvdXQgdG8gZWRpdCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9hcmVhLW1vZGVsLWNvbW1vbi9pc3N1ZXMvMjNcclxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgIGlucHV0TGlzdGVuZXJzOiBbXHJcbiAgICAgICAgbmV3IEZpcmVMaXN0ZW5lcigge1xyXG4gICAgICAgICAgZmlyZTogb3B0aW9ucy5lZGl0Q2FsbGJhY2tcclxuICAgICAgICB9IClcclxuICAgICAgXVxyXG4gICAgfSApO1xyXG5cclxuICAgIHN1cGVyKCB7XHJcbiAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvblByb3BlcnR5LnZhbHVlLmZsb3dCb3hPcmllbnRhdGlvbixcclxuICAgICAgc3BhY2luZzogNCxcclxuICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICByZWFkb3V0QmFja2dyb3VuZCxcclxuICAgICAgICBuZXcgUmVjdGFuZ3VsYXJQdXNoQnV0dG9uKCB7XHJcbiAgICAgICAgICBjb250ZW50OiBuZXcgUGF0aCggZWRpdFNvbGlkU2hhcGUsIHtcclxuICAgICAgICAgICAgZmlsbDogJ2JsYWNrJyxcclxuICAgICAgICAgICAgc2NhbGU6IDAuMDMsXHJcbiAgICAgICAgICAgIHhNYXJnaW46IDYsXHJcbiAgICAgICAgICAgIHlNYXJnaW46IDRcclxuICAgICAgICAgIH0gKSxcclxuICAgICAgICAgIGxpc3RlbmVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuZWRpdENhbGxiYWNrKCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYmFzZUNvbG9yOiBBcmVhTW9kZWxDb21tb25Db2xvcnMuZWRpdEJ1dHRvbkJhY2tncm91bmRQcm9wZXJ0eVxyXG4gICAgICAgIH0gKVxyXG4gICAgICBdXHJcbiAgICB9ICk7XHJcbiAgICBvcmllbnRhdGlvblByb3BlcnR5LmxpbmsoIG9yaWVudGF0aW9uID0+IHtcclxuICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uLmZsb3dCb3hPcmllbnRhdGlvbjtcclxuICAgIH0gKTtcclxuXHJcbiAgICBvcHRpb25zLmlzQWN0aXZlUHJvcGVydHkubGluayggaXNBY3RpdmUgPT4ge1xyXG4gICAgICByZWFkb3V0QmFja2dyb3VuZC5maWxsID0gaXNBY3RpdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gQXJlYU1vZGVsQ29tbW9uQ29sb3JzLmVkaXRBY3RpdmVCYWNrZ3JvdW5kUHJvcGVydHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogQXJlYU1vZGVsQ29tbW9uQ29sb3JzLmVkaXRJbmFjdGl2ZUJhY2tncm91bmRQcm9wZXJ0eTtcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVUZXh0ID0gKCkgPT4ge1xyXG4gICAgICBpZiAoIHRlcm1Qcm9wZXJ0eS52YWx1ZSA9PT0gbnVsbCApIHtcclxuICAgICAgICByZWFkb3V0VGV4dC5zdHJpbmcgPSAnJztcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZWFkb3V0VGV4dC5zdHJpbmcgPSB0ZXJtUHJvcGVydHkudmFsdWUudG9SaWNoU3RyaW5nKCBmYWxzZSApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZWFkb3V0VGV4dC5jZW50ZXIgPSByZWFkb3V0QmFja2dyb3VuZC5zZWxmQm91bmRzLmNlbnRlcjtcclxuICAgICAgcmVhZG91dEJhY2tncm91bmQudG91Y2hBcmVhID0gcmVhZG91dEJhY2tncm91bmQucGFyZW50VG9Mb2NhbEJvdW5kcyggdGhpcy5sb2NhbEJvdW5kcyApLmRpbGF0ZWQoIDYgKTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlRGlnaXRzKCkge1xyXG4gICAgICByZWFkb3V0VGV4dC5zdHJpbmcgPSBUZXJtLmdldExhcmdlc3RHZW5lcmljU3RyaW5nKCBvcHRpb25zLmFsbG93RXhwb25lbnRzUHJvcGVydHkudmFsdWUsIG9wdGlvbnMuZGlnaXRDb3VudFByb3BlcnR5LnZhbHVlICk7XHJcbiAgICAgIHJlYWRvdXRCYWNrZ3JvdW5kLnJlY3RXaWR0aCA9IHJlYWRvdXRUZXh0LndpZHRoICsgNTtcclxuICAgICAgcmVhZG91dEJhY2tncm91bmQucmVjdEhlaWdodCA9IHJlYWRvdXRUZXh0LmhlaWdodCArIDU7XHJcbiAgICAgIHVwZGF0ZVRleHQoKTtcclxuICAgIH1cclxuXHJcbiAgICB0ZXJtUHJvcGVydHkubGF6eUxpbmsoIHVwZGF0ZVRleHQgKTtcclxuICAgIG9wdGlvbnMuZGlnaXRDb3VudFByb3BlcnR5LmxhenlMaW5rKCB1cGRhdGVEaWdpdHMgKTtcclxuICAgIG9wdGlvbnMuYWxsb3dFeHBvbmVudHNQcm9wZXJ0eS5sYXp5TGluayggdXBkYXRlRGlnaXRzICk7XHJcbiAgICBvcmllbnRhdGlvblByb3BlcnR5LmxhenlMaW5rKCB1cGRhdGVEaWdpdHMgKTtcclxuXHJcbiAgICB1cGRhdGVEaWdpdHMoKTtcclxuICB9XHJcbn1cclxuXHJcbmFyZWFNb2RlbENvbW1vbi5yZWdpc3RlciggJ1Rlcm1FZGl0Tm9kZScsIFRlcm1FZGl0Tm9kZSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGVybUVkaXROb2RlOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsZUFBZSxNQUFNLHdDQUF3QztBQUNwRSxPQUFPQyxjQUFjLE1BQU0sdUNBQXVDO0FBQ2xFLE9BQU9DLFFBQVEsTUFBTSxpQ0FBaUM7QUFDdEQsT0FBT0MsZ0JBQWdCLE1BQU0seUNBQXlDO0FBQ3RFLE9BQU9DLEtBQUssTUFBTSxtQ0FBbUM7QUFDckQsU0FBU0MsS0FBSyxFQUFFQyxZQUFZLEVBQUVDLE9BQU8sRUFBRUMsSUFBSSxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsUUFBUSxtQ0FBbUM7QUFDM0csT0FBT0MsY0FBYyxNQUFNLHVEQUF1RDtBQUNsRixPQUFPQyxxQkFBcUIsTUFBTSxxREFBcUQ7QUFDdkYsT0FBT0MsZUFBZSxNQUFNLDBCQUEwQjtBQUN0RCxPQUFPQyx3QkFBd0IsTUFBTSwwQ0FBMEM7QUFDL0UsT0FBT0MsSUFBSSxNQUFNLDRCQUE0QjtBQUM3QyxPQUFPQyxxQkFBcUIsTUFBTSw0Q0FBNEM7QUFFOUUsTUFBTUMsWUFBWSxTQUFTVixPQUFPLENBQUM7RUFDakM7QUFDRjtBQUNBO0FBQ0E7QUFDQTtFQUNFVyxXQUFXQSxDQUFFQyxtQkFBbUIsRUFBRUMsWUFBWSxFQUFFQyxPQUFPLEVBQUc7SUFDeERDLE1BQU0sSUFBSUEsTUFBTSxDQUFFSCxtQkFBbUIsWUFBWWhCLGdCQUFpQixDQUFDO0lBQ25FbUIsTUFBTSxJQUFJQSxNQUFNLENBQUVGLFlBQVksWUFBWWpCLGdCQUFpQixDQUFDO0lBRTVEa0IsT0FBTyxHQUFHakIsS0FBSyxDQUFFO01BQ2Y7TUFDQW1CLGlCQUFpQixFQUFFLElBQUlyQixRQUFRLENBQUVHLEtB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