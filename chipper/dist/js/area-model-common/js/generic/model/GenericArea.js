// Copyright 2017-2022, University of Colorado Boulder

/**
 * A generic area, split up with up to two partition lines per dimension. The partition lines are the separators between
 * partitions. So if you have 3 partitions, there are 2 lines in-between (one for left-center and one for center-right).
 * GenericLayout is for the number of partitions.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import Property from '../../../../axon/js/Property.js';
import Range from '../../../../dot/js/Range.js';
import Orientation from '../../../../phet-core/js/Orientation.js';
import areaModelCommon from '../../areaModelCommon.js';
import AreaModelCommonConstants from '../../common/AreaModelCommonConstants.js';
import AreaModelCommonQueryParameters from '../../common/AreaModelCommonQueryParameters.js';
import Area from '../../common/model/Area.js';
import OrientationPair from '../../common/model/OrientationPair.js';
import Term from '../../common/model/Term.js';
import AreaModelCommonColors from '../../common/view/AreaModelCommonColors.js';
import GenericPartition from './GenericPartition.js';
class GenericArea extends Area {
  /**
   * @param {GenericLayout} layout
   * @param {boolean} allowExponents - Whether the user is able to add powers of x.
   */
  constructor(layout, allowExponents) {
    assert && assert(typeof allowExponents === 'boolean');

    // If we allow powers of X, we'll only allow 1 digit in front.
    const firstDigitCount = allowExponents ? 1 : 3;
    const secondDigitCount = allowExponents ? 1 : 2;
    const thirdDigitCount = 1;
    const horizontalPartitions = [new GenericPartition(Orientation.HORIZONTAL, firstDigitCount), new GenericPartition(Orientation.HORIZONTAL, secondDigitCount), new GenericPartition(Orientation.HORIZONTAL, thirdDigitCount)].slice(0, layout.size.width);
    const verticalPartitions = [new GenericPartition(Orientation.VERTICAL, firstDigitCount), new GenericPartition(Orientation.VERTICAL, secondDigitCount), new GenericPartition(Orientation.VERTICAL, thirdDigitCount)].slice(0, layout.size.height);
    super(new OrientationPair(horizontalPartitions, verticalPartitions), AreaModelCommonColors.genericColorProperties, 1, allowExponents);
    if (AreaModelCommonQueryParameters.maximumCalculationSize) {
      horizontalPartitions.forEach((partition, index) => {
        partition.sizeProperty.value = new Term(-Math.pow(10, partition.digitCount) + 1, allowExponents ? 2 - index : 0);
      });
      verticalPartitions.forEach((partition, index) => {
        partition.sizeProperty.value = new Term(-Math.pow(10, partition.digitCount) + 1, allowExponents ? 2 - index : 0);
      });
    }

    // @public {GenericLayout}
    this.layout = layout;

    // Set up partition coordinate/size
    Orientation.enumeration.values.forEach(orientation => {
      const partitionCount = layout.getPartitionQuantity(orientation);
      const partitions = this.partitions.get(orientation);
      if (partitionCount === 1) {
        partitions[0].coordinateRangeProperty.value = new Range(0, 1);
      } else if (partitionCount === 2) {
        partitions[0].coordinateRangeProperty.value = new Range(0, AreaModelCommonConstants.GENERIC_SINGLE_OFFSET);
        partitions[1].coordinateRangeProperty.value = new Range(AreaModelCommonConstants.GENERIC_SINGLE_OFFSET, 1);
      } else if (partitionCount === 3) {
        partitions[0].coordinateRangeProperty.value = new Range(0, AreaModelCommonConstants.GENERIC_FIRST_OFFSET);
        partitions[1].coordinateRangeProperty.value = new Range(AreaModelCommonConstants.GENERIC_FIRST_OFFSET, AreaModelCommonConstants.GENERIC_SECOND_OFFSET);
        partitions[2].coordinateRangeProperty.value = new Range(AreaModelCommonConstants.GENERIC_SECOND_OFFSET, 1);
      }
    });

    // @public {Property.<Partition|null>} - If it exists, the partition being actively edited.
    this.activePartitionProperty = new Property(null);
  }

  /**
   * Resets the area to its initial values.
   * @public
   * @override
   */
  reset() {
    super.reset();
    this.allPartitions.forEach(partition => {
      partition.sizeProperty.reset();
    });
    this.activePartitionProperty.reset();
  }

  /**
   * Erase the area to a 1x1, see https://github.com/phetsims/area-model-common/issues/77
   * @public
   * @override
   */
  erase() {
    super.erase();

    // Clear all partition values
    this.allPartitions.forEach(partition => {
      partition.sizeProperty.value = null;
    });
    this.activePartitionProperty.reset();
  }
}
areaModelCommon.register('GenericArea', GenericArea);
export default GenericArea;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIlJhbmdlIiwiT3JpZW50YXRpb24iLCJhcmVhTW9kZWxDb21tb24iLCJBcmVhTW9kZWxDb21tb25Db25zdGFudHMiLCJBcmVhTW9kZWxDb21tb25RdWVyeVBhcmFtZXRlcnMiLCJBcmVhIiwiT3JpZW50YXRpb25QYWlyIiwiVGVybSIsIkFyZWFNb2RlbENvbW1vbkNvbG9ycyIsIkdlbmVyaWNQYXJ0aXRpb24iLCJHZW5lcmljQXJlYSIsImNvbnN0cnVjdG9yIiwibGF5b3V0IiwiYWxsb3dFeHBvbmVudHMiLCJhc3NlcnQiLCJmaXJzdERpZ2l0Q291bnQiLCJzZWNvbmREaWdpdENvdW50IiwidGhpcmREaWdpdENvdW50IiwiaG9yaXpvbnRhbFBhcnRpdGlvbnMiLCJIT1JJWk9OVEFMIiwic2xpY2UiLCJzaXplIiwid2lkdGgiLCJ2ZXJ0aWNhbFBhcnRpdGlvbnMiLCJWRVJUSUNBTCIsImhlaWdodCIsImdlbmVyaWNDb2xvclByb3BlcnRpZXMiLCJtYXhpbXVtQ2FsY3VsYXRpb25TaXplIiwiZm9yRWFjaCIsInBhcnRpdGlvbiIsImluZGV4Iiwic2l6ZVByb3BlcnR5IiwidmFsdWUiLCJNYXRoIiwicG93IiwiZGlnaXRDb3VudCIsImVudW1lcmF0aW9uIiwidmFsdWVzIiwib3JpZW50YXRpb24iLCJwYXJ0aXRpb25Db3VudCIsImdldFBhcnRpdGlvblF1YW50aXR5IiwicGFydGl0aW9ucyIsImdldCIsImNvb3JkaW5hdGVSYW5nZVByb3BlcnR5IiwiR0VORVJJQ19TSU5HTEVfT0ZGU0VUIiwiR0VORVJJQ19GSVJTVF9PRkZTRVQiLCJHRU5FUklDX1NFQ09ORF9PRkZTRVQiLCJhY3RpdmVQYXJ0aXRpb25Qcm9wZXJ0eSIsInJlc2V0IiwiYWxsUGFydGl0aW9ucyIsImVyYXNlIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJHZW5lcmljQXJlYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNy0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBBIGdlbmVyaWMgYXJlYSwgc3BsaXQgdXAgd2l0aCB1cCB0byB0d28gcGFydGl0aW9uIGxpbmVzIHBlciBkaW1lbnNpb24uIFRoZSBwYXJ0aXRpb24gbGluZXMgYXJlIHRoZSBzZXBhcmF0b3JzIGJldHdlZW5cclxuICogcGFydGl0aW9ucy4gU28gaWYgeW91IGhhdmUgMyBwYXJ0aXRpb25zLCB0aGVyZSBhcmUgMiBsaW5lcyBpbi1iZXR3ZWVuIChvbmUgZm9yIGxlZnQtY2VudGVyIGFuZCBvbmUgZm9yIGNlbnRlci1yaWdodCkuXHJcbiAqIEdlbmVyaWNMYXlvdXQgaXMgZm9yIHRoZSBudW1iZXIgb2YgcGFydGl0aW9ucy5cclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxyXG4gKi9cclxuXHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IFJhbmdlIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9SYW5nZS5qcyc7XHJcbmltcG9ydCBPcmllbnRhdGlvbiBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvT3JpZW50YXRpb24uanMnO1xyXG5pbXBvcnQgYXJlYU1vZGVsQ29tbW9uIGZyb20gJy4uLy4uL2FyZWFNb2RlbENvbW1vbi5qcyc7XHJcbmltcG9ydCBBcmVhTW9kZWxDb21tb25Db25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL0FyZWFNb2RlbENvbW1vbkNvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBBcmVhTW9kZWxDb21tb25RdWVyeVBhcmFtZXRlcnMgZnJvbSAnLi4vLi4vY29tbW9uL0FyZWFNb2RlbENvbW1vblF1ZXJ5UGFyYW1ldGVycy5qcyc7XHJcbmltcG9ydCBBcmVhIGZyb20gJy4uLy4uL2NvbW1vbi9tb2RlbC9BcmVhLmpzJztcclxuaW1wb3J0IE9yaWVudGF0aW9uUGFpciBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvT3JpZW50YXRpb25QYWlyLmpzJztcclxuaW1wb3J0IFRlcm0gZnJvbSAnLi4vLi4vY29tbW9uL21vZGVsL1Rlcm0uanMnO1xyXG5pbXBvcnQgQXJlYU1vZGVsQ29tbW9uQ29sb3JzIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L0FyZWFNb2RlbENvbW1vbkNvbG9ycy5qcyc7XHJcbmltcG9ydCBHZW5lcmljUGFydGl0aW9uIGZyb20gJy4vR2VuZXJpY1BhcnRpdGlvbi5qcyc7XHJcblxyXG5jbGFzcyBHZW5lcmljQXJlYSBleHRlbmRzIEFyZWEge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7R2VuZXJpY0xheW91dH0gbGF5b3V0XHJcbiAgICogQHBhcmFtIHtib29sZWFufSBhbGxvd0V4cG9uZW50cyAtIFdoZXRoZXIgdGhlIHVzZXIgaXMgYWJsZSB0byBhZGQgcG93ZXJzIG9mIHguXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIGxheW91dCwgYWxsb3dFeHBvbmVudHMgKSB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCB0eXBlb2YgYWxsb3dFeHBvbmVudHMgPT09ICdib29sZWFuJyApO1xyXG5cclxuICAgIC8vIElmIHdlIGFsbG93IHBvd2VycyBvZiBYLCB3ZSdsbCBvbmx5IGFsbG93IDEgZGlnaXQgaW4gZnJvbnQuXHJcbiAgICBjb25zdCBmaXJzdERpZ2l0Q291bnQgPSBhbGxvd0V4cG9uZW50cyA/IDEgOiAzO1xyXG4gICAgY29uc3Qgc2Vjb25kRGlnaXRDb3VudCA9IGFsbG93RXhwb25lbnRzID8gMSA6IDI7XHJcbiAgICBjb25zdCB0aGlyZERpZ2l0Q291bnQgPSAxO1xyXG5cclxuICAgIGNvbnN0IGhvcml6b250YWxQYXJ0aXRpb25zID0gW1xyXG4gICAgICBuZXcgR2VuZXJpY1BhcnRpdGlvbiggT3JpZW50YXRpb24uSE9SSVpPTlRBTCwgZmlyc3REaWdpdENvdW50ICksXHJcbiAgICAgIG5ldyBHZW5lcmljUGFydGl0aW9uKCBPcmllbnRhdGlvbi5IT1JJWk9OVEFMLCBzZWNvbmREaWdpdENvdW50ICksXHJcbiAgICAgIG5ldyBHZW5lcmljUGFydGl0aW9uKCBPcmllbnRhdGlvbi5IT1JJWk9OVEFMLCB0aGlyZERpZ2l0Q291bnQgKVxyXG4gICAgXS5zbGljZSggMCwgbGF5b3V0LnNpemUud2lkdGggKTtcclxuXHJcbiAgICBjb25zdCB2ZXJ0aWNhbFBhcnRpdGlvbnMgPSBbXHJcbiAgICAgIG5ldyBHZW5lcmljUGFydGl0aW9uKCBPcmllbnRhdGlvbi5WRVJUSUNBTCwgZmlyc3REaWdpdENvdW50ICksXHJcbiAgICAgIG5ldyBHZW5lcmljUGFydGl0aW9uKCBPcmllbnRhdGlvbi5WRVJUSUNBTCwgc2Vjb25kRGlnaXRDb3VudCApLFxyXG4gICAgICBuZXcgR2VuZXJpY1BhcnRpdGlvbiggT3JpZW50YXRpb24uVkVSVElDQUwsIHRoaXJkRGlnaXRDb3VudCApXHJcbiAgICBdLnNsaWNlKCAwLCBsYXlvdXQuc2l6ZS5oZWlnaHQgKTtcclxuXHJcbiAgICBzdXBlcihcclxuICAgICAgbmV3IE9yaWVudGF0aW9uUGFpciggaG9yaXpvbnRhbFBhcnRpdGlvbnMsIHZlcnRpY2FsUGFydGl0aW9ucyApLFxyXG4gICAgICBBcmVhTW9kZWxDb21tb25Db2xvcnMuZ2VuZXJpY0NvbG9yUHJvcGVydGllcyxcclxuICAgICAgMSxcclxuICAgICAgYWxsb3dFeHBvbmVudHNcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCBBcmVhTW9kZWxDb21tb25RdWVyeVBhcmFtZXRlcnMubWF4aW11bUNhbGN1bGF0aW9uU2l6ZSApIHtcclxuICAgICAgaG9yaXpvbnRhbFBhcnRpdGlvbnMuZm9yRWFjaCggKCBwYXJ0aXRpb24sIGluZGV4ICkgPT4ge1xyXG4gICAgICAgIHBhcnRpdGlvbi5zaXplUHJvcGVydHkudmFsdWUgPSBuZXcgVGVybSggLU1hdGgucG93KCAxMCwgcGFydGl0aW9uLmRpZ2l0Q291bnQgKSArIDEsIGFsbG93RXhwb25lbnRzID8gMiAtIGluZGV4IDogMCApO1xyXG4gICAgICB9ICk7XHJcbiAgICAgIHZlcnRpY2FsUGFydGl0aW9ucy5mb3JFYWNoKCAoIHBhcnRpdGlvbiwgaW5kZXggKSA9PiB7XHJcbiAgICAgICAgcGFydGl0aW9uLnNpemVQcm9wZXJ0eS52YWx1ZSA9IG5ldyBUZXJtKCAtTWF0aC5wb3coIDEwLCBwYXJ0aXRpb24uZGlnaXRDb3VudCApICsgMSwgYWxsb3dFeHBvbmVudHMgPyAyIC0gaW5kZXggOiAwICk7XHJcbiAgICAgIH0gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBAcHVibGljIHtHZW5lcmljTGF5b3V0fVxyXG4gICAgdGhpcy5sYXlvdXQgPSBsYXlvdXQ7XHJcblxyXG4gICAgLy8gU2V0IHVwIHBhcnRpdGlvbiBjb29yZGluYXRlL3NpemVcclxuICAgIE9yaWVudGF0aW9uLmVudW1lcmF0aW9uLnZhbHVlcy5mb3JFYWNoKCBvcmllbnRhdGlvbiA9PiB7XHJcbiAgICAgIGNvbnN0IHBhcnRpdGlvbkNvdW50ID0gbGF5b3V0LmdldFBhcnRpdGlvblF1YW50aXR5KCBvcmllbnRhdGlvbiApO1xyXG4gICAgICBjb25zdCBwYXJ0aXRpb25zID0gdGhpcy5wYXJ0aXRpb25zLmdldCggb3JpZW50YXRpb24gKTtcclxuXHJcbiAgICAgIGlmICggcGFydGl0aW9uQ291bnQgPT09IDEgKSB7XHJcbiAgICAgICAgcGFydGl0aW9uc1sgMCBdLmNvb3JkaW5hdGVSYW5nZVByb3BlcnR5LnZhbHVlID0gbmV3IFJhbmdlKCAwLCAxICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoIHBhcnRpdGlvbkNvdW50ID09PSAyICkge1xyXG4gICAgICAgIHBhcnRpdGlvbnNbIDAgXS5jb29yZGluYXRlUmFuZ2VQcm9wZXJ0eS52YWx1ZSA9IG5ldyBSYW5nZSggMCwgQXJlYU1vZGVsQ29tbW9uQ29uc3RhbnRzLkdFTkVSSUNfU0lOR0xFX09GRlNFVCApO1xyXG4gICAgICAgIHBhcnRpdGlvbnNbIDEgXS5jb29yZGluYXRlUmFuZ2VQcm9wZXJ0eS52YWx1ZSA9IG5ldyBSYW5nZSggQXJlYU1vZGVsQ29tbW9uQ29uc3RhbnRzLkdFTkVSSUNfU0lOR0xFX09GRlNFVCwgMSApO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKCBwYXJ0aXRpb25Db3VudCA9PT0gMyApIHtcclxuICAgICAgICBwYXJ0aXRpb25zWyAwIF0uY29vcmRpbmF0ZVJhbmdlUHJvcGVydHkudmFsdWUgPSBuZXcgUmFuZ2UoIDAsIEFyZWFNb2RlbENvbW1vbkNvbnN0YW50cy5HRU5FUklDX0ZJUlNUX09GRlNFVCApO1xyXG4gICAgICAgIHBhcnRpdGlvbnNbIDEgXS5jb29yZGluYXRlUmFuZ2VQcm9wZXJ0eS52YWx1ZSA9IG5ldyBSYW5nZSggQXJlYU1vZGVsQ29tbW9uQ29uc3RhbnRzLkdFTkVSSUNfRklSU1RfT0ZGU0VULCBBcmVhTW9kZWxDb21tb25Db25zdGFudHMuR0VORVJJQ19TRUNPTkRfT0ZGU0VUICk7XHJcbiAgICAgICAgcGFydGl0aW9uc1sgMiBdLmNvb3JkaW5hdGVSYW5nZVByb3BlcnR5LnZhbHVlID0gbmV3IFJhbmdlKCBBcmVhTW9kZWxDb21tb25Db25zdGFudHMuR0VORVJJQ19TRUNPTkRfT0ZGU0VULCAxICk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtQcm9wZXJ0eS48UGFydGl0aW9ufG51bGw+fSAtIElmIGl0IGV4aXN0cywgdGhlIHBhcnRpdGlvbiBiZWluZyBhY3RpdmVseSBlZGl0ZWQuXHJcbiAgICB0aGlzLmFjdGl2ZVBhcnRpdGlvblByb3BlcnR5ID0gbmV3IFByb3BlcnR5KCBudWxsICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXNldHMgdGhlIGFyZWEgdG8gaXRzIGluaXRpYWwgdmFsdWVzLlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAb3ZlcnJpZGVcclxuICAgKi9cclxuICByZXNldCgpIHtcclxuICAgIHN1cGVyLnJlc2V0KCk7XHJcblxyXG4gICAgdGhpcy5hbGxQYXJ0aXRpb25zLmZvckVhY2goIHBhcnRpdGlvbiA9PiB7XHJcbiAgICAgIHBhcnRpdGlvbi5zaXplUHJvcGVydHkucmVzZXQoKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmFjdGl2ZVBhcnRpdGlvblByb3BlcnR5LnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFcmFzZSB0aGUgYXJlYSB0byBhIDF4MSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9hcmVhLW1vZGVsLWNvbW1vbi9pc3N1ZXMvNzdcclxuICAgKiBAcHVibGljXHJcbiAgICogQG92ZXJyaWRlXHJcbiAgICovXHJcbiAgZXJhc2UoKSB7XHJcbiAgICBzdXBlci5lcmFzZSgpO1xyXG5cclxuICAgIC8vIENsZWFyIGFsbCBwYXJ0aXRpb24gdmFsdWVzXHJcbiAgICB0aGlzLmFsbFBhcnRpdGlvbnMuZm9yRWFjaCggcGFydGl0aW9uID0+IHtcclxuICAgICAgcGFydGl0aW9uLnNpemVQcm9wZXJ0eS52YWx1ZSA9IG51bGw7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5hY3RpdmVQYXJ0aXRpb25Qcm9wZXJ0eS5yZXNldCgpO1xyXG4gIH1cclxufVxyXG5cclxuYXJlYU1vZGVsQ29tbW9uLnJlZ2lzdGVyKCAnR2VuZXJpY0FyZWEnLCBHZW5lcmljQXJlYSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgR2VuZXJpY0FyZWE7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxRQUFRLE1BQU0saUNBQWlDO0FBQ3RELE9BQU9DLEtBQUssTUFBTSw2QkFBNkI7QUFDL0MsT0FBT0MsV0FBVyxNQUFNLHlDQUF5QztBQUNqRSxPQUFPQyxlQUFlLE1BQU0sMEJBQTBCO0FBQ3RELE9BQU9DLHdCQUF3QixNQUFNLDBDQUEwQztBQUMvRSxPQUFPQyw4QkFBOEIsTUFBTSxnREFBZ0Q7QUFDM0YsT0FBT0MsSUFBSSxNQUFNLDRCQUE0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