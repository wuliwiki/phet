// Copyright 2013-2022, University of Colorado Boulder

/**
 * A rounded slider knob that shows with grip 'dots' to indicate that it is grabbable.  Based on artwork by Noah Podolefsky.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 */

import merge from '../../../../phet-core/js/merge.js';
import { Circle, LinearGradient, Node, Rectangle } from '../../../../scenery/js/imports.js';
import forcesAndMotionBasics from '../../forcesAndMotionBasics.js';
class SliderKnob extends Node {
  /**
   * Constructor.
   * @param {Tandem} tandem
   * @param {Object} [options]
   */
  constructor(tandem, options) {
    options = merge({
      tandem: tandem,
      phetioEnabledPropertyInstrumented: true
    }, options);

    // different fill colors for when the slider is enabled or disabled
    const enabledFillColor = '#2FB0E4';
    const disabledFillColor = 'gray';
    const enabledColorStop = '#B8E4FB';
    const disabledColorStop = 'white';
    super(options);

    //Add the rounded rectangle background
    const scale = 0.8;
    const width = 20 * scale;
    const height = 50 * scale;
    const enabledGradient = new LinearGradient(-width / 2, 0, width / 2, 0).addColorStop(0, enabledFillColor).addColorStop(0.5, enabledColorStop).addColorStop(1, enabledFillColor);
    const disabledGradient = new LinearGradient(-width / 2, 0, width / 2, 0).addColorStop(0, disabledFillColor).addColorStop(0.5, disabledColorStop).addColorStop(1, disabledFillColor);
    const rectangle = new Rectangle(-width / 2, 0, width, height, 10 * scale, 10 * scale, {
      fill: this.enabledProperty.value ? enabledGradient : 'gray',
      stroke: this.enabledProperty.value ? 'black' : 'gray',
      lineWidth: 2
    });
    this.addChild(rectangle);

    // @private - link the fill to the enabled property. Slider knob exists for lifetime of sim, no dispose necessary.
    this.enabledProperty.link(enabled => {
      rectangle.fill = enabled ? enabledGradient : disabledGradient;
    });

    //add a grid of grip dots
    const dx = width / 5;
    const dy = height / 6;
    this.addGripDot(-dx, height / 2 - dy);
    this.addGripDot(dx, height / 2 - dy);
    this.addGripDot(-dx, height / 2);
    this.addGripDot(dx, height / 2);
    this.addGripDot(-dx, height / 2 + dy);
    this.addGripDot(dx, height / 2 + dy);

    // Make sure the slider knob is perfectly centered on the tick marks.  Not sure why this workaround is necessary,
    // but it seems to perfectly center the knob.
    this.translate(1, 0);
  }

  /**
   * @private
   * @param {number} x
   * @param {number} y
   */
  addGripDot(x, y) {
    const radius = 1.8;
    const stroke = new LinearGradient(-radius, -radius, radius * 2, radius * 2).addColorStop(0, 'black').addColorStop(0.5, '#56889F').addColorStop(1, 'white');
    this.addChild(new Circle(radius, {
      x: x,
      y: y,
      fill: this.enabledProperty ? '#56889F' : 'gray',
      stroke: this.enabledProperty ? stroke : 'gray',
      lineWidth: 1
    }));
  }
}
forcesAndMotionBasics.register('SliderKnob', SliderKnob);
export default SliderKnob;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZXJnZSIsIkNpcmNsZSIsIkxpbmVhckdyYWRpZW50IiwiTm9kZSIsIlJlY3RhbmdsZSIsImZvcmNlc0FuZE1vdGlvbkJhc2ljcyIsIlNsaWRlcktub2IiLCJjb25zdHJ1Y3RvciIsInRhbmRlbSIsIm9wdGlvbnMiLCJwaGV0aW9FbmFibGVkUHJvcGVydHlJbnN0cnVtZW50ZWQiLCJlbmFibGVkRmlsbENvbG9yIiwiZGlzYWJsZWRGaWxsQ29sb3IiLCJlbmFibGVkQ29sb3JTdG9wIiwiZGlzYWJsZWRDb2xvclN0b3AiLCJzY2FsZSIsIndpZHRoIiwiaGVpZ2h0IiwiZW5hYmxlZEdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwiZGlzYWJsZWRHcmFkaWVudCIsInJlY3RhbmdsZSIsImZpbGwiLCJlbmFibGVkUHJvcGVydHkiLCJ2YWx1ZSIsInN0cm9rZSIsImxpbmVXaWR0aCIsImFkZENoaWxkIiwibGluayIsImVuYWJsZWQiLCJkeCIsImR5IiwiYWRkR3JpcERvdCIsInRyYW5zbGF0ZSIsIngiLCJ5IiwicmFkaXVzIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJTbGlkZXJLbm9iLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDEzLTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEEgcm91bmRlZCBzbGlkZXIga25vYiB0aGF0IHNob3dzIHdpdGggZ3JpcCAnZG90cycgdG8gaW5kaWNhdGUgdGhhdCBpdCBpcyBncmFiYmFibGUuICBCYXNlZCBvbiBhcnR3b3JrIGJ5IE5vYWggUG9kb2xlZnNreS5cclxuICpcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IHsgQ2lyY2xlLCBMaW5lYXJHcmFkaWVudCwgTm9kZSwgUmVjdGFuZ2xlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IGZvcmNlc0FuZE1vdGlvbkJhc2ljcyBmcm9tICcuLi8uLi9mb3JjZXNBbmRNb3Rpb25CYXNpY3MuanMnO1xyXG5cclxuY2xhc3MgU2xpZGVyS25vYiBleHRlbmRzIE5vZGUge1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3Rvci5cclxuICAgKiBAcGFyYW0ge1RhbmRlbX0gdGFuZGVtXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCB0YW5kZW0sIG9wdGlvbnMgKSB7XHJcblxyXG4gICAgb3B0aW9ucyA9IG1lcmdlKCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLFxyXG4gICAgICBwaGV0aW9FbmFibGVkUHJvcGVydHlJbnN0cnVtZW50ZWQ6IHRydWVcclxuICAgIH0sIG9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyBkaWZmZXJlbnQgZmlsbCBjb2xvcnMgZm9yIHdoZW4gdGhlIHNsaWRlciBpcyBlbmFibGVkIG9yIGRpc2FibGVkXHJcbiAgICBjb25zdCBlbmFibGVkRmlsbENvbG9yID0gJyMyRkIwRTQnO1xyXG4gICAgY29uc3QgZGlzYWJsZWRGaWxsQ29sb3IgPSAnZ3JheSc7XHJcbiAgICBjb25zdCBlbmFibGVkQ29sb3JTdG9wID0gJyNCOEU0RkInO1xyXG4gICAgY29uc3QgZGlzYWJsZWRDb2xvclN0b3AgPSAnd2hpdGUnO1xyXG5cclxuICAgIHN1cGVyKCBvcHRpb25zICk7XHJcblxyXG4gICAgLy9BZGQgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlIGJhY2tncm91bmRcclxuICAgIGNvbnN0IHNjYWxlID0gMC44O1xyXG4gICAgY29uc3Qgd2lkdGggPSAyMCAqIHNjYWxlO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gNTAgKiBzY2FsZTtcclxuICAgIGNvbnN0IGVuYWJsZWRHcmFkaWVudCA9IG5ldyBMaW5lYXJHcmFkaWVudCggLXdpZHRoIC8gMiwgMCwgd2lkdGggLyAyLCAwICkuYWRkQ29sb3JTdG9wKCAwLCBlbmFibGVkRmlsbENvbG9yICkuYWRkQ29sb3JTdG9wKCAwLjUsIGVuYWJsZWRDb2xvclN0b3AgKS5hZGRDb2xvclN0b3AoIDEsIGVuYWJsZWRGaWxsQ29sb3IgKTtcclxuICAgIGNvbnN0IGRpc2FibGVkR3JhZGllbnQgPSBuZXcgTGluZWFyR3JhZGllbnQoIC13aWR0aCAvIDIsIDAsIHdpZHRoIC8gMiwgMCApLmFkZENvbG9yU3RvcCggMCwgZGlzYWJsZWRGaWxsQ29sb3IgKS5hZGRDb2xvclN0b3AoIDAuNSwgZGlzYWJsZWRDb2xvclN0b3AgKS5hZGRDb2xvclN0b3AoIDEsIGRpc2FibGVkRmlsbENvbG9yICk7XHJcblxyXG4gICAgY29uc3QgcmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSggLXdpZHRoIC8gMiwgMCwgd2lkdGgsIGhlaWdodCwgMTAgKiBzY2FsZSwgMTAgKiBzY2FsZSwge1xyXG4gICAgICBmaWxsOiB0aGlzLmVuYWJsZWRQcm9wZXJ0eS52YWx1ZSA/IGVuYWJsZWRHcmFkaWVudCA6ICdncmF5JyxcclxuICAgICAgc3Ryb2tlOiB0aGlzLmVuYWJsZWRQcm9wZXJ0eS52YWx1ZSA/ICdibGFjaycgOiAnZ3JheScsXHJcbiAgICAgIGxpbmVXaWR0aDogMlxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggcmVjdGFuZ2xlICk7XHJcblxyXG4gICAgLy8gQHByaXZhdGUgLSBsaW5rIHRoZSBmaWxsIHRvIHRoZSBlbmFibGVkIHByb3BlcnR5LiBTbGlkZXIga25vYiBleGlzdHMgZm9yIGxpZmV0aW1lIG9mIHNpbSwgbm8gZGlzcG9zZSBuZWNlc3NhcnkuXHJcbiAgICB0aGlzLmVuYWJsZWRQcm9wZXJ0eS5saW5rKCBlbmFibGVkID0+IHtcclxuICAgICAgcmVjdGFuZ2xlLmZpbGwgPSBlbmFibGVkID8gZW5hYmxlZEdyYWRpZW50IDogZGlzYWJsZWRHcmFkaWVudDtcclxuICAgIH0gKTtcclxuXHJcbiAgICAvL2FkZCBhIGdyaWQgb2YgZ3JpcCBkb3RzXHJcbiAgICBjb25zdCBkeCA9IHdpZHRoIC8gNTtcclxuICAgIGNvbnN0IGR5ID0gaGVpZ2h0IC8gNjtcclxuICAgIHRoaXMuYWRkR3JpcERvdCggLWR4LCBoZWlnaHQgLyAyIC0gZHkgKTtcclxuICAgIHRoaXMuYWRkR3JpcERvdCggZHgsIGhlaWdodCAvIDIgLSBkeSApO1xyXG4gICAgdGhpcy5hZGRHcmlwRG90KCAtZHgsIGhlaWdodCAvIDIgKTtcclxuICAgIHRoaXMuYWRkR3JpcERvdCggZHgsIGhlaWdodCAvIDIgKTtcclxuICAgIHRoaXMuYWRkR3JpcERvdCggLWR4LCBoZWlnaHQgLyAyICsgZHkgKTtcclxuICAgIHRoaXMuYWRkR3JpcERvdCggZHgsIGhlaWdodCAvIDIgKyBkeSApO1xyXG5cclxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgc2xpZGVyIGtub2IgaXMgcGVyZmVjdGx5IGNlbnRlcmVkIG9uIHRoZSB0aWNrIG1hcmtzLiAgTm90IHN1cmUgd2h5IHRoaXMgd29ya2Fyb3VuZCBpcyBuZWNlc3NhcnksXHJcbiAgICAvLyBidXQgaXQgc2VlbXMgdG8gcGVyZmVjdGx5IGNlbnRlciB0aGUga25vYi5cclxuICAgIHRoaXMudHJhbnNsYXRlKCAxLCAwICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHlcclxuICAgKi9cclxuICBhZGRHcmlwRG90KCB4LCB5ICkge1xyXG4gICAgY29uc3QgcmFkaXVzID0gMS44O1xyXG4gICAgY29uc3Qgc3Ryb2tlID0gbmV3IExpbmVhckdyYWRpZW50KCAtcmFkaXVzLCAtcmFkaXVzLCByYWRpdXMgKiAyLCByYWRpdXMgKiAyICkuYWRkQ29sb3JTdG9wKCAwLCAnYmxhY2snICkuYWRkQ29sb3JTdG9wKCAwLjUsICcjNTY4ODlGJyApLmFkZENvbG9yU3RvcCggMSwgJ3doaXRlJyApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggbmV3IENpcmNsZSggcmFkaXVzLCB7XHJcbiAgICAgIHg6IHgsXHJcbiAgICAgIHk6IHksXHJcbiAgICAgIGZpbGw6IHRoaXMuZW5hYmxlZFByb3BlcnR5ID8gJyM1Njg4OUYnIDogJ2dyYXknLFxyXG4gICAgICBzdHJva2U6IHRoaXMuZW5hYmxlZFByb3BlcnR5ID8gc3Ryb2tlIDogJ2dyYXknLFxyXG4gICAgICBsaW5lV2lkdGg6IDFcclxuICAgIH0gKSApO1xyXG4gIH1cclxufVxyXG5cclxuZm9yY2VzQW5kTW90aW9uQmFzaWNzLnJlZ2lzdGVyKCAnU2xpZGVyS25vYicsIFNsaWRlcktub2IgKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNsaWRlcktub2I7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLEtBQUssTUFBTSxtQ0FBbUM7QUFDckQsU0FBU0MsTUFBTSxFQUFFQyxjQUFjLEVBQUVDLElBQUksRUFBRUMsU0FBUyxRQUFRLG1DQUFtQztBQUMzRixPQUFPQyxxQkFBcUIsTUFBTSxnQ0FBZ0M7QUFFbEUsTUFBTUMsVUFBVSxTQUFTSCxJQUFJLENBQUM7RUFFNUI7QUFDRjtBQUNBO0FBQ0E7QUFDQTtFQUNFSSxXQUFXQSxDQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRztJQUU3QkEsT0FBTyxHQUFHVCxLQUFLLENBQUU7TUFDZlEsTUFBTSxFQUFFQSxNQUFNO01BQ2RFLGlDQUFpQyxFQUFFO0lBQ3JDLENBQUMsRUFBRUQsT0FBUSxDQUFDOztJQUVaO0lBQ0EsTUFBTUUsZ0JBQWdCLEdBQUcsU0FBUztJQUNsQyxNQUFNQyxpQkFBaUIsR0FBRyxNQUFNO0lBQ2hDLE1BQU1DLGdCQUFnQixHQUFHLFNBQVM7SUFDbEMsTUFBTUMsaUJBQWlCLEdBQUcsT0FBTztJQUVqQyxLQUFLLENBQUVMLE9BQVEsQ0FBQzs7SUFFaEI7SUFDQSxNQUFNTSxLQUFLLEdBQUcsR0FBRztJQUNqQixNQUFN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