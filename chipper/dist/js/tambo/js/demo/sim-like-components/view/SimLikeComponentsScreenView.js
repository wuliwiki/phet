// Copyright 2018-2022, University of Colorado Boulder

/**
 * view for a screen that demonstrates views and sounds for components that interact with the model in some way
 *
 * @author John Blanco (PhET Interactive Simulations)
 */

import DerivedProperty from '../../../../../axon/js/DerivedProperty.js';
import Property from '../../../../../axon/js/Property.js';
import Dimension2 from '../../../../../dot/js/Dimension2.js';
import Range from '../../../../../dot/js/Range.js';
import Vector2 from '../../../../../dot/js/Vector2.js';
import ScreenView from '../../../../../joist/js/ScreenView.js';
import ModelViewTransform2 from '../../../../../phetcommon/js/view/ModelViewTransform2.js';
import ResetAllButton from '../../../../../scenery-phet/js/buttons/ResetAllButton.js';
import PhetFont from '../../../../../scenery-phet/js/PhetFont.js';
import { Path, Text } from '../../../../../scenery/js/imports.js';
import ABSwitch from '../../../../../sun/js/ABSwitch.js';
import NumberSpinner from '../../../../../sun/js/NumberSpinner.js';
import PitchedPopGenerator from '../../../sound-generators/PitchedPopGenerator.js';
import soundManager from '../../../soundManager.js';
import tambo from '../../../tambo.js';
import BallNode from './BallNode.js';
import Tandem from '../../../../../tandem/js/Tandem.js';

// constants
const MAX_BALLS = 8;
const FONT = new PhetFont(16);
class SimLikeComponentsScreenView extends ScreenView {
  constructor(model) {
    super({
      tandem: Tandem.OPT_OUT
    });

    // set up the model view transform
    const modelViewTransform = ModelViewTransform2.createSinglePointScaleInvertedYMapping(Vector2.ZERO, new Vector2(this.layoutBounds.width * 0.275, this.layoutBounds.height * 0.5), 2);

    // add the box where the balls bounce around
    const boxNode = new Path(modelViewTransform.modelToViewShape(model.boxOfBalls.box), {
      fill: 'white',
      stroke: 'black'
    });
    this.addChild(boxNode);

    // handle balls being added to or removed from the box
    model.boxOfBalls.balls.addItemAddedListener(addedBall => {
      // add a node that represents the ball
      const ballNode = new BallNode(addedBall, modelViewTransform);
      this.addChild(ballNode);

      // set up a listener to remove the nodes when the corresponding ball is removed from the model
      const removalListener = removedBall => {
        if (removedBall === addedBall) {
          this.removeChild(ballNode);
          ballNode.dispose();
          model.boxOfBalls.balls.removeItemRemovedListener(removalListener);
        }
      };
      model.boxOfBalls.balls.addItemRemovedListener(removalListener);
    });

    // create an inverted version of the reset-in-progress Property, used to mute sounds during reset
    const resetNotInProgressProperty = new DerivedProperty([model.resetInProgressProperty], resetInProgress => !resetInProgress);

    // generate sound when balls are added or removed
    const pitchedPopGenerator = new PitchedPopGenerator({
      enableControlProperties: [resetNotInProgressProperty]
    });
    soundManager.addSoundGenerator(pitchedPopGenerator);
    model.boxOfBalls.balls.lengthProperty.lazyLink(numBalls => {
      pitchedPopGenerator.playPop(numBalls / MAX_BALLS);
    });

    // add a switch to turn ball motion on and off
    const ballsMovingSwitch = new ABSwitch(model.ballsMovingProperty, false, new Text('Paused', {
      font: FONT
    }), true, new Text('Running', {
      font: FONT
    }), {
      toggleSwitchOptions: {
        size: new Dimension2(60, 30)
      },
      centerX: boxNode.centerX,
      top: boxNode.bottom + 25
    });
    this.addChild(ballsMovingSwitch);

    // add a number spinner for adding and removing balls
    const ballCountSpinner = new NumberSpinner(model.numberOfBallsProperty, new Property(new Range(0, MAX_BALLS)), {
      numberDisplayOptions: {
        backgroundFill: '#cccccc',
        backgroundStroke: 'green',
        backgroundLineWidth: 3,
        align: 'center',
        xMargin: 20,
        yMargin: 3,
        textOptions: {
          font: new PhetFont(35)
        }
      },
      arrowsPosition: 'bothBottom',
      arrowButtonFill: 'lightblue',
      arrowButtonStroke: 'blue',
      arrowButtonLineWidth: 0.2,
      centerX: ballsMovingSwitch.centerX,
      top: ballsMovingSwitch.bottom + 25
    });
    this.addChild(ballCountSpinner);

    // add the reset all button
    const resetAllButton = new ResetAllButton({
      right: this.layoutBounds.maxX - 25,
      bottom: this.layoutBounds.maxY - 25,
      listener: () => {
        model.reset();
      }
    });
    this.addChild(resetAllButton);
  }
}
tambo.register('SimLikeComponentsScreenView', SimLikeComponentsScreenView);
export default SimLikeComponentsScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJQcm9wZXJ0eSIsIkRpbWVuc2lvbjIiLCJSYW5nZSIsIlZlY3RvcjIiLCJTY3JlZW5WaWV3IiwiTW9kZWxWaWV3VHJhbnNmb3JtMiIsIlJlc2V0QWxsQnV0dG9uIiwiUGhldEZvbnQiLCJQYXRoIiwiVGV4dCIsIkFCU3dpdGNoIiwiTnVtYmVyU3Bpbm5lciIsIlBpdGNoZWRQb3BHZW5lcmF0b3IiLCJzb3VuZE1hbmFnZXIiLCJ0YW1ibyIsIkJhbGxOb2RlIiwiVGFuZGVtIiwiTUFYX0JBTExTIiwiRk9OVCIsIlNpbUxpa2VDb21wb25lbnRzU2NyZWVuVmlldyIsImNvbnN0cnVjdG9yIiwibW9kZWwiLCJ0YW5kZW0iLCJPUFRfT1VUIiwibW9kZWxWaWV3VHJhbnNmb3JtIiwiY3JlYXRlU2luZ2xlUG9pbnRTY2FsZUludmVydGVkWU1hcHBpbmciLCJaRVJPIiwibGF5b3V0Qm91bmRzIiwid2lkdGgiLCJoZWlnaHQiLCJib3hOb2RlIiwibW9kZWxUb1ZpZXdTaGFwZSIsImJveE9mQmFsbHMiLCJib3giLCJmaWxsIiwic3Ryb2tlIiwiYWRkQ2hpbGQiLCJiYWxscyIsImFkZEl0ZW1BZGRlZExpc3RlbmVyIiwiYWRkZWRCYWxsIiwiYmFsbE5vZGUiLCJyZW1vdmFsTGlzdGVuZXIiLCJyZW1vdmVkQmFsbCIsInJlbW92ZUNoaWxkIiwiZGlzcG9zZSIsInJlbW92ZUl0ZW1SZW1vdmVkTGlzdGVuZXIiLCJhZGRJdGVtUmVtb3ZlZExpc3RlbmVyIiwicmVzZXROb3RJblByb2dyZXNzUHJvcGVydHkiLCJyZXNldEluUHJvZ3Jlc3NQcm9wZXJ0eSIsInJlc2V0SW5Qcm9ncmVzcyIsInBpdGNoZWRQb3BHZW5lcmF0b3IiLCJlbmFibGVDb250cm9sUHJvcGVydGllcyIsImFkZFNvdW5kR2VuZXJhdG9yIiwibGVuZ3RoUHJvcGVydHkiLCJsYXp5TGluayIsIm51bUJhbGxzIiwicGxheVBvcCIsImJhbGxzTW92aW5nU3dpdGNoIiwiYmFsbHNNb3ZpbmdQcm9wZXJ0eSIsImZvbnQiLCJ0b2dnbGVTd2l0Y2hPcHRpb25zIiwic2l6ZSIsImNlbnRlclgiLCJ0b3AiLCJib3R0b20iLCJiYWxsQ291bnRTcGlubmVyIiwibnVtYmVyT2ZCYWxsc1Byb3BlcnR5IiwibnVtYmVyRGlzcGxheU9wdGlvbnMiLCJiYWNrZ3JvdW5kRmlsbCIsImJhY2tncm91bmRTdHJva2UiLCJiYWNrZ3JvdW5kTGluZVdpZHRoIiwiYWxpZ24iLCJ4TWFyZ2luIiwieU1hcmdpbiIsInRleHRPcHRpb25zIiwiYXJyb3dzUG9zaXRpb24iLCJhcnJvd0J1dHRvbkZpbGwiLCJhcnJvd0J1dHRvblN0cm9rZSIsImFycm93QnV0dG9uTGluZVdpZHRoIiwicmVzZXRBbGxCdXR0b24iLCJyaWdodCIsIm1heFgiLCJtYXhZIiwibGlzdGVuZXIiLCJyZXNldCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiU2ltTGlrZUNvbXBvbmVudHNTY3JlZW5WaWV3LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE4LTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIHZpZXcgZm9yIGEgc2NyZWVuIHRoYXQgZGVtb25zdHJhdGVzIHZpZXdzIGFuZCBzb3VuZHMgZm9yIGNvbXBvbmVudHMgdGhhdCBpbnRlcmFjdCB3aXRoIHRoZSBtb2RlbCBpbiBzb21lIHdheVxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvaG4gQmxhbmNvIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBEaW1lbnNpb24yIGZyb20gJy4uLy4uLy4uLy4uLy4uL2RvdC9qcy9EaW1lbnNpb24yLmpzJztcclxuaW1wb3J0IFJhbmdlIGZyb20gJy4uLy4uLy4uLy4uLy4uL2RvdC9qcy9SYW5nZS5qcyc7XHJcbmltcG9ydCBWZWN0b3IyIGZyb20gJy4uLy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyLmpzJztcclxuaW1wb3J0IFNjcmVlblZpZXcgZnJvbSAnLi4vLi4vLi4vLi4vLi4vam9pc3QvanMvU2NyZWVuVmlldy5qcyc7XHJcbmltcG9ydCBNb2RlbFZpZXdUcmFuc2Zvcm0yIGZyb20gJy4uLy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvdmlldy9Nb2RlbFZpZXdUcmFuc2Zvcm0yLmpzJztcclxuaW1wb3J0IFJlc2V0QWxsQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9idXR0b25zL1Jlc2V0QWxsQnV0dG9uLmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XHJcbmltcG9ydCB7IFBhdGgsIFRleHQgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgQUJTd2l0Y2ggZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3VuL2pzL0FCU3dpdGNoLmpzJztcclxuaW1wb3J0IE51bWJlclNwaW5uZXIgZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3VuL2pzL051bWJlclNwaW5uZXIuanMnO1xyXG5pbXBvcnQgUGl0Y2hlZFBvcEdlbmVyYXRvciBmcm9tICcuLi8uLi8uLi9zb3VuZC1nZW5lcmF0b3JzL1BpdGNoZWRQb3BHZW5lcmF0b3IuanMnO1xyXG5pbXBvcnQgc291bmRNYW5hZ2VyIGZyb20gJy4uLy4uLy4uL3NvdW5kTWFuYWdlci5qcyc7XHJcbmltcG9ydCB0YW1ibyBmcm9tICcuLi8uLi8uLi90YW1iby5qcyc7XHJcbmltcG9ydCBCYWxsTm9kZSBmcm9tICcuL0JhbGxOb2RlLmpzJztcclxuaW1wb3J0IFNpbUxpa2VDb21wb25lbnRzTW9kZWwgZnJvbSAnLi4vbW9kZWwvU2ltTGlrZUNvbXBvbmVudHNNb2RlbC5qcyc7XHJcbmltcG9ydCBCYWxsIGZyb20gJy4uL21vZGVsL0JhbGwuanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IE1BWF9CQUxMUyA9IDg7XHJcbmNvbnN0IEZPTlQgPSBuZXcgUGhldEZvbnQoIDE2ICk7XHJcblxyXG5jbGFzcyBTaW1MaWtlQ29tcG9uZW50c1NjcmVlblZpZXcgZXh0ZW5kcyBTY3JlZW5WaWV3IHtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBtb2RlbDogU2ltTGlrZUNvbXBvbmVudHNNb2RlbCApIHtcclxuXHJcbiAgICBzdXBlcigge1xyXG4gICAgICB0YW5kZW06IFRhbmRlbS5PUFRfT1VUXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gc2V0IHVwIHRoZSBtb2RlbCB2aWV3IHRyYW5zZm9ybVxyXG4gICAgY29uc3QgbW9kZWxWaWV3VHJhbnNmb3JtID0gTW9kZWxWaWV3VHJhbnNmb3JtMi5jcmVhdGVTaW5nbGVQb2ludFNjYWxlSW52ZXJ0ZWRZTWFwcGluZyhcclxuICAgICAgVmVjdG9yMi5aRVJPLFxyXG4gICAgICBuZXcgVmVjdG9yMiggdGhpcy5sYXlvdXRCb3VuZHMud2lkdGggKiAwLjI3NSwgdGhpcy5sYXlvdXRCb3VuZHMuaGVpZ2h0ICogMC41ICksXHJcbiAgICAgIDJcclxuICAgICk7XHJcblxyXG4gICAgLy8gYWRkIHRoZSBib3ggd2hlcmUgdGhlIGJhbGxzIGJvdW5jZSBhcm91bmRcclxuICAgIGNvbnN0IGJveE5vZGUgPSBuZXcgUGF0aCggbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3U2hhcGUoIG1vZGVsLmJveE9mQmFsbHMuYm94ICksIHtcclxuICAgICAgZmlsbDogJ3doaXRlJyxcclxuICAgICAgc3Ryb2tlOiAnYmxhY2snXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBib3hOb2RlICk7XHJcblxyXG4gICAgLy8gaGFuZGxlIGJhbGxzIGJlaW5nIGFkZGVkIHRvIG9yIHJlbW92ZWQgZnJvbSB0aGUgYm94XHJcbiAgICBtb2RlbC5ib3hPZkJhbGxzLmJhbGxzLmFkZEl0ZW1BZGRlZExpc3RlbmVyKCBhZGRlZEJhbGwgPT4ge1xyXG5cclxuICAgICAgLy8gYWRkIGEgbm9kZSB0aGF0IHJlcHJlc2VudHMgdGhlIGJhbGxcclxuICAgICAgY29uc3QgYmFsbE5vZGUgPSBuZXcgQmFsbE5vZGUoIGFkZGVkQmFsbCwgbW9kZWxWaWV3VHJhbnNmb3JtICk7XHJcbiAgICAgIHRoaXMuYWRkQ2hpbGQoIGJhbGxOb2RlICk7XHJcblxyXG4gICAgICAvLyBzZXQgdXAgYSBsaXN0ZW5lciB0byByZW1vdmUgdGhlIG5vZGVzIHdoZW4gdGhlIGNvcnJlc3BvbmRpbmcgYmFsbCBpcyByZW1vdmVkIGZyb20gdGhlIG1vZGVsXHJcbiAgICAgIGNvbnN0IHJlbW92YWxMaXN0ZW5lciA9ICggcmVtb3ZlZEJhbGw6IEJhbGwgKSA9PiB7XHJcbiAgICAgICAgaWYgKCByZW1vdmVkQmFsbCA9PT0gYWRkZWRCYWxsICkge1xyXG4gICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCggYmFsbE5vZGUgKTtcclxuICAgICAgICAgIGJhbGxOb2RlLmRpc3Bvc2UoKTtcclxuICAgICAgICAgIG1vZGVsLmJveE9mQmFsbHMuYmFsbHMucmVtb3ZlSXRlbVJlbW92ZWRMaXN0ZW5lciggcmVtb3ZhbExpc3RlbmVyICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBtb2RlbC5ib3hPZkJhbGxzLmJhbGxzLmFkZEl0ZW1SZW1vdmVkTGlzdGVuZXIoIHJlbW92YWxMaXN0ZW5lciApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGNyZWF0ZSBhbiBpbnZlcnRlZCB2ZXJzaW9uIG9mIHRoZSByZXNldC1pbi1wcm9ncmVzcyBQcm9wZXJ0eSwgdXNlZCB0byBtdXRlIHNvdW5kcyBkdXJpbmcgcmVzZXRcclxuICAgIGNvbnN0IHJlc2V0Tm90SW5Qcm9ncmVzc1Byb3BlcnR5ID0gbmV3IERlcml2ZWRQcm9wZXJ0eShcclxuICAgICAgWyBtb2RlbC5yZXNldEluUHJvZ3Jlc3NQcm9wZXJ0eSBdLFxyXG4gICAgICByZXNldEluUHJvZ3Jlc3MgPT4gIXJlc2V0SW5Qcm9ncmVzc1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBnZW5lcmF0ZSBzb3VuZCB3aGVuIGJhbGxzIGFyZSBhZGRlZCBvciByZW1vdmVkXHJcbiAgICBjb25zdCBwaXRjaGVkUG9wR2VuZXJhdG9yID0gbmV3IFBpdGNoZWRQb3BHZW5lcmF0b3IoIHsgZW5hYmxlQ29udHJvbFByb3BlcnRpZXM6IFsgcmVzZXROb3RJblByb2dyZXNzUHJvcGVydHkgXSB9ICk7XHJcbiAgICBzb3VuZE1hbmFnZXIuYWRkU291bmRHZW5lcmF0b3IoIHBpdGNoZWRQb3BHZW5lcmF0b3IgKTtcclxuICAgIG1vZGVsLmJveE9mQmFsbHMuYmFsbHMubGVuZ3RoUHJvcGVydHkubGF6eUxpbmsoIG51bUJhbGxzID0+IHtcclxuICAgICAgcGl0Y2hlZFBvcEdlbmVyYXRvci5wbGF5UG9wKCBudW1CYWxscyAvIE1BWF9CQUxMUyApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGFkZCBhIHN3aXRjaCB0byB0dXJuIGJhbGwgbW90aW9uIG9uIGFuZCBvZmZcclxuICAgIGNvbnN0IGJhbGxzTW92aW5nU3dpdGNoID0gbmV3IEFCU3dpdGNoKFxyXG4gICAgICBtb2RlbC5iYWxsc01vdmluZ1Byb3BlcnR5LFxyXG4gICAgICBmYWxzZSxcclxuICAgICAgbmV3IFRleHQoICdQYXVzZWQnLCB7IGZvbnQ6IEZPTlQgfSApLFxyXG4gICAgICB0cnVlLFxyXG4gICAgICBuZXcgVGV4dCggJ1J1bm5pbmcnLCB7IGZvbnQ6IEZPTlQgfSApLFxyXG4gICAgICB7XHJcbiAgICAgICAgdG9nZ2xlU3dpdGNoT3B0aW9uczogeyBzaXplOiBuZXcgRGltZW5zaW9uMiggNjAsIDMwICkgfSxcclxuICAgICAgICBjZW50ZXJYOiBib3hOb2RlLmNlbnRlclgsXHJcbiAgICAgICAgdG9wOiBib3hOb2RlLmJvdHRvbSArIDI1XHJcbiAgICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIGJhbGxzTW92aW5nU3dpdGNoICk7XHJcblxyXG4gICAgLy8gYWRkIGEgbnVtYmVyIHNwaW5uZXIgZm9yIGFkZGluZyBhbmQgcmVtb3ZpbmcgYmFsbHNcclxuICAgIGNvbnN0IGJhbGxDb3VudFNwaW5uZXIgPSBuZXcgTnVtYmVyU3Bpbm5lcihcclxuICAgICAgbW9kZWwubnVtYmVyT2ZCYWxsc1Byb3BlcnR5LFxyXG4gICAgICBuZXcgUHJvcGVydHkoIG5ldyBSYW5nZSggMCwgTUFYX0JBTExTICkgKSxcclxuICAgICAge1xyXG4gICAgICAgIG51bWJlckRpc3BsYXlPcHRpb25zOiB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kRmlsbDogJyNjY2NjY2MnLFxyXG4gICAgICAgICAgYmFja2dyb3VuZFN0cm9rZTogJ2dyZWVuJyxcclxuICAgICAgICAgIGJhY2tncm91bmRMaW5lV2lkdGg6IDMsXHJcbiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICB4TWFyZ2luOiAyMCxcclxuICAgICAgICAgIHlNYXJnaW46IDMsXHJcbiAgICAgICAgICB0ZXh0T3B0aW9uczoge1xyXG4gICAgICAgICAgICBmb250OiBuZXcgUGhldEZvbnQoIDM1IClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGFycm93c1Bvc2l0aW9uOiAnYm90aEJvdHRvbScsXHJcbiAgICAgICAgYXJyb3dCdXR0b25GaWxsOiAnbGlnaHRibHVlJyxcclxuICAgICAgICBhcnJvd0J1dHRvblN0cm9rZTogJ2JsdWUnLFxyXG4gICAgICAgIGFycm93QnV0dG9uTGluZVdpZHRoOiAwLjIsXHJcbiAgICAgICAgY2VudGVyWDogYmFsbHNNb3ZpbmdTd2l0Y2guY2VudGVyWCxcclxuICAgICAgICB0b3A6IGJhbGxzTW92aW5nU3dpdGNoLmJvdHRvbSArIDI1XHJcbiAgICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIGJhbGxDb3VudFNwaW5uZXIgKTtcclxuXHJcbiAgICAvLyBhZGQgdGhlIHJlc2V0IGFsbCBidXR0b25cclxuICAgIGNvbnN0IHJlc2V0QWxsQnV0dG9uID0gbmV3IFJlc2V0QWxsQnV0dG9uKCB7XHJcbiAgICAgIHJpZ2h0OiB0aGlzLmxheW91dEJvdW5kcy5tYXhYIC0gMjUsXHJcbiAgICAgIGJvdHRvbTogdGhpcy5sYXlvdXRCb3VuZHMubWF4WSAtIDI1LFxyXG4gICAgICBsaXN0ZW5lcjogKCkgPT4geyBtb2RlbC5yZXNldCgpOyB9XHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCByZXNldEFsbEJ1dHRvbiApO1xyXG4gIH1cclxufVxyXG5cclxudGFtYm8ucmVnaXN0ZXIoICdTaW1MaWtlQ29tcG9uZW50c1NjcmVlblZpZXcnLCBTaW1MaWtlQ29tcG9uZW50c1NjcmVlblZpZXcgKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNpbUxpa2VDb21wb25lbnRzU2NyZWVuVmlldzsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsZUFBZSxNQUFNLDJDQUEyQztBQUN2RSxPQUFPQyxRQUFRLE1BQU0sb0NBQW9DO0FBQ3pELE9BQU9DLFVBQVUsTUFBTSxxQ0FBcUM7QUFDNUQsT0FBT0MsS0FBSyxNQUFNLGdDQUFnQztBQUNsRCxPQUFPQyxPQUFPLE1BQU0sa0NBQWtDO0FBQ3RELE9BQU9DLFVBQVUsTUFBTSx1Q0FBdUM7QUFDOUQsT0FBT0MsbUJBQW1CLE1BQU0sMERBQTBEO0FBQzFGLE9BQU9DLGNBQWMsTUFBTSwwREFBMEQ7QUFDckYsT0FBT0MsUUFBUSxNQUFNLDRDQUE0QztBQUNqRSxTQUFTQyxJQUFJLEVBQUVDLElBQUksUUFBUSxzQ0FBc0M7QUFDakUsT0FBT0MsUUFBUSxNQUFN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