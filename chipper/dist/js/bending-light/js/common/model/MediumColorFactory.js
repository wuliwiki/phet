// Copyright 2015-2022, University of Colorado Boulder

/**
 * For determining the colors of different mediums as a function of characteristic index of refraction.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 * @author Chandrashekar Bemagoni (Actual Concepts)
 */

import Utils from '../../../../dot/js/Utils.js';
import { Color } from '../../../../scenery/js/imports.js';
import bendingLight from '../../bendingLight.js';
import Substance from './Substance.js';
import ColorModeEnum from './ColorModeEnum.js';
import EnumerationProperty from '../../../../axon/js/EnumerationProperty.js';
class MediumColorFactory {
  constructor() {
    this.lightTypeProperty = new EnumerationProperty(ColorModeEnum.SINGLE_COLOR);

    /**
     * Maps index of refraction to color using linear functions
     */
    this.getColorAgainstWhite = createProfile(new Color(255, 255, 255), new Color(198, 226, 246), new Color(171, 169, 212), new Color(78, 79, 164));
    this.getColorAgainstBlack = createProfile(new Color(step * 0, step * 0, step * 0), new Color(step * 1, step * 1, step * 1), new Color(step * 2, step * 2, step * 2), new Color(step * 3, step * 3, step * 3));
  }
  getColor(indexForRed) {
    return this.lightTypeProperty.value === ColorModeEnum.SINGLE_COLOR ? this.getColorAgainstWhite(indexForRed) : this.getColorAgainstBlack(indexForRed);
  }
}

/**
 * Make sure light doesn't go outside of the 0..255 bounds
 */
const clamp = value => Utils.clamp(value, 0, 255);

/**
 * Blend colors a and b with the specified amount of "b" to use between 0 and 1
 */
const colorBlend = (a, b, ratio) => {
  const reduction = 1 - ratio;
  return new Color(clamp(a.getRed() * reduction + b.getRed() * ratio), clamp(a.getGreen() * reduction + b.getGreen() * ratio), clamp(a.getBlue() * reduction + b.getBlue() * ratio), clamp(a.getAlpha() * reduction + b.getAlpha() * ratio));
};
const createProfile = (AIR_COLOR, WATER_COLOR, GLASS_COLOR, DIAMOND_COLOR) => indexForRed => {
  // precompute to improve readability below
  const waterIndexForRed = Substance.WATER.indexOfRefractionForRedLight;
  const glassIndexForRed = Substance.GLASS.indexOfRefractionForRedLight;
  const diamondIndexForRed = Substance.DIAMOND.indexOfRefractionForRedLight;

  // find out what region the index of refraction lies in, and linearly interpolate between adjacent medium colors
  let ratio;
  if (indexForRed < waterIndexForRed) {
    // Map the values between 1 and waterIndexForRed to (0,1) linearly
    ratio = Utils.linear(1.0, waterIndexForRed, 0, 1, indexForRed);
    return colorBlend(AIR_COLOR, WATER_COLOR, ratio);
  } else {
    if (indexForRed < glassIndexForRed) {
      // Map the values between waterIndexForRed and glassIndexForRed to (0,1) linearly
      ratio = Utils.linear(waterIndexForRed, glassIndexForRed, 0, 1, indexForRed);
      return colorBlend(WATER_COLOR, GLASS_COLOR, ratio);
    } else {
      if (indexForRed < diamondIndexForRed) {
        // Map the values between glassIndexForRed and diamondIndexForRed to (0,1) linearly
        ratio = Utils.linear(glassIndexForRed, diamondIndexForRed, 0, 1, indexForRed);
        return colorBlend(GLASS_COLOR, DIAMOND_COLOR, ratio);
      } else {
        return DIAMOND_COLOR;
      }
    }
  }
};

// distance between adjacent colors for shades of gray against the black background
const step = 55;
bendingLight.register('MediumColorFactory', MediumColorFactory);
export default MediumColorFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVdGlscyIsIkNvbG9yIiwiYmVuZGluZ0xpZ2h0IiwiU3Vic3RhbmNlIiwiQ29sb3JNb2RlRW51bSIsIkVudW1lcmF0aW9uUHJvcGVydHkiLCJNZWRpdW1Db2xvckZhY3RvcnkiLCJjb25zdHJ1Y3RvciIsImxpZ2h0VHlwZVByb3BlcnR5IiwiU0lOR0xFX0NPTE9SIiwiZ2V0Q29sb3JBZ2FpbnN0V2hpdGUiLCJjcmVhdGVQcm9maWxlIiwiZ2V0Q29sb3JBZ2FpbnN0QmxhY2siLCJzdGVwIiwiZ2V0Q29sb3IiLCJpbmRleEZvclJlZCIsInZhbHVlIiwiY2xhbXAiLCJjb2xvckJsZW5kIiwiYSIsImIiLCJyYXRpbyIsInJlZHVjdGlvbiIsImdldFJlZCIsImdldEdyZWVuIiwiZ2V0Qmx1ZSIsImdldEFscGhhIiwiQUlSX0NPTE9SIiwiV0FURVJfQ09MT1IiLCJHTEFTU19DT0xPUiIsIkRJQU1PTkRfQ09MT1IiLCJ3YXRlckluZGV4Rm9yUmVkIiwiV0FURVIiLCJpbmRleE9mUmVmcmFjdGlvbkZvclJlZExpZ2h0IiwiZ2xhc3NJbmRleEZvclJlZCIsIkdMQVNTIiwiZGlhbW9uZEluZGV4Rm9yUmVkIiwiRElBTU9ORCIsImxpbmVhciIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiTWVkaXVtQ29sb3JGYWN0b3J5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE1LTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEZvciBkZXRlcm1pbmluZyB0aGUgY29sb3JzIG9mIGRpZmZlcmVudCBtZWRpdW1zIGFzIGEgZnVuY3Rpb24gb2YgY2hhcmFjdGVyaXN0aWMgaW5kZXggb2YgcmVmcmFjdGlvbi5cclxuICpcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICogQGF1dGhvciBDaGFuZHJhc2hla2FyIEJlbWFnb25pIChBY3R1YWwgQ29uY2VwdHMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgYmVuZGluZ0xpZ2h0IGZyb20gJy4uLy4uL2JlbmRpbmdMaWdodC5qcyc7XHJcbmltcG9ydCBTdWJzdGFuY2UgZnJvbSAnLi9TdWJzdGFuY2UuanMnO1xyXG5pbXBvcnQgQ29sb3JNb2RlRW51bSBmcm9tICcuL0NvbG9yTW9kZUVudW0uanMnO1xyXG5pbXBvcnQgRW51bWVyYXRpb25Qcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0VudW1lcmF0aW9uUHJvcGVydHkuanMnO1xyXG5cclxuY2xhc3MgTWVkaXVtQ29sb3JGYWN0b3J5IHtcclxuICBwdWJsaWMgbGlnaHRUeXBlUHJvcGVydHk6IFByb3BlcnR5PENvbG9yTW9kZUVudW0+O1xyXG4gIHB1YmxpYyBnZXRDb2xvckFnYWluc3RXaGl0ZTogKCBpbmRleEZvclJlZDogbnVtYmVyICkgPT4gQ29sb3I7XHJcbiAgcHJpdmF0ZSBnZXRDb2xvckFnYWluc3RCbGFjazogKCBpbmRleEZvclJlZDogbnVtYmVyICkgPT4gQ29sb3I7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMubGlnaHRUeXBlUHJvcGVydHkgPSBuZXcgRW51bWVyYXRpb25Qcm9wZXJ0eSggQ29sb3JNb2RlRW51bS5TSU5HTEVfQ09MT1IgKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgaW5kZXggb2YgcmVmcmFjdGlvbiB0byBjb2xvciB1c2luZyBsaW5lYXIgZnVuY3Rpb25zXHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2V0Q29sb3JBZ2FpbnN0V2hpdGUgPSBjcmVhdGVQcm9maWxlKFxyXG4gICAgICBuZXcgQ29sb3IoIDI1NSwgMjU1LCAyNTUgKSxcclxuICAgICAgbmV3IENvbG9yKCAxOTgsIDIyNiwgMjQ2ICksXHJcbiAgICAgIG5ldyBDb2xvciggMTcxLCAxNjksIDIxMiApLFxyXG4gICAgICBuZXcgQ29sb3IoIDc4LCA3OSwgMTY0IClcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRDb2xvckFnYWluc3RCbGFjayA9IGNyZWF0ZVByb2ZpbGUoXHJcbiAgICAgIG5ldyBDb2xvciggc3RlcCAqIDAsIHN0ZXAgKiAwLCBzdGVwICogMCApLFxyXG4gICAgICBuZXcgQ29sb3IoIHN0ZXAgKiAxLCBzdGVwICogMSwgc3RlcCAqIDEgKSxcclxuICAgICAgbmV3IENvbG9yKCBzdGVwICogMiwgc3RlcCAqIDIsIHN0ZXAgKiAyICksXHJcbiAgICAgIG5ldyBDb2xvciggc3RlcCAqIDMsIHN0ZXAgKiAzLCBzdGVwICogMyApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENvbG9yKCBpbmRleEZvclJlZDogbnVtYmVyICk6IENvbG9yIHtcclxuICAgIHJldHVybiB0aGlzLmxpZ2h0VHlwZVByb3BlcnR5LnZhbHVlID09PSBDb2xvck1vZGVFbnVtLlNJTkdMRV9DT0xPUiA/XHJcbiAgICAgICAgICAgdGhpcy5nZXRDb2xvckFnYWluc3RXaGl0ZSggaW5kZXhGb3JSZWQgKSA6XHJcbiAgICAgICAgICAgdGhpcy5nZXRDb2xvckFnYWluc3RCbGFjayggaW5kZXhGb3JSZWQgKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNYWtlIHN1cmUgbGlnaHQgZG9lc24ndCBnbyBvdXRzaWRlIG9mIHRoZSAwLi4yNTUgYm91bmRzXHJcbiAqL1xyXG5jb25zdCBjbGFtcCA9ICggdmFsdWU6IG51bWJlciApID0+IFV0aWxzLmNsYW1wKCB2YWx1ZSwgMCwgMjU1ICk7XHJcblxyXG4vKipcclxuICogQmxlbmQgY29sb3JzIGEgYW5kIGIgd2l0aCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiBcImJcIiB0byB1c2UgYmV0d2VlbiAwIGFuZCAxXHJcbiAqL1xyXG5jb25zdCBjb2xvckJsZW5kID0gKCBhOiBDb2xvciwgYjogQ29sb3IsIHJhdGlvOiBudW1iZXIgKTogQ29sb3IgPT4ge1xyXG4gIGNvbnN0IHJlZHVjdGlvbiA9ICggMSAtIHJhdGlvICk7XHJcbiAgcmV0dXJuIG5ldyBDb2xvcihcclxuICAgIGNsYW1wKCBhLmdldFJlZCgpICogcmVkdWN0aW9uICsgYi5nZXRSZWQoKSAqIHJhdGlvICksXHJcbiAgICBjbGFtcCggYS5nZXRHcmVlbigpICogcmVkdWN0aW9uICsgYi5nZXRHcmVlbigpICogcmF0aW8gKSxcclxuICAgIGNsYW1wKCBhLmdldEJsdWUoKSAqIHJlZHVjdGlvbiArIGIuZ2V0Qmx1ZSgpICogcmF0aW8gKSxcclxuICAgIGNsYW1wKCBhLmdldEFscGhhKCkgKiByZWR1Y3Rpb24gKyBiLmdldEFscGhhKCkgKiByYXRpbyApXHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVByb2ZpbGUgPSAoIEFJUl9DT0xPUjogQ29sb3IsIFdBVEVSX0NPTE9SOiBDb2xvciwgR0xBU1NfQ09MT1I6IENvbG9yLCBESUFNT05EX0NPTE9SOiBDb2xvciApID0+ICggaW5kZXhGb3JSZWQ6IG51bWJlciApID0+IHtcclxuXHJcbiAgLy8gcHJlY29tcHV0ZSB0byBpbXByb3ZlIHJlYWRhYmlsaXR5IGJlbG93XHJcbiAgY29uc3Qgd2F0ZXJJbmRleEZvclJlZCA9IFN1YnN0YW5jZS5XQVRFUi5pbmRleE9mUmVmcmFjdGlvbkZvclJlZExpZ2h0O1xyXG4gIGNvbnN0IGdsYXNzSW5kZXhGb3JSZWQgPSBTdWJzdGFuY2UuR0xBU1MuaW5kZXhPZlJlZnJhY3Rpb25Gb3JSZWRMaWdodDtcclxuICBjb25zdCBkaWFtb25kSW5kZXhGb3JSZWQgPSBTdWJzdGFuY2UuRElBTU9ORC5pbmRleE9mUmVmcmFjdGlvbkZvclJlZExpZ2h0O1xyXG5cclxuICAvLyBmaW5kIG91dCB3aGF0IHJlZ2lvbiB0aGUgaW5kZXggb2YgcmVmcmFjdGlvbiBsaWVzIGluLCBhbmQgbGluZWFybHkgaW50ZXJwb2xhdGUgYmV0d2VlbiBhZGphY2VudCBtZWRpdW0gY29sb3JzXHJcbiAgbGV0IHJhdGlvO1xyXG4gIGlmICggaW5kZXhGb3JSZWQgPCB3YXRlckluZGV4Rm9yUmVkICkge1xyXG5cclxuICAgIC8vIE1hcCB0aGUgdmFsdWVzIGJldHdlZW4gMSBhbmQgd2F0ZXJJbmRleEZvclJlZCB0byAoMCwxKSBsaW5lYXJseVxyXG4gICAgcmF0aW8gPSBVdGlscy5saW5lYXIoIDEuMCwgd2F0ZXJJbmRleEZvclJlZCwgMCwgMSwgaW5kZXhGb3JSZWQgKTtcclxuICAgIHJldHVybiBjb2xvckJsZW5kKCBBSVJfQ09MT1IsIFdBVEVSX0NPTE9SLCByYXRpbyApO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGlmICggaW5kZXhGb3JSZWQgPCBnbGFzc0luZGV4Rm9yUmVkICkge1xyXG5cclxuICAgICAgLy8gTWFwIHRoZSB2YWx1ZXMgYmV0d2VlbiB3YXRlckluZGV4Rm9yUmVkIGFuZCBnbGFzc0luZGV4Rm9yUmVkIHRvICgwLDEpIGxpbmVhcmx5XHJcbiAgICAgIHJhdGlvID0gVXRpbHMubGluZWFyKCB3YXRlckluZGV4Rm9yUmVkLCBnbGFzc0luZGV4Rm9yUmVkLCAwLCAxLCBpbmRleEZvclJlZCApO1xyXG4gICAgICByZXR1cm4gY29sb3JCbGVuZCggV0FURVJfQ09MT1IsIEdMQVNTX0NPTE9SLCByYXRpbyApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGlmICggaW5kZXhGb3JSZWQgPCBkaWFtb25kSW5kZXhGb3JSZWQgKSB7XHJcblxyXG4gICAgICAgIC8vIE1hcCB0aGUgdmFsdWVzIGJldHdlZW4gZ2xhc3NJbmRleEZvclJlZCBhbmQgZGlhbW9uZEluZGV4Rm9yUmVkIHRvICgwLDEpIGxpbmVhcmx5XHJcbiAgICAgICAgcmF0aW8gPSBVdGlscy5saW5lYXIoIGdsYXNzSW5kZXhGb3JSZWQsIGRpYW1vbmRJbmRleEZvclJlZCwgMCwgMSwgaW5kZXhGb3JSZWQgKTtcclxuICAgICAgICByZXR1cm4gY29sb3JCbGVuZCggR0xBU1NfQ09MT1IsIERJQU1PTkRfQ09MT1IsIHJhdGlvICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIERJQU1PTkRfQ09MT1I7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG4vLyBkaXN0YW5jZSBiZXR3ZWVuIGFkamFjZW50IGNvbG9ycyBmb3Igc2hhZGVzIG9mIGdyYXkgYWdhaW5zdCB0aGUgYmxhY2sgYmFja2dyb3VuZFxyXG5jb25zdCBzdGVwID0gNTU7XHJcbmJlbmRpbmdMaWdodC5yZWdpc3RlciggJ01lZGl1bUNvbG9yRmFjdG9yeScsIE1lZGl1bUNvbG9yRmFjdG9yeSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWVkaXVtQ29sb3JGYWN0b3J5OyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBLE9BQU9BLEtBQUssTUFBTSw2QkFBNkI7QUFDL0MsU0FBU0MsS0FBSyxRQUFRLG1DQUFtQztBQUN6RCxPQUFPQyxZQUFZLE1BQU0sdUJBQXVCO0FBQ2hELE9BQU9DLFNBQVMsTUFBTSxnQkFBZ0I7QUFDdEMsT0FBT0MsYUFBYSxNQUFNLG9CQUFvQjtBQUM5QyxPQUFPQyxtQkFBbUIsTUFBTSw0Q0FBNEM7QUFFNUUsTUFBTUMsa0JBQWtCLENBQUM7RUFLaEJDLFdBQVdBLENBQUEsRUFBRztJQUNuQixJQUFJLENBQUNDLGlCQUFpQixHQUFHLElBQUlILG1CQUFtQixDQUFFRCxhQUFhLENBQUNLLFlBQWEsQ0FBQzs7SUFFOUU7QUFDSjtBQUNBO0lBQ0ksSUFBSSxDQUFDQyxvQkFBb0IsR0FBR0MsYUFBYSxDQUN2QyxJQUFJVixLQUFLLENBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFJLENBQUMsRUFDMUIsSUFBSUEsS0FBSyxDQUFFLEdBQUcsRUFB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