// Copyright 2015-2022, University of Colorado Boulder

/**
 * Shape that comprises a prism.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 * @author Chandrashekar Bemagoni (Actual Concepts)
 */

import { Arc, Line, Shape } from '../../../../kite/js/imports.js';
import bendingLight from '../../bendingLight.js';
import PrismIntersection from './PrismIntersection.js';
class SemiCircle {
  /**
   * @param referencePointIndex - is used as the drag handle corner for rotation
   * @param points - corner points
   * @param radius - radius of semicircle
   */
  constructor(referencePointIndex, points, radius) {
    this.points = points;

    // Index for the point used as the "reference" point, which is used as the drag handle corner for rotation
    this.referencePointIndex = referencePointIndex;
    this.radius = radius;
    this.center = this.points[0].plus(this.points[1]).multiplyScalar(0.5); // (read-only)
    this.centroid = this.center;

    // Creates a shape
    const startAngle = Math.atan2(this.center.y - this.points[1].y, this.center.x - this.points[1].x);

    // (read-only) - the shape of the semi-circle
    this.shape = new Shape().ellipticalArcPoint(this.center, this.radius, this.radius, 0, startAngle, startAngle + Math.PI, false).close();
  }

  /**
   * Get the specified corner point
   * @param i - index of point
   */
  getPoint(i) {
    return this.points[i];
  }

  /**
   * Create a new SemiCircle translated by the specified amount
   * @param deltaX - distance in x direction to be translated
   * @param deltaY - distance in y direction to be translated
   */
  getTranslatedInstance(deltaX, deltaY) {
    const newPoints = [];
    for (let j = 0; j < this.points.length; j++) {
      // get new points after rotating
      newPoints.push(this.points[j].plusXY(deltaX, deltaY));
    }

    // create a new SemiCircle with rotated points
    return new SemiCircle(this.referencePointIndex, newPoints, this.radius);
  }

  /**
   * Gets a rotated copy of this SemiCircle
   * @param angle - angle to be rotated
   * @param rotationPoint - point around which semicircle to be rotated
   */
  getRotatedInstance(angle, rotationPoint) {
    const newPoints = [];
    for (let k = 0; k < this.points.length; k++) {
      const vectorAboutCentroid = this.points[k].subtract(rotationPoint);
      const rotated = vectorAboutCentroid.rotate(angle);

      // get new points after rotating
      newPoints.push(rotated.add(rotationPoint));
    }

    // create a new SemiCircle with rotated points
    return new SemiCircle(this.referencePointIndex, newPoints, this.radius);
  }

  /**
   * Determines whether shape contains given point or not
   */
  containsPoint(point) {
    return this.shape.containsPoint(point);
  }

  /**
   * Just use the 0th point for the reference point for rotation drag handles
   */
  getReferencePoint() {
    return this.getPoint(this.referencePointIndex);
  }

  /**
   * Computes the centroid of the corner points (e.g. the center of "mass" assuming the corner points have equal
   * "mass")
   */
  getRotationCenter() {
    return this.center;
  }

  /**
   * Compute the intersections of the specified ray with this polygon's edges
   * @param ray - model of the ray
   */
  getIntersections(ray) {
    const segment = new Line(this.points[0], this.points[1]);
    const startAngle = Math.atan2(this.points[1].y - this.center.y, this.points[1].x - this.center.x);
    const arc = new Arc(this.center, this.radius, startAngle, startAngle + Math.PI, true);
    return PrismIntersection.getIntersections([segment], arc, this.center, ray);
  }
}
bendingLight.register('SemiCircle', SemiCircle);
export default SemiCircle;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcmMiLCJMaW5lIiwiU2hhcGUiLCJiZW5kaW5nTGlnaHQiLCJQcmlzbUludGVyc2VjdGlvbiIsIlNlbWlDaXJjbGUiLCJjb25zdHJ1Y3RvciIsInJlZmVyZW5jZVBvaW50SW5kZXgiLCJwb2ludHMiLCJyYWRpdXMiLCJjZW50ZXIiLCJwbHVzIiwibXVsdGlwbHlTY2FsYXIiLCJjZW50cm9pZCIsInN0YXJ0QW5nbGUiLCJNYXRoIiwiYXRhbjIiLCJ5IiwieCIsInNoYXBlIiwiZWxsaXB0aWNhbEFyY1BvaW50IiwiUEkiLCJjbG9zZSIsImdldFBvaW50IiwiaSIsImdldFRyYW5zbGF0ZWRJbnN0YW5jZSIsImRlbHRhWCIsImRlbHRhWSIsIm5ld1BvaW50cyIsImoiLCJsZW5ndGgiLCJwdXNoIiwicGx1c1hZIiwiZ2V0Um90YXRlZEluc3RhbmNlIiwiYW5nbGUiLCJyb3RhdGlvblBvaW50IiwiayIsInZlY3RvckFib3V0Q2VudHJvaWQiLCJzdWJ0cmFjdCIsInJvdGF0ZWQiLCJyb3RhdGUiLCJhZGQiLCJjb250YWluc1BvaW50IiwicG9pbnQiLCJnZXRSZWZlcmVuY2VQb2ludCIsImdldFJvdGF0aW9uQ2VudGVyIiwiZ2V0SW50ZXJzZWN0aW9ucyIsInJheSIsInNlZ21lbnQiLCJhcmMiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlNlbWlDaXJjbGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTUtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU2hhcGUgdGhhdCBjb21wcmlzZXMgYSBwcmlzbS5cclxuICpcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICogQGF1dGhvciBDaGFuZHJhc2hla2FyIEJlbWFnb25pIChBY3R1YWwgQ29uY2VwdHMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgeyBBcmMsIExpbmUsIFNoYXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4va2l0ZS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IGJlbmRpbmdMaWdodCBmcm9tICcuLi8uLi9iZW5kaW5nTGlnaHQuanMnO1xyXG5pbXBvcnQgUHJpc21JbnRlcnNlY3Rpb24gZnJvbSAnLi9QcmlzbUludGVyc2VjdGlvbi5qcyc7XHJcbmltcG9ydCBDb2xvcmVkUmF5IGZyb20gJy4vQ29sb3JlZFJheS5qcyc7XHJcbmltcG9ydCBJbnRlcnNlY3Rpb24gZnJvbSAnLi9JbnRlcnNlY3Rpb24uanMnO1xyXG5cclxuY2xhc3MgU2VtaUNpcmNsZSB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBwb2ludHM6IFZlY3RvcjJbXTtcclxuICBwcml2YXRlIHJlYWRvbmx5IHJlZmVyZW5jZVBvaW50SW5kZXg6IG51bWJlcjtcclxuICBwcml2YXRlIHJlYWRvbmx5IHJhZGl1czogbnVtYmVyO1xyXG4gIHByaXZhdGUgY2VudGVyOiBWZWN0b3IyO1xyXG4gIHB1YmxpYyBjZW50cm9pZDogVmVjdG9yMjtcclxuICBwdWJsaWMgc2hhcGU6IFNoYXBlO1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gcmVmZXJlbmNlUG9pbnRJbmRleCAtIGlzIHVzZWQgYXMgdGhlIGRyYWcgaGFuZGxlIGNvcm5lciBmb3Igcm90YXRpb25cclxuICAgKiBAcGFyYW0gcG9pbnRzIC0gY29ybmVyIHBvaW50c1xyXG4gICAqIEBwYXJhbSByYWRpdXMgLSByYWRpdXMgb2Ygc2VtaWNpcmNsZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggcmVmZXJlbmNlUG9pbnRJbmRleDogbnVtYmVyLCBwb2ludHM6IFZlY3RvcjJbXSwgcmFkaXVzOiBudW1iZXIgKSB7XHJcblxyXG4gICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XHJcblxyXG4gICAgLy8gSW5kZXggZm9yIHRoZSBwb2ludCB1c2VkIGFzIHRoZSBcInJlZmVyZW5jZVwiIHBvaW50LCB3aGljaCBpcyB1c2VkIGFzIHRoZSBkcmFnIGhhbmRsZSBjb3JuZXIgZm9yIHJvdGF0aW9uXHJcbiAgICB0aGlzLnJlZmVyZW5jZVBvaW50SW5kZXggPSByZWZlcmVuY2VQb2ludEluZGV4O1xyXG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XHJcbiAgICB0aGlzLmNlbnRlciA9IHRoaXMucG9pbnRzWyAwIF0ucGx1cyggdGhpcy5wb2ludHNbIDEgXSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTsgLy8gKHJlYWQtb25seSlcclxuICAgIHRoaXMuY2VudHJvaWQgPSB0aGlzLmNlbnRlcjtcclxuXHJcbiAgICAvLyBDcmVhdGVzIGEgc2hhcGVcclxuICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKCB0aGlzLmNlbnRlci55IC0gdGhpcy5wb2ludHNbIDEgXS55LCB0aGlzLmNlbnRlci54IC0gdGhpcy5wb2ludHNbIDEgXS54ICk7XHJcblxyXG4gICAgLy8gKHJlYWQtb25seSkgLSB0aGUgc2hhcGUgb2YgdGhlIHNlbWktY2lyY2xlXHJcbiAgICB0aGlzLnNoYXBlID0gbmV3IFNoYXBlKClcclxuICAgICAgLmVsbGlwdGljYWxBcmNQb2ludCggdGhpcy5jZW50ZXIsIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cywgMCwgc3RhcnRBbmdsZSwgc3RhcnRBbmdsZSArIE1hdGguUEksIGZhbHNlIClcclxuICAgICAgLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHNwZWNpZmllZCBjb3JuZXIgcG9pbnRcclxuICAgKiBAcGFyYW0gaSAtIGluZGV4IG9mIHBvaW50XHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXRQb2ludCggaTogbnVtYmVyICk6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMucG9pbnRzWyBpIF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBuZXcgU2VtaUNpcmNsZSB0cmFuc2xhdGVkIGJ5IHRoZSBzcGVjaWZpZWQgYW1vdW50XHJcbiAgICogQHBhcmFtIGRlbHRhWCAtIGRpc3RhbmNlIGluIHggZGlyZWN0aW9uIHRvIGJlIHRyYW5zbGF0ZWRcclxuICAgKiBAcGFyYW0gZGVsdGFZIC0gZGlzdGFuY2UgaW4geSBkaXJlY3Rpb24gdG8gYmUgdHJhbnNsYXRlZFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRUcmFuc2xhdGVkSW5zdGFuY2UoIGRlbHRhWDogbnVtYmVyLCBkZWx0YVk6IG51bWJlciApOiBTZW1pQ2lyY2xlIHtcclxuXHJcbiAgICBjb25zdCBuZXdQb2ludHMgPSBbXTtcclxuICAgIGZvciAoIGxldCBqID0gMDsgaiA8IHRoaXMucG9pbnRzLmxlbmd0aDsgaisrICkge1xyXG5cclxuICAgICAgLy8gZ2V0IG5ldyBwb2ludHMgYWZ0ZXIgcm90YXRpbmdcclxuICAgICAgbmV3UG9pbnRzLnB1c2goIHRoaXMucG9pbnRzWyBqIF0ucGx1c1hZKCBkZWx0YVgsIGRlbHRhWSApICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY3JlYXRlIGEgbmV3IFNlbWlDaXJjbGUgd2l0aCByb3RhdGVkIHBvaW50c1xyXG4gICAgcmV0dXJuIG5ldyBTZW1pQ2lyY2xlKCB0aGlzLnJlZmVyZW5jZVBvaW50SW5kZXgsIG5ld1BvaW50cywgdGhpcy5yYWRpdXMgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgYSByb3RhdGVkIGNvcHkgb2YgdGhpcyBTZW1pQ2lyY2xlXHJcbiAgICogQHBhcmFtIGFuZ2xlIC0gYW5nbGUgdG8gYmUgcm90YXRlZFxyXG4gICAqIEBwYXJhbSByb3RhdGlvblBvaW50IC0gcG9pbnQgYXJvdW5kIHdoaWNoIHNlbWljaXJjbGUgdG8gYmUgcm90YXRlZFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRSb3RhdGVkSW5zdGFuY2UoIGFuZ2xlOiBudW1iZXIsIHJvdGF0aW9uUG9pbnQ6IFZlY3RvcjIgKTogU2VtaUNpcmNsZSB7XHJcbiAgICBjb25zdCBuZXdQb2ludHMgPSBbXTtcclxuICAgIGZvciAoIGxldCBrID0gMDsgayA8IHRoaXMucG9pbnRzLmxlbmd0aDsgaysrICkge1xyXG4gICAgICBjb25zdCB2ZWN0b3JBYm91dENlbnRyb2lkID0gdGhpcy5wb2ludHNbIGsgXS5zdWJ0cmFjdCggcm90YXRpb25Qb2ludCApO1xyXG4gICAgICBjb25zdCByb3RhdGVkID0gdmVjdG9yQWJvdXRDZW50cm9pZC5yb3RhdGUoIGFuZ2xlICk7XHJcblxyXG4gICAgICAvLyBnZXQgbmV3IHBvaW50cyBhZnRlciByb3RhdGluZ1xyXG4gICAgICBuZXdQb2ludHMucHVzaCggcm90YXRlZC5hZGQoIHJvdGF0aW9uUG9pbnQgKSApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNyZWF0ZSBhIG5ldyBTZW1pQ2lyY2xlIHdpdGggcm90YXRlZCBwb2ludHNcclxuICAgIHJldHVybiBuZXcgU2VtaUNpcmNsZSggdGhpcy5yZWZlcmVuY2VQb2ludEluZGV4LCBuZXdQb2ludHMsIHRoaXMucmFkaXVzICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgc2hhcGUgY29udGFpbnMgZ2l2ZW4gcG9pbnQgb3Igbm90XHJcbiAgICovXHJcbiAgcHVibGljIGNvbnRhaW5zUG9pbnQoIHBvaW50OiBWZWN0b3IyICk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2hhcGUuY29udGFpbnNQb2ludCggcG9pbnQgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEp1c3QgdXNlIHRoZSAwdGggcG9pbnQgZm9yIHRoZSByZWZlcmVuY2UgcG9pbnQgZm9yIHJvdGF0aW9uIGRyYWcgaGFuZGxlc1xyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRSZWZlcmVuY2VQb2ludCgpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLmdldFBvaW50KCB0aGlzLnJlZmVyZW5jZVBvaW50SW5kZXggKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXB1dGVzIHRoZSBjZW50cm9pZCBvZiB0aGUgY29ybmVyIHBvaW50cyAoZS5nLiB0aGUgY2VudGVyIG9mIFwibWFzc1wiIGFzc3VtaW5nIHRoZSBjb3JuZXIgcG9pbnRzIGhhdmUgZXF1YWxcclxuICAgKiBcIm1hc3NcIilcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0Um90YXRpb25DZW50ZXIoKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gdGhpcy5jZW50ZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBpbnRlcnNlY3Rpb25zIG9mIHRoZSBzcGVjaWZpZWQgcmF5IHdpdGggdGhpcyBwb2x5Z29uJ3MgZWRnZXNcclxuICAgKiBAcGFyYW0gcmF5IC0gbW9kZWwgb2YgdGhlIHJheVxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRJbnRlcnNlY3Rpb25zKCByYXk6IENvbG9yZWRSYXkgKTogSW50ZXJzZWN0aW9uW10ge1xyXG4gICAgY29uc3Qgc2VnbWVudCA9IG5ldyBMaW5lKCB0aGlzLnBvaW50c1sgMCBdLCB0aGlzLnBvaW50c1sgMSBdICk7XHJcbiAgICBjb25zdCBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMiggdGhpcy5wb2ludHNbIDEgXS55IC0gdGhpcy5jZW50ZXIueSwgdGhpcy5wb2ludHNbIDEgXS54IC0gdGhpcy5jZW50ZXIueCApO1xyXG4gICAgY29uc3QgYXJjID0gbmV3IEFyYyggdGhpcy5jZW50ZXIsIHRoaXMucmFkaXVzLCBzdGFydEFuZ2xlLCBzdGFydEFuZ2xlICsgTWF0aC5QSSwgdHJ1ZSApO1xyXG4gICAgcmV0dXJuIFByaXNtSW50ZXJzZWN0aW9uLmdldEludGVyc2VjdGlvbnMoIFsgc2VnbWVudCBdLCBhcmMsIHRoaXMuY2VudGVyLCByYXkgKTtcclxuICB9XHJcbn1cclxuXHJcbmJlbmRpbmdMaWdodC5yZWdpc3RlciggJ1NlbWlDaXJjbGUnLCBTZW1pQ2lyY2xlICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZW1pQ2lyY2xlOyJdLCJtYXBwaW5ncyI6IkFB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