// Copyright 2018-2022, University of Colorado Boulder

/**
 * Container for the rectangular representation
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import Bounds2 from '../../../../../dot/js/Bounds2.js';
import { Shape } from '../../../../../kite/js/imports.js';
import merge from '../../../../../phet-core/js/merge.js';
import { Path, Rectangle } from '../../../../../scenery/js/imports.js';
import FractionsCommonConstants from '../../../common/FractionsCommonConstants.js';
import FractionsCommonColors from '../../../common/view/FractionsCommonColors.js';
import fractionsCommon from '../../../fractionsCommon.js';
import Container from '../../model/Container.js';
import CellContainerNode from '../CellContainerNode.js';
import RectangularOrientation from '../RectangularOrientation.js';
import RectangularNode from './RectangularNode.js';
class RectangularContainerNode extends CellContainerNode {
  /**
   * @param {Container} container
   * @param {Object} [options]
   */
  constructor(container, options) {
    assert && assert(container instanceof Container);
    options = merge({
      rectangularOrientation: RectangularOrientation.VERTICAL
    }, options);
    assert && assert(RectangularOrientation.includes(options.rectangularOrientation));
    super(container, options);

    // @private {RectangularOrientation}
    this.rectangularOrientation = options.rectangularOrientation;

    // @private {Dimension2} - The full size of the rectangle to use
    this.size = RectangularNode.getSize(options.rectangularOrientation);
    const rectBounds = Bounds2.point(0, 0).dilatedXY(this.size.width / 2, this.size.height / 2);

    // @private {Rectangle}
    this.backgroundRectangle = new Rectangle({
      fill: FractionsCommonColors.introContainerBackgroundProperty,
      rectBounds: rectBounds
    });
    this.addChild(this.backgroundRectangle);

    // @private {Path}
    this.cellDividersPath = new Path(null, {
      stroke: this.strokeProperty
    });
    this.addChild(this.cellDividersPath);

    // @private {Rectangle}
    this.borderRectangle = new Rectangle({
      lineWidth: FractionsCommonConstants.INTRO_CONTAINER_LINE_WIDTH,
      stroke: this.strokeProperty,
      rectBounds: rectBounds.dilated(0.5) // Extend by 0.5 so that our cell fills don't overlap our border
    });

    this.addChild(this.borderRectangle);
    this.rebuild();
    this.mutate(options);
  }

  /**
   * Rebuilds the full container (required when the number of cells changes).
   * @protected
   * @override
   */
  rebuild() {
    super.rebuild();
    const denominator = this.container.cells.length;
    const cellWidth = this.size.width / denominator;
    const cellHeight = this.size.height / denominator;
    const mapCellX = index => (index - (denominator - 1) / 2) * cellWidth;
    const mapCellY = index => (index - (denominator - 1) / 2) * cellHeight;
    for (let i = 0; i < denominator; i++) {
      const cell = this.container.cells.get(i);
      const cellNode = new RectangularNode(denominator, {
        rectangularOrientation: this.rectangularOrientation,
        colorOverride: this.colorOverride
      });
      if (this.rectangularOrientation === RectangularOrientation.HORIZONTAL) {
        cellNode.x = mapCellX(i);
      } else {
        cellNode.y = mapCellY(i);
      }
      this.addCellNode(cell, cellNode);
    }
    if (this.rectangularOrientation === RectangularOrientation.VERTICAL) {
      // sets the shape of the dividing lines between cells
      const cellDividersShape = new Shape();
      for (let i = 0; i < denominator; i++) {
        cellDividersShape.moveTo(-this.size.width / 2, mapCellY(i + 0.5)).horizontalLineToRelative(this.size.width);
      }
      this.cellDividersPath.setShape(cellDividersShape);
    } else {
      // sets the shape of the dividing lines between cells
      const cellDividersShape = new Shape();
      for (let i = 0; i < denominator; i++) {
        cellDividersShape.moveTo(mapCellX(i + 0.5), -this.size.height / 2).verticalLineToRelative(this.size.height);
      }
      this.cellDividersPath.setShape(cellDividersShape);
    }
  }
}
fractionsCommon.register('RectangularContainerNode', RectangularContainerNode);
export default RectangularContainerNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb3VuZHMyIiwiU2hhcGUiLCJtZXJnZSIsIlBhdGgiLCJSZWN0YW5nbGUiLCJGcmFjdGlvbnNDb21tb25Db25zdGFudHMiLCJGcmFjdGlvbnNDb21tb25Db2xvcnMiLCJmcmFjdGlvbnNDb21tb24iLCJDb250YWluZXIiLCJDZWxsQ29udGFpbmVyTm9kZSIsIlJlY3Rhbmd1bGFyT3JpZW50YXRpb24iLCJSZWN0YW5ndWxhck5vZGUiLCJSZWN0YW5ndWxhckNvbnRhaW5lck5vZGUiLCJjb25zdHJ1Y3RvciIsImNvbnRhaW5lciIsIm9wdGlvbnMiLCJhc3NlcnQiLCJyZWN0YW5ndWxhck9yaWVudGF0aW9uIiwiVkVSVElDQUwiLCJpbmNsdWRlcyIsInNpemUiLCJnZXRTaXplIiwicmVjdEJvdW5kcyIsInBvaW50IiwiZGlsYXRlZFhZIiwid2lkdGgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kUmVjdGFuZ2xlIiwiZmlsbCIsImludHJvQ29udGFpbmVyQmFja2dyb3VuZFByb3BlcnR5IiwiYWRkQ2hpbGQiLCJjZWxsRGl2aWRlcnNQYXRoIiwic3Ryb2tlIiwic3Ryb2tlUHJvcGVydHkiLCJib3JkZXJSZWN0YW5nbGUiLCJsaW5lV2lkdGgiLCJJTlRST19DT05UQUlORVJfTElORV9XSURUSCIsImRpbGF0ZWQiLCJyZWJ1aWxkIiwibXV0YXRlIiwiZGVub21pbmF0b3IiLCJjZWxscyIsImxlbmd0aCIsImNlbGxXaWR0aCIsImNlbGxIZWlnaHQiLCJtYXBDZWxsWCIsImluZGV4IiwibWFwQ2VsbFkiLCJpIiwiY2VsbCIsImdldCIsImNlbGxOb2RlIiwiY29sb3JPdmVycmlkZSIsIkhPUklaT05UQUwiLCJ4IiwieSIsImFkZENlbGxOb2RlIiwiY2VsbERpdmlkZXJzU2hhcGUiLCJtb3ZlVG8iLCJob3Jpem9udGFsTGluZVRvUmVsYXRpdmUiLCJzZXRTaGFwZSIsInZlcnRpY2FsTGluZVRvUmVsYXRpdmUiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlJlY3Rhbmd1bGFyQ29udGFpbmVyTm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBDb250YWluZXIgZm9yIHRoZSByZWN0YW5ndWxhciByZXByZXNlbnRhdGlvblxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvbmF0aGFuIE9sc29uIDxqb25hdGhhbi5vbHNvbkBjb2xvcmFkby5lZHU+XHJcbiAqL1xyXG5cclxuaW1wb3J0IEJvdW5kczIgZnJvbSAnLi4vLi4vLi4vLi4vLi4vZG90L2pzL0JvdW5kczIuanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBtZXJnZSBmcm9tICcuLi8uLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvbWVyZ2UuanMnO1xyXG5pbXBvcnQgeyBQYXRoLCBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgRnJhY3Rpb25zQ29tbW9uQ29uc3RhbnRzIGZyb20gJy4uLy4uLy4uL2NvbW1vbi9GcmFjdGlvbnNDb21tb25Db25zdGFudHMuanMnO1xyXG5pbXBvcnQgRnJhY3Rpb25zQ29tbW9uQ29sb3JzIGZyb20gJy4uLy4uLy4uL2NvbW1vbi92aWV3L0ZyYWN0aW9uc0NvbW1vbkNvbG9ycy5qcyc7XHJcbmltcG9ydCBmcmFjdGlvbnNDb21tb24gZnJvbSAnLi4vLi4vLi4vZnJhY3Rpb25zQ29tbW9uLmpzJztcclxuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuLi8uLi9tb2RlbC9Db250YWluZXIuanMnO1xyXG5pbXBvcnQgQ2VsbENvbnRhaW5lck5vZGUgZnJvbSAnLi4vQ2VsbENvbnRhaW5lck5vZGUuanMnO1xyXG5pbXBvcnQgUmVjdGFuZ3VsYXJPcmllbnRhdGlvbiBmcm9tICcuLi9SZWN0YW5ndWxhck9yaWVudGF0aW9uLmpzJztcclxuaW1wb3J0IFJlY3Rhbmd1bGFyTm9kZSBmcm9tICcuL1JlY3Rhbmd1bGFyTm9kZS5qcyc7XHJcblxyXG5jbGFzcyBSZWN0YW5ndWxhckNvbnRhaW5lck5vZGUgZXh0ZW5kcyBDZWxsQ29udGFpbmVyTm9kZSB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtDb250YWluZXJ9IGNvbnRhaW5lclxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggY29udGFpbmVyLCBvcHRpb25zICkge1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggY29udGFpbmVyIGluc3RhbmNlb2YgQ29udGFpbmVyICk7XHJcblxyXG4gICAgb3B0aW9ucyA9IG1lcmdlKCB7XHJcbiAgICAgIHJlY3Rhbmd1bGFyT3JpZW50YXRpb246IFJlY3Rhbmd1bGFyT3JpZW50YXRpb24uVkVSVElDQUxcclxuICAgIH0sIG9wdGlvbnMgKTtcclxuXHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBSZWN0YW5ndWxhck9yaWVudGF0aW9uLmluY2x1ZGVzKCBvcHRpb25zLnJlY3Rhbmd1bGFyT3JpZW50YXRpb24gKSApO1xyXG5cclxuICAgIHN1cGVyKCBjb250YWluZXIsIG9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSB7UmVjdGFuZ3VsYXJPcmllbnRhdGlvbn1cclxuICAgIHRoaXMucmVjdGFuZ3VsYXJPcmllbnRhdGlvbiA9IG9wdGlvbnMucmVjdGFuZ3VsYXJPcmllbnRhdGlvbjtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSB7RGltZW5zaW9uMn0gLSBUaGUgZnVsbCBzaXplIG9mIHRoZSByZWN0YW5nbGUgdG8gdXNlXHJcbiAgICB0aGlzLnNpemUgPSBSZWN0YW5ndWxhck5vZGUuZ2V0U2l6ZSggb3B0aW9ucy5yZWN0YW5ndWxhck9yaWVudGF0aW9uICk7XHJcblxyXG4gICAgY29uc3QgcmVjdEJvdW5kcyA9IEJvdW5kczIucG9pbnQoIDAsIDAgKS5kaWxhdGVkWFkoIHRoaXMuc2l6ZS53aWR0aCAvIDIsIHRoaXMuc2l6ZS5oZWlnaHQgLyAyICk7XHJcblxyXG4gICAgLy8gQHByaXZhdGUge1JlY3RhbmdsZX1cclxuICAgIHRoaXMuYmFja2dyb3VuZFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoIHtcclxuICAgICAgZmlsbDogRnJhY3Rpb25zQ29tbW9uQ29sb3JzLmludHJvQ29udGFpbmVyQmFja2dyb3VuZFByb3BlcnR5LFxyXG4gICAgICByZWN0Qm91bmRzOiByZWN0Qm91bmRzXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB0aGlzLmJhY2tncm91bmRSZWN0YW5nbGUgKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSB7UGF0aH1cclxuICAgIHRoaXMuY2VsbERpdmlkZXJzUGF0aCA9IG5ldyBQYXRoKCBudWxsLCB7IHN0cm9rZTogdGhpcy5zdHJva2VQcm9wZXJ0eSB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB0aGlzLmNlbGxEaXZpZGVyc1BhdGggKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSB7UmVjdGFuZ2xlfVxyXG4gICAgdGhpcy5ib3JkZXJSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKCB7XHJcbiAgICAgIGxpbmVXaWR0aDogRnJhY3Rpb25zQ29tbW9uQ29uc3RhbnRzLklOVFJPX0NPTlRBSU5FUl9MSU5FX1dJRFRILFxyXG4gICAgICBzdHJva2U6IHRoaXMuc3Ryb2tlUHJvcGVydHksXHJcbiAgICAgIHJlY3RCb3VuZHM6IHJlY3RCb3VuZHMuZGlsYXRlZCggMC41ICkgLy8gRXh0ZW5kIGJ5IDAuNSBzbyB0aGF0IG91ciBjZWxsIGZpbGxzIGRvbid0IG92ZXJsYXAgb3VyIGJvcmRlclxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5ib3JkZXJSZWN0YW5nbGUgKTtcclxuXHJcbiAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgIHRoaXMubXV0YXRlKCBvcHRpb25zICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWJ1aWxkcyB0aGUgZnVsbCBjb250YWluZXIgKHJlcXVpcmVkIHdoZW4gdGhlIG51bWJlciBvZiBjZWxscyBjaGFuZ2VzKS5cclxuICAgKiBAcHJvdGVjdGVkXHJcbiAgICogQG92ZXJyaWRlXHJcbiAgICovXHJcbiAgcmVidWlsZCgpIHtcclxuICAgIHN1cGVyLnJlYnVpbGQoKTtcclxuXHJcbiAgICBjb25zdCBkZW5vbWluYXRvciA9IHRoaXMuY29udGFpbmVyLmNlbGxzLmxlbmd0aDtcclxuICAgIGNvbnN0IGNlbGxXaWR0aCA9IHRoaXMuc2l6ZS53aWR0aCAvIGRlbm9taW5hdG9yO1xyXG4gICAgY29uc3QgY2VsbEhlaWdodCA9IHRoaXMuc2l6ZS5oZWlnaHQgLyBkZW5vbWluYXRvcjtcclxuXHJcbiAgICBjb25zdCBtYXBDZWxsWCA9IGluZGV4ID0+ICggaW5kZXggLSAoIGRlbm9taW5hdG9yIC0gMSApIC8gMiApICogY2VsbFdpZHRoO1xyXG4gICAgY29uc3QgbWFwQ2VsbFkgPSBpbmRleCA9PiAoIGluZGV4IC0gKCBkZW5vbWluYXRvciAtIDEgKSAvIDIgKSAqIGNlbGxIZWlnaHQ7XHJcblxyXG4gICAgZm9yICggbGV0IGkgPSAwOyBpIDwgZGVub21pbmF0b3I7IGkrKyApIHtcclxuICAgICAgY29uc3QgY2VsbCA9IHRoaXMuY29udGFpbmVyLmNlbGxzLmdldCggaSApO1xyXG4gICAgICBjb25zdCBjZWxsTm9kZSA9IG5ldyBSZWN0YW5ndWxhck5vZGUoIGRlbm9taW5hdG9yLCB7XHJcbiAgICAgICAgcmVjdGFuZ3VsYXJPcmllbnRhdGlvbjogdGhpcy5yZWN0YW5ndWxhck9yaWVudGF0aW9uLFxyXG4gICAgICAgIGNvbG9yT3ZlcnJpZGU6IHRoaXMuY29sb3JPdmVycmlkZVxyXG4gICAgICB9ICk7XHJcbiAgICAgIGlmICggdGhpcy5yZWN0YW5ndWxhck9yaWVudGF0aW9uID09PSBSZWN0YW5ndWxhck9yaWVudGF0aW9uLkhPUklaT05UQUwgKSB7XHJcbiAgICAgICAgY2VsbE5vZGUueCA9IG1hcENlbGxYKCBpICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgY2VsbE5vZGUueSA9IG1hcENlbGxZKCBpICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuYWRkQ2VsbE5vZGUoIGNlbGwsIGNlbGxOb2RlICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCB0aGlzLnJlY3Rhbmd1bGFyT3JpZW50YXRpb24gPT09IFJlY3Rhbmd1bGFyT3JpZW50YXRpb24uVkVSVElDQUwgKSB7XHJcbiAgICAgIC8vIHNldHMgdGhlIHNoYXBlIG9mIHRoZSBkaXZpZGluZyBsaW5lcyBiZXR3ZWVuIGNlbGxzXHJcbiAgICAgIGNvbnN0IGNlbGxEaXZpZGVyc1NoYXBlID0gbmV3IFNoYXBlKCk7XHJcbiAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGRlbm9taW5hdG9yOyBpKysgKSB7XHJcbiAgICAgICAgY2VsbERpdmlkZXJzU2hhcGUubW92ZVRvKCAtdGhpcy5zaXplLndpZHRoIC8gMiwgbWFwQ2VsbFkoIGkgKyAwLjUgKSApLmhvcml6b250YWxMaW5lVG9SZWxhdGl2ZSggdGhpcy5zaXplLndpZHRoICk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jZWxsRGl2aWRlcnNQYXRoLnNldFNoYXBlKCBjZWxsRGl2aWRlcnNTaGFwZSApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIC8vIHNldHMgdGhlIHNoYXBlIG9mIHRoZSBkaXZpZGluZyBsaW5lcyBiZXR3ZWVuIGNlbGxzXHJcbiAgICAgIGNvbnN0IGNlbGxEaXZpZGVyc1NoYXBlID0gbmV3IFNoYXBlKCk7XHJcbiAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGRlbm9taW5hdG9yOyBpKysgKSB7XHJcbiAgICAgICAgY2VsbERpdmlkZXJzU2hhcGUubW92ZVRvKCBtYXBDZWxsWCggaSArIDAuNSApLCAtdGhpcy5zaXplLmhlaWdodCAvIDIgKS52ZXJ0aWNhbExpbmVUb1JlbGF0aXZlKCB0aGlzLnNpemUuaGVpZ2h0ICk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jZWxsRGl2aWRlcnNQYXRoLnNldFNoYXBlKCBjZWxsRGl2aWRlcnNTaGFwZSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnJhY3Rpb25zQ29tbW9uLnJlZ2lzdGVyKCAnUmVjdGFuZ3VsYXJDb250YWluZXJOb2RlJywgUmVjdGFuZ3VsYXJDb250YWluZXJOb2RlICk7XHJcbmV4cG9ydCBkZWZhdWx0IFJlY3Rhbmd1bGFyQ29udGFpbmVyTm9kZTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsT0FBTyxNQUFNLGtDQUFrQztBQUN0RCxTQUFTQyxLQUFLLFFBQVEsbUNBQW1DO0FBQ3pELE9BQU9DLEtBQUssTUFBTSxzQ0FBc0M7QUFDeEQsU0FBU0MsSUFBSSxFQUFFQyxTQUFTLFFBQVEsc0NBQXNDO0FBQ3RFLE9BQU9DLHdCQUF3QixNQUFNLDZDQUE2QztBQUNsRixPQUFPQyxxQkFBcUIsTUFBTSwrQ0FBK0M7QUFDakYsT0FBT0MsZUFBZSxNQUFNLDZCQUE2QjtBQUN6RCxPQUFPQyxTQUFTLE1BQU0sMEJBQTBCO0FBQ2hELE9BQU9DLGlCQUFpQixNQUFNLHlCQUF5QjtBQUN2RCxPQUFPQyxzQkFBc0IsTUFBTSw4QkFBOEI7QUFDakUsT0FBT0MsZUFBZSxNQUFNLHNCQUFzQjtBQUVsRCxNQUFNQyx3QkFBd0IsU0FBU0gsaUJBQWlCLENBQUM7RUFDdkQ7QUFDRjtBQUNBO0FBQ0E7RUFDRUksV0FBV0EsQ0FBRUMsU0FBUyxFQUFFQyxPQUFPLEVBQUc7SUFDaENDLE1BQU0sSUFBSUEsTUFBTSxDQUFFRixTQUFTLFlBQVlOLFNBQVUsQ0FBQztJQUVsRE8sT0FBTyxHQUFHYixLQUFLLENBQUU7TUFDZmUsc0JBQXNCLEVBQUVQLHNCQUFzQixDQUFDUTtJQUNqRCxDQUFDLEVBQUVILE9BQVEsQ0FBQztJQUVaQyxNQUFNLElBQUlBLE1BQU0sQ0FBRU4sc0JBQXNCLENBQUNTLFFB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