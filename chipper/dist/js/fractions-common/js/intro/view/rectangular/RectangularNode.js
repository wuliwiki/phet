// Copyright 2018-2022, University of Colorado Boulder

/**
 * Displays a rectangular slice of area.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import Dimension2 from '../../../../../dot/js/Dimension2.js';
import merge from '../../../../../phet-core/js/merge.js';
import { ColorDef, Node, Rectangle } from '../../../../../scenery/js/imports.js';
import FractionsCommonConstants from '../../../common/FractionsCommonConstants.js';
import FractionsCommonColors from '../../../common/view/FractionsCommonColors.js';
import fractionsCommon from '../../../fractionsCommon.js';
import RectangularOrientation from '../RectangularOrientation.js';

// constants
const HORIZONTAL_SIZE = new Dimension2(200, 40);
const VERTICAL_SIZE = new Dimension2(90, 160);
class RectangularNode extends Node {
  /**
   * @param {number} denominator
   * @param {Object} [options]
   */
  constructor(denominator, options) {
    assert && assert(typeof denominator === 'number');
    options = merge({
      // {boolean} - If true, this node will have a permanent drop shadow added
      dropShadow: false,
      // {RectangularOrientation}
      rectangularOrientation: RectangularOrientation.VERTICAL_SIZE,
      // {ColorDef} - If non-null, it will override the given color
      colorOverride: null
    }, options);
    assert && assert(typeof options.dropShadow === 'boolean');
    assert && assert(RectangularOrientation.includes(options.rectangularOrientation));
    assert && assert(ColorDef.isColorDef(options.colorOverride));
    super();
    const size = RectangularNode.getSize(options.rectangularOrientation);
    let rectWidth = size.width;
    let rectHeight = size.height;
    if (options.rectangularOrientation === RectangularOrientation.VERTICAL) {
      rectHeight /= denominator;
    } else {
      rectWidth /= denominator;
    }
    const defaultColor = options.rectangularOrientation === RectangularOrientation.HORIZONTAL ? FractionsCommonColors.introHorizontalBarProperty : FractionsCommonColors.introVerticalBarProperty;
    const mainRectangle = new Rectangle({
      rectX: -rectWidth / 2,
      rectY: -rectHeight / 2,
      rectWidth: rectWidth,
      rectHeight: rectHeight,
      fill: options.colorOverride ? options.colorOverride : defaultColor,
      stroke: 'black'
    });
    const shadowRectangle = new Rectangle({
      center: mainRectangle.center.plusScalar(FractionsCommonConstants.INTRO_DROP_SHADOW_OFFSET),
      rectWidth: rectWidth,
      rectHeight: rectHeight,
      fill: FractionsCommonColors.introShapeShadowProperty
    });
    this.children = [...(options.dropShadow ? [shadowRectangle] : []), mainRectangle];
    this.mutate(options);
  }

  /**
   * Returns the size of the rectangle for a given orientation.
   * @public
   *
   * @param {RectangularOrientation}
   * @returns {Dimension2}
   */
  static getSize(orientation) {
    assert && assert(RectangularOrientation.includes(orientation));
    if (orientation === RectangularOrientation.VERTICAL) {
      return VERTICAL_SIZE;
    } else {
      return HORIZONTAL_SIZE;
    }
  }
}
fractionsCommon.register('RectangularNode', RectangularNode);
export default RectangularNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEaW1lbnNpb24yIiwibWVyZ2UiLCJDb2xvckRlZiIsIk5vZGUiLCJSZWN0YW5nbGUiLCJGcmFjdGlvbnNDb21tb25Db25zdGFudHMiLCJGcmFjdGlvbnNDb21tb25Db2xvcnMiLCJmcmFjdGlvbnNDb21tb24iLCJSZWN0YW5ndWxhck9yaWVudGF0aW9uIiwiSE9SSVpPTlRBTF9TSVpFIiwiVkVSVElDQUxfU0laRSIsIlJlY3Rhbmd1bGFyTm9kZSIsImNvbnN0cnVjdG9yIiwiZGVub21pbmF0b3IiLCJvcHRpb25zIiwiYXNzZXJ0IiwiZHJvcFNoYWRvdyIsInJlY3Rhbmd1bGFyT3JpZW50YXRpb24iLCJjb2xvck92ZXJyaWRlIiwiaW5jbHVkZXMiLCJpc0NvbG9yRGVmIiwic2l6ZSIsImdldFNpemUiLCJyZWN0V2lkdGgiLCJ3aWR0aCIsInJlY3RIZWlnaHQiLCJoZWlnaHQiLCJWRVJUSUNBTCIsImRlZmF1bHRDb2xvciIsIkhPUklaT05UQUwiLCJpbnRyb0hvcml6b250YWxCYXJQcm9wZXJ0eSIsImludHJvVmVydGljYWxCYXJQcm9wZXJ0eSIsIm1haW5SZWN0YW5nbGUiLCJyZWN0WCIsInJlY3RZIiwiZmlsbCIsInN0cm9rZSIsInNoYWRvd1JlY3RhbmdsZSIsImNlbnRlciIsInBsdXNTY2FsYXIiLCJJTlRST19EUk9QX1NIQURPV19PRkZTRVQiLCJpbnRyb1NoYXBlU2hhZG93UHJvcGVydHkiLCJjaGlsZHJlbiIsIm11dGF0ZSIsIm9yaWVudGF0aW9uIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJSZWN0YW5ndWxhck5vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTgtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogRGlzcGxheXMgYSByZWN0YW5ndWxhciBzbGljZSBvZiBhcmVhLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvbmF0aGFuIE9sc29uIDxqb25hdGhhbi5vbHNvbkBjb2xvcmFkby5lZHU+XHJcbiAqL1xyXG5cclxuaW1wb3J0IERpbWVuc2lvbjIgZnJvbSAnLi4vLi4vLi4vLi4vLi4vZG90L2pzL0RpbWVuc2lvbjIuanMnO1xyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IHsgQ29sb3JEZWYsIE5vZGUsIFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBGcmFjdGlvbnNDb21tb25Db25zdGFudHMgZnJvbSAnLi4vLi4vLi4vY29tbW9uL0ZyYWN0aW9uc0NvbW1vbkNvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBGcmFjdGlvbnNDb21tb25Db2xvcnMgZnJvbSAnLi4vLi4vLi4vY29tbW9uL3ZpZXcvRnJhY3Rpb25zQ29tbW9uQ29sb3JzLmpzJztcclxuaW1wb3J0IGZyYWN0aW9uc0NvbW1vbiBmcm9tICcuLi8uLi8uLi9mcmFjdGlvbnNDb21tb24uanMnO1xyXG5pbXBvcnQgUmVjdGFuZ3VsYXJPcmllbnRhdGlvbiBmcm9tICcuLi9SZWN0YW5ndWxhck9yaWVudGF0aW9uLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBIT1JJWk9OVEFMX1NJWkUgPSBuZXcgRGltZW5zaW9uMiggMjAwLCA0MCApO1xyXG5jb25zdCBWRVJUSUNBTF9TSVpFID0gbmV3IERpbWVuc2lvbjIoIDkwLCAxNjAgKTtcclxuXHJcbmNsYXNzIFJlY3Rhbmd1bGFyTm9kZSBleHRlbmRzIE5vZGUge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZW5vbWluYXRvclxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggZGVub21pbmF0b3IsIG9wdGlvbnMgKSB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCB0eXBlb2YgZGVub21pbmF0b3IgPT09ICdudW1iZXInICk7XHJcblxyXG4gICAgb3B0aW9ucyA9IG1lcmdlKCB7XHJcbiAgICAgIC8vIHtib29sZWFufSAtIElmIHRydWUsIHRoaXMgbm9kZSB3aWxsIGhhdmUgYSBwZXJtYW5lbnQgZHJvcCBzaGFkb3cgYWRkZWRcclxuICAgICAgZHJvcFNoYWRvdzogZmFsc2UsXHJcblxyXG4gICAgICAvLyB7UmVjdGFuZ3VsYXJPcmllbnRhdGlvbn1cclxuICAgICAgcmVjdGFuZ3VsYXJPcmllbnRhdGlvbjogUmVjdGFuZ3VsYXJPcmllbnRhdGlvbi5WRVJUSUNBTF9TSVpFLFxyXG5cclxuICAgICAgLy8ge0NvbG9yRGVmfSAtIElmIG5vbi1udWxsLCBpdCB3aWxsIG92ZXJyaWRlIHRoZSBnaXZlbiBjb2xvclxyXG4gICAgICBjb2xvck92ZXJyaWRlOiBudWxsXHJcbiAgICB9LCBvcHRpb25zICk7XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggdHlwZW9mIG9wdGlvbnMuZHJvcFNoYWRvdyA9PT0gJ2Jvb2xlYW4nICk7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBSZWN0YW5ndWxhck9yaWVudGF0aW9uLmluY2x1ZGVzKCBvcHRpb25zLnJlY3Rhbmd1bGFyT3JpZW50YXRpb24gKSApO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggQ29sb3JEZWYuaXNDb2xvckRlZiggb3B0aW9ucy5jb2xvck92ZXJyaWRlICkgKTtcclxuXHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIGNvbnN0IHNpemUgPSBSZWN0YW5ndWxhck5vZGUuZ2V0U2l6ZSggb3B0aW9ucy5yZWN0YW5ndWxhck9yaWVudGF0aW9uICk7XHJcbiAgICBsZXQgcmVjdFdpZHRoID0gc2l6ZS53aWR0aDtcclxuICAgIGxldCByZWN0SGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XHJcbiAgICBpZiAoIG9wdGlvbnMucmVjdGFuZ3VsYXJPcmllbnRhdGlvbiA9PT0gUmVjdGFuZ3VsYXJPcmllbnRhdGlvbi5WRVJUSUNBTCApIHtcclxuICAgICAgcmVjdEhlaWdodCAvPSBkZW5vbWluYXRvcjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZWN0V2lkdGggLz0gZGVub21pbmF0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGVmYXVsdENvbG9yID0gb3B0aW9ucy5yZWN0YW5ndWxhck9yaWVudGF0aW9uID09PSBSZWN0YW5ndWxhck9yaWVudGF0aW9uLkhPUklaT05UQUxcclxuICAgICAgICAgICAgICAgICAgICAgICAgID8gRnJhY3Rpb25zQ29tbW9uQ29sb3JzLmludHJvSG9yaXpvbnRhbEJhclByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICA6IEZyYWN0aW9uc0NvbW1vbkNvbG9ycy5pbnRyb1ZlcnRpY2FsQmFyUHJvcGVydHk7XHJcblxyXG4gICAgY29uc3QgbWFpblJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoIHtcclxuICAgICAgcmVjdFg6IC1yZWN0V2lkdGggLyAyLFxyXG4gICAgICByZWN0WTogLXJlY3RIZWlnaHQgLyAyLFxyXG4gICAgICByZWN0V2lkdGg6IHJlY3RXaWR0aCxcclxuICAgICAgcmVjdEhlaWdodDogcmVjdEhlaWdodCxcclxuICAgICAgZmlsbDogb3B0aW9ucy5jb2xvck92ZXJyaWRlID8gb3B0aW9ucy5jb2xvck92ZXJyaWRlIDogZGVmYXVsdENvbG9yLFxyXG4gICAgICBzdHJva2U6ICdibGFjaydcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBzaGFkb3dSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKCB7XHJcbiAgICAgIGNlbnRlcjogbWFpblJlY3RhbmdsZS5jZW50ZXIucGx1c1NjYWxhciggRnJhY3Rpb25zQ29tbW9uQ29uc3RhbnRzLklOVFJPX0RST1BfU0hBRE9XX09GRlNFVCApLFxyXG4gICAgICByZWN0V2lkdGg6IHJlY3RXaWR0aCxcclxuICAgICAgcmVjdEhlaWdodDogcmVjdEhlaWdodCxcclxuICAgICAgZmlsbDogRnJhY3Rpb25zQ29tbW9uQ29sb3JzLmludHJvU2hhcGVTaGFkb3dQcm9wZXJ0eVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuY2hpbGRyZW4gPSBbXHJcbiAgICAgIC4uLiggb3B0aW9ucy5kcm9wU2hhZG93ID8gW1xyXG4gICAgICAgIHNoYWRvd1JlY3RhbmdsZVxyXG4gICAgICBdIDogW10gKSxcclxuICAgICAgbWFpblJlY3RhbmdsZVxyXG4gICAgXTtcclxuXHJcbiAgICB0aGlzLm11dGF0ZSggb3B0aW9ucyApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGUgcmVjdGFuZ2xlIGZvciBhIGdpdmVuIG9yaWVudGF0aW9uLlxyXG4gICAqIEBwdWJsaWNcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVjdGFuZ3VsYXJPcmllbnRhdGlvbn1cclxuICAgKiBAcmV0dXJucyB7RGltZW5zaW9uMn1cclxuICAgKi9cclxuICBzdGF0aWMgZ2V0U2l6ZSggb3JpZW50YXRpb24gKSB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBSZWN0YW5ndWxhck9yaWVudGF0aW9uLmluY2x1ZGVzKCBvcmllbnRhdGlvbiApICk7XHJcblxyXG4gICAgaWYgKCBvcmllbnRhdGlvbiA9PT0gUmVjdGFuZ3VsYXJPcmllbnRhdGlvbi5WRVJUSUNBTCApIHtcclxuICAgICAgcmV0dXJuIFZFUlRJQ0FMX1NJWkU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcmV0dXJuIEhPUklaT05UQUxfU0laRTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZyYWN0aW9uc0NvbW1vbi5yZWdpc3RlciggJ1JlY3Rhbmd1bGFyTm9kZScsIFJlY3Rhbmd1bGFyTm9kZSApO1xyXG5leHBvcnQgZGVmYXVsdCBSZWN0YW5ndWxhck5vZGU7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFVBQVUsTUFBTSxxQ0FBcUM7QUFDNUQsT0FBT0MsS0FBSyxNQUFNLHNDQUFzQztBQUN4RCxTQUFT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