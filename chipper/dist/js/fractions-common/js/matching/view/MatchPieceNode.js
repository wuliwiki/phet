// Copyright 2019-2022, University of Colorado Boulder

/**
 * View for a MatchPiece (either a shape or fractional representation)
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import Bounds2 from '../../../../dot/js/Bounds2.js';
import Dimension2 from '../../../../dot/js/Dimension2.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import merge from '../../../../phet-core/js/merge.js';
import Fraction from '../../../../phetcommon/js/model/Fraction.js';
import MixedFractionNode from '../../../../scenery-phet/js/MixedFractionNode.js';
import { DragListener, HBox, Node } from '../../../../scenery/js/imports.js';
import FractionsCommonConstants from '../../common/FractionsCommonConstants.js';
import fractionsCommon from '../../fractionsCommon.js';
import FilledPartitionNode from '../../game/view/FilledPartitionNode.js';
class MatchPieceNode extends Node {
  /**
   * @param {MatchPiece} piece
   */
  constructor(piece) {
    super({
      cursor: 'pointer'
    });

    // @private {MatchPiece}
    this.piece = piece;
    if (piece.filledPartitions) {
      this.addChild(new HBox({
        spacing: 7,
        children: piece.filledPartitions.map(filledPartition => new FilledPartitionNode(filledPartition, {
          borderLineWidth: FractionsCommonConstants.MATCHING_BORDER
        })),
        center: Vector2.ZERO,
        scale: piece.hasGreaterThanOne ? 0.68 : 1
      }));
    } else {
      const isInteger = piece.fraction.isInteger();
      const numberOptions = piece.hasMixedNumbers && Fraction.ONE.isLessThan(piece.fraction) ? {
        whole: Math.floor(piece.fraction.value),
        numerator: isInteger ? null : piece.fraction.numerator % piece.fraction.denominator,
        denominator: isInteger ? null : piece.fraction.denominator
      } : {
        numerator: piece.fraction.numerator,
        denominator: piece.fraction.denominator
      };
      this.addChild(new MixedFractionNode(merge(numberOptions, {
        center: Vector2.ZERO,
        scale: 1.3
      })));
    }

    // @private {function}
    this.positionListener = position => {
      this.translation = position;
    };
    this.scaleListener = scale => {
      this.setScaleMagnitude(scale);
    };
    this.piece.positionProperty.link(this.positionListener);
    this.piece.scaleProperty.link(this.scaleListener);

    // @private {function}
    this.spotListener = spot => {
      if (spot && spot.isTarget) {
        this.pickable = false;
      }
    };
    this.piece.spotProperty.link(this.spotListener);
    this.mouseArea = this.touchArea = new Bounds2(-MatchPieceNode.DIMENSION.width / 2, -MatchPieceNode.DIMENSION.height / 2, MatchPieceNode.DIMENSION.width / 2, MatchPieceNode.DIMENSION.height / 2);

    // @private {DragListener}
    this.dragListener = new DragListener({
      targetNode: this,
      positionProperty: piece.positionProperty,
      start: () => {
        this.moveToFront();
        piece.grab();
      },
      end: () => piece.drop()
    });
    this.addInputListener(this.dragListener);

    // Notify the model about the view's bounds, so that the model can correctly position animations
    this.piece.localBounds = this.localBounds;
  }

  /**
   * Releases references.
   * @public
   * @override
   */
  dispose() {
    this.piece.positionProperty.unlink(this.positionListener);
    this.piece.scaleProperty.unlink(this.scaleListener);
    this.piece.spotProperty.unlink(this.spotListener);
    this.dragListener.dispose();
    super.dispose();
  }
}

// @public {Dimension2}
MatchPieceNode.DIMENSION = new Dimension2(150, 120);
fractionsCommon.register('MatchPieceNode', MatchPieceNode);
export default MatchPieceNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb3VuZHMyIiwiRGltZW5zaW9uMiIsIlZlY3RvcjIiLCJtZXJnZSIsIkZyYWN0aW9uIiwiTWl4ZWRGcmFjdGlvbk5vZGUiLCJEcmFnTGlzdGVuZXIiLCJIQm94IiwiTm9kZSIsIkZyYWN0aW9uc0NvbW1vbkNvbnN0YW50cyIsImZyYWN0aW9uc0NvbW1vbiIsIkZpbGxlZFBhcnRpdGlvbk5vZGUiLCJNYXRjaFBpZWNlTm9kZSIsImNvbnN0cnVjdG9yIiwicGllY2UiLCJjdXJzb3IiLCJmaWxsZWRQYXJ0aXRpb25zIiwiYWRkQ2hpbGQiLCJzcGFjaW5nIiwiY2hpbGRyZW4iLCJtYXAiLCJmaWxsZWRQYXJ0aXRpb24iLCJib3JkZXJMaW5lV2lkdGgiLCJNQVRDSElOR19CT1JERVIiLCJjZW50ZXIiLCJaRVJPIiwic2NhbGUiLCJoYXNHcmVhdGVyVGhhbk9uZSIsImlzSW50ZWdlciIsImZyYWN0aW9uIiwibnVtYmVyT3B0aW9ucyIsImhhc01peGVkTnVtYmVycyIsIk9ORSIsImlzTGVzc1RoYW4iLCJ3aG9sZSIsIk1hdGgiLCJmbG9vciIsInZhbHVlIiwibnVtZXJhdG9yIiwiZGVub21pbmF0b3IiLCJwb3NpdGlvbkxpc3RlbmVyIiwicG9zaXRpb24iLCJ0cmFuc2xhdGlvbiIsInNjYWxlTGlzdGVuZXIiLCJzZXRTY2FsZU1hZ25pdHVkZSIsInBvc2l0aW9uUHJvcGVydHkiLCJsaW5rIiwic2NhbGVQcm9wZXJ0eSIsInNwb3RMaXN0ZW5lciIsInNwb3QiLCJpc1RhcmdldCIsInBpY2thYmxlIiwic3BvdFByb3BlcnR5IiwibW91c2VBcmVhIiwidG91Y2hBcmVhIiwiRElNRU5TSU9OIiwid2lkdGgiLCJoZWlnaHQiLCJkcmFnTGlzdGVuZXIiLCJ0YXJnZXROb2RlIiwic3RhcnQiLCJtb3ZlVG9Gcm9udCIsImdyYWIiLCJlbmQiLCJkcm9wIiwiYWRkSW5wdXRMaXN0ZW5lciIsImxvY2FsQm91bmRzIiwiZGlzcG9zZSIsInVubGluayIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiTWF0Y2hQaWVjZU5vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTktMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogVmlldyBmb3IgYSBNYXRjaFBpZWNlIChlaXRoZXIgYSBzaGFwZSBvciBmcmFjdGlvbmFsIHJlcHJlc2VudGF0aW9uKVxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvbmF0aGFuIE9sc29uIDxqb25hdGhhbi5vbHNvbkBjb2xvcmFkby5lZHU+XHJcbiAqL1xyXG5cclxuaW1wb3J0IEJvdW5kczIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL0JvdW5kczIuanMnO1xyXG5pbXBvcnQgRGltZW5zaW9uMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvRGltZW5zaW9uMi5qcyc7XHJcbmltcG9ydCBWZWN0b3IyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyLmpzJztcclxuaW1wb3J0IG1lcmdlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tZXJnZS5qcyc7XHJcbmltcG9ydCBGcmFjdGlvbiBmcm9tICcuLi8uLi8uLi8uLi9waGV0Y29tbW9uL2pzL21vZGVsL0ZyYWN0aW9uLmpzJztcclxuaW1wb3J0IE1peGVkRnJhY3Rpb25Ob2RlIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9NaXhlZEZyYWN0aW9uTm9kZS5qcyc7XHJcbmltcG9ydCB7IERyYWdMaXN0ZW5lciwgSEJveCwgTm9kZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBGcmFjdGlvbnNDb21tb25Db25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL0ZyYWN0aW9uc0NvbW1vbkNvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBmcmFjdGlvbnNDb21tb24gZnJvbSAnLi4vLi4vZnJhY3Rpb25zQ29tbW9uLmpzJztcclxuaW1wb3J0IEZpbGxlZFBhcnRpdGlvbk5vZGUgZnJvbSAnLi4vLi4vZ2FtZS92aWV3L0ZpbGxlZFBhcnRpdGlvbk5vZGUuanMnO1xyXG5cclxuY2xhc3MgTWF0Y2hQaWVjZU5vZGUgZXh0ZW5kcyBOb2RlIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge01hdGNoUGllY2V9IHBpZWNlXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIHBpZWNlICkge1xyXG4gICAgc3VwZXIoIHtcclxuICAgICAgY3Vyc29yOiAncG9pbnRlcidcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSB7TWF0Y2hQaWVjZX1cclxuICAgIHRoaXMucGllY2UgPSBwaWVjZTtcclxuXHJcbiAgICBpZiAoIHBpZWNlLmZpbGxlZFBhcnRpdGlvbnMgKSB7XHJcbiAgICAgIHRoaXMuYWRkQ2hpbGQoIG5ldyBIQm94KCB7XHJcbiAgICAgICAgc3BhY2luZzogNyxcclxuICAgICAgICBjaGlsZHJlbjogcGllY2UuZmlsbGVkUGFydGl0aW9ucy5tYXAoIGZpbGxlZFBhcnRpdGlvbiA9PiBuZXcgRmlsbGVkUGFydGl0aW9uTm9kZSggZmlsbGVkUGFydGl0aW9uLCB7XHJcbiAgICAgICAgICBib3JkZXJMaW5lV2lkdGg6IEZyYWN0aW9uc0NvbW1vbkNvbnN0YW50cy5NQVRDSElOR19CT1JERVJcclxuICAgICAgICB9ICkgKSxcclxuICAgICAgICBjZW50ZXI6IFZlY3RvcjIuWkVSTyxcclxuICAgICAgICBzY2FsZTogcGllY2UuaGFzR3JlYXRlclRoYW5PbmUgPyAwLjY4IDogMVxyXG4gICAgICB9ICkgKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBpc0ludGVnZXIgPSBwaWVjZS5mcmFjdGlvbi5pc0ludGVnZXIoKTtcclxuICAgICAgY29uc3QgbnVtYmVyT3B0aW9ucyA9ICggcGllY2UuaGFzTWl4ZWROdW1iZXJzICYmIEZyYWN0aW9uLk9ORS5pc0xlc3NUaGFuKCBwaWVjZS5mcmFjdGlvbiApICkgPyB7XHJcbiAgICAgICAgd2hvbGU6IE1hdGguZmxvb3IoIHBpZWNlLmZyYWN0aW9uLnZhbHVlICksXHJcbiAgICAgICAgbnVtZXJhdG9yOiBpc0ludGVnZXIgPyBudWxsIDogKCBwaWVjZS5mcmFjdGlvbi5udW1lcmF0b3IgJSBwaWVjZS5mcmFjdGlvbi5kZW5vbWluYXRvciApLFxyXG4gICAgICAgIGRlbm9taW5hdG9yOiBpc0ludGVnZXIgPyBudWxsIDogcGllY2UuZnJhY3Rpb24uZGVub21pbmF0b3JcclxuICAgICAgfSA6IHtcclxuICAgICAgICBudW1lcmF0b3I6IHBpZWNlLmZyYWN0aW9uLm51bWVyYXRvcixcclxuICAgICAgICBkZW5vbWluYXRvcjogcGllY2UuZnJhY3Rpb24uZGVub21pbmF0b3JcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5hZGRDaGlsZCggbmV3IE1peGVkRnJhY3Rpb25Ob2RlKCBtZXJnZSggbnVtYmVyT3B0aW9ucywge1xyXG4gICAgICAgIGNlbnRlcjogVmVjdG9yMi5aRVJPLFxyXG4gICAgICAgIHNjYWxlOiAxLjNcclxuICAgICAgfSApICkgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBAcHJpdmF0ZSB7ZnVuY3Rpb259XHJcbiAgICB0aGlzLnBvc2l0aW9uTGlzdGVuZXIgPSBwb3NpdGlvbiA9PiB7XHJcbiAgICAgIHRoaXMudHJhbnNsYXRpb24gPSBwb3NpdGlvbjtcclxuICAgIH07XHJcbiAgICB0aGlzLnNjYWxlTGlzdGVuZXIgPSBzY2FsZSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0U2NhbGVNYWduaXR1ZGUoIHNjYWxlICk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucGllY2UucG9zaXRpb25Qcm9wZXJ0eS5saW5rKCB0aGlzLnBvc2l0aW9uTGlzdGVuZXIgKTtcclxuICAgIHRoaXMucGllY2Uuc2NhbGVQcm9wZXJ0eS5saW5rKCB0aGlzLnNjYWxlTGlzdGVuZXIgKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSB7ZnVuY3Rpb259XHJcbiAgICB0aGlzLnNwb3RMaXN0ZW5lciA9IHNwb3QgPT4ge1xyXG4gICAgICBpZiAoIHNwb3QgJiYgc3BvdC5pc1RhcmdldCApIHtcclxuICAgICAgICB0aGlzLnBpY2thYmxlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5waWVjZS5zcG90UHJvcGVydHkubGluayggdGhpcy5zcG90TGlzdGVuZXIgKTtcclxuXHJcbiAgICB0aGlzLm1vdXNlQXJlYSA9IHRoaXMudG91Y2hBcmVhID0gbmV3IEJvdW5kczIoXHJcbiAgICAgIC1NYXRjaFBpZWNlTm9kZS5ESU1FTlNJT04ud2lkdGggLyAyLFxyXG4gICAgICAtTWF0Y2hQaWVjZU5vZGUuRElNRU5TSU9OLmhlaWdodCAvIDIsXHJcbiAgICAgIE1hdGNoUGllY2VOb2RlLkRJTUVOU0lPTi53aWR0aCAvIDIsXHJcbiAgICAgIE1hdGNoUGllY2VOb2RlLkRJTUVOU0lPTi5oZWlnaHQgLyAyXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEBwcml2YXRlIHtEcmFnTGlzdGVuZXJ9XHJcbiAgICB0aGlzLmRyYWdMaXN0ZW5lciA9IG5ldyBEcmFnTGlzdGVuZXIoIHtcclxuICAgICAgdGFyZ2V0Tm9kZTogdGhpcyxcclxuICAgICAgcG9zaXRpb25Qcm9wZXJ0eTogcGllY2UucG9zaXRpb25Qcm9wZXJ0eSxcclxuICAgICAgc3RhcnQ6ICgpID0+IHtcclxuICAgICAgICB0aGlzLm1vdmVUb0Zyb250KCk7XHJcbiAgICAgICAgcGllY2UuZ3JhYigpO1xyXG4gICAgICB9LFxyXG4gICAgICBlbmQ6ICgpID0+IHBpZWNlLmRyb3AoKVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRJbnB1dExpc3RlbmVyKCB0aGlzLmRyYWdMaXN0ZW5lciApO1xyXG5cclxuICAgIC8vIE5vdGlmeSB0aGUgbW9kZWwgYWJvdXQgdGhlIHZpZXcncyBib3VuZHMsIHNvIHRoYXQgdGhlIG1vZGVsIGNhbiBjb3JyZWN0bHkgcG9zaXRpb24gYW5pbWF0aW9uc1xyXG4gICAgdGhpcy5waWVjZS5sb2NhbEJvdW5kcyA9IHRoaXMubG9jYWxCb3VuZHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWxlYXNlcyByZWZlcmVuY2VzLlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAb3ZlcnJpZGVcclxuICAgKi9cclxuICBkaXNwb3NlKCkge1xyXG4gICAgdGhpcy5waWVjZS5wb3NpdGlvblByb3BlcnR5LnVubGluayggdGhpcy5wb3NpdGlvbkxpc3RlbmVyICk7XHJcbiAgICB0aGlzLnBpZWNlLnNjYWxlUHJvcGVydHkudW5saW5rKCB0aGlzLnNjYWxlTGlzdGVuZXIgKTtcclxuICAgIHRoaXMucGllY2Uuc3BvdFByb3BlcnR5LnVubGluayggdGhpcy5zcG90TGlzdGVuZXIgKTtcclxuXHJcbiAgICB0aGlzLmRyYWdMaXN0ZW5lci5kaXNwb3NlKCk7XHJcblxyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gQHB1YmxpYyB7RGltZW5zaW9uMn1cclxuTWF0Y2hQaWVjZU5vZGUuRElNRU5TSU9OID0gbmV3IERpbWVuc2lvbjIoIDE1MCwgMTIwICk7XHJcblxyXG5mcmFjdGlvbnNDb21tb24ucmVnaXN0ZXIoICdNYXRjaFBpZWNlTm9kZScsIE1hdGNoUGllY2VOb2RlICk7XHJcbmV4cG9ydCBkZWZhdWx0IE1hdGNoUGllY2VOb2RlOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxPQUFPLE1BQU0sK0JBQStCO0FBQ25ELE9BQU9DLFVBQVUsTUFBTSxrQ0FBa0M7QUFDekQsT0FBT0MsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxPQUFPQyxLQUFLLE1BQU0sbUNBQW1DO0FBQ3JELE9BQU9DLFFBQVEsTUFBTSw2Q0FBNkM7QUFDbEUsT0FBT0MsaUJBQWlCLE1BQU0sa0RBQWtEO0FBQ2hGLFNBQVNDLFlBQVksRUFBRUMsSUFBSSxFQUFFQyxJQUFJLFFBQVEsbUNBQW1DO0FBQzVFLE9BQU9DLHdCQUF3QixNQUFNLDBDQUEwQztBQUMvRSxP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