// Copyright 2018-2021, University of Colorado Boulder

/**
 * Model for the "Lab" screen of Build a Fraction
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import Property from '../../../../axon/js/Property.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import Fraction from '../../../../phetcommon/js/model/Fraction.js';
import BuildingModel from '../../building/model/BuildingModel.js';
import BuildingRepresentation from '../../building/model/BuildingRepresentation.js';
import NumberGroup from '../../building/model/NumberGroup.js';
import NumberGroupStack from '../../building/model/NumberGroupStack.js';
import NumberPiece from '../../building/model/NumberPiece.js';
import NumberStack from '../../building/model/NumberStack.js';
import ShapeGroup from '../../building/model/ShapeGroup.js';
import ShapeGroupStack from '../../building/model/ShapeGroupStack.js';
import ShapePiece from '../../building/model/ShapePiece.js';
import ShapeStack from '../../building/model/ShapeStack.js';
import FractionsCommonColors from '../../common/view/FractionsCommonColors.js';
import fractionsCommon from '../../fractionsCommon.js';

// constants
const PIECE_LAYOUT_QUANTITY = 2;
const GROUP_LAYOUT_QUANTITY = 1;
class BuildingLabModel extends BuildingModel {
  /**
   * @param {boolean} allowMixedNumbers
   */
  constructor(allowMixedNumbers) {
    super();

    // @public {boolean}
    this.allowMixedNumbers = allowMixedNumbers;

    // @public {Property.<BuildingRepresentation>}
    this.topRepresentationProperty = new Property(BuildingRepresentation.PIE);

    // Shape stacks
    [{
      representation: BuildingRepresentation.PIE,
      color: FractionsCommonColors.labPieFillProperty
    }, {
      representation: BuildingRepresentation.BAR,
      color: FractionsCommonColors.labBarFillProperty
    }].forEach(({
      representation,
      color
    }) => {
      _.range(1, 9).forEach(denominator => {
        const stack = new ShapeStack(new Fraction(1, denominator), PIECE_LAYOUT_QUANTITY, representation, color, false);
        stack.shapePieces.push(new ShapePiece(new Fraction(1, denominator), representation, color));
        stack.shapePieces.push(new ShapePiece(new Fraction(1, denominator), representation, color));
        this.shapeStacks.push(stack);
      });
    });

    // Number stacks
    _.range(1, 9).forEach(number => {
      const stack = new NumberStack(number, PIECE_LAYOUT_QUANTITY, false);
      stack.numberPieces.push(new NumberPiece(number));
      stack.numberPieces.push(new NumberPiece(number));
      this.numberStacks.push(stack);
    });

    // Non-mutable stacks
    this.shapeGroupStacks.push(new ShapeGroupStack(GROUP_LAYOUT_QUANTITY, BuildingRepresentation.PIE, true, false));
    this.shapeGroupStacks.push(new ShapeGroupStack(GROUP_LAYOUT_QUANTITY, BuildingRepresentation.BAR, true, false));
    this.numberGroupStacks.push(new NumberGroupStack(GROUP_LAYOUT_QUANTITY, false, false));
    this.numberGroupStacks.push(new NumberGroupStack(GROUP_LAYOUT_QUANTITY, true, false));

    // Add initial stacks
    this.shapeGroupStacks.forEach(shapeGroupStack => {
      shapeGroupStack.shapeGroups.push(new ShapeGroup(shapeGroupStack.representation));
    });
    this.numberGroupStacks.forEach(numberGroupStack => {
      numberGroupStack.numberGroups.push(new NumberGroup(numberGroupStack.isMixedNumber));
    });

    // Shared to set up some initial state
    this.reset();
  }

  /**
   * Returns the index to which pieces should animate to in the shape stack.
   * @protected
   * @override
   *
   * @param {ShapeStack} shapeStack
   * @returns {number}
   */
  getShapeStackIndex(shapeStack) {
    return 1;
  }

  /**
   * Returns the index to which pieces should animate to in the number stack.
   * @protected
   * @override
   *
   * @param {NumberStack} numberStack
   * @returns {number}
   */
  getNumberStackIndex(numberStack) {
    return 1;
  }

  /**
   * Resets the model.
   * @public
   */
  reset() {
    this.topRepresentationProperty.reset();
    super.reset();

    // Initial state
    const shapeGroup = this.addShapeGroup(BuildingRepresentation.PIE);
    shapeGroup.positionProperty.value = new Vector2(170, 0);
    this.selectedGroupProperty.value = shapeGroup;
    const numberGroup = this.addNumberGroup(this.allowMixedNumbers);
    numberGroup.positionProperty.value = new Vector2(-170, 0);
  }
}
fractionsCommon.register('BuildingLabModel', BuildingLabModel);
export default BuildingLabModel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIlZlY3RvcjIiLCJGcmFjdGlvbiIsIkJ1aWxkaW5nTW9kZWwiLCJCdWlsZGluZ1JlcHJlc2VudGF0aW9uIiwiTnVtYmVyR3JvdXAiLCJOdW1iZXJHcm91cFN0YWNrIiwiTnVtYmVyUGllY2UiLCJOdW1iZXJTdGFjayIsIlNoYXBlR3JvdXAiLCJTaGFwZUdyb3VwU3RhY2siLCJTaGFwZVBpZWNlIiwiU2hhcGVTdGFjayIsIkZyYWN0aW9uc0NvbW1vbkNvbG9ycyIsImZyYWN0aW9uc0NvbW1vbiIsIlBJRUNFX0xBWU9VVF9RVUFOVElUWSIsIkdST1VQX0xBWU9VVF9RVUFOVElUWSIsIkJ1aWxkaW5nTGFiTW9kZWwiLCJjb25zdHJ1Y3RvciIsImFsbG93TWl4ZWROdW1iZXJzIiwidG9wUmVwcmVzZW50YXRpb25Qcm9wZXJ0eSIsIlBJRSIsInJlcHJlc2VudGF0aW9uIiwiY29sb3IiLCJsYWJQaWVGaWxsUHJvcGVydHkiLCJCQVIiLCJsYWJCYXJGaWxsUHJvcGVydHkiLCJmb3JFYWNoIiwiXyIsInJhbmdlIiwiZGVub21pbmF0b3IiLCJzdGFjayIsInNoYXBlUGllY2VzIiwicHVzaCIsInNoYXBlU3RhY2tzIiwibnVtYmVyIiwibnVtYmVyUGllY2VzIiwibnVtYmVyU3RhY2tzIiwic2hhcGVHcm91cFN0YWNrcyIsIm51bWJlckdyb3VwU3RhY2tzIiwic2hhcGVHcm91cFN0YWNrIiwic2hhcGVHcm91cHMiLCJudW1iZXJHcm91cFN0YWNrIiwibnVtYmVyR3JvdXBzIiwiaXNNaXhlZE51bWJlciIsInJlc2V0IiwiZ2V0U2hhcGVTdGFja0luZGV4Iiwic2hhcGVTdGFjayIsImdldE51bWJlclN0YWNrSW5kZXgiLCJudW1iZXJTdGFjayIsInNoYXBlR3JvdXAiLCJhZGRTaGFwZUdyb3VwIiwicG9zaXRpb25Qcm9wZXJ0eSIsInZhbHVlIiwic2VsZWN0ZWRHcm91cFByb3BlcnR5IiwibnVtYmVyR3JvdXAiLCJhZGROdW1iZXJHcm91cCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQnVpbGRpbmdMYWJNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIxLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBNb2RlbCBmb3IgdGhlIFwiTGFiXCIgc2NyZWVuIG9mIEJ1aWxkIGEgRnJhY3Rpb25cclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxyXG4gKi9cclxuXHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgRnJhY3Rpb24gZnJvbSAnLi4vLi4vLi4vLi4vcGhldGNvbW1vbi9qcy9tb2RlbC9GcmFjdGlvbi5qcyc7XHJcbmltcG9ydCBCdWlsZGluZ01vZGVsIGZyb20gJy4uLy4uL2J1aWxkaW5nL21vZGVsL0J1aWxkaW5nTW9kZWwuanMnO1xyXG5pbXBvcnQgQnVpbGRpbmdSZXByZXNlbnRhdGlvbiBmcm9tICcuLi8uLi9idWlsZGluZy9tb2RlbC9CdWlsZGluZ1JlcHJlc2VudGF0aW9uLmpzJztcclxuaW1wb3J0IE51bWJlckdyb3VwIGZyb20gJy4uLy4uL2J1aWxkaW5nL21vZGVsL051bWJlckdyb3VwLmpzJztcclxuaW1wb3J0IE51bWJlckdyb3VwU3RhY2sgZnJvbSAnLi4vLi4vYnVpbGRpbmcvbW9kZWwvTnVtYmVyR3JvdXBTdGFjay5qcyc7XHJcbmltcG9ydCBOdW1iZXJQaWVjZSBmcm9tICcuLi8uLi9idWlsZGluZy9tb2RlbC9OdW1iZXJQaWVjZS5qcyc7XHJcbmltcG9ydCBOdW1iZXJTdGFjayBmcm9tICcuLi8uLi9idWlsZGluZy9tb2RlbC9OdW1iZXJTdGFjay5qcyc7XHJcbmltcG9ydCBTaGFwZUdyb3VwIGZyb20gJy4uLy4uL2J1aWxkaW5nL21vZGVsL1NoYXBlR3JvdXAuanMnO1xyXG5pbXBvcnQgU2hhcGVHcm91cFN0YWNrIGZyb20gJy4uLy4uL2J1aWxkaW5nL21vZGVsL1NoYXBlR3JvdXBTdGFjay5qcyc7XHJcbmltcG9ydCBTaGFwZVBpZWNlIGZyb20gJy4uLy4uL2J1aWxkaW5nL21vZGVsL1NoYXBlUGllY2UuanMnO1xyXG5pbXBvcnQgU2hhcGVTdGFjayBmcm9tICcuLi8uLi9idWlsZGluZy9tb2RlbC9TaGFwZVN0YWNrLmpzJztcclxuaW1wb3J0IEZyYWN0aW9uc0NvbW1vbkNvbG9ycyBmcm9tICcuLi8uLi9jb21tb24vdmlldy9GcmFjdGlvbnNDb21tb25Db2xvcnMuanMnO1xyXG5pbXBvcnQgZnJhY3Rpb25zQ29tbW9uIGZyb20gJy4uLy4uL2ZyYWN0aW9uc0NvbW1vbi5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgUElFQ0VfTEFZT1VUX1FVQU5USVRZID0gMjtcclxuY29uc3QgR1JPVVBfTEFZT1VUX1FVQU5USVRZID0gMTtcclxuXHJcbmNsYXNzIEJ1aWxkaW5nTGFiTW9kZWwgZXh0ZW5kcyBCdWlsZGluZ01vZGVsIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93TWl4ZWROdW1iZXJzXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIGFsbG93TWl4ZWROdW1iZXJzICkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtib29sZWFufVxyXG4gICAgdGhpcy5hbGxvd01peGVkTnVtYmVycyA9IGFsbG93TWl4ZWROdW1iZXJzO1xyXG5cclxuICAgIC8vIEBwdWJsaWMge1Byb3BlcnR5LjxCdWlsZGluZ1JlcHJlc2VudGF0aW9uPn1cclxuICAgIHRoaXMudG9wUmVwcmVzZW50YXRpb25Qcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eSggQnVpbGRpbmdSZXByZXNlbnRhdGlvbi5QSUUgKTtcclxuXHJcbiAgICAvLyBTaGFwZSBzdGFja3NcclxuICAgIFtcclxuICAgICAgeyByZXByZXNlbnRhdGlvbjogQnVpbGRpbmdSZXByZXNlbnRhdGlvbi5QSUUsIGNvbG9yOiBGcmFjdGlvbnNDb21tb25Db2xvcnMubGFiUGllRmlsbFByb3BlcnR5IH0sXHJcbiAgICAgIHsgcmVwcmVzZW50YXRpb246IEJ1aWxkaW5nUmVwcmVzZW50YXRpb24uQkFSLCBjb2xvcjogRnJhY3Rpb25zQ29tbW9uQ29sb3JzLmxhYkJhckZpbGxQcm9wZXJ0eSB9XHJcbiAgICBdLmZvckVhY2goICggeyByZXByZXNlbnRhdGlvbiwgY29sb3IgfSApID0+IHtcclxuICAgICAgXy5yYW5nZSggMSwgOSApLmZvckVhY2goIGRlbm9taW5hdG9yID0+IHtcclxuICAgICAgICBjb25zdCBzdGFjayA9IG5ldyBTaGFwZVN0YWNrKCBuZXcgRnJhY3Rpb24oIDEsIGRlbm9taW5hdG9yICksIFBJRUNFX0xBWU9VVF9RVUFOVElUWSwgcmVwcmVzZW50YXRpb24sIGNvbG9yLCBmYWxzZSApO1xyXG4gICAgICAgIHN0YWNrLnNoYXBlUGllY2VzLnB1c2goIG5ldyBTaGFwZVBpZWNlKCBuZXcgRnJhY3Rpb24oIDEsIGRlbm9taW5hdG9yICksIHJlcHJlc2VudGF0aW9uLCBjb2xvciApICk7XHJcbiAgICAgICAgc3RhY2suc2hhcGVQaWVjZXMucHVzaCggbmV3IFNoYXBlUGllY2UoIG5ldyBGcmFjdGlvbiggMSwgZGVub21pbmF0b3IgKSwgcmVwcmVzZW50YXRpb24sIGNvbG9yICkgKTtcclxuICAgICAgICB0aGlzLnNoYXBlU3RhY2tzLnB1c2goIHN0YWNrICk7XHJcbiAgICAgIH0gKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBOdW1iZXIgc3RhY2tzXHJcbiAgICBfLnJhbmdlKCAxLCA5ICkuZm9yRWFjaCggbnVtYmVyID0+IHtcclxuICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgTnVtYmVyU3RhY2soIG51bWJlciwgUElFQ0VfTEFZT1VUX1FVQU5USVRZLCBmYWxzZSApO1xyXG4gICAgICBzdGFjay5udW1iZXJQaWVjZXMucHVzaCggbmV3IE51bWJlclBpZWNlKCBudW1iZXIgKSApO1xyXG4gICAgICBzdGFjay5udW1iZXJQaWVjZXMucHVzaCggbmV3IE51bWJlclBpZWNlKCBudW1iZXIgKSApO1xyXG4gICAgICB0aGlzLm51bWJlclN0YWNrcy5wdXNoKCBzdGFjayApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIE5vbi1tdXRhYmxlIHN0YWNrc1xyXG4gICAgdGhpcy5zaGFwZUdyb3VwU3RhY2tzLnB1c2goIG5ldyBTaGFwZUdyb3VwU3RhY2soIEdST1VQX0xBWU9VVF9RVUFOVElUWSwgQnVpbGRpbmdSZXByZXNlbnRhdGlvbi5QSUUsIHRydWUsIGZhbHNlICkgKTtcclxuICAgIHRoaXMuc2hhcGVHcm91cFN0YWNrcy5wdXNoKCBuZXcgU2hhcGVHcm91cFN0YWNrKCBHUk9VUF9MQVlPVVRfUVVBTlRJVFksIEJ1aWxkaW5nUmVwcmVzZW50YXRpb24uQkFSLCB0cnVlLCBmYWxzZSApICk7XHJcbiAgICB0aGlzLm51bWJlckdyb3VwU3RhY2tzLnB1c2goIG5ldyBOdW1iZXJHcm91cFN0YWNrKCBHUk9VUF9MQVlPVVRfUVVBTlRJVFksIGZhbHNlLCBmYWxzZSApICk7XHJcbiAgICB0aGlzLm51bWJlckdyb3VwU3RhY2tzLnB1c2goIG5ldyBOdW1iZXJHcm91cFN0YWNrKCBHUk9VUF9MQVlPVVRfUVVBTlRJVFksIHRydWUsIGZhbHNlICkgKTtcclxuXHJcbiAgICAvLyBBZGQgaW5pdGlhbCBzdGFja3NcclxuICAgIHRoaXMuc2hhcGVHcm91cFN0YWNrcy5mb3JFYWNoKCBzaGFwZUdyb3VwU3RhY2sgPT4ge1xyXG4gICAgICBzaGFwZUdyb3VwU3RhY2suc2hhcGVHcm91cHMucHVzaCggbmV3IFNoYXBlR3JvdXAoIHNoYXBlR3JvdXBTdGFjay5yZXByZXNlbnRhdGlvbiApICk7XHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLm51bWJlckdyb3VwU3RhY2tzLmZvckVhY2goIG51bWJlckdyb3VwU3RhY2sgPT4ge1xyXG4gICAgICBudW1iZXJHcm91cFN0YWNrLm51bWJlckdyb3Vwcy5wdXNoKCBuZXcgTnVtYmVyR3JvdXAoIG51bWJlckdyb3VwU3RhY2suaXNNaXhlZE51bWJlciApICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gU2hhcmVkIHRvIHNldCB1cCBzb21lIGluaXRpYWwgc3RhdGVcclxuICAgIHRoaXMucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGluZGV4IHRvIHdoaWNoIHBpZWNlcyBzaG91bGQgYW5pbWF0ZSB0byBpbiB0aGUgc2hhcGUgc3RhY2suXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqIEBvdmVycmlkZVxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTaGFwZVN0YWNrfSBzaGFwZVN0YWNrXHJcbiAgICogQHJldHVybnMge251bWJlcn1cclxuICAgKi9cclxuICBnZXRTaGFwZVN0YWNrSW5kZXgoIHNoYXBlU3RhY2sgKSB7XHJcbiAgICByZXR1cm4gMTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGluZGV4IHRvIHdoaWNoIHBpZWNlcyBzaG91bGQgYW5pbWF0ZSB0byBpbiB0aGUgbnVtYmVyIHN0YWNrLlxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKiBAb3ZlcnJpZGVcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyU3RhY2t9IG51bWJlclN0YWNrXHJcbiAgICogQHJldHVybnMge251bWJlcn1cclxuICAgKi9cclxuICBnZXROdW1iZXJTdGFja0luZGV4KCBudW1iZXJTdGFjayApIHtcclxuICAgIHJldHVybiAxO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXRzIHRoZSBtb2RlbC5cclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLnRvcFJlcHJlc2VudGF0aW9uUHJvcGVydHkucmVzZXQoKTtcclxuXHJcbiAgICBzdXBlci5yZXNldCgpO1xyXG5cclxuICAgIC8vIEluaXRpYWwgc3RhdGVcclxuICAgIGNvbnN0IHNoYXBlR3JvdXAgPSB0aGlzLmFkZFNoYXBlR3JvdXAoIEJ1aWxkaW5nUmVwcmVzZW50YXRpb24uUElFICk7XHJcbiAgICBzaGFwZUdyb3VwLnBvc2l0aW9uUHJvcGVydHkudmFsdWUgPSBuZXcgVmVjdG9yMiggMTcwLCAwICk7XHJcbiAgICB0aGlzLnNlbGVjdGVkR3JvdXBQcm9wZXJ0eS52YWx1ZSA9IHNoYXBlR3JvdXA7XHJcblxyXG4gICAgY29uc3QgbnVtYmVyR3JvdXAgPSB0aGlzLmFkZE51bWJlckdyb3VwKCB0aGlzLmFsbG93TWl4ZWROdW1iZXJzICk7XHJcbiAgICBudW1iZXJHcm91cC5wb3NpdGlvblByb3BlcnR5LnZhbHVlID0gbmV3IFZlY3RvcjIoIC0xNzAsIDAgKTtcclxuICB9XHJcbn1cclxuXHJcbmZyYWN0aW9uc0NvbW1vbi5yZWdpc3RlciggJ0J1aWxkaW5nTGFiTW9kZWwnLCBCdWlsZGluZ0xhYk1vZGVsICk7XHJcbmV4cG9ydCBkZWZhdWx0IEJ1aWxkaW5nTGFiTW9kZWw7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFFBQVEsTUFBTSxpQ0FBaUM7QUFDdEQsT0FBT0MsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxPQUFPQyxRQUFRLE1BQU0sNkNBQTZDO0FBQ2xFLE9BQU9DLGFBQWEsTUFBTSx1Q0FBdUM7QUFDakUsT0FBT0Msc0JBQXNCLE1BQU0sZ0RBQWdEO0FBQ25GLE9BQU9DLFdBQVcsTUFBTSxxQ0FBcUM7QUFDN0QsT0FBT0MsZ0JBQWdCLE1BQU0sMENBQTBDO0FBQ3ZFLE9BQU9DLFdBQVcsTUFBTSxxQ0FBcUM7QUFDN0QsT0FBT0MsV0FBVyxNQUFNLHFDQUFxQztBQUM3RCxPQUFPQyxVQUFVLE1BQU0sb0NBQW9DO0FBQzNELE9BQU9DLGVBQWUsTUFBTSx5Q0FBeUM7QUFDckUsT0FBT0MsVUFBVSxNQUFNLG9DQUFvQztBQUMzRCxPQUFP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