// Copyright 2013-2023, University of Colorado Boulder

/**
 * Node for the left/right fraction with up/down spinners for denominator/numerator
 *
 * @author Sam Reid (PhET Interactive Simulations)
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import merge from '../../../../phet-core/js/merge.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { Line, Node, Text, VBox } from '../../../../scenery/js/imports.js';
import fractionComparison from '../../fractionComparison.js';
import UpDownSpinner from './UpDownSpinner.js';
class FractionNode extends Node {
  /**
   * @param {Property.<number>} numeratorProperty
   * @param {Property.<number>} denominatorProperty
   * @param {Object} [options]
   */
  constructor(numeratorProperty, denominatorProperty, options) {
    options = merge({
      fill: 'black',
      //By default the fraction node is interactive, which means it has up/down spinners
      //Those spinners can be removed if the fraction node will be used as a label for underneath the number line
      interactive: true
    }, options);
    super();
    const font = new PhetFont({
      size: 84
    });
    const numeratorNode = new Text(numeratorProperty.get(), {
      font: font,
      fill: options.fill
    });
    const line = new Line(0, 0, 80, 0, {
      lineWidth: 4,
      stroke: options.fill
    });
    this.addChild(line);
    numeratorProperty.link(value => {
      numeratorNode.string = `${value}`;
      numeratorNode.centerX = line.centerX;
    });
    const denominatorNode = new Text(denominatorProperty.get(), {
      font: font,
      fill: options.fill
    });
    denominatorProperty.link(value => {
      denominatorNode.string = `${value}`;
      denominatorNode.centerX = line.centerX;
    });
    numeratorNode.mutate({
      centerX: line.centerX,
      bottom: line.bounds.minY - 2
    });
    denominatorNode.mutate({
      centerX: line.centerX,
      top: line.bounds.maxY - 2
    });
    this.addChild(numeratorNode);
    this.addChild(denominatorNode);
    if (options.interactive) {
      const numeratorUpEnabledProperty = new DerivedProperty([numeratorProperty, denominatorProperty], (numerator, denominator) => numerator < denominator);
      const numeratorDownEnabledProperty = new DerivedProperty([numeratorProperty], numerator => numerator > 0);
      const denominatorUpEnabledProperty = new DerivedProperty([denominatorProperty], denominator => denominator < 10);
      const denominatorDownEnabledProperty = new DerivedProperty([numeratorProperty, denominatorProperty], (numerator, denominator) => denominator > 1 && numerator < denominator);
      const numeratorSpinner = new UpDownSpinner(numeratorProperty, numeratorUpEnabledProperty, numeratorDownEnabledProperty);
      const denominatorSpinner = new UpDownSpinner(denominatorProperty, denominatorUpEnabledProperty, denominatorDownEnabledProperty);
      const spinners = new VBox({
        spacing: 20,
        children: [numeratorSpinner, denominatorSpinner],
        left: line.bounds.maxX + 5,
        centerY: line.bounds.centerY
      });
      this.addChild(spinners);
    }
    this.mutate(options);
  }
}
fractionComparison.register('FractionNode', FractionNode);
export default FractionNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJtZXJnZSIsIlBoZXRGb250IiwiTGluZSIsIk5vZGUiLCJUZXh0IiwiVkJveCIsImZyYWN0aW9uQ29tcGFyaXNvbiIsIlVwRG93blNwaW5uZXIiLCJGcmFjdGlvbk5vZGUiLCJjb25zdHJ1Y3RvciIsIm51bWVyYXRvclByb3BlcnR5IiwiZGVub21pbmF0b3JQcm9wZXJ0eSIsIm9wdGlvbnMiLCJmaWxsIiwiaW50ZXJhY3RpdmUiLCJmb250Iiwic2l6ZSIsIm51bWVyYXRvck5vZGUiLCJnZXQiLCJsaW5lIiwibGluZVdpZHRoIiwic3Ryb2tlIiwiYWRkQ2hpbGQiLCJsaW5rIiwidmFsdWUiLCJzdHJpbmciLCJjZW50ZXJYIiwiZGVub21pbmF0b3JOb2RlIiwibXV0YXRlIiwiYm90dG9tIiwiYm91bmRzIiwibWluWSIsInRvcCIsIm1heFkiLCJudW1lcmF0b3JVcEVuYWJsZWRQcm9wZXJ0eSIsIm51bWVyYXRvciIsImRlbm9taW5hdG9yIiwibnVtZXJhdG9yRG93bkVuYWJsZWRQcm9wZXJ0eSIsImRlbm9taW5hdG9yVXBFbmFibGVkUHJvcGVydHkiLCJkZW5vbWluYXRvckRvd25FbmFibGVkUHJvcGVydHkiLCJudW1lcmF0b3JTcGlubmVyIiwiZGVub21pbmF0b3JTcGlubmVyIiwic3Bpbm5lcnMiLCJzcGFjaW5nIiwiY2hpbGRyZW4iLCJsZWZ0IiwibWF4WCIsImNlbnRlclkiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkZyYWN0aW9uTm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxMy0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBOb2RlIGZvciB0aGUgbGVmdC9yaWdodCBmcmFjdGlvbiB3aXRoIHVwL2Rvd24gc3Bpbm5lcnMgZm9yIGRlbm9taW5hdG9yL251bWVyYXRvclxyXG4gKlxyXG4gKiBAYXV0aG9yIFNhbSBSZWlkIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XHJcbmltcG9ydCB7IExpbmUsIE5vZGUsIFRleHQsIFZCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgZnJhY3Rpb25Db21wYXJpc29uIGZyb20gJy4uLy4uL2ZyYWN0aW9uQ29tcGFyaXNvbi5qcyc7XHJcbmltcG9ydCBVcERvd25TcGlubmVyIGZyb20gJy4vVXBEb3duU3Bpbm5lci5qcyc7XHJcblxyXG5jbGFzcyBGcmFjdGlvbk5vZGUgZXh0ZW5kcyBOb2RlIHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtQcm9wZXJ0eS48bnVtYmVyPn0gbnVtZXJhdG9yUHJvcGVydHlcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5LjxudW1iZXI+fSBkZW5vbWluYXRvclByb3BlcnR5XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBudW1lcmF0b3JQcm9wZXJ0eSwgZGVub21pbmF0b3JQcm9wZXJ0eSwgb3B0aW9ucyApIHtcclxuXHJcbiAgICBvcHRpb25zID0gbWVyZ2UoIHtcclxuXHJcbiAgICAgIGZpbGw6ICdibGFjaycsXHJcbiAgICAgIC8vQnkgZGVmYXVsdCB0aGUgZnJhY3Rpb24gbm9kZSBpcyBpbnRlcmFjdGl2ZSwgd2hpY2ggbWVhbnMgaXQgaGFzIHVwL2Rvd24gc3Bpbm5lcnNcclxuICAgICAgLy9UaG9zZSBzcGlubmVycyBjYW4gYmUgcmVtb3ZlZCBpZiB0aGUgZnJhY3Rpb24gbm9kZSB3aWxsIGJlIHVzZWQgYXMgYSBsYWJlbCBmb3IgdW5kZXJuZWF0aCB0aGUgbnVtYmVyIGxpbmVcclxuICAgICAgaW50ZXJhY3RpdmU6IHRydWVcclxuICAgIH0sIG9wdGlvbnMgKTtcclxuXHJcbiAgICBzdXBlcigpO1xyXG4gICAgY29uc3QgZm9udCA9IG5ldyBQaGV0Rm9udCggeyBzaXplOiA4NCB9ICk7XHJcbiAgICBjb25zdCBudW1lcmF0b3JOb2RlID0gbmV3IFRleHQoIG51bWVyYXRvclByb3BlcnR5LmdldCgpLCB7IGZvbnQ6IGZvbnQsIGZpbGw6IG9wdGlvbnMuZmlsbCB9ICk7XHJcblxyXG4gICAgY29uc3QgbGluZSA9IG5ldyBMaW5lKCAwLCAwLCA4MCwgMCwgeyBsaW5lV2lkdGg6IDQsIHN0cm9rZTogb3B0aW9ucy5maWxsIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIGxpbmUgKTtcclxuXHJcbiAgICBudW1lcmF0b3JQcm9wZXJ0eS5saW5rKCB2YWx1ZSA9PiB7XHJcbiAgICAgIG51bWVyYXRvck5vZGUuc3RyaW5nID0gYCR7dmFsdWV9YDtcclxuICAgICAgbnVtZXJhdG9yTm9kZS5jZW50ZXJYID0gbGluZS5jZW50ZXJYO1xyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGRlbm9taW5hdG9yTm9kZSA9IG5ldyBUZXh0KCBkZW5vbWluYXRvclByb3BlcnR5LmdldCgpLCB7IGZvbnQ6IGZvbnQsIGZpbGw6IG9wdGlvbnMuZmlsbCB9ICk7XHJcbiAgICBkZW5vbWluYXRvclByb3BlcnR5LmxpbmsoIHZhbHVlID0+IHtcclxuICAgICAgZGVub21pbmF0b3JOb2RlLnN0cmluZyA9IGAke3ZhbHVlfWA7XHJcbiAgICAgIGRlbm9taW5hdG9yTm9kZS5jZW50ZXJYID0gbGluZS5jZW50ZXJYO1xyXG4gICAgfSApO1xyXG5cclxuICAgIG51bWVyYXRvck5vZGUubXV0YXRlKCB7IGNlbnRlclg6IGxpbmUuY2VudGVyWCwgYm90dG9tOiBsaW5lLmJvdW5kcy5taW5ZIC0gMiB9ICk7XHJcbiAgICBkZW5vbWluYXRvck5vZGUubXV0YXRlKCB7IGNlbnRlclg6IGxpbmUuY2VudGVyWCwgdG9wOiBsaW5lLmJvdW5kcy5tYXhZIC0gMiB9ICk7XHJcblxyXG4gICAgdGhpcy5hZGRDaGlsZCggbnVtZXJhdG9yTm9kZSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggZGVub21pbmF0b3JOb2RlICk7XHJcblxyXG4gICAgaWYgKCBvcHRpb25zLmludGVyYWN0aXZlICkge1xyXG4gICAgICBjb25zdCBudW1lcmF0b3JVcEVuYWJsZWRQcm9wZXJ0eSA9IG5ldyBEZXJpdmVkUHJvcGVydHkoXHJcbiAgICAgICAgWyBudW1lcmF0b3JQcm9wZXJ0eSwgZGVub21pbmF0b3JQcm9wZXJ0eSBdLFxyXG4gICAgICAgICggbnVtZXJhdG9yLCBkZW5vbWluYXRvciApID0+IG51bWVyYXRvciA8IGRlbm9taW5hdG9yICk7XHJcbiAgICAgIGNvbnN0IG51bWVyYXRvckRvd25FbmFibGVkUHJvcGVydHkgPSBuZXcgRGVyaXZlZFByb3BlcnR5KFxyXG4gICAgICAgIFsgbnVtZXJhdG9yUHJvcGVydHkgXSxcclxuICAgICAgICBudW1lcmF0b3IgPT4gbnVtZXJhdG9yID4gMCApO1xyXG4gICAgICBjb25zdCBkZW5vbWluYXRvclVwRW5hYmxlZFByb3BlcnR5ID0gbmV3IERlcml2ZWRQcm9wZXJ0eShcclxuICAgICAgICBbIGRlbm9taW5hdG9yUHJvcGVydHkgXSxcclxuICAgICAgICBkZW5vbWluYXRvciA9PiBkZW5vbWluYXRvciA8IDEwICk7XHJcbiAgICAgIGNvbnN0IGRlbm9taW5hdG9yRG93bkVuYWJsZWRQcm9wZXJ0eSA9IG5ldyBEZXJpdmVkUHJvcGVydHkoXHJcbiAgICAgICAgWyBudW1lcmF0b3JQcm9wZXJ0eSwgZGVub21pbmF0b3JQcm9wZXJ0eSBdLFxyXG4gICAgICAgICggbnVtZXJhdG9yLCBkZW5vbWluYXRvciApID0+IGRlbm9taW5hdG9yID4gMSAmJiBudW1lcmF0b3IgPCBkZW5vbWluYXRvciApO1xyXG5cclxuICAgICAgY29uc3QgbnVtZXJhdG9yU3Bpbm5lciA9IG5ldyBVcERvd25TcGlubmVyKCBudW1lcmF0b3JQcm9wZXJ0eSwgbnVtZXJhdG9yVXBFbmFibGVkUHJvcGVydHksIG51bWVyYXRvckRvd25FbmFibGVkUHJvcGVydHkgKTtcclxuICAgICAgY29uc3QgZGVub21pbmF0b3JTcGlubmVyID0gbmV3IFVwRG93blNwaW5uZXIoIGRlbm9taW5hdG9yUHJvcGVydHksIGRlbm9taW5hdG9yVXBFbmFibGVkUHJvcGVydHksIGRlbm9taW5hdG9yRG93bkVuYWJsZWRQcm9wZXJ0eSApO1xyXG5cclxuICAgICAgY29uc3Qgc3Bpbm5lcnMgPSBuZXcgVkJveCgge1xyXG4gICAgICAgIHNwYWNpbmc6IDIwLFxyXG4gICAgICAgIGNoaWxkcmVuOiBbIG51bWVyYXRvclNwaW5uZXIsIGRlbm9taW5hdG9yU3Bpbm5lciBdLFxyXG4gICAgICAgIGxlZnQ6IGxpbmUuYm91bmRzLm1heFggKyA1LFxyXG4gICAgICAgIGNlbnRlclk6IGxpbmUuYm91bmRzLmNlbnRlcllcclxuICAgICAgfSApO1xyXG4gICAgICB0aGlzLmFkZENoaWxkKCBzcGlubmVycyApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubXV0YXRlKCBvcHRpb25zICk7XHJcbiAgfVxyXG59XHJcblxyXG5mcmFjdGlvbkNvbXBhcmlzb24ucmVnaXN0ZXIoICdGcmFjdGlvbk5vZGUnLCBGcmFjdGlvbk5vZGUgKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZyYWN0aW9uTm9kZTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsZUFBZSxNQUFNLHdDQUF3QztBQUNwRSxPQUFPQyxLQUFLLE1BQU0sbUNBQW1DO0FBQ3JELE9BQU9DLFFBQVEsTUFBTSx5Q0FBeUM7QUFDOUQsU0FBU0MsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxRQUFRLG1DQUFtQztBQUMx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