// Copyright 2019-2023, University of Colorado Boulder

/**
 * The main view for the Compare screen of the Density simulation.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import UnitConversionProperty from '../../../../axon/js/UnitConversionProperty.js';
import Vector3 from '../../../../dot/js/Vector3.js';
import { AlignBox, Node, PhetioControlledVisibilityProperty, Text, VBox } from '../../../../scenery/js/imports.js';
import Panel from '../../../../sun/js/Panel.js';
import VerticalAquaRadioButtonGroup from '../../../../sun/js/VerticalAquaRadioButtonGroup.js';
import DensityBuoyancyCommonConstants from '../../common/DensityBuoyancyCommonConstants.js';
import DensityBuoyancyScreenView from '../../common/view/DensityBuoyancyScreenView.js';
import densityBuoyancyCommon from '../../densityBuoyancyCommon.js';
import DensityBuoyancyCommonStrings from '../../DensityBuoyancyCommonStrings.js';
import { BlockSet } from '../model/DensityCompareModel.js';
import ComparisonNumberControl from './ComparisonNumberControl.js';
import { combineOptions } from '../../../../phet-core/js/optionize.js';

// constants
const blockSetStringMap = {
  [BlockSet.SAME_MASS.name]: DensityBuoyancyCommonStrings.blockSet.sameMassStringProperty,
  [BlockSet.SAME_VOLUME.name]: DensityBuoyancyCommonStrings.blockSet.sameVolumeStringProperty,
  [BlockSet.SAME_DENSITY.name]: DensityBuoyancyCommonStrings.blockSet.sameDensityStringProperty
};
const MARGIN = DensityBuoyancyCommonConstants.MARGIN;
export default class DensityCompareScreenView extends DensityBuoyancyScreenView {
  constructor(model, options) {
    const tandem = options.tandem;
    super(model, combineOptions({
      cameraLookAt: DensityBuoyancyCommonConstants.DENSITY_CAMERA_LOOK_AT
    }, options));
    const blockSetTandemMap = {
      [BlockSet.SAME_MASS.name]: 'sameMass',
      [BlockSet.SAME_VOLUME.name]: 'sameVolume',
      [BlockSet.SAME_DENSITY.name]: 'sameDensity'
    };
    const blocksPanelTandem = tandem.createTandem('blocksPanel');
    const blocksRadioButtonGroupTandem = blocksPanelTandem.createTandem('blocksRadioButtonGroup');
    const blocksPanel = new Panel(new VBox({
      children: [new Text(DensityBuoyancyCommonStrings.blocksStringProperty, {
        font: DensityBuoyancyCommonConstants.TITLE_FONT,
        maxWidth: 160,
        tandem: blocksPanelTandem.createTandem('titleText')
      }), new VerticalAquaRadioButtonGroup(model.blockSetProperty, BlockSet.enumeration.values.map(blockSet => {
        return {
          createNode: tandem => new Text(blockSetStringMap[blockSet.name], {
            font: DensityBuoyancyCommonConstants.RADIO_BUTTON_FONT,
            maxWidth: 160,
            tandem: tandem.createTandem('labelText')
          }),
          value: blockSet,
          tandemName: `${blockSetTandemMap[blockSet.name]}RadioButton`
        };
      }), {
        align: 'left',
        spacing: 8,
        tandem: blocksRadioButtonGroupTandem
      })],
      spacing: 10,
      align: 'left'
    }), combineOptions({
      tandem: blocksPanelTandem
    }, DensityBuoyancyCommonConstants.PANEL_OPTIONS));
    this.addChild(new AlignBox(blocksPanel, {
      alignBoundsProperty: this.visibleBoundsProperty,
      xAlign: 'right',
      yAlign: 'top',
      margin: MARGIN
    }));

    // For unit conversion, cubic meters => liters
    const volumeProperty = new UnitConversionProperty(model.volumeProperty, {
      factor: 1000
    });

    // For unit conversion, kg/cubic meter => kg/liter
    const densityProperty = new UnitConversionProperty(model.densityProperty, {
      factor: 1 / 1000
    });
    const massNumberControlTandem = tandem.createTandem('massNumberControl');
    const massNumberControl = new ComparisonNumberControl(model.massProperty, DensityBuoyancyCommonStrings.massStringProperty, DensityBuoyancyCommonStrings.kilogramsPatternStringProperty, 'kilograms', {
      tandem: massNumberControlTandem,
      visibleProperty: new PhetioControlledVisibilityProperty([model.blockSetProperty], blockSet => blockSet === BlockSet.SAME_MASS, {
        nodeTandem: massNumberControlTandem
      }),
      sliderOptions: {
        phetioLinkedProperty: model.massProperty
      }
    });
    const volumeNumberControlTandem = tandem.createTandem('volumeNumberControl');
    const volumeNumberControl = new ComparisonNumberControl(volumeProperty, DensityBuoyancyCommonStrings.volumeStringProperty, DensityBuoyancyCommonConstants.VOLUME_PATTERN_STRING_PROPERTY, 'value', {
      tandem: volumeNumberControlTandem,
      visibleProperty: new PhetioControlledVisibilityProperty([model.blockSetProperty], blockSet => blockSet === BlockSet.SAME_VOLUME, {
        nodeTandem: volumeNumberControlTandem
      }),
      sliderOptions: {
        phetioLinkedProperty: model.volumeProperty
      }
    });
    const densityNumberControlTandem = tandem.createTandem('densityNumberControl');
    const densityNumberControl = new ComparisonNumberControl(densityProperty, DensityBuoyancyCommonStrings.densityStringProperty, DensityBuoyancyCommonConstants.KILOGRAMS_PER_VOLUME_PATTERN_STRING_PROPERTY, 'value', {
      tandem: densityNumberControlTandem,
      visibleProperty: new PhetioControlledVisibilityProperty([model.blockSetProperty], blockSet => blockSet === BlockSet.SAME_DENSITY, {
        nodeTandem: densityNumberControlTandem
      }),
      sliderOptions: {
        phetioLinkedProperty: model.densityProperty
      }
    });
    const numberControlPanel = new Panel(new Node({
      children: [massNumberControl, volumeNumberControl, densityNumberControl],
      excludeInvisibleChildrenFromBounds: true
    }), combineOptions({
      visibleProperty: DerivedProperty.or([massNumberControl.visibleProperty, volumeNumberControl.visibleProperty, densityNumberControl.visibleProperty])
    }, DensityBuoyancyCommonConstants.PANEL_OPTIONS));
    this.addChild(numberControlPanel);
    this.positionPanel = () => {
      // We should be MARGIN below where the edge of the ground exists
      const groundFrontPoint = this.modelToViewPoint(new Vector3(0, 0, model.groundBounds.maxZ));
      numberControlPanel.top = groundFrontPoint.y + MARGIN;
      numberControlPanel.right = this.visibleBoundsProperty.value.maxX - 10;
    };
    this.positionPanel();
    // This instance lives for the lifetime of the simulation, so we don't need to remove these listeners
    this.transformEmitter.addListener(this.positionPanel);
    this.visibleBoundsProperty.lazyLink(this.positionPanel);
    numberControlPanel.localBoundsProperty.lazyLink(this.positionPanel);
    this.addChild(this.popupLayer);
  }
  layout(viewBounds) {
    super.layout(viewBounds);

    // If the simulation was not able to load for WebGL, bail out
    if (!this.sceneNode) {
      return;
    }
    this.positionPanel();
  }
}
densityBuoyancyCommon.register('DensityCompareScreenView', DensityCompareScreenView);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJVbml0Q29udmVyc2lvblByb3BlcnR5IiwiVmVjdG9yMyIsIkFsaWduQm94IiwiTm9kZSIsIlBoZXRpb0NvbnRyb2xsZWRWaXNpYmlsaXR5UHJvcGVydHkiLCJUZXh0IiwiVkJveCIsIlBhbmVsIiwiVmVydGljYWxBcXVhUmFkaW9CdXR0b25Hcm91cCIsIkRlbnNpdHlCdW95YW5jeUNvbW1vbkNvbnN0YW50cyIsIkRlbnNpdHlCdW95YW5jeVNjcmVlblZpZXciLCJkZW5zaXR5QnVveWFuY3lDb21tb24iLCJEZW5zaXR5QnVveWFuY3lDb21tb25TdHJpbmdzIiwiQmxvY2tTZXQiLCJDb21wYXJpc29uTnVtYmVyQ29udHJvbCIsImNvbWJpbmVPcHRpb25zIiwiYmxvY2tTZXRTdHJpbmdNYXAiLCJTQU1FX01BU1MiLCJuYW1lIiwiYmxvY2tTZXQiLCJzYW1lTWFzc1N0cmluZ1Byb3BlcnR5IiwiU0FNRV9WT0xVTUUiLCJzYW1lVm9sdW1lU3RyaW5nUHJvcGVydHkiLCJTQU1FX0RFTlNJVFkiLCJzYW1lRGVuc2l0eVN0cmluZ1Byb3BlcnR5IiwiTUFSR0lOIiwiRGVuc2l0eUNvbXBhcmVTY3JlZW5WaWV3IiwiY29uc3RydWN0b3IiLCJtb2RlbCIsIm9wdGlvbnMiLCJ0YW5kZW0iLCJjYW1lcmFMb29rQXQiLCJERU5TSVRZX0NBTUVSQV9MT09LX0FUIiwiYmxvY2tTZXRUYW5kZW1NYXAiLCJibG9ja3NQYW5lbFRhbmRlbSIsImNyZWF0ZVRhbmRlbSIsImJsb2Nrc1JhZGlvQnV0dG9uR3JvdXBUYW5kZW0iLCJibG9ja3NQYW5lbCIsImNoaWxkcmVuIiwiYmxvY2tzU3RyaW5nUHJvcGVydHkiLCJmb250IiwiVElUTEVfRk9OVCIsIm1heFdpZHRoIiwiYmxvY2tTZXRQcm9wZXJ0eSIsImVudW1lcmF0aW9uIiwidmFsdWVzIiwibWFwIiwiY3JlYXRlTm9kZSIsIlJBRElPX0JVVFRPTl9GT05UIiwidmFsdWUiLCJ0YW5kZW1OYW1lIiwiYWxpZ24iLCJzcGFjaW5nIiwiUEFORUxfT1BUSU9OUyIsImFkZENoaWxkIiwiYWxpZ25Cb3VuZHNQcm9wZXJ0eSIsInZpc2libGVCb3VuZHNQcm9wZXJ0eSIsInhBbGlnbiIsInlBbGlnbiIsIm1hcmdpbiIsInZvbHVtZVByb3BlcnR5IiwiZmFjdG9yIiwiZGVuc2l0eVByb3BlcnR5IiwibWFzc051bWJlckNvbnRyb2xUYW5kZW0iLCJtYXNzTnVtYmVyQ29udHJvbCIsIm1hc3NQcm9wZXJ0eSIsIm1hc3NTdHJpbmdQcm9wZXJ0eSIsImtpbG9ncmFtc1BhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsInZpc2libGVQcm9wZXJ0eSIsIm5vZGVUYW5kZW0iLCJzbGlkZXJPcHRpb25zIiwicGhldGlvTGlua2VkUHJvcGVydHkiLCJ2b2x1bWVOdW1iZXJDb250cm9sVGFuZGVtIiwidm9sdW1lTnVtYmVyQ29udHJvbCIsInZvbHVtZVN0cmluZ1Byb3BlcnR5IiwiVk9MVU1FX1BBVFRFUk5fU1RSSU5HX1BST1BFUlRZIiwiZGVuc2l0eU51bWJlckNvbnRyb2xUYW5kZW0iLCJkZW5zaXR5TnVtYmVyQ29udHJvbCIsImRlbnNpdHlTdHJpbmdQcm9wZXJ0eSIsIktJTE9HUkFNU19QRVJfVk9MVU1FX1BBVFRFUk5fU1RSSU5HX1BST1BFUlRZIiwibnVtYmVyQ29udHJvbFBhbmVsIiwiZXhjbHVkZUludmlzaWJsZUNoaWxkcmVuRnJvbUJvdW5kcyIsIm9yIiwicG9zaXRpb25QYW5lbCIsImdyb3VuZEZyb250UG9pbnQiLCJtb2RlbFRvVmlld1BvaW50IiwiZ3JvdW5kQm91bmRzIiwibWF4WiIsInRvcCIsInkiLCJyaWdodCIsIm1heFgiLCJ0cmFuc2Zvcm1FbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJsYXp5TGluayIsImxvY2FsQm91bmRzUHJvcGVydHkiLCJwb3B1cExheWVyIiwibGF5b3V0Iiwidmlld0JvdW5kcyIsInNjZW5lTm9kZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiRGVuc2l0eUNvbXBhcmVTY3JlZW5WaWV3LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFRoZSBtYWluIHZpZXcgZm9yIHRoZSBDb21wYXJlIHNjcmVlbiBvZiB0aGUgRGVuc2l0eSBzaW11bGF0aW9uLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvbmF0aGFuIE9sc29uIDxqb25hdGhhbi5vbHNvbkBjb2xvcmFkby5lZHU+XHJcbiAqL1xyXG5cclxuaW1wb3J0IERlcml2ZWRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Rlcml2ZWRQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBVbml0Q29udmVyc2lvblByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvVW5pdENvbnZlcnNpb25Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBWZWN0b3IzIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IzLmpzJztcclxuaW1wb3J0IHsgQWxpZ25Cb3gsIE5vZGUsIFBoZXRpb0NvbnRyb2xsZWRWaXNpYmlsaXR5UHJvcGVydHksIFRleHQsIFZCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgUGFuZWwsIHsgUGFuZWxPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL1BhbmVsLmpzJztcclxuaW1wb3J0IFZlcnRpY2FsQXF1YVJhZGlvQnV0dG9uR3JvdXAgZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL1ZlcnRpY2FsQXF1YVJhZGlvQnV0dG9uR3JvdXAuanMnO1xyXG5pbXBvcnQgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9EZW5zaXR5QnVveWFuY3lDb21tb25Db25zdGFudHMuanMnO1xyXG5pbXBvcnQgRGVuc2l0eUJ1b3lhbmN5U2NyZWVuVmlldywgeyBEZW5zaXR5QnVveWFuY3lTY3JlZW5WaWV3T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L0RlbnNpdHlCdW95YW5jeVNjcmVlblZpZXcuanMnO1xyXG5pbXBvcnQgZGVuc2l0eUJ1b3lhbmN5Q29tbW9uIGZyb20gJy4uLy4uL2RlbnNpdHlCdW95YW5jeUNvbW1vbi5qcyc7XHJcbmltcG9ydCBEZW5zaXR5QnVveWFuY3lDb21tb25TdHJpbmdzIGZyb20gJy4uLy4uL0RlbnNpdHlCdW95YW5jeUNvbW1vblN0cmluZ3MuanMnO1xyXG5pbXBvcnQgRGVuc2l0eUNvbXBhcmVNb2RlbCwgeyBCbG9ja1NldCB9IGZyb20gJy4uL21vZGVsL0RlbnNpdHlDb21wYXJlTW9kZWwuanMnO1xyXG5pbXBvcnQgQ29tcGFyaXNvbk51bWJlckNvbnRyb2wgZnJvbSAnLi9Db21wYXJpc29uTnVtYmVyQ29udHJvbC5qcyc7XHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IHsgY29tYmluZU9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBibG9ja1NldFN0cmluZ01hcCA9IHtcclxuICBbIEJsb2NrU2V0LlNBTUVfTUFTUy5uYW1lIF06IERlbnNpdHlCdW95YW5jeUNvbW1vblN0cmluZ3MuYmxvY2tTZXQuc2FtZU1hc3NTdHJpbmdQcm9wZXJ0eSxcclxuICBbIEJsb2NrU2V0LlNBTUVfVk9MVU1FLm5hbWUgXTogRGVuc2l0eUJ1b3lhbmN5Q29tbW9uU3RyaW5ncy5ibG9ja1NldC5zYW1lVm9sdW1lU3RyaW5nUHJvcGVydHksXHJcbiAgWyBCbG9ja1NldC5TQU1FX0RFTlNJVFkubmFtZSBdOiBEZW5zaXR5QnVveWFuY3lDb21tb25TdHJpbmdzLmJsb2NrU2V0LnNhbWVEZW5zaXR5U3RyaW5nUHJvcGVydHlcclxufTtcclxuY29uc3QgTUFSR0lOID0gRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29uc3RhbnRzLk1BUkdJTjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlbnNpdHlDb21wYXJlU2NyZWVuVmlldyBleHRlbmRzIERlbnNpdHlCdW95YW5jeVNjcmVlblZpZXc8RGVuc2l0eUNvbXBhcmVNb2RlbD4ge1xyXG5cclxuICBwcml2YXRlIHBvc2l0aW9uUGFuZWw6ICgpID0+IHZvaWQ7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggbW9kZWw6IERlbnNpdHlDb21wYXJlTW9kZWwsIG9wdGlvbnM6IERlbnNpdHlCdW95YW5jeVNjcmVlblZpZXdPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IHRhbmRlbSA9IG9wdGlvbnMudGFuZGVtO1xyXG5cclxuICAgIHN1cGVyKCBtb2RlbCwgY29tYmluZU9wdGlvbnM8RGVuc2l0eUJ1b3lhbmN5U2NyZWVuVmlld09wdGlvbnM+KCB7XHJcbiAgICAgIGNhbWVyYUxvb2tBdDogRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29uc3RhbnRzLkRFTlNJVFlfQ0FNRVJBX0xPT0tfQVRcclxuICAgIH0sIG9wdGlvbnMgKSApO1xyXG5cclxuICAgIGNvbnN0IGJsb2NrU2V0VGFuZGVtTWFwID0ge1xyXG4gICAgICBbIEJsb2NrU2V0LlNBTUVfTUFTUy5uYW1lIF06ICdzYW1lTWFzcycsXHJcbiAgICAgIFsgQmxvY2tTZXQuU0FNRV9WT0xVTUUubmFtZSBdOiAnc2FtZVZvbHVtZScsXHJcbiAgICAgIFsgQmxvY2tTZXQuU0FNRV9ERU5TSVRZLm5hbWUgXTogJ3NhbWVEZW5zaXR5J1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBibG9ja3NQYW5lbFRhbmRlbSA9IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdibG9ja3NQYW5lbCcgKTtcclxuICAgIGNvbnN0IGJsb2Nrc1JhZGlvQnV0dG9uR3JvdXBUYW5kZW0gPSBibG9ja3NQYW5lbFRhbmRlbS5jcmVhdGVUYW5kZW0oICdibG9ja3NSYWRpb0J1dHRvbkdyb3VwJyApO1xyXG4gICAgY29uc3QgYmxvY2tzUGFuZWwgPSBuZXcgUGFuZWwoIG5ldyBWQm94KCB7XHJcbiAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgbmV3IFRleHQoIERlbnNpdHlCdW95YW5jeUNvbW1vblN0cmluZ3MuYmxvY2tzU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICAgIGZvbnQ6IERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbnN0YW50cy5USVRMRV9GT05ULFxyXG4gICAgICAgICAgbWF4V2lkdGg6IDE2MCxcclxuICAgICAgICAgIHRhbmRlbTogYmxvY2tzUGFuZWxUYW5kZW0uY3JlYXRlVGFuZGVtKCAndGl0bGVUZXh0JyApXHJcbiAgICAgICAgfSApLFxyXG4gICAgICAgIG5ldyBWZXJ0aWNhbEFxdWFSYWRpb0J1dHRvbkdyb3VwKCBtb2RlbC5ibG9ja1NldFByb3BlcnR5LCBCbG9ja1NldC5lbnVtZXJhdGlvbi52YWx1ZXMubWFwKCBibG9ja1NldCA9PiB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjcmVhdGVOb2RlOiB0YW5kZW0gPT4gbmV3IFRleHQoIGJsb2NrU2V0U3RyaW5nTWFwWyBibG9ja1NldC5uYW1lIF0sIHtcclxuICAgICAgICAgICAgICBmb250OiBEZW5zaXR5QnVveWFuY3lDb21tb25Db25zdGFudHMuUkFESU9fQlVUVE9OX0ZPTlQsXHJcbiAgICAgICAgICAgICAgbWF4V2lkdGg6IDE2MCxcclxuICAgICAgICAgICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdsYWJlbFRleHQnIClcclxuICAgICAgICAgICAgfSApLFxyXG4gICAgICAgICAgICB2YWx1ZTogYmxvY2tTZXQsXHJcbiAgICAgICAgICAgIHRhbmRlbU5hbWU6IGAke2Jsb2NrU2V0VGFuZGVtTWFwWyBibG9ja1NldC5uYW1lIF19UmFkaW9CdXR0b25gXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0gKSwge1xyXG4gICAgICAgICAgYWxpZ246ICdsZWZ0JyxcclxuICAgICAgICAgIHNwYWNpbmc6IDgsXHJcbiAgICAgICAgICB0YW5kZW06IGJsb2Nrc1JhZGlvQnV0dG9uR3JvdXBUYW5kZW1cclxuICAgICAgICB9IClcclxuICAgICAgXSxcclxuICAgICAgc3BhY2luZzogMTAsXHJcbiAgICAgIGFsaWduOiAnbGVmdCdcclxuICAgIH0gKSwgY29tYmluZU9wdGlvbnM8UGFuZWxPcHRpb25zPigge1xyXG4gICAgICB0YW5kZW06IGJsb2Nrc1BhbmVsVGFuZGVtXHJcbiAgICB9LCBEZW5zaXR5QnVveWFuY3lDb21tb25Db25zdGFudHMuUEFORUxfT1BUSU9OUyApICk7XHJcblxyXG4gICAgdGhpcy5hZGRDaGlsZCggbmV3IEFsaWduQm94KCBibG9ja3NQYW5lbCwge1xyXG4gICAgICBhbGlnbkJvdW5kc1Byb3BlcnR5OiB0aGlzLnZpc2libGVCb3VuZHNQcm9wZXJ0eSxcclxuICAgICAgeEFsaWduOiAncmlnaHQnLFxyXG4gICAgICB5QWxpZ246ICd0b3AnLFxyXG4gICAgICBtYXJnaW46IE1BUkdJTlxyXG4gICAgfSApICk7XHJcblxyXG4gICAgLy8gRm9yIHVuaXQgY29udmVyc2lvbiwgY3ViaWMgbWV0ZXJzID0+IGxpdGVyc1xyXG4gICAgY29uc3Qgdm9sdW1lUHJvcGVydHkgPSBuZXcgVW5pdENvbnZlcnNpb25Qcm9wZXJ0eSggbW9kZWwudm9sdW1lUHJvcGVydHksIHtcclxuICAgICAgZmFjdG9yOiAxMDAwXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gRm9yIHVuaXQgY29udmVyc2lvbiwga2cvY3ViaWMgbWV0ZXIgPT4ga2cvbGl0ZXJcclxuICAgIGNvbnN0IGRlbnNpdHlQcm9wZXJ0eSA9IG5ldyBVbml0Q29udmVyc2lvblByb3BlcnR5KCBtb2RlbC5kZW5zaXR5UHJvcGVydHksIHtcclxuICAgICAgZmFjdG9yOiAxIC8gMTAwMFxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IG1hc3NOdW1iZXJDb250cm9sVGFuZGVtID0gdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ21hc3NOdW1iZXJDb250cm9sJyApO1xyXG4gICAgY29uc3QgbWFzc051bWJlckNvbnRyb2wgPSBuZXcgQ29tcGFyaXNvbk51bWJlckNvbnRyb2woXHJcbiAgICAgIG1vZGVsLm1hc3NQcm9wZXJ0eSxcclxuICAgICAgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uU3RyaW5ncy5tYXNzU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIERlbnNpdHlCdW95YW5jeUNvbW1vblN0cmluZ3Mua2lsb2dyYW1zUGF0dGVyblN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICAna2lsb2dyYW1zJyxcclxuICAgICAge1xyXG4gICAgICAgIHRhbmRlbTogbWFzc051bWJlckNvbnRyb2xUYW5kZW0sXHJcbiAgICAgICAgdmlzaWJsZVByb3BlcnR5OiBuZXcgUGhldGlvQ29udHJvbGxlZFZpc2liaWxpdHlQcm9wZXJ0eSggWyBtb2RlbC5ibG9ja1NldFByb3BlcnR5IF0sIGJsb2NrU2V0ID0+IGJsb2NrU2V0ID09PSBCbG9ja1NldC5TQU1FX01BU1MsIHtcclxuICAgICAgICAgIG5vZGVUYW5kZW06IG1hc3NOdW1iZXJDb250cm9sVGFuZGVtXHJcbiAgICAgICAgfSApLFxyXG4gICAgICAgIHNsaWRlck9wdGlvbnM6IHtcclxuICAgICAgICAgIHBoZXRpb0xpbmtlZFByb3BlcnR5OiBtb2RlbC5tYXNzUHJvcGVydHlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgY29uc3Qgdm9sdW1lTnVtYmVyQ29udHJvbFRhbmRlbSA9IHRhbmRlbS5jcmVhdGVUYW5kZW0oICd2b2x1bWVOdW1iZXJDb250cm9sJyApO1xyXG4gICAgY29uc3Qgdm9sdW1lTnVtYmVyQ29udHJvbCA9IG5ldyBDb21wYXJpc29uTnVtYmVyQ29udHJvbChcclxuICAgICAgdm9sdW1lUHJvcGVydHksXHJcbiAgICAgIERlbnNpdHlCdW95YW5jeUNvbW1vblN0cmluZ3Mudm9sdW1lU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbnN0YW50cy5WT0xVTUVfUEFUVEVSTl9TVFJJTkdfUFJPUEVSVFksXHJcbiAgICAgICd2YWx1ZScsXHJcbiAgICAgIHtcclxuICAgICAgICB0YW5kZW06IHZvbHVtZU51bWJlckNvbnRyb2xUYW5kZW0sXHJcbiAgICAgICAgdmlzaWJsZVByb3BlcnR5OiBuZXcgUGhldGlvQ29udHJvbGxlZFZpc2liaWxpdHlQcm9wZXJ0eSggWyBtb2RlbC5ibG9ja1NldFByb3BlcnR5IF0sIGJsb2NrU2V0ID0+IGJsb2NrU2V0ID09PSBCbG9ja1NldC5TQU1FX1ZPTFVNRSwge1xyXG4gICAgICAgICAgbm9kZVRhbmRlbTogdm9sdW1lTnVtYmVyQ29udHJvbFRhbmRlbVxyXG4gICAgICAgIH0gKSxcclxuICAgICAgICBzbGlkZXJPcHRpb25zOiB7XHJcbiAgICAgICAgICBwaGV0aW9MaW5rZWRQcm9wZXJ0eTogbW9kZWwudm9sdW1lUHJvcGVydHlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgZGVuc2l0eU51bWJlckNvbnRyb2xUYW5kZW0gPSB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnZGVuc2l0eU51bWJlckNvbnRyb2wnICk7XHJcbiAgICBjb25zdCBkZW5zaXR5TnVtYmVyQ29udHJvbCA9IG5ldyBDb21wYXJpc29uTnVtYmVyQ29udHJvbChcclxuICAgICAgZGVuc2l0eVByb3BlcnR5LFxyXG4gICAgICBEZW5zaXR5QnVveWFuY3lDb21tb25TdHJpbmdzLmRlbnNpdHlTdHJpbmdQcm9wZXJ0eSxcclxuICAgICAgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29uc3RhbnRzLktJTE9HUkFNU19QRVJfVk9MVU1FX1BBVFRFUk5fU1RSSU5HX1BST1BFUlRZLFxyXG4gICAgICAndmFsdWUnLFxyXG4gICAgICB7XHJcbiAgICAgICAgdGFuZGVtOiBkZW5zaXR5TnVtYmVyQ29udHJvbFRhbmRlbSxcclxuICAgICAgICB2aXNpYmxlUHJvcGVydHk6IG5ldyBQaGV0aW9Db250cm9sbGVkVmlzaWJpbGl0eVByb3BlcnR5KCBbIG1vZGVsLmJsb2NrU2V0UHJvcGVydHkgXSwgYmxvY2tTZXQgPT4gYmxvY2tTZXQgPT09IEJsb2NrU2V0LlNBTUVfREVOU0lUWSwge1xyXG4gICAgICAgICAgbm9kZVRhbmRlbTogZGVuc2l0eU51bWJlckNvbnRyb2xUYW5kZW1cclxuICAgICAgICB9ICksXHJcbiAgICAgICAgc2xpZGVyT3B0aW9uczoge1xyXG4gICAgICAgICAgcGhldGlvTGlua2VkUHJvcGVydHk6IG1vZGVsLmRlbnNpdHlQcm9wZXJ0eVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBudW1iZXJDb250cm9sUGFuZWwgPSBuZXcgUGFuZWwoIG5ldyBOb2RlKCB7XHJcbiAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgbWFzc051bWJlckNvbnRyb2wsXHJcbiAgICAgICAgdm9sdW1lTnVtYmVyQ29udHJvbCxcclxuICAgICAgICBkZW5zaXR5TnVtYmVyQ29udHJvbFxyXG4gICAgICBdLFxyXG4gICAgICBleGNsdWRlSW52aXNpYmxlQ2hpbGRyZW5Gcm9tQm91bmRzOiB0cnVlXHJcbiAgICB9ICksIGNvbWJpbmVPcHRpb25zPFBhbmVsT3B0aW9ucz4oIHtcclxuICAgICAgdmlzaWJsZVByb3BlcnR5OiBEZXJpdmVkUHJvcGVydHkub3IoIFsgbWFzc051bWJlckNvbnRyb2wudmlzaWJsZVByb3BlcnR5LCB2b2x1bWVOdW1iZXJDb250cm9sLnZpc2libGVQcm9wZXJ0eSwgZGVuc2l0eU51bWJlckNvbnRyb2wudmlzaWJsZVByb3BlcnR5IF0gKVxyXG4gICAgfSwgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29uc3RhbnRzLlBBTkVMX09QVElPTlMgKSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggbnVtYmVyQ29udHJvbFBhbmVsICk7XHJcblxyXG4gICAgdGhpcy5wb3NpdGlvblBhbmVsID0gKCkgPT4ge1xyXG4gICAgICAvLyBXZSBzaG91bGQgYmUgTUFSR0lOIGJlbG93IHdoZXJlIHRoZSBlZGdlIG9mIHRoZSBncm91bmQgZXhpc3RzXHJcbiAgICAgIGNvbnN0IGdyb3VuZEZyb250UG9pbnQgPSB0aGlzLm1vZGVsVG9WaWV3UG9pbnQoIG5ldyBWZWN0b3IzKCAwLCAwLCBtb2RlbC5ncm91bmRCb3VuZHMubWF4WiApICk7XHJcbiAgICAgIG51bWJlckNvbnRyb2xQYW5lbC50b3AgPSBncm91bmRGcm9udFBvaW50LnkgKyBNQVJHSU47XHJcbiAgICAgIG51bWJlckNvbnRyb2xQYW5lbC5yaWdodCA9IHRoaXMudmlzaWJsZUJvdW5kc1Byb3BlcnR5LnZhbHVlLm1heFggLSAxMDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5wb3NpdGlvblBhbmVsKCk7XHJcbiAgICAvLyBUaGlzIGluc3RhbmNlIGxpdmVzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbXVsYXRpb24sIHNvIHdlIGRvbid0IG5lZWQgdG8gcmVtb3ZlIHRoZXNlIGxpc3RlbmVyc1xyXG4gICAgdGhpcy50cmFuc2Zvcm1FbWl0dGVyLmFkZExpc3RlbmVyKCB0aGlzLnBvc2l0aW9uUGFuZWwgKTtcclxuICAgIHRoaXMudmlzaWJsZUJvdW5kc1Byb3BlcnR5LmxhenlMaW5rKCB0aGlzLnBvc2l0aW9uUGFuZWwgKTtcclxuICAgIG51bWJlckNvbnRyb2xQYW5lbC5sb2NhbEJvdW5kc1Byb3BlcnR5LmxhenlMaW5rKCB0aGlzLnBvc2l0aW9uUGFuZWwgKTtcclxuXHJcbiAgICB0aGlzLmFkZENoaWxkKCB0aGlzLnBvcHVwTGF5ZXIgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBsYXlvdXQoIHZpZXdCb3VuZHM6IEJvdW5kczIgKTogdm9pZCB7XHJcbiAgICBzdXBlci5sYXlvdXQoIHZpZXdCb3VuZHMgKTtcclxuXHJcbiAgICAvLyBJZiB0aGUgc2ltdWxhdGlvbiB3YXMgbm90IGFibGUgdG8gbG9hZCBmb3IgV2ViR0wsIGJhaWwgb3V0XHJcbiAgICBpZiAoICF0aGlzLnNjZW5lTm9kZSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucG9zaXRpb25QYW5lbCgpO1xyXG4gIH1cclxufVxyXG5cclxuZGVuc2l0eUJ1b3lhbmN5Q29tbW9uLnJlZ2lzdGVyKCAnRGVuc2l0eUNvbXBhcmVTY3JlZW5WaWV3JywgRGVuc2l0eUNvbXBhcmVTY3JlZW5WaWV3ICk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxlQUFlLE1BQU0sd0NBQXdDO0FBQ3BFLE9BQU9DLHNCQUFzQixNQUFNLCtDQUErQztBQUNsRixPQUFPQyxPQUFPLE1BQU0sK0JBQStCO0FBQ25ELFNBQVNDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxrQ0FBa0MsRUFBRUMsSUFBSSxFQUFFQyxJQUFJLFFBQVEsbUNBQW1DO0FBQ2xILE9BQU9DLEtBQUssTUFBd0IsNkJBQTZCO0FBQ2pFLE9BQU9DLDRCQUE0QixNQUFNLG9EQUFvRDtBQUM3RixPQUFPQyw4QkFBOEIsTUFBTSxnREFBZ0Q7QUFDM0YsT0FBT0MseUJBQXlCLE1BQTRDLGdEQUFnRDtBQUM1SCxPQUFPQyxxQkFBcUIsTUFBTSxnQ0FBZ0M7QUFDbEUsT0FBT0MsNEJBQTRCLE1BQU0sdUNBQXVDO0FBQ2hGLFNBQThCQyxRQUFRLFFBQVEsaUNBQWlDO0FBQy9FLE9BQU9DLHVCQUF1QixNQUFNLDhCQUE4QjtBQUVsRSxTQUFTQyxjQUFjLFFBQVEsdUNBQXVDOztBQUV0RTtBQUNBLE1BQU1DLGlCQUFpQixHQUFHO0VBQ3hCLENBQUVILFFBQVEsQ0FBQ0ksU0FBUyxDQUFDQyxJQUFJLEdBQUlOLDRCQUE0QixDQUFDTyxRQUFRLENBQUNDLHNCQUFzQjtFQUN6RixDQUFFUCxRQUFRLENBQUNRLFdBQVcsQ0FBQ0gsSUFBSSxHQUFJTiw0QkFBNEIsQ0FBQ08sUUFBUSxDQUFDRyx3QkFBd0I7RUFDN0YsQ0FBRVQsUUFBUSxDQUFDVSxZQUFZLENBQUNMLElBQUksR0FBSU4sNEJBQTRCLENB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