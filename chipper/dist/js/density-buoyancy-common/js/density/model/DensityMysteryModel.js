// Copyright 2020-2023, University of Colorado Boulder

/**
 * The main model for the Mystery screen of the Density simulation.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import dotRandom from '../../../../dot/js/dotRandom.js';
import Matrix3 from '../../../../dot/js/Matrix3.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import Enumeration from '../../../../phet-core/js/Enumeration.js';
import EnumerationValue from '../../../../phet-core/js/EnumerationValue.js';
import optionize, { combineOptions } from '../../../../phet-core/js/optionize.js';
import DensityBuoyancyCommonConstants from '../../common/DensityBuoyancyCommonConstants.js';
import BlockSetModel from '../../common/model/BlockSetModel.js';
import Cube from '../../common/model/Cube.js';
import { MassTag } from '../../common/model/Mass.js';
import Material from '../../common/model/Material.js';
import Scale, { DisplayType } from '../../common/model/Scale.js';
import DensityBuoyancyCommonColors from '../../common/view/DensityBuoyancyCommonColors.js';
import densityBuoyancyCommon from '../../densityBuoyancyCommon.js';
// constants
const randomMaterials = DensityBuoyancyCommonConstants.DENSITY_MYSTERY_MATERIALS;
const randomColors = [DensityBuoyancyCommonColors.compareYellowColorProperty, DensityBuoyancyCommonColors.compareBlueColorProperty, DensityBuoyancyCommonColors.compareGreenColorProperty, DensityBuoyancyCommonColors.compareRedColorProperty, DensityBuoyancyCommonColors.comparePurpleColorProperty, DensityBuoyancyCommonColors.mysteryPinkColorProperty, DensityBuoyancyCommonColors.mysteryOrangeColorProperty, DensityBuoyancyCommonColors.mysteryLightPurpleColorProperty, DensityBuoyancyCommonColors.mysteryLightGreenColorProperty, DensityBuoyancyCommonColors.mysteryBrownColorProperty, DensityBuoyancyCommonColors.mysteryWhiteColorProperty, DensityBuoyancyCommonColors.mysteryGrayColorProperty, DensityBuoyancyCommonColors.mysteryMustardColorProperty, DensityBuoyancyCommonColors.mysteryPeachColorProperty, DensityBuoyancyCommonColors.mysteryMaroonColorProperty];
export class BlockSet extends EnumerationValue {
  static SET_1 = new BlockSet();
  static SET_2 = new BlockSet();
  static SET_3 = new BlockSet();
  static RANDOM = new BlockSet();
  static enumeration = new Enumeration(BlockSet, {
    phetioDocumentation: 'Block set'
  });
}
export default class DensityMysteryModel extends BlockSetModel {
  constructor(providedOptions) {
    const tandem = providedOptions.tandem;
    const minScreenVolume = 0.001 - 1e-7;
    const maxScreenVolume = 0.01 + 1e-7;
    const commonCubeOptions = {
      minVolume: minScreenVolume,
      maxVolume: maxScreenVolume,
      adjustVolumeOnMassChanged: true,
      adjustableMaterial: true
    };
    const createMysteryMaterials = () => {
      const densities = dotRandom.shuffle(randomMaterials).slice(0, 5).map(material => material.density);
      const colors = dotRandom.shuffle(randomColors).slice(0, 5);
      return _.range(0, 5).map(i => Material.createCustomMaterial({
        density: densities[i],
        customColor: colors[i]
      }));
    };
    const createMysteryVolumes = () => {
      return [
      // we will want 3 smaller masses on the right, then 2 larger masses on the left
      ...dotRandom.shuffle([1, 2, 3, 4, 5, 6].map(n => n / 1000)).slice(0, 3), ...dotRandom.shuffle([7, 8, 9, 10].map(n => n / 1000)).slice(0, 2)].sort();
    };
    const blockSetsTandem = tandem.createTandem('blockSets');
    const set1Tandem = blockSetsTandem.createTandem('set1');
    const set2Tandem = blockSetsTandem.createTandem('set2');
    const set3Tandem = blockSetsTandem.createTandem('set3');
    const randomTandem = blockSetsTandem.createTandem('random');
    const createMasses = (model, blockSet) => {
      switch (blockSet) {
        case BlockSet.SET_1:
          return [Cube.createWithVolume(model.engine, Material.createCustomMaterial({
            density: Material.WATER.density,
            customColor: DensityBuoyancyCommonColors.compareRedColorProperty
          }), Vector2.ZERO, 0.005, combineOptions({}, commonCubeOptions, {
            tag: MassTag.ONE_D,
            tandem: set1Tandem.createTandem('block1D')
          })), Cube.createWithVolume(model.engine, Material.createCustomMaterial({
            density: Material.WOOD.density,
            customColor: DensityBuoyancyCommonColors.compareBlueColorProperty
          }), Vector2.ZERO, 0.001, combineOptions({}, commonCubeOptions, {
            tag: MassTag.ONE_B,
            tandem: set1Tandem.createTandem('block1B')
          })), Cube.createWithVolume(model.engine, Material.createCustomMaterial({
            density: Material.WOOD.density,
            customColor: DensityBuoyancyCommonColors.compareGreenColorProperty
          }), Vector2.ZERO, 0.007, combineOptions({}, commonCubeOptions, {
            tag: MassTag.ONE_E,
            tandem: set1Tandem.createTandem('block1E')
          })), Cube.createWithVolume(model.engine, Material.createCustomMaterial({
            density: Material.GOLD.density,
            customColor: DensityBuoyancyCommonColors.compareYellowColorProperty
          }), Vector2.ZERO, 0.001, combineOptions({}, commonCubeOptions, {
            tag: MassTag.ONE_C,
            tandem: set1Tandem.createTandem('block1C')
          })), Cube.createWithVolume(model.engine, Material.createCustomMaterial({
            density: Material.DIAMOND.density,
            customColor: DensityBuoyancyCommonColors.comparePurpleColorProperty
          }), Vector2.ZERO, 0.0055, combineOptions({}, commonCubeOptions, {
            tag: MassTag.ONE_A,
            tandem: set1Tandem.createTandem('block1A')
          }))];
        case BlockSet.SET_2:
          return [Cube.createWithMass(model.engine, Material.createCustomMaterial({
            density: 4500,
            customColor: DensityBuoyancyCommonColors.mysteryPinkColorProperty
          }), Vector2.ZERO, 18, combineOptions({}, commonCubeOptions, {
            tag: MassTag.TWO_D,
            tandem: set2Tandem.createTandem('block2D')
          })), Cube.createWithMass(model.engine, Material.createCustomMaterial({
            density: 11340,
            customColor: DensityBuoyancyCommonColors.mysteryOrangeColorProperty
          }), Vector2.ZERO, 18, combineOptions({}, commonCubeOptions, {
            tag: MassTag.TWO_A,
            tandem: set2Tandem.createTandem('block2A')
          })), Cube.createWithVolume(model.engine, Material.createCustomMaterial({
            density: Material.COPPER.density,
            customColor: DensityBuoyancyCommonColors.mysteryLightPurpleColorProperty
          }), Vector2.ZERO, 0.005, combineOptions({}, commonCubeOptions, {
            tag: MassTag.TWO_E,
            tandem: set2Tandem.createTandem('block2E')
          })), Cube.createWithMass(model.engine, Material.createCustomMaterial({
            density: 2700,
            customColor: DensityBuoyancyCommonColors.mysteryLightGreenColorProperty
          }), Vector2.ZERO, 2.7, combineOptions({}, commonCubeOptions, {
            tag: MassTag.TWO_C,
            tandem: set2Tandem.createTandem('block2C')
          })), Cube.createWithMass(model.engine, Material.createCustomMaterial({
            density: 2700,
            customColor: DensityBuoyancyCommonColors.mysteryBrownColorProperty
          }), Vector2.ZERO, 10.8, combineOptions({}, commonCubeOptions, {
            tag: MassTag.TWO_B,
            tandem: set2Tandem.createTandem('block2B')
          }))];
        case BlockSet.SET_3:
          return [Cube.createWithMass(model.engine, Material.createCustomMaterial({
            density: 950,
            customColor: DensityBuoyancyCommonColors.mysteryWhiteColorProperty
          }), Vector2.ZERO, 6, combineOptions({}, commonCubeOptions, {
            tag: MassTag.THREE_E,
            tandem: set3Tandem.createTandem('block3E')
          })), Cube.createWithMass(model.engine, Material.createCustomMaterial({
            density: 1000,
            customColor: DensityBuoyancyCommonColors.mysteryGrayColorProperty
          }), Vector2.ZERO, 6, combineOptions({}, commonCubeOptions, {
            tag: MassTag.THREE_B,
            tandem: set3Tandem.createTandem('block3B')
          })), Cube.createWithMass(model.engine, Material.createCustomMaterial({
            density: 400,
            customColor: DensityBuoyancyCommonColors.mysteryMustardColorProperty
          }), Vector2.ZERO, 2, combineOptions({}, commonCubeOptions, {
            tag: MassTag.THREE_D,
            tandem: set3Tandem.createTandem('block3D')
          })), Cube.createWithMass(model.engine, Material.createCustomMaterial({
            density: 7800,
            customColor: DensityBuoyancyCommonColors.mysteryPeachColorProperty
          }), Vector2.ZERO, 23.4, combineOptions({}, commonCubeOptions, {
            tag: MassTag.THREE_C,
            tandem: set3Tandem.createTandem('block3C')
          })), Cube.createWithMass(model.engine, Material.createCustomMaterial({
            density: 950,
            customColor: DensityBuoyancyCommonColors.mysteryMaroonColorProperty
          }), Vector2.ZERO, 2.85, combineOptions({}, commonCubeOptions, {
            tag: MassTag.THREE_A,
            tandem: set3Tandem.createTandem('block3A')
          }))];
        case BlockSet.RANDOM:
          {
            const tags = [MassTag.C, MassTag.D, MassTag.E, MassTag.A, MassTag.B];
            const mysteryMaterials = createMysteryMaterials();
            const mysteryVolumes = createMysteryVolumes();
            return _.range(0, 5).map(i => {
              return Cube.createWithVolume(model.engine, mysteryMaterials[i], Vector2.ZERO, mysteryVolumes[i], {
                adjustVolumeOnMassChanged: true,
                adjustableMaterial: true,
                tag: tags[i],
                tandem: randomTandem.createTandem(`block${tags[i].name}`),
                minVolume: minScreenVolume,
                maxVolume: maxScreenVolume
              });
            });
          }
        default:
          throw new Error(`unknown blockSet: ${blockSet}`);
      }
    };
    const regenerateMasses = (model, blockSet, masses) => {
      if (blockSet === BlockSet.RANDOM) {
        const mysteryMaterials = createMysteryMaterials();
        const mysteryVolumes = createMysteryVolumes();
        masses.forEach((mass, i) => {
          mass.materialProperty.value = mysteryMaterials[i];
          mass.updateSize(Cube.boundsFromVolume(mysteryVolumes[i]));
        });
      }
    };
    const positionMasses = (model, blockSet, masses) => {
      switch (blockSet) {
        case BlockSet.SET_1:
          model.positionStackLeft([masses[1], masses[4]]);
          model.positionStackRight([masses[2], masses[3], masses[0]]);
          break;
        case BlockSet.SET_2:
          model.positionStackLeft([masses[1], masses[4]]);
          model.positionStackRight([masses[2], masses[3], masses[0]]);
          break;
        case BlockSet.SET_3:
          model.positionStackLeft([masses[1], masses[4]]);
          model.positionStackRight([masses[2], masses[3], masses[0]]);
          break;
        case BlockSet.RANDOM:
          model.positionStackLeft([masses[3], masses[4]]);
          model.positionStackRight([masses[0], masses[1], masses[2]]);
          break;
        default:
          throw new Error(`unknown blockSet: ${blockSet}`);
      }
    };
    super(optionize()({
      canShowForces: false,
      // TODO: How can this type-check if I leave these out?!? --- oh we're expecting them in our providedOptions?
      initialMode: BlockSet.SET_1,
      BlockSet: BlockSet.enumeration,
      // TODO: overridden (abstract) methods instead
      createMassesCallback: createMasses,
      regenerateMassesCallback: regenerateMasses,
      positionMassesCallback: positionMasses
    }, providedOptions));
    this.densityTableExpandedProperty = new BooleanProperty(false, {
      tandem: tandem.createTandem('densityTableExpandedProperty')
    });
    const scalePositionProperty = new DerivedProperty([this.invisibleBarrierBoundsProperty], bounds => {
      return new Vector2(-0.75 + bounds.minX + 0.875, -Scale.SCALE_BASE_BOUNDS.minY);
    });
    this.scale = new Scale(this.engine, this.gravityProperty, {
      matrix: Matrix3.translationFromVector(scalePositionProperty.value),
      displayType: DisplayType.KILOGRAMS,
      canMove: false,
      tandem: tandem.createTandem('scale')
    });
    this.availableMasses.push(this.scale);

    // Move the scale with the barrier, see https://github.com/phetsims/density/issues/73
    // This instance lives for the lifetime of the simulation, so we don't need to remove this listener
    scalePositionProperty.lazyLink(position => {
      this.scale.matrix.set02(position.x);
      this.scale.matrix.set12(position.y);
      this.scale.writeData();

      // When we reset-all, we'll want it to move back to here
      this.scale.setResetLocation();

      // Adjust its previous position also
      this.engine.bodySynchronizePrevious(this.scale.body);
      this.scale.transformedEmitter.emit();
    });
    this.uninterpolateMasses();
  }

  /**
   * Resets things to their original values.
   */
  reset() {
    this.densityTableExpandedProperty.reset();
    super.reset();

    // Make sure to create new random masses on a reset
    this.regenerate(BlockSet.RANDOM);
    this.uninterpolateMasses();
  }
}
densityBuoyancyCommon.register('DensityMysteryModel', DensityMysteryModel);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJEZXJpdmVkUHJvcGVydHkiLCJkb3RSYW5kb20iLCJNYXRyaXgzIiwiVmVjdG9yMiIsIkVudW1lcmF0aW9uIiwiRW51bWVyYXRpb25WYWx1ZSIsIm9wdGlvbml6ZSIsImNvbWJpbmVPcHRpb25zIiwiRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29uc3RhbnRzIiwiQmxvY2tTZXRNb2RlbCIsIkN1YmUiLCJNYXNzVGFnIiwiTWF0ZXJpYWwiLCJTY2FsZSIsIkRpc3BsYXlUeXBlIiwiRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzIiwiZGVuc2l0eUJ1b3lhbmN5Q29tbW9uIiwicmFuZG9tTWF0ZXJpYWxzIiwiREVOU0lUWV9NWVNURVJZX01BVEVSSUFMUyIsInJhbmRvbUNvbG9ycyIsImNvbXBhcmVZZWxsb3dDb2xvclByb3BlcnR5IiwiY29tcGFyZUJsdWVDb2xvclByb3BlcnR5IiwiY29tcGFyZUdyZWVuQ29sb3JQcm9wZXJ0eSIsImNvbXBhcmVSZWRDb2xvclByb3BlcnR5IiwiY29tcGFyZVB1cnBsZUNvbG9yUHJvcGVydHkiLCJteXN0ZXJ5UGlua0NvbG9yUHJvcGVydHkiLCJteXN0ZXJ5T3JhbmdlQ29sb3JQcm9wZXJ0eSIsIm15c3RlcnlMaWdodFB1cnBsZUNvbG9yUHJvcGVydHkiLCJteXN0ZXJ5TGlnaHRHcmVlbkNvbG9yUHJvcGVydHkiLCJteXN0ZXJ5QnJvd25Db2xvclByb3BlcnR5IiwibXlzdGVyeVdoaXRlQ29sb3JQcm9wZXJ0eSIsIm15c3RlcnlHcmF5Q29sb3JQcm9wZXJ0eSIsIm15c3RlcnlNdXN0YXJkQ29sb3JQcm9wZXJ0eSIsIm15c3RlcnlQZWFjaENvbG9yUHJvcGVydHkiLCJteXN0ZXJ5TWFyb29uQ29sb3JQcm9wZXJ0eSIsIkJsb2NrU2V0IiwiU0VUXzEiLCJTRVRfMiIsIlNFVF8zIiwiUkFORE9NIiwiZW51bWVyYXRpb24iLCJwaGV0aW9Eb2N1bWVudGF0aW9uIiwiRGVuc2l0eU15c3RlcnlNb2RlbCIsImNvbnN0cnVjdG9yIiwicHJvdmlkZWRPcHRpb25zIiwidGFuZGVtIiwibWluU2NyZWVuVm9sdW1lIiwibWF4U2NyZWVuVm9sdW1lIiwiY29tbW9uQ3ViZU9wdGlvbnMiLCJtaW5Wb2x1bWUiLCJtYXhWb2x1bWUiLCJhZGp1c3RWb2x1bWVPbk1hc3NDaGFuZ2VkIiwiYWRqdXN0YWJsZU1hdGVyaWFsIiwiY3JlYXRlTXlzdGVyeU1hdGVyaWFscyIsImRlbnNpdGllcyIsInNodWZmbGUiLCJzbGljZSIsIm1hcCIsIm1hdGVyaWFsIiwiZGVuc2l0eSIsImNvbG9ycyIsIl8iLCJyYW5nZSIsImkiLCJjcmVhdGVDdXN0b21NYXRlcmlhbCIsImN1c3RvbUNvbG9yIiwiY3JlYXRlTXlzdGVyeVZvbHVtZXMiLCJuIiwic29ydCIsImJsb2NrU2V0c1RhbmRlbSIsImNyZWF0ZVRhbmRlbSIsInNldDFUYW5kZW0iLCJzZXQyVGFuZGVtIiwic2V0M1RhbmRlbSIsInJhbmRvbVRhbmRlbSIsImNyZWF0ZU1hc3NlcyIsIm1vZGVsIiwiYmxvY2tTZXQiLCJjcmVhdGVXaXRoVm9sdW1lIiwiZW5naW5lIiwiV0FURVIiLCJaRVJPIiwidGFnIiwiT05FX0QiLCJXT09EIiwiT05FX0IiLCJPTkVfRSIsIkdPTEQiLCJPTkVfQyIsIkRJQU1PTkQiLCJPTkVfQSIsImNyZWF0ZVdpdGhNYXNzIiwiVFdPX0QiLCJUV09fQSIsIkNPUFBFUiIsIlRXT19FIiwiVFdPX0MiLCJUV09fQiIsIlRIUkVFX0UiLCJUSFJFRV9CIiwiVEhSRUVfRCIsIlRIUkVFX0MiLCJUSFJFRV9BIiwidGFncyIsIkMiLCJEIiwiRSIsIkEiLCJCIiwibXlzdGVyeU1hdGVyaWFscyIsIm15c3RlcnlWb2x1bWVzIiwibmFtZSIsIkVycm9yIiwicmVnZW5lcmF0ZU1hc3NlcyIsIm1hc3NlcyIsImZvckVhY2giLCJtYXNzIiwibWF0ZXJpYWxQcm9wZXJ0eSIsInZhbHVlIiwidXBkYXRlU2l6ZSIsImJvdW5kc0Zyb21Wb2x1bWUiLCJwb3NpdGlvbk1hc3NlcyIsInBvc2l0aW9uU3RhY2tMZWZ0IiwicG9zaXRpb25TdGFja1JpZ2h0IiwiY2FuU2hvd0ZvcmNlcyIsImluaXRpYWxNb2RlIiwiY3JlYXRlTWFzc2VzQ2FsbGJhY2siLCJyZWdlbmVyYXRlTWFzc2VzQ2FsbGJhY2siLCJwb3NpdGlvbk1hc3Nlc0NhbGxiYWNrIiwiZGVuc2l0eVRhYmxlRXhwYW5kZWRQcm9wZXJ0eSIsInNjYWxlUG9zaXRpb25Qcm9wZXJ0eSIsImludmlzaWJsZUJhcnJpZXJCb3VuZHNQcm9wZXJ0eSIsImJvdW5kcyIsIm1pblgiLCJTQ0FMRV9CQVNFX0JPVU5EUyIsIm1pblkiLCJzY2FsZSIsImdyYXZpdHlQcm9wZXJ0eSIsIm1hdHJpeCIsInRyYW5zbGF0aW9uRnJvbVZlY3RvciIsImRpc3BsYXlUeXBlIiwiS0lMT0dSQU1TIiwiY2FuTW92ZSIsImF2YWlsYWJsZU1hc3NlcyIsInB1c2giLCJsYXp5TGluayIsInBvc2l0aW9uIiwic2V0MDIiLCJ4Iiwic2V0MTIiLCJ5Iiwid3JpdGVEYXRhIiwic2V0UmVzZXRMb2NhdGlvbiIsImJvZHlTeW5jaHJvbml6ZVByZXZpb3VzIiwiYm9keSIsInRyYW5zZm9ybWVkRW1pdHRlciIsImVtaXQiLCJ1bmludGVycG9sYXRlTWFzc2VzIiwicmVzZXQiLCJyZWdlbmVyYXRlIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJEZW5zaXR5TXlzdGVyeU1vZGVsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIwLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFRoZSBtYWluIG1vZGVsIGZvciB0aGUgTXlzdGVyeSBzY3JlZW4gb2YgdGhlIERlbnNpdHkgc2ltdWxhdGlvbi5cclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxyXG4gKi9cclxuXHJcbmltcG9ydCBCb29sZWFuUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9Cb29sZWFuUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgU3RyaWN0T21pdCBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvU3RyaWN0T21pdC5qcyc7XHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgZG90UmFuZG9tIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9kb3RSYW5kb20uanMnO1xyXG5pbXBvcnQgTWF0cml4MyBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvTWF0cml4My5qcyc7XHJcbmltcG9ydCBWZWN0b3IyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyLmpzJztcclxuaW1wb3J0IEVudW1lcmF0aW9uIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9FbnVtZXJhdGlvbi5qcyc7XHJcbmltcG9ydCBFbnVtZXJhdGlvblZhbHVlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9FbnVtZXJhdGlvblZhbHVlLmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSwgeyBjb21iaW5lT3B0aW9ucywgRW1wdHlTZWxmT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9EZW5zaXR5QnVveWFuY3lDb21tb25Db25zdGFudHMuanMnO1xyXG5pbXBvcnQgQmxvY2tTZXRNb2RlbCwgeyBCbG9ja1NldE1vZGVsT3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbi9tb2RlbC9CbG9ja1NldE1vZGVsLmpzJztcclxuaW1wb3J0IEN1YmUsIHsgQ3ViZU9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvQ3ViZS5qcyc7XHJcbmltcG9ydCB7IE1hc3NUYWcgfSBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvTWFzcy5qcyc7XHJcbmltcG9ydCBNYXRlcmlhbCBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvTWF0ZXJpYWwuanMnO1xyXG5pbXBvcnQgU2NhbGUsIHsgRGlzcGxheVR5cGUgfSBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvU2NhbGUuanMnO1xyXG5pbXBvcnQgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L0RlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5qcyc7XHJcbmltcG9ydCBkZW5zaXR5QnVveWFuY3lDb21tb24gZnJvbSAnLi4vLi4vZGVuc2l0eUJ1b3lhbmN5Q29tbW9uLmpzJztcclxuaW1wb3J0IERlbnNpdHlCdW95YW5jeU1vZGVsIGZyb20gJy4uLy4uL2NvbW1vbi9tb2RlbC9EZW5zaXR5QnVveWFuY3lNb2RlbC5qcyc7XHJcbmltcG9ydCBDdWJvaWQgZnJvbSAnLi4vLi4vY29tbW9uL21vZGVsL0N1Ym9pZC5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCByYW5kb21NYXRlcmlhbHMgPSBEZW5zaXR5QnVveWFuY3lDb21tb25Db25zdGFudHMuREVOU0lUWV9NWVNURVJZX01BVEVSSUFMUztcclxuY29uc3QgcmFuZG9tQ29sb3JzID0gW1xyXG4gIERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5jb21wYXJlWWVsbG93Q29sb3JQcm9wZXJ0eSxcclxuICBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMuY29tcGFyZUJsdWVDb2xvclByb3BlcnR5LFxyXG4gIERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5jb21wYXJlR3JlZW5Db2xvclByb3BlcnR5LFxyXG4gIERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5jb21wYXJlUmVkQ29sb3JQcm9wZXJ0eSxcclxuICBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMuY29tcGFyZVB1cnBsZUNvbG9yUHJvcGVydHksXHJcbiAgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLm15c3RlcnlQaW5rQ29sb3JQcm9wZXJ0eSxcclxuICBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMubXlzdGVyeU9yYW5nZUNvbG9yUHJvcGVydHksXHJcbiAgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLm15c3RlcnlMaWdodFB1cnBsZUNvbG9yUHJvcGVydHksXHJcbiAgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLm15c3RlcnlMaWdodEdyZWVuQ29sb3JQcm9wZXJ0eSxcclxuICBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMubXlzdGVyeUJyb3duQ29sb3JQcm9wZXJ0eSxcclxuICBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMubXlzdGVyeVdoaXRlQ29sb3JQcm9wZXJ0eSxcclxuICBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMubXlzdGVyeUdyYXlDb2xvclByb3BlcnR5LFxyXG4gIERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5teXN0ZXJ5TXVzdGFyZENvbG9yUHJvcGVydHksXHJcbiAgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLm15c3RlcnlQZWFjaENvbG9yUHJvcGVydHksXHJcbiAgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLm15c3RlcnlNYXJvb25Db2xvclByb3BlcnR5XHJcbl07XHJcblxyXG5leHBvcnQgY2xhc3MgQmxvY2tTZXQgZXh0ZW5kcyBFbnVtZXJhdGlvblZhbHVlIHtcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFNFVF8xID0gbmV3IEJsb2NrU2V0KCk7XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBTRVRfMiA9IG5ldyBCbG9ja1NldCgpO1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU0VUXzMgPSBuZXcgQmxvY2tTZXQoKTtcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJBTkRPTSA9IG5ldyBCbG9ja1NldCgpO1xyXG5cclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGVudW1lcmF0aW9uID0gbmV3IEVudW1lcmF0aW9uKCBCbG9ja1NldCwge1xyXG4gICAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ0Jsb2NrIHNldCdcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIERlbnNpdHlNeXN0ZXJ5TW9kZWxPcHRpb25zID0gU3RyaWN0T21pdDxCbG9ja1NldE1vZGVsT3B0aW9uczxCbG9ja1NldD4sICdpbml0aWFsTW9kZScgfCAnQmxvY2tTZXQnIHwgJ2NyZWF0ZU1hc3Nlc0NhbGxiYWNrJyB8ICdyZWdlbmVyYXRlTWFzc2VzQ2FsbGJhY2snIHwgJ3Bvc2l0aW9uTWFzc2VzQ2FsbGJhY2snPjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlbnNpdHlNeXN0ZXJ5TW9kZWwgZXh0ZW5kcyBCbG9ja1NldE1vZGVsPEJsb2NrU2V0PiB7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBkZW5zaXR5VGFibGVFeHBhbmRlZFByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPjtcclxuICBwcml2YXRlIHJlYWRvbmx5IHNjYWxlOiBTY2FsZTtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBwcm92aWRlZE9wdGlvbnM6IERlbnNpdHlNeXN0ZXJ5TW9kZWxPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IHRhbmRlbSA9IHByb3ZpZGVkT3B0aW9ucy50YW5kZW07XHJcblxyXG4gICAgY29uc3QgbWluU2NyZWVuVm9sdW1lID0gMC4wMDEgLSAxZS03O1xyXG4gICAgY29uc3QgbWF4U2NyZWVuVm9sdW1lID0gMC4wMSArIDFlLTc7XHJcblxyXG4gICAgY29uc3QgY29tbW9uQ3ViZU9wdGlvbnMgPSB7XHJcbiAgICAgIG1pblZvbHVtZTogbWluU2NyZWVuVm9sdW1lLFxyXG4gICAgICBtYXhWb2x1bWU6IG1heFNjcmVlblZvbHVtZSxcclxuICAgICAgYWRqdXN0Vm9sdW1lT25NYXNzQ2hhbmdlZDogdHJ1ZSxcclxuICAgICAgYWRqdXN0YWJsZU1hdGVyaWFsOiB0cnVlXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNyZWF0ZU15c3RlcnlNYXRlcmlhbHMgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRlbnNpdGllcyA9IGRvdFJhbmRvbS5zaHVmZmxlKCByYW5kb21NYXRlcmlhbHMgKS5zbGljZSggMCwgNSApLm1hcCggbWF0ZXJpYWwgPT4gbWF0ZXJpYWwuZGVuc2l0eSApO1xyXG4gICAgICBjb25zdCBjb2xvcnMgPSBkb3RSYW5kb20uc2h1ZmZsZSggcmFuZG9tQ29sb3JzICkuc2xpY2UoIDAsIDUgKTtcclxuXHJcbiAgICAgIHJldHVybiBfLnJhbmdlKCAwLCA1ICkubWFwKCBpID0+IE1hdGVyaWFsLmNyZWF0ZUN1c3RvbU1hdGVyaWFsKCB7XHJcbiAgICAgICAgZGVuc2l0eTogZGVuc2l0aWVzWyBpIF0sXHJcbiAgICAgICAgY3VzdG9tQ29sb3I6IGNvbG9yc1sgaSBdXHJcbiAgICAgIH0gKSApO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGNyZWF0ZU15c3RlcnlWb2x1bWVzID0gKCkgPT4ge1xyXG4gICAgICByZXR1cm4gW1xyXG4gICAgICAgIC8vIHdlIHdpbGwgd2FudCAzIHNtYWxsZXIgbWFzc2VzIG9uIHRoZSByaWdodCwgdGhlbiAyIGxhcmdlciBtYXNzZXMgb24gdGhlIGxlZnRcclxuICAgICAgICAuLi5kb3RSYW5kb20uc2h1ZmZsZSggWyAxLCAyLCAzLCA0LCA1LCA2IF0ubWFwKCBuID0+IG4gLyAxMDAwICkgKS5zbGljZSggMCwgMyApLFxyXG4gICAgICAgIC4uLmRvdFJhbmRvbS5zaHVmZmxlKCBbIDcsIDgsIDksIDEwIF0ubWFwKCBuID0+IG4gLyAxMDAwICkgKS5zbGljZSggMCwgMiApXHJcbiAgICAgIF0uc29ydCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBibG9ja1NldHNUYW5kZW0gPSB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnYmxvY2tTZXRzJyApO1xyXG4gICAgY29uc3Qgc2V0MVRhbmRlbSA9IGJsb2NrU2V0c1RhbmRlbS5jcmVhdGVUYW5kZW0oICdzZXQxJyApO1xyXG4gICAgY29uc3Qgc2V0MlRhbmRlbSA9IGJsb2NrU2V0c1RhbmRlbS5jcmVhdGVUYW5kZW0oICdzZXQyJyApO1xyXG4gICAgY29uc3Qgc2V0M1RhbmRlbSA9IGJsb2NrU2V0c1RhbmRlbS5jcmVhdGVUYW5kZW0oICdzZXQzJyApO1xyXG4gICAgY29uc3QgcmFuZG9tVGFuZGVtID0gYmxvY2tTZXRzVGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3JhbmRvbScgKTtcclxuXHJcbiAgICBjb25zdCBjcmVhdGVNYXNzZXMgPSAoIG1vZGVsOiBEZW5zaXR5QnVveWFuY3lNb2RlbCwgYmxvY2tTZXQ6IEJsb2NrU2V0ICkgPT4ge1xyXG4gICAgICBzd2l0Y2goIGJsb2NrU2V0ICkge1xyXG4gICAgICAgIGNhc2UgQmxvY2tTZXQuU0VUXzE6XHJcbiAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBDdWJlLmNyZWF0ZVdpdGhWb2x1bWUoXHJcbiAgICAgICAgICAgICAgbW9kZWwuZW5naW5lLFxyXG4gICAgICAgICAgICAgIE1hdGVyaWFsLmNyZWF0ZUN1c3RvbU1hdGVyaWFsKCB7XHJcbiAgICAgICAgICAgICAgICBkZW5zaXR5OiBNYXRlcmlhbC5XQVRFUi5kZW5zaXR5LFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tQ29sb3I6IERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5jb21wYXJlUmVkQ29sb3JQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgIH0gKSxcclxuICAgICAgICAgICAgICBWZWN0b3IyLlpFUk8sXHJcbiAgICAgICAgICAgICAgMC4wMDUsXHJcbiAgICAgICAgICAgICAgY29tYmluZU9wdGlvbnM8Q3ViZU9wdGlvbnM+KCB7fSwgY29tbW9uQ3ViZU9wdGlvbnMsIHsgdGFnOiBNYXNzVGFnLk9ORV9ELCB0YW5kZW06IHNldDFUYW5kZW0uY3JlYXRlVGFuZGVtKCAnYmxvY2sxRCcgKSB9IClcclxuICAgICAgICAgICAgKSxcclxuXHJcbiAgICAgICAgICAgIEN1YmUuY3JlYXRlV2l0aFZvbHVtZShcclxuICAgICAgICAgICAgICBtb2RlbC5lbmdpbmUsXHJcbiAgICAgICAgICAgICAgTWF0ZXJpYWwuY3JlYXRlQ3VzdG9tTWF0ZXJpYWwoIHtcclxuICAgICAgICAgICAgICAgIGRlbnNpdHk6IE1hdGVyaWFsLldPT0QuZGVuc2l0eSxcclxuICAgICAgICAgICAgICAgIGN1c3RvbUNvbG9yOiBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMuY29tcGFyZUJsdWVDb2xvclByb3BlcnR5XHJcbiAgICAgICAgICAgICAgfSApLFxyXG4gICAgICAgICAgICAgIFZlY3RvcjIuWkVSTyxcclxuICAgICAgICAgICAgICAwLjAwMSxcclxuICAgICAgICAgICAgICBjb21iaW5lT3B0aW9uczxDdWJlT3B0aW9ucz4oIHt9LCBjb21tb25DdWJlT3B0aW9ucywgeyB0YWc6IE1hc3NUYWcuT05FX0IsIHRhbmRlbTogc2V0MVRhbmRlbS5jcmVhdGVUYW5kZW0oICdibG9jazFCJyApIH0gKVxyXG4gICAgICAgICAgICApLFxyXG5cclxuICAgICAgICAgICAgQ3ViZS5jcmVhdGVXaXRoVm9sdW1lKFxyXG4gICAgICAgICAgICAgIG1vZGVsLmVuZ2luZSxcclxuICAgICAgICAgICAgICBNYXRlcmlhbC5jcmVhdGVDdXN0b21NYXRlcmlhbCgge1xyXG4gICAgICAgICAgICAgICAgZGVuc2l0eTogTWF0ZXJpYWwuV09PRC5kZW5zaXR5LFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tQ29sb3I6IERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5jb21wYXJlR3JlZW5Db2xvclByb3BlcnR5XHJcbiAgICAgICAgICAgICAgfSApLFxyXG4gICAgICAgICAgICAgIFZlY3RvcjIuWkVSTyxcclxuICAgICAgICAgICAgICAwLjAwNyxcclxuICAgICAgICAgICAgICBjb21iaW5lT3B0aW9uczxDdWJlT3B0aW9ucz4oIHt9LCBjb21tb25DdWJlT3B0aW9ucywgeyB0YWc6IE1hc3NUYWcuT05FX0UsIHRhbmRlbTogc2V0MVRhbmRlbS5jcmVhdGVUYW5kZW0oICdibG9jazFFJyApIH0gKVxyXG4gICAgICAgICAgICApLFxyXG5cclxuICAgICAgICAgICAgQ3ViZS5jcmVhdGVXaXRoVm9sdW1lKFxyXG4gICAgICAgICAgICAgIG1vZGVsLmVuZ2luZSxcclxuICAgICAgICAgICAgICBNYXRlcmlhbC5jcmVhdGVDdXN0b21NYXRlcmlhbCgge1xyXG4gICAgICAgICAgICAgICAgZGVuc2l0eTogTWF0ZXJpYWwuR09MRC5kZW5zaXR5LFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tQ29sb3I6IERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5jb21wYXJlWWVsbG93Q29sb3JQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgIH0gKSxcclxuICAgICAgICAgICAgICBWZWN0b3IyLlpFUk8sXHJcbiAgICAgICAgICAgICAgMC4wMDEsXHJcbiAgICAgICAgICAgICAgY29tYmluZU9wdGlvbnM8Q3ViZU9wdGlvbnM+KCB7fSwgY29tbW9uQ3ViZU9wdGlvbnMsIHsgdGFnOiBNYXNzVGFnLk9ORV9DLCB0YW5kZW06IHNldDFUYW5kZW0uY3JlYXRlVGFuZGVtKCAnYmxvY2sxQycgKSB9IClcclxuICAgICAgICAgICAgKSxcclxuXHJcbiAgICAgICAgICAgIEN1YmUuY3JlYXRlV2l0aFZvbHVtZShcclxuICAgICAgICAgICAgICBtb2RlbC5lbmdpbmUsXHJcbiAgICAgICAgICAgICAgTWF0ZXJpYWwuY3JlYXRlQ3VzdG9tTWF0ZXJpYWwoIHtcclxuICAgICAgICAgICAgICAgIGRlbnNpdHk6IE1hdGVyaWFsLkRJQU1PTkQuZGVuc2l0eSxcclxuICAgICAgICAgICAgICAgIGN1c3RvbUNvbG9yOiBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMuY29tcGFyZVB1cnBsZUNvbG9yUHJvcGVydHlcclxuICAgICAgICAgICAgICB9ICksXHJcbiAgICAgICAgICAgICAgVmVjdG9yMi5aRVJPLFxyXG4gICAgICAgICAgICAgIDAuMDA1NSxcclxuICAgICAgICAgICAgICBjb21iaW5lT3B0aW9uczxDdWJlT3B0aW9ucz4oIHt9LCBjb21tb25DdWJlT3B0aW9ucywgeyB0YWc6IE1hc3NUYWcuT05FX0EsIHRhbmRlbTogc2V0MVRhbmRlbS5jcmVhdGVUYW5kZW0oICdibG9jazFBJyApIH0gKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICBdO1xyXG4gICAgICAgIGNhc2UgQmxvY2tTZXQuU0VUXzI6XHJcbiAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBDdWJlLmNyZWF0ZVdpdGhNYXNzKFxyXG4gICAgICAgICAgICAgIG1vZGVsLmVuZ2luZSxcclxuICAgICAgICAgICAgICBNYXRlcmlhbC5jcmVhdGVDdXN0b21NYXRlcmlhbCgge1xyXG4gICAgICAgICAgICAgICAgZGVuc2l0eTogNDUwMCxcclxuICAgICAgICAgICAgICAgIGN1c3RvbUNvbG9yOiBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMubXlzdGVyeVBpbmtDb2xvclByb3BlcnR5XHJcbiAgICAgICAgICAgICAgfSApLFxyXG4gICAgICAgICAgICAgIFZlY3RvcjIuWkVSTyxcclxuICAgICAgICAgICAgICAxOCxcclxuICAgICAgICAgICAgICBjb21iaW5lT3B0aW9uczxDdWJlT3B0aW9ucz4oIHt9LCBjb21tb25DdWJlT3B0aW9ucywgeyB0YWc6IE1hc3NUYWcuVFdPX0QsIHRhbmRlbTogc2V0MlRhbmRlbS5jcmVhdGVUYW5kZW0oICdibG9jazJEJyApIH0gKVxyXG4gICAgICAgICAgICApLFxyXG5cclxuICAgICAgICAgICAgQ3ViZS5jcmVhdGVXaXRoTWFzcyhcclxuICAgICAgICAgICAgICBtb2RlbC5lbmdpbmUsXHJcbiAgICAgICAgICAgICAgTWF0ZXJpYWwuY3JlYXRlQ3VzdG9tTWF0ZXJpYWwoIHtcclxuICAgICAgICAgICAgICAgIGRlbnNpdHk6IDExMzQwLFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tQ29sb3I6IERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5teXN0ZXJ5T3JhbmdlQ29sb3JQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgIH0gKSxcclxuICAgICAgICAgICAgICBWZWN0b3IyLlpFUk8sXHJcbiAgICAgICAgICAgICAgMTgsXHJcbiAgICAgICAgICAgICAgY29tYmluZU9wdGlvbnM8Q3ViZU9wdGlvbnM+KCB7fSwgY29tbW9uQ3ViZU9wdGlvbnMsIHsgdGFnOiBNYXNzVGFnLlRXT19BLCB0YW5kZW06IHNldDJUYW5kZW0uY3JlYXRlVGFuZGVtKCAnYmxvY2syQScgKSB9IClcclxuICAgICAgICAgICAgKSxcclxuXHJcbiAgICAgICAgICAgIEN1YmUuY3JlYXRlV2l0aFZvbHVtZShcclxuICAgICAgICAgICAgICBtb2RlbC5lbmdpbmUsXHJcbiAgICAgICAgICAgICAgTWF0ZXJpYWwuY3JlYXRlQ3VzdG9tTWF0ZXJpYWwoIHtcclxuICAgICAgICAgICAgICAgIGRlbnNpdHk6IE1hdGVyaWFsLkNPUFBFUi5kZW5zaXR5LFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tQ29sb3I6IERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5teXN0ZXJ5TGlnaHRQdXJwbGVDb2xvclByb3BlcnR5XHJcbiAgICAgICAgICAgICAgfSApLFxyXG4gICAgICAgICAgICAgIFZlY3RvcjIuWkVSTyxcclxuICAgICAgICAgICAgICAwLjAwNSxcclxuICAgICAgICAgICAgICBjb21iaW5lT3B0aW9uczxDdWJlT3B0aW9ucz4oIHt9LCBjb21tb25DdWJlT3B0aW9ucywgeyB0YWc6IE1hc3NUYWcuVFdPX0UsIHRhbmRlbTogc2V0MlRhbmRlbS5jcmVhdGVUYW5kZW0oICdibG9jazJFJyApIH0gKVxyXG4gICAgICAgICAgICApLFxyXG5cclxuICAgICAgICAgICAgQ3ViZS5jcmVhdGVXaXRoTWFzcyhcclxuICAgICAgICAgICAgICBtb2RlbC5lbmdpbmUsXHJcbiAgICAgICAgICAgICAgTWF0ZXJpYWwuY3JlYXRlQ3VzdG9tTWF0ZXJpYWwoIHtcclxuICAgICAgICAgICAgICAgIGRlbnNpdHk6IDI3MDAsXHJcbiAgICAgICAgICAgICAgICBjdXN0b21Db2xvcjogRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLm15c3RlcnlMaWdodEdyZWVuQ29sb3JQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgIH0gKSxcclxuICAgICAgICAgICAgICBWZWN0b3IyLlpFUk8sXHJcbiAgICAgICAgICAgICAgMi43LFxyXG4gICAgICAgICAgICAgIGNvbWJpbmVPcHRpb25zPEN1YmVPcHRpb25zPigge30sIGNvbW1vbkN1YmVPcHRpb25zLCB7IHRhZzogTWFzc1RhZy5UV09fQywgdGFuZGVtOiBzZXQyVGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2Jsb2NrMkMnICkgfSApXHJcbiAgICAgICAgICAgICksXHJcblxyXG4gICAgICAgICAgICBDdWJlLmNyZWF0ZVdpdGhNYXNzKFxyXG4gICAgICAgICAgICAgIG1vZGVsLmVuZ2luZSxcclxuICAgICAgICAgICAgICBNYXRlcmlhbC5jcmVhdGVDdXN0b21NYXRlcmlhbCgge1xyXG4gICAgICAgICAgICAgICAgZGVuc2l0eTogMjcwMCxcclxuICAgICAgICAgICAgICAgIGN1c3RvbUNvbG9yOiBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMubXlzdGVyeUJyb3duQ29sb3JQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgIH0gKSxcclxuICAgICAgICAgICAgICBWZWN0b3IyLlpFUk8sXHJcbiAgICAgICAgICAgICAgMTAuOCxcclxuICAgICAgICAgICAgICBjb21iaW5lT3B0aW9uczxDdWJlT3B0aW9ucz4oIHt9LCBjb21tb25DdWJlT3B0aW9ucywgeyB0YWc6IE1hc3NUYWcuVFdPX0IsIHRhbmRlbTogc2V0MlRhbmRlbS5jcmVhdGVUYW5kZW0oICdibG9jazJCJyApIH0gKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICBdO1xyXG4gICAgICAgIGNhc2UgQmxvY2tTZXQuU0VUXzM6XHJcbiAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBDdWJlLmNyZWF0ZVdpdGhNYXNzKFxyXG4gICAgICAgICAgICAgIG1vZGVsLmVuZ2luZSxcclxuICAgICAgICAgICAgICBNYXRlcmlhbC5jcmVhdGVDdXN0b21NYXRlcmlhbCgge1xyXG4gICAgICAgICAgICAgICAgZGVuc2l0eTogOTUwLFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tQ29sb3I6IERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5teXN0ZXJ5V2hpdGVDb2xvclByb3BlcnR5XHJcbiAgICAgICAgICAgICAgfSApLFxyXG4gICAgICAgICAgICAgIFZlY3RvcjIuWkVSTyxcclxuICAgICAgICAgICAgICA2LFxyXG4gICAgICAgICAgICAgIGNvbWJpbmVPcHRpb25zPEN1YmVPcHRpb25zPigge30sIGNvbW1vbkN1YmVPcHRpb25zLCB7IHRhZzogTWFzc1RhZy5USFJFRV9FLCB0YW5kZW06IHNldDNUYW5kZW0uY3JlYXRlVGFuZGVtKCAnYmxvY2szRScgKSB9IClcclxuICAgICAgICAgICAgKSxcclxuXHJcbiAgICAgICAgICAgIEN1YmUuY3JlYXRlV2l0aE1hc3MoXHJcbiAgICAgICAgICAgICAgbW9kZWwuZW5naW5lLFxyXG4gICAgICAgICAgICAgIE1hdGVyaWFsLmNyZWF0ZUN1c3RvbU1hdGVyaWFsKCB7XHJcbiAgICAgICAgICAgICAgICBkZW5zaXR5OiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tQ29sb3I6IERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5teXN0ZXJ5R3JheUNvbG9yUHJvcGVydHlcclxuICAgICAgICAgICAgICB9ICksXHJcbiAgICAgICAgICAgICAgVmVjdG9yMi5aRVJPLFxyXG4gICAgICAgICAgICAgIDYsXHJcbiAgICAgICAgICAgICAgY29tYmluZU9wdGlvbnM8Q3ViZU9wdGlvbnM+KCB7fSwgY29tbW9uQ3ViZU9wdGlvbnMsIHsgdGFnOiBNYXNzVGFnLlRIUkVFX0IsIHRhbmRlbTogc2V0M1RhbmRlbS5jcmVhdGVUYW5kZW0oICdibG9jazNCJyApIH0gKVxyXG4gICAgICAgICAgICApLFxyXG5cclxuICAgICAgICAgICAgQ3ViZS5jcmVhdGVXaXRoTWFzcyhcclxuICAgICAgICAgICAgICBtb2RlbC5lbmdpbmUsXHJcbiAgICAgICAgICAgICAgTWF0ZXJpYWwuY3JlYXRlQ3VzdG9tTWF0ZXJpYWwoIHtcclxuICAgICAgICAgICAgICAgIGRlbnNpdHk6IDQwMCxcclxuICAgICAgICAgICAgICAgIGN1c3RvbUNvbG9yOiBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMubXlzdGVyeU11c3RhcmRDb2xvclByb3BlcnR5XHJcbiAgICAgICAgICAgICAgfSApLFxyXG4gICAgICAgICAgICAgIFZlY3RvcjIuWkVSTyxcclxuICAgICAgICAgICAgICAyLFxyXG4gICAgICAgICAgICAgIGNvbWJpbmVPcHRpb25zPEN1YmVPcHRpb25zPigge30sIGNvbW1vbkN1YmVPcHRpb25zLCB7IHRhZzogTWFzc1RhZy5USFJFRV9ELCB0YW5kZW06IHNldDNUYW5kZW0uY3JlYXRlVGFuZGVtKCAnYmxvY2szRCcgKSB9IClcclxuICAgICAgICAgICAgKSxcclxuXHJcbiAgICAgICAgICAgIEN1YmUuY3JlYXRlV2l0aE1hc3MoXHJcbiAgICAgICAgICAgICAgbW9kZWwuZW5naW5lLFxyXG4gICAgICAgICAgICAgIE1hdGVyaWFsLmNyZWF0ZUN1c3RvbU1hdGVyaWFsKCB7XHJcbiAgICAgICAgICAgICAgICBkZW5zaXR5OiA3ODAwLFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tQ29sb3I6IERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5teXN0ZXJ5UGVhY2hDb2xvclByb3BlcnR5XHJcbiAgICAgICAgICAgICAgfSApLFxyXG4gICAgICAgICAgICAgIFZlY3RvcjIuWkVSTyxcclxuICAgICAgICAgICAgICAyMy40LFxyXG4gICAgICAgICAgICAgIGNvbWJpbmVPcHRpb25zPEN1YmVPcHRpb25zPigge30sIGNvbW1vbkN1YmVPcHRpb25zLCB7IHRhZzogTWFzc1RhZy5USFJFRV9DLCB0YW5kZW06IHNldDNUYW5kZW0uY3JlYXRlVGFuZGVtKCAnYmxvY2szQycgKSB9IClcclxuICAgICAgICAgICAgKSxcclxuXHJcbiAgICAgICAgICAgIEN1YmUuY3JlYXRlV2l0aE1hc3MoXHJcbiAgICAgICAgICAgICAgbW9kZWwuZW5naW5lLFxyXG4gICAgICAgICAgICAgIE1hdGVyaWFsLmNyZWF0ZUN1c3RvbU1hdGVyaWFsKCB7XHJcbiAgICAgICAgICAgICAgICBkZW5zaXR5OiA5NTAsXHJcbiAgICAgICAgICAgICAgICBjdXN0b21Db2xvcjogRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLm15c3RlcnlNYXJvb25Db2xvclByb3BlcnR5XHJcbiAgICAgICAgICAgICAgfSApLFxyXG4gICAgICAgICAgICAgIFZlY3RvcjIuWkVSTyxcclxuICAgICAgICAgICAgICAyLjg1LFxyXG4gICAgICAgICAgICAgIGNvbWJpbmVPcHRpb25zPEN1YmVPcHRpb25zPigge30sIGNvbW1vbkN1YmVPcHRpb25zLCB7IHRhZzogTWFzc1RhZy5USFJFRV9BLCB0YW5kZW06IHNldDNUYW5kZW0uY3JlYXRlVGFuZGVtKCAnYmxvY2szQScgKSB9IClcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICBjYXNlIEJsb2NrU2V0LlJBTkRPTToge1xyXG4gICAgICAgICAgY29uc3QgdGFncyA9IFtcclxuICAgICAgICAgICAgTWFzc1RhZy5DLFxyXG4gICAgICAgICAgICBNYXNzVGFnLkQsXHJcbiAgICAgICAgICAgIE1hc3NUYWcuRSxcclxuICAgICAgICAgICAgTWFzc1RhZy5BLFxyXG4gICAgICAgICAgICBNYXNzVGFnLkJcclxuICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgY29uc3QgbXlzdGVyeU1hdGVyaWFscyA9IGNyZWF0ZU15c3RlcnlNYXRlcmlhbHMoKTtcclxuICAgICAgICAgIGNvbnN0IG15c3RlcnlWb2x1bWVzID0gY3JlYXRlTXlzdGVyeVZvbHVtZXMoKTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gXy5yYW5nZSggMCwgNSApLm1hcCggaSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBDdWJlLmNyZWF0ZVdpdGhWb2x1bWUoIG1vZGVsLmVuZ2luZSwgbXlzdGVyeU1hdGVyaWFsc1sgaSBdLCBWZWN0b3IyLlpFUk8sIG15c3RlcnlWb2x1bWVzWyBpIF0sIHtcclxuICAgICAgICAgICAgICBhZGp1c3RWb2x1bWVPbk1hc3NDaGFuZ2VkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGFkanVzdGFibGVNYXRlcmlhbDogdHJ1ZSxcclxuICAgICAgICAgICAgICB0YWc6IHRhZ3NbIGkgXSxcclxuICAgICAgICAgICAgICB0YW5kZW06IHJhbmRvbVRhbmRlbS5jcmVhdGVUYW5kZW0oIGBibG9jayR7dGFnc1sgaSBdLm5hbWV9YCApLFxyXG4gICAgICAgICAgICAgIG1pblZvbHVtZTogbWluU2NyZWVuVm9sdW1lLFxyXG4gICAgICAgICAgICAgIG1heFZvbHVtZTogbWF4U2NyZWVuVm9sdW1lXHJcbiAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgIH0gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvciggYHVua25vd24gYmxvY2tTZXQ6ICR7YmxvY2tTZXR9YCApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHJlZ2VuZXJhdGVNYXNzZXMgPSAoIG1vZGVsOiBEZW5zaXR5QnVveWFuY3lNb2RlbCwgYmxvY2tTZXQ6IEJsb2NrU2V0LCBtYXNzZXM6IEN1Ym9pZFtdICkgPT4ge1xyXG4gICAgICBpZiAoIGJsb2NrU2V0ID09PSBCbG9ja1NldC5SQU5ET00gKSB7XHJcbiAgICAgICAgY29uc3QgbXlzdGVyeU1hdGVyaWFscyA9IGNyZWF0ZU15c3RlcnlNYXRlcmlhbHMoKTtcclxuICAgICAgICBjb25zdCBteXN0ZXJ5Vm9sdW1lcyA9IGNyZWF0ZU15c3RlcnlWb2x1bWVzKCk7XHJcblxyXG4gICAgICAgIG1hc3Nlcy5mb3JFYWNoKCAoIG1hc3MsIGkgKSA9PiB7XHJcbiAgICAgICAgICBtYXNzLm1hdGVyaWFsUHJvcGVydHkudmFsdWUgPSBteXN0ZXJ5TWF0ZXJpYWxzWyBpIF07XHJcbiAgICAgICAgICBtYXNzLnVwZGF0ZVNpemUoIEN1YmUuYm91bmRzRnJvbVZvbHVtZSggbXlzdGVyeVZvbHVtZXNbIGkgXSApICk7XHJcbiAgICAgICAgfSApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHBvc2l0aW9uTWFzc2VzID0gKCBtb2RlbDogRGVuc2l0eUJ1b3lhbmN5TW9kZWwsIGJsb2NrU2V0OiBCbG9ja1NldCwgbWFzc2VzOiBDdWJvaWRbXSApID0+IHtcclxuICAgICAgc3dpdGNoKCBibG9ja1NldCApIHtcclxuICAgICAgICBjYXNlIEJsb2NrU2V0LlNFVF8xOlxyXG4gICAgICAgICAgbW9kZWwucG9zaXRpb25TdGFja0xlZnQoIFsgbWFzc2VzWyAxIF0sIG1hc3Nlc1sgNCBdIF0gKTtcclxuICAgICAgICAgIG1vZGVsLnBvc2l0aW9uU3RhY2tSaWdodCggWyBtYXNzZXNbIDIgXSwgbWFzc2VzWyAzIF0sIG1hc3Nlc1sgMCBdIF0gKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQmxvY2tTZXQuU0VUXzI6XHJcbiAgICAgICAgICBtb2RlbC5wb3NpdGlvblN0YWNrTGVmdCggWyBtYXNzZXNbIDEgXSwgbWFzc2VzWyA0IF0gXSApO1xyXG4gICAgICAgICAgbW9kZWwucG9zaXRpb25TdGFja1JpZ2h0KCBbIG1hc3Nlc1sgMiBdLCBtYXNzZXNbIDMgXSwgbWFzc2VzWyAwIF0gXSApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBCbG9ja1NldC5TRVRfMzpcclxuICAgICAgICAgIG1vZGVsLnBvc2l0aW9uU3RhY2tMZWZ0KCBbIG1hc3Nlc1sgMSBdLCBtYXNzZXNbIDQgXSBdICk7XHJcbiAgICAgICAgICBtb2RlbC5wb3NpdGlvblN0YWNrUmlnaHQoIFsgbWFzc2VzWyAyIF0sIG1hc3Nlc1sgMyBdLCBtYXNzZXNbIDAgXSBdICk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEJsb2NrU2V0LlJBTkRPTTpcclxuICAgICAgICAgIG1vZGVsLnBvc2l0aW9uU3RhY2tMZWZ0KCBbIG1hc3Nlc1sgMyBdLCBtYXNzZXNbIDQgXSBdICk7XHJcbiAgICAgICAgICBtb2RlbC5wb3NpdGlvblN0YWNrUmlnaHQoIFsgbWFzc2VzWyAwIF0sIG1hc3Nlc1sgMSBdLCBtYXNzZXNbIDIgXSBdICk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCBgdW5rbm93biBibG9ja1NldDogJHtibG9ja1NldH1gICk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbml6ZTxEZW5zaXR5TXlzdGVyeU1vZGVsT3B0aW9ucywgRW1wdHlTZWxmT3B0aW9ucywgQmxvY2tTZXRNb2RlbE9wdGlvbnM8QmxvY2tTZXQ+PigpKCB7XHJcbiAgICAgIGNhblNob3dGb3JjZXM6IGZhbHNlLFxyXG5cclxuICAgICAgLy8gVE9ETzogSG93IGNhbiB0aGlzIHR5cGUtY2hlY2sgaWYgSSBsZWF2ZSB0aGVzZSBvdXQ/IT8gLS0tIG9oIHdlJ3JlIGV4cGVjdGluZyB0aGVtIGluIG91ciBwcm92aWRlZE9wdGlvbnM/XHJcbiAgICAgIGluaXRpYWxNb2RlOiBCbG9ja1NldC5TRVRfMSxcclxuICAgICAgQmxvY2tTZXQ6IEJsb2NrU2V0LmVudW1lcmF0aW9uLFxyXG5cclxuICAgICAgLy8gVE9ETzogb3ZlcnJpZGRlbiAoYWJzdHJhY3QpIG1ldGhvZHMgaW5zdGVhZFxyXG4gICAgICBjcmVhdGVNYXNzZXNDYWxsYmFjazogY3JlYXRlTWFzc2VzLFxyXG4gICAgICByZWdlbmVyYXRlTWFzc2VzQ2FsbGJhY2s6IHJlZ2VuZXJhdGVNYXNzZXMsXHJcbiAgICAgIHBvc2l0aW9uTWFzc2VzQ2FsbGJhY2s6IHBvc2l0aW9uTWFzc2VzXHJcbiAgICB9LCBwcm92aWRlZE9wdGlvbnMgKSApO1xyXG5cclxuICAgIHRoaXMuZGVuc2l0eVRhYmxlRXhwYW5kZWRQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlLCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2RlbnNpdHlUYWJsZUV4cGFuZGVkUHJvcGVydHknIClcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBzY2FsZVBvc2l0aW9uUHJvcGVydHkgPSBuZXcgRGVyaXZlZFByb3BlcnR5KCBbIHRoaXMuaW52aXNpYmxlQmFycmllckJvdW5kc1Byb3BlcnR5IF0sIGJvdW5kcyA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgVmVjdG9yMiggLTAuNzUgKyBib3VuZHMubWluWCArIDAuODc1LCAtU2NhbGUuU0NBTEVfQkFTRV9CT1VORFMubWluWSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuc2NhbGUgPSBuZXcgU2NhbGUoIHRoaXMuZW5naW5lLCB0aGlzLmdyYXZpdHlQcm9wZXJ0eSwge1xyXG4gICAgICBtYXRyaXg6IE1hdHJpeDMudHJhbnNsYXRpb25Gcm9tVmVjdG9yKCBzY2FsZVBvc2l0aW9uUHJvcGVydHkudmFsdWUgKSxcclxuICAgICAgZGlzcGxheVR5cGU6IERpc3BsYXlUeXBlLktJTE9HUkFNUyxcclxuICAgICAgY2FuTW92ZTogZmFsc2UsXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3NjYWxlJyApXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmF2YWlsYWJsZU1hc3Nlcy5wdXNoKCB0aGlzLnNjYWxlICk7XHJcblxyXG4gICAgLy8gTW92ZSB0aGUgc2NhbGUgd2l0aCB0aGUgYmFycmllciwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9kZW5zaXR5L2lzc3Vlcy83M1xyXG4gICAgLy8gVGhpcyBpbnN0YW5jZSBsaXZlcyBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBzaW11bGF0aW9uLCBzbyB3ZSBkb24ndCBuZWVkIHRvIHJlbW92ZSB0aGlzIGxpc3RlbmVyXHJcbiAgICBzY2FsZVBvc2l0aW9uUHJvcGVydHkubGF6eUxpbmsoIHBvc2l0aW9uID0+IHtcclxuICAgICAgdGhpcy5zY2FsZS5tYXRyaXguc2V0MDIoIHBvc2l0aW9uLnggKTtcclxuICAgICAgdGhpcy5zY2FsZS5tYXRyaXguc2V0MTIoIHBvc2l0aW9uLnkgKTtcclxuICAgICAgdGhpcy5zY2FsZS53cml0ZURhdGEoKTtcclxuXHJcbiAgICAgIC8vIFdoZW4gd2UgcmVzZXQtYWxsLCB3ZSdsbCB3YW50IGl0IHRvIG1vdmUgYmFjayB0byBoZXJlXHJcbiAgICAgIHRoaXMuc2NhbGUuc2V0UmVzZXRMb2NhdGlvbigpO1xyXG5cclxuICAgICAgLy8gQWRqdXN0IGl0cyBwcmV2aW91cyBwb3NpdGlvbiBhbHNvXHJcbiAgICAgIHRoaXMuZW5naW5lLmJvZHlTeW5jaHJvbml6ZVByZXZpb3VzKCB0aGlzLnNjYWxlLmJvZHkgKTtcclxuXHJcbiAgICAgIHRoaXMuc2NhbGUudHJhbnNmb3JtZWRFbWl0dGVyLmVtaXQoKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnVuaW50ZXJwb2xhdGVNYXNzZXMoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0cyB0aGluZ3MgdG8gdGhlaXIgb3JpZ2luYWwgdmFsdWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNldCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGVuc2l0eVRhYmxlRXhwYW5kZWRQcm9wZXJ0eS5yZXNldCgpO1xyXG5cclxuICAgIHN1cGVyLnJlc2V0KCk7XHJcblxyXG4gICAgLy8gTWFrZSBzdXJlIHRvIGNyZWF0ZSBuZXcgcmFuZG9tIG1hc3NlcyBvbiBhIHJlc2V0XHJcbiAgICB0aGlzLnJlZ2VuZXJhdGUoIEJsb2NrU2V0LlJBTkRPTSApO1xyXG5cclxuICAgIHRoaXMudW5pbnRlcnBvbGF0ZU1hc3NlcygpO1xyXG4gIH1cclxufVxyXG5cclxuZGVuc2l0eUJ1b3lhbmN5Q29tbW9uLnJlZ2lzdGVyKCAnRGVuc2l0eU15c3RlcnlNb2RlbCcsIERlbnNpdHlNeXN0ZXJ5TW9kZWwgKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLGVBQWUsTUFBTSx3Q0FBd0M7QUFFcEUsT0FBT0MsZUFBZSxNQUFNLHdDQUF3QztBQUNwRSxPQUFPQyxTQUFTLE1BQU0saUNBQWlDO0FBQ3ZELE9BQU9DLE9BQU8sTUFBTSwrQkFBK0I7QUFDbkQsT0FBT0MsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxPQUFPQyxXQUFXLE1BQU0seUNBQXlDO0FBQ2pFLE9BQU9DLGdCQUFnQixNQUFNLDhDQUE4QztBQUMzRSxPQUFPQyxTQUFTLElBQUlDLGNBQWMsUUFBMEIsdUNBQXVDO0FBQ25HLE9BQU9DLDhCQUE4QixNQUFNLGdEQUFnRDtBQUMzRixPQUFPQyxhQUFhLE1BQWdDLHFDQUFxQztBQUN6RixPQUFPQyxJQUFJLE1BQXVCLDRCQUE0QjtBQUM5RCxTQUFTQyxPQUFPLFFBQVEsNEJBQTRCO0FBQ3BELE9BQU9DLFFBQVEsTUFBTSxnQ0FBZ0M7QUFDckQsT0FBT0MsS0FBSyxJQUFJQyxXQUFXLFFBQVEsNkJBQTZCO0FBQ2hFLE9BQU9DLDJCQUEyQixNQUFNLGtEQUFrRDtBQUMxRixPQUFPQyxxQkFBcUIsTUFBTSxnQ0FBZ0M7QUFLbEU7QUFDQSxNQUFNQyxlQUFlLEdBQUdULDhCQUE4QixDQUFDVSx5QkFBeUI7QUFDaEYsTUFBTUMsWUFBWSxHQUFHLENBQ25CSiwyQkFBMkIsQ0FBQ0ssMEJBQTBCLEVBQ3RETCwyQkFBMkIsQ0FBQ00sd0JBQXdCLEVBQ3BETiwyQkFBMkIsQ0FB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