// Copyright 2019-2023, University of Colorado Boulder

/**
 * The main base ScreenView for all Density/Buoyancy screens.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import PhetioAction from '../../../../tandem/js/PhetioAction.js';
import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import DynamicProperty from '../../../../axon/js/DynamicProperty.js';
import Property from '../../../../axon/js/Property.js';
import TinyEmitter from '../../../../axon/js/TinyEmitter.js';
import Bounds2 from '../../../../dot/js/Bounds2.js';
import Matrix3 from '../../../../dot/js/Matrix3.js';
import Plane3 from '../../../../dot/js/Plane3.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import Vector3 from '../../../../dot/js/Vector3.js';
import Screen from '../../../../joist/js/Screen.js';
import ScreenView from '../../../../joist/js/ScreenView.js';
import NodeTexture from '../../../../mobius/js/NodeTexture.js';
import TextureQuad from '../../../../mobius/js/TextureQuad.js';
import ThreeIsometricNode from '../../../../mobius/js/ThreeIsometricNode.js';
import ThreeStage from '../../../../mobius/js/ThreeStage.js';
import ThreeUtils from '../../../../mobius/js/ThreeUtils.js';
import arrayRemove from '../../../../phet-core/js/arrayRemove.js';
import optionize from '../../../../phet-core/js/optionize.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import ResetAllButton from '../../../../scenery-phet/js/buttons/ResetAllButton.js';
import { AlignBox, animatedPanZoomSingleton, Image, LinearGradient, Mouse, Node, Rectangle, Text } from '../../../../scenery/js/imports.js';
import Checkbox from '../../../../sun/js/Checkbox.js';
import EventType from '../../../../tandem/js/EventType.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import Boat from '../../buoyancy/model/Boat.js';
import BoatDesign from '../../buoyancy/model/BoatDesign.js';
import Bottle from '../../buoyancy/model/Bottle.js';
import BoatView from '../../buoyancy/view/BoatView.js';
import BottleView from '../../buoyancy/view/BottleView.js';
import densityBuoyancyCommon from '../../densityBuoyancyCommon.js';
import DensityBuoyancyCommonConstants from '../DensityBuoyancyCommonConstants.js';
import DensityBuoyancyCommonQueryParameters from '../DensityBuoyancyCommonQueryParameters.js';
import Cone from '../model/Cone.js';
import Cuboid from '../model/Cuboid.js';
import Ellipsoid from '../model/Ellipsoid.js';
import HorizontalCylinder from '../model/HorizontalCylinder.js';
import Mass from '../model/Mass.js';
import Scale from '../model/Scale.js';
import VerticalCylinder from '../model/VerticalCylinder.js';
import ConeView from './ConeView.js';
import CuboidView from './CuboidView.js';
import DebugView from './DebugView.js';
import DensityBuoyancyCommonColors from './DensityBuoyancyCommonColors.js';
import DensityMaterials from './DensityMaterials.js';
import EllipsoidView from './EllipsoidView.js';
import ForceDiagramNode from './ForceDiagramNode.js';
import HorizontalCylinderView from './HorizontalCylinderView.js';
import MassLabelNode from './MassLabelNode.js';
import ScaleReadoutNode from './ScaleReadoutNode.js';
import ScaleView from './ScaleView.js';
import VerticalCylinderView from './VerticalCylinderView.js';
import WaterLevelIndicator from './WaterLevelIndicator.js';
import Material from '../model/Material.js';
// constants
const MARGIN = DensityBuoyancyCommonConstants.MARGIN;
const scratchVector2 = new Vector2(0, 0);
export default class DensityBuoyancyScreenView extends ScreenView {
  // Support controlling or changing the latest-touched mass in certain demos.

  // The sky background, in a unit 0-to-1 rectangle (so we can scale it to match)

  // Subtypes can provide their own values to control the barrier sizing

  constructor(model, providedOptions) {
    const scaleIncrease = 3.5;
    const options = optionize()({
      cameraLookAt: DensityBuoyancyCommonConstants.BUOYANCY_CAMERA_LOOK_AT,
      cameraPosition: new Vector3(0, 0.2, 2).timesScalar(scaleIncrease),
      cameraZoom: 1.75 * scaleIncrease,
      preventFit: true
    }, providedOptions);
    const tandem = options.tandem;
    super(options);
    this.model = model;
    this.postLayoutEmitter = new TinyEmitter();
    this.popupLayer = new Node();
    this.currentMassProperty = new Property(model.masses.length > 0 ? model.masses.get(0) : null, {
      tandem: Tandem.OPT_OUT
    });
    this.backgroundNode = new Rectangle(0, 0, 1, 1, {
      pickable: false,
      fill: new LinearGradient(0, 0, 0, 1).addColorStop(0, DensityBuoyancyCommonColors.skyTopProperty).addColorStop(1, DensityBuoyancyCommonColors.skyBottomProperty)
    });
    // This instance lives for the lifetime of the simulation, so we don't need to remove this listener
    this.visibleBoundsProperty.link(visibleBounds => {
      this.backgroundNode.translation = visibleBounds.leftTop;
      this.backgroundNode.setScaleMagnitude(visibleBounds.width, visibleBounds.height / 2);
    });
    this.addChild(this.backgroundNode);
    this.backgroundLayer = new Node();
    this.addChild(this.backgroundLayer);
    this.sceneNode = new ThreeIsometricNode(this.layoutBounds, {
      parentMatrixProperty: animatedPanZoomSingleton.listener.matrixProperty,
      cameraPosition: options.cameraPosition,
      getPhetioMouseHit: point => {
        return this.getMassUnderPoint(this.localToGlobalPoint(point), false);
      }
    });
    this.addChild(this.sceneNode);
    this.scaleReadoutLayer = new Node();
    this.addChild(this.scaleReadoutLayer);
    this.massLabelLayer = new Node();
    this.addChild(this.massLabelLayer);
    this.forceDiagramLayer = new Node();
    this.addChild(this.forceDiagramLayer);
    this.massViews = [];
    this.scaleReadoutNodes = [];
    this.forceDiagramNodes = [];
    this.massLabelNodes = [];
    this.sceneNode.stage.threeCamera.zoom = options.cameraZoom;
    this.sceneNode.stage.threeCamera.updateProjectionMatrix();
    this.sceneNode.stage.threeCamera.up = new THREE.Vector3(0, 0, -1);
    this.sceneNode.stage.threeCamera.lookAt(ThreeUtils.vectorToThree(options.cameraLookAt));
    let mouse = null;
    const updateCursor = () => {
      if (mouse) {
        this.sceneNode.backgroundEventTarget.cursor = this.getMassUnderPointer(mouse, false) ? 'pointer' : null;
      }
    };
    this.sceneNode.backgroundEventTarget.addInputListener({
      mousemove: event => {
        assert && assert(event.pointer instanceof Mouse);
        mouse = event.pointer;
        updateCursor();
      }
    });
    // On re-layout or zoom, update the cursor also
    // This instance lives for the lifetime of the simulation, so we don't need to remove these listeners
    this.transformEmitter.addListener(updateCursor);
    animatedPanZoomSingleton.listener.matrixProperty.lazyLink(updateCursor);
    this.startDragAction = new PhetioAction((mass, position) => {
      mass.startDrag(position);
    }, {
      tandem: tandem.createTandem('startDragAction'),
      phetioDocumentation: 'Starts the dragging of a mass',
      phetioReadOnly: true,
      phetioEventType: EventType.USER,
      parameters: [{
        name: 'mass',
        phetioType: Mass.MassIO
      }, {
        name: 'position',
        phetioType: Vector2.Vector2IO
      }]
    });
    this.updateDragAction = new PhetioAction((mass, position) => {
      mass.updateDrag(position);
    }, {
      tandem: tandem.createTandem('updateDragAction'),
      phetioDocumentation: 'Continues the dragging of a mass',
      phetioReadOnly: true,
      phetioEventType: EventType.USER,
      parameters: [{
        name: 'mass',
        phetioType: Mass.MassIO
      }, {
        name: 'position',
        phetioType: Vector2.Vector2IO
      }]
    });
    this.endDragAction = new PhetioAction(mass => {
      mass.endDrag();
    }, {
      tandem: tandem.createTandem('endDragAction'),
      phetioDocumentation: 'Continues the dragging of a mass',
      phetioReadOnly: true,
      phetioEventType: EventType.USER,
      parameters: [{
        name: 'mass',
        phetioType: Mass.MassIO
      }]
    });
    const draggedMasses = [];
    this.sceneNode.backgroundEventTarget.addInputListener({
      down: event => {
        if (!event.canStartPress()) {
          return;
        }
        const pointer = event.pointer;
        const isTouch = !(pointer instanceof Mouse);
        const mass = this.getMassUnderPointer(pointer, isTouch);
        if (mass && mass.canMove && !mass.userControlledProperty.value) {
          const initialRay = this.sceneNode.getRayFromScreenPoint(pointer.point);
          const initialT = mass.intersect(initialRay, isTouch);
          if (initialT === null) {
            return;
          }
          const initialPosition = initialRay.pointAtDistance(initialT);
          const initialPlane = new Plane3(Vector3.Z_UNIT, initialPosition.z);
          this.startDragAction.execute(mass, initialPosition.toVector2());
          this.currentMassProperty.value = mass;
          pointer.cursor = 'pointer';
          const endDrag = () => {
            pointer.removeInputListener(listener);
            arrayRemove(draggedMasses, mass);
            mass.interruptedEmitter.removeListener(endDrag);
            pointer.cursor = null;
            this.endDragAction.execute(mass);
          };
          const listener = {
            // end drag on either up or cancel (not supporting full cancel behavior)
            up: endDrag,
            cancel: endDrag,
            interrupt: endDrag,
            move: () => {
              const ray = this.sceneNode.getRayFromScreenPoint(pointer.point);
              const position = initialPlane.intersectWithRay(ray);
              this.updateDragAction.execute(mass, position.toVector2());
            },
            createPanTargetBounds: () => {
              return draggedMasses.reduce((bounds, mass) => {
                const massView = _.find(this.massViews, massView => massView.mass === mass);
                const bbox = new THREE.Box3().setFromObject(massView);

                // Include all 8 corners of the bounding box
                bounds = bounds.withPoint(this.localToGlobalPoint(this.modelToViewPoint(new Vector3(bbox.min.x, bbox.min.y, bbox.min.z))));
                bounds = bounds.withPoint(this.localToGlobalPoint(this.modelToViewPoint(new Vector3(bbox.min.x, bbox.min.y, bbox.max.z))));
                bounds = bounds.withPoint(this.localToGlobalPoint(this.modelToViewPoint(new Vector3(bbox.min.x, bbox.max.y, bbox.min.z))));
                bounds = bounds.withPoint(this.localToGlobalPoint(this.modelToViewPoint(new Vector3(bbox.min.x, bbox.max.y, bbox.max.z))));
                bounds = bounds.withPoint(this.localToGlobalPoint(this.modelToViewPoint(new Vector3(bbox.max.x, bbox.min.y, bbox.min.z))));
                bounds = bounds.withPoint(this.localToGlobalPoint(this.modelToViewPoint(new Vector3(bbox.max.x, bbox.min.y, bbox.max.z))));
                bounds = bounds.withPoint(this.localToGlobalPoint(this.modelToViewPoint(new Vector3(bbox.max.x, bbox.max.y, bbox.min.z))));
                bounds = bounds.withPoint(this.localToGlobalPoint(this.modelToViewPoint(new Vector3(bbox.max.x, bbox.max.y, bbox.max.z))));
                console.log(bounds.toString());
                return bounds;
              }, Bounds2.NOTHING);
            }
          };
          pointer.reserveForDrag();
          pointer.addInputListener(listener, true);
          draggedMasses.push(mass);
          mass.interruptedEmitter.addListener(endDrag);
        }
      },
      // Support interruption by subtree
      interrupt: () => {
        draggedMasses.slice().forEach(mass => mass.interruptedEmitter.emit());
      }
    });
    const ambientLight = new THREE.AmbientLight(0x333333);
    this.sceneNode.stage.threeScene.add(ambientLight);
    const sunLight = new THREE.DirectionalLight(0xffffff, 1);
    sunLight.position.set(-0.7, 1.5, 0.8);
    this.sceneNode.stage.threeScene.add(sunLight);
    const moonLight = new THREE.DirectionalLight(0xffffff, 0.2);
    moonLight.position.set(2.0, -1.0, 1.0);
    this.sceneNode.stage.threeScene.add(moonLight);

    // Front ground
    const frontGeometry = new THREE.BufferGeometry();
    frontGeometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array([
    // Left side
    ...ThreeUtils.frontVertices(new Bounds2(model.groundBounds.minX, model.groundBounds.minY, model.poolBounds.minX, model.groundBounds.maxY), model.groundBounds.maxZ),
    // Right side
    ...ThreeUtils.frontVertices(new Bounds2(model.poolBounds.maxX, model.groundBounds.minY, model.groundBounds.maxX, model.groundBounds.maxY), model.groundBounds.maxZ),
    // Bottom
    ...ThreeUtils.frontVertices(new Bounds2(model.poolBounds.minX, model.groundBounds.minY, model.poolBounds.maxX, model.poolBounds.minY), model.groundBounds.maxZ)]), 3));
    const groundMaterial = new THREE.MeshBasicMaterial();
    // This instance lives for the lifetime of the simulation, so we don't need to remove this listener
    DensityBuoyancyCommonColors.groundProperty.link(groundColor => {
      groundMaterial.color = ThreeUtils.colorToThree(groundColor);
    });
    const frontMesh = new THREE.Mesh(frontGeometry, groundMaterial);
    this.sceneNode.stage.threeScene.add(frontMesh);

    // Top ground
    const topGeometry = new THREE.BufferGeometry();
    topGeometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array([
    // Left side
    ...ThreeUtils.topVertices(new Bounds2(model.groundBounds.minX, model.poolBounds.minZ, model.poolBounds.minX, model.groundBounds.maxZ), model.groundBounds.maxY),
    // Right side
    ...ThreeUtils.topVertices(new Bounds2(model.poolBounds.maxX, model.poolBounds.minZ, model.groundBounds.maxX, model.groundBounds.maxZ), model.groundBounds.maxY),
    // Back side
    ...ThreeUtils.topVertices(new Bounds2(model.groundBounds.minX, model.groundBounds.minZ, model.groundBounds.maxX, model.poolBounds.minZ), model.groundBounds.maxY)]), 3));
    topGeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array([
    // Left
    0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0,
    // Right
    0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0,
    // Back
    0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0]), 3));
    const topColorArray = new Float32Array([
    // Left
    0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0,
    // Right
    0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0,
    // Back
    1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1]);
    topGeometry.addAttribute('color', new THREE.BufferAttribute(topColorArray, 3));
    // This instance lives for the lifetime of the simulation, so we don't need to remove this listener
    DensityBuoyancyCommonColors.grassCloseProperty.link(grassCloseColor => {
      for (let i = 0; i < 18; i++) {
        topColorArray[i * 3 + 0] = grassCloseColor.r / 255;
        topColorArray[i * 3 + 1] = grassCloseColor.g / 255;
        topColorArray[i * 3 + 2] = grassCloseColor.b / 255;
      }
      const offset = 3 * 2 * 6;
      topColorArray[offset + 0] = topColorArray[offset + 3] = topColorArray[offset + 9] = grassCloseColor.r / 255;
      topColorArray[offset + 1] = topColorArray[offset + 4] = topColorArray[offset + 10] = grassCloseColor.g / 255;
      topColorArray[offset + 2] = topColorArray[offset + 5] = topColorArray[offset + 11] = grassCloseColor.b / 255;
      topGeometry.attributes.color.needsUpdate = true;
    });
    // This instance lives for the lifetime of the simulation, so we don't need to remove this listener
    DensityBuoyancyCommonColors.grassFarProperty.link(grassFarColor => {
      const offset = 3 * 2 * 6;
      topColorArray[offset + 6] = topColorArray[offset + 12] = topColorArray[offset + 15] = grassFarColor.r / 255;
      topColorArray[offset + 7] = topColorArray[offset + 13] = topColorArray[offset + 16] = grassFarColor.g / 255;
      topColorArray[offset + 8] = topColorArray[offset + 14] = topColorArray[offset + 17] = grassFarColor.b / 255;
      topGeometry.attributes.color.needsUpdate = true;
    });
    // @ts-expect-error - THREE.js version incompat?
    const topMaterial = new THREE.MeshBasicMaterial({
      vertexColors: THREE.VertexColors
    });
    const topMesh = new THREE.Mesh(topGeometry, topMaterial);
    this.sceneNode.stage.threeScene.add(topMesh);

    // Pool interior
    const poolGeometry = new THREE.BufferGeometry();
    poolGeometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array([
    // Bottom
    ...ThreeUtils.topVertices(new Bounds2(model.poolBounds.minX, model.poolBounds.minZ, model.poolBounds.maxX, model.poolBounds.maxZ), model.poolBounds.minY),
    // Back
    ...ThreeUtils.frontVertices(new Bounds2(model.poolBounds.minX, model.poolBounds.minY, model.poolBounds.maxX, model.poolBounds.maxY), model.poolBounds.minZ),
    // Left
    ...ThreeUtils.rightVertices(new Bounds2(model.poolBounds.minZ, model.poolBounds.minY, model.poolBounds.maxZ, model.poolBounds.maxY), model.poolBounds.minX),
    // Right
    ...ThreeUtils.leftVertices(new Bounds2(model.poolBounds.minZ, model.poolBounds.minY, model.poolBounds.maxZ, model.poolBounds.maxY), model.poolBounds.maxX)]), 3));
    poolGeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array([
    // Bottom
    0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0,
    // Back
    0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1,
    // Left
    1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0,
    // Right
    -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0]), 3));
    const poolMaterial = new THREE.MeshLambertMaterial();
    // This instance lives for the lifetime of the simulation, so we don't need to remove this listener
    DensityBuoyancyCommonColors.poolSurfaceProperty.link(poolSurfaceColor => {
      poolMaterial.color = ThreeUtils.colorToThree(poolSurfaceColor);
    });
    const poolMesh = new THREE.Mesh(poolGeometry, poolMaterial);
    this.sceneNode.stage.threeScene.add(poolMesh);

    // Debug barrier
    if (DensityBuoyancyCommonQueryParameters.showBarrier) {
      const barrierGeometry = new THREE.BufferGeometry();
      const barrierPositionArray = new Float32Array(18 * 2);
      barrierGeometry.addAttribute('position', new THREE.BufferAttribute(barrierPositionArray, 3));
      barrierGeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array([
      // Left
      1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0,
      // Right
      -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0]), 3));
      const barrierMaterial = new THREE.MeshLambertMaterial({
        color: 0xff0000,
        transparent: true,
        opacity: 0.5
      });

      // This instance lives for the lifetime of the simulation, so we don't need to remove this listener
      model.invisibleBarrierBoundsProperty.link(bounds => {
        let index = 0;
        const zyBounds = new Bounds2(bounds.minZ, bounds.minY, bounds.maxZ, bounds.maxY);
        index = ThreeUtils.writeRightVertices(barrierPositionArray, index, zyBounds, bounds.minX);
        ThreeUtils.writeLeftVertices(barrierPositionArray, index, zyBounds, bounds.maxX);
        barrierGeometry.attributes.position.needsUpdate = true;
        barrierGeometry.computeBoundingSphere();
      });
      const barrierMesh = new THREE.Mesh(barrierGeometry, barrierMaterial);
      this.sceneNode.stage.threeScene.add(barrierMesh);
    }

    // Water
    const waterGeometry = new THREE.BufferGeometry();
    const waterPositionArray = BoatDesign.createWaterVertexArray();
    waterGeometry.addAttribute('position', new THREE.BufferAttribute(waterPositionArray, 3));
    waterGeometry.addAttribute('normal', new THREE.BufferAttribute(BoatDesign.createWaterNormalArray(), 3));
    const waterMaterial = new THREE.MeshLambertMaterial({
      transparent: true,
      depthWrite: false
    });
    Material.linkLiquidColor(model.liquidMaterialProperty, waterMaterial);
    const waterMesh = new THREE.Mesh(waterGeometry, waterMaterial);
    this.sceneNode.stage.threeScene.add(waterMesh);
    waterMesh.renderOrder = 10;
    let wasFilled = false;
    // This instance lives for the lifetime of the simulation, so we don't need to remove this listener
    model.pool.liquidYInterpolatedProperty.link(y => {
      const boat = model.getBoat();
      const hasVisibleBoat = boat && boat.visibleProperty.value;
      wasFilled = BoatDesign.fillWaterVertexArray(y, hasVisibleBoat ? boat.matrix.translation.x : 0, hasVisibleBoat ? y - boat.matrix.translation.y : 0, hasVisibleBoat ? boat.displacementVolumeProperty.value / 0.001 : 0, model.poolBounds, waterPositionArray, wasFilled);
      waterGeometry.attributes.position.needsUpdate = true;
      waterGeometry.computeBoundingSphere();
    });
    const onMassAdded = mass => {
      let massView = null;
      if (mass instanceof Cuboid) {
        massView = new CuboidView(mass);
      } else if (mass instanceof Scale) {
        massView = new ScaleView(mass);
      } else if (mass instanceof Cone) {
        massView = new ConeView(mass);
      } else if (mass instanceof Ellipsoid) {
        massView = new EllipsoidView(mass);
      } else if (mass instanceof HorizontalCylinder) {
        massView = new HorizontalCylinderView(mass);
      } else if (mass instanceof VerticalCylinder) {
        massView = new VerticalCylinderView(mass);
      } else if (mass instanceof Bottle) {
        massView = new BottleView(mass);
      } else if (mass instanceof Boat) {
        massView = new BoatView(mass, model.pool.liquidYInterpolatedProperty);
      }
      if (massView) {
        this.sceneNode.stage.threeScene.add(massView);
        this.massViews.push(massView);
        if (massView instanceof ScaleView) {
          // eslint-disable-next-line no-simple-type-checking-assertions
          assert && assert(mass instanceof Scale);
          const scaleReadoutNode = new ScaleReadoutNode(mass, model.gravityProperty);
          this.scaleReadoutLayer.addChild(scaleReadoutNode);
          this.scaleReadoutNodes.push(scaleReadoutNode);
        } else {
          const forceDiagramNode = new ForceDiagramNode(mass, model.showGravityForceProperty, model.showBuoyancyForceProperty, model.showContactForceProperty, model.showForceValuesProperty, model.forceScaleProperty);
          this.forceDiagramLayer.addChild(forceDiagramNode);
          this.forceDiagramNodes.push(forceDiagramNode);
          const massLabelNode = new MassLabelNode(mass, model.showMassesProperty);
          this.massLabelLayer.addChild(massLabelNode);
          this.massLabelNodes.push(massLabelNode);
        }
      }
    };
    model.masses.addItemAddedListener(onMassAdded);
    model.masses.forEach(onMassAdded);
    const onMassRemoved = mass => {
      // Mass view
      const massView = _.find(this.massViews, massView => massView.mass === mass);
      this.sceneNode.stage.threeScene.remove(massView);
      arrayRemove(this.massViews, massView);
      massView.dispose();
      if (massView instanceof ScaleView) {
        const scaleReadoutNode = _.find(this.scaleReadoutNodes, scaleReadoutNode => scaleReadoutNode.mass === mass);
        this.scaleReadoutLayer.removeChild(scaleReadoutNode);
        arrayRemove(this.scaleReadoutNodes, scaleReadoutNode);
        scaleReadoutNode.dispose();
      } else {
        // Force diagram node
        const forceDiagramNode = _.find(this.forceDiagramNodes, forceDiagramNode => forceDiagramNode.mass === mass);
        this.forceDiagramLayer.removeChild(forceDiagramNode);
        arrayRemove(this.forceDiagramNodes, forceDiagramNode);
        forceDiagramNode.dispose();
        const massLabelNode = _.find(this.massLabelNodes, massLabelNode => massLabelNode.mass === mass);
        this.massLabelLayer.removeChild(massLabelNode);
        arrayRemove(this.massLabelNodes, massLabelNode);
        massLabelNode.dispose();
      }
    };
    model.masses.addItemRemovedListener(onMassRemoved);

    // DerivedProperty doesn't need disposal, since everything here lives for the lifetime of the simulation
    const waterLevelIndicator = new WaterLevelIndicator(new DerivedProperty([model.pool.liquidYInterpolatedProperty], liquidY => {
      return model.poolBounds.width * model.poolBounds.depth * (liquidY - model.poolBounds.minY);
    }));
    this.addChild(waterLevelIndicator);
    // This instance lives for the lifetime of the simulation, so we don't need to remove this listener
    model.pool.liquidYInterpolatedProperty.link(liquidY => {
      const modelPoint = new Vector3(model.poolBounds.minX, liquidY, model.poolBounds.maxZ);
      waterLevelIndicator.translation = this.modelToViewPoint(modelPoint);
    });
    const resetAllButton = new ResetAllButton({
      listener: () => {
        this.interruptSubtreeInput();
        model.reset();
      },
      tandem: tandem.createTandem('resetAllButton')
    });
    this.addChild(new AlignBox(resetAllButton, {
      alignBoundsProperty: this.visibleBoundsProperty,
      xAlign: 'right',
      yAlign: 'bottom',
      margin: MARGIN
    }));
    if (DensityBuoyancyCommonQueryParameters.showDebug) {
      const debugVisibleProperty = new BooleanProperty(true);
      this.debugView = new DebugView(model, this.layoutBounds);
      this.debugView.visibleProperty = debugVisibleProperty;
      this.popupLayer.addChild(this.debugView);
      this.addChild(new Checkbox(debugVisibleProperty, new Text('Debug', {
        font: new PhetFont(12)
      })));
    }

    // DerivedProperty doesn't need disposal, since everything here lives for the lifetime of the simulation
    this.leftBarrierViewPointProperty = new Property(new DerivedProperty([this.visibleBoundsProperty], visibleBounds => visibleBounds.leftCenter), {
      tandem: Tandem.OPT_OUT
    });
    // DerivedProperty doesn't need disposal, since everything here lives for the lifetime of the simulation
    this.rightBarrierViewPointProperty = new Property(new DerivedProperty([this.visibleBoundsProperty], visibleBounds => visibleBounds.rightCenter), {
      tandem: Tandem.OPT_OUT
    });
    const resizeBarrier = () => {
      const stage = this.sceneNode.stage;
      if (stage.canvasWidth && stage.canvasHeight) {
        const leftRay = this.sceneNode.getRayFromScreenPoint(this.localToGlobalPoint(this.leftBarrierViewPointProperty.value.value));
        const rightRay = this.sceneNode.getRayFromScreenPoint(this.localToGlobalPoint(this.rightBarrierViewPointProperty.value.value));
        const leftPoint = new Plane3(Vector3.Z_UNIT, 0.09).intersectWithRay(leftRay);
        const rightPoint = new Plane3(Vector3.Z_UNIT, 0.09).intersectWithRay(rightRay);
        model.invisibleBarrierBoundsProperty.value = model.invisibleBarrierBoundsProperty.value.withMinX(leftPoint.x + 0.01).withMaxX(rightPoint.x - 0.01);
      }
    };

    // leftBarrierViewPointProperty and rightBarrierViewPointProperty are Property<Property>, and we need to listen
    // to when the value.value changes
    // This instance lives for the lifetime of the simulation, so we don't need to remove these listeners
    new DynamicProperty(this.leftBarrierViewPointProperty).lazyLink(resizeBarrier);
    new DynamicProperty(this.rightBarrierViewPointProperty).lazyLink(resizeBarrier);
    this.postLayoutEmitter.addListener(resizeBarrier); // We need to wait for the layout AND render

    if (!ThreeUtils.isWebGLEnabled()) {
      ThreeUtils.showWebGLWarning(this);
    }
  }

  /**
   * Projects a 3d model point to a 2d view point (in the screen view's coordinate frame).
   */
  modelToViewPoint(point) {
    // We'll want to transform global coordinates into screen coordinates here
    return this.parentToLocalPoint(animatedPanZoomSingleton.listener.matrixProperty.value.inverted().timesVector2(this.sceneNode.projectPoint(point)));
  }

  /**
   * Returns the closest grab-able mass under the pointer/
   */
  getMassUnderPointer(pointer, isTouch) {
    const point = pointer.point;
    if (point === null) {
      return null;
    }
    return this.getMassUnderPoint(point, isTouch);
  }

  /**
   * Returns the closest grab-able mass under the point
   */
  getMassUnderPoint(point, isTouch) {
    const ray = this.sceneNode.getRayFromScreenPoint(point);
    let closestT = Number.POSITIVE_INFINITY;
    let closestMass = null;
    this.model.masses.forEach(mass => {
      if (!mass.canMove || !mass.inputEnabledProperty.value) {
        return;
      }
      const t = mass.intersect(ray, isTouch);
      if (t !== null && t < closestT) {
        closestT = t;
        closestMass = mass;
      }
    });
    return closestMass;
  }
  layout(viewBounds) {
    super.layout(viewBounds);

    // If the simulation was not able to load for WebGL, bail out
    if (!this.sceneNode) {
      return;
    }
    this.sceneNode.layout(viewBounds.width, viewBounds.height);

    // We need to do an initial render for certain layout-based code to work
    this.sceneNode.render(undefined);
    this.postLayoutEmitter.emit();
  }

  /**
   * Steps forward in time.
   */
  step(dt) {
    // If the simulation was not able to load for WebGL, bail out
    if (!this.sceneNode) {
      return;
    }
    assert && this.massViews.forEach(massView => {
      assert(massView.position.x === massView.mass.matrix.translation.x);
    });
    this.sceneNode.render(undefined);
    this.scaleReadoutNodes.forEach(scaleReadoutNode => {
      scaleReadoutNode.translation = this.modelToViewPoint(scaleReadoutNode.mass.matrix.translation.toVector3().plus(Scale.SCALE_FRONT_OFFSET));
    });
    this.forceDiagramNodes.forEach(forceDiagramNode => {
      forceDiagramNode.update();
      const mass = forceDiagramNode.mass;
      const originPoint = this.modelToViewPoint(mass.matrix.translation.toVector3().plus(mass.forceOffsetProperty.value));
      forceDiagramNode.matrix = Matrix3.rowMajor(1, 0, originPoint.x, 0, 1, originPoint.y, 0, 0, 1);
    });
    this.massLabelNodes.forEach(massLabelNode => {
      const mass = massLabelNode.mass;
      const modelPoint = this.modelToViewPoint(mass.matrix.translation.toVector3().plus(mass.massOffsetProperty.value));
      const offsetPoint = scratchVector2.setXY(massLabelNode.width / 2, massLabelNode.height / 2).componentMultiply(mass.massOffsetOrientationProperty.value);
      massLabelNode.translation = modelPoint.plus(offsetPoint);
    });
    this.debugView && this.debugView.step(dt);
  }

  /**
   * Returns an icon for selection, given a scene setup callback.
   */
  static getAngledIcon(zoom, lookAt, setupScene) {
    const width = Screen.MINIMUM_HOME_SCREEN_ICON_SIZE.width;
    const height = Screen.MINIMUM_HOME_SCREEN_ICON_SIZE.height;
    const stage = new ThreeStage();
    stage.threeCamera.near = 0.5;
    const ambientLight = new THREE.AmbientLight(0x333333);
    stage.threeScene.add(ambientLight);
    const sunLight = new THREE.DirectionalLight(0xffffff, 1);
    sunLight.position.set(-1, 1.5, 0.8);
    stage.threeScene.add(sunLight);
    const moonLight = new THREE.DirectionalLight(0xffffff, 0.2);
    moonLight.position.set(2.0, -1.0, 1.0);
    stage.threeScene.add(moonLight);
    stage.threeScene.background = new THREE.Color(0xffffff);
    stage.threeCamera.position.copy(ThreeUtils.vectorToThree(new Vector3(0, 0.4, 1)));
    stage.threeCamera.zoom = zoom;
    stage.threeCamera.lookAt(ThreeUtils.vectorToThree(lookAt));
    stage.threeCamera.updateProjectionMatrix();
    setupScene(stage.threeScene);
    stage.threeCamera.fov = 50;
    stage.threeCamera.aspect = width / height;
    stage.setDimensions(width, height);
    stage.threeCamera.updateProjectionMatrix();
    stage.render(undefined);
    const canvas = stage.renderToCanvas(3);
    stage.dispose();

    // Yes, we log this so we can regenerate them if we have changes
    console.log(canvas.toDataURL());
    const image = new Image(canvas.toDataURL(), {
      mipmap: true,
      initialWidth: canvas.width,
      initialHeight: canvas.height
    });
    image.setScaleMagnitude(1, -1);
    image.left = 0;
    image.top = 0;
    return image;
  }

  /**
   * Returns an icon meant to be used as a fallback in case webgl is not available.
   */
  static getFallbackIcon() {
    return new Rectangle(0, 0, Screen.MINIMUM_HOME_SCREEN_ICON_SIZE.width, Screen.MINIMUM_HOME_SCREEN_ICON_SIZE.height, {
      fill: 'gray'
    });
  }
  static getDensityIntroIcon() {
    if (!ThreeUtils.isWebGLEnabled()) {
      return DensityBuoyancyScreenView.getFallbackIcon();
    }
    return DensityBuoyancyScreenView.getAngledIcon(5.5, new Vector3(0, 0, 0), scene => {
      const boxGeometry = new THREE.BoxGeometry(0.1, 0.1, 0.1);
      const box = new THREE.Mesh(boxGeometry, new THREE.MeshStandardMaterial({
        map: DensityMaterials.woodColorTexture,
        normalMap: DensityMaterials.woodNormalTexture,
        normalScale: new THREE.Vector2(1, -1),
        roughnessMap: DensityMaterials.woodRoughnessTexture,
        metalness: 0
        // NOTE: Removed the environment map for now
      }));

      box.position.copy(ThreeUtils.vectorToThree(new Vector3(0, 0, 0)));
      scene.add(box);
      const waterMaterial = new THREE.MeshLambertMaterial({
        transparent: true
      });
      const waterColor = DensityBuoyancyCommonColors.materialWaterColorProperty.value;
      waterMaterial.color = ThreeUtils.colorToThree(waterColor);
      waterMaterial.opacity = waterColor.alpha;

      // Fake it!
      const waterGeometry = new THREE.BoxGeometry(1, 1, 0.12);
      const water = new THREE.Mesh(waterGeometry, waterMaterial);
      water.position.copy(ThreeUtils.vectorToThree(new Vector3(0, -0.5, 0)));
      scene.add(water);
    });
  }
  static getDensityCompareIcon() {
    if (!ThreeUtils.isWebGLEnabled()) {
      return DensityBuoyancyScreenView.getFallbackIcon();
    }
    return DensityBuoyancyScreenView.getAngledIcon(4.6, new Vector3(0, -0.02, 0), scene => {
      const boxGeometry = new THREE.BoxGeometry(0.1, 0.1, 0.1);
      const leftBox = new THREE.Mesh(boxGeometry, new THREE.MeshLambertMaterial({
        color: 0xffff00
      }));
      leftBox.position.copy(ThreeUtils.vectorToThree(new Vector3(-0.07, 0, 0)));
      scene.add(leftBox);
      const rightBox = new THREE.Mesh(boxGeometry, new THREE.MeshLambertMaterial({
        color: 0xff0000
      }));
      rightBox.position.copy(ThreeUtils.vectorToThree(new Vector3(0.07, -0.06, 0)));
      scene.add(rightBox);
      const waterMaterial = new THREE.MeshLambertMaterial({
        transparent: true
      });
      const waterColor = DensityBuoyancyCommonColors.materialWaterColorProperty.value;
      waterMaterial.color = ThreeUtils.colorToThree(waterColor);
      waterMaterial.opacity = waterColor.alpha;

      // Fake it!
      const waterGeometry = new THREE.BoxGeometry(1, 1, 0.12);
      const water = new THREE.Mesh(waterGeometry, waterMaterial);
      water.position.copy(ThreeUtils.vectorToThree(new Vector3(0, -0.5, 0)));
      scene.add(water);
    });
  }
  static getDensityMysteryIcon() {
    if (!ThreeUtils.isWebGLEnabled()) {
      return DensityBuoyancyScreenView.getFallbackIcon();
    }
    return DensityBuoyancyScreenView.getAngledIcon(4, new Vector3(0, -0.01, 0), scene => {
      const boxGeometry = new THREE.BoxGeometry(0.1, 0.1, 0.1);
      const box = new THREE.Mesh(boxGeometry, new THREE.MeshLambertMaterial({
        color: 0x00ff00
      }));
      box.position.copy(ThreeUtils.vectorToThree(new Vector3(0, 0.03, 0)));
      scene.add(box);
      const labelSize = 0.1;
      const label = new TextureQuad(new NodeTexture(new Text('?', {
        font: new PhetFont({
          size: 120
        }),
        center: new Vector2(128, 128)
      }), 256, 256), labelSize, labelSize);
      label.position.copy(ThreeUtils.vectorToThree(new Vector3(0 - labelSize * 0.5, 0.03, 0.15)));
      scene.add(label);
      const scaleGeometry = ScaleView.getScaleGeometry();
      const scale = new THREE.Mesh(scaleGeometry, new THREE.MeshStandardMaterial({
        color: 0xffffff,
        roughness: 0.2,
        metalness: 0.7,
        emissive: 0x666666
      }));
      scale.position.copy(ThreeUtils.vectorToThree(new Vector3(0, -0.03, 0)));
      scene.add(scale);
    });
  }
}
densityBuoyancyCommon.register('DensityBuoyancyScreenView', DensityBuoyancyScreenView);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQaGV0aW9BY3Rpb24iLCJCb29sZWFuUHJvcGVydHkiLCJEZXJpdmVkUHJvcGVydHkiLCJEeW5hbWljUHJvcGVydHkiLCJQcm9wZXJ0eSIsIlRpbnlFbWl0dGVyIiwiQm91bmRzMiIsIk1hdHJpeDMiLCJQbGFuZTMiLCJWZWN0b3IyIiwiVmVjdG9yMyIsIlNjcmVlbiIsIlNjcmVlblZpZXciLCJOb2RlVGV4dHVyZSIsIlRleHR1cmVRdWFkIiwiVGhyZWVJc29tZXRyaWNOb2RlIiwiVGhyZWVTdGFnZSIsIlRocmVlVXRpbHMiLCJhcnJheVJlbW92ZSIsIm9wdGlvbml6ZSIsIlBoZXRGb250IiwiUmVzZXRBbGxCdXR0b24iLCJBbGlnbkJveCIsImFuaW1hdGVkUGFuWm9vbVNpbmdsZXRvbiIsIkltYWdlIiwiTGluZWFyR3JhZGllbnQiLCJNb3VzZSIsIk5vZGUiLCJSZWN0YW5nbGUiLCJUZXh0IiwiQ2hlY2tib3giLCJFdmVudFR5cGUiLCJUYW5kZW0iLCJCb2F0IiwiQm9hdERlc2lnbiIsIkJvdHRsZSIsIkJvYXRWaWV3IiwiQm90dGxlVmlldyIsImRlbnNpdHlCdW95YW5jeUNvbW1vbiIsIkRlbnNpdHlCdW95YW5jeUNvbW1vbkNvbnN0YW50cyIsIkRlbnNpdHlCdW95YW5jeUNvbW1vblF1ZXJ5UGFyYW1ldGVycyIsIkNvbmUiLCJDdWJvaWQiLCJFbGxpcHNvaWQiLCJIb3Jpem9udGFsQ3lsaW5kZXIiLCJNYXNzIiwiU2NhbGUiLCJWZXJ0aWNhbEN5bGluZGVyIiwiQ29uZVZpZXciLCJDdWJvaWRWaWV3IiwiRGVidWdWaWV3IiwiRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzIiwiRGVuc2l0eU1hdGVyaWFscyIsIkVsbGlwc29pZFZpZXciLCJGb3JjZURpYWdyYW1Ob2RlIiwiSG9yaXpvbnRhbEN5bGluZGVyVmlldyIsIk1hc3NMYWJlbE5vZGUiLCJTY2FsZVJlYWRvdXROb2RlIiwiU2NhbGVWaWV3IiwiVmVydGljYWxDeWxpbmRlclZpZXciLCJXYXRlckxldmVsSW5kaWNhdG9yIiwiTWF0ZXJpYWwiLCJNQVJHSU4iLCJzY3JhdGNoVmVjdG9yMiIsIkRlbnNpdHlCdW95YW5jeVNjcmVlblZpZXciLCJjb25zdHJ1Y3RvciIsIm1vZGVsIiwicHJvdmlkZWRPcHRpb25zIiwic2NhbGVJbmNyZWFzZSIsIm9wdGlvbnMiLCJjYW1lcmFMb29rQXQiLCJCVU9ZQU5DWV9DQU1FUkFfTE9PS19BVCIsImNhbWVyYVBvc2l0aW9uIiwidGltZXNTY2FsYXIiLCJjYW1lcmFab29tIiwicHJldmVudEZpdCIsInRhbmRlbSIsInBvc3RMYXlvdXRFbWl0dGVyIiwicG9wdXBMYXllciIsImN1cnJlbnRNYXNzUHJvcGVydHkiLCJtYXNzZXMiLCJsZW5ndGgiLCJnZXQiLCJPUFRfT1VUIiwiYmFja2dyb3VuZE5vZGUiLCJwaWNrYWJsZSIsImZpbGwiLCJhZGRDb2xvclN0b3AiLCJza3lUb3BQcm9wZXJ0eSIsInNreUJvdHRvbVByb3BlcnR5IiwidmlzaWJsZUJvdW5kc1Byb3BlcnR5IiwibGluayIsInZpc2libGVCb3VuZHMiLCJ0cmFuc2xhdGlvbiIsImxlZnRUb3AiLCJzZXRTY2FsZU1hZ25pdHVkZSIsIndpZHRoIiwiaGVpZ2h0IiwiYWRkQ2hpbGQiLCJiYWNrZ3JvdW5kTGF5ZXIiLCJzY2VuZU5vZGUiLCJsYXlvdXRCb3VuZHMiLCJwYXJlbnRNYXRyaXhQcm9wZXJ0eSIsImxpc3RlbmVyIiwibWF0cml4UHJvcGVydHkiLCJnZXRQaGV0aW9Nb3VzZUhpdCIsInBvaW50IiwiZ2V0TWFzc1VuZGVyUG9pbnQiLCJsb2NhbFRvR2xvYmFsUG9pbnQiLCJzY2FsZVJlYWRvdXRMYXllciIsIm1hc3NMYWJlbExheWVyIiwiZm9yY2VEaWFncmFtTGF5ZXIiLCJtYXNzVmlld3MiLCJzY2FsZVJlYWRvdXROb2RlcyIsImZvcmNlRGlhZ3JhbU5vZGVzIiwibWFzc0xhYmVsTm9kZXMiLCJzdGFnZSIsInRocmVlQ2FtZXJhIiwiem9vbSIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJ1cCIsIlRIUkVFIiwibG9va0F0IiwidmVjdG9yVG9UaHJlZSIsIm1vdXNlIiwidXBkYXRlQ3Vyc29yIiwiYmFja2dyb3VuZEV2ZW50VGFyZ2V0IiwiY3Vyc29yIiwiZ2V0TWFzc1VuZGVyUG9pbnRlciIsImFkZElucHV0TGlzdGVuZXIiLCJtb3VzZW1vdmUiLCJldmVudCIsImFzc2VydCIsInBvaW50ZXIiLCJ0cmFuc2Zvcm1FbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJsYXp5TGluayIsInN0YXJ0RHJhZ0FjdGlvbiIsIm1hc3MiLCJwb3NpdGlvbiIsInN0YXJ0RHJhZyIsImNyZWF0ZVRhbmRlbSIsInBoZXRpb0RvY3VtZW50YXRpb24iLCJwaGV0aW9SZWFkT25seSIsInBoZXRpb0V2ZW50VHlwZSIsIlVTRVIiLCJwYXJhbWV0ZXJzIiwibmFtZSIsInBoZXRpb1R5cGUiLCJNYXNzSU8iLCJWZWN0b3IySU8iLCJ1cGRhdGVEcmFnQWN0aW9uIiwidXBkYXRlRHJhZyIsImVuZERyYWdBY3Rpb24iLCJlbmREcmFnIiwiZHJhZ2dlZE1hc3NlcyIsImRvd24iLCJjYW5TdGFydFByZXNzIiwiaXNUb3VjaCIsImNhbk1vdmUiLCJ1c2VyQ29udHJvbGxlZFByb3BlcnR5IiwidmFsdWUiLCJpbml0aWFsUmF5IiwiZ2V0UmF5RnJvbVNjcmVlblBvaW50IiwiaW5pdGlhbFQiLCJpbnRlcnNlY3QiLCJpbml0aWFsUG9zaXRpb24iLCJwb2ludEF0RGlzdGFuY2UiLCJpbml0aWFsUGxhbmUiLCJaX1VOSVQiLCJ6IiwiZXhlY3V0ZSIsInRvVmVjdG9yMiIsInJlbW92ZUlucHV0TGlzdGVuZXIiLCJpbnRlcnJ1cHRlZEVtaXR0ZXIiLCJyZW1vdmVMaXN0ZW5lciIsImNhbmNlbCIsImludGVycnVwdCIsIm1vdmUiLCJyYXkiLCJpbnRlcnNlY3RXaXRoUmF5IiwiY3JlYXRlUGFuVGFyZ2V0Qm91bmRzIiwicmVkdWNlIiwiYm91bmRzIiwibWFzc1ZpZXciLCJfIiwiZmluZCIsImJib3giLCJCb3gzIiwic2V0RnJvbU9iamVjdCIsIndpdGhQb2ludCIsIm1vZGVsVG9WaWV3UG9pbnQiLCJtaW4iLCJ4IiwieSIsIm1heCIsImNvbnNvbGUiLCJsb2ciLCJ0b1N0cmluZyIsIk5PVEhJTkciLCJyZXNlcnZlRm9yRHJhZyIsInB1c2giLCJzbGljZSIsImZvckVhY2giLCJlbWl0IiwiYW1iaWVudExpZ2h0IiwiQW1iaWVudExpZ2h0IiwidGhyZWVTY2VuZSIsImFkZCIsInN1bkxpZ2h0IiwiRGlyZWN0aW9uYWxMaWdodCIsInNldCIsIm1vb25MaWdodCIsImZyb250R2VvbWV0cnkiLCJCdWZmZXJHZW9tZXRyeSIsImFkZEF0dHJpYnV0ZSIsIkJ1ZmZlckF0dHJpYnV0ZSIsIkZsb2F0MzJBcnJheSIsImZyb250VmVydGljZXMiLCJncm91bmRCb3VuZHMiLCJtaW5YIiwibWluWSIsInBvb2xCb3VuZHMiLCJtYXhZIiwibWF4WiIsIm1heFgiLCJncm91bmRNYXRlcmlhbCIsIk1lc2hCYXNpY01hdGVyaWFsIiwiZ3JvdW5kUHJvcGVydHkiLCJncm91bmRDb2xvciIsImNvbG9yIiwiY29sb3JUb1RocmVlIiwiZnJvbnRNZXNoIiwiTWVzaCIsInRvcEdlb21ldHJ5IiwidG9wVmVydGljZXMiLCJtaW5aIiwidG9wQ29sb3JBcnJheSIsImdyYXNzQ2xvc2VQcm9wZXJ0eSIsImdyYXNzQ2xvc2VDb2xvciIsImkiLCJyIiwiZyIsImIiLCJvZmZzZXQiLCJhdHRyaWJ1dGVzIiwibmVlZHNVcGRhdGUiLCJncmFzc0ZhclByb3BlcnR5IiwiZ3Jhc3NGYXJDb2xvciIsInRvcE1hdGVyaWFsIiwidmVydGV4Q29sb3JzIiwiVmVydGV4Q29sb3JzIiwidG9wTWVzaCIsInBvb2xHZW9tZXRyeSIsInJpZ2h0VmVydGljZXMiLCJsZWZ0VmVydGljZXMiLCJwb29sTWF0ZXJpYWwiLCJNZXNoTGFtYmVydE1hdGVyaWFsIiwicG9vbFN1cmZhY2VQcm9wZXJ0eSIsInBvb2xTdXJmYWNlQ29sb3IiLCJwb29sTWVzaCIsInNob3dCYXJyaWVyIiwiYmFycmllckdlb21ldHJ5IiwiYmFycmllclBvc2l0aW9uQXJyYXkiLCJiYXJyaWVyTWF0ZXJpYWwiLCJ0cmFuc3BhcmVudCIsIm9wYWNpdHkiLCJpbnZpc2libGVCYXJyaWVyQm91bmRzUHJvcGVydHkiLCJpbmRleCIsInp5Qm91bmRzIiwid3JpdGVSaWdodFZlcnRpY2VzIiwid3JpdGVMZWZ0VmVydGljZXMiLCJjb21wdXRlQm91bmRpbmdTcGhlcmUiLCJiYXJyaWVyTWVzaCIsIndhdGVyR2VvbWV0cnkiLCJ3YXRlclBvc2l0aW9uQXJyYXkiLCJjcmVhdGVXYXRlclZlcnRleEFycmF5IiwiY3JlYXRlV2F0ZXJOb3JtYWxBcnJheSIsIndhdGVyTWF0ZXJpYWwiLCJkZXB0aFdyaXRlIiwibGlua0xpcXVpZENvbG9yIiwibGlxdWlkTWF0ZXJpYWxQcm9wZXJ0eSIsIndhdGVyTWVzaCIsInJlbmRlck9yZGVyIiwid2FzRmlsbGVkIiwicG9vbCIsImxpcXVpZFlJbnRlcnBvbGF0ZWRQcm9wZXJ0eSIsImJvYXQiLCJnZXRCb2F0IiwiaGFzVmlzaWJsZUJvYXQiLCJ2aXNpYmxlUHJvcGVydHkiLCJmaWxsV2F0ZXJWZXJ0ZXhBcnJheSIsIm1hdHJpeCIsImRpc3BsYWNlbWVudFZvbHVtZVByb3BlcnR5Iiwib25NYXNzQWRkZWQiLCJzY2FsZVJlYWRvdXROb2RlIiwiZ3Jhdml0eVByb3BlcnR5IiwiZm9yY2VEaWFncmFtTm9kZSIsInNob3dHcmF2aXR5Rm9yY2VQcm9wZXJ0eSIsInNob3dCdW95YW5jeUZvcmNlUHJvcGVydHkiLCJzaG93Q29udGFjdEZvcmNlUHJvcGVydHkiLCJzaG93Rm9yY2VWYWx1ZXNQcm9wZXJ0eSIsImZvcmNlU2NhbGVQcm9wZXJ0eSIsIm1hc3NMYWJlbE5vZGUiLCJzaG93TWFzc2VzUHJvcGVydHkiLCJhZGRJdGVtQWRkZWRMaXN0ZW5lciIsIm9uTWFzc1JlbW92ZWQiLCJyZW1vdmUiLCJkaXNwb3NlIiwicmVtb3ZlQ2hpbGQiLCJhZGRJdGVtUmVtb3ZlZExpc3RlbmVyIiwid2F0ZXJMZXZlbEluZGljYXRvciIsImxpcXVpZFkiLCJkZXB0aCIsIm1vZGVsUG9pbnQiLCJyZXNldEFsbEJ1dHRvbiIsImludGVycnVwdFN1YnRyZWVJbnB1dCIsInJlc2V0IiwiYWxpZ25Cb3VuZHNQcm9wZXJ0eSIsInhBbGlnbiIsInlBbGlnbiIsIm1hcmdpbiIsInNob3dEZWJ1ZyIsImRlYnVnVmlzaWJsZVByb3BlcnR5IiwiZGVidWdWaWV3IiwiZm9udCIsImxlZnRCYXJyaWVyVmlld1BvaW50UHJvcGVydHkiLCJsZWZ0Q2VudGVyIiwicmlnaHRCYXJyaWVyVmlld1BvaW50UHJvcGVydHkiLCJyaWdodENlbnRlciIsInJlc2l6ZUJhcnJpZXIiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsImxlZnRSYXkiLCJyaWdodFJheSIsImxlZnRQb2ludCIsInJpZ2h0UG9pbnQiLCJ3aXRoTWluWCIsIndpdGhNYXhYIiwiaXNXZWJHTEVuYWJsZWQiLCJzaG93V2ViR0xXYXJuaW5nIiwicGFyZW50VG9Mb2NhbFBvaW50IiwiaW52ZXJ0ZWQiLCJ0aW1lc1ZlY3RvcjIiLCJwcm9qZWN0UG9pbnQiLCJjbG9zZXN0VCIsIk51bWJlciIsIlBPU0lUSVZFX0lORklOSVRZIiwiY2xvc2VzdE1hc3MiLCJpbnB1dEVuYWJsZWRQcm9wZXJ0eSIsInQiLCJsYXlvdXQiLCJ2aWV3Qm91bmRzIiwicmVuZGVyIiwidW5kZWZpbmVkIiwic3RlcCIsImR0IiwidG9WZWN0b3IzIiwicGx1cyIsIlNDQUxFX0ZST05UX09GRlNFVCIsInVwZGF0ZSIsIm9yaWdpblBvaW50IiwiZm9yY2VPZmZzZXRQcm9wZXJ0eSIsInJvd01ham9yIiwibWFzc09mZnNldFByb3BlcnR5Iiwib2Zmc2V0UG9pbnQiLCJzZXRYWSIsImNvbXBvbmVudE11bHRpcGx5IiwibWFzc09mZnNldE9yaWVudGF0aW9uUHJvcGVydHkiLCJnZXRBbmdsZWRJY29uIiwic2V0dXBTY2VuZSIsIk1JTklNVU1fSE9NRV9TQ1JFRU5fSUNPTl9TSVpFIiwibmVhciIsImJhY2tncm91bmQiLCJDb2xvciIsImNvcHkiLCJmb3YiLCJhc3BlY3QiLCJzZXREaW1lbnNpb25zIiwiY2FudmFzIiwicmVuZGVyVG9DYW52YXMiLCJ0b0RhdGFVUkwiLCJpbWFnZSIsIm1pcG1hcCIsImluaXRpYWxXaWR0aCIsImluaXRpYWxIZWlnaHQiLCJsZWZ0IiwidG9wIiwiZ2V0RmFsbGJhY2tJY29uIiwiZ2V0RGVuc2l0eUludHJvSWNvbiIsInNjZW5lIiwiYm94R2VvbWV0cnkiLCJCb3hHZW9tZXRyeSIsImJveCIsIk1lc2hTdGFuZGFyZE1hdGVyaWFsIiwibWFwIiwid29vZENvbG9yVGV4dHVyZSIsIm5vcm1hbE1hcCIsIndvb2ROb3JtYWxUZXh0dXJlIiwibm9ybWFsU2NhbGUiLCJyb3VnaG5lc3NNYXAiLCJ3b29kUm91Z2huZXNzVGV4dHVyZSIsIm1ldGFsbmVzcyIsIndhdGVyQ29sb3IiLCJtYXRlcmlhbFdhdGVyQ29sb3JQcm9wZXJ0eSIsImFscGhhIiwid2F0ZXIiLCJnZXREZW5zaXR5Q29tcGFyZUljb24iLCJsZWZ0Qm94IiwicmlnaHRCb3giLCJnZXREZW5zaXR5TXlzdGVyeUljb24iLCJsYWJlbFNpemUiLCJsYWJlbCIsInNpemUiLCJjZW50ZXIiLCJzY2FsZUdlb21ldHJ5IiwiZ2V0U2NhbGVHZW9tZXRyeSIsInNjYWxlIiwicm91Z2huZXNzIiwiZW1pc3NpdmUiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkRlbnNpdHlCdW95YW5jeVNjcmVlblZpZXcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTktMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogVGhlIG1haW4gYmFzZSBTY3JlZW5WaWV3IGZvciBhbGwgRGVuc2l0eS9CdW95YW5jeSBzY3JlZW5zLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvbmF0aGFuIE9sc29uIDxqb25hdGhhbi5vbHNvbkBjb2xvcmFkby5lZHU+XHJcbiAqL1xyXG5cclxuaW1wb3J0IFBoZXRpb0FjdGlvbiBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvUGhldGlvQWN0aW9uLmpzJztcclxuaW1wb3J0IEJvb2xlYW5Qcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Jvb2xlYW5Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgRHluYW1pY1Byb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvRHluYW1pY1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVGlueUVtaXR0ZXIgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UaW55RW1pdHRlci5qcyc7XHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IE1hdHJpeDMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL01hdHJpeDMuanMnO1xyXG5pbXBvcnQgUGxhbmUzIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9QbGFuZTMuanMnO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCBWZWN0b3IzIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IzLmpzJztcclxuaW1wb3J0IFNjcmVlbiBmcm9tICcuLi8uLi8uLi8uLi9qb2lzdC9qcy9TY3JlZW4uanMnO1xyXG5pbXBvcnQgU2NyZWVuVmlldywgeyBTY3JlZW5WaWV3T3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL2pvaXN0L2pzL1NjcmVlblZpZXcuanMnO1xyXG5pbXBvcnQgTm9kZVRleHR1cmUgZnJvbSAnLi4vLi4vLi4vLi4vbW9iaXVzL2pzL05vZGVUZXh0dXJlLmpzJztcclxuaW1wb3J0IFRleHR1cmVRdWFkIGZyb20gJy4uLy4uLy4uLy4uL21vYml1cy9qcy9UZXh0dXJlUXVhZC5qcyc7XHJcbmltcG9ydCBUaHJlZUlzb21ldHJpY05vZGUgZnJvbSAnLi4vLi4vLi4vLi4vbW9iaXVzL2pzL1RocmVlSXNvbWV0cmljTm9kZS5qcyc7XHJcbmltcG9ydCBUaHJlZVN0YWdlIGZyb20gJy4uLy4uLy4uLy4uL21vYml1cy9qcy9UaHJlZVN0YWdlLmpzJztcclxuaW1wb3J0IFRocmVlVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vbW9iaXVzL2pzL1RocmVlVXRpbHMuanMnO1xyXG5pbXBvcnQgYXJyYXlSZW1vdmUgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL2FycmF5UmVtb3ZlLmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XHJcbmltcG9ydCBSZXNldEFsbEJ1dHRvbiBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvYnV0dG9ucy9SZXNldEFsbEJ1dHRvbi5qcyc7XHJcbmltcG9ydCB7IEFsaWduQm94LCBhbmltYXRlZFBhblpvb21TaW5nbGV0b24sIEltYWdlLCBMaW5lYXJHcmFkaWVudCwgTW91c2UsIE5vZGUsIFBvaW50ZXIsIFJlY3RhbmdsZSwgU2NlbmVyeUV2ZW50LCBUZXh0LCBUSW5wdXRMaXN0ZW5lciB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBDaGVja2JveCBmcm9tICcuLi8uLi8uLi8uLi9zdW4vanMvQ2hlY2tib3guanMnO1xyXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9FdmVudFR5cGUuanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5pbXBvcnQgQm9hdCBmcm9tICcuLi8uLi9idW95YW5jeS9tb2RlbC9Cb2F0LmpzJztcclxuaW1wb3J0IEJvYXREZXNpZ24gZnJvbSAnLi4vLi4vYnVveWFuY3kvbW9kZWwvQm9hdERlc2lnbi5qcyc7XHJcbmltcG9ydCBCb3R0bGUgZnJvbSAnLi4vLi4vYnVveWFuY3kvbW9kZWwvQm90dGxlLmpzJztcclxuaW1wb3J0IEJvYXRWaWV3IGZyb20gJy4uLy4uL2J1b3lhbmN5L3ZpZXcvQm9hdFZpZXcuanMnO1xyXG5pbXBvcnQgQm90dGxlVmlldyBmcm9tICcuLi8uLi9idW95YW5jeS92aWV3L0JvdHRsZVZpZXcuanMnO1xyXG5pbXBvcnQgZGVuc2l0eUJ1b3lhbmN5Q29tbW9uIGZyb20gJy4uLy4uL2RlbnNpdHlCdW95YW5jeUNvbW1vbi5qcyc7XHJcbmltcG9ydCBEZW5zaXR5QnVveWFuY3lDb21tb25Db25zdGFudHMgZnJvbSAnLi4vRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IERlbnNpdHlCdW95YW5jeUNvbW1vblF1ZXJ5UGFyYW1ldGVycyBmcm9tICcuLi9EZW5zaXR5QnVveWFuY3lDb21tb25RdWVyeVBhcmFtZXRlcnMuanMnO1xyXG5pbXBvcnQgQ29uZSBmcm9tICcuLi9tb2RlbC9Db25lLmpzJztcclxuaW1wb3J0IEN1Ym9pZCBmcm9tICcuLi9tb2RlbC9DdWJvaWQuanMnO1xyXG5pbXBvcnQgRWxsaXBzb2lkIGZyb20gJy4uL21vZGVsL0VsbGlwc29pZC5qcyc7XHJcbmltcG9ydCBIb3Jpem9udGFsQ3lsaW5kZXIgZnJvbSAnLi4vbW9kZWwvSG9yaXpvbnRhbEN5bGluZGVyLmpzJztcclxuaW1wb3J0IE1hc3MgZnJvbSAnLi4vbW9kZWwvTWFzcy5qcyc7XHJcbmltcG9ydCBTY2FsZSBmcm9tICcuLi9tb2RlbC9TY2FsZS5qcyc7XHJcbmltcG9ydCBWZXJ0aWNhbEN5bGluZGVyIGZyb20gJy4uL21vZGVsL1ZlcnRpY2FsQ3lsaW5kZXIuanMnO1xyXG5pbXBvcnQgQ29uZVZpZXcgZnJvbSAnLi9Db25lVmlldy5qcyc7XHJcbmltcG9ydCBDdWJvaWRWaWV3IGZyb20gJy4vQ3Vib2lkVmlldy5qcyc7XHJcbmltcG9ydCBEZWJ1Z1ZpZXcgZnJvbSAnLi9EZWJ1Z1ZpZXcuanMnO1xyXG5pbXBvcnQgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzIGZyb20gJy4vRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLmpzJztcclxuaW1wb3J0IERlbnNpdHlNYXRlcmlhbHMgZnJvbSAnLi9EZW5zaXR5TWF0ZXJpYWxzLmpzJztcclxuaW1wb3J0IEVsbGlwc29pZFZpZXcgZnJvbSAnLi9FbGxpcHNvaWRWaWV3LmpzJztcclxuaW1wb3J0IEZvcmNlRGlhZ3JhbU5vZGUgZnJvbSAnLi9Gb3JjZURpYWdyYW1Ob2RlLmpzJztcclxuaW1wb3J0IEhvcml6b250YWxDeWxpbmRlclZpZXcgZnJvbSAnLi9Ib3Jpem9udGFsQ3lsaW5kZXJWaWV3LmpzJztcclxuaW1wb3J0IE1hc3NMYWJlbE5vZGUgZnJvbSAnLi9NYXNzTGFiZWxOb2RlLmpzJztcclxuaW1wb3J0IFNjYWxlUmVhZG91dE5vZGUgZnJvbSAnLi9TY2FsZVJlYWRvdXROb2RlLmpzJztcclxuaW1wb3J0IFNjYWxlVmlldyBmcm9tICcuL1NjYWxlVmlldy5qcyc7XHJcbmltcG9ydCBWZXJ0aWNhbEN5bGluZGVyVmlldyBmcm9tICcuL1ZlcnRpY2FsQ3lsaW5kZXJWaWV3LmpzJztcclxuaW1wb3J0IFdhdGVyTGV2ZWxJbmRpY2F0b3IgZnJvbSAnLi9XYXRlckxldmVsSW5kaWNhdG9yLmpzJztcclxuaW1wb3J0IERlbnNpdHlCdW95YW5jeU1vZGVsIGZyb20gJy4uL21vZGVsL0RlbnNpdHlCdW95YW5jeU1vZGVsLmpzJztcclxuaW1wb3J0IE1hc3NWaWV3IGZyb20gJy4vTWFzc1ZpZXcuanMnO1xyXG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBNYXRlcmlhbCBmcm9tICcuLi9tb2RlbC9NYXRlcmlhbC5qcyc7XHJcbmltcG9ydCBURW1pdHRlciBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RFbWl0dGVyLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBNQVJHSU4gPSBEZW5zaXR5QnVveWFuY3lDb21tb25Db25zdGFudHMuTUFSR0lOO1xyXG5jb25zdCBzY3JhdGNoVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCAwLCAwICk7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG4gIGNhbWVyYUxvb2tBdD86IFZlY3RvcjM7XHJcbiAgY2FtZXJhUG9zaXRpb24/OiBWZWN0b3IzO1xyXG4gIGNhbWVyYVpvb20/OiBudW1iZXI7XHJcbiAgcHJldmVudEZpdD86IGJvb2xlYW47XHJcblxyXG4gIHRhbmRlbTogVGFuZGVtO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgRGVuc2l0eUJ1b3lhbmN5U2NyZWVuVmlld09wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIFNjcmVlblZpZXdPcHRpb25zO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVuc2l0eUJ1b3lhbmN5U2NyZWVuVmlldzxNb2RlbCBleHRlbmRzIERlbnNpdHlCdW95YW5jeU1vZGVsPiBleHRlbmRzIFNjcmVlblZpZXcge1xyXG5cclxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgbW9kZWw6IE1vZGVsO1xyXG4gIHByb3RlY3RlZCByZWFkb25seSBwb3B1cExheWVyOiBOb2RlO1xyXG4gIHByb3RlY3RlZCByZWFkb25seSBiYWNrZ3JvdW5kTGF5ZXI6IE5vZGU7XHJcblxyXG4gIC8vIFN1cHBvcnQgY29udHJvbGxpbmcgb3IgY2hhbmdpbmcgdGhlIGxhdGVzdC10b3VjaGVkIG1hc3MgaW4gY2VydGFpbiBkZW1vcy5cclxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgY3VycmVudE1hc3NQcm9wZXJ0eTogUHJvcGVydHk8TWFzcyB8IG51bGw+O1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IHBvc3RMYXlvdXRFbWl0dGVyOiBURW1pdHRlcjtcclxuXHJcbiAgLy8gVGhlIHNreSBiYWNrZ3JvdW5kLCBpbiBhIHVuaXQgMC10by0xIHJlY3RhbmdsZSAoc28gd2UgY2FuIHNjYWxlIGl0IHRvIG1hdGNoKVxyXG4gIHByaXZhdGUgcmVhZG9ubHkgYmFja2dyb3VuZE5vZGU6IFJlY3RhbmdsZTtcclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IHNjZW5lTm9kZTogVGhyZWVJc29tZXRyaWNOb2RlO1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IHNjYWxlUmVhZG91dExheWVyOiBOb2RlO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgbWFzc0xhYmVsTGF5ZXI6IE5vZGU7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBmb3JjZURpYWdyYW1MYXllcjogTm9kZTtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBtYXNzVmlld3M6IE1hc3NWaWV3W107XHJcbiAgcHJpdmF0ZSByZWFkb25seSBzY2FsZVJlYWRvdXROb2RlczogU2NhbGVSZWFkb3V0Tm9kZVtdO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgZm9yY2VEaWFncmFtTm9kZXM6IEZvcmNlRGlhZ3JhbU5vZGVbXTtcclxuICBwcml2YXRlIHJlYWRvbmx5IG1hc3NMYWJlbE5vZGVzOiBNYXNzTGFiZWxOb2RlW107XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgc3RhcnREcmFnQWN0aW9uOiBQaGV0aW9BY3Rpb248WyBNYXNzLCBWZWN0b3IyIF0+O1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgdXBkYXRlRHJhZ0FjdGlvbjogUGhldGlvQWN0aW9uPFsgTWFzcywgVmVjdG9yMiBdPjtcclxuICBwcml2YXRlIHJlYWRvbmx5IGVuZERyYWdBY3Rpb246IFBoZXRpb0FjdGlvbjxbIE1hc3MgXT47XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgZGVidWdWaWV3PzogRGVidWdWaWV3O1xyXG5cclxuICAvLyBTdWJ0eXBlcyBjYW4gcHJvdmlkZSB0aGVpciBvd24gdmFsdWVzIHRvIGNvbnRyb2wgdGhlIGJhcnJpZXIgc2l6aW5nXHJcbiAgcHJvdGVjdGVkIGxlZnRCYXJyaWVyVmlld1BvaW50UHJvcGVydHk6IFByb3BlcnR5PFRSZWFkT25seVByb3BlcnR5PFZlY3RvcjI+PjtcclxuICBwcm90ZWN0ZWQgcmlnaHRCYXJyaWVyVmlld1BvaW50UHJvcGVydHk6IFByb3BlcnR5PFRSZWFkT25seVByb3BlcnR5PFZlY3RvcjI+PjtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBtb2RlbDogTW9kZWwsIHByb3ZpZGVkT3B0aW9uczogU2VsZk9wdGlvbnMgKSB7XHJcblxyXG4gICAgY29uc3Qgc2NhbGVJbmNyZWFzZSA9IDMuNTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPERlbnNpdHlCdW95YW5jeVNjcmVlblZpZXdPcHRpb25zLCBTZWxmT3B0aW9ucywgU2NyZWVuVmlld09wdGlvbnM+KCkoIHtcclxuICAgICAgY2FtZXJhTG9va0F0OiBEZW5zaXR5QnVveWFuY3lDb21tb25Db25zdGFudHMuQlVPWUFOQ1lfQ0FNRVJBX0xPT0tfQVQsXHJcbiAgICAgIGNhbWVyYVBvc2l0aW9uOiBuZXcgVmVjdG9yMyggMCwgMC4yLCAyICkudGltZXNTY2FsYXIoIHNjYWxlSW5jcmVhc2UgKSxcclxuICAgICAgY2FtZXJhWm9vbTogMS43NSAqIHNjYWxlSW5jcmVhc2UsXHJcblxyXG4gICAgICBwcmV2ZW50Rml0OiB0cnVlXHJcbiAgICB9LCBwcm92aWRlZE9wdGlvbnMgKTtcclxuXHJcbiAgICBjb25zdCB0YW5kZW0gPSBvcHRpb25zLnRhbmRlbTtcclxuXHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG5cclxuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcclxuICAgIHRoaXMucG9zdExheW91dEVtaXR0ZXIgPSBuZXcgVGlueUVtaXR0ZXIoKTtcclxuICAgIHRoaXMucG9wdXBMYXllciA9IG5ldyBOb2RlKCk7XHJcbiAgICB0aGlzLmN1cnJlbnRNYXNzUHJvcGVydHkgPSBuZXcgUHJvcGVydHkoIG1vZGVsLm1hc3Nlcy5sZW5ndGggPiAwID8gbW9kZWwubWFzc2VzLmdldCggMCApISA6IG51bGwsIHtcclxuICAgICAgdGFuZGVtOiBUYW5kZW0uT1BUX09VVFxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5iYWNrZ3JvdW5kTm9kZSA9IG5ldyBSZWN0YW5nbGUoIDAsIDAsIDEsIDEsIHtcclxuICAgICAgcGlja2FibGU6IGZhbHNlLFxyXG4gICAgICBmaWxsOiBuZXcgTGluZWFyR3JhZGllbnQoIDAsIDAsIDAsIDEgKVxyXG4gICAgICAgIC5hZGRDb2xvclN0b3AoIDAsIERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5za3lUb3BQcm9wZXJ0eSApXHJcbiAgICAgICAgLmFkZENvbG9yU3RvcCggMSwgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLnNreUJvdHRvbVByb3BlcnR5IClcclxuICAgIH0gKTtcclxuICAgIC8vIFRoaXMgaW5zdGFuY2UgbGl2ZXMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltdWxhdGlvbiwgc28gd2UgZG9uJ3QgbmVlZCB0byByZW1vdmUgdGhpcyBsaXN0ZW5lclxyXG4gICAgdGhpcy52aXNpYmxlQm91bmRzUHJvcGVydHkubGluayggdmlzaWJsZUJvdW5kcyA9PiB7XHJcbiAgICAgIHRoaXMuYmFja2dyb3VuZE5vZGUudHJhbnNsYXRpb24gPSB2aXNpYmxlQm91bmRzLmxlZnRUb3A7XHJcbiAgICAgIHRoaXMuYmFja2dyb3VuZE5vZGUuc2V0U2NhbGVNYWduaXR1ZGUoIHZpc2libGVCb3VuZHMud2lkdGgsIHZpc2libGVCb3VuZHMuaGVpZ2h0IC8gMiApO1xyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5iYWNrZ3JvdW5kTm9kZSApO1xyXG5cclxuICAgIHRoaXMuYmFja2dyb3VuZExheWVyID0gbmV3IE5vZGUoKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHRoaXMuYmFja2dyb3VuZExheWVyICk7XHJcblxyXG4gICAgdGhpcy5zY2VuZU5vZGUgPSBuZXcgVGhyZWVJc29tZXRyaWNOb2RlKCB0aGlzLmxheW91dEJvdW5kcywge1xyXG4gICAgICBwYXJlbnRNYXRyaXhQcm9wZXJ0eTogYW5pbWF0ZWRQYW5ab29tU2luZ2xldG9uLmxpc3RlbmVyIS5tYXRyaXhQcm9wZXJ0eSxcclxuICAgICAgY2FtZXJhUG9zaXRpb246IG9wdGlvbnMuY2FtZXJhUG9zaXRpb24sXHJcbiAgICAgIGdldFBoZXRpb01vdXNlSGl0OiBwb2ludCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWFzc1VuZGVyUG9pbnQoIHRoaXMubG9jYWxUb0dsb2JhbFBvaW50KCBwb2ludCApLCBmYWxzZSApO1xyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB0aGlzLnNjZW5lTm9kZSApO1xyXG5cclxuICAgIHRoaXMuc2NhbGVSZWFkb3V0TGF5ZXIgPSBuZXcgTm9kZSgpO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5zY2FsZVJlYWRvdXRMYXllciApO1xyXG5cclxuICAgIHRoaXMubWFzc0xhYmVsTGF5ZXIgPSBuZXcgTm9kZSgpO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5tYXNzTGFiZWxMYXllciApO1xyXG5cclxuICAgIHRoaXMuZm9yY2VEaWFncmFtTGF5ZXIgPSBuZXcgTm9kZSgpO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5mb3JjZURpYWdyYW1MYXllciApO1xyXG5cclxuICAgIHRoaXMubWFzc1ZpZXdzID0gW107XHJcblxyXG4gICAgdGhpcy5zY2FsZVJlYWRvdXROb2RlcyA9IFtdO1xyXG5cclxuICAgIHRoaXMuZm9yY2VEaWFncmFtTm9kZXMgPSBbXTtcclxuXHJcbiAgICB0aGlzLm1hc3NMYWJlbE5vZGVzID0gW107XHJcblxyXG4gICAgdGhpcy5zY2VuZU5vZGUuc3RhZ2UudGhyZWVDYW1lcmEuem9vbSA9IG9wdGlvbnMuY2FtZXJhWm9vbTtcclxuICAgIHRoaXMuc2NlbmVOb2RlLnN0YWdlLnRocmVlQ2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICAgIHRoaXMuc2NlbmVOb2RlLnN0YWdlLnRocmVlQ2FtZXJhLnVwID0gbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDAsIC0xICk7XHJcbiAgICB0aGlzLnNjZW5lTm9kZS5zdGFnZS50aHJlZUNhbWVyYS5sb29rQXQoIFRocmVlVXRpbHMudmVjdG9yVG9UaHJlZSggb3B0aW9ucy5jYW1lcmFMb29rQXQgKSApO1xyXG5cclxuICAgIGxldCBtb3VzZTogTW91c2UgfCBudWxsID0gbnVsbDtcclxuICAgIGNvbnN0IHVwZGF0ZUN1cnNvciA9ICgpID0+IHtcclxuICAgICAgaWYgKCBtb3VzZSApIHtcclxuICAgICAgICB0aGlzLnNjZW5lTm9kZS5iYWNrZ3JvdW5kRXZlbnRUYXJnZXQuY3Vyc29yID0gdGhpcy5nZXRNYXNzVW5kZXJQb2ludGVyKCBtb3VzZSwgZmFsc2UgKSA/ICdwb2ludGVyJyA6IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLnNjZW5lTm9kZS5iYWNrZ3JvdW5kRXZlbnRUYXJnZXQuYWRkSW5wdXRMaXN0ZW5lcigge1xyXG4gICAgICBtb3VzZW1vdmU6IGV2ZW50ID0+IHtcclxuICAgICAgICBhc3NlcnQgJiYgYXNzZXJ0KCBldmVudC5wb2ludGVyIGluc3RhbmNlb2YgTW91c2UgKTtcclxuICAgICAgICBtb3VzZSA9IGV2ZW50LnBvaW50ZXIgYXMgTW91c2U7XHJcbiAgICAgICAgdXBkYXRlQ3Vyc29yKCk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICAgIC8vIE9uIHJlLWxheW91dCBvciB6b29tLCB1cGRhdGUgdGhlIGN1cnNvciBhbHNvXHJcbiAgICAvLyBUaGlzIGluc3RhbmNlIGxpdmVzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbXVsYXRpb24sIHNvIHdlIGRvbid0IG5lZWQgdG8gcmVtb3ZlIHRoZXNlIGxpc3RlbmVyc1xyXG4gICAgdGhpcy50cmFuc2Zvcm1FbWl0dGVyLmFkZExpc3RlbmVyKCB1cGRhdGVDdXJzb3IgKTtcclxuICAgIGFuaW1hdGVkUGFuWm9vbVNpbmdsZXRvbi5saXN0ZW5lciEubWF0cml4UHJvcGVydHkubGF6eUxpbmsoIHVwZGF0ZUN1cnNvciApO1xyXG5cclxuICAgIHRoaXMuc3RhcnREcmFnQWN0aW9uID0gbmV3IFBoZXRpb0FjdGlvbiggKCBtYXNzOiBNYXNzLCBwb3NpdGlvbjogVmVjdG9yMiApID0+IHtcclxuICAgICAgbWFzcy5zdGFydERyYWcoIHBvc2l0aW9uICk7XHJcbiAgICB9LCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3N0YXJ0RHJhZ0FjdGlvbicgKSxcclxuICAgICAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ1N0YXJ0cyB0aGUgZHJhZ2dpbmcgb2YgYSBtYXNzJyxcclxuICAgICAgcGhldGlvUmVhZE9ubHk6IHRydWUsXHJcbiAgICAgIHBoZXRpb0V2ZW50VHlwZTogRXZlbnRUeXBlLlVTRVIsXHJcbiAgICAgIHBhcmFtZXRlcnM6IFsge1xyXG4gICAgICAgIG5hbWU6ICdtYXNzJyxcclxuICAgICAgICBwaGV0aW9UeXBlOiBNYXNzLk1hc3NJT1xyXG4gICAgICB9LCB7XHJcbiAgICAgICAgbmFtZTogJ3Bvc2l0aW9uJyxcclxuICAgICAgICBwaGV0aW9UeXBlOiBWZWN0b3IyLlZlY3RvcjJJT1xyXG4gICAgICB9IF1cclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZURyYWdBY3Rpb24gPSBuZXcgUGhldGlvQWN0aW9uKCAoIG1hc3M6IE1hc3MsIHBvc2l0aW9uOiBWZWN0b3IyICkgPT4ge1xyXG4gICAgICBtYXNzLnVwZGF0ZURyYWcoIHBvc2l0aW9uICk7XHJcbiAgICB9LCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3VwZGF0ZURyYWdBY3Rpb24nICksXHJcbiAgICAgIHBoZXRpb0RvY3VtZW50YXRpb246ICdDb250aW51ZXMgdGhlIGRyYWdnaW5nIG9mIGEgbWFzcycsXHJcbiAgICAgIHBoZXRpb1JlYWRPbmx5OiB0cnVlLFxyXG4gICAgICBwaGV0aW9FdmVudFR5cGU6IEV2ZW50VHlwZS5VU0VSLFxyXG4gICAgICBwYXJhbWV0ZXJzOiBbIHtcclxuICAgICAgICBuYW1lOiAnbWFzcycsXHJcbiAgICAgICAgcGhldGlvVHlwZTogTWFzcy5NYXNzSU9cclxuICAgICAgfSwge1xyXG4gICAgICAgIG5hbWU6ICdwb3NpdGlvbicsXHJcbiAgICAgICAgcGhldGlvVHlwZTogVmVjdG9yMi5WZWN0b3IySU9cclxuICAgICAgfSBdXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5lbmREcmFnQWN0aW9uID0gbmV3IFBoZXRpb0FjdGlvbiggKCBtYXNzOiBNYXNzICkgPT4ge1xyXG4gICAgICBtYXNzLmVuZERyYWcoKTtcclxuICAgIH0sIHtcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnZW5kRHJhZ0FjdGlvbicgKSxcclxuICAgICAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ0NvbnRpbnVlcyB0aGUgZHJhZ2dpbmcgb2YgYSBtYXNzJyxcclxuICAgICAgcGhldGlvUmVhZE9ubHk6IHRydWUsXHJcbiAgICAgIHBoZXRpb0V2ZW50VHlwZTogRXZlbnRUeXBlLlVTRVIsXHJcbiAgICAgIHBhcmFtZXRlcnM6IFsge1xyXG4gICAgICAgIG5hbWU6ICdtYXNzJyxcclxuICAgICAgICBwaGV0aW9UeXBlOiBNYXNzLk1hc3NJT1xyXG4gICAgICB9IF1cclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBkcmFnZ2VkTWFzc2VzOiBNYXNzW10gPSBbXTtcclxuXHJcbiAgICB0aGlzLnNjZW5lTm9kZS5iYWNrZ3JvdW5kRXZlbnRUYXJnZXQuYWRkSW5wdXRMaXN0ZW5lcigge1xyXG4gICAgICBkb3duOiAoIGV2ZW50OiBTY2VuZXJ5RXZlbnQ8TW91c2VFdmVudCB8IFRvdWNoRXZlbnQgfCBQb2ludGVyRXZlbnQ+ICkgPT4ge1xyXG4gICAgICAgIGlmICggIWV2ZW50LmNhblN0YXJ0UHJlc3MoKSApIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSBldmVudC5wb2ludGVyO1xyXG4gICAgICAgIGNvbnN0IGlzVG91Y2ggPSAhKCBwb2ludGVyIGluc3RhbmNlb2YgTW91c2UgKTtcclxuICAgICAgICBjb25zdCBtYXNzID0gdGhpcy5nZXRNYXNzVW5kZXJQb2ludGVyKCBwb2ludGVyLCBpc1RvdWNoICk7XHJcblxyXG4gICAgICAgIGlmICggbWFzcyAmJiBtYXNzLmNhbk1vdmUgJiYgIW1hc3MudXNlckNvbnRyb2xsZWRQcm9wZXJ0eS52YWx1ZSApIHtcclxuXHJcbiAgICAgICAgICBjb25zdCBpbml0aWFsUmF5ID0gdGhpcy5zY2VuZU5vZGUuZ2V0UmF5RnJvbVNjcmVlblBvaW50KCBwb2ludGVyLnBvaW50ICk7XHJcbiAgICAgICAgICBjb25zdCBpbml0aWFsVCA9IG1hc3MuaW50ZXJzZWN0KCBpbml0aWFsUmF5LCBpc1RvdWNoICk7XHJcbiAgICAgICAgICBpZiAoIGluaXRpYWxUID09PSBudWxsICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zdCBpbml0aWFsUG9zaXRpb24gPSBpbml0aWFsUmF5LnBvaW50QXREaXN0YW5jZSggaW5pdGlhbFQgKTtcclxuICAgICAgICAgIGNvbnN0IGluaXRpYWxQbGFuZSA9IG5ldyBQbGFuZTMoIFZlY3RvcjMuWl9VTklULCBpbml0aWFsUG9zaXRpb24ueiApO1xyXG5cclxuICAgICAgICAgIHRoaXMuc3RhcnREcmFnQWN0aW9uLmV4ZWN1dGUoIG1hc3MsIGluaXRpYWxQb3NpdGlvbi50b1ZlY3RvcjIoKSApO1xyXG4gICAgICAgICAgdGhpcy5jdXJyZW50TWFzc1Byb3BlcnR5LnZhbHVlID0gbWFzcztcclxuICAgICAgICAgIHBvaW50ZXIuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGVuZERyYWcgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBvaW50ZXIucmVtb3ZlSW5wdXRMaXN0ZW5lciggbGlzdGVuZXIgKTtcclxuICAgICAgICAgICAgYXJyYXlSZW1vdmUoIGRyYWdnZWRNYXNzZXMsIG1hc3MgKTtcclxuICAgICAgICAgICAgbWFzcy5pbnRlcnJ1cHRlZEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoIGVuZERyYWcgKTtcclxuICAgICAgICAgICAgcG9pbnRlci5jdXJzb3IgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbmREcmFnQWN0aW9uLmV4ZWN1dGUoIG1hc3MgKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IHtcclxuICAgICAgICAgICAgLy8gZW5kIGRyYWcgb24gZWl0aGVyIHVwIG9yIGNhbmNlbCAobm90IHN1cHBvcnRpbmcgZnVsbCBjYW5jZWwgYmVoYXZpb3IpXHJcbiAgICAgICAgICAgIHVwOiBlbmREcmFnLFxyXG4gICAgICAgICAgICBjYW5jZWw6IGVuZERyYWcsXHJcbiAgICAgICAgICAgIGludGVycnVwdDogZW5kRHJhZyxcclxuXHJcbiAgICAgICAgICAgIG1vdmU6ICgpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCByYXkgPSB0aGlzLnNjZW5lTm9kZS5nZXRSYXlGcm9tU2NyZWVuUG9pbnQoIHBvaW50ZXIucG9pbnQgKTtcclxuICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGluaXRpYWxQbGFuZS5pbnRlcnNlY3RXaXRoUmF5KCByYXkgKTtcclxuXHJcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGVEcmFnQWN0aW9uLmV4ZWN1dGUoIG1hc3MsIHBvc2l0aW9uLnRvVmVjdG9yMigpICk7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBjcmVhdGVQYW5UYXJnZXRCb3VuZHM6ICgpID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gZHJhZ2dlZE1hc3Nlcy5yZWR1Y2UoICggYm91bmRzOiBCb3VuZHMyLCBtYXNzOiBNYXNzICk6IEJvdW5kczIgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFzc1ZpZXcgPSBfLmZpbmQoIHRoaXMubWFzc1ZpZXdzLCBtYXNzVmlldyA9PiBtYXNzVmlldy5tYXNzID09PSBtYXNzICkhO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmJveCA9IG5ldyBUSFJFRS5Cb3gzKCkuc2V0RnJvbU9iamVjdCggbWFzc1ZpZXcgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJbmNsdWRlIGFsbCA4IGNvcm5lcnMgb2YgdGhlIGJvdW5kaW5nIGJveFxyXG4gICAgICAgICAgICAgICAgYm91bmRzID0gYm91bmRzLndpdGhQb2ludCggdGhpcy5sb2NhbFRvR2xvYmFsUG9pbnQoIHRoaXMubW9kZWxUb1ZpZXdQb2ludCggbmV3IFZlY3RvcjMoIGJib3gubWluLngsIGJib3gubWluLnksIGJib3gubWluLnogKSApICkgKTtcclxuICAgICAgICAgICAgICAgIGJvdW5kcyA9IGJvdW5kcy53aXRoUG9pbnQoIHRoaXMubG9jYWxUb0dsb2JhbFBvaW50KCB0aGlzLm1vZGVsVG9WaWV3UG9pbnQoIG5ldyBWZWN0b3IzKCBiYm94Lm1pbi54LCBiYm94Lm1pbi55LCBiYm94Lm1heC56ICkgKSApICk7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMgPSBib3VuZHMud2l0aFBvaW50KCB0aGlzLmxvY2FsVG9HbG9iYWxQb2ludCggdGhpcy5tb2RlbFRvVmlld1BvaW50KCBuZXcgVmVjdG9yMyggYmJveC5taW4ueCwgYmJveC5tYXgueSwgYmJveC5taW4ueiApICkgKSApO1xyXG4gICAgICAgICAgICAgICAgYm91bmRzID0gYm91bmRzLndpdGhQb2ludCggdGhpcy5sb2NhbFRvR2xvYmFsUG9pbnQoIHRoaXMubW9kZWxUb1ZpZXdQb2ludCggbmV3IFZlY3RvcjMoIGJib3gubWluLngsIGJib3gubWF4LnksIGJib3gubWF4LnogKSApICkgKTtcclxuICAgICAgICAgICAgICAgIGJvdW5kcyA9IGJvdW5kcy53aXRoUG9pbnQoIHRoaXMubG9jYWxUb0dsb2JhbFBvaW50KCB0aGlzLm1vZGVsVG9WaWV3UG9pbnQoIG5ldyBWZWN0b3IzKCBiYm94Lm1heC54LCBiYm94Lm1pbi55LCBiYm94Lm1pbi56ICkgKSApICk7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMgPSBib3VuZHMud2l0aFBvaW50KCB0aGlzLmxvY2FsVG9HbG9iYWxQb2ludCggdGhpcy5tb2RlbFRvVmlld1BvaW50KCBuZXcgVmVjdG9yMyggYmJveC5tYXgueCwgYmJveC5taW4ueSwgYmJveC5tYXgueiApICkgKSApO1xyXG4gICAgICAgICAgICAgICAgYm91bmRzID0gYm91bmRzLndpdGhQb2ludCggdGhpcy5sb2NhbFRvR2xvYmFsUG9pbnQoIHRoaXMubW9kZWxUb1ZpZXdQb2ludCggbmV3IFZlY3RvcjMoIGJib3gubWF4LngsIGJib3gubWF4LnksIGJib3gubWluLnogKSApICkgKTtcclxuICAgICAgICAgICAgICAgIGJvdW5kcyA9IGJvdW5kcy53aXRoUG9pbnQoIHRoaXMubG9jYWxUb0dsb2JhbFBvaW50KCB0aGlzLm1vZGVsVG9WaWV3UG9pbnQoIG5ldyBWZWN0b3IzKCBiYm94Lm1heC54LCBiYm94Lm1heC55LCBiYm94Lm1heC56ICkgKSApICk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coIGJvdW5kcy50b1N0cmluZygpICk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcztcclxuICAgICAgICAgICAgICB9LCBCb3VuZHMyLk5PVEhJTkcgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHBvaW50ZXIucmVzZXJ2ZUZvckRyYWcoKTtcclxuICAgICAgICAgIHBvaW50ZXIuYWRkSW5wdXRMaXN0ZW5lciggbGlzdGVuZXIsIHRydWUgKTtcclxuICAgICAgICAgIGRyYWdnZWRNYXNzZXMucHVzaCggbWFzcyApO1xyXG5cclxuICAgICAgICAgIG1hc3MuaW50ZXJydXB0ZWRFbWl0dGVyLmFkZExpc3RlbmVyKCBlbmREcmFnICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gU3VwcG9ydCBpbnRlcnJ1cHRpb24gYnkgc3VidHJlZVxyXG4gICAgICBpbnRlcnJ1cHQ6ICgpID0+IHtcclxuICAgICAgICBkcmFnZ2VkTWFzc2VzLnNsaWNlKCkuZm9yRWFjaCggbWFzcyA9PiBtYXNzLmludGVycnVwdGVkRW1pdHRlci5lbWl0KCkgKTtcclxuICAgICAgfVxyXG4gICAgfSBhcyBUSW5wdXRMaXN0ZW5lciApO1xyXG5cclxuICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoIDB4MzMzMzMzICk7XHJcbiAgICB0aGlzLnNjZW5lTm9kZS5zdGFnZS50aHJlZVNjZW5lLmFkZCggYW1iaWVudExpZ2h0ICk7XHJcblxyXG4gICAgY29uc3Qgc3VuTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCggMHhmZmZmZmYsIDEgKTtcclxuICAgIHN1bkxpZ2h0LnBvc2l0aW9uLnNldCggLTAuNywgMS41LCAwLjggKTtcclxuICAgIHRoaXMuc2NlbmVOb2RlLnN0YWdlLnRocmVlU2NlbmUuYWRkKCBzdW5MaWdodCApO1xyXG5cclxuICAgIGNvbnN0IG1vb25MaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KCAweGZmZmZmZiwgMC4yICk7XHJcbiAgICBtb29uTGlnaHQucG9zaXRpb24uc2V0KCAyLjAsIC0xLjAsIDEuMCApO1xyXG4gICAgdGhpcy5zY2VuZU5vZGUuc3RhZ2UudGhyZWVTY2VuZS5hZGQoIG1vb25MaWdodCApO1xyXG5cclxuICAgIC8vIEZyb250IGdyb3VuZFxyXG4gICAgY29uc3QgZnJvbnRHZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xyXG4gICAgZnJvbnRHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIG5ldyBGbG9hdDMyQXJyYXkoIFtcclxuICAgICAgLy8gTGVmdCBzaWRlXHJcbiAgICAgIC4uLlRocmVlVXRpbHMuZnJvbnRWZXJ0aWNlcyggbmV3IEJvdW5kczIoXHJcbiAgICAgICAgbW9kZWwuZ3JvdW5kQm91bmRzLm1pblgsIG1vZGVsLmdyb3VuZEJvdW5kcy5taW5ZLFxyXG4gICAgICAgIG1vZGVsLnBvb2xCb3VuZHMubWluWCwgbW9kZWwuZ3JvdW5kQm91bmRzLm1heFlcclxuICAgICAgKSwgbW9kZWwuZ3JvdW5kQm91bmRzLm1heFogKSxcclxuXHJcbiAgICAgIC8vIFJpZ2h0IHNpZGVcclxuICAgICAgLi4uVGhyZWVVdGlscy5mcm9udFZlcnRpY2VzKCBuZXcgQm91bmRzMihcclxuICAgICAgICBtb2RlbC5wb29sQm91bmRzLm1heFgsIG1vZGVsLmdyb3VuZEJvdW5kcy5taW5ZLFxyXG4gICAgICAgIG1vZGVsLmdyb3VuZEJvdW5kcy5tYXhYLCBtb2RlbC5ncm91bmRCb3VuZHMubWF4WVxyXG4gICAgICApLCBtb2RlbC5ncm91bmRCb3VuZHMubWF4WiApLFxyXG5cclxuICAgICAgLy8gQm90dG9tXHJcbiAgICAgIC4uLlRocmVlVXRpbHMuZnJvbnRWZXJ0aWNlcyggbmV3IEJvdW5kczIoXHJcbiAgICAgICAgbW9kZWwucG9vbEJvdW5kcy5taW5YLCBtb2RlbC5ncm91bmRCb3VuZHMubWluWSxcclxuICAgICAgICBtb2RlbC5wb29sQm91bmRzLm1heFgsIG1vZGVsLnBvb2xCb3VuZHMubWluWVxyXG4gICAgICApLCBtb2RlbC5ncm91bmRCb3VuZHMubWF4WiApXHJcbiAgICBdICksIDMgKSApO1xyXG4gICAgY29uc3QgZ3JvdW5kTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoKTtcclxuICAgIC8vIFRoaXMgaW5zdGFuY2UgbGl2ZXMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltdWxhdGlvbiwgc28gd2UgZG9uJ3QgbmVlZCB0byByZW1vdmUgdGhpcyBsaXN0ZW5lclxyXG4gICAgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLmdyb3VuZFByb3BlcnR5LmxpbmsoIGdyb3VuZENvbG9yID0+IHtcclxuICAgICAgZ3JvdW5kTWF0ZXJpYWwuY29sb3IgPSBUaHJlZVV0aWxzLmNvbG9yVG9UaHJlZSggZ3JvdW5kQ29sb3IgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBmcm9udE1lc2ggPSBuZXcgVEhSRUUuTWVzaCggZnJvbnRHZW9tZXRyeSwgZ3JvdW5kTWF0ZXJpYWwgKTtcclxuICAgIHRoaXMuc2NlbmVOb2RlLnN0YWdlLnRocmVlU2NlbmUuYWRkKCBmcm9udE1lc2ggKTtcclxuXHJcbiAgICAvLyBUb3AgZ3JvdW5kXHJcbiAgICBjb25zdCB0b3BHZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xyXG4gICAgdG9wR2VvbWV0cnkuYWRkQXR0cmlidXRlKCAncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBuZXcgRmxvYXQzMkFycmF5KCBbXHJcbiAgICAgIC8vIExlZnQgc2lkZVxyXG4gICAgICAuLi5UaHJlZVV0aWxzLnRvcFZlcnRpY2VzKCBuZXcgQm91bmRzMihcclxuICAgICAgICBtb2RlbC5ncm91bmRCb3VuZHMubWluWCwgbW9kZWwucG9vbEJvdW5kcy5taW5aLFxyXG4gICAgICAgIG1vZGVsLnBvb2xCb3VuZHMubWluWCwgbW9kZWwuZ3JvdW5kQm91bmRzLm1heFpcclxuICAgICAgKSwgbW9kZWwuZ3JvdW5kQm91bmRzLm1heFkgKSxcclxuXHJcbiAgICAgIC8vIFJpZ2h0IHNpZGVcclxuICAgICAgLi4uVGhyZWVVdGlscy50b3BWZXJ0aWNlcyggbmV3IEJvdW5kczIoXHJcbiAgICAgICAgbW9kZWwucG9vbEJvdW5kcy5tYXhYLCBtb2RlbC5wb29sQm91bmRzLm1pblosXHJcbiAgICAgICAgbW9kZWwuZ3JvdW5kQm91bmRzLm1heFgsIG1vZGVsLmdyb3VuZEJvdW5kcy5tYXhaXHJcbiAgICAgICksIG1vZGVsLmdyb3VuZEJvdW5kcy5tYXhZICksXHJcblxyXG4gICAgICAvLyBCYWNrIHNpZGVcclxuICAgICAgLi4uVGhyZWVVdGlscy50b3BWZXJ0aWNlcyggbmV3IEJvdW5kczIoXHJcbiAgICAgICAgbW9kZWwuZ3JvdW5kQm91bmRzLm1pblgsIG1vZGVsLmdyb3VuZEJvdW5kcy5taW5aLFxyXG4gICAgICAgIG1vZGVsLmdyb3VuZEJvdW5kcy5tYXhYLCBtb2RlbC5wb29sQm91bmRzLm1pblpcclxuICAgICAgKSwgbW9kZWwuZ3JvdW5kQm91bmRzLm1heFkgKVxyXG4gICAgXSApLCAzICkgKTtcclxuICAgIHRvcEdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIG5ldyBGbG9hdDMyQXJyYXkoIFtcclxuICAgICAgLy8gTGVmdFxyXG4gICAgICAwLCAxLCAwLFxyXG4gICAgICAwLCAxLCAwLFxyXG4gICAgICAwLCAxLCAwLFxyXG4gICAgICAwLCAxLCAwLFxyXG4gICAgICAwLCAxLCAwLFxyXG4gICAgICAwLCAxLCAwLFxyXG5cclxuICAgICAgLy8gUmlnaHRcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuXHJcbiAgICAgIC8vIEJhY2tcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMFxyXG4gICAgXSApLCAzICkgKTtcclxuICAgIGNvbnN0IHRvcENvbG9yQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KCBbXHJcbiAgICAgIC8vIExlZnRcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuICAgICAgMCwgMSwgMCxcclxuXHJcbiAgICAgIC8vIFJpZ2h0XHJcbiAgICAgIDAsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDAsXHJcblxyXG4gICAgICAvLyBCYWNrXHJcbiAgICAgIDEsIDEsIDAsXHJcbiAgICAgIDEsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDEsXHJcbiAgICAgIDAsIDEsIDEsXHJcbiAgICAgIDEsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDFcclxuICAgIF0gKTtcclxuICAgIHRvcEdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ2NvbG9yJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggdG9wQ29sb3JBcnJheSwgMyApICk7XHJcbiAgICAvLyBUaGlzIGluc3RhbmNlIGxpdmVzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbXVsYXRpb24sIHNvIHdlIGRvbid0IG5lZWQgdG8gcmVtb3ZlIHRoaXMgbGlzdGVuZXJcclxuICAgIERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5ncmFzc0Nsb3NlUHJvcGVydHkubGluayggZ3Jhc3NDbG9zZUNvbG9yID0+IHtcclxuICAgICAgZm9yICggbGV0IGkgPSAwOyBpIDwgMTg7IGkrKyApIHtcclxuICAgICAgICB0b3BDb2xvckFycmF5WyBpICogMyArIDAgXSA9IGdyYXNzQ2xvc2VDb2xvci5yIC8gMjU1O1xyXG4gICAgICAgIHRvcENvbG9yQXJyYXlbIGkgKiAzICsgMSBdID0gZ3Jhc3NDbG9zZUNvbG9yLmcgLyAyNTU7XHJcbiAgICAgICAgdG9wQ29sb3JBcnJheVsgaSAqIDMgKyAyIF0gPSBncmFzc0Nsb3NlQ29sb3IuYiAvIDI1NTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBvZmZzZXQgPSAzICogMiAqIDY7XHJcbiAgICAgIHRvcENvbG9yQXJyYXlbIG9mZnNldCArIDAgXSA9IHRvcENvbG9yQXJyYXlbIG9mZnNldCArIDMgXSA9IHRvcENvbG9yQXJyYXlbIG9mZnNldCArIDkgXSA9IGdyYXNzQ2xvc2VDb2xvci5yIC8gMjU1O1xyXG4gICAgICB0b3BDb2xvckFycmF5WyBvZmZzZXQgKyAxIF0gPSB0b3BDb2xvckFycmF5WyBvZmZzZXQgKyA0IF0gPSB0b3BDb2xvckFycmF5WyBvZmZzZXQgKyAxMCBdID0gZ3Jhc3NDbG9zZUNvbG9yLmcgLyAyNTU7XHJcbiAgICAgIHRvcENvbG9yQXJyYXlbIG9mZnNldCArIDIgXSA9IHRvcENvbG9yQXJyYXlbIG9mZnNldCArIDUgXSA9IHRvcENvbG9yQXJyYXlbIG9mZnNldCArIDExIF0gPSBncmFzc0Nsb3NlQ29sb3IuYiAvIDI1NTtcclxuICAgICAgdG9wR2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvci5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICB9ICk7XHJcbiAgICAvLyBUaGlzIGluc3RhbmNlIGxpdmVzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbXVsYXRpb24sIHNvIHdlIGRvbid0IG5lZWQgdG8gcmVtb3ZlIHRoaXMgbGlzdGVuZXJcclxuICAgIERlbnNpdHlCdW95YW5jeUNvbW1vbkNvbG9ycy5ncmFzc0ZhclByb3BlcnR5LmxpbmsoIGdyYXNzRmFyQ29sb3IgPT4ge1xyXG4gICAgICBjb25zdCBvZmZzZXQgPSAzICogMiAqIDY7XHJcbiAgICAgIHRvcENvbG9yQXJyYXlbIG9mZnNldCArIDYgXSA9IHRvcENvbG9yQXJyYXlbIG9mZnNldCArIDEyIF0gPSB0b3BDb2xvckFycmF5WyBvZmZzZXQgKyAxNSBdID0gZ3Jhc3NGYXJDb2xvci5yIC8gMjU1O1xyXG4gICAgICB0b3BDb2xvckFycmF5WyBvZmZzZXQgKyA3IF0gPSB0b3BDb2xvckFycmF5WyBvZmZzZXQgKyAxMyBdID0gdG9wQ29sb3JBcnJheVsgb2Zmc2V0ICsgMTYgXSA9IGdyYXNzRmFyQ29sb3IuZyAvIDI1NTtcclxuICAgICAgdG9wQ29sb3JBcnJheVsgb2Zmc2V0ICsgOCBdID0gdG9wQ29sb3JBcnJheVsgb2Zmc2V0ICsgMTQgXSA9IHRvcENvbG9yQXJyYXlbIG9mZnNldCArIDE3IF0gPSBncmFzc0ZhckNvbG9yLmIgLyAyNTU7XHJcbiAgICAgIHRvcEdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgfSApO1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRIUkVFLmpzIHZlcnNpb24gaW5jb21wYXQ/XHJcbiAgICBjb25zdCB0b3BNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyB2ZXJ0ZXhDb2xvcnM6IFRIUkVFLlZlcnRleENvbG9ycyB9ICk7XHJcbiAgICBjb25zdCB0b3BNZXNoID0gbmV3IFRIUkVFLk1lc2goIHRvcEdlb21ldHJ5LCB0b3BNYXRlcmlhbCApO1xyXG4gICAgdGhpcy5zY2VuZU5vZGUuc3RhZ2UudGhyZWVTY2VuZS5hZGQoIHRvcE1lc2ggKTtcclxuXHJcbiAgICAvLyBQb29sIGludGVyaW9yXHJcbiAgICBjb25zdCBwb29sR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcclxuICAgIHBvb2xHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIG5ldyBGbG9hdDMyQXJyYXkoIFtcclxuICAgICAgLy8gQm90dG9tXHJcbiAgICAgIC4uLlRocmVlVXRpbHMudG9wVmVydGljZXMoIG5ldyBCb3VuZHMyKFxyXG4gICAgICAgIG1vZGVsLnBvb2xCb3VuZHMubWluWCwgbW9kZWwucG9vbEJvdW5kcy5taW5aLFxyXG4gICAgICAgIG1vZGVsLnBvb2xCb3VuZHMubWF4WCwgbW9kZWwucG9vbEJvdW5kcy5tYXhaXHJcbiAgICAgICksIG1vZGVsLnBvb2xCb3VuZHMubWluWSApLFxyXG5cclxuICAgICAgLy8gQmFja1xyXG4gICAgICAuLi5UaHJlZVV0aWxzLmZyb250VmVydGljZXMoIG5ldyBCb3VuZHMyKFxyXG4gICAgICAgIG1vZGVsLnBvb2xCb3VuZHMubWluWCwgbW9kZWwucG9vbEJvdW5kcy5taW5ZLFxyXG4gICAgICAgIG1vZGVsLnBvb2xCb3VuZHMubWF4WCwgbW9kZWwucG9vbEJvdW5kcy5tYXhZXHJcbiAgICAgICksIG1vZGVsLnBvb2xCb3VuZHMubWluWiApLFxyXG5cclxuICAgICAgLy8gTGVmdFxyXG4gICAgICAuLi5UaHJlZVV0aWxzLnJpZ2h0VmVydGljZXMoIG5ldyBCb3VuZHMyKFxyXG4gICAgICAgIG1vZGVsLnBvb2xCb3VuZHMubWluWiwgbW9kZWwucG9vbEJvdW5kcy5taW5ZLFxyXG4gICAgICAgIG1vZGVsLnBvb2xCb3VuZHMubWF4WiwgbW9kZWwucG9vbEJvdW5kcy5tYXhZXHJcbiAgICAgICksIG1vZGVsLnBvb2xCb3VuZHMubWluWCApLFxyXG5cclxuICAgICAgLy8gUmlnaHRcclxuICAgICAgLi4uVGhyZWVVdGlscy5sZWZ0VmVydGljZXMoIG5ldyBCb3VuZHMyKFxyXG4gICAgICAgIG1vZGVsLnBvb2xCb3VuZHMubWluWiwgbW9kZWwucG9vbEJvdW5kcy5taW5ZLFxyXG4gICAgICAgIG1vZGVsLnBvb2xCb3VuZHMubWF4WiwgbW9kZWwucG9vbEJvdW5kcy5tYXhZXHJcbiAgICAgICksIG1vZGVsLnBvb2xCb3VuZHMubWF4WCApXHJcbiAgICBdICksIDMgKSApO1xyXG4gICAgcG9vbEdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIG5ldyBGbG9hdDMyQXJyYXkoIFtcclxuICAgICAgLy8gQm90dG9tXHJcbiAgICAgIDAsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDAsXHJcbiAgICAgIDAsIDEsIDAsXHJcblxyXG4gICAgICAvLyBCYWNrXHJcbiAgICAgIDAsIDAsIDEsXHJcbiAgICAgIDAsIDAsIDEsXHJcbiAgICAgIDAsIDAsIDEsXHJcbiAgICAgIDAsIDAsIDEsXHJcbiAgICAgIDAsIDAsIDEsXHJcbiAgICAgIDAsIDAsIDEsXHJcblxyXG4gICAgICAvLyBMZWZ0XHJcbiAgICAgIDEsIDAsIDAsXHJcbiAgICAgIDEsIDAsIDAsXHJcbiAgICAgIDEsIDAsIDAsXHJcbiAgICAgIDEsIDAsIDAsXHJcbiAgICAgIDEsIDAsIDAsXHJcbiAgICAgIDEsIDAsIDAsXHJcblxyXG4gICAgICAvLyBSaWdodFxyXG4gICAgICAtMSwgMCwgMCxcclxuICAgICAgLTEsIDAsIDAsXHJcbiAgICAgIC0xLCAwLCAwLFxyXG4gICAgICAtMSwgMCwgMCxcclxuICAgICAgLTEsIDAsIDAsXHJcbiAgICAgIC0xLCAwLCAwXHJcbiAgICBdICksIDMgKSApO1xyXG4gICAgY29uc3QgcG9vbE1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoKTtcclxuICAgIC8vIFRoaXMgaW5zdGFuY2UgbGl2ZXMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltdWxhdGlvbiwgc28gd2UgZG9uJ3QgbmVlZCB0byByZW1vdmUgdGhpcyBsaXN0ZW5lclxyXG4gICAgRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLnBvb2xTdXJmYWNlUHJvcGVydHkubGluayggcG9vbFN1cmZhY2VDb2xvciA9PiB7XHJcbiAgICAgIHBvb2xNYXRlcmlhbC5jb2xvciA9IFRocmVlVXRpbHMuY29sb3JUb1RocmVlKCBwb29sU3VyZmFjZUNvbG9yICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgcG9vbE1lc2ggPSBuZXcgVEhSRUUuTWVzaCggcG9vbEdlb21ldHJ5LCBwb29sTWF0ZXJpYWwgKTtcclxuICAgIHRoaXMuc2NlbmVOb2RlLnN0YWdlLnRocmVlU2NlbmUuYWRkKCBwb29sTWVzaCApO1xyXG5cclxuICAgIC8vIERlYnVnIGJhcnJpZXJcclxuICAgIGlmICggRGVuc2l0eUJ1b3lhbmN5Q29tbW9uUXVlcnlQYXJhbWV0ZXJzLnNob3dCYXJyaWVyICkge1xyXG4gICAgICBjb25zdCBiYXJyaWVyR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcclxuICAgICAgY29uc3QgYmFycmllclBvc2l0aW9uQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KCAxOCAqIDIgKTtcclxuXHJcbiAgICAgIGJhcnJpZXJHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIGJhcnJpZXJQb3NpdGlvbkFycmF5LCAzICkgKTtcclxuICAgICAgYmFycmllckdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIG5ldyBGbG9hdDMyQXJyYXkoIFtcclxuICAgICAgICAvLyBMZWZ0XHJcbiAgICAgICAgMSwgMCwgMCxcclxuICAgICAgICAxLCAwLCAwLFxyXG4gICAgICAgIDEsIDAsIDAsXHJcbiAgICAgICAgMSwgMCwgMCxcclxuICAgICAgICAxLCAwLCAwLFxyXG4gICAgICAgIDEsIDAsIDAsXHJcblxyXG4gICAgICAgIC8vIFJpZ2h0XHJcbiAgICAgICAgLTEsIDAsIDAsXHJcbiAgICAgICAgLTEsIDAsIDAsXHJcbiAgICAgICAgLTEsIDAsIDAsXHJcbiAgICAgICAgLTEsIDAsIDAsXHJcbiAgICAgICAgLTEsIDAsIDAsXHJcbiAgICAgICAgLTEsIDAsIDBcclxuICAgICAgXSApLCAzICkgKTtcclxuICAgICAgY29uc3QgYmFycmllck1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoIHtcclxuICAgICAgICBjb2xvcjogMHhmZjAwMDAsXHJcbiAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgICAgb3BhY2l0eTogMC41XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAgIC8vIFRoaXMgaW5zdGFuY2UgbGl2ZXMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltdWxhdGlvbiwgc28gd2UgZG9uJ3QgbmVlZCB0byByZW1vdmUgdGhpcyBsaXN0ZW5lclxyXG4gICAgICBtb2RlbC5pbnZpc2libGVCYXJyaWVyQm91bmRzUHJvcGVydHkubGluayggYm91bmRzID0+IHtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIGNvbnN0IHp5Qm91bmRzID0gbmV3IEJvdW5kczIoIGJvdW5kcy5taW5aLCBib3VuZHMubWluWSwgYm91bmRzLm1heFosIGJvdW5kcy5tYXhZICk7XHJcbiAgICAgICAgaW5kZXggPSBUaHJlZVV0aWxzLndyaXRlUmlnaHRWZXJ0aWNlcyggYmFycmllclBvc2l0aW9uQXJyYXksIGluZGV4LCB6eUJvdW5kcywgYm91bmRzLm1pblggKTtcclxuICAgICAgICBUaHJlZVV0aWxzLndyaXRlTGVmdFZlcnRpY2VzKCBiYXJyaWVyUG9zaXRpb25BcnJheSwgaW5kZXgsIHp5Qm91bmRzLCBib3VuZHMubWF4WCApO1xyXG5cclxuICAgICAgICBiYXJyaWVyR2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgYmFycmllckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO1xyXG4gICAgICB9ICk7XHJcblxyXG4gICAgICBjb25zdCBiYXJyaWVyTWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBiYXJyaWVyR2VvbWV0cnksIGJhcnJpZXJNYXRlcmlhbCApO1xyXG4gICAgICB0aGlzLnNjZW5lTm9kZS5zdGFnZS50aHJlZVNjZW5lLmFkZCggYmFycmllck1lc2ggKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBXYXRlclxyXG4gICAgY29uc3Qgd2F0ZXJHZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xyXG4gICAgY29uc3Qgd2F0ZXJQb3NpdGlvbkFycmF5ID0gQm9hdERlc2lnbi5jcmVhdGVXYXRlclZlcnRleEFycmF5KCk7XHJcbiAgICB3YXRlckdlb21ldHJ5LmFkZEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggd2F0ZXJQb3NpdGlvbkFycmF5LCAzICkgKTtcclxuICAgIHdhdGVyR2VvbWV0cnkuYWRkQXR0cmlidXRlKCAnbm9ybWFsJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggQm9hdERlc2lnbi5jcmVhdGVXYXRlck5vcm1hbEFycmF5KCksIDMgKSApO1xyXG4gICAgY29uc3Qgd2F0ZXJNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKCB7XHJcbiAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgICBkZXB0aFdyaXRlOiBmYWxzZVxyXG4gICAgfSApO1xyXG5cclxuICAgIE1hdGVyaWFsLmxpbmtMaXF1aWRDb2xvciggbW9kZWwubGlxdWlkTWF0ZXJpYWxQcm9wZXJ0eSwgd2F0ZXJNYXRlcmlhbCApO1xyXG4gICAgY29uc3Qgd2F0ZXJNZXNoID0gbmV3IFRIUkVFLk1lc2goIHdhdGVyR2VvbWV0cnksIHdhdGVyTWF0ZXJpYWwgKTtcclxuICAgIHRoaXMuc2NlbmVOb2RlLnN0YWdlLnRocmVlU2NlbmUuYWRkKCB3YXRlck1lc2ggKTtcclxuICAgIHdhdGVyTWVzaC5yZW5kZXJPcmRlciA9IDEwO1xyXG5cclxuICAgIGxldCB3YXNGaWxsZWQgPSBmYWxzZTtcclxuICAgIC8vIFRoaXMgaW5zdGFuY2UgbGl2ZXMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltdWxhdGlvbiwgc28gd2UgZG9uJ3QgbmVlZCB0byByZW1vdmUgdGhpcyBsaXN0ZW5lclxyXG4gICAgbW9kZWwucG9vbC5saXF1aWRZSW50ZXJwb2xhdGVkUHJvcGVydHkubGluayggeSA9PiB7XHJcbiAgICAgIGNvbnN0IGJvYXQgPSBtb2RlbC5nZXRCb2F0KCk7XHJcbiAgICAgIGNvbnN0IGhhc1Zpc2libGVCb2F0ID0gYm9hdCAmJiBib2F0LnZpc2libGVQcm9wZXJ0eS52YWx1ZTtcclxuICAgICAgd2FzRmlsbGVkID0gQm9hdERlc2lnbi5maWxsV2F0ZXJWZXJ0ZXhBcnJheShcclxuICAgICAgICB5LFxyXG4gICAgICAgIGhhc1Zpc2libGVCb2F0ID8gYm9hdC5tYXRyaXgudHJhbnNsYXRpb24ueCA6IDAsXHJcbiAgICAgICAgaGFzVmlzaWJsZUJvYXQgPyB5IC0gYm9hdC5tYXRyaXgudHJhbnNsYXRpb24ueSA6IDAsXHJcbiAgICAgICAgaGFzVmlzaWJsZUJvYXQgPyBib2F0LmRpc3BsYWNlbWVudFZvbHVtZVByb3BlcnR5LnZhbHVlIC8gMC4wMDEgOiAwLFxyXG4gICAgICAgIG1vZGVsLnBvb2xCb3VuZHMsIHdhdGVyUG9zaXRpb25BcnJheSwgd2FzRmlsbGVkICk7XHJcbiAgICAgIHdhdGVyR2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgIHdhdGVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3Qgb25NYXNzQWRkZWQgPSAoIG1hc3M6IE1hc3MgKSA9PiB7XHJcbiAgICAgIGxldCBtYXNzVmlldyA9IG51bGw7XHJcblxyXG4gICAgICBpZiAoIG1hc3MgaW5zdGFuY2VvZiBDdWJvaWQgKSB7XHJcbiAgICAgICAgbWFzc1ZpZXcgPSBuZXcgQ3Vib2lkVmlldyggbWFzcyApO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKCBtYXNzIGluc3RhbmNlb2YgU2NhbGUgKSB7XHJcbiAgICAgICAgbWFzc1ZpZXcgPSBuZXcgU2NhbGVWaWV3KCBtYXNzICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoIG1hc3MgaW5zdGFuY2VvZiBDb25lICkge1xyXG4gICAgICAgIG1hc3NWaWV3ID0gbmV3IENvbmVWaWV3KCBtYXNzICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoIG1hc3MgaW5zdGFuY2VvZiBFbGxpcHNvaWQgKSB7XHJcbiAgICAgICAgbWFzc1ZpZXcgPSBuZXcgRWxsaXBzb2lkVmlldyggbWFzcyApO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKCBtYXNzIGluc3RhbmNlb2YgSG9yaXpvbnRhbEN5bGluZGVyICkge1xyXG4gICAgICAgIG1hc3NWaWV3ID0gbmV3IEhvcml6b250YWxDeWxpbmRlclZpZXcoIG1hc3MgKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICggbWFzcyBpbnN0YW5jZW9mIFZlcnRpY2FsQ3lsaW5kZXIgKSB7XHJcbiAgICAgICAgbWFzc1ZpZXcgPSBuZXcgVmVydGljYWxDeWxpbmRlclZpZXcoIG1hc3MgKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICggbWFzcyBpbnN0YW5jZW9mIEJvdHRsZSApIHtcclxuICAgICAgICBtYXNzVmlldyA9IG5ldyBCb3R0bGVWaWV3KCBtYXNzICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoIG1hc3MgaW5zdGFuY2VvZiBCb2F0ICkge1xyXG4gICAgICAgIG1hc3NWaWV3ID0gbmV3IEJvYXRWaWV3KCBtYXNzLCBtb2RlbC5wb29sLmxpcXVpZFlJbnRlcnBvbGF0ZWRQcm9wZXJ0eSApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIG1hc3NWaWV3ICkge1xyXG4gICAgICAgIHRoaXMuc2NlbmVOb2RlLnN0YWdlLnRocmVlU2NlbmUuYWRkKCBtYXNzVmlldyApO1xyXG4gICAgICAgIHRoaXMubWFzc1ZpZXdzLnB1c2goIG1hc3NWaWV3ICk7XHJcblxyXG4gICAgICAgIGlmICggbWFzc1ZpZXcgaW5zdGFuY2VvZiBTY2FsZVZpZXcgKSB7XHJcblxyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNpbXBsZS10eXBlLWNoZWNraW5nLWFzc2VydGlvbnNcclxuICAgICAgICAgIGFzc2VydCAmJiBhc3NlcnQoIG1hc3MgaW5zdGFuY2VvZiBTY2FsZSApO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHNjYWxlUmVhZG91dE5vZGUgPSBuZXcgU2NhbGVSZWFkb3V0Tm9kZSggbWFzcyBhcyBTY2FsZSwgbW9kZWwuZ3Jhdml0eVByb3BlcnR5ICk7XHJcbiAgICAgICAgICB0aGlzLnNjYWxlUmVhZG91dExheWVyLmFkZENoaWxkKCBzY2FsZVJlYWRvdXROb2RlICk7XHJcbiAgICAgICAgICB0aGlzLnNjYWxlUmVhZG91dE5vZGVzLnB1c2goIHNjYWxlUmVhZG91dE5vZGUgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBmb3JjZURpYWdyYW1Ob2RlID0gbmV3IEZvcmNlRGlhZ3JhbU5vZGUoXHJcbiAgICAgICAgICAgIG1hc3MsXHJcbiAgICAgICAgICAgIG1vZGVsLnNob3dHcmF2aXR5Rm9yY2VQcm9wZXJ0eSxcclxuICAgICAgICAgICAgbW9kZWwuc2hvd0J1b3lhbmN5Rm9yY2VQcm9wZXJ0eSxcclxuICAgICAgICAgICAgbW9kZWwuc2hvd0NvbnRhY3RGb3JjZVByb3BlcnR5LFxyXG4gICAgICAgICAgICBtb2RlbC5zaG93Rm9yY2VWYWx1ZXNQcm9wZXJ0eSxcclxuICAgICAgICAgICAgbW9kZWwuZm9yY2VTY2FsZVByb3BlcnR5XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgdGhpcy5mb3JjZURpYWdyYW1MYXllci5hZGRDaGlsZCggZm9yY2VEaWFncmFtTm9kZSApO1xyXG4gICAgICAgICAgdGhpcy5mb3JjZURpYWdyYW1Ob2Rlcy5wdXNoKCBmb3JjZURpYWdyYW1Ob2RlICk7XHJcblxyXG4gICAgICAgICAgY29uc3QgbWFzc0xhYmVsTm9kZSA9IG5ldyBNYXNzTGFiZWxOb2RlKCBtYXNzLCBtb2RlbC5zaG93TWFzc2VzUHJvcGVydHkgKTtcclxuICAgICAgICAgIHRoaXMubWFzc0xhYmVsTGF5ZXIuYWRkQ2hpbGQoIG1hc3NMYWJlbE5vZGUgKTtcclxuICAgICAgICAgIHRoaXMubWFzc0xhYmVsTm9kZXMucHVzaCggbWFzc0xhYmVsTm9kZSApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIG1vZGVsLm1hc3Nlcy5hZGRJdGVtQWRkZWRMaXN0ZW5lciggb25NYXNzQWRkZWQgKTtcclxuICAgIG1vZGVsLm1hc3Nlcy5mb3JFYWNoKCBvbk1hc3NBZGRlZCApO1xyXG5cclxuICAgIGNvbnN0IG9uTWFzc1JlbW92ZWQgPSAoIG1hc3M6IE1hc3MgKSA9PiB7XHJcbiAgICAgIC8vIE1hc3Mgdmlld1xyXG4gICAgICBjb25zdCBtYXNzVmlldyA9IF8uZmluZCggdGhpcy5tYXNzVmlld3MsIG1hc3NWaWV3ID0+IG1hc3NWaWV3Lm1hc3MgPT09IG1hc3MgKSE7XHJcbiAgICAgIHRoaXMuc2NlbmVOb2RlLnN0YWdlLnRocmVlU2NlbmUucmVtb3ZlKCBtYXNzVmlldyApO1xyXG4gICAgICBhcnJheVJlbW92ZSggdGhpcy5tYXNzVmlld3MsIG1hc3NWaWV3ICk7XHJcbiAgICAgIG1hc3NWaWV3LmRpc3Bvc2UoKTtcclxuXHJcbiAgICAgIGlmICggbWFzc1ZpZXcgaW5zdGFuY2VvZiBTY2FsZVZpZXcgKSB7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVSZWFkb3V0Tm9kZSA9IF8uZmluZCggdGhpcy5zY2FsZVJlYWRvdXROb2Rlcywgc2NhbGVSZWFkb3V0Tm9kZSA9PiBzY2FsZVJlYWRvdXROb2RlLm1hc3MgPT09IG1hc3MgKSE7XHJcbiAgICAgICAgdGhpcy5zY2FsZVJlYWRvdXRMYXllci5yZW1vdmVDaGlsZCggc2NhbGVSZWFkb3V0Tm9kZSApO1xyXG4gICAgICAgIGFycmF5UmVtb3ZlKCB0aGlzLnNjYWxlUmVhZG91dE5vZGVzLCBzY2FsZVJlYWRvdXROb2RlICk7XHJcbiAgICAgICAgc2NhbGVSZWFkb3V0Tm9kZS5kaXNwb3NlKCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgLy8gRm9yY2UgZGlhZ3JhbSBub2RlXHJcbiAgICAgICAgY29uc3QgZm9yY2VEaWFncmFtTm9kZSA9IF8uZmluZCggdGhpcy5mb3JjZURpYWdyYW1Ob2RlcywgZm9yY2VEaWFncmFtTm9kZSA9PiBmb3JjZURpYWdyYW1Ob2RlLm1hc3MgPT09IG1hc3MgKSE7XHJcbiAgICAgICAgdGhpcy5mb3JjZURpYWdyYW1MYXllci5yZW1vdmVDaGlsZCggZm9yY2VEaWFncmFtTm9kZSApO1xyXG4gICAgICAgIGFycmF5UmVtb3ZlKCB0aGlzLmZvcmNlRGlhZ3JhbU5vZGVzLCBmb3JjZURpYWdyYW1Ob2RlICk7XHJcbiAgICAgICAgZm9yY2VEaWFncmFtTm9kZS5kaXNwb3NlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1hc3NMYWJlbE5vZGUgPSBfLmZpbmQoIHRoaXMubWFzc0xhYmVsTm9kZXMsIG1hc3NMYWJlbE5vZGUgPT4gbWFzc0xhYmVsTm9kZS5tYXNzID09PSBtYXNzICkhO1xyXG4gICAgICAgIHRoaXMubWFzc0xhYmVsTGF5ZXIucmVtb3ZlQ2hpbGQoIG1hc3NMYWJlbE5vZGUgKTtcclxuICAgICAgICBhcnJheVJlbW92ZSggdGhpcy5tYXNzTGFiZWxOb2RlcywgbWFzc0xhYmVsTm9kZSApO1xyXG4gICAgICAgIG1hc3NMYWJlbE5vZGUuZGlzcG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgbW9kZWwubWFzc2VzLmFkZEl0ZW1SZW1vdmVkTGlzdGVuZXIoIG9uTWFzc1JlbW92ZWQgKTtcclxuXHJcbiAgICAvLyBEZXJpdmVkUHJvcGVydHkgZG9lc24ndCBuZWVkIGRpc3Bvc2FsLCBzaW5jZSBldmVyeXRoaW5nIGhlcmUgbGl2ZXMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltdWxhdGlvblxyXG4gICAgY29uc3Qgd2F0ZXJMZXZlbEluZGljYXRvciA9IG5ldyBXYXRlckxldmVsSW5kaWNhdG9yKCBuZXcgRGVyaXZlZFByb3BlcnR5KCBbIG1vZGVsLnBvb2wubGlxdWlkWUludGVycG9sYXRlZFByb3BlcnR5IF0sIGxpcXVpZFkgPT4ge1xyXG4gICAgICByZXR1cm4gbW9kZWwucG9vbEJvdW5kcy53aWR0aCAqIG1vZGVsLnBvb2xCb3VuZHMuZGVwdGggKiAoIGxpcXVpZFkgLSBtb2RlbC5wb29sQm91bmRzLm1pblkgKTtcclxuICAgIH0gKSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggd2F0ZXJMZXZlbEluZGljYXRvciApO1xyXG4gICAgLy8gVGhpcyBpbnN0YW5jZSBsaXZlcyBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBzaW11bGF0aW9uLCBzbyB3ZSBkb24ndCBuZWVkIHRvIHJlbW92ZSB0aGlzIGxpc3RlbmVyXHJcbiAgICBtb2RlbC5wb29sLmxpcXVpZFlJbnRlcnBvbGF0ZWRQcm9wZXJ0eS5saW5rKCBsaXF1aWRZID0+IHtcclxuICAgICAgY29uc3QgbW9kZWxQb2ludCA9IG5ldyBWZWN0b3IzKCBtb2RlbC5wb29sQm91bmRzLm1pblgsIGxpcXVpZFksIG1vZGVsLnBvb2xCb3VuZHMubWF4WiApO1xyXG4gICAgICB3YXRlckxldmVsSW5kaWNhdG9yLnRyYW5zbGF0aW9uID0gdGhpcy5tb2RlbFRvVmlld1BvaW50KCBtb2RlbFBvaW50ICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgcmVzZXRBbGxCdXR0b24gPSBuZXcgUmVzZXRBbGxCdXR0b24oIHtcclxuICAgICAgbGlzdGVuZXI6ICgpID0+IHtcclxuICAgICAgICB0aGlzLmludGVycnVwdFN1YnRyZWVJbnB1dCgpO1xyXG4gICAgICAgIG1vZGVsLnJlc2V0KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3Jlc2V0QWxsQnV0dG9uJyApXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBuZXcgQWxpZ25Cb3goIHJlc2V0QWxsQnV0dG9uLCB7XHJcbiAgICAgIGFsaWduQm91bmRzUHJvcGVydHk6IHRoaXMudmlzaWJsZUJvdW5kc1Byb3BlcnR5LFxyXG4gICAgICB4QWxpZ246ICdyaWdodCcsXHJcbiAgICAgIHlBbGlnbjogJ2JvdHRvbScsXHJcbiAgICAgIG1hcmdpbjogTUFSR0lOXHJcbiAgICB9ICkgKTtcclxuXHJcbiAgICBpZiAoIERlbnNpdHlCdW95YW5jeUNvbW1vblF1ZXJ5UGFyYW1ldGVycy5zaG93RGVidWcgKSB7XHJcbiAgICAgIGNvbnN0IGRlYnVnVmlzaWJsZVByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggdHJ1ZSApO1xyXG5cclxuICAgICAgdGhpcy5kZWJ1Z1ZpZXcgPSBuZXcgRGVidWdWaWV3KCBtb2RlbCwgdGhpcy5sYXlvdXRCb3VuZHMgKTtcclxuICAgICAgdGhpcy5kZWJ1Z1ZpZXcudmlzaWJsZVByb3BlcnR5ID0gZGVidWdWaXNpYmxlUHJvcGVydHk7XHJcbiAgICAgIHRoaXMucG9wdXBMYXllci5hZGRDaGlsZCggdGhpcy5kZWJ1Z1ZpZXcgKTtcclxuICAgICAgdGhpcy5hZGRDaGlsZCggbmV3IENoZWNrYm94KCBkZWJ1Z1Zpc2libGVQcm9wZXJ0eSwgbmV3IFRleHQoICdEZWJ1ZycsIHsgZm9udDogbmV3IFBoZXRGb250KCAxMiApIH0gKSApICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVyaXZlZFByb3BlcnR5IGRvZXNuJ3QgbmVlZCBkaXNwb3NhbCwgc2luY2UgZXZlcnl0aGluZyBoZXJlIGxpdmVzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbXVsYXRpb25cclxuICAgIHRoaXMubGVmdEJhcnJpZXJWaWV3UG9pbnRQcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eTxUUmVhZE9ubHlQcm9wZXJ0eTxWZWN0b3IyPj4oIG5ldyBEZXJpdmVkUHJvcGVydHkoIFsgdGhpcy52aXNpYmxlQm91bmRzUHJvcGVydHkgXSwgdmlzaWJsZUJvdW5kcyA9PiB2aXNpYmxlQm91bmRzLmxlZnRDZW50ZXIgKSwge1xyXG4gICAgICB0YW5kZW06IFRhbmRlbS5PUFRfT1VUXHJcbiAgICB9ICk7XHJcbiAgICAvLyBEZXJpdmVkUHJvcGVydHkgZG9lc24ndCBuZWVkIGRpc3Bvc2FsLCBzaW5jZSBldmVyeXRoaW5nIGhlcmUgbGl2ZXMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltdWxhdGlvblxyXG4gICAgdGhpcy5yaWdodEJhcnJpZXJWaWV3UG9pbnRQcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eTxUUmVhZE9ubHlQcm9wZXJ0eTxWZWN0b3IyPj4oIG5ldyBEZXJpdmVkUHJvcGVydHkoIFsgdGhpcy52aXNpYmxlQm91bmRzUHJvcGVydHkgXSwgdmlzaWJsZUJvdW5kcyA9PiB2aXNpYmxlQm91bmRzLnJpZ2h0Q2VudGVyICksIHtcclxuICAgICAgdGFuZGVtOiBUYW5kZW0uT1BUX09VVFxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IHJlc2l6ZUJhcnJpZXIgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN0YWdlID0gdGhpcy5zY2VuZU5vZGUuc3RhZ2U7XHJcbiAgICAgIGlmICggc3RhZ2UuY2FudmFzV2lkdGggJiYgc3RhZ2UuY2FudmFzSGVpZ2h0ICkge1xyXG4gICAgICAgIGNvbnN0IGxlZnRSYXkgPSB0aGlzLnNjZW5lTm9kZS5nZXRSYXlGcm9tU2NyZWVuUG9pbnQoIHRoaXMubG9jYWxUb0dsb2JhbFBvaW50KCB0aGlzLmxlZnRCYXJyaWVyVmlld1BvaW50UHJvcGVydHkudmFsdWUudmFsdWUgKSApO1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0UmF5ID0gdGhpcy5zY2VuZU5vZGUuZ2V0UmF5RnJvbVNjcmVlblBvaW50KCB0aGlzLmxvY2FsVG9HbG9iYWxQb2ludCggdGhpcy5yaWdodEJhcnJpZXJWaWV3UG9pbnRQcm9wZXJ0eS52YWx1ZS52YWx1ZSApICk7XHJcbiAgICAgICAgY29uc3QgbGVmdFBvaW50ID0gbmV3IFBsYW5lMyggVmVjdG9yMy5aX1VOSVQsIDAuMDkgKS5pbnRlcnNlY3RXaXRoUmF5KCBsZWZ0UmF5ICk7XHJcbiAgICAgICAgY29uc3QgcmlnaHRQb2ludCA9IG5ldyBQbGFuZTMoIFZlY3RvcjMuWl9VTklULCAwLjA5ICkuaW50ZXJzZWN0V2l0aFJheSggcmlnaHRSYXkgKTtcclxuICAgICAgICBtb2RlbC5pbnZpc2libGVCYXJyaWVyQm91bmRzUHJvcGVydHkudmFsdWUgPSBtb2RlbC5pbnZpc2libGVCYXJyaWVyQm91bmRzUHJvcGVydHkudmFsdWUud2l0aE1pblgoIGxlZnRQb2ludC54ICsgMC4wMSApLndpdGhNYXhYKCByaWdodFBvaW50LnggLSAwLjAxICk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gbGVmdEJhcnJpZXJWaWV3UG9pbnRQcm9wZXJ0eSBhbmQgcmlnaHRCYXJyaWVyVmlld1BvaW50UHJvcGVydHkgYXJlIFByb3BlcnR5PFByb3BlcnR5PiwgYW5kIHdlIG5lZWQgdG8gbGlzdGVuXHJcbiAgICAvLyB0byB3aGVuIHRoZSB2YWx1ZS52YWx1ZSBjaGFuZ2VzXHJcbiAgICAvLyBUaGlzIGluc3RhbmNlIGxpdmVzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbXVsYXRpb24sIHNvIHdlIGRvbid0IG5lZWQgdG8gcmVtb3ZlIHRoZXNlIGxpc3RlbmVyc1xyXG4gICAgbmV3IER5bmFtaWNQcm9wZXJ0eSggdGhpcy5sZWZ0QmFycmllclZpZXdQb2ludFByb3BlcnR5ICkubGF6eUxpbmsoIHJlc2l6ZUJhcnJpZXIgKTtcclxuICAgIG5ldyBEeW5hbWljUHJvcGVydHkoIHRoaXMucmlnaHRCYXJyaWVyVmlld1BvaW50UHJvcGVydHkgKS5sYXp5TGluayggcmVzaXplQmFycmllciApO1xyXG4gICAgdGhpcy5wb3N0TGF5b3V0RW1pdHRlci5hZGRMaXN0ZW5lciggcmVzaXplQmFycmllciApOyAvLyBXZSBuZWVkIHRvIHdhaXQgZm9yIHRoZSBsYXlvdXQgQU5EIHJlbmRlclxyXG5cclxuICAgIGlmICggIVRocmVlVXRpbHMuaXNXZWJHTEVuYWJsZWQoKSApIHtcclxuICAgICAgVGhyZWVVdGlscy5zaG93V2ViR0xXYXJuaW5nKCB0aGlzICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQcm9qZWN0cyBhIDNkIG1vZGVsIHBvaW50IHRvIGEgMmQgdmlldyBwb2ludCAoaW4gdGhlIHNjcmVlbiB2aWV3J3MgY29vcmRpbmF0ZSBmcmFtZSkuXHJcbiAgICovXHJcbiAgcHVibGljIG1vZGVsVG9WaWV3UG9pbnQoIHBvaW50OiBWZWN0b3IzICk6IFZlY3RvcjIge1xyXG4gICAgLy8gV2UnbGwgd2FudCB0byB0cmFuc2Zvcm0gZ2xvYmFsIGNvb3JkaW5hdGVzIGludG8gc2NyZWVuIGNvb3JkaW5hdGVzIGhlcmVcclxuICAgIHJldHVybiB0aGlzLnBhcmVudFRvTG9jYWxQb2ludCggYW5pbWF0ZWRQYW5ab29tU2luZ2xldG9uLmxpc3RlbmVyIS5tYXRyaXhQcm9wZXJ0eS52YWx1ZS5pbnZlcnRlZCgpLnRpbWVzVmVjdG9yMiggdGhpcy5zY2VuZU5vZGUucHJvamVjdFBvaW50KCBwb2ludCApICkgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGNsb3Nlc3QgZ3JhYi1hYmxlIG1hc3MgdW5kZXIgdGhlIHBvaW50ZXIvXHJcbiAgICovXHJcbiAgcHVibGljIGdldE1hc3NVbmRlclBvaW50ZXIoIHBvaW50ZXI6IFBvaW50ZXIsIGlzVG91Y2g6IGJvb2xlYW4gKTogTWFzcyB8IG51bGwge1xyXG4gICAgY29uc3QgcG9pbnQgPSBwb2ludGVyLnBvaW50O1xyXG4gICAgaWYgKCBwb2ludCA9PT0gbnVsbCApIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5nZXRNYXNzVW5kZXJQb2ludCggcG9pbnQsIGlzVG91Y2ggKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGNsb3Nlc3QgZ3JhYi1hYmxlIG1hc3MgdW5kZXIgdGhlIHBvaW50XHJcbiAgICovXHJcbiAgcHVibGljIGdldE1hc3NVbmRlclBvaW50KCBwb2ludDogVmVjdG9yMiwgaXNUb3VjaDogYm9vbGVhbiApOiBNYXNzIHwgbnVsbCB7XHJcbiAgICBjb25zdCByYXkgPSB0aGlzLnNjZW5lTm9kZS5nZXRSYXlGcm9tU2NyZWVuUG9pbnQoIHBvaW50ICk7XHJcblxyXG4gICAgbGV0IGNsb3Nlc3RUID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xyXG4gICAgbGV0IGNsb3Nlc3RNYXNzID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLm1vZGVsLm1hc3Nlcy5mb3JFYWNoKCBtYXNzID0+IHtcclxuICAgICAgaWYgKCAhbWFzcy5jYW5Nb3ZlIHx8ICFtYXNzLmlucHV0RW5hYmxlZFByb3BlcnR5LnZhbHVlICkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdCA9IG1hc3MuaW50ZXJzZWN0KCByYXksIGlzVG91Y2ggKTtcclxuXHJcbiAgICAgIGlmICggdCAhPT0gbnVsbCAmJiB0IDwgY2xvc2VzdFQgKSB7XHJcbiAgICAgICAgY2xvc2VzdFQgPSB0O1xyXG4gICAgICAgIGNsb3Nlc3RNYXNzID0gbWFzcztcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIHJldHVybiBjbG9zZXN0TWFzcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBsYXlvdXQoIHZpZXdCb3VuZHM6IEJvdW5kczIgKTogdm9pZCB7XHJcbiAgICBzdXBlci5sYXlvdXQoIHZpZXdCb3VuZHMgKTtcclxuXHJcbiAgICAvLyBJZiB0aGUgc2ltdWxhdGlvbiB3YXMgbm90IGFibGUgdG8gbG9hZCBmb3IgV2ViR0wsIGJhaWwgb3V0XHJcbiAgICBpZiAoICF0aGlzLnNjZW5lTm9kZSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2NlbmVOb2RlLmxheW91dCggdmlld0JvdW5kcy53aWR0aCwgdmlld0JvdW5kcy5oZWlnaHQgKTtcclxuXHJcbiAgICAvLyBXZSBuZWVkIHRvIGRvIGFuIGluaXRpYWwgcmVuZGVyIGZvciBjZXJ0YWluIGxheW91dC1iYXNlZCBjb2RlIHRvIHdvcmtcclxuICAgIHRoaXMuc2NlbmVOb2RlLnJlbmRlciggdW5kZWZpbmVkICk7XHJcblxyXG4gICAgdGhpcy5wb3N0TGF5b3V0RW1pdHRlci5lbWl0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGVwcyBmb3J3YXJkIGluIHRpbWUuXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIHN0ZXAoIGR0OiBudW1iZXIgKTogdm9pZCB7XHJcbiAgICAvLyBJZiB0aGUgc2ltdWxhdGlvbiB3YXMgbm90IGFibGUgdG8gbG9hZCBmb3IgV2ViR0wsIGJhaWwgb3V0XHJcbiAgICBpZiAoICF0aGlzLnNjZW5lTm9kZSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGFzc2VydCAmJiB0aGlzLm1hc3NWaWV3cy5mb3JFYWNoKCBtYXNzVmlldyA9PiB7XHJcbiAgICAgIGFzc2VydCEoIG1hc3NWaWV3LnBvc2l0aW9uLnggPT09IG1hc3NWaWV3Lm1hc3MubWF0cml4LnRyYW5zbGF0aW9uLnggKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnNjZW5lTm9kZS5yZW5kZXIoIHVuZGVmaW5lZCApO1xyXG5cclxuICAgIHRoaXMuc2NhbGVSZWFkb3V0Tm9kZXMuZm9yRWFjaCggc2NhbGVSZWFkb3V0Tm9kZSA9PiB7XHJcbiAgICAgIHNjYWxlUmVhZG91dE5vZGUudHJhbnNsYXRpb24gPSB0aGlzLm1vZGVsVG9WaWV3UG9pbnQoIHNjYWxlUmVhZG91dE5vZGUubWFzcy5tYXRyaXgudHJhbnNsYXRpb24udG9WZWN0b3IzKCkucGx1cyggU2NhbGUuU0NBTEVfRlJPTlRfT0ZGU0VUICkgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmZvcmNlRGlhZ3JhbU5vZGVzLmZvckVhY2goIGZvcmNlRGlhZ3JhbU5vZGUgPT4ge1xyXG4gICAgICBmb3JjZURpYWdyYW1Ob2RlLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgY29uc3QgbWFzcyA9IGZvcmNlRGlhZ3JhbU5vZGUubWFzcztcclxuICAgICAgY29uc3Qgb3JpZ2luUG9pbnQgPSB0aGlzLm1vZGVsVG9WaWV3UG9pbnQoIG1hc3MubWF0cml4LnRyYW5zbGF0aW9uLnRvVmVjdG9yMygpLnBsdXMoIG1hc3MuZm9yY2VPZmZzZXRQcm9wZXJ0eS52YWx1ZSApICk7XHJcblxyXG4gICAgICBmb3JjZURpYWdyYW1Ob2RlLm1hdHJpeCA9IE1hdHJpeDMucm93TWFqb3IoXHJcbiAgICAgICAgMSwgMCwgb3JpZ2luUG9pbnQueCxcclxuICAgICAgICAwLCAxLCBvcmlnaW5Qb2ludC55LFxyXG4gICAgICAgIDAsIDAsIDFcclxuICAgICAgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLm1hc3NMYWJlbE5vZGVzLmZvckVhY2goIG1hc3NMYWJlbE5vZGUgPT4ge1xyXG4gICAgICBjb25zdCBtYXNzID0gbWFzc0xhYmVsTm9kZS5tYXNzO1xyXG4gICAgICBjb25zdCBtb2RlbFBvaW50ID0gdGhpcy5tb2RlbFRvVmlld1BvaW50KCBtYXNzLm1hdHJpeC50cmFuc2xhdGlvbi50b1ZlY3RvcjMoKS5wbHVzKCBtYXNzLm1hc3NPZmZzZXRQcm9wZXJ0eS52YWx1ZSApICk7XHJcbiAgICAgIGNvbnN0IG9mZnNldFBvaW50ID0gc2NyYXRjaFZlY3RvcjIuc2V0WFkoIG1hc3NMYWJlbE5vZGUud2lkdGggLyAyLCBtYXNzTGFiZWxOb2RlLmhlaWdodCAvIDIgKS5jb21wb25lbnRNdWx0aXBseSggbWFzcy5tYXNzT2Zmc2V0T3JpZW50YXRpb25Qcm9wZXJ0eS52YWx1ZSApO1xyXG4gICAgICBtYXNzTGFiZWxOb2RlLnRyYW5zbGF0aW9uID0gbW9kZWxQb2ludC5wbHVzKCBvZmZzZXRQb2ludCApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuZGVidWdWaWV3ICYmIHRoaXMuZGVidWdWaWV3LnN0ZXAoIGR0ICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGFuIGljb24gZm9yIHNlbGVjdGlvbiwgZ2l2ZW4gYSBzY2VuZSBzZXR1cCBjYWxsYmFjay5cclxuICAgKi9cclxuICBwcml2YXRlIHN0YXRpYyBnZXRBbmdsZWRJY29uKCB6b29tOiBudW1iZXIsIGxvb2tBdDogVmVjdG9yMywgc2V0dXBTY2VuZTogKCBzY2VuZTogVEhSRUUuU2NlbmUgKSA9PiB2b2lkICk6IE5vZGUge1xyXG4gICAgY29uc3Qgd2lkdGggPSBTY3JlZW4uTUlOSU1VTV9IT01FX1NDUkVFTl9JQ09OX1NJWkUud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBTY3JlZW4uTUlOSU1VTV9IT01FX1NDUkVFTl9JQ09OX1NJWkUuaGVpZ2h0O1xyXG5cclxuICAgIGNvbnN0IHN0YWdlID0gbmV3IFRocmVlU3RhZ2UoKTtcclxuXHJcbiAgICBzdGFnZS50aHJlZUNhbWVyYS5uZWFyID0gMC41O1xyXG5cclxuICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoIDB4MzMzMzMzICk7XHJcbiAgICBzdGFnZS50aHJlZVNjZW5lLmFkZCggYW1iaWVudExpZ2h0ICk7XHJcblxyXG4gICAgY29uc3Qgc3VuTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCggMHhmZmZmZmYsIDEgKTtcclxuICAgIHN1bkxpZ2h0LnBvc2l0aW9uLnNldCggLTEsIDEuNSwgMC44ICk7XHJcbiAgICBzdGFnZS50aHJlZVNjZW5lLmFkZCggc3VuTGlnaHQgKTtcclxuXHJcbiAgICBjb25zdCBtb29uTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCggMHhmZmZmZmYsIDAuMiApO1xyXG4gICAgbW9vbkxpZ2h0LnBvc2l0aW9uLnNldCggMi4wLCAtMS4wLCAxLjAgKTtcclxuICAgIHN0YWdlLnRocmVlU2NlbmUuYWRkKCBtb29uTGlnaHQgKTtcclxuXHJcbiAgICBzdGFnZS50aHJlZVNjZW5lLmJhY2tncm91bmQgPSBuZXcgVEhSRUUuQ29sb3IoIDB4ZmZmZmZmICk7XHJcblxyXG5cclxuICAgIHN0YWdlLnRocmVlQ2FtZXJhLnBvc2l0aW9uLmNvcHkoIFRocmVlVXRpbHMudmVjdG9yVG9UaHJlZSggbmV3IFZlY3RvcjMoIDAsIDAuNCwgMSApICkgKTtcclxuICAgIHN0YWdlLnRocmVlQ2FtZXJhLnpvb20gPSB6b29tO1xyXG4gICAgc3RhZ2UudGhyZWVDYW1lcmEubG9va0F0KCBUaHJlZVV0aWxzLnZlY3RvclRvVGhyZWUoIGxvb2tBdCApICk7XHJcbiAgICBzdGFnZS50aHJlZUNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcblxyXG4gICAgc2V0dXBTY2VuZSggc3RhZ2UudGhyZWVTY2VuZSApO1xyXG5cclxuICAgIHN0YWdlLnRocmVlQ2FtZXJhLmZvdiA9IDUwO1xyXG4gICAgc3RhZ2UudGhyZWVDYW1lcmEuYXNwZWN0ID0gd2lkdGggLyBoZWlnaHQ7XHJcbiAgICBzdGFnZS5zZXREaW1lbnNpb25zKCB3aWR0aCwgaGVpZ2h0ICk7XHJcbiAgICBzdGFnZS50aHJlZUNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICBzdGFnZS5yZW5kZXIoIHVuZGVmaW5lZCApO1xyXG5cclxuICAgIGNvbnN0IGNhbnZhcyA9IHN0YWdlLnJlbmRlclRvQ2FudmFzKCAzICk7XHJcblxyXG4gICAgc3RhZ2UuZGlzcG9zZSgpO1xyXG5cclxuICAgIC8vIFllcywgd2UgbG9nIHRoaXMgc28gd2UgY2FuIHJlZ2VuZXJhdGUgdGhlbSBpZiB3ZSBoYXZlIGNoYW5nZXNcclxuICAgIGNvbnNvbGUubG9nKCBjYW52YXMudG9EYXRhVVJMKCkgKTtcclxuXHJcbiAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSggY2FudmFzLnRvRGF0YVVSTCgpLCB7XHJcbiAgICAgIG1pcG1hcDogdHJ1ZSxcclxuICAgICAgaW5pdGlhbFdpZHRoOiBjYW52YXMud2lkdGgsXHJcbiAgICAgIGluaXRpYWxIZWlnaHQ6IGNhbnZhcy5oZWlnaHRcclxuICAgIH0gKTtcclxuICAgIGltYWdlLnNldFNjYWxlTWFnbml0dWRlKCAxLCAtMSApO1xyXG4gICAgaW1hZ2UubGVmdCA9IDA7XHJcbiAgICBpbWFnZS50b3AgPSAwO1xyXG4gICAgcmV0dXJuIGltYWdlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbiBpY29uIG1lYW50IHRvIGJlIHVzZWQgYXMgYSBmYWxsYmFjayBpbiBjYXNlIHdlYmdsIGlzIG5vdCBhdmFpbGFibGUuXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0RmFsbGJhY2tJY29uKCk6IE5vZGUge1xyXG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoIDAsIDAsIFNjcmVlbi5NSU5JTVVNX0hPTUVfU0NSRUVOX0lDT05fU0laRS53aWR0aCwgU2NyZWVuLk1JTklNVU1fSE9NRV9TQ1JFRU5fSUNPTl9TSVpFLmhlaWdodCwge1xyXG4gICAgICBmaWxsOiAnZ3JheSdcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0RGVuc2l0eUludHJvSWNvbigpOiBOb2RlIHtcclxuICAgIGlmICggIVRocmVlVXRpbHMuaXNXZWJHTEVuYWJsZWQoKSApIHtcclxuICAgICAgcmV0dXJuIERlbnNpdHlCdW95YW5jeVNjcmVlblZpZXcuZ2V0RmFsbGJhY2tJY29uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIERlbnNpdHlCdW95YW5jeVNjcmVlblZpZXcuZ2V0QW5nbGVkSWNvbiggNS41LCBuZXcgVmVjdG9yMyggMCwgMCwgMCApLCBzY2VuZSA9PiB7XHJcblxyXG4gICAgICBjb25zdCBib3hHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSggMC4xLCAwLjEsIDAuMSApO1xyXG5cclxuICAgICAgY29uc3QgYm94ID0gbmV3IFRIUkVFLk1lc2goIGJveEdlb21ldHJ5LCBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoIHtcclxuICAgICAgICBtYXA6IERlbnNpdHlNYXRlcmlhbHMud29vZENvbG9yVGV4dHVyZSxcclxuICAgICAgICBub3JtYWxNYXA6IERlbnNpdHlNYXRlcmlhbHMud29vZE5vcm1hbFRleHR1cmUsXHJcbiAgICAgICAgbm9ybWFsU2NhbGU6IG5ldyBUSFJFRS5WZWN0b3IyKCAxLCAtMSApLFxyXG4gICAgICAgIHJvdWdobmVzc01hcDogRGVuc2l0eU1hdGVyaWFscy53b29kUm91Z2huZXNzVGV4dHVyZSxcclxuICAgICAgICBtZXRhbG5lc3M6IDBcclxuICAgICAgICAvLyBOT1RFOiBSZW1vdmVkIHRoZSBlbnZpcm9ubWVudCBtYXAgZm9yIG5vd1xyXG4gICAgICB9ICkgKTtcclxuICAgICAgYm94LnBvc2l0aW9uLmNvcHkoIFRocmVlVXRpbHMudmVjdG9yVG9UaHJlZSggbmV3IFZlY3RvcjMoIDAsIDAsIDAgKSApICk7XHJcblxyXG4gICAgICBzY2VuZS5hZGQoIGJveCApO1xyXG5cclxuICAgICAgY29uc3Qgd2F0ZXJNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKCB7XHJcbiAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWVcclxuICAgICAgfSApO1xyXG4gICAgICBjb25zdCB3YXRlckNvbG9yID0gRGVuc2l0eUJ1b3lhbmN5Q29tbW9uQ29sb3JzLm1hdGVyaWFsV2F0ZXJDb2xvclByb3BlcnR5LnZhbHVlO1xyXG4gICAgICB3YXRlck1hdGVyaWFsLmNvbG9yID0gVGhyZWVVdGlscy5jb2xvclRvVGhyZWUoIHdhdGVyQ29sb3IgKTtcclxuICAgICAgd2F0ZXJNYXRlcmlhbC5vcGFjaXR5ID0gd2F0ZXJDb2xvci5hbHBoYTtcclxuXHJcbiAgICAgIC8vIEZha2UgaXQhXHJcbiAgICAgIGNvbnN0IHdhdGVyR2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoIDEsIDEsIDAuMTIgKTtcclxuXHJcbiAgICAgIGNvbnN0IHdhdGVyID0gbmV3IFRIUkVFLk1lc2goIHdhdGVyR2VvbWV0cnksIHdhdGVyTWF0ZXJpYWwgKTtcclxuICAgICAgd2F0ZXIucG9zaXRpb24uY29weSggVGhyZWVVdGlscy52ZWN0b3JUb1RocmVlKCBuZXcgVmVjdG9yMyggMCwgLTAuNSwgMCApICkgKTtcclxuICAgICAgc2NlbmUuYWRkKCB3YXRlciApO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBnZXREZW5zaXR5Q29tcGFyZUljb24oKTogTm9kZSB7XHJcbiAgICBpZiAoICFUaHJlZVV0aWxzLmlzV2ViR0xFbmFibGVkKCkgKSB7XHJcbiAgICAgIHJldHVybiBEZW5zaXR5QnVveWFuY3lTY3JlZW5WaWV3LmdldEZhbGxiYWNrSWNvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBEZW5zaXR5QnVveWFuY3lTY3JlZW5WaWV3LmdldEFuZ2xlZEljb24oIDQuNiwgbmV3IFZlY3RvcjMoIDAsIC0wLjAyLCAwICksIHNjZW5lID0+IHtcclxuXHJcbiAgICAgIGNvbnN0IGJveEdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KCAwLjEsIDAuMSwgMC4xICk7XHJcblxyXG4gICAgICBjb25zdCBsZWZ0Qm94ID0gbmV3IFRIUkVFLk1lc2goIGJveEdlb21ldHJ5LCBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCgge1xyXG4gICAgICAgIGNvbG9yOiAweGZmZmYwMFxyXG4gICAgICB9ICkgKTtcclxuICAgICAgbGVmdEJveC5wb3NpdGlvbi5jb3B5KCBUaHJlZVV0aWxzLnZlY3RvclRvVGhyZWUoIG5ldyBWZWN0b3IzKCAtMC4wNywgMCwgMCApICkgKTtcclxuICAgICAgc2NlbmUuYWRkKCBsZWZ0Qm94ICk7XHJcblxyXG4gICAgICBjb25zdCByaWdodEJveCA9IG5ldyBUSFJFRS5NZXNoKCBib3hHZW9tZXRyeSwgbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoIHtcclxuICAgICAgICBjb2xvcjogMHhmZjAwMDBcclxuICAgICAgfSApICk7XHJcbiAgICAgIHJpZ2h0Qm94LnBvc2l0aW9uLmNvcHkoIFRocmVlVXRpbHMudmVjdG9yVG9UaHJlZSggbmV3IFZlY3RvcjMoIDAuMDcsIC0wLjA2LCAwICkgKSApO1xyXG4gICAgICBzY2VuZS5hZGQoIHJpZ2h0Qm94ICk7XHJcblxyXG4gICAgICBjb25zdCB3YXRlck1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoIHtcclxuICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZVxyXG4gICAgICB9ICk7XHJcbiAgICAgIGNvbnN0IHdhdGVyQ29sb3IgPSBEZW5zaXR5QnVveWFuY3lDb21tb25Db2xvcnMubWF0ZXJpYWxXYXRlckNvbG9yUHJvcGVydHkudmFsdWU7XHJcbiAgICAgIHdhdGVyTWF0ZXJpYWwuY29sb3IgPSBUaHJlZVV0aWxzLmNvbG9yVG9UaHJlZSggd2F0ZXJDb2xvciApO1xyXG4gICAgICB3YXRlck1hdGVyaWFsLm9wYWNpdHkgPSB3YXRlckNvbG9yLmFscGhhO1xyXG5cclxuICAgICAgLy8gRmFrZSBpdCFcclxuICAgICAgY29uc3Qgd2F0ZXJHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSggMSwgMSwgMC4xMiApO1xyXG5cclxuICAgICAgY29uc3Qgd2F0ZXIgPSBuZXcgVEhSRUUuTWVzaCggd2F0ZXJHZW9tZXRyeSwgd2F0ZXJNYXRlcmlhbCApO1xyXG4gICAgICB3YXRlci5wb3NpdGlvbi5jb3B5KCBUaHJlZVV0aWxzLnZlY3RvclRvVGhyZWUoIG5ldyBWZWN0b3IzKCAwLCAtMC41LCAwICkgKSApO1xyXG4gICAgICBzY2VuZS5hZGQoIHdhdGVyICk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGdldERlbnNpdHlNeXN0ZXJ5SWNvbigpOiBOb2RlIHtcclxuICAgIGlmICggIVRocmVlVXRpbHMuaXNXZWJHTEVuYWJsZWQoKSApIHtcclxuICAgICAgcmV0dXJuIERlbnNpdHlCdW95YW5jeVNjcmVlblZpZXcuZ2V0RmFsbGJhY2tJY29uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIERlbnNpdHlCdW95YW5jeVNjcmVlblZpZXcuZ2V0QW5nbGVkSWNvbiggNCwgbmV3IFZlY3RvcjMoIDAsIC0wLjAxLCAwICksIHNjZW5lID0+IHtcclxuXHJcbiAgICAgIGNvbnN0IGJveEdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KCAwLjEsIDAuMSwgMC4xICk7XHJcblxyXG4gICAgICBjb25zdCBib3ggPSBuZXcgVEhSRUUuTWVzaCggYm94R2VvbWV0cnksIG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKCB7XHJcbiAgICAgICAgY29sb3I6IDB4MDBmZjAwXHJcbiAgICAgIH0gKSApO1xyXG4gICAgICBib3gucG9zaXRpb24uY29weSggVGhyZWVVdGlscy52ZWN0b3JUb1RocmVlKCBuZXcgVmVjdG9yMyggMCwgMC4wMywgMCApICkgKTtcclxuXHJcbiAgICAgIHNjZW5lLmFkZCggYm94ICk7XHJcblxyXG4gICAgICBjb25zdCBsYWJlbFNpemUgPSAwLjE7XHJcbiAgICAgIGNvbnN0IGxhYmVsID0gbmV3IFRleHR1cmVRdWFkKCBuZXcgTm9kZVRleHR1cmUoIG5ldyBUZXh0KCAnPycsIHtcclxuICAgICAgICBmb250OiBuZXcgUGhldEZvbnQoIHtcclxuICAgICAgICAgIHNpemU6IDEyMFxyXG4gICAgICAgIH0gKSxcclxuICAgICAgICBjZW50ZXI6IG5ldyBWZWN0b3IyKCAxMjgsIDEyOCApXHJcbiAgICAgIH0gKSwgMjU2LCAyNTYgKSwgbGFiZWxTaXplLCBsYWJlbFNpemUgKTtcclxuXHJcbiAgICAgIGxhYmVsLnBvc2l0aW9uLmNvcHkoIFRocmVlVXRpbHMudmVjdG9yVG9UaHJlZSggbmV3IFZlY3RvcjMoIDAgLSBsYWJlbFNpemUgKiAwLjUsIDAuMDMsIDAuMTUgKSApICk7XHJcblxyXG4gICAgICBzY2VuZS5hZGQoIGxhYmVsICk7XHJcblxyXG4gICAgICBjb25zdCBzY2FsZUdlb21ldHJ5ID0gU2NhbGVWaWV3LmdldFNjYWxlR2VvbWV0cnkoKTtcclxuXHJcbiAgICAgIGNvbnN0IHNjYWxlID0gbmV3IFRIUkVFLk1lc2goIHNjYWxlR2VvbWV0cnksIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCgge1xyXG4gICAgICAgIGNvbG9yOiAweGZmZmZmZixcclxuICAgICAgICByb3VnaG5lc3M6IDAuMixcclxuICAgICAgICBtZXRhbG5lc3M6IDAuNyxcclxuICAgICAgICBlbWlzc2l2ZTogMHg2NjY2NjZcclxuICAgICAgfSApICk7XHJcblxyXG4gICAgICBzY2FsZS5wb3NpdGlvbi5jb3B5KCBUaHJlZVV0aWxzLnZlY3RvclRvVGhyZWUoIG5ldyBWZWN0b3IzKCAwLCAtMC4wMywgMCApICkgKTtcclxuICAgICAgc2NlbmUuYWRkKCBzY2FsZSApO1xyXG4gICAgfSApO1xyXG4gIH1cclxufVxyXG5cclxuZGVuc2l0eUJ1b3lhbmN5Q29tbW9uLnJlZ2lzdGVyKCAnRGVuc2l0eUJ1b3lhbmN5U2NyZWVuVmlldycsIERlbnNpdHlCdW95YW5jeVNjcmVlblZpZXcgKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFlBQVksTUFBTSx1Q0FBdUM7QUFDaEUsT0FBT0MsZUFBZSxNQUFNLHdDQUF3QztBQUNwRSxPQUFPQyxlQUFlLE1BQU0sd0NBQXdDO0FBQ3BFLE9BQU9DLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsT0FBT0MsUUFBUSxNQUFNLGlDQUFpQztBQUN0RCxPQUFPQyxXQUFXLE1BQU0sb0NBQW9DO0FBQzVELE9BQU9DLE9BQU8sTUFBTSwrQkFBK0I7QUFDbkQsT0FBT0MsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxPQUFPQyxNQUFNLE1BQU0sOEJBQThCO0FBQ2pELE9BQU9DLE9BQU8sTUFBTSwrQkFBK0I7QUFDbkQsT0FBT0MsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxPQUFPQyxNQUFNLE1BQU0sZ0NBQWdDO0FBQ25ELE9BQU9DLFVBQVUsTUFBNkIsb0NBQW9DO0FBQ2xGLE9BQU9DLFdBQVcsTUFBTSxzQ0FBc0M7QUFDOUQsT0FBT0MsV0FBVyxNQUFNLHNDQUFzQztBQUM5RCxPQUFPQyxrQkFBa0IsTUFBTSw2Q0FBNkM7QUFDNUUsT0FBT0MsVUFBVSxNQUFNLHFDQUFxQztB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QVksQ0FBRTtJQUMvRTtJQUNBLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUNQLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUNQLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUNQLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUNQLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUNQLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUVQO0lBQ0EsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQ1AsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQ1AsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQ1AsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQ1AsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQ1AsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBRVA7SUFDQSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDUCxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDUCxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDUCxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDUCxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDUCxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FDUCxDQUFDLEVBQUUsQ0FBRSxDQUFFLENBQUM7SUFDVixNQUFNb0IsYUFBYSxHQUFHLElBQUlwQixZQUFZLENBQUU7SUFDdEM7SUFDQSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDUCxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDUCxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDUCxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDUCxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDUCxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFFUDtJQUNBLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUNQLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUNQLENBQUMsRUFBRSxD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