// Copyright 2020-2022, University of Colorado Boulder

/**
 * A wrapper for NodeTexture that scales it up and uses power-of-2 dimensions.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import TinyEmitter from '../../../../axon/js/TinyEmitter.js';
import NodeTexture from '../../../../mobius/js/NodeTexture.js';
import { Node, Utils } from '../../../../scenery/js/imports.js';
import densityBuoyancyCommon from '../../densityBuoyancyCommon.js';
export default class LabelTexture extends NodeTexture {
  disposedEmitter = new TinyEmitter();
  constructor(labelNode) {
    const containerNode = new Node({
      children: [labelNode],
      scale: 2
    });
    const width = Utils.toPowerOf2(Math.ceil(containerNode.width));
    const height = Utils.toPowerOf2(Math.ceil(containerNode.height));
    super(containerNode, width, height);
    this.containerNode = containerNode;
  }

  /**
   * Releases references
   */
  dispose() {
    this.containerNode.dispose();
    super.dispose();
    this.disposedEmitter.emit();
  }
}
densityBuoyancyCommon.register('LabelTexture', LabelTexture);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUaW55RW1pdHRlciIsIk5vZGVUZXh0dXJlIiwiTm9kZSIsIlV0aWxzIiwiZGVuc2l0eUJ1b3lhbmN5Q29tbW9uIiwiTGFiZWxUZXh0dXJlIiwiZGlzcG9zZWRFbWl0dGVyIiwiY29uc3RydWN0b3IiLCJsYWJlbE5vZGUiLCJjb250YWluZXJOb2RlIiwiY2hpbGRyZW4iLCJzY2FsZSIsIndpZHRoIiwidG9Qb3dlck9mMiIsIk1hdGgiLCJjZWlsIiwiaGVpZ2h0IiwiZGlzcG9zZSIsImVtaXQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkxhYmVsVGV4dHVyZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMC0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBBIHdyYXBwZXIgZm9yIE5vZGVUZXh0dXJlIHRoYXQgc2NhbGVzIGl0IHVwIGFuZCB1c2VzIHBvd2VyLW9mLTIgZGltZW5zaW9ucy5cclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxyXG4gKi9cclxuXHJcbmltcG9ydCBUaW55RW1pdHRlciBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RpbnlFbWl0dGVyLmpzJztcclxuaW1wb3J0IE5vZGVUZXh0dXJlIGZyb20gJy4uLy4uLy4uLy4uL21vYml1cy9qcy9Ob2RlVGV4dHVyZS5qcyc7XHJcbmltcG9ydCB7IE5vZGUsIFV0aWxzIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IGRlbnNpdHlCdW95YW5jeUNvbW1vbiBmcm9tICcuLi8uLi9kZW5zaXR5QnVveWFuY3lDb21tb24uanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFiZWxUZXh0dXJlIGV4dGVuZHMgTm9kZVRleHR1cmUge1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgZGlzcG9zZWRFbWl0dGVyID0gbmV3IFRpbnlFbWl0dGVyKCk7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgY29udGFpbmVyTm9kZTogTm9kZTtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBsYWJlbE5vZGU6IE5vZGUgKSB7XHJcbiAgICBjb25zdCBjb250YWluZXJOb2RlID0gbmV3IE5vZGUoIHtcclxuICAgICAgY2hpbGRyZW46IFsgbGFiZWxOb2RlIF0sXHJcbiAgICAgIHNjYWxlOiAyXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCB3aWR0aCA9IFV0aWxzLnRvUG93ZXJPZjIoIE1hdGguY2VpbCggY29udGFpbmVyTm9kZS53aWR0aCApICk7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBVdGlscy50b1Bvd2VyT2YyKCBNYXRoLmNlaWwoIGNvbnRhaW5lck5vZGUuaGVpZ2h0ICkgKTtcclxuXHJcbiAgICBzdXBlciggY29udGFpbmVyTm9kZSwgd2lkdGgsIGhlaWdodCApO1xyXG5cclxuICAgIHRoaXMuY29udGFpbmVyTm9kZSA9IGNvbnRhaW5lck5vZGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWxlYXNlcyByZWZlcmVuY2VzXHJcbiAgICovXHJcbiAgcHVibGljIG92ZXJyaWRlIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICB0aGlzLmNvbnRhaW5lck5vZGUuZGlzcG9zZSgpO1xyXG5cclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuXHJcbiAgICB0aGlzLmRpc3Bvc2VkRW1pdHRlci5lbWl0KCk7XHJcbiAgfVxyXG59XHJcblxyXG5kZW5zaXR5QnVveWFuY3lDb21tb24ucmVnaXN0ZXIoICdMYWJlbFRleHR1cmUnLCBMYWJlbFRleHR1cmUgKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFdBQVcsTUFBTSxvQ0FBb0M7QUFDNUQsT0FBT0MsV0FBVyxNQUFNLHNDQUFzQztBQUM5RCxTQUFTQyxJQUFJLEVBQUVDLEtBQUssUUFBUSxtQ0FBbUM7QUFDL0QsT0FBT0MscUJBQXFCLE1BQU0sZ0NBQWdDO0FBRWxFLGVBQWUsTUFBTUMsWUFBWSxTQUFTSixXQUFXLENBQUM7RUFFcENLLGVBQWUsR0FBRyxJQUFJTixXQUFXLENBQUMsQ0FBQztFQUk1Q08sV0FBV0EsQ0FBRUMsU0FBZSxFQUFHO0lBQ3BDLE1BQU1DLGFBQWEsR0FBRyxJQUFJUCxJQUFJLENBQUU7TUFDOUJRLFFBQVEsRUFBRSxDQUFFRixTQUFTLENBQUU7TUFDdkJHLEtBQUssRUFBRTtJQUNULENBQUUsQ0FBQztJQUNILE1BQU1DLEtBQUssR0FBR1QsS0FBSyxDQUFDVSxVQUFVLENBQUVDLElBQUksQ0FBQ0MsSUFBSSxDQUFFTixhQUFhLENBQUNHLEtBQU0sQ0FBRSxDQUFDO0lBQ2xFLE1BQU1JLE1BQU0sR0FBR2IsS0FBSyxDQUFDVSxVQUFVLENBQUVDLElBQUksQ0FBQ0MsSUFBSSxDQUFFTixhQUFhLENBQUNPLE1BQU8sQ0FBRSxDQUFDO0lBRXBFLEtBQUssQ0FBRVAsYUFBYSxFQUFFRyxLQUFLLEVBQUVJLE1BQU8sQ0FBQztJQUVyQyxJQUFJLENBQUNQLGFBQWEsR0FBR0EsYUFBYTtFQUNwQzs7RUFFQTtBQUNGO0FBQ0E7RUFDa0JRLE9BQU9BLENBQUEsRUFBUztJQUM5QixJQUFJLENBQUNSLGFBQWEsQ0FBQ1EsT0FBTyxDQUFDLENBQUM7SUFFNUIsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztJQUVmLElBQUksQ0FBQ1gsZUFBZSxDQUFDWSxJQUFJLENBQUMsQ0FBQztFQUM3QjtBQUNGO0FBRUFkLHFCQUFxQixDQUFDZSxRQUFRLENBQUUsY0FBYyxFQUFFZCxZQUFhLENBQUMifQ==