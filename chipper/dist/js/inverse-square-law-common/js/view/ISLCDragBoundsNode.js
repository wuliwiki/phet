// Copyright 2018-2022, University of Colorado Boulder

/**
 * Shows the boundaries of the draggable area for an ISLCObjec's center point. Adjusts with the radius of the object.
 * Currently only used in Gravity Force Lab Basics
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import Multilink from '../../../axon/js/Multilink.js';
import merge from '../../../phet-core/js/merge.js';
import { Line, Node } from '../../../scenery/js/imports.js';
import inverseSquareLawCommon from '../inverseSquareLawCommon.js';
class ISLCDragBoundsNode extends Node {
  /**
   * @param       {ISLCModel} model
   * @param       {Bounds2} layoutBounds
   * @param       {ModelViewTransform2} modelViewTransform
   * @param       {Object} [options]
   */
  constructor(model, layoutBounds, modelViewTransform, options) {
    options = merge({
      lineWidth: 2,
      object1Stroke: 'blue',
      object2Stroke: 'red'
    }, options);
    super(options);

    // Show the min/max positions for dragging the objects
    const verticalMin = layoutBounds.minY;
    const verticalMax = layoutBounds.height;
    const object1LineOptions = {
      stroke: options.object1Stroke,
      lineWidth: options.lineWidth
    };
    const object2LineOptions = {
      stroke: options.object1Stroke,
      lineWidth: options.lineWidth
    };

    // vertical lines (drawn from yMin to yMax) that will be positioned according to the draggable limits of each object
    const object1MinLine = new Line(0, verticalMin, 0, verticalMax, object1LineOptions);
    const object1MaxLine = new Line(0, verticalMin, 0, verticalMax, object1LineOptions);
    const object2MinLine = new Line(0, verticalMin, 0, verticalMax, object2LineOptions);
    const object2MaxLine = new Line(0, verticalMin, 0, verticalMax, object2LineOptions);
    this.children = [object1MinLine, object2MinLine, object1MaxLine, object2MaxLine];
    let object1MinX;
    let object1MaxX;
    let object2MinX;
    let object2MaxX;
    const objectProperties = [model.object1.positionProperty, model.object1.radiusProperty, model.object2.positionProperty, model.object2.radiusProperty];
    Multilink.multilink(objectProperties, () => {
      object1MinX = modelViewTransform.modelToViewX(model.getObjectMinPosition(model.object1));
      object1MinLine.x1 = object1MinX;
      object1MinLine.x2 = object1MinX;
      object1MaxX = modelViewTransform.modelToViewX(model.getObjectMaxPosition(model.object1));
      object1MaxLine.x1 = object1MaxX;
      object1MaxLine.x2 = object1MaxX;
      object2MinX = modelViewTransform.modelToViewX(model.getObjectMinPosition(model.object2));
      object2MinLine.x1 = object2MinX;
      object2MinLine.x2 = object2MinX;
      object2MaxX = modelViewTransform.modelToViewX(model.getObjectMaxPosition(model.object2));
      object2MaxLine.x1 = object2MaxX;
      object2MaxLine.x2 = object2MaxX;
    });
  }
}
inverseSquareLawCommon.register('ISLCDragBoundsNode', ISLCDragBoundsNode);
export default ISLCDragBoundsNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNdWx0aWxpbmsiLCJtZXJnZSIsIkxpbmUiLCJOb2RlIiwiaW52ZXJzZVNxdWFyZUxhd0NvbW1vbiIsIklTTENEcmFnQm91bmRzTm9kZSIsImNvbnN0cnVjdG9yIiwibW9kZWwiLCJsYXlvdXRCb3VuZHMiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJvcHRpb25zIiwibGluZVdpZHRoIiwib2JqZWN0MVN0cm9rZSIsIm9iamVjdDJTdHJva2UiLCJ2ZXJ0aWNhbE1pbiIsIm1pblkiLCJ2ZXJ0aWNhbE1heCIsImhlaWdodCIsIm9iamVjdDFMaW5lT3B0aW9ucyIsInN0cm9rZSIsIm9iamVjdDJMaW5lT3B0aW9ucyIsIm9iamVjdDFNaW5MaW5lIiwib2JqZWN0MU1heExpbmUiLCJvYmplY3QyTWluTGluZSIsIm9iamVjdDJNYXhMaW5lIiwiY2hpbGRyZW4iLCJvYmplY3QxTWluWCIsIm9iamVjdDFNYXhYIiwib2JqZWN0Mk1pblgiLCJvYmplY3QyTWF4WCIsIm9iamVjdFByb3BlcnRpZXMiLCJvYmplY3QxIiwicG9zaXRpb25Qcm9wZXJ0eSIsInJhZGl1c1Byb3BlcnR5Iiwib2JqZWN0MiIsIm11bHRpbGluayIsIm1vZGVsVG9WaWV3WCIsImdldE9iamVjdE1pblBvc2l0aW9uIiwieDEiLCJ4MiIsImdldE9iamVjdE1heFBvc2l0aW9uIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJJU0xDRHJhZ0JvdW5kc05vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTgtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU2hvd3MgdGhlIGJvdW5kYXJpZXMgb2YgdGhlIGRyYWdnYWJsZSBhcmVhIGZvciBhbiBJU0xDT2JqZWMncyBjZW50ZXIgcG9pbnQuIEFkanVzdHMgd2l0aCB0aGUgcmFkaXVzIG9mIHRoZSBvYmplY3QuXHJcbiAqIEN1cnJlbnRseSBvbmx5IHVzZWQgaW4gR3Jhdml0eSBGb3JjZSBMYWIgQmFzaWNzXHJcbiAqXHJcbiAqIEBhdXRob3IgSmVzc2UgR3JlZW5iZXJnIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCBNdWx0aWxpbmsgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9NdWx0aWxpbmsuanMnO1xyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IHsgTGluZSwgTm9kZSB9IGZyb20gJy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBpbnZlcnNlU3F1YXJlTGF3Q29tbW9uIGZyb20gJy4uL2ludmVyc2VTcXVhcmVMYXdDb21tb24uanMnO1xyXG5cclxuY2xhc3MgSVNMQ0RyYWdCb3VuZHNOb2RlIGV4dGVuZHMgTm9kZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSAgICAgICB7SVNMQ01vZGVsfSBtb2RlbFxyXG4gICAqIEBwYXJhbSAgICAgICB7Qm91bmRzMn0gbGF5b3V0Qm91bmRzXHJcbiAgICogQHBhcmFtICAgICAgIHtNb2RlbFZpZXdUcmFuc2Zvcm0yfSBtb2RlbFZpZXdUcmFuc2Zvcm1cclxuICAgKiBAcGFyYW0gICAgICAge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIG1vZGVsLCBsYXlvdXRCb3VuZHMsIG1vZGVsVmlld1RyYW5zZm9ybSwgb3B0aW9ucyApIHtcclxuXHJcbiAgICBvcHRpb25zID0gbWVyZ2UoIHtcclxuICAgICAgbGluZVdpZHRoOiAyLFxyXG4gICAgICBvYmplY3QxU3Ryb2tlOiAnYmx1ZScsXHJcbiAgICAgIG9iamVjdDJTdHJva2U6ICdyZWQnXHJcbiAgICB9LCBvcHRpb25zICk7XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyBTaG93IHRoZSBtaW4vbWF4IHBvc2l0aW9ucyBmb3IgZHJhZ2dpbmcgdGhlIG9iamVjdHNcclxuICAgIGNvbnN0IHZlcnRpY2FsTWluID0gbGF5b3V0Qm91bmRzLm1pblk7XHJcbiAgICBjb25zdCB2ZXJ0aWNhbE1heCA9IGxheW91dEJvdW5kcy5oZWlnaHQ7XHJcbiAgICBjb25zdCBvYmplY3QxTGluZU9wdGlvbnMgPSB7IHN0cm9rZTogb3B0aW9ucy5vYmplY3QxU3Ryb2tlLCBsaW5lV2lkdGg6IG9wdGlvbnMubGluZVdpZHRoIH07XHJcbiAgICBjb25zdCBvYmplY3QyTGluZU9wdGlvbnMgPSB7IHN0cm9rZTogb3B0aW9ucy5vYmplY3QxU3Ryb2tlLCBsaW5lV2lkdGg6IG9wdGlvbnMubGluZVdpZHRoIH07XHJcblxyXG4gICAgLy8gdmVydGljYWwgbGluZXMgKGRyYXduIGZyb20geU1pbiB0byB5TWF4KSB0aGF0IHdpbGwgYmUgcG9zaXRpb25lZCBhY2NvcmRpbmcgdG8gdGhlIGRyYWdnYWJsZSBsaW1pdHMgb2YgZWFjaCBvYmplY3RcclxuICAgIGNvbnN0IG9iamVjdDFNaW5MaW5lID0gbmV3IExpbmUoIDAsIHZlcnRpY2FsTWluLCAwLCB2ZXJ0aWNhbE1heCwgb2JqZWN0MUxpbmVPcHRpb25zICk7XHJcbiAgICBjb25zdCBvYmplY3QxTWF4TGluZSA9IG5ldyBMaW5lKCAwLCB2ZXJ0aWNhbE1pbiwgMCwgdmVydGljYWxNYXgsIG9iamVjdDFMaW5lT3B0aW9ucyApO1xyXG4gICAgY29uc3Qgb2JqZWN0Mk1pbkxpbmUgPSBuZXcgTGluZSggMCwgdmVydGljYWxNaW4sIDAsIHZlcnRpY2FsTWF4LCBvYmplY3QyTGluZU9wdGlvbnMgKTtcclxuICAgIGNvbnN0IG9iamVjdDJNYXhMaW5lID0gbmV3IExpbmUoIDAsIHZlcnRpY2FsTWluLCAwLCB2ZXJ0aWNhbE1heCwgb2JqZWN0MkxpbmVPcHRpb25zICk7XHJcblxyXG4gICAgdGhpcy5jaGlsZHJlbiA9IFsgb2JqZWN0MU1pbkxpbmUsIG9iamVjdDJNaW5MaW5lLCBvYmplY3QxTWF4TGluZSwgb2JqZWN0Mk1heExpbmUgXTtcclxuXHJcbiAgICBsZXQgb2JqZWN0MU1pblg7XHJcbiAgICBsZXQgb2JqZWN0MU1heFg7XHJcbiAgICBsZXQgb2JqZWN0Mk1pblg7XHJcbiAgICBsZXQgb2JqZWN0Mk1heFg7XHJcbiAgICBjb25zdCBvYmplY3RQcm9wZXJ0aWVzID0gW1xyXG4gICAgICBtb2RlbC5vYmplY3QxLnBvc2l0aW9uUHJvcGVydHksXHJcbiAgICAgIG1vZGVsLm9iamVjdDEucmFkaXVzUHJvcGVydHksXHJcbiAgICAgIG1vZGVsLm9iamVjdDIucG9zaXRpb25Qcm9wZXJ0eSxcclxuICAgICAgbW9kZWwub2JqZWN0Mi5yYWRpdXNQcm9wZXJ0eVxyXG4gICAgXTtcclxuXHJcbiAgICBNdWx0aWxpbmsubXVsdGlsaW5rKCBvYmplY3RQcm9wZXJ0aWVzLCAoKSA9PiB7XHJcbiAgICAgIG9iamVjdDFNaW5YID0gbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggbW9kZWwuZ2V0T2JqZWN0TWluUG9zaXRpb24oIG1vZGVsLm9iamVjdDEgKSApO1xyXG4gICAgICBvYmplY3QxTWluTGluZS54MSA9IG9iamVjdDFNaW5YO1xyXG4gICAgICBvYmplY3QxTWluTGluZS54MiA9IG9iamVjdDFNaW5YO1xyXG5cclxuICAgICAgb2JqZWN0MU1heFggPSBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdYKCBtb2RlbC5nZXRPYmplY3RNYXhQb3NpdGlvbiggbW9kZWwub2JqZWN0MSApICk7XHJcbiAgICAgIG9iamVjdDFNYXhMaW5lLngxID0gb2JqZWN0MU1heFg7XHJcbiAgICAgIG9iamVjdDFNYXhMaW5lLngyID0gb2JqZWN0MU1heFg7XHJcblxyXG4gICAgICBvYmplY3QyTWluWCA9IG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIG1vZGVsLmdldE9iamVjdE1pblBvc2l0aW9uKCBtb2RlbC5vYmplY3QyICkgKTtcclxuICAgICAgb2JqZWN0Mk1pbkxpbmUueDEgPSBvYmplY3QyTWluWDtcclxuICAgICAgb2JqZWN0Mk1pbkxpbmUueDIgPSBvYmplY3QyTWluWDtcclxuXHJcbiAgICAgIG9iamVjdDJNYXhYID0gbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggbW9kZWwuZ2V0T2JqZWN0TWF4UG9zaXRpb24oIG1vZGVsLm9iamVjdDIgKSApO1xyXG4gICAgICBvYmplY3QyTWF4TGluZS54MSA9IG9iamVjdDJNYXhYO1xyXG4gICAgICBvYmplY3QyTWF4TGluZS54MiA9IG9iamVjdDJNYXhYO1xyXG4gICAgfSApO1xyXG4gIH1cclxufVxyXG5cclxuaW52ZXJzZVNxdWFyZUxhd0NvbW1vbi5yZWdpc3RlciggJ0lTTENEcmFnQm91bmRzTm9kZScsIElTTENEcmFnQm91bmRzTm9kZSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSVNMQ0RyYWdCb3VuZHNOb2RlOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFNBQVMsTUFBTSwrQkFBK0I7QUFDckQsT0FBT0MsS0FBSyxNQUFNLGdDQUFnQztBQUNsRCxTQUFTQyxJQUFJLEVBQUVDLElBQUksUUFBUSxnQ0FBZ0M7QUFDM0QsT0FBT0Msc0JBQXNCLE1BQU0sOEJBQThCO0FBRWpFLE1BQU1DLGtCQUFrQixTQUFTRixJQUFJLENBQUM7RUFFcEM7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0VHLFdBQVdBLENBQUVDLEtBQUssRUFBRUMsWUFBWSxFQUFFQyxrQkFBa0IsRUFBRUMsT0FBTyxFQUFHO0lBRTlEQSxPQUFPLEdBQUdULEtBQUssQ0FBRTtNQUNmVSxTQUFTLEVBQUUsQ0FBQztNQUNaQyxhQUFhLEVBQUUsTUFBTTtNQUNyQkMsYUFBYSxFQUFFO0lBQ2pCLENBQUMsRUFBRUgsT0FBUSxDQUFDO0lBRVosS0FBSyxDQUFFQSxPQUFRLENBQUM7O0lBRWhCO0lBQ0EsTUFBTUksV0FBVyxHQUFHTixZQUFZLENBQUNPLElBQUk7SUFDckMsTUFBTUMsV0FBVyxHQUFHUixZQUFZLENBQUNTLE1BQU07SUFDdkMsTUFBTUMsa0JB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