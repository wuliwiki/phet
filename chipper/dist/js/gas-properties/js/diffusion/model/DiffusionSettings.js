// Copyright 2019-2023, University of Colorado Boulder

/**
 * DiffusionSettings defines the settings that initialize one side of the container in the 'Diffusion' screen.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import NumberProperty from '../../../../axon/js/NumberProperty.js';
import GasPropertiesConstants from '../../common/GasPropertiesConstants.js';
import gasProperties from '../../gasProperties.js';
export default class DiffusionSettings {
  // mass, in AMU
  // radius, in pm
  // initial temperature, in K, used to compute initial velocity
  // Property values must be a multiple of these deltas
  static DELTAS = {
    numberOfParticles: 10,
    mass: 1,
    // AMU
    radius: 5,
    // pm
    initialTemperature: 50 // K
  };

  constructor(tandem) {
    this.numberOfParticlesProperty = new NumberProperty(GasPropertiesConstants.NUMBER_OF_PARTICLES_RANGE.defaultValue, {
      numberType: 'Integer',
      range: GasPropertiesConstants.NUMBER_OF_PARTICLES_RANGE,
      hasListenerOrderDependencies: true,
      // TODO: https://github.com/phetsims/gas-properties/issues/186
      isValidValue: value => value % DiffusionSettings.DELTAS.numberOfParticles === 0,
      tandem: tandem.createTandem('numberOfParticlesProperty')
    });
    this.massProperty = new NumberProperty(GasPropertiesConstants.MASS_RANGE.defaultValue, {
      numberType: 'Integer',
      range: GasPropertiesConstants.MASS_RANGE,
      units: 'AMU',
      isValidValue: value => value % DiffusionSettings.DELTAS.mass === 0,
      tandem: tandem.createTandem('massProperty')
    });
    this.radiusProperty = new NumberProperty(GasPropertiesConstants.RADIUS_RANGE.defaultValue, {
      numberType: 'Integer',
      range: GasPropertiesConstants.RADIUS_RANGE,
      units: 'pm',
      isValidValue: value => value % DiffusionSettings.DELTAS.radius === 0,
      tandem: tandem.createTandem('radiusProperty')
    });
    this.initialTemperatureProperty = new NumberProperty(GasPropertiesConstants.INITIAL_TEMPERATURE_RANGE.defaultValue, {
      numberType: 'Integer',
      range: GasPropertiesConstants.INITIAL_TEMPERATURE_RANGE,
      units: 'K',
      isValidValue: value => value % DiffusionSettings.DELTAS.initialTemperature === 0,
      tandem: tandem.createTandem('initialTemperatureProperty'),
      phetioDocumentation: 'temperature used to determine initial speed of particles'
    });
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
  }
  reset() {
    this.numberOfParticlesProperty.reset();
    this.massProperty.reset();
    this.radiusProperty.reset();
    this.initialTemperatureProperty.reset();
  }

  /**
   * Restarts an experiment with the same settings.
   * This forces the current set of particles to be deleted, and a new set of particles to be created.
   */
  restart() {
    const numberOfParticles = this.numberOfParticlesProperty.value;
    this.numberOfParticlesProperty.value = 0;
    this.numberOfParticlesProperty.value = numberOfParticles;
  }
}
gasProperties.register('DiffusionSettings', DiffusionSettings);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJOdW1iZXJQcm9wZXJ0eSIsIkdhc1Byb3BlcnRpZXNDb25zdGFudHMiLCJnYXNQcm9wZXJ0aWVzIiwiRGlmZnVzaW9uU2V0dGluZ3MiLCJERUxUQVMiLCJudW1iZXJPZlBhcnRpY2xlcyIsIm1hc3MiLCJyYWRpdXMiLCJpbml0aWFsVGVtcGVyYXR1cmUiLCJjb25zdHJ1Y3RvciIsInRhbmRlbSIsIm51bWJlck9mUGFydGljbGVzUHJvcGVydHkiLCJOVU1CRVJfT0ZfUEFSVElDTEVTX1JBTkdFIiwiZGVmYXVsdFZhbHVlIiwibnVtYmVyVHlwZSIsInJhbmdlIiwiaGFzTGlzdGVuZXJPcmRlckRlcGVuZGVuY2llcyIsImlzVmFsaWRWYWx1ZSIsInZhbHVlIiwiY3JlYXRlVGFuZGVtIiwibWFzc1Byb3BlcnR5IiwiTUFTU19SQU5HRSIsInVuaXRzIiwicmFkaXVzUHJvcGVydHkiLCJSQURJVVNfUkFOR0UiLCJpbml0aWFsVGVtcGVyYXR1cmVQcm9wZXJ0eSIsIklOSVRJQUxfVEVNUEVSQVRVUkVfUkFOR0UiLCJwaGV0aW9Eb2N1bWVudGF0aW9uIiwiZGlzcG9zZSIsImFzc2VydCIsInJlc2V0IiwicmVzdGFydCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiRGlmZnVzaW9uU2V0dGluZ3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTktMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogRGlmZnVzaW9uU2V0dGluZ3MgZGVmaW5lcyB0aGUgc2V0dGluZ3MgdGhhdCBpbml0aWFsaXplIG9uZSBzaWRlIG9mIHRoZSBjb250YWluZXIgaW4gdGhlICdEaWZmdXNpb24nIHNjcmVlbi5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgTnVtYmVyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9OdW1iZXJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBHYXNQcm9wZXJ0aWVzQ29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9HYXNQcm9wZXJ0aWVzQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IGdhc1Byb3BlcnRpZXMgZnJvbSAnLi4vLi4vZ2FzUHJvcGVydGllcy5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaWZmdXNpb25TZXR0aW5ncyB7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBudW1iZXJPZlBhcnRpY2xlc1Byb3BlcnR5OiBOdW1iZXJQcm9wZXJ0eTtcclxuICBwdWJsaWMgcmVhZG9ubHkgbWFzc1Byb3BlcnR5OiBOdW1iZXJQcm9wZXJ0eTsgLy8gbWFzcywgaW4gQU1VXHJcbiAgcHVibGljIHJlYWRvbmx5IHJhZGl1c1Byb3BlcnR5OiBOdW1iZXJQcm9wZXJ0eTsgLy8gcmFkaXVzLCBpbiBwbVxyXG4gIHB1YmxpYyByZWFkb25seSBpbml0aWFsVGVtcGVyYXR1cmVQcm9wZXJ0eTogTnVtYmVyUHJvcGVydHk7IC8vIGluaXRpYWwgdGVtcGVyYXR1cmUsIGluIEssIHVzZWQgdG8gY29tcHV0ZSBpbml0aWFsIHZlbG9jaXR5XHJcblxyXG4gIC8vIFByb3BlcnR5IHZhbHVlcyBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgdGhlc2UgZGVsdGFzXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBERUxUQVMgPSB7XHJcbiAgICBudW1iZXJPZlBhcnRpY2xlczogMTAsXHJcbiAgICBtYXNzOiAxLCAvLyBBTVVcclxuICAgIHJhZGl1czogNSwgLy8gcG1cclxuICAgIGluaXRpYWxUZW1wZXJhdHVyZTogNTAgLy8gS1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggdGFuZGVtOiBUYW5kZW0gKSB7XHJcblxyXG4gICAgdGhpcy5udW1iZXJPZlBhcnRpY2xlc1Byb3BlcnR5ID1cclxuICAgICAgbmV3IE51bWJlclByb3BlcnR5KCBHYXNQcm9wZXJ0aWVzQ29uc3RhbnRzLk5VTUJFUl9PRl9QQVJUSUNMRVNfUkFOR0UuZGVmYXVsdFZhbHVlLCB7XHJcbiAgICAgICAgbnVtYmVyVHlwZTogJ0ludGVnZXInLFxyXG4gICAgICAgIHJhbmdlOiBHYXNQcm9wZXJ0aWVzQ29uc3RhbnRzLk5VTUJFUl9PRl9QQVJUSUNMRVNfUkFOR0UsXHJcbiAgICAgICAgaGFzTGlzdGVuZXJPcmRlckRlcGVuZGVuY2llczogdHJ1ZSwgLy8gVE9ETzogaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL2dhcy1wcm9wZXJ0aWVzL2lzc3Vlcy8xODZcclxuICAgICAgICBpc1ZhbGlkVmFsdWU6IHZhbHVlID0+ICggdmFsdWUgJSBEaWZmdXNpb25TZXR0aW5ncy5ERUxUQVMubnVtYmVyT2ZQYXJ0aWNsZXMgPT09IDAgKSxcclxuICAgICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdudW1iZXJPZlBhcnRpY2xlc1Byb3BlcnR5JyApXHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLm1hc3NQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggR2FzUHJvcGVydGllc0NvbnN0YW50cy5NQVNTX1JBTkdFLmRlZmF1bHRWYWx1ZSwge1xyXG4gICAgICBudW1iZXJUeXBlOiAnSW50ZWdlcicsXHJcbiAgICAgIHJhbmdlOiBHYXNQcm9wZXJ0aWVzQ29uc3RhbnRzLk1BU1NfUkFOR0UsXHJcbiAgICAgIHVuaXRzOiAnQU1VJyxcclxuICAgICAgaXNWYWxpZFZhbHVlOiB2YWx1ZSA9PiAoIHZhbHVlICUgRGlmZnVzaW9uU2V0dGluZ3MuREVMVEFTLm1hc3MgPT09IDAgKSxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnbWFzc1Byb3BlcnR5JyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5yYWRpdXNQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggR2FzUHJvcGVydGllc0NvbnN0YW50cy5SQURJVVNfUkFOR0UuZGVmYXVsdFZhbHVlLCB7XHJcbiAgICAgIG51bWJlclR5cGU6ICdJbnRlZ2VyJyxcclxuICAgICAgcmFuZ2U6IEdhc1Byb3BlcnRpZXNDb25zdGFudHMuUkFESVVTX1JBTkdFLFxyXG4gICAgICB1bml0czogJ3BtJyxcclxuICAgICAgaXNWYWxpZFZhbHVlOiB2YWx1ZSA9PiAoIHZhbHVlICUgRGlmZnVzaW9uU2V0dGluZ3MuREVMVEFTLnJhZGl1cyA9PT0gMCApLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdyYWRpdXNQcm9wZXJ0eScgKVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuaW5pdGlhbFRlbXBlcmF0dXJlUHJvcGVydHkgPVxyXG4gICAgICBuZXcgTnVtYmVyUHJvcGVydHkoIEdhc1Byb3BlcnRpZXNDb25zdGFudHMuSU5JVElBTF9URU1QRVJBVFVSRV9SQU5HRS5kZWZhdWx0VmFsdWUsIHtcclxuICAgICAgICBudW1iZXJUeXBlOiAnSW50ZWdlcicsXHJcbiAgICAgICAgcmFuZ2U6IEdhc1Byb3BlcnRpZXNDb25zdGFudHMuSU5JVElBTF9URU1QRVJBVFVSRV9SQU5HRSxcclxuICAgICAgICB1bml0czogJ0snLFxyXG4gICAgICAgIGlzVmFsaWRWYWx1ZTogdmFsdWUgPT4gKCB2YWx1ZSAlIERpZmZ1c2lvblNldHRpbmdzLkRFTFRBUy5pbml0aWFsVGVtcGVyYXR1cmUgPT09IDAgKSxcclxuICAgICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdpbml0aWFsVGVtcGVyYXR1cmVQcm9wZXJ0eScgKSxcclxuICAgICAgICBwaGV0aW9Eb2N1bWVudGF0aW9uOiAndGVtcGVyYXR1cmUgdXNlZCB0byBkZXRlcm1pbmUgaW5pdGlhbCBzcGVlZCBvZiBwYXJ0aWNsZXMnXHJcbiAgICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggZmFsc2UsICdkaXNwb3NlIGlzIG5vdCBzdXBwb3J0ZWQsIGV4aXN0cyBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBzaW0nICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVzZXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLm51bWJlck9mUGFydGljbGVzUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMubWFzc1Byb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLnJhZGl1c1Byb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLmluaXRpYWxUZW1wZXJhdHVyZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXN0YXJ0cyBhbiBleHBlcmltZW50IHdpdGggdGhlIHNhbWUgc2V0dGluZ3MuXHJcbiAgICogVGhpcyBmb3JjZXMgdGhlIGN1cnJlbnQgc2V0IG9mIHBhcnRpY2xlcyB0byBiZSBkZWxldGVkLCBhbmQgYSBuZXcgc2V0IG9mIHBhcnRpY2xlcyB0byBiZSBjcmVhdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXN0YXJ0KCk6IHZvaWQge1xyXG4gICAgY29uc3QgbnVtYmVyT2ZQYXJ0aWNsZXMgPSB0aGlzLm51bWJlck9mUGFydGljbGVzUHJvcGVydHkudmFsdWU7XHJcbiAgICB0aGlzLm51bWJlck9mUGFydGljbGVzUHJvcGVydHkudmFsdWUgPSAwO1xyXG4gICAgdGhpcy5udW1iZXJPZlBhcnRpY2xlc1Byb3BlcnR5LnZhbHVlID0gbnVtYmVyT2ZQYXJ0aWNsZXM7XHJcbiAgfVxyXG59XHJcblxyXG5nYXNQcm9wZXJ0aWVzLnJlZ2lzdGVyKCAnRGlmZnVzaW9uU2V0dGluZ3MnLCBEaWZmdXNpb25TZXR0aW5ncyApOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxjQUFjLE1BQU0sdUNBQXVDO0FBRWxFLE9BQU9DLHNCQUFzQixNQUFNLHdDQUF3QztBQUMzRSxPQUFPQyxhQUFhLE1B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