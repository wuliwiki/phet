// Copyright 2018-2022, University of Colorado Boulder

/**
 * EnergyScreenView is the view for the 'Energy' screen.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import { VBox } from '../../../../scenery/js/imports.js';
import GasPropertiesConstants from '../../common/GasPropertiesConstants.js';
import IdealGasLawScreenView from '../../common/view/IdealGasLawScreenView.js';
import ParticlesAccordionBox from '../../common/view/ParticlesAccordionBox.js';
import gasProperties from '../../gasProperties.js';
import AverageSpeedAccordionBox from './AverageSpeedAccordionBox.js';
import EnergyToolsPanel from './EnergyToolsPanel.js';
import EnergyViewProperties from './EnergyViewProperties.js';
import InjectionTemperatureAccordionBox from './InjectionTemperatureAccordionBox.js';
import KineticEnergyAccordionBox from './KineticEnergyAccordionBox.js';
import SpeedAccordionBox from './SpeedAccordionBox.js';

// constants
const LEFT_PANEL_WIDTH = 205; // width of panels on the left side of the container, determined empirically
const VBOX_SPACING = 10;
export default class EnergyScreenView extends IdealGasLawScreenView {
  constructor(model, tandem) {
    // view-specific Properties
    const viewProperties = new EnergyViewProperties(tandem.createTandem('viewProperties'));
    super(model, viewProperties.particleTypeProperty, viewProperties.widthVisibleProperty, tandem);

    // Average Speed
    const averageSpeedAccordionBox = new AverageSpeedAccordionBox(model.averageSpeedModel.heavyAverageSpeedProperty, model.averageSpeedModel.lightAverageSpeedProperty, model.modelViewTransform, {
      expandedProperty: viewProperties.averageSpeedExpandedProperty,
      fixedWidth: LEFT_PANEL_WIDTH,
      tandem: tandem.createTandem('averageSpeedAccordionBox')
    });

    // Speed accordion box with histogram and related controls
    const speedAccordionBox = new SpeedAccordionBox(model.histogramsModel, model.modelViewTransform, {
      expandedProperty: viewProperties.speedExpandedProperty,
      fixedWidth: LEFT_PANEL_WIDTH,
      tandem: tandem.createTandem('speedAccordionBox')
    });

    // Kinetic Energy accordion box with histogram
    const kineticEnergyAccordionBox = new KineticEnergyAccordionBox(model.histogramsModel, model.modelViewTransform, {
      expandedProperty: viewProperties.kineticEnergyExpandedProperty,
      fixedWidth: LEFT_PANEL_WIDTH,
      tandem: tandem.createTandem('kineticEnergyAccordionBox')
    });

    // Panels on the left side of the screen
    const leftPanels = new VBox({
      children: [averageSpeedAccordionBox, speedAccordionBox, kineticEnergyAccordionBox],
      align: 'left',
      spacing: VBOX_SPACING,
      top: GasPropertiesConstants.SCREEN_VIEW_Y_MARGIN,
      left: this.layoutBounds.left + GasPropertiesConstants.SCREEN_VIEW_X_MARGIN
    });

    // Tools panel
    const toolsPanel = new EnergyToolsPanel(viewProperties.widthVisibleProperty, model.stopwatch.isVisibleProperty, {
      fixedWidth: GasPropertiesConstants.RIGHT_PANEL_WIDTH,
      tandem: tandem.createTandem('toolsPanel')
    });

    // Particles accordion box
    const particlesAccordionBox = new ParticlesAccordionBox(model.particleSystem.numberOfHeavyParticlesProperty, model.particleSystem.numberOfLightParticlesProperty, model.modelViewTransform, {
      collisionsEnabledProperty: model.collisionDetector.particleParticleCollisionsEnabledProperty,
      expandedProperty: viewProperties.particlesExpandedProperty,
      fixedWidth: GasPropertiesConstants.RIGHT_PANEL_WIDTH,
      tandem: tandem.createTandem('particlesAccordionBox')
    });

    // Injection Temperature accordion box
    const injectionTemperatureAccordionBox = new InjectionTemperatureAccordionBox(model.temperatureModel.controlTemperatureEnabledProperty, model.temperatureModel.initialTemperatureProperty, {
      expandedProperty: viewProperties.injectionTemperatureExpandedProperty,
      fixedWidth: GasPropertiesConstants.RIGHT_PANEL_WIDTH,
      tandem: tandem.createTandem('injectionTemperatureAccordionBox')
    });

    // Panels on the right side of the screen
    const rightPanels = new VBox({
      children: [toolsPanel, particlesAccordionBox, injectionTemperatureAccordionBox],
      align: 'left',
      spacing: VBOX_SPACING,
      right: this.layoutBounds.right - GasPropertiesConstants.SCREEN_VIEW_X_MARGIN,
      top: this.layoutBounds.top + GasPropertiesConstants.SCREEN_VIEW_Y_MARGIN
    });

    // Panels behind superclass UI components like the stopwatch
    this.addChild(leftPanels);
    leftPanels.moveToBack();
    this.addChild(rightPanels);
    rightPanels.moveToBack();
    this.viewProperties = viewProperties;
    this.speedAccordionBox = speedAccordionBox;
    this.kineticEnergyAccordionBox = kineticEnergyAccordionBox;
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
  reset() {
    this.viewProperties.reset();
    this.speedAccordionBox.reset();
    this.kineticEnergyAccordionBox.reset();
    super.reset();
  }
}
gasProperties.register('EnergyScreenView', EnergyScreenView);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWQm94IiwiR2FzUHJvcGVydGllc0NvbnN0YW50cyIsIklkZWFsR2FzTGF3U2NyZWVuVmlldyIsIlBhcnRpY2xlc0FjY29yZGlvbkJveCIsImdhc1Byb3BlcnRpZXMiLCJBdmVyYWdlU3BlZWRBY2NvcmRpb25Cb3giLCJFbmVyZ3lUb29sc1BhbmVsIiwiRW5lcmd5Vmlld1Byb3BlcnRpZXMiLCJJbmplY3Rpb25UZW1wZXJhdHVyZUFjY29yZGlvbkJveCIsIktpbmV0aWNFbmVyZ3lBY2NvcmRpb25Cb3giLCJTcGVlZEFjY29yZGlvbkJveCIsIkxFRlRfUEFORUxfV0lEVEgiLCJWQk9YX1NQQUNJTkciLCJFbmVyZ3lTY3JlZW5WaWV3IiwiY29uc3RydWN0b3IiLCJtb2RlbCIsInRhbmRlbSIsInZpZXdQcm9wZXJ0aWVzIiwiY3JlYXRlVGFuZGVtIiwicGFydGljbGVUeXBlUHJvcGVydHkiLCJ3aWR0aFZpc2libGVQcm9wZXJ0eSIsImF2ZXJhZ2VTcGVlZEFjY29yZGlvbkJveCIsImF2ZXJhZ2VTcGVlZE1vZGVsIiwiaGVhdnlBdmVyYWdlU3BlZWRQcm9wZXJ0eSIsImxpZ2h0QXZlcmFnZVNwZWVkUHJvcGVydHkiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJleHBhbmRlZFByb3BlcnR5IiwiYXZlcmFnZVNwZWVkRXhwYW5kZWRQcm9wZXJ0eSIsImZpeGVkV2lkdGgiLCJzcGVlZEFjY29yZGlvbkJveCIsImhpc3RvZ3JhbXNNb2RlbCIsInNwZWVkRXhwYW5kZWRQcm9wZXJ0eSIsImtpbmV0aWNFbmVyZ3lBY2NvcmRpb25Cb3giLCJraW5ldGljRW5lcmd5RXhwYW5kZWRQcm9wZXJ0eSIsImxlZnRQYW5lbHMiLCJjaGlsZHJlbiIsImFsaWduIiwic3BhY2luZyIsInRvcCIsIlNDUkVFTl9WSUVXX1lfTUFSR0lOIiwibGVmdCIsImxheW91dEJvdW5kcyIsIlNDUkVFTl9WSUVXX1hfTUFSR0lOIiwidG9vbHNQYW5lbCIsInN0b3B3YXRjaCIsImlzVmlzaWJsZVByb3BlcnR5IiwiUklHSFRfUEFORUxfV0lEVEgiLCJwYXJ0aWNsZXNBY2NvcmRpb25Cb3giLCJwYXJ0aWNsZVN5c3RlbSIsIm51bWJlck9mSGVhdnlQYXJ0aWNsZXNQcm9wZXJ0eSIsIm51bWJlck9mTGlnaHRQYXJ0aWNsZXNQcm9wZXJ0eSIsImNvbGxpc2lvbnNFbmFibGVkUHJvcGVydHkiLCJjb2xsaXNpb25EZXRlY3RvciIsInBhcnRpY2xlUGFydGljbGVDb2xsaXNpb25zRW5hYmxlZFByb3BlcnR5IiwicGFydGljbGVzRXhwYW5kZWRQcm9wZXJ0eSIsImluamVjdGlvblRlbXBlcmF0dXJlQWNjb3JkaW9uQm94IiwidGVtcGVyYXR1cmVNb2RlbCIsImNvbnRyb2xUZW1wZXJhdHVyZUVuYWJsZWRQcm9wZXJ0eSIsImluaXRpYWxUZW1wZXJhdHVyZVByb3BlcnR5IiwiaW5qZWN0aW9uVGVtcGVyYXR1cmVFeHBhbmRlZFByb3BlcnR5IiwicmlnaHRQYW5lbHMiLCJyaWdodCIsImFkZENoaWxkIiwibW92ZVRvQmFjayIsImRpc3Bvc2UiLCJhc3NlcnQiLCJyZXNldCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiRW5lcmd5U2NyZWVuVmlldy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBFbmVyZ3lTY3JlZW5WaWV3IGlzIHRoZSB2aWV3IGZvciB0aGUgJ0VuZXJneScgc2NyZWVuLlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFZCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5pbXBvcnQgR2FzUHJvcGVydGllc0NvbnN0YW50cyBmcm9tICcuLi8uLi9jb21tb24vR2FzUHJvcGVydGllc0NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBJZGVhbEdhc0xhd1NjcmVlblZpZXcgZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXcvSWRlYWxHYXNMYXdTY3JlZW5WaWV3LmpzJztcclxuaW1wb3J0IFBhcnRpY2xlc0FjY29yZGlvbkJveCBmcm9tICcuLi8uLi9jb21tb24vdmlldy9QYXJ0aWNsZXNBY2NvcmRpb25Cb3guanMnO1xyXG5pbXBvcnQgZ2FzUHJvcGVydGllcyBmcm9tICcuLi8uLi9nYXNQcm9wZXJ0aWVzLmpzJztcclxuaW1wb3J0IEVuZXJneU1vZGVsIGZyb20gJy4uL21vZGVsL0VuZXJneU1vZGVsLmpzJztcclxuaW1wb3J0IEF2ZXJhZ2VTcGVlZEFjY29yZGlvbkJveCBmcm9tICcuL0F2ZXJhZ2VTcGVlZEFjY29yZGlvbkJveC5qcyc7XHJcbmltcG9ydCBFbmVyZ3lUb29sc1BhbmVsIGZyb20gJy4vRW5lcmd5VG9vbHNQYW5lbC5qcyc7XHJcbmltcG9ydCBFbmVyZ3lWaWV3UHJvcGVydGllcyBmcm9tICcuL0VuZXJneVZpZXdQcm9wZXJ0aWVzLmpzJztcclxuaW1wb3J0IEluamVjdGlvblRlbXBlcmF0dXJlQWNjb3JkaW9uQm94IGZyb20gJy4vSW5qZWN0aW9uVGVtcGVyYXR1cmVBY2NvcmRpb25Cb3guanMnO1xyXG5pbXBvcnQgS2luZXRpY0VuZXJneUFjY29yZGlvbkJveCBmcm9tICcuL0tpbmV0aWNFbmVyZ3lBY2NvcmRpb25Cb3guanMnO1xyXG5pbXBvcnQgU3BlZWRBY2NvcmRpb25Cb3ggZnJvbSAnLi9TcGVlZEFjY29yZGlvbkJveC5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgTEVGVF9QQU5FTF9XSURUSCA9IDIwNTsgLy8gd2lkdGggb2YgcGFuZWxzIG9uIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIGNvbnRhaW5lciwgZGV0ZXJtaW5lZCBlbXBpcmljYWxseVxyXG5jb25zdCBWQk9YX1NQQUNJTkcgPSAxMDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuZXJneVNjcmVlblZpZXcgZXh0ZW5kcyBJZGVhbEdhc0xhd1NjcmVlblZpZXcge1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IHZpZXdQcm9wZXJ0aWVzOiBFbmVyZ3lWaWV3UHJvcGVydGllcztcclxuICBwcml2YXRlIHJlYWRvbmx5IHNwZWVkQWNjb3JkaW9uQm94OiBTcGVlZEFjY29yZGlvbkJveDtcclxuICBwcml2YXRlIHJlYWRvbmx5IGtpbmV0aWNFbmVyZ3lBY2NvcmRpb25Cb3g6IEtpbmV0aWNFbmVyZ3lBY2NvcmRpb25Cb3g7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggbW9kZWw6IEVuZXJneU1vZGVsLCB0YW5kZW06IFRhbmRlbSApIHtcclxuXHJcbiAgICAvLyB2aWV3LXNwZWNpZmljIFByb3BlcnRpZXNcclxuICAgIGNvbnN0IHZpZXdQcm9wZXJ0aWVzID0gbmV3IEVuZXJneVZpZXdQcm9wZXJ0aWVzKCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAndmlld1Byb3BlcnRpZXMnICkgKTtcclxuXHJcbiAgICBzdXBlciggbW9kZWwsIHZpZXdQcm9wZXJ0aWVzLnBhcnRpY2xlVHlwZVByb3BlcnR5LCB2aWV3UHJvcGVydGllcy53aWR0aFZpc2libGVQcm9wZXJ0eSwgdGFuZGVtICk7XHJcblxyXG4gICAgLy8gQXZlcmFnZSBTcGVlZFxyXG4gICAgY29uc3QgYXZlcmFnZVNwZWVkQWNjb3JkaW9uQm94ID0gbmV3IEF2ZXJhZ2VTcGVlZEFjY29yZGlvbkJveChcclxuICAgICAgbW9kZWwuYXZlcmFnZVNwZWVkTW9kZWwuaGVhdnlBdmVyYWdlU3BlZWRQcm9wZXJ0eSxcclxuICAgICAgbW9kZWwuYXZlcmFnZVNwZWVkTW9kZWwubGlnaHRBdmVyYWdlU3BlZWRQcm9wZXJ0eSxcclxuICAgICAgbW9kZWwubW9kZWxWaWV3VHJhbnNmb3JtLCB7XHJcbiAgICAgICAgZXhwYW5kZWRQcm9wZXJ0eTogdmlld1Byb3BlcnRpZXMuYXZlcmFnZVNwZWVkRXhwYW5kZWRQcm9wZXJ0eSxcclxuICAgICAgICBmaXhlZFdpZHRoOiBMRUZUX1BBTkVMX1dJRFRILFxyXG4gICAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2F2ZXJhZ2VTcGVlZEFjY29yZGlvbkJveCcgKVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgLy8gU3BlZWQgYWNjb3JkaW9uIGJveCB3aXRoIGhpc3RvZ3JhbSBhbmQgcmVsYXRlZCBjb250cm9sc1xyXG4gICAgY29uc3Qgc3BlZWRBY2NvcmRpb25Cb3ggPSBuZXcgU3BlZWRBY2NvcmRpb25Cb3goIG1vZGVsLmhpc3RvZ3JhbXNNb2RlbCwgbW9kZWwubW9kZWxWaWV3VHJhbnNmb3JtLCB7XHJcbiAgICAgIGV4cGFuZGVkUHJvcGVydHk6IHZpZXdQcm9wZXJ0aWVzLnNwZWVkRXhwYW5kZWRQcm9wZXJ0eSxcclxuICAgICAgZml4ZWRXaWR0aDogTEVGVF9QQU5FTF9XSURUSCxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnc3BlZWRBY2NvcmRpb25Cb3gnIClcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBLaW5ldGljIEVuZXJneSBhY2NvcmRpb24gYm94IHdpdGggaGlzdG9ncmFtXHJcbiAgICBjb25zdCBraW5ldGljRW5lcmd5QWNjb3JkaW9uQm94ID0gbmV3IEtpbmV0aWNFbmVyZ3lBY2NvcmRpb25Cb3goIG1vZGVsLmhpc3RvZ3JhbXNNb2RlbCwgbW9kZWwubW9kZWxWaWV3VHJhbnNmb3JtLCB7XHJcbiAgICAgIGV4cGFuZGVkUHJvcGVydHk6IHZpZXdQcm9wZXJ0aWVzLmtpbmV0aWNFbmVyZ3lFeHBhbmRlZFByb3BlcnR5LFxyXG4gICAgICBmaXhlZFdpZHRoOiBMRUZUX1BBTkVMX1dJRFRILFxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdraW5ldGljRW5lcmd5QWNjb3JkaW9uQm94JyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gUGFuZWxzIG9uIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIHNjcmVlblxyXG4gICAgY29uc3QgbGVmdFBhbmVscyA9IG5ldyBWQm94KCB7XHJcbiAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgYXZlcmFnZVNwZWVkQWNjb3JkaW9uQm94LFxyXG4gICAgICAgIHNwZWVkQWNjb3JkaW9uQm94LFxyXG4gICAgICAgIGtpbmV0aWNFbmVyZ3lBY2NvcmRpb25Cb3hcclxuICAgICAgXSxcclxuICAgICAgYWxpZ246ICdsZWZ0JyxcclxuICAgICAgc3BhY2luZzogVkJPWF9TUEFDSU5HLFxyXG4gICAgICB0b3A6IEdhc1Byb3BlcnRpZXNDb25zdGFudHMuU0NSRUVOX1ZJRVdfWV9NQVJHSU4sXHJcbiAgICAgIGxlZnQ6IHRoaXMubGF5b3V0Qm91bmRzLmxlZnQgKyBHYXNQcm9wZXJ0aWVzQ29uc3RhbnRzLlNDUkVFTl9WSUVXX1hfTUFSR0lOXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gVG9vbHMgcGFuZWxcclxuICAgIGNvbnN0IHRvb2xzUGFuZWwgPSBuZXcgRW5lcmd5VG9vbHNQYW5lbChcclxuICAgICAgdmlld1Byb3BlcnRpZXMud2lkdGhWaXNpYmxlUHJvcGVydHksXHJcbiAgICAgIG1vZGVsLnN0b3B3YXRjaC5pc1Zpc2libGVQcm9wZXJ0eSwge1xyXG4gICAgICAgIGZpeGVkV2lkdGg6IEdhc1Byb3BlcnRpZXNDb25zdGFudHMuUklHSFRfUEFORUxfV0lEVEgsXHJcbiAgICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAndG9vbHNQYW5lbCcgKVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgLy8gUGFydGljbGVzIGFjY29yZGlvbiBib3hcclxuICAgIGNvbnN0IHBhcnRpY2xlc0FjY29yZGlvbkJveCA9IG5ldyBQYXJ0aWNsZXNBY2NvcmRpb25Cb3goXHJcbiAgICAgIG1vZGVsLnBhcnRpY2xlU3lzdGVtLm51bWJlck9mSGVhdnlQYXJ0aWNsZXNQcm9wZXJ0eSxcclxuICAgICAgbW9kZWwucGFydGljbGVTeXN0ZW0ubnVtYmVyT2ZMaWdodFBhcnRpY2xlc1Byb3BlcnR5LFxyXG4gICAgICBtb2RlbC5tb2RlbFZpZXdUcmFuc2Zvcm0sIHtcclxuICAgICAgICBjb2xsaXNpb25zRW5hYmxlZFByb3BlcnR5OiBtb2RlbC5jb2xsaXNpb25EZXRlY3Rvci5wYXJ0aWNsZVBhcnRpY2xlQ29sbGlzaW9uc0VuYWJsZWRQcm9wZXJ0eSxcclxuICAgICAgICBleHBhbmRlZFByb3BlcnR5OiB2aWV3UHJvcGVydGllcy5wYXJ0aWNsZXNFeHBhbmRlZFByb3BlcnR5LFxyXG4gICAgICAgIGZpeGVkV2lkdGg6IEdhc1Byb3BlcnRpZXNDb25zdGFudHMuUklHSFRfUEFORUxfV0lEVEgsXHJcbiAgICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncGFydGljbGVzQWNjb3JkaW9uQm94JyApXHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAvLyBJbmplY3Rpb24gVGVtcGVyYXR1cmUgYWNjb3JkaW9uIGJveFxyXG4gICAgY29uc3QgaW5qZWN0aW9uVGVtcGVyYXR1cmVBY2NvcmRpb25Cb3ggPSBuZXcgSW5qZWN0aW9uVGVtcGVyYXR1cmVBY2NvcmRpb25Cb3goXHJcbiAgICAgIG1vZGVsLnRlbXBlcmF0dXJlTW9kZWwuY29udHJvbFRlbXBlcmF0dXJlRW5hYmxlZFByb3BlcnR5LFxyXG4gICAgICBtb2RlbC50ZW1wZXJhdHVyZU1vZGVsLmluaXRpYWxUZW1wZXJhdHVyZVByb3BlcnR5LCB7XHJcbiAgICAgICAgZXhwYW5kZWRQcm9wZXJ0eTogdmlld1Byb3BlcnRpZXMuaW5qZWN0aW9uVGVtcGVyYXR1cmVFeHBhbmRlZFByb3BlcnR5LFxyXG4gICAgICAgIGZpeGVkV2lkdGg6IEdhc1Byb3BlcnRpZXNDb25zdGFudHMuUklHSFRfUEFORUxfV0lEVEgsXHJcbiAgICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnaW5qZWN0aW9uVGVtcGVyYXR1cmVBY2NvcmRpb25Cb3gnIClcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBQYW5lbHMgb24gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIHNjcmVlblxyXG4gICAgY29uc3QgcmlnaHRQYW5lbHMgPSBuZXcgVkJveCgge1xyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIHRvb2xzUGFuZWwsXHJcbiAgICAgICAgcGFydGljbGVzQWNjb3JkaW9uQm94LFxyXG4gICAgICAgIGluamVjdGlvblRlbXBlcmF0dXJlQWNjb3JkaW9uQm94XHJcbiAgICAgIF0sXHJcbiAgICAgIGFsaWduOiAnbGVmdCcsXHJcbiAgICAgIHNwYWNpbmc6IFZCT1hfU1BBQ0lORyxcclxuICAgICAgcmlnaHQ6IHRoaXMubGF5b3V0Qm91bmRzLnJpZ2h0IC0gR2FzUHJvcGVydGllc0NvbnN0YW50cy5TQ1JFRU5fVklFV19YX01BUkdJTixcclxuICAgICAgdG9wOiB0aGlzLmxheW91dEJvdW5kcy50b3AgKyBHYXNQcm9wZXJ0aWVzQ29uc3RhbnRzLlNDUkVFTl9WSUVXX1lfTUFSR0lOXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gUGFuZWxzIGJlaGluZCBzdXBlcmNsYXNzIFVJIGNvbXBvbmVudHMgbGlrZSB0aGUgc3RvcHdhdGNoXHJcbiAgICB0aGlzLmFkZENoaWxkKCBsZWZ0UGFuZWxzICk7XHJcbiAgICBsZWZ0UGFuZWxzLm1vdmVUb0JhY2soKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHJpZ2h0UGFuZWxzICk7XHJcbiAgICByaWdodFBhbmVscy5tb3ZlVG9CYWNrKCk7XHJcblxyXG4gICAgdGhpcy52aWV3UHJvcGVydGllcyA9IHZpZXdQcm9wZXJ0aWVzO1xyXG4gICAgdGhpcy5zcGVlZEFjY29yZGlvbkJveCA9IHNwZWVkQWNjb3JkaW9uQm94O1xyXG4gICAgdGhpcy5raW5ldGljRW5lcmd5QWNjb3JkaW9uQm94ID0ga2luZXRpY0VuZXJneUFjY29yZGlvbkJveDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBkaXNwb3NlKCk6IHZvaWQge1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggZmFsc2UsICdkaXNwb3NlIGlzIG5vdCBzdXBwb3J0ZWQsIGV4aXN0cyBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBzaW0nICk7XHJcbiAgICBzdXBlci5kaXNwb3NlKCk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgcmVzZXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLnZpZXdQcm9wZXJ0aWVzLnJlc2V0KCk7XHJcbiAgICB0aGlzLnNwZWVkQWNjb3JkaW9uQm94LnJlc2V0KCk7XHJcbiAgICB0aGlzLmtpbmV0aWNFbmVyZ3lBY2NvcmRpb25Cb3gucmVzZXQoKTtcclxuICAgIHN1cGVyLnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcblxyXG5nYXNQcm9wZXJ0aWVzLnJlZ2lzdGVyKCAnRW5lcmd5U2NyZWVuVmlldycsIEVuZXJneVNjcmVlblZpZXcgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBU0EsSUFBSSxRQUFRLG1DQUFtQztBQUV4RCxPQUFPQyxzQkFBc0IsTUFBTSx3Q0FBd0M7QUFDM0UsT0FBT0MscUJBQXFCLE1BQU0sNENBQTRDO0FBQzlFLE9BQU9DLHFCQUFxQixNQUFNLDRDQUE0QztBQUM5RSxPQUFPQyxhQUFhLE1BQU0sd0JBQXdCO0FBRWxELE9BQU9DLHdCQUF3QixNQUFNLCtCQUErQjtBQUNwRSxPQUFPQyxnQkFBZ0IsTUFBTSx1QkFBdUI7QUFDcEQsT0FBT0Msb0JBQW9CLE1BQU0sMkJBQTJCO0FBQzVELE9BQU9DLGdDQUFnQyxNQUFNLHVDQUF1QztBQUNwRixPQUFPQyx5QkFBeUIsTUFBTSxnQ0FBZ0M7QUFDdEUsT0FBT0MsaUJBQWlCLE1BQU0sd0JBQXdCOztBQUV0RDtBQUNBLE1BQU1DLGdCQUFnQixHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQzlCLE1BQU1DLFlBQVksR0FBRyxFQUFFO0FBRXZCLGVBQWUsTUFBTUMsZ0JBQWdCLFNBQVNYLHFCQUFxQixDQUFDO0VBTTNEWSxXQUFXQSxDQUFFQyxLQUFrQixFQUFF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