// Copyright 2017-2022, University of Colorado Boulder

/**
 * View of the wire, includes dots that depict the level of resistivity
 *
 * @author Vasily Shakhov (Mlearner)
 * @author Anton Ulyanov (Mlearner)
 * @author John Blanco (PhET Interactive Simulations)
 */

import Multilink from '../../../../axon/js/Multilink.js';
import Utils from '../../../../dot/js/Utils.js';
import { Shape } from '../../../../kite/js/imports.js';
import platform from '../../../../phet-core/js/platform.js';
import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
import { LinearGradient, Node, Path } from '../../../../scenery/js/imports.js';
import resistanceInAWire from '../../resistanceInAWire.js';
import ResistanceInAWireStrings from '../../ResistanceInAWireStrings.js';
import ResistanceInAWireConstants from '../ResistanceInAWireConstants.js';
import DotsCanvasNode from './DotsCanvasNode.js';
import WireShapeConstants from './WireShapeConstants.js';
const wireDescriptionPatternString = ResistanceInAWireStrings.a11y.wire.wireDescriptionPattern;
class WireNode extends Node {
  /**
   * The position is set using center values since this can grow or shrink in width and height as the area and length of
   * the wire changes.
   *
   * @param {ResistanceInAWireModel} model
   * @param {Tandem} tandem
   * @param {Object} [options]
   */
  constructor(model, tandem, options) {
    super({
      tandem: tandem,
      // pdom
      tagName: 'div',
      labelTagName: 'h3',
      labelContent: 'The Wire'
    });

    // @private {ResistanceInAWireModel}
    this.model = model;

    // See https://github.com/phetsims/resistance-in-a-wire/issues/158
    const wireBodyRenderer = platform.android ? 'canvas' : null;

    // Body of the wire
    const wireBody = new Path(null, {
      stroke: 'black',
      tandem: tandem.createTandem('wireBody'),
      renderer: wireBodyRenderer
    });

    // Cap/end of the wire
    const wireEnd = new Path(null, {
      stroke: 'black',
      fill: '#E8B282',
      tandem: tandem.createTandem('wireEnd'),
      renderer: wireBodyRenderer
    });
    this.addChild(wireBody);
    this.addChild(wireEnd);

    // all dots representing resistivity
    const dotsNode = new DotsCanvasNode(model);
    this.addChild(dotsNode);

    // Update the resistor on change. No need to unlink, as it is present for the lifetime of the sim.
    Multilink.multilink([model.areaProperty, model.lengthProperty, model.resistivityProperty], (area, length, resistivity) => {
      // Height of the wire in view coordinates
      const height = WireShapeConstants.areaToHeight(area);

      // Width of the wire (as measured from the top of the wire, that is excluding the rounding bits in the middle).
      const width = WireShapeConstants.lengthToWidth.evaluate(length);

      // Set the (face) body shape of the wire.
      // Recall that (zero,zero) is defined as the center of the wire.
      wireBody.shape = new Shape().moveTo(-width / 2, height / 2).horizontalLineToRelative(width).ellipticalArc(width / 2, 0, WireShapeConstants.PERSPECTIVE_FACTOR * height / 2, height / 2, 0, Math.PI / 2, 3 * Math.PI / 2, true).horizontalLineToRelative(-width);

      // Set the cap end of the wire
      wireEnd.shape = Shape.ellipse(-width / 2, 0, height * WireShapeConstants.PERSPECTIVE_FACTOR / 2, height / 2);

      // Set the gradient on the wire to make it look more 3D.
      wireBody.fill = new LinearGradient(0, height / 2, 0, -height / 2).addColorStop(0, '#8C4828').addColorStop(0.5, '#E8B282').addColorStop(0.65, '#FCF5EE').addColorStop(0.8, '#F8E8D9').addColorStop(1, '#8C4828');

      // redraw the dots representing resistivity
      dotsNode.invalidatePaint();
      this.descriptionContent = this.getWireDescription();
    });
    this.mutate(options);
  }

  /**
   * @private
   * @returns {string}
   */
  getWireDescription() {
    const lengthValue = this.model.lengthProperty.get();
    const areaValue = this.model.areaProperty.get();
    const resistivityValue = this.model.resistivityProperty.get();
    const lengthDescription = ResistanceInAWireConstants.getValueDescriptionFromMap(lengthValue, ResistanceInAWireConstants.LENGTH_TO_DESCRIPTION_MAP);
    const areaDescription = ResistanceInAWireConstants.getValueDescriptionFromMap(areaValue, ResistanceInAWireConstants.AREA_TO_DESCRIPTION_MAP);
    const resistivityDescription = ResistanceInAWireConstants.getValueDescriptionFromMap(resistivityValue, ResistanceInAWireConstants.RESISTIVITY_TO_DESCRIPTION_MAP);
    return StringUtils.fillIn(wireDescriptionPatternString, {
      length: lengthDescription,
      thickness: areaDescription,
      impurities: resistivityDescription,
      resistance: Utils.toFixed(this.model.resistanceProperty.get(), ResistanceInAWireConstants.getResistanceDecimals(this.model.resistanceProperty.get()))
    });
  }
}
resistanceInAWire.register('WireNode', WireNode);
export default WireNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNdWx0aWxpbmsiLCJVdGlscyIsIlNoYXBlIiwicGxhdGZvcm0iLCJTdHJpbmdVdGlscyIsIkxpbmVhckdyYWRpZW50IiwiTm9kZSIsIlBhdGgiLCJyZXNpc3RhbmNlSW5BV2lyZSIsIlJlc2lzdGFuY2VJbkFXaXJlU3RyaW5ncyIsIlJlc2lzdGFuY2VJbkFXaXJlQ29uc3RhbnRzIiwiRG90c0NhbnZhc05vZGUiLCJXaXJlU2hhcGVDb25zdGFudHMiLCJ3aXJlRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nIiwiYTExeSIsIndpcmUiLCJ3aXJlRGVzY3JpcHRpb25QYXR0ZXJuIiwiV2lyZU5vZGUiLCJjb25zdHJ1Y3RvciIsIm1vZGVsIiwidGFuZGVtIiwib3B0aW9ucyIsInRhZ05hbWUiLCJsYWJlbFRhZ05hbWUiLCJsYWJlbENvbnRlbnQiLCJ3aXJlQm9keVJlbmRlcmVyIiwiYW5kcm9pZCIsIndpcmVCb2R5Iiwic3Ryb2tlIiwiY3JlYXRlVGFuZGVtIiwicmVuZGVyZXIiLCJ3aXJlRW5kIiwiZmlsbCIsImFkZENoaWxkIiwiZG90c05vZGUiLCJtdWx0aWxpbmsiLCJhcmVhUHJvcGVydHkiLCJsZW5ndGhQcm9wZXJ0eSIsInJlc2lzdGl2aXR5UHJvcGVydHkiLCJhcmVhIiwibGVuZ3RoIiwicmVzaXN0aXZpdHkiLCJoZWlnaHQiLCJhcmVhVG9IZWlnaHQiLCJ3aWR0aCIsImxlbmd0aFRvV2lkdGgiLCJldmFsdWF0ZSIsInNoYXBlIiwibW92ZVRvIiwiaG9yaXpvbnRhbExpbmVUb1JlbGF0aXZlIiwiZWxsaXB0aWNhbEFyYyIsIlBFUlNQRUNUSVZFX0ZBQ1RPUiIsIk1hdGgiLCJQSSIsImVsbGlwc2UiLCJhZGRDb2xvclN0b3AiLCJpbnZhbGlkYXRlUGFpbnQiLCJkZXNjcmlwdGlvbkNvbnRlbnQiLCJnZXRXaXJlRGVzY3JpcHRpb24iLCJtdXRhdGUiLCJsZW5ndGhWYWx1ZSIsImdldCIsImFyZWFWYWx1ZSIsInJlc2lzdGl2aXR5VmFsdWUiLCJsZW5ndGhEZXNjcmlwdGlvbiIsImdldFZhbHVlRGVzY3JpcHRpb25Gcm9tTWFwIiwiTEVOR1RIX1RPX0RFU0NSSVBUSU9OX01BUCIsImFyZWFEZXNjcmlwdGlvbiIsIkFSRUFfVE9fREVTQ1JJUFRJT05fTUFQIiwicmVzaXN0aXZpdHlEZXNjcmlwdGlvbiIsIlJFU0lTVElWSVRZX1RPX0RFU0NSSVBUSU9OX01BUCIsImZpbGxJbiIsInRoaWNrbmVzcyIsImltcHVyaXRpZXMiLCJyZXNpc3RhbmNlIiwidG9GaXhlZCIsInJlc2lzdGFuY2VQcm9wZXJ0eSIsImdldFJlc2lzdGFuY2VEZWNpbWFscyIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiV2lyZU5vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTctMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogVmlldyBvZiB0aGUgd2lyZSwgaW5jbHVkZXMgZG90cyB0aGF0IGRlcGljdCB0aGUgbGV2ZWwgb2YgcmVzaXN0aXZpdHlcclxuICpcclxuICogQGF1dGhvciBWYXNpbHkgU2hha2hvdiAoTWxlYXJuZXIpXHJcbiAqIEBhdXRob3IgQW50b24gVWx5YW5vdiAoTWxlYXJuZXIpXHJcbiAqIEBhdXRob3IgSm9obiBCbGFuY28gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IE11bHRpbGluayBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL011bHRpbGluay5qcyc7XHJcbmltcG9ydCBVdGlscyBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVXRpbHMuanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvcGxhdGZvcm0uanMnO1xyXG5pbXBvcnQgU3RyaW5nVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vcGhldGNvbW1vbi9qcy91dGlsL1N0cmluZ1V0aWxzLmpzJztcclxuaW1wb3J0IHsgTGluZWFyR3JhZGllbnQsIE5vZGUsIFBhdGggfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgcmVzaXN0YW5jZUluQVdpcmUgZnJvbSAnLi4vLi4vcmVzaXN0YW5jZUluQVdpcmUuanMnO1xyXG5pbXBvcnQgUmVzaXN0YW5jZUluQVdpcmVTdHJpbmdzIGZyb20gJy4uLy4uL1Jlc2lzdGFuY2VJbkFXaXJlU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBSZXNpc3RhbmNlSW5BV2lyZUNvbnN0YW50cyBmcm9tICcuLi9SZXNpc3RhbmNlSW5BV2lyZUNvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBEb3RzQ2FudmFzTm9kZSBmcm9tICcuL0RvdHNDYW52YXNOb2RlLmpzJztcclxuaW1wb3J0IFdpcmVTaGFwZUNvbnN0YW50cyBmcm9tICcuL1dpcmVTaGFwZUNvbnN0YW50cy5qcyc7XHJcblxyXG5jb25zdCB3aXJlRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nID0gUmVzaXN0YW5jZUluQVdpcmVTdHJpbmdzLmExMXkud2lyZS53aXJlRGVzY3JpcHRpb25QYXR0ZXJuO1xyXG5cclxuY2xhc3MgV2lyZU5vZGUgZXh0ZW5kcyBOb2RlIHtcclxuICAvKipcclxuICAgKiBUaGUgcG9zaXRpb24gaXMgc2V0IHVzaW5nIGNlbnRlciB2YWx1ZXMgc2luY2UgdGhpcyBjYW4gZ3JvdyBvciBzaHJpbmsgaW4gd2lkdGggYW5kIGhlaWdodCBhcyB0aGUgYXJlYSBhbmQgbGVuZ3RoIG9mXHJcbiAgICogdGhlIHdpcmUgY2hhbmdlcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVzaXN0YW5jZUluQVdpcmVNb2RlbH0gbW9kZWxcclxuICAgKiBAcGFyYW0ge1RhbmRlbX0gdGFuZGVtXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBtb2RlbCwgdGFuZGVtLCBvcHRpb25zICkge1xyXG5cclxuICAgIHN1cGVyKCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLFxyXG5cclxuICAgICAgLy8gcGRvbVxyXG4gICAgICB0YWdOYW1lOiAnZGl2JyxcclxuICAgICAgbGFiZWxUYWdOYW1lOiAnaDMnLFxyXG4gICAgICBsYWJlbENvbnRlbnQ6ICdUaGUgV2lyZSdcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSB7UmVzaXN0YW5jZUluQVdpcmVNb2RlbH1cclxuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcclxuXHJcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3Jlc2lzdGFuY2UtaW4tYS13aXJlL2lzc3Vlcy8xNThcclxuICAgIGNvbnN0IHdpcmVCb2R5UmVuZGVyZXIgPSBwbGF0Zm9ybS5hbmRyb2lkID8gJ2NhbnZhcycgOiBudWxsO1xyXG5cclxuICAgIC8vIEJvZHkgb2YgdGhlIHdpcmVcclxuICAgIGNvbnN0IHdpcmVCb2R5ID0gbmV3IFBhdGgoIG51bGwsIHtcclxuICAgICAgc3Ryb2tlOiAnYmxhY2snLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICd3aXJlQm9keScgKSxcclxuICAgICAgcmVuZGVyZXI6IHdpcmVCb2R5UmVuZGVyZXJcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBDYXAvZW5kIG9mIHRoZSB3aXJlXHJcbiAgICBjb25zdCB3aXJlRW5kID0gbmV3IFBhdGgoIG51bGwsIHtcclxuICAgICAgc3Ryb2tlOiAnYmxhY2snLFxyXG4gICAgICBmaWxsOiAnI0U4QjI4MicsXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3dpcmVFbmQnICksXHJcbiAgICAgIHJlbmRlcmVyOiB3aXJlQm9keVJlbmRlcmVyXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5hZGRDaGlsZCggd2lyZUJvZHkgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHdpcmVFbmQgKTtcclxuXHJcbiAgICAvLyBhbGwgZG90cyByZXByZXNlbnRpbmcgcmVzaXN0aXZpdHlcclxuICAgIGNvbnN0IGRvdHNOb2RlID0gbmV3IERvdHNDYW52YXNOb2RlKCBtb2RlbCApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggZG90c05vZGUgKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIHJlc2lzdG9yIG9uIGNoYW5nZS4gTm8gbmVlZCB0byB1bmxpbmssIGFzIGl0IGlzIHByZXNlbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltLlxyXG4gICAgTXVsdGlsaW5rLm11bHRpbGluayggWyBtb2RlbC5hcmVhUHJvcGVydHksIG1vZGVsLmxlbmd0aFByb3BlcnR5LCBtb2RlbC5yZXNpc3Rpdml0eVByb3BlcnR5IF0sXHJcbiAgICAgICggYXJlYSwgbGVuZ3RoLCByZXNpc3Rpdml0eSApID0+IHtcclxuXHJcbiAgICAgICAgLy8gSGVpZ2h0IG9mIHRoZSB3aXJlIGluIHZpZXcgY29vcmRpbmF0ZXNcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSBXaXJlU2hhcGVDb25zdGFudHMuYXJlYVRvSGVpZ2h0KCBhcmVhICk7XHJcblxyXG4gICAgICAgIC8vIFdpZHRoIG9mIHRoZSB3aXJlIChhcyBtZWFzdXJlZCBmcm9tIHRoZSB0b3Agb2YgdGhlIHdpcmUsIHRoYXQgaXMgZXhjbHVkaW5nIHRoZSByb3VuZGluZyBiaXRzIGluIHRoZSBtaWRkbGUpLlxyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gV2lyZVNoYXBlQ29uc3RhbnRzLmxlbmd0aFRvV2lkdGguZXZhbHVhdGUoIGxlbmd0aCApO1xyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIChmYWNlKSBib2R5IHNoYXBlIG9mIHRoZSB3aXJlLlxyXG4gICAgICAgIC8vIFJlY2FsbCB0aGF0ICh6ZXJvLHplcm8pIGlzIGRlZmluZWQgYXMgdGhlIGNlbnRlciBvZiB0aGUgd2lyZS5cclxuICAgICAgICB3aXJlQm9keS5zaGFwZSA9IG5ldyBTaGFwZSgpLm1vdmVUbyggLXdpZHRoIC8gMiwgaGVpZ2h0IC8gMiApXHJcbiAgICAgICAgICAuaG9yaXpvbnRhbExpbmVUb1JlbGF0aXZlKCB3aWR0aCApXHJcbiAgICAgICAgICAuZWxsaXB0aWNhbEFyYyggd2lkdGggLyAyLCAwLCBXaXJlU2hhcGVDb25zdGFudHMuUEVSU1BFQ1RJVkVfRkFDVE9SICogaGVpZ2h0IC8gMiwgaGVpZ2h0IC8gMiwgMCwgTWF0aC5QSSAvIDIsIDMgKiBNYXRoLlBJIC8gMiwgdHJ1ZSApXHJcbiAgICAgICAgICAuaG9yaXpvbnRhbExpbmVUb1JlbGF0aXZlKCAtd2lkdGggKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBjYXAgZW5kIG9mIHRoZSB3aXJlXHJcbiAgICAgICAgd2lyZUVuZC5zaGFwZSA9IFNoYXBlLmVsbGlwc2UoIC13aWR0aCAvIDIsIDAsIGhlaWdodCAqIFdpcmVTaGFwZUNvbnN0YW50cy5QRVJTUEVDVElWRV9GQUNUT1IgLyAyLCBoZWlnaHQgLyAyICk7XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgZ3JhZGllbnQgb24gdGhlIHdpcmUgdG8gbWFrZSBpdCBsb29rIG1vcmUgM0QuXHJcbiAgICAgICAgd2lyZUJvZHkuZmlsbCA9IG5ldyBMaW5lYXJHcmFkaWVudCggMCwgaGVpZ2h0IC8gMiwgMCwgLWhlaWdodCAvIDIgKVxyXG4gICAgICAgICAgLmFkZENvbG9yU3RvcCggMCwgJyM4QzQ4MjgnIClcclxuICAgICAgICAgIC5hZGRDb2xvclN0b3AoIDAuNSwgJyNFOEIyODInIClcclxuICAgICAgICAgIC5hZGRDb2xvclN0b3AoIDAuNjUsICcjRkNGNUVFJyApXHJcbiAgICAgICAgICAuYWRkQ29sb3JTdG9wKCAwLjgsICcjRjhFOEQ5JyApXHJcbiAgICAgICAgICAuYWRkQ29sb3JTdG9wKCAxLCAnIzhDNDgyOCcgKTtcclxuXHJcbiAgICAgICAgLy8gcmVkcmF3IHRoZSBkb3RzIHJlcHJlc2VudGluZyByZXNpc3Rpdml0eVxyXG4gICAgICAgIGRvdHNOb2RlLmludmFsaWRhdGVQYWludCgpO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uQ29udGVudCA9IHRoaXMuZ2V0V2lyZURlc2NyaXB0aW9uKCk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5tdXRhdGUoIG9wdGlvbnMgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZXRXaXJlRGVzY3JpcHRpb24oKSB7XHJcbiAgICBjb25zdCBsZW5ndGhWYWx1ZSA9IHRoaXMubW9kZWwubGVuZ3RoUHJvcGVydHkuZ2V0KCk7XHJcbiAgICBjb25zdCBhcmVhVmFsdWUgPSB0aGlzLm1vZGVsLmFyZWFQcm9wZXJ0eS5nZXQoKTtcclxuICAgIGNvbnN0IHJlc2lzdGl2aXR5VmFsdWUgPSB0aGlzLm1vZGVsLnJlc2lzdGl2aXR5UHJvcGVydHkuZ2V0KCk7XHJcblxyXG4gICAgY29uc3QgbGVuZ3RoRGVzY3JpcHRpb24gPSBSZXNpc3RhbmNlSW5BV2lyZUNvbnN0YW50cy5nZXRWYWx1ZURlc2NyaXB0aW9uRnJvbU1hcCggbGVuZ3RoVmFsdWUsIFJlc2lzdGFuY2VJbkFXaXJlQ29uc3RhbnRzLkxFTkdUSF9UT19ERVNDUklQVElPTl9NQVAgKTtcclxuICAgIGNvbnN0IGFyZWFEZXNjcmlwdGlvbiA9IFJlc2lzdGFuY2VJbkFXaXJlQ29uc3RhbnRzLmdldFZhbHVlRGVzY3JpcHRpb25Gcm9tTWFwKCBhcmVhVmFsdWUsIFJlc2lzdGFuY2VJbkFXaXJlQ29uc3RhbnRzLkFSRUFfVE9fREVTQ1JJUFRJT05fTUFQICk7XHJcbiAgICBjb25zdCByZXNpc3Rpdml0eURlc2NyaXB0aW9uID0gUmVzaXN0YW5jZUluQVdpcmVDb25zdGFudHMuZ2V0VmFsdWVEZXNjcmlwdGlvbkZyb21NYXAoIHJlc2lzdGl2aXR5VmFsdWUsIFJlc2lzdGFuY2VJbkFXaXJlQ29uc3RhbnRzLlJFU0lTVElWSVRZX1RPX0RFU0NSSVBUSU9OX01BUCApO1xyXG5cclxuICAgIHJldHVybiBTdHJpbmdVdGlscy5maWxsSW4oIHdpcmVEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmcsIHtcclxuICAgICAgbGVuZ3RoOiBsZW5ndGhEZXNjcmlwdGlvbixcclxuICAgICAgdGhpY2tuZXNzOiBhcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgIGltcHVyaXRpZXM6IHJlc2lzdGl2aXR5RGVzY3JpcHRpb24sXHJcbiAgICAgIHJlc2lzdGFuY2U6IFV0aWxzLnRvRml4ZWQoIHRoaXMubW9kZWwucmVzaXN0YW5jZVByb3BlcnR5LmdldCgpLCBSZXNpc3RhbmNlSW5BV2lyZUNvbnN0YW50cy5nZXRSZXNpc3RhbmNlRGVjaW1hbHMoIHRoaXMubW9kZWwucmVzaXN0YW5jZVByb3BlcnR5LmdldCgpICkgKVxyXG4gICAgfSApO1xyXG4gIH1cclxufVxyXG5cclxucmVzaXN0YW5jZUluQVdpcmUucmVnaXN0ZXIoICdXaXJlTm9kZScsIFdpcmVOb2RlICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBXaXJlTm9kZTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFNBQVMsTUFBTSxrQ0FBa0M7QUFDeEQsT0FBT0MsS0FBSyxNQUFNLDZCQUE2QjtBQUMvQyxTQUFTQyxLQUFLLFFBQVEsZ0NBQWdDO0FBQ3RELE9BQU9DLFFBQVEsTUFBTSxzQ0FBc0M7QUFDM0QsT0FBT0MsV0FBVyxNQUFNLCtDQUErQztBQUN2RSxTQUFTQyxjQUFjLEVBQUVDLElBQUksRUFBRUMsSUFBSSxRQUFRLG1DQUFtQztBQUM5RSxPQUFPQyxpQkFBaUIsTUFBTSw0QkFBNEI7QUFDMUQsT0FBT0Msd0JBQXdCLE1BQU0sbUNBQW1DO0FBQ3hFLE9BQU9DLDBCQUEwQixNQUFNLGtDQUFrQztBQUN6RSxPQUFPQyxjQUFjLE1BQU0scUJBQXFCO0FBQ2hELE9BQU9DLGtCQUFrQixNQUFNLHlCQUF5QjtBQUV4RCxNQUFNQyw0QkFBNEIsR0FBR0osd0JBQXdCLENBQUNLLElBQUksQ0FBQ0MsSUFBSSxDQUFDQyxzQkFBc0I7QUFFOUYsTUFBTUMsUUFBUSxTQUFTWCxJQUFJLENBQUM7RUFDMUI7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFWSxXQUFXQSxDQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFHO0lBRXBDLEtBQUssQ0FBRTtNQUNMRCxNQUFNLEVBQUVBLE1BQU07TUFFZDtNQUNBRSxPQUFPLEVBQUUsS0FBSztNQUNkQyxZQUFZLEVBQUUsSUFBSTtNQUNsQkMsWUFBWSxFQUFFO0lBQ2hCLENBQUUsQ0FBQzs7SUFFSDtJQUNBLElBQUksQ0FBQ0wsS0FBSyxHQUFHQSxLQUFLOztJQUVsQjtJQUNBLE1BQU1NLGdCQUFnQixHQUFHdEIsUUFBUSxDQUFDdUIsT0FBTyxHQUFHLFFBQVEsR0FBRyxJQUFJOztJQUUzRDtJQUNBLE1BQU1DLFFBQVEsR0FBRyxJQUFJcEIsSUFBSSxDQUFFLElBQUksRUFBRTtNQUMvQnFCLE1BQU0sRUFBRSxPQUFPO01BQ2ZSLE1BQU0sRUFBRUEsTUFBTSxDQUFDUyxZQUFZLENBQUUsVUFBVyxDQUFDO01BQ3pDQyxRQUFRLEVBQUVMO0lBQ1osQ0FBRSxDQUFDOztJQUVIO0lBQ0EsTUFBTU0sT0FBTyxHQUFHLElBQUl4QixJQUFJLENBQUUsSUFBSSxFQUFFO01BQzlCcUIsTUFBTSxFQUFFLE9BQU87TUFDZkksSUFBSSxFQUFFLFNBQVM7TUFDZlosTUFBTSxFQUFFQSxNQUFNLENBQUNTLFlBQVksQ0FBRSxTQUFVLENBQUM7TUFDeENDLFFBQVEsRUFBRUw7SUFDWixDQUFFLENBQUM7SUFFSCxJQUFJLENBQUNRLFFBQVEsQ0FBRU4sUUFBUyxDQUFDO0lBQ3pCLElBQUksQ0FBQ00sUUFBUSxDQUFFRixPQUFRLENBQUM7O0lBRXhCO0lBQ0EsTUFBTUcsUUFBUSxHQUFHLElBQUl2QixjQUFjLENBQUVRLEtBQU0sQ0FBQztJQUM1QyxJQUFJLENBQUNjLFFBQVEsQ0FBRUMsUUFBUyxDQUFDOztJQUV6QjtJQUNBbEMsU0FBUyxDQUFDbUMsU0FBUyxDQUFFLENBQUVoQixLQUFLLENBQUNpQixZQUFZLEVBQUVqQixLQUFLLENBQUNrQixjQUFjLEVBQUVsQixLQUFLLENBQUNtQixtQkFBbUIsQ0FBRSxFQUMxRixDQUFFQyxJQUFJLEVBQUVDLE1BQU0sRUFBRUMsV0FBVyxLQUFNO01BRS9CO01BQ0EsTUFBTUMsTUFBTSxHQUFHOUIsa0JBQWtCLENBQUMrQixZQUFZLENBQUVKLElBQUssQ0FBQzs7TUFFdEQ7TUFDQSxNQUFNSyxLQUFLLEdBQUdoQyxrQkFBa0IsQ0FBQ2lDLGFBQWEsQ0FBQ0MsUUFBUSxDQUFFTixNQUFPLENBQUM7O01BRWpFO01BQ0E7TUFDQWIsUUFBUSxDQUFDb0IsS0FBSyxHQUFHLElBQUk3QyxLQUFLLENBQUMsQ0FBQyxDQUFDOEMsTUFBTSxDQUFFLENBQUNKLEtBQUssR0FBRyxDQUFDLEVBQUVGLE1BQU0sR0FBRyxDQUFFLENBQUMsQ0FDMURPLHdCQUF3QixDQUFFTCxLQUFNLENBQUMsQ0FDakNNLGFBQWEsQ0FBRU4sS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUVoQyxrQkFBa0IsQ0FBQ3VDLGtCQUFrQixHQUFHVCxNQUFNLEdBQUcsQ0FBQyxFQUFFQSxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRVUsSUFBSSxDQUFDQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBR0QsSUFBSSxDQUFDQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUssQ0FBQyxDQUNwSUosd0JBQXdCLENBQUUsQ0FBQ0wsS0FBTSxDQUFDOztNQUVyQztNQUNBYixPQUFPLENBQUNnQixLQUFLLEdBQUc3QyxLQUFLLENBQUNvRCxPQUFPLENBQUUsQ0FBQ1YsS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUVGLE1BQU0sR0FBRzlCLGtCQUFrQixDQUFDdUMsa0JBQWtCLEdBQUcsQ0FBQyxFQUFFVCxNQUFNLEdBQUcsQ0FBRSxDQUFDOztNQUU5RztNQUNBZixRQUFRLENBQUNLLElBQUksR0FBRyxJQUFJM0IsY0FBYyxDQUFFLENBQUMsRUFBRXFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUNBLE1BQU0sR0FBRyxDQUFFLENBQUMsQ0FDaEVhLFlBQVksQ0FBRSxDQUFDLEVBQUUsU0FBVSxDQUFDLENBQzVCQSxZQUFZLENBQUUsR0FBRyxFQUFFLFNBQVUsQ0FBQyxDQUM5QkEsWUFBWSxDQUFFLElBQUksRUFBRSxTQUFVLENBQUMsQ0FDL0JBLFlBQVksQ0FBRSxHQUFHLEVBQUUsU0FBVSxDQUFDLENBQzlCQSxZQUFZLENBQUUsQ0FBQyxFQUFFLFNBQVUsQ0FBQzs7TUFFL0I7TUFDQXJCLFFBQVEsQ0FBQ3NCLGVBQWUsQ0FBQyxDQUFDO01BRTFCLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUcsSUFBSSxDQUFDQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3JELENBQ0YsQ0FBQztJQUVELElBQUksQ0FBQ0MsTUFBTSxDQUFFdEMsT0FBUSxDQUFDO0VBQ3hCOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0VBQ0VxQyxrQkFBa0JBLENBQUEsRUFBRztJQUNuQixNQUFNRSxXQUFXLEdBQUcsSUFBSSxDQUFDekMsS0FBSyxDQUFDa0IsY0FBYyxDQUFDd0IsR0FBRyxDQUFDLENBQUM7SUFDbkQsTUFBTUMsU0FBUyxHQUFHLElBQUksQ0FBQzNDLEtBQUssQ0FBQ2lCLFlBQVksQ0FBQ3lCLEdBQUcsQ0FBQyxDQUFDO0lBQy9DLE1BQU1FLGdCQUFnQixHQUFHLElBQUksQ0FBQzVDLEtBQUssQ0FBQ21CLG1CQUFtQixDQUFDdUIsR0FBRyxDQUFDLENBQUM7SUFFN0QsTUFBTUcsaUJBQWlCLEdBQUd0RCwwQkFBMEIsQ0FBQ3VELDBCQUEwQixDQUFFTCxXQUFXLEVBQUVsRCwwQkFBMEIsQ0FBQ3dELHlCQUEwQixDQUFDO0lBQ3BKLE1BQU1DLGVBQWUsR0FBR3pELDBCQUEwQixDQUFDdUQsMEJBQTBCLENBQUVILFNBQVMsRUFBRXBELDBCQUEwQixDQUFDMEQsdUJBQXdCLENBQUM7SUFDOUksTUFBTUMsc0JBQXNCLEdBQUczRCwwQkFBMEIsQ0FBQ3VELDBCQUEwQixDQUFFRixnQkFBZ0IsRUFBRXJELDBCQUEwQixDQUFDNEQsOEJBQStCLENBQUM7SUFFbkssT0FBT2xFLFdBQVcsQ0FBQ21FLE1BQU0sQ0FBRTFELDRCQUE0QixFQUFFO01BQ3ZEMkIsTUFBTSxFQUFFd0IsaUJBQWlCO01BQ3pCUSxTQUFTLEVBQUVMLGVBQWU7TUFDMUJNLFVBQVUsRUFBRUosc0JBQXNCO01BQ2xDSyxVQUFVLEVBQUV6RSxLQUFLLENBQUMwRSxPQUFPLENBQUUsSUFBSSxDQUFDeEQsS0FBSyxDQUFDeUQsa0JBQWtCLENBQUNmLEdBQUcsQ0FBQyxDQUFDLEVBQUVuRCwwQkFBMEIsQ0FBQ21FLHFCQUFxQixDQUFFLElBQUksQ0FBQzFELEtBQUssQ0FBQ3lELGtCQUFrQixDQUFDZixHQUFHLENBQUMsQ0FBRSxDQUFFO0lBQzFKLENBQUUsQ0FBQztFQUNMO0FBQ0Y7QUFFQXJELGlCQUFpQixDQUFDc0UsUUFBUSxDQUFFLFVBQVUsRUFBRTdELFFBQVMsQ0FBQztBQUVsRCxlQUFlQSxRQUFRIn0=