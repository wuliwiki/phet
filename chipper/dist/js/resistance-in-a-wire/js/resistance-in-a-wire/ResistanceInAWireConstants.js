// Copyright 2017-2022, University of Colorado Boulder

/**
 * Constants used in multiple locations within the 'Resistance in a Wire' simulation.
 *
 * @author Martin Veillette (Berea College)
 */

import Range from '../../../dot/js/Range.js';
import RangeWithValue from '../../../dot/js/RangeWithValue.js';
import Utils from '../../../dot/js/Utils.js';
import PhetFont from '../../../scenery-phet/js/PhetFont.js';
import resistanceInAWire from '../resistanceInAWire.js';
import ResistanceInAWireStrings from '../ResistanceInAWireStrings.js';
const muchMuchSmallerThanString = ResistanceInAWireStrings.a11y.equation.sizes.muchMuchSmallerThan;
const muchSmallerThanString = ResistanceInAWireStrings.a11y.equation.sizes.muchSmallerThan;
const slightlySmallerThanString = ResistanceInAWireStrings.a11y.equation.sizes.slightlySmallerThan;
const comparableToString = ResistanceInAWireStrings.a11y.equation.sizes.comparableTo;
const slightlyLargerThanString = ResistanceInAWireStrings.a11y.equation.sizes.slightlyLargerThan;
const muchLargerThanString = ResistanceInAWireStrings.a11y.equation.sizes.muchLargerThan;
const muchMuchLargerThanString = ResistanceInAWireStrings.a11y.equation.sizes.muchMuchLargerThan;
const extremelyShortString = ResistanceInAWireStrings.a11y.wire.extremelyShort;
const veryShortString = ResistanceInAWireStrings.a11y.wire.veryShort;
const shortString = ResistanceInAWireStrings.a11y.wire.short;
const ofMediumLengthString = ResistanceInAWireStrings.a11y.wire.ofMediumLength;
const longString = ResistanceInAWireStrings.a11y.wire.long;
const veryLongString = ResistanceInAWireStrings.a11y.wire.veryLong;
const extremelyLongString = ResistanceInAWireStrings.a11y.wire.extremelyLong;
const extremelyThinString = ResistanceInAWireStrings.a11y.wire.extremelyThin;
const veryThinString = ResistanceInAWireStrings.a11y.wire.veryThin;
const thinString = ResistanceInAWireStrings.a11y.wire.thin;
const ofMediumThicknessString = ResistanceInAWireStrings.a11y.wire.ofMediumThickness;
const thickString = ResistanceInAWireStrings.a11y.wire.thick;
const veryThickString = ResistanceInAWireStrings.a11y.wire.veryThick;
const extremelyThickString = ResistanceInAWireStrings.a11y.wire.extremelyThick;
const aTinyAmountOfImpuritiesString = ResistanceInAWireStrings.a11y.wire.aTinyAmountOfImpurities;
const aVerySmallAmountOfImpuritiesString = ResistanceInAWireStrings.a11y.wire.aVerySmallAmountOfImpurities;
const aSmallAmountOfImpuritiesString = ResistanceInAWireStrings.a11y.wire.aSmallAmountOfImpurities;
const aMediumAmountOfImpuritiesString = ResistanceInAWireStrings.a11y.wire.aMediumAmountOfImpurities;
const aLargeAmountOfImpuritiesString = ResistanceInAWireStrings.a11y.wire.aLargeAmountOfImpurities;
const aVeryLargeAmountOfImpuritiesString = ResistanceInAWireStrings.a11y.wire.aVeryLargeAmountOfImpurities;
const aHugeAmountOfImpuritiesString = ResistanceInAWireStrings.a11y.wire.aHugeAmountOfImpurities;

// constants
const RESISTIVITY_RANGE = new RangeWithValue(0.01, 1.00, 0.5); // in Ohm * cm
const LENGTH_RANGE = new RangeWithValue(0.1, 20, 10); // in cm
const AREA_RANGE = new RangeWithValue(0.01, 15, 7.5); // in cm^2

const LENGTH_DESCRIPTIONS = [extremelyShortString, veryShortString, shortString, ofMediumLengthString, longString, veryLongString, extremelyLongString];
const AREA_DESCRIPTIONS = [extremelyThinString, veryThinString, thinString, ofMediumThicknessString, thickString, veryThickString, extremelyThickString];
const RESISTIVITY_DESCRIPTIONS = [aTinyAmountOfImpuritiesString, aVerySmallAmountOfImpuritiesString, aSmallAmountOfImpuritiesString, aMediumAmountOfImpuritiesString, aLargeAmountOfImpuritiesString, aVeryLargeAmountOfImpuritiesString, aHugeAmountOfImpuritiesString];
const RELATIVE_SIZE_STRINGS = [muchMuchSmallerThanString, muchSmallerThanString, slightlySmallerThanString, comparableToString, slightlyLargerThanString, muchLargerThanString, muchMuchLargerThanString];

/**
 * Generate a map from physical value to accessible descripton. Each described range has a length of
 * valueRange / descriptionArray.length
 *
 * @param {[].string} descriptionArray
 * @param {RangeWithValue} valueRange
 *
 * @returns {[type]} [description]
 */
const generateDescriptionMap = (descriptionArray, valueRange) => {
  const map = {};
  let minValue = valueRange.min;
  for (let i = 0; i < descriptionArray.length; i++) {
    const nextMin = minValue + valueRange.getLength() / descriptionArray.length;
    map[i] = {};
    map[i].description = descriptionArray[i];
    map[i].range = new Range(minValue, nextMin);

    // correct for any precision issues
    if (i === descriptionArray.length - 1) {
      map[descriptionArray.length - 1].range = new Range(minValue, valueRange.max);
    }
    minValue = nextMin;
  }
  return map;
};
const LENGTH_TO_DESCRIPTION_MAP = generateDescriptionMap(LENGTH_DESCRIPTIONS, LENGTH_RANGE);
const AREA_TO_DESCRIPTION_MAP = generateDescriptionMap(AREA_DESCRIPTIONS, AREA_RANGE);
const RESISTIVITY_TO_DESCRIPTION_MAP = generateDescriptionMap(RESISTIVITY_DESCRIPTIONS, RESISTIVITY_RANGE);
const ResistanceInAWireConstants = {
  // colors
  BLUE_COLOR: '#0f0ffb',
  BLACK_COLOR: '#000',
  RED_COLOR: '#F22',
  WHITE_COLOR: '#FFF',
  // formula
  FONT_FAMILY: 'Times New Roman',
  // range for sliders with default values
  RESISTIVITY_RANGE: RESISTIVITY_RANGE,
  LENGTH_RANGE: LENGTH_RANGE,
  AREA_RANGE: AREA_RANGE,
  // resistance range, based on formula R = ( resistivity * length ) / area
  RESISTANCE_RANGE: new Range(RESISTIVITY_RANGE.min * LENGTH_RANGE.min / AREA_RANGE.max, RESISTIVITY_RANGE.max * LENGTH_RANGE.max / AREA_RANGE.min),
  // control panel
  SLIDER_WIDTH: 70,
  // slider unit
  THUMB_HEIGHT: 32,
  // Empirically determined.
  SLIDER_HEIGHT: 230,
  SYMBOL_FONT: new PhetFont({
    family: 'Times New Roman',
    size: 60
  }),
  NAME_FONT: new PhetFont(16),
  READOUT_FONT: new PhetFont(28),
  UNIT_FONT: new PhetFont(28),
  // arrow node
  TAIL_LENGTH: 140,
  HEAD_HEIGHT: 45,
  HEAD_WIDTH: 30,
  TAIL_WIDTH: 10,
  // precision of values for view
  SLIDER_READOUT_DECIMALS: 2,
  getResistanceDecimals(resistance) {
    return resistance >= 100 ? 0 :
    // Over 100, show no decimal points, like 102
    resistance >= 10 ? 1 :
    // between 10.0 and 99.9, show 2 decimal points
    resistance < 0.001 ? 4 :
    // when less than 0.001, show 4 decimals, see #125
    resistance < 1 ? 3 :
    // when less than 1, show 3 decimal places, see #125
    2; // Numbers less than 10 show 2 decimal points, like 8.35
  },

  // maps from physical value to description
  LENGTH_TO_DESCRIPTION_MAP: LENGTH_TO_DESCRIPTION_MAP,
  AREA_TO_DESCRIPTION_MAP: AREA_TO_DESCRIPTION_MAP,
  RESISTIVITY_TO_DESCRIPTION_MAP: RESISTIVITY_TO_DESCRIPTION_MAP,
  RELATIVE_SIZE_STRINGS: RELATIVE_SIZE_STRINGS,
  // pdom - used to map relative scale magnitudes of the letters to relative size description
  RELATIVE_SIZE_MAP: {
    muchMuchSmaller: {
      description: muchMuchSmallerThanString,
      range: new Range(0, 0.1)
    },
    muchSmaller: {
      description: muchSmallerThanString,
      range: new Range(0.1, 0.4)
    },
    slightlySmaller: {
      description: slightlySmallerThanString,
      range: new Range(0.4, 0.7)
    },
    comparable: {
      description: comparableToString,
      range: new Range(0.7, 1.3)
    },
    slightlyLarger: {
      description: slightlyLargerThanString,
      range: new Range(1.3, 2)
    },
    muchLarger: {
      description: muchLargerThanString,
      range: new Range(2, 20)
    },
    muchMuchLarger: {
      description: muchMuchLargerThanString,
      range: new Range(20, Number.MAX_VALUE)
    }
  },
  /**
   * Get a description from a value map. The map must have keys with values that look like
   * {
   *   range: {Range},
   *   description: {string}
   * }
   *
   * We iterate over the map, and if the value falls in the range, the description string is returned.
   *
   * "comparable to" or
   * "much much larger than"
   *
   * @param {number} value
   * @returns {string}
   */
  getValueDescriptionFromMap(value, map) {
    // get described ranges of each value
    const keys = Object.keys(map);
    for (let i = 0; i < keys.length; i++) {
      const entry = map[keys[i]];
      if (entry.range.contains(value, map)) {
        return entry.description;
      }
    }
    throw new Error(`no description for value: ${value}`);
  },
  /**
   * Get a formatted value for resistance - depending on size of resistance, number of decimals will change. Used
   * for visual readout as well as for readable values in a11y.
   *
   * @param {number} value
   * @returns {string}
   */
  getFormattedResistanceValue(value) {
    return Utils.toFixed(value, this.getResistanceDecimals(value));
  }
};
resistanceInAWire.register('ResistanceInAWireConstants', ResistanceInAWireConstants);
export default ResistanceInAWireConstants;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSYW5nZSIsIlJhbmdlV2l0aFZhbHVlIiwiVXRpbHMiLCJQaGV0Rm9udCIsInJlc2lzdGFuY2VJbkFXaXJlIiwiUmVzaXN0YW5jZUluQVdpcmVTdHJpbmdzIiwibXVjaE11Y2hTbWFsbGVyVGhhblN0cmluZyIsImExMXkiLCJlcXVhdGlvbiIsInNpemVzIiwibXVjaE11Y2hTbWFsbGVyVGhhbiIsIm11Y2hTbWFsbGVyVGhhblN0cmluZyIsIm11Y2hTbWFsbGVyVGhhbiIsInNsaWdodGx5U21hbGxlclRoYW5TdHJpbmciLCJzbGlnaHRseVNtYWxsZXJUaGFuIiwiY29tcGFyYWJsZVRvU3RyaW5nIiwiY29tcGFyYWJsZVRvIiwic2xpZ2h0bHlMYXJnZXJUaGFuU3RyaW5nIiwic2xpZ2h0bHlMYXJnZXJUaGFuIiwibXVjaExhcmdlclRoYW5TdHJpbmciLCJtdWNoTGFyZ2VyVGhhbiIsIm11Y2hNdWNoTGFyZ2VyVGhhblN0cmluZyIsIm11Y2hNdWNoTGFyZ2VyVGhhbiIsImV4dHJlbWVseVNob3J0U3RyaW5nIiwid2lyZSIsImV4dHJlbWVseVNob3J0IiwidmVyeVNob3J0U3RyaW5nIiwidmVyeVNob3J0Iiwic2hvcnRTdHJpbmciLCJzaG9ydCIsIm9mTWVkaXVtTGVuZ3RoU3RyaW5nIiwib2ZNZWRpdW1MZW5ndGgiLCJsb25nU3RyaW5nIiwibG9uZyIsInZlcnlMb25nU3RyaW5nIiwidmVyeUxvbmciLCJleHRyZW1lbHlMb25nU3RyaW5nIiwiZXh0cmVtZWx5TG9uZyIsImV4dHJlbWVseVRoaW5TdHJpbmciLCJleHRyZW1lbHlUaGluIiwidmVyeVRoaW5TdHJpbmciLCJ2ZXJ5VGhpbiIsInRoaW5TdHJpbmciLCJ0aGluIiwib2ZNZWRpdW1UaGlja25lc3NTdHJpbmciLCJvZk1lZGl1bVRoaWNrbmVzcyIsInRoaWNrU3RyaW5nIiwidGhpY2siLCJ2ZXJ5VGhpY2tTdHJpbmciLCJ2ZXJ5VGhpY2siLCJleHRyZW1lbHlUaGlja1N0cmluZyIsImV4dHJlbWVseVRoaWNrIiwiYVRpbnlBbW91bnRPZkltcHVyaXRpZXNTdHJpbmciLCJhVGlueUFtb3VudE9mSW1wdXJpdGllcyIsImFWZXJ5U21hbGxBbW91bnRPZkltcHVyaXRpZXNTdHJpbmciLCJhVmVyeVNtYWxsQW1vdW50T2ZJbXB1cml0aWVzIiwiYVNtYWxsQW1vdW50T2ZJbXB1cml0aWVzU3RyaW5nIiwiYVNtYWxsQW1vdW50T2ZJbXB1cml0aWVzIiwiYU1lZGl1bUFtb3VudE9mSW1wdXJpdGllc1N0cmluZyIsImFNZWRpdW1BbW91bnRPZkltcHVyaXRpZXMiLCJhTGFyZ2VBbW91bnRPZkltcHVyaXRpZXNTdHJpbmciLCJhTGFyZ2VBbW91bnRPZkltcHVyaXRpZXMiLCJhVmVyeUxhcmdlQW1vdW50T2ZJbXB1cml0aWVzU3RyaW5nIiwiYVZlcnlMYXJnZUFtb3VudE9mSW1wdXJpdGllcyIsImFIdWdlQW1vdW50T2ZJbXB1cml0aWVzU3RyaW5nIiwiYUh1Z2VBbW91bnRPZkltcHVyaXRpZXMiLCJSRVNJU1RJVklUWV9SQU5HRSIsIkxFTkdUSF9SQU5HRSIsIkFSRUFfUkFOR0UiLCJMRU5HVEhfREVTQ1JJUFRJT05TIiwiQVJFQV9ERVNDUklQVElPTlMiLCJSRVNJU1RJVklUWV9ERVNDUklQVElPTlMiLCJSRUxBVElWRV9TSVpFX1NUUklOR1MiLCJnZW5lcmF0ZURlc2NyaXB0aW9uTWFwIiwiZGVzY3JpcHRpb25BcnJheSIsInZhbHVlUmFuZ2UiLCJtYXAiLCJtaW5WYWx1ZSIsIm1pbiIsImkiLCJsZW5ndGgiLCJuZXh0TWluIiwiZ2V0TGVuZ3RoIiwiZGVzY3JpcHRpb24iLCJyYW5nZSIsIm1heCIsIkxFTkdUSF9UT19ERVNDUklQVElPTl9NQVAiLCJBUkVBX1RPX0RFU0NSSVBUSU9OX01BUCIsIlJFU0lTVElWSVRZX1RPX0RFU0NSSVBUSU9OX01BUCIsIlJlc2lzdGFuY2VJbkFXaXJlQ29uc3RhbnRzIiwiQkxVRV9DT0xPUiIsIkJMQUNLX0NPTE9SIiwiUkVEX0NPTE9SIiwiV0hJVEVfQ09MT1IiLCJGT05UX0ZBTUlMWSIsIlJFU0lTVEFOQ0VfUkFOR0UiLCJTTElERVJfV0lEVEgiLCJUSFVNQl9IRUlHSFQiLCJTTElERVJfSEVJR0hUIiwiU1lNQk9MX0ZPTlQiLCJmYW1pbHkiLCJzaXplIiwiTkFNRV9GT05UIiwiUkVBRE9VVF9GT05UIiwiVU5JVF9GT05UIiwiVEFJTF9MRU5HVEgiLCJIRUFEX0hFSUdIVCIsIkhFQURfV0lEVEgiLCJUQUlMX1dJRFRIIiwiU0xJREVSX1JFQURPVVRfREVDSU1BTFMiLCJnZXRSZXNpc3RhbmNlRGVjaW1hbHMiLCJyZXNpc3RhbmNlIiwiUkVMQVRJVkVfU0laRV9NQVAiLCJtdWNoTXVjaFNtYWxsZXIiLCJtdWNoU21hbGxlciIsInNsaWdodGx5U21hbGxlciIsImNvbXBhcmFibGUiLCJzbGlnaHRseUxhcmdlciIsIm11Y2hMYXJnZXIiLCJtdWNoTXVjaExhcmdlciIsIk51bWJlciIsIk1BWF9WQUxVRSIsImdldFZhbHVlRGVzY3JpcHRpb25Gcm9tTWFwIiwidmFsdWUiLCJrZXlzIiwiT2JqZWN0IiwiZW50cnkiLCJjb250YWlucyIsIkVycm9yIiwiZ2V0Rm9ybWF0dGVkUmVzaXN0YW5jZVZhbHVlIiwidG9GaXhlZCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiUmVzaXN0YW5jZUluQVdpcmVDb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTctMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQ29uc3RhbnRzIHVzZWQgaW4gbXVsdGlwbGUgbG9jYXRpb25zIHdpdGhpbiB0aGUgJ1Jlc2lzdGFuY2UgaW4gYSBXaXJlJyBzaW11bGF0aW9uLlxyXG4gKlxyXG4gKiBAYXV0aG9yIE1hcnRpbiBWZWlsbGV0dGUgKEJlcmVhIENvbGxlZ2UpXHJcbiAqL1xyXG5cclxuaW1wb3J0IFJhbmdlIGZyb20gJy4uLy4uLy4uL2RvdC9qcy9SYW5nZS5qcyc7XHJcbmltcG9ydCBSYW5nZVdpdGhWYWx1ZSBmcm9tICcuLi8uLi8uLi9kb3QvanMvUmFuZ2VXaXRoVmFsdWUuanMnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XHJcbmltcG9ydCByZXNpc3RhbmNlSW5BV2lyZSBmcm9tICcuLi9yZXNpc3RhbmNlSW5BV2lyZS5qcyc7XHJcbmltcG9ydCBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MgZnJvbSAnLi4vUmVzaXN0YW5jZUluQVdpcmVTdHJpbmdzLmpzJztcclxuXHJcbmNvbnN0IG11Y2hNdWNoU21hbGxlclRoYW5TdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS5lcXVhdGlvbi5zaXplcy5tdWNoTXVjaFNtYWxsZXJUaGFuO1xyXG5jb25zdCBtdWNoU21hbGxlclRoYW5TdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS5lcXVhdGlvbi5zaXplcy5tdWNoU21hbGxlclRoYW47XHJcbmNvbnN0IHNsaWdodGx5U21hbGxlclRoYW5TdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS5lcXVhdGlvbi5zaXplcy5zbGlnaHRseVNtYWxsZXJUaGFuO1xyXG5jb25zdCBjb21wYXJhYmxlVG9TdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS5lcXVhdGlvbi5zaXplcy5jb21wYXJhYmxlVG87XHJcbmNvbnN0IHNsaWdodGx5TGFyZ2VyVGhhblN0cmluZyA9IFJlc2lzdGFuY2VJbkFXaXJlU3RyaW5ncy5hMTF5LmVxdWF0aW9uLnNpemVzLnNsaWdodGx5TGFyZ2VyVGhhbjtcclxuY29uc3QgbXVjaExhcmdlclRoYW5TdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS5lcXVhdGlvbi5zaXplcy5tdWNoTGFyZ2VyVGhhbjtcclxuY29uc3QgbXVjaE11Y2hMYXJnZXJUaGFuU3RyaW5nID0gUmVzaXN0YW5jZUluQVdpcmVTdHJpbmdzLmExMXkuZXF1YXRpb24uc2l6ZXMubXVjaE11Y2hMYXJnZXJUaGFuO1xyXG5jb25zdCBleHRyZW1lbHlTaG9ydFN0cmluZyA9IFJlc2lzdGFuY2VJbkFXaXJlU3RyaW5ncy5hMTF5LndpcmUuZXh0cmVtZWx5U2hvcnQ7XHJcbmNvbnN0IHZlcnlTaG9ydFN0cmluZyA9IFJlc2lzdGFuY2VJbkFXaXJlU3RyaW5ncy5hMTF5LndpcmUudmVyeVNob3J0O1xyXG5jb25zdCBzaG9ydFN0cmluZyA9IFJlc2lzdGFuY2VJbkFXaXJlU3RyaW5ncy5hMTF5LndpcmUuc2hvcnQ7XHJcbmNvbnN0IG9mTWVkaXVtTGVuZ3RoU3RyaW5nID0gUmVzaXN0YW5jZUluQVdpcmVTdHJpbmdzLmExMXkud2lyZS5vZk1lZGl1bUxlbmd0aDtcclxuY29uc3QgbG9uZ1N0cmluZyA9IFJlc2lzdGFuY2VJbkFXaXJlU3RyaW5ncy5hMTF5LndpcmUubG9uZztcclxuY29uc3QgdmVyeUxvbmdTdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS53aXJlLnZlcnlMb25nO1xyXG5jb25zdCBleHRyZW1lbHlMb25nU3RyaW5nID0gUmVzaXN0YW5jZUluQVdpcmVTdHJpbmdzLmExMXkud2lyZS5leHRyZW1lbHlMb25nO1xyXG5jb25zdCBleHRyZW1lbHlUaGluU3RyaW5nID0gUmVzaXN0YW5jZUluQVdpcmVTdHJpbmdzLmExMXkud2lyZS5leHRyZW1lbHlUaGluO1xyXG5jb25zdCB2ZXJ5VGhpblN0cmluZyA9IFJlc2lzdGFuY2VJbkFXaXJlU3RyaW5ncy5hMTF5LndpcmUudmVyeVRoaW47XHJcbmNvbnN0IHRoaW5TdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS53aXJlLnRoaW47XHJcbmNvbnN0IG9mTWVkaXVtVGhpY2tuZXNzU3RyaW5nID0gUmVzaXN0YW5jZUluQVdpcmVTdHJpbmdzLmExMXkud2lyZS5vZk1lZGl1bVRoaWNrbmVzcztcclxuY29uc3QgdGhpY2tTdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS53aXJlLnRoaWNrO1xyXG5jb25zdCB2ZXJ5VGhpY2tTdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS53aXJlLnZlcnlUaGljaztcclxuY29uc3QgZXh0cmVtZWx5VGhpY2tTdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS53aXJlLmV4dHJlbWVseVRoaWNrO1xyXG5jb25zdCBhVGlueUFtb3VudE9mSW1wdXJpdGllc1N0cmluZyA9IFJlc2lzdGFuY2VJbkFXaXJlU3RyaW5ncy5hMTF5LndpcmUuYVRpbnlBbW91bnRPZkltcHVyaXRpZXM7XHJcbmNvbnN0IGFWZXJ5U21hbGxBbW91bnRPZkltcHVyaXRpZXNTdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS53aXJlLmFWZXJ5U21hbGxBbW91bnRPZkltcHVyaXRpZXM7XHJcbmNvbnN0IGFTbWFsbEFtb3VudE9mSW1wdXJpdGllc1N0cmluZyA9IFJlc2lzdGFuY2VJbkFXaXJlU3RyaW5ncy5hMTF5LndpcmUuYVNtYWxsQW1vdW50T2ZJbXB1cml0aWVzO1xyXG5jb25zdCBhTWVkaXVtQW1vdW50T2ZJbXB1cml0aWVzU3RyaW5nID0gUmVzaXN0YW5jZUluQVdpcmVTdHJpbmdzLmExMXkud2lyZS5hTWVkaXVtQW1vdW50T2ZJbXB1cml0aWVzO1xyXG5jb25zdCBhTGFyZ2VBbW91bnRPZkltcHVyaXRpZXNTdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS53aXJlLmFMYXJnZUFtb3VudE9mSW1wdXJpdGllcztcclxuY29uc3QgYVZlcnlMYXJnZUFtb3VudE9mSW1wdXJpdGllc1N0cmluZyA9IFJlc2lzdGFuY2VJbkFXaXJlU3RyaW5ncy5hMTF5LndpcmUuYVZlcnlMYXJnZUFtb3VudE9mSW1wdXJpdGllcztcclxuY29uc3QgYUh1Z2VBbW91bnRPZkltcHVyaXRpZXNTdHJpbmcgPSBSZXNpc3RhbmNlSW5BV2lyZVN0cmluZ3MuYTExeS53aXJlLmFIdWdlQW1vdW50T2ZJbXB1cml0aWVzO1xyXG5cclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBSRVNJU1RJVklUWV9SQU5HRSA9IG5ldyBSYW5nZVdpdGhWYWx1ZSggMC4wMSwgMS4wMCwgMC41ICk7IC8vIGluIE9obSAqIGNtXHJcbmNvbnN0IExFTkdUSF9SQU5HRSA9IG5ldyBSYW5nZVdpdGhWYWx1ZSggMC4xLCAyMCwgMTAgKTsgLy8gaW4gY21cclxuY29uc3QgQVJFQV9SQU5HRSA9IG5ldyBSYW5nZVdpdGhWYWx1ZSggMC4wMSwgMTUsIDcuNSApOyAvLyBpbiBjbV4yXHJcblxyXG5jb25zdCBMRU5HVEhfREVTQ1JJUFRJT05TID0gWyBleHRyZW1lbHlTaG9ydFN0cmluZywgdmVyeVNob3J0U3RyaW5nLCBzaG9ydFN0cmluZywgb2ZNZWRpdW1MZW5ndGhTdHJpbmcsIGxvbmdTdHJpbmcsIHZlcnlMb25nU3RyaW5nLCBleHRyZW1lbHlMb25nU3RyaW5nIF07XHJcbmNvbnN0IEFSRUFfREVTQ1JJUFRJT05TID0gWyBleHRyZW1lbHlUaGluU3RyaW5nLCB2ZXJ5VGhpblN0cmluZywgdGhpblN0cmluZywgb2ZNZWRpdW1UaGlja25lc3NTdHJpbmcsIHRoaWNrU3RyaW5nLCB2ZXJ5VGhpY2tTdHJpbmcsIGV4dHJlbWVseVRoaWNrU3RyaW5nIF07XHJcbmNvbnN0IFJFU0lTVElWSVRZX0RFU0NSSVBUSU9OUyA9IFsgYVRpbnlBbW91bnRPZkltcHVyaXRpZXNTdHJpbmcsIGFWZXJ5U21hbGxBbW91bnRPZkltcHVyaXRpZXNTdHJpbmcsIGFTbWFsbEFtb3VudE9mSW1wdXJpdGllc1N0cmluZywgYU1lZGl1bUFtb3VudE9mSW1wdXJpdGllc1N0cmluZywgYUxhcmdlQW1vdW50T2ZJbXB1cml0aWVzU3RyaW5nLCBhVmVyeUxhcmdlQW1vdW50T2ZJbXB1cml0aWVzU3RyaW5nLCBhSHVnZUFtb3VudE9mSW1wdXJpdGllc1N0cmluZyBdO1xyXG5cclxuY29uc3QgUkVMQVRJVkVfU0laRV9TVFJJTkdTID0gWyBtdWNoTXVjaFNtYWxsZXJUaGFuU3RyaW5nLCBtdWNoU21hbGxlclRoYW5TdHJpbmcsIHNsaWdodGx5U21hbGxlclRoYW5TdHJpbmcsIGNvbXBhcmFibGVUb1N0cmluZywgc2xpZ2h0bHlMYXJnZXJUaGFuU3RyaW5nLCBtdWNoTGFyZ2VyVGhhblN0cmluZywgbXVjaE11Y2hMYXJnZXJUaGFuU3RyaW5nIF07XHJcblxyXG4vKipcclxuICogR2VuZXJhdGUgYSBtYXAgZnJvbSBwaHlzaWNhbCB2YWx1ZSB0byBhY2Nlc3NpYmxlIGRlc2NyaXB0b24uIEVhY2ggZGVzY3JpYmVkIHJhbmdlIGhhcyBhIGxlbmd0aCBvZlxyXG4gKiB2YWx1ZVJhbmdlIC8gZGVzY3JpcHRpb25BcnJheS5sZW5ndGhcclxuICpcclxuICogQHBhcmFtIHtbXS5zdHJpbmd9IGRlc2NyaXB0aW9uQXJyYXlcclxuICogQHBhcmFtIHtSYW5nZVdpdGhWYWx1ZX0gdmFsdWVSYW5nZVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5jb25zdCBnZW5lcmF0ZURlc2NyaXB0aW9uTWFwID0gKCBkZXNjcmlwdGlvbkFycmF5LCB2YWx1ZVJhbmdlICkgPT4ge1xyXG4gIGNvbnN0IG1hcCA9IHt9O1xyXG5cclxuICBsZXQgbWluVmFsdWUgPSB2YWx1ZVJhbmdlLm1pbjtcclxuICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBkZXNjcmlwdGlvbkFycmF5Lmxlbmd0aDsgaSsrICkge1xyXG5cclxuICAgIGNvbnN0IG5leHRNaW4gPSBtaW5WYWx1ZSArIHZhbHVlUmFuZ2UuZ2V0TGVuZ3RoKCkgLyBkZXNjcmlwdGlvbkFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICBtYXBbIGkgXSA9IHt9O1xyXG4gICAgbWFwWyBpIF0uZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbkFycmF5WyBpIF07XHJcbiAgICBtYXBbIGkgXS5yYW5nZSA9IG5ldyBSYW5nZSggbWluVmFsdWUsIG5leHRNaW4gKTtcclxuXHJcbiAgICAvLyBjb3JyZWN0IGZvciBhbnkgcHJlY2lzaW9uIGlzc3Vlc1xyXG4gICAgaWYgKCBpID09PSBkZXNjcmlwdGlvbkFycmF5Lmxlbmd0aCAtIDEgKSB7XHJcbiAgICAgIG1hcFsgZGVzY3JpcHRpb25BcnJheS5sZW5ndGggLSAxIF0ucmFuZ2UgPSBuZXcgUmFuZ2UoIG1pblZhbHVlLCB2YWx1ZVJhbmdlLm1heCApO1xyXG4gICAgfVxyXG5cclxuICAgIG1pblZhbHVlID0gbmV4dE1pbjtcclxuICB9XHJcblxyXG4gIHJldHVybiBtYXA7XHJcbn07XHJcblxyXG5jb25zdCBMRU5HVEhfVE9fREVTQ1JJUFRJT05fTUFQID0gZ2VuZXJhdGVEZXNjcmlwdGlvbk1hcCggTEVOR1RIX0RFU0NSSVBUSU9OUywgTEVOR1RIX1JBTkdFICk7XHJcbmNvbnN0IEFSRUFfVE9fREVTQ1JJUFRJT05fTUFQID0gZ2VuZXJhdGVEZXNjcmlwdGlvbk1hcCggQVJFQV9ERVNDUklQVElPTlMsIEFSRUFfUkFOR0UgKTtcclxuY29uc3QgUkVTSVNUSVZJVFlfVE9fREVTQ1JJUFRJT05fTUFQID0gZ2VuZXJhdGVEZXNjcmlwdGlvbk1hcCggUkVTSVNUSVZJVFlfREVTQ1JJUFRJT05TLCBSRVNJU1RJVklUWV9SQU5HRSApO1xyXG5cclxuY29uc3QgUmVzaXN0YW5jZUluQVdpcmVDb25zdGFudHMgPSB7XHJcblxyXG4gIC8vIGNvbG9yc1xyXG4gIEJMVUVfQ09MT1I6ICcjMGYwZmZiJyxcclxuICBCTEFDS19DT0xPUjogJyMwMDAnLFxyXG4gIFJFRF9DT0xPUjogJyNGMjInLFxyXG4gIFdISVRFX0NPTE9SOiAnI0ZGRicsXHJcblxyXG4gIC8vIGZvcm11bGFcclxuICBGT05UX0ZBTUlMWTogJ1RpbWVzIE5ldyBSb21hbicsXHJcblxyXG4gIC8vIHJhbmdlIGZvciBzbGlkZXJzIHdpdGggZGVmYXVsdCB2YWx1ZXNcclxuICBSRVNJU1RJVklUWV9SQU5HRTogUkVTSVNUSVZJVFlfUkFOR0UsXHJcbiAgTEVOR1RIX1JBTkdFOiBMRU5HVEhfUkFOR0UsXHJcbiAgQVJFQV9SQU5HRTogQVJFQV9SQU5HRSxcclxuXHJcbiAgLy8gcmVzaXN0YW5jZSByYW5nZSwgYmFzZWQgb24gZm9ybXVsYSBSID0gKCByZXNpc3Rpdml0eSAqIGxlbmd0aCApIC8gYXJlYVxyXG4gIFJFU0lTVEFOQ0VfUkFOR0U6IG5ldyBSYW5nZShcclxuICAgIFJFU0lTVElWSVRZX1JBTkdFLm1pbiAqIExFTkdUSF9SQU5HRS5taW4gLyBBUkVBX1JBTkdFLm1heCxcclxuICAgIFJFU0lTVElWSVRZX1JBTkdFLm1heCAqIExFTkdUSF9SQU5HRS5tYXggLyBBUkVBX1JBTkdFLm1pblxyXG4gICksXHJcblxyXG4gIC8vIGNvbnRyb2wgcGFuZWxcclxuICBTTElERVJfV0lEVEg6IDcwLFxyXG5cclxuICAvLyBzbGlkZXIgdW5pdFxyXG4gIFRIVU1CX0hFSUdIVDogMzIsICAvLyBFbXBpcmljYWxseSBkZXRlcm1pbmVkLlxyXG4gIFNMSURFUl9IRUlHSFQ6IDIzMCxcclxuICBTWU1CT0xfRk9OVDogbmV3IFBoZXRGb250KCB7IGZhbWlseTogJ1RpbWVzIE5ldyBSb21hbicsIHNpemU6IDYwIH0gKSxcclxuICBOQU1FX0ZPTlQ6IG5ldyBQaGV0Rm9udCggMTYgKSxcclxuICBSRUFET1VUX0ZPTlQ6IG5ldyBQaGV0Rm9udCggMjggKSxcclxuICBVTklUX0ZPTlQ6IG5ldyBQaGV0Rm9udCggMjggKSxcclxuXHJcbiAgLy8gYXJyb3cgbm9kZVxyXG4gIFRBSUxfTEVOR1RIOiAxNDAsXHJcbiAgSEVBRF9IRUlHSFQ6IDQ1LFxyXG4gIEhFQURfV0lEVEg6IDMwLFxyXG4gIFRBSUxfV0lEVEg6IDEwLFxyXG5cclxuICAvLyBwcmVjaXNpb24gb2YgdmFsdWVzIGZvciB2aWV3XHJcbiAgU0xJREVSX1JFQURPVVRfREVDSU1BTFM6IDIsXHJcbiAgZ2V0UmVzaXN0YW5jZURlY2ltYWxzKCByZXNpc3RhbmNlICkge1xyXG4gICAgcmV0dXJuIHJlc2lzdGFuY2UgPj0gMTAwID8gMCA6IC8vIE92ZXIgMTAwLCBzaG93IG5vIGRlY2ltYWwgcG9pbnRzLCBsaWtlIDEwMlxyXG4gICAgICAgICAgIHJlc2lzdGFuY2UgPj0gMTAgPyAxIDogLy8gYmV0d2VlbiAxMC4wIGFuZCA5OS45LCBzaG93IDIgZGVjaW1hbCBwb2ludHNcclxuICAgICAgICAgICByZXNpc3RhbmNlIDwgMC4wMDEgPyA0IDogLy8gd2hlbiBsZXNzIHRoYW4gMC4wMDEsIHNob3cgNCBkZWNpbWFscywgc2VlICMxMjVcclxuICAgICAgICAgICByZXNpc3RhbmNlIDwgMSA/IDMgOiAvLyB3aGVuIGxlc3MgdGhhbiAxLCBzaG93IDMgZGVjaW1hbCBwbGFjZXMsIHNlZSAjMTI1XHJcbiAgICAgICAgICAgMjsgLy8gTnVtYmVycyBsZXNzIHRoYW4gMTAgc2hvdyAyIGRlY2ltYWwgcG9pbnRzLCBsaWtlIDguMzVcclxuICB9LFxyXG5cclxuICAvLyBtYXBzIGZyb20gcGh5c2ljYWwgdmFsdWUgdG8gZGVzY3JpcHRpb25cclxuICBMRU5HVEhfVE9fREVTQ1JJUFRJT05fTUFQOiBMRU5HVEhfVE9fREVTQ1JJUFRJT05fTUFQLFxyXG4gIEFSRUFfVE9fREVTQ1JJUFRJT05fTUFQOiBBUkVBX1RPX0RFU0NSSVBUSU9OX01BUCxcclxuICBSRVNJU1RJVklUWV9UT19ERVNDUklQVElPTl9NQVA6IFJFU0lTVElWSVRZX1RPX0RFU0NSSVBUSU9OX01BUCxcclxuXHJcbiAgUkVMQVRJVkVfU0laRV9TVFJJTkdTOiBSRUxBVElWRV9TSVpFX1NUUklOR1MsXHJcblxyXG5cclxuICAvLyBwZG9tIC0gdXNlZCB0byBtYXAgcmVsYXRpdmUgc2NhbGUgbWFnbml0dWRlcyBvZiB0aGUgbGV0dGVycyB0byByZWxhdGl2ZSBzaXplIGRlc2NyaXB0aW9uXHJcbiAgUkVMQVRJVkVfU0laRV9NQVA6IHtcclxuICAgIG11Y2hNdWNoU21hbGxlcjoge1xyXG4gICAgICBkZXNjcmlwdGlvbjogbXVjaE11Y2hTbWFsbGVyVGhhblN0cmluZyxcclxuICAgICAgcmFuZ2U6IG5ldyBSYW5nZSggMCwgMC4xIClcclxuICAgIH0sXHJcbiAgICBtdWNoU21hbGxlcjoge1xyXG4gICAgICBkZXNjcmlwdGlvbjogbXVjaFNtYWxsZXJUaGFuU3RyaW5nLFxyXG4gICAgICByYW5nZTogbmV3IFJhbmdlKCAwLjEsIDAuNCApXHJcbiAgICB9LFxyXG4gICAgc2xpZ2h0bHlTbWFsbGVyOiB7XHJcbiAgICAgIGRlc2NyaXB0aW9uOiBzbGlnaHRseVNtYWxsZXJUaGFuU3RyaW5nLFxyXG4gICAgICByYW5nZTogbmV3IFJhbmdlKCAwLjQsIDAuNyApXHJcbiAgICB9LFxyXG4gICAgY29tcGFyYWJsZToge1xyXG4gICAgICBkZXNjcmlwdGlvbjogY29tcGFyYWJsZVRvU3RyaW5nLFxyXG4gICAgICByYW5nZTogbmV3IFJhbmdlKCAwLjcsIDEuMyApXHJcbiAgICB9LFxyXG4gICAgc2xpZ2h0bHlMYXJnZXI6IHtcclxuICAgICAgZGVzY3JpcHRpb246IHNsaWdodGx5TGFyZ2VyVGhhblN0cmluZyxcclxuICAgICAgcmFuZ2U6IG5ldyBSYW5nZSggMS4zLCAyIClcclxuICAgIH0sXHJcbiAgICBtdWNoTGFyZ2VyOiB7XHJcbiAgICAgIGRlc2NyaXB0aW9uOiBtdWNoTGFyZ2VyVGhhblN0cmluZyxcclxuICAgICAgcmFuZ2U6IG5ldyBSYW5nZSggMiwgMjAgKVxyXG4gICAgfSxcclxuICAgIG11Y2hNdWNoTGFyZ2VyOiB7XHJcbiAgICAgIGRlc2NyaXB0aW9uOiBtdWNoTXVjaExhcmdlclRoYW5TdHJpbmcsXHJcbiAgICAgIHJhbmdlOiBuZXcgUmFuZ2UoIDIwLCBOdW1iZXIuTUFYX1ZBTFVFIClcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYSBkZXNjcmlwdGlvbiBmcm9tIGEgdmFsdWUgbWFwLiBUaGUgbWFwIG11c3QgaGF2ZSBrZXlzIHdpdGggdmFsdWVzIHRoYXQgbG9vayBsaWtlXHJcbiAgICoge1xyXG4gICAqICAgcmFuZ2U6IHtSYW5nZX0sXHJcbiAgICogICBkZXNjcmlwdGlvbjoge3N0cmluZ31cclxuICAgKiB9XHJcbiAgICpcclxuICAgKiBXZSBpdGVyYXRlIG92ZXIgdGhlIG1hcCwgYW5kIGlmIHRoZSB2YWx1ZSBmYWxscyBpbiB0aGUgcmFuZ2UsIHRoZSBkZXNjcmlwdGlvbiBzdHJpbmcgaXMgcmV0dXJuZWQuXHJcbiAgICpcclxuICAgKiBcImNvbXBhcmFibGUgdG9cIiBvclxyXG4gICAqIFwibXVjaCBtdWNoIGxhcmdlciB0aGFuXCJcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgZ2V0VmFsdWVEZXNjcmlwdGlvbkZyb21NYXAoIHZhbHVlLCBtYXAgKSB7XHJcblxyXG4gICAgLy8gZ2V0IGRlc2NyaWJlZCByYW5nZXMgb2YgZWFjaCB2YWx1ZVxyXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKCBtYXAgKTtcclxuICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgIGNvbnN0IGVudHJ5ID0gbWFwWyBrZXlzWyBpIF0gXTtcclxuXHJcbiAgICAgIGlmICggZW50cnkucmFuZ2UuY29udGFpbnMoIHZhbHVlLCBtYXAgKSApIHtcclxuICAgICAgICByZXR1cm4gZW50cnkuZGVzY3JpcHRpb247XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvciggYG5vIGRlc2NyaXB0aW9uIGZvciB2YWx1ZTogJHt2YWx1ZX1gICk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGEgZm9ybWF0dGVkIHZhbHVlIGZvciByZXNpc3RhbmNlIC0gZGVwZW5kaW5nIG9uIHNpemUgb2YgcmVzaXN0YW5jZSwgbnVtYmVyIG9mIGRlY2ltYWxzIHdpbGwgY2hhbmdlLiBVc2VkXHJcbiAgICogZm9yIHZpc3VhbCByZWFkb3V0IGFzIHdlbGwgYXMgZm9yIHJlYWRhYmxlIHZhbHVlcyBpbiBhMTF5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZXRGb3JtYXR0ZWRSZXNpc3RhbmNlVmFsdWUoIHZhbHVlICkge1xyXG4gICAgcmV0dXJuIFV0aWxzLnRvRml4ZWQoIHZhbHVlLCB0aGlzLmdldFJlc2lzdGFuY2VEZWNpbWFscyggdmFsdWUgKSApO1xyXG4gIH1cclxufTtcclxuXHJcbnJlc2lzdGFuY2VJbkFXaXJlLnJlZ2lzdGVyKCAnUmVzaXN0YW5jZUluQVdpcmVDb25zdGFudHMnLCBSZXNpc3RhbmNlSW5BV2lyZUNvbnN0YW50cyApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmVzaXN0YW5jZUluQVdpcmVDb25zdGFudHM7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLEtBQUssTUFBTSwwQkFBMEI7QUFDNUMsT0FBT0MsY0FBYyxNQUFNLG1DQUFtQztBQUM5RCxPQUFPQyxLQUFLLE1BQU0sMEJBQTBCO0FBQzVDLE9BQU9DLFFBQVEsTUFBTSxzQ0FBc0M7QUFDM0QsT0FBT0MsaUJBQWlCLE1BQU0seUJBQXlCO0FBQ3ZELE9BQU9DLHdCQUF3QixNQUFNLGdDQUFnQztBQUVyRSxNQUFNQyx5QkFBeUIsR0FBR0Qsd0JBQXdCLENBQUNFLElBQUksQ0FBQ0MsUUFBUSxDQUFDQyxLQUFLLENBQUNDLG1CQUFtQjtBQUNsRyxNQUFNQyxxQkFBcUIsR0FBR04sd0JBQXdCLENBQUNFLElBQUksQ0FBQ0MsUUFBUSxDQUFDQyxLQUFLLENBQUNHLGVBQWU7QUFDMUYsTUFBTUMseUJBQXlCLEdBQUdSLHdCQUF3QixDQUFDRSxJQUFJLENBQUNDLFFBQVEsQ0FBQ0MsS0FBSyxDQUFDSyxtQkFBbUI7QUFDbEcsTUFBTUMsa0JBQWtCLEdBQUdWLHdCQUF3QixDQUFDRSxJQUFJLENBQUNDLFFBQVEsQ0FBQ0MsS0FBSyxDQUFDTyxZQUFZ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