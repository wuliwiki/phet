// Copyright 2013-2022, University of Colorado Boulder

/**
 * Model which includes resistivity, length, area and resistance.
 *
 * @author Vasily Shakhov (Mlearner)
 * @author John Blanco (PhET Interactive Simulations)
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import Range from '../../../../dot/js/Range.js';
import NumberIO from '../../../../tandem/js/types/NumberIO.js';
import resistanceInAWire from '../../resistanceInAWire.js';
import ResistanceInAWireConstants from '../ResistanceInAWireConstants.js';
class ResistanceInAWireModel {
  /**
   * @param {Tandem} tandem
   */
  constructor(tandem) {
    // @public {Property.<number>} in Ohm*cm
    this.resistivityProperty = new NumberProperty(ResistanceInAWireConstants.RESISTIVITY_RANGE.defaultValue, {
      tandem: tandem.createTandem('resistivityProperty'),
      units: '\u2126\u00b7cm',
      // Ohm-centimeters
      range: ResistanceInAWireConstants.RESISTIVITY_RANGE
    });

    // @public {Property.<number>} in cm
    this.lengthProperty = new NumberProperty(ResistanceInAWireConstants.LENGTH_RANGE.defaultValue, {
      tandem: tandem.createTandem('lengthProperty'),
      units: 'cm',
      range: ResistanceInAWireConstants.LENGTH_RANGE
    });

    // @public {Property.<number>} in cm^2
    this.areaProperty = new NumberProperty(ResistanceInAWireConstants.AREA_RANGE.defaultValue, {
      tandem: tandem.createTandem('areaProperty'),
      units: 'cm^2',
      range: ResistanceInAWireConstants.AREA_RANGE
    });

    // Derived property that tracks the resistance of the wire
    // @public {Property.<number>} in Ohms
    this.resistanceProperty = new DerivedProperty([this.resistivityProperty, this.lengthProperty, this.areaProperty], (resistivity, length, area) => resistivity * length / area, {
      tandem: tandem.createTandem('resistanceProperty'),
      units: '\u2126',
      // ohms
      phetioValueType: NumberIO
    });

    // @public {BooleanProperty} - indicates when a reset is in progress
    this.resetInProgressProperty = new BooleanProperty(false);
  }

  /**
   * resets the properties of the model
   * @public
   */
  reset() {
    this.resetInProgressProperty.set(true);
    this.resistivityProperty.reset();
    this.lengthProperty.reset();
    this.areaProperty.reset();
    this.resetInProgressProperty.set(false);
  }

  /**
   * Get the total range of the derived resistance from the independent Properties of this model.
   *
   * @returns {Range}
   * @public
   */
  static getResistanceRange() {
    const minResistance = ResistanceInAWireConstants.RESISTIVITY_RANGE.min * ResistanceInAWireConstants.LENGTH_RANGE.min / ResistanceInAWireConstants.AREA_RANGE.min;
    const maxResistance = ResistanceInAWireConstants.RESISTIVITY_RANGE.max * ResistanceInAWireConstants.LENGTH_RANGE.max / ResistanceInAWireConstants.AREA_RANGE.max;
    return new Range(minResistance, maxResistance);
  }
}
resistanceInAWire.register('ResistanceInAWireModel', ResistanceInAWireModel);
export default ResistanceInAWireModel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJEZXJpdmVkUHJvcGVydHkiLCJOdW1iZXJQcm9wZXJ0eSIsIlJhbmdlIiwiTnVtYmVySU8iLCJyZXNpc3RhbmNlSW5BV2lyZSIsIlJlc2lzdGFuY2VJbkFXaXJlQ29uc3RhbnRzIiwiUmVzaXN0YW5jZUluQVdpcmVNb2RlbCIsImNvbnN0cnVjdG9yIiwidGFuZGVtIiwicmVzaXN0aXZpdHlQcm9wZXJ0eSIsIlJFU0lTVElWSVRZX1JBTkdFIiwiZGVmYXVsdFZhbHVlIiwiY3JlYXRlVGFuZGVtIiwidW5pdHMiLCJyYW5nZSIsImxlbmd0aFByb3BlcnR5IiwiTEVOR1RIX1JBTkdFIiwiYXJlYVByb3BlcnR5IiwiQVJFQV9SQU5HRSIsInJlc2lzdGFuY2VQcm9wZXJ0eSIsInJlc2lzdGl2aXR5IiwibGVuZ3RoIiwiYXJlYSIsInBoZXRpb1ZhbHVlVHlwZSIsInJlc2V0SW5Qcm9ncmVzc1Byb3BlcnR5IiwicmVzZXQiLCJzZXQiLCJnZXRSZXNpc3RhbmNlUmFuZ2UiLCJtaW5SZXNpc3RhbmNlIiwibWluIiwibWF4UmVzaXN0YW5jZSIsIm1heCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiUmVzaXN0YW5jZUluQVdpcmVNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxMy0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBNb2RlbCB3aGljaCBpbmNsdWRlcyByZXNpc3Rpdml0eSwgbGVuZ3RoLCBhcmVhIGFuZCByZXNpc3RhbmNlLlxyXG4gKlxyXG4gKiBAYXV0aG9yIFZhc2lseSBTaGFraG92IChNbGVhcm5lcilcclxuICogQGF1dGhvciBKb2huIEJsYW5jbyAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgQm9vbGVhblByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvQm9vbGVhblByb3BlcnR5LmpzJztcclxuaW1wb3J0IERlcml2ZWRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Rlcml2ZWRQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBOdW1iZXJQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL051bWJlclByb3BlcnR5LmpzJztcclxuaW1wb3J0IFJhbmdlIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9SYW5nZS5qcyc7XHJcbmltcG9ydCBOdW1iZXJJTyBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvdHlwZXMvTnVtYmVySU8uanMnO1xyXG5pbXBvcnQgcmVzaXN0YW5jZUluQVdpcmUgZnJvbSAnLi4vLi4vcmVzaXN0YW5jZUluQVdpcmUuanMnO1xyXG5pbXBvcnQgUmVzaXN0YW5jZUluQVdpcmVDb25zdGFudHMgZnJvbSAnLi4vUmVzaXN0YW5jZUluQVdpcmVDb25zdGFudHMuanMnO1xyXG5cclxuY2xhc3MgUmVzaXN0YW5jZUluQVdpcmVNb2RlbCB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCB0YW5kZW0gKSB7XHJcblxyXG4gICAgLy8gQHB1YmxpYyB7UHJvcGVydHkuPG51bWJlcj59IGluIE9obSpjbVxyXG4gICAgdGhpcy5yZXNpc3Rpdml0eVByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCBSZXNpc3RhbmNlSW5BV2lyZUNvbnN0YW50cy5SRVNJU1RJVklUWV9SQU5HRS5kZWZhdWx0VmFsdWUsIHtcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncmVzaXN0aXZpdHlQcm9wZXJ0eScgKSxcclxuICAgICAgdW5pdHM6ICdcXHUyMTI2XFx1MDBiN2NtJywgLy8gT2htLWNlbnRpbWV0ZXJzXHJcbiAgICAgIHJhbmdlOiBSZXNpc3RhbmNlSW5BV2lyZUNvbnN0YW50cy5SRVNJU1RJVklUWV9SQU5HRVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIEBwdWJsaWMge1Byb3BlcnR5LjxudW1iZXI+fSBpbiBjbVxyXG4gICAgdGhpcy5sZW5ndGhQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggUmVzaXN0YW5jZUluQVdpcmVDb25zdGFudHMuTEVOR1RIX1JBTkdFLmRlZmF1bHRWYWx1ZSwge1xyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdsZW5ndGhQcm9wZXJ0eScgKSxcclxuICAgICAgdW5pdHM6ICdjbScsXHJcbiAgICAgIHJhbmdlOiBSZXNpc3RhbmNlSW5BV2lyZUNvbnN0YW50cy5MRU5HVEhfUkFOR0VcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtQcm9wZXJ0eS48bnVtYmVyPn0gaW4gY21eMlxyXG4gICAgdGhpcy5hcmVhUHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHkoIFJlc2lzdGFuY2VJbkFXaXJlQ29uc3RhbnRzLkFSRUFfUkFOR0UuZGVmYXVsdFZhbHVlLCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2FyZWFQcm9wZXJ0eScgKSxcclxuICAgICAgdW5pdHM6ICdjbV4yJyxcclxuICAgICAgcmFuZ2U6IFJlc2lzdGFuY2VJbkFXaXJlQ29uc3RhbnRzLkFSRUFfUkFOR0VcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBEZXJpdmVkIHByb3BlcnR5IHRoYXQgdHJhY2tzIHRoZSByZXNpc3RhbmNlIG9mIHRoZSB3aXJlXHJcbiAgICAvLyBAcHVibGljIHtQcm9wZXJ0eS48bnVtYmVyPn0gaW4gT2htc1xyXG4gICAgdGhpcy5yZXNpc3RhbmNlUHJvcGVydHkgPSBuZXcgRGVyaXZlZFByb3BlcnR5KCBbIHRoaXMucmVzaXN0aXZpdHlQcm9wZXJ0eSwgdGhpcy5sZW5ndGhQcm9wZXJ0eSwgdGhpcy5hcmVhUHJvcGVydHkgXSxcclxuICAgICAgKCByZXNpc3Rpdml0eSwgbGVuZ3RoLCBhcmVhICkgPT4gcmVzaXN0aXZpdHkgKiBsZW5ndGggLyBhcmVhLCB7XHJcbiAgICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncmVzaXN0YW5jZVByb3BlcnR5JyApLFxyXG4gICAgICAgIHVuaXRzOiAnXFx1MjEyNicsIC8vIG9obXNcclxuICAgICAgICBwaGV0aW9WYWx1ZVR5cGU6IE51bWJlcklPXHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgLy8gQHB1YmxpYyB7Qm9vbGVhblByb3BlcnR5fSAtIGluZGljYXRlcyB3aGVuIGEgcmVzZXQgaXMgaW4gcHJvZ3Jlc3NcclxuICAgIHRoaXMucmVzZXRJblByb2dyZXNzUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCBmYWxzZSApO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIHJlc2V0cyB0aGUgcHJvcGVydGllcyBvZiB0aGUgbW9kZWxcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLnJlc2V0SW5Qcm9ncmVzc1Byb3BlcnR5LnNldCggdHJ1ZSApO1xyXG4gICAgdGhpcy5yZXNpc3Rpdml0eVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLmxlbmd0aFByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLmFyZWFQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5yZXNldEluUHJvZ3Jlc3NQcm9wZXJ0eS5zZXQoIGZhbHNlICk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSB0b3RhbCByYW5nZSBvZiB0aGUgZGVyaXZlZCByZXNpc3RhbmNlIGZyb20gdGhlIGluZGVwZW5kZW50IFByb3BlcnRpZXMgb2YgdGhpcyBtb2RlbC5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtSYW5nZX1cclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgc3RhdGljIGdldFJlc2lzdGFuY2VSYW5nZSgpIHtcclxuICAgIGNvbnN0IG1pblJlc2lzdGFuY2UgPSBSZXNpc3RhbmNlSW5BV2lyZUNvbnN0YW50cy5SRVNJU1RJVklUWV9SQU5HRS5taW4gKiBSZXNpc3RhbmNlSW5BV2lyZUNvbnN0YW50cy5MRU5HVEhfUkFOR0UubWluIC8gUmVzaXN0YW5jZUluQVdpcmVDb25zdGFudHMuQVJFQV9SQU5HRS5taW47XHJcbiAgICBjb25zdCBtYXhSZXNpc3RhbmNlID0gUmVzaXN0YW5jZUluQVdpcmVDb25zdGFudHMuUkVTSVNUSVZJVFlfUkFOR0UubWF4ICogUmVzaXN0YW5jZUluQVdpcmVDb25zdGFudHMuTEVOR1RIX1JBTkdFLm1heCAvIFJlc2lzdGFuY2VJbkFXaXJlQ29uc3RhbnRzLkFSRUFfUkFOR0UubWF4O1xyXG4gICAgcmV0dXJuIG5ldyBSYW5nZSggbWluUmVzaXN0YW5jZSwgbWF4UmVzaXN0YW5jZSApO1xyXG4gIH1cclxufVxyXG5cclxucmVzaXN0YW5jZUluQVdpcmUucmVnaXN0ZXIoICdSZXNpc3RhbmNlSW5BV2lyZU1vZGVsJywgUmVzaXN0YW5jZUluQVdpcmVNb2RlbCApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmVzaXN0YW5jZUluQVdpcmVNb2RlbDsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxlQUFlLE1BQU0sd0NBQXdDO0FBQ3BFLE9BQU9DLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsT0FBT0MsY0FBYyxNQUFNLHVDQUF1QztBQUNsRSxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLFFBQVEsTUFBTSx5Q0FBeUM7QUFDOUQsT0FBT0MsaUJBQWlCLE1BQU0sNEJBQTRCO0FBQzFELE9BQU9DLDBCQUEwQixNQUFNLGtDQUFrQztBQUV6RSxNQUFNQyxzQkFBc0IsQ0FBQztFQUMzQjtBQUNGO0FBQ0E7RUFDRUMsV0FBV0EsQ0FBRUMsTUFBTSxFQUFHO0lBRXBCO0lBQ0EsSUFBSSxDQUFDQyxtQkFBbUIsR0FBRyxJQUFJUixjQUFjLENBQUVJLDBCQUEwQixDQUFDSyxpQkFBaUIsQ0FBQ0MsWUFBWSxFQUFFO01BQ3hHSCxNQUFN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