// Copyright 2020-2021, University of Colorado Boulder

/**
 * NLOOperationsModel is the primary model class for the "Operation" screen.
 *
 * @author John Blanco (PhET Interactive Simulations)
 */

import createObservableArray from '../../../../axon/js/createObservableArray.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import Utils from '../../../../dot/js/Utils.js';
import LockToNumberLine from '../../../../number-line-common/js/common/model/LockToNumberLine.js';
import PointController from '../../../../number-line-common/js/common/model/PointController.js';
import OperationTrackingNumberLine from '../../common/model/OperationTrackingNumberLine.js';
import NLOConstants from '../../common/NLOConstants.js';
import numberLineOperations from '../../numberLineOperations.js';

// constants
const OPERATION_OPTIONS = {
  initialAmount: 100
};
class NLOOperationsModel {
  /**
   * @param {Tandem} tandem
   */
  constructor(tandem) {
    // @public (read-write) - the initial value from which all operations are added and/or subtracted
    this.initialValueProperty = new NumberProperty(0);

    // @public - the number line upon which the operations are tracked
    this.numberLine = new OperationTrackingNumberLine(NLOConstants.LAYOUT_BOUNDS.center.plusXY(0, 20), {
      numberOfOperationsTracked: 2,
      pointColorList: [NLOConstants.DARK_BLUE_POINT_COLOR, NLOConstants.MEDIUM_BLUE_POINT_COLOR, NLOConstants.LIGHT_BLUE_POINT_COLOR],
      startingValueProperty: this.initialValueProperty,
      initialDisplayedRange: NLOConstants.NET_WORTH_RANGE,
      tickMarksInitiallyVisible: true,
      preventOverlap: false,
      labelsInitiallyVisible: true,
      operationOptionsArray: [OPERATION_OPTIONS, OPERATION_OPTIONS],
      constrainPointValue: proposedValue => Utils.roundToInterval(proposedValue, 100),
      // width of the number line in model space, number empirically determined to make it look good
      widthInModelSpace: NLOConstants.NUMBER_LINE_WIDTH
    });

    // @public (read-only) - Create a point controller and associate it with the point that represents the initial net
    // worth on the number line.  This point controller will always be present, whereas there are others that can come
    // and go as operations are added and removed.
    assert && assert(this.numberLine.residentPoints.length === 1, 'expected only one point on the number line');
    this.initialValuePointController = new PointController({
      color: this.numberLine.startingPoint.colorProperty.value,
      numberLines: [this.numberLine],
      numberLinePoints: [this.numberLine.startingPoint],
      lockToNumberLine: LockToNumberLine.ALWAYS
    });

    // @public (read-only) {ObservableArrayDef.<PointController>} - A list of the point controllers for the primary
    // number line. These come and go as points come and go.
    this.pointControllers = createObservableArray();
    this.numberLine.residentPoints.addItemAddedListener(addedPoint => {
      // Add a point controller for the newly added point.
      const pointController = new PointController({
        color: addedPoint.colorProperty.value,
        numberLines: [this.numberLine],
        numberLinePoints: [addedPoint],
        lockToNumberLine: LockToNumberLine.ALWAYS
      });
      this.pointControllers.push(pointController);

      // Remove the point controller when the associated point goes away.
      const removalListener = removedPoint => {
        if (removedPoint === addedPoint) {
          this.pointControllers.remove(pointController);
          pointController.dispose();
          this.numberLine.residentPoints.removeItemRemovedListener(removalListener);
        }
      };
      this.numberLine.residentPoints.addItemRemovedListener(removalListener);
    });
  }

  /**
   * Reset the model.
   * @public
   */
  reset() {
    this.numberLine.reset();
  }
}
numberLineOperations.register('NLOOperationsModel', NLOOperationsModel);
export default NLOOperationsModel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVPYnNlcnZhYmxlQXJyYXkiLCJOdW1iZXJQcm9wZXJ0eSIsIlV0aWxzIiwiTG9ja1RvTnVtYmVyTGluZSIsIlBvaW50Q29udHJvbGxlciIsIk9wZXJhdGlvblRyYWNraW5nTnVtYmVyTGluZSIsIk5MT0NvbnN0YW50cyIsIm51bWJlckxpbmVPcGVyYXRpb25zIiwiT1BFUkFUSU9OX09QVElPTlMiLCJpbml0aWFsQW1vdW50IiwiTkxPT3BlcmF0aW9uc01vZGVsIiwiY29uc3RydWN0b3IiLCJ0YW5kZW0iLCJpbml0aWFsVmFsdWVQcm9wZXJ0eSIsIm51bWJlckxpbmUiLCJMQVlPVVRfQk9VTkRTIiwiY2VudGVyIiwicGx1c1hZIiwibnVtYmVyT2ZPcGVyYXRpb25zVHJhY2tlZCIsInBvaW50Q29sb3JMaXN0IiwiREFSS19CTFVFX1BPSU5UX0NPTE9SIiwiTUVESVVNX0JMVUVfUE9JTlRfQ09MT1IiLCJMSUdIVF9CTFVFX1BPSU5UX0NPTE9SIiwic3RhcnRpbmdWYWx1ZVByb3BlcnR5IiwiaW5pdGlhbERpc3BsYXllZFJhbmdlIiwiTkVUX1dPUlRIX1JBTkdFIiwidGlja01hcmtzSW5pdGlhbGx5VmlzaWJsZSIsInByZXZlbnRPdmVybGFwIiwibGFiZWxzSW5pdGlhbGx5VmlzaWJsZSIsIm9wZXJhdGlvbk9wdGlvbnNBcnJheSIsImNvbnN0cmFpblBvaW50VmFsdWUiLCJwcm9wb3NlZFZhbHVlIiwicm91bmRUb0ludGVydmFsIiwid2lkdGhJbk1vZGVsU3BhY2UiLCJOVU1CRVJfTElORV9XSURUSCIsImFzc2VydCIsInJlc2lkZW50UG9pbnRzIiwibGVuZ3RoIiwiaW5pdGlhbFZhbHVlUG9pbnRDb250cm9sbGVyIiwiY29sb3IiLCJzdGFydGluZ1BvaW50IiwiY29sb3JQcm9wZXJ0eSIsInZhbHVlIiwibnVtYmVyTGluZXMiLCJudW1iZXJMaW5lUG9pbnRzIiwibG9ja1RvTnVtYmVyTGluZSIsIkFMV0FZUyIsInBvaW50Q29udHJvbGxlcnMiLCJhZGRJdGVtQWRkZWRMaXN0ZW5lciIsImFkZGVkUG9pbnQiLCJwb2ludENvbnRyb2xsZXIiLCJwdXNoIiwicmVtb3ZhbExpc3RlbmVyIiwicmVtb3ZlZFBvaW50IiwicmVtb3ZlIiwiZGlzcG9zZSIsInJlbW92ZUl0ZW1SZW1vdmVkTGlzdGVuZXIiLCJhZGRJdGVtUmVtb3ZlZExpc3RlbmVyIiwicmVzZXQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIk5MT09wZXJhdGlvbnNNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMC0yMDIxLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBOTE9PcGVyYXRpb25zTW9kZWwgaXMgdGhlIHByaW1hcnkgbW9kZWwgY2xhc3MgZm9yIHRoZSBcIk9wZXJhdGlvblwiIHNjcmVlbi5cclxuICpcclxuICogQGF1dGhvciBKb2huIEJsYW5jbyAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgY3JlYXRlT2JzZXJ2YWJsZUFycmF5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvY3JlYXRlT2JzZXJ2YWJsZUFycmF5LmpzJztcclxuaW1wb3J0IE51bWJlclByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvTnVtYmVyUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IExvY2tUb051bWJlckxpbmUgZnJvbSAnLi4vLi4vLi4vLi4vbnVtYmVyLWxpbmUtY29tbW9uL2pzL2NvbW1vbi9tb2RlbC9Mb2NrVG9OdW1iZXJMaW5lLmpzJztcclxuaW1wb3J0IFBvaW50Q29udHJvbGxlciBmcm9tICcuLi8uLi8uLi8uLi9udW1iZXItbGluZS1jb21tb24vanMvY29tbW9uL21vZGVsL1BvaW50Q29udHJvbGxlci5qcyc7XHJcbmltcG9ydCBPcGVyYXRpb25UcmFja2luZ051bWJlckxpbmUgZnJvbSAnLi4vLi4vY29tbW9uL21vZGVsL09wZXJhdGlvblRyYWNraW5nTnVtYmVyTGluZS5qcyc7XHJcbmltcG9ydCBOTE9Db25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL05MT0NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBudW1iZXJMaW5lT3BlcmF0aW9ucyBmcm9tICcuLi8uLi9udW1iZXJMaW5lT3BlcmF0aW9ucy5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgT1BFUkFUSU9OX09QVElPTlMgPSB7IGluaXRpYWxBbW91bnQ6IDEwMCB9O1xyXG5cclxuY2xhc3MgTkxPT3BlcmF0aW9uc01vZGVsIHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCB0YW5kZW0gKSB7XHJcblxyXG4gICAgLy8gQHB1YmxpYyAocmVhZC13cml0ZSkgLSB0aGUgaW5pdGlhbCB2YWx1ZSBmcm9tIHdoaWNoIGFsbCBvcGVyYXRpb25zIGFyZSBhZGRlZCBhbmQvb3Igc3VidHJhY3RlZFxyXG4gICAgdGhpcy5pbml0aWFsVmFsdWVQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggMCApO1xyXG5cclxuICAgIC8vIEBwdWJsaWMgLSB0aGUgbnVtYmVyIGxpbmUgdXBvbiB3aGljaCB0aGUgb3BlcmF0aW9ucyBhcmUgdHJhY2tlZFxyXG4gICAgdGhpcy5udW1iZXJMaW5lID0gbmV3IE9wZXJhdGlvblRyYWNraW5nTnVtYmVyTGluZShcclxuICAgICAgTkxPQ29uc3RhbnRzLkxBWU9VVF9CT1VORFMuY2VudGVyLnBsdXNYWSggMCwgMjAgKSxcclxuICAgICAge1xyXG4gICAgICAgIG51bWJlck9mT3BlcmF0aW9uc1RyYWNrZWQ6IDIsXHJcbiAgICAgICAgcG9pbnRDb2xvckxpc3Q6IFtcclxuICAgICAgICAgIE5MT0NvbnN0YW50cy5EQVJLX0JMVUVfUE9JTlRfQ09MT1IsXHJcbiAgICAgICAgICBOTE9Db25zdGFudHMuTUVESVVNX0JMVUVfUE9JTlRfQ09MT1IsXHJcbiAgICAgICAgICBOTE9Db25zdGFudHMuTElHSFRfQkxVRV9QT0lOVF9DT0xPUlxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgc3RhcnRpbmdWYWx1ZVByb3BlcnR5OiB0aGlzLmluaXRpYWxWYWx1ZVByb3BlcnR5LFxyXG4gICAgICAgIGluaXRpYWxEaXNwbGF5ZWRSYW5nZTogTkxPQ29uc3RhbnRzLk5FVF9XT1JUSF9SQU5HRSxcclxuICAgICAgICB0aWNrTWFya3NJbml0aWFsbHlWaXNpYmxlOiB0cnVlLFxyXG4gICAgICAgIHByZXZlbnRPdmVybGFwOiBmYWxzZSxcclxuICAgICAgICBsYWJlbHNJbml0aWFsbHlWaXNpYmxlOiB0cnVlLFxyXG4gICAgICAgIG9wZXJhdGlvbk9wdGlvbnNBcnJheTogWyBPUEVSQVRJT05fT1BUSU9OUywgT1BFUkFUSU9OX09QVElPTlMgXSxcclxuICAgICAgICBjb25zdHJhaW5Qb2ludFZhbHVlOiBwcm9wb3NlZFZhbHVlID0+IFV0aWxzLnJvdW5kVG9JbnRlcnZhbCggcHJvcG9zZWRWYWx1ZSwgMTAwICksXHJcblxyXG4gICAgICAgIC8vIHdpZHRoIG9mIHRoZSBudW1iZXIgbGluZSBpbiBtb2RlbCBzcGFjZSwgbnVtYmVyIGVtcGlyaWNhbGx5IGRldGVybWluZWQgdG8gbWFrZSBpdCBsb29rIGdvb2RcclxuICAgICAgICB3aWR0aEluTW9kZWxTcGFjZTogTkxPQ29uc3RhbnRzLk5VTUJFUl9MSU5FX1dJRFRIXHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgLy8gQHB1YmxpYyAocmVhZC1vbmx5KSAtIENyZWF0ZSBhIHBvaW50IGNvbnRyb2xsZXIgYW5kIGFzc29jaWF0ZSBpdCB3aXRoIHRoZSBwb2ludCB0aGF0IHJlcHJlc2VudHMgdGhlIGluaXRpYWwgbmV0XHJcbiAgICAvLyB3b3J0aCBvbiB0aGUgbnVtYmVyIGxpbmUuICBUaGlzIHBvaW50IGNvbnRyb2xsZXIgd2lsbCBhbHdheXMgYmUgcHJlc2VudCwgd2hlcmVhcyB0aGVyZSBhcmUgb3RoZXJzIHRoYXQgY2FuIGNvbWVcclxuICAgIC8vIGFuZCBnbyBhcyBvcGVyYXRpb25zIGFyZSBhZGRlZCBhbmQgcmVtb3ZlZC5cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIHRoaXMubnVtYmVyTGluZS5yZXNpZGVudFBvaW50cy5sZW5ndGggPT09IDEsICdleHBlY3RlZCBvbmx5IG9uZSBwb2ludCBvbiB0aGUgbnVtYmVyIGxpbmUnICk7XHJcbiAgICB0aGlzLmluaXRpYWxWYWx1ZVBvaW50Q29udHJvbGxlciA9IG5ldyBQb2ludENvbnRyb2xsZXIoIHtcclxuICAgICAgY29sb3I6IHRoaXMubnVtYmVyTGluZS5zdGFydGluZ1BvaW50LmNvbG9yUHJvcGVydHkudmFsdWUsXHJcbiAgICAgIG51bWJlckxpbmVzOiBbIHRoaXMubnVtYmVyTGluZSBdLFxyXG4gICAgICBudW1iZXJMaW5lUG9pbnRzOiBbIHRoaXMubnVtYmVyTGluZS5zdGFydGluZ1BvaW50IF0sXHJcbiAgICAgIGxvY2tUb051bWJlckxpbmU6IExvY2tUb051bWJlckxpbmUuQUxXQVlTXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQHB1YmxpYyAocmVhZC1vbmx5KSB7T2JzZXJ2YWJsZUFycmF5RGVmLjxQb2ludENvbnRyb2xsZXI+fSAtIEEgbGlzdCBvZiB0aGUgcG9pbnQgY29udHJvbGxlcnMgZm9yIHRoZSBwcmltYXJ5XHJcbiAgICAvLyBudW1iZXIgbGluZS4gVGhlc2UgY29tZSBhbmQgZ28gYXMgcG9pbnRzIGNvbWUgYW5kIGdvLlxyXG4gICAgdGhpcy5wb2ludENvbnRyb2xsZXJzID0gY3JlYXRlT2JzZXJ2YWJsZUFycmF5KCk7XHJcbiAgICB0aGlzLm51bWJlckxpbmUucmVzaWRlbnRQb2ludHMuYWRkSXRlbUFkZGVkTGlzdGVuZXIoIGFkZGVkUG9pbnQgPT4ge1xyXG5cclxuICAgICAgLy8gQWRkIGEgcG9pbnQgY29udHJvbGxlciBmb3IgdGhlIG5ld2x5IGFkZGVkIHBvaW50LlxyXG4gICAgICBjb25zdCBwb2ludENvbnRyb2xsZXIgPSBuZXcgUG9pbnRDb250cm9sbGVyKCB7XHJcbiAgICAgICAgY29sb3I6IGFkZGVkUG9pbnQuY29sb3JQcm9wZXJ0eS52YWx1ZSxcclxuICAgICAgICBudW1iZXJMaW5lczogWyB0aGlzLm51bWJlckxpbmUgXSxcclxuICAgICAgICBudW1iZXJMaW5lUG9pbnRzOiBbIGFkZGVkUG9pbnQgXSxcclxuICAgICAgICBsb2NrVG9OdW1iZXJMaW5lOiBMb2NrVG9OdW1iZXJMaW5lLkFMV0FZU1xyXG4gICAgICB9ICk7XHJcbiAgICAgIHRoaXMucG9pbnRDb250cm9sbGVycy5wdXNoKCBwb2ludENvbnRyb2xsZXIgKTtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0aGUgcG9pbnQgY29udHJvbGxlciB3aGVuIHRoZSBhc3NvY2lhdGVkIHBvaW50IGdvZXMgYXdheS5cclxuICAgICAgY29uc3QgcmVtb3ZhbExpc3RlbmVyID0gcmVtb3ZlZFBvaW50ID0+IHtcclxuICAgICAgICBpZiAoIHJlbW92ZWRQb2ludCA9PT0gYWRkZWRQb2ludCApIHtcclxuICAgICAgICAgIHRoaXMucG9pbnRDb250cm9sbGVycy5yZW1vdmUoIHBvaW50Q29udHJvbGxlciApO1xyXG4gICAgICAgICAgcG9pbnRDb250cm9sbGVyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgIHRoaXMubnVtYmVyTGluZS5yZXNpZGVudFBvaW50cy5yZW1vdmVJdGVtUmVtb3ZlZExpc3RlbmVyKCByZW1vdmFsTGlzdGVuZXIgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMubnVtYmVyTGluZS5yZXNpZGVudFBvaW50cy5hZGRJdGVtUmVtb3ZlZExpc3RlbmVyKCByZW1vdmFsTGlzdGVuZXIgKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0IHRoZSBtb2RlbC5cclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLm51bWJlckxpbmUucmVzZXQoKTtcclxuICB9XHJcbn1cclxuXHJcbm51bWJlckxpbmVPcGVyYXRpb25zLnJlZ2lzdGVyKCAnTkxPT3BlcmF0aW9uc01vZGVsJywgTkxPT3BlcmF0aW9uc01vZGVsICk7XHJcbmV4cG9ydCBkZWZhdWx0IE5MT09wZXJhdGlvbnNNb2RlbDsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EscUJBQXFCLE1BQU0sOENBQThDO0FBQ2hGLE9BQU9DLGNBQWMsTUFBTSx1Q0FBdUM7QUFDbEUsT0FBT0MsS0FBSyxNQUFNLDZCQUE2QjtBQUMvQyxPQUFPQyxnQkFBZ0IsTUFBTSxvRUFBb0U7QUFDakcsT0FBT0MsZUFBZSxNQUFNLG1FQUFtRTtBQUMvRixPQUFPQywyQkFBMkIsTUFBTSxtREFBbUQ7QUFDM0YsT0FBT0MsWUFBWSxNQUFNLDhCQUE4QjtBQUN2RCxPQUFPQyxvQkFBb0IsTUFBTSwrQkFBK0I7O0FBRWhFO0FBQ0EsTUFBTUMsaUJBQWlCLEdBQUc7RUFBRUMsYUFBYSxFQUFFO0FBQUksQ0FBQztBQUVoRCxNQUFNQyxrQkFBa0IsQ0FBQztFQUV2QjtBQUNGO0FBQ0E7RUFDRUMsV0FBV0EsQ0FBRUMsTUFBTSxFQUFHO0lBRXBCO0lBQ0EsSUFBSSxDQUFDQyxvQkFBb0IsR0FBRyxJQUFJWixjQUFjLENBQUUsQ0FBRSxDQUFDOztJQUVuRDtJQUNBLElBQUksQ0FBQ2EsVUFBVSxHQUFHLElBQUlULDJCQUEyQixDQUMvQ0MsWUFBWSxDQUFDUyxhQUFhLENBQUNDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFFLENBQUMsRUFBRSxFQUFHLENBQUMsRUFDakQ7TUFDRUMseUJBQXlCLEVBQUUsQ0FBQztNQUM1QkMsY0FBYyxFQUFFLENBQ2RiLFlBQVksQ0FBQ2MscUJBQXFCLEVBQ2xDZCxZQUFZLENBQUNlLHVCQUF1QixFQUNwQ2YsWUFBWSxDQUFDZ0Isc0JBQXNCLENBQ3BDO01BQ0RDLHFCQUFxQixFQUFFLElBQUksQ0FB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