// Copyright 2020-2022, University of Colorado Boulder

/**
 * NLONetWorthScreenView is the root of the view screen graph for the Net Worth screen.
 *
 * @author John Blanco (PhET Interactive Simulations)
 */

import Vector2 from '../../../../dot/js/Vector2.js';
import ScreenView from '../../../../joist/js/ScreenView.js';
import NLCConstants from '../../../../number-line-common/js/common/NLCConstants.js';
import NLCheckbox from '../../../../number-line-common/js/common/view/NLCheckbox.js';
import NLCheckboxGroup from '../../../../number-line-common/js/common/view/NLCheckboxGroup.js';
import PiggyBankDecoration from '../../../../number-line-common/js/explore/model/PiggyBankDecoration.js';
import PiggyBankNode from '../../../../number-line-common/js/explore/view/PiggyBankNode.js';
import ResetAllButton from '../../../../scenery-phet/js/buttons/ResetAllButton.js';
import NLOConstants from '../../common/NLOConstants.js';
import HoldingBagNode from '../../common/view/HoldingBagNode.js';
import HoldingBoxNode from '../../common/view/HoldingBoxNode.js';
import OperationTrackingNumberLineNode from '../../common/view/OperationTrackingNumberLineNode.js';
import TotalValueAccordionBox from '../../common/view/TotalValueAccordionBox.js';
import TotalValueIndicatorNode from '../../common/view/TotalValueIndicatorNode.js';
import numberLineOperations from '../../numberLineOperations.js';
import NumberLineOperationsStrings from '../../NumberLineOperationsStrings.js';
import BalanceSheetItemNode from './BalanceSheetItemNode.js';
class NLONetWorthScreenView extends ScreenView {
  /**
   * @param {NLONetWorthModel} model
   * @param {Tandem} tandem
   */
  constructor(model, tandem) {
    super({
      tandem: tandem
    });

    // checkboxes that will control the presentation options
    const checkboxes = [new NLCheckbox(model.numberLine.showOperationDescriptionsProperty, NumberLineOperationsStrings.operationDescriptions), new NLCheckbox(model.numberLine.showOperationLabelsProperty, NumberLineOperationsStrings.operationLabels), new NLCheckbox(model.numberLine.showTickMarksProperty, NumberLineOperationsStrings.tickMarks)];
    this.addChild(new NLCheckboxGroup(checkboxes));

    // accordion box that displays the net worth when open
    this.addChild(new TotalValueAccordionBox(model.netWorthProperty, {
      titleText: NLOConstants.NET_WORTH_WITH_CURRENCY_STRING,
      labelText: NumberLineOperationsStrings.netWorth,
      showTotalAsCurrency: true,
      expandedProperty: model.netWorthAccordionBoxExpandedProperty,
      centerX: this.layoutBounds.centerX,
      top: this.layoutBounds.minY + NLCConstants.SCREEN_VIEW_Y_MARGIN
    }));

    // number line node
    this.numberLineNode = new OperationTrackingNumberLineNode(model.numberLine, {
      pointNodeOptions: {
        radius: 6
      },
      numberLineOperationNodeOptions: {
        useFinancialDescriptions: true
      }
    });
    this.addChild(this.numberLineNode);

    // piggy bank that displays the net worth and moves as the value changes
    const netWorthPiggyBankNode = new TotalValueIndicatorNode(model.netWorthProperty, new PiggyBankNode({
      decorationType: PiggyBankDecoration.NONE,
      maxWidth: 85 // empirically determined to match design doc
    }), NLOConstants.NET_WORTH_RANGE, {
      isCurrency: true,
      labelCenterOffset: new Vector2(-8, 0),
      centerY: model.numberLine.centerPositionProperty.value.y + 68
    });
    this.addChild(netWorthPiggyBankNode);

    // Update the position of the piggy bank node when the net worth changes.  No unlink needed.
    model.netWorthProperty.link(netWorth => {
      netWorthPiggyBankNode.centerX = model.numberLine.valueToModelPosition(netWorth).x;
    });

    // add the view representation for the storage areas where the assets and debts will be when not in use
    this.addChild(new HoldingBoxNode(model.assetsBox));
    this.addChild(new HoldingBoxNode(model.debtsBox));

    // add the view representations for the areas where the assets and debts will be stored when in use
    this.addChild(new HoldingBagNode(model.assetsBag, NumberLineOperationsStrings.assets));
    this.addChild(new HoldingBagNode(model.debtsBag, NumberLineOperationsStrings.debts));

    // add the assets and debts
    model.balanceSheetItems.forEach(balanceSheetItem => {
      this.addChild(new BalanceSheetItemNode(balanceSheetItem));
    });

    // reset all button
    const resetAllButton = new ResetAllButton({
      listener: () => {
        this.interruptSubtreeInput(); // cancel interactions that may be in progress
        model.reset();
      },
      right: this.layoutBounds.maxX - NLCConstants.SCREEN_VIEW_X_MARGIN,
      bottom: this.layoutBounds.maxY - NLCConstants.SCREEN_VIEW_Y_MARGIN,
      tandem: tandem.createTandem('resetAllButton')
    });
    this.addChild(resetAllButton);
  }

  /**
   * @public
   */
  step() {
    this.numberLineNode.step();
  }
}
numberLineOperations.register('NLONetWorthScreenView', NLONetWorthScreenView);
export default NLONetWorthScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWZWN0b3IyIiwiU2NyZWVuVmlldyIsIk5MQ0NvbnN0YW50cyIsIk5MQ2hlY2tib3giLCJOTENoZWNrYm94R3JvdXAiLCJQaWdneUJhbmtEZWNvcmF0aW9uIiwiUGlnZ3lCYW5rTm9kZSIsIlJlc2V0QWxsQnV0dG9uIiwiTkxPQ29uc3RhbnRzIiwiSG9sZGluZ0JhZ05vZGUiLCJIb2xkaW5nQm94Tm9kZSIsIk9wZXJhdGlvblRyYWNraW5nTnVtYmVyTGluZU5vZGUiLCJUb3RhbFZhbHVlQWNjb3JkaW9uQm94IiwiVG90YWxWYWx1ZUluZGljYXRvck5vZGUiLCJudW1iZXJMaW5lT3BlcmF0aW9ucyIsIk51bWJlckxpbmVPcGVyYXRpb25zU3RyaW5ncyIsIkJhbGFuY2VTaGVldEl0ZW1Ob2RlIiwiTkxPTmV0V29ydGhTY3JlZW5WaWV3IiwiY29uc3RydWN0b3IiLCJtb2RlbCIsInRhbmRlbSIsImNoZWNrYm94ZXMiLCJudW1iZXJMaW5lIiwic2hvd09wZXJhdGlvbkRlc2NyaXB0aW9uc1Byb3BlcnR5Iiwib3BlcmF0aW9uRGVzY3JpcHRpb25zIiwic2hvd09wZXJhdGlvbkxhYmVsc1Byb3BlcnR5Iiwib3BlcmF0aW9uTGFiZWxzIiwic2hvd1RpY2tNYXJrc1Byb3BlcnR5IiwidGlja01hcmtzIiwiYWRkQ2hpbGQiLCJuZXRXb3J0aFByb3BlcnR5IiwidGl0bGVUZXh0IiwiTkVUX1dPUlRIX1dJVEhfQ1VSUkVOQ1lfU1RSSU5HIiwibGFiZWxUZXh0IiwibmV0V29ydGgiLCJzaG93VG90YWxBc0N1cnJlbmN5IiwiZXhwYW5kZWRQcm9wZXJ0eSIsIm5ldFdvcnRoQWNjb3JkaW9uQm94RXhwYW5kZWRQcm9wZXJ0eSIsImNlbnRlclgiLCJsYXlvdXRCb3VuZHMiLCJ0b3AiLCJtaW5ZIiwiU0NSRUVOX1ZJRVdfWV9NQVJHSU4iLCJudW1iZXJMaW5lTm9kZSIsInBvaW50Tm9kZU9wdGlvbnMiLCJyYWRpdXMiLCJudW1iZXJMaW5lT3BlcmF0aW9uTm9kZU9wdGlvbnMiLCJ1c2VGaW5hbmNpYWxEZXNjcmlwdGlvbnMiLCJuZXRXb3J0aFBpZ2d5QmFua05vZGUiLCJkZWNvcmF0aW9uVHlwZSIsIk5PTkUiLCJtYXhXaWR0aCIsIk5FVF9XT1JUSF9SQU5HRSIsImlzQ3VycmVuY3kiLCJsYWJlbENlbnRlck9mZnNldCIsImNlbnRlclkiLCJjZW50ZXJQb3NpdGlvblByb3BlcnR5IiwidmFsdWUiLCJ5IiwibGluayIsInZhbHVlVG9Nb2RlbFBvc2l0aW9uIiwieCIsImFzc2V0c0JveCIsImRlYnRzQm94IiwiYXNzZXRzQmFnIiwiYXNzZXRzIiwiZGVidHNCYWciLCJkZWJ0cyIsImJhbGFuY2VTaGVldEl0ZW1zIiwiZm9yRWFjaCIsImJhbGFuY2VTaGVldEl0ZW0iLCJyZXNldEFsbEJ1dHRvbiIsImxpc3RlbmVyIiwiaW50ZXJydXB0U3VidHJlZUlucHV0IiwicmVzZXQiLCJyaWdodCIsIm1heFgiLCJTQ1JFRU5fVklFV19YX01BUkdJTiIsImJvdHRvbSIsIm1heFkiLCJjcmVhdGVUYW5kZW0iLCJzdGVwIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJOTE9OZXRXb3J0aFNjcmVlblZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjAtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogTkxPTmV0V29ydGhTY3JlZW5WaWV3IGlzIHRoZSByb290IG9mIHRoZSB2aWV3IHNjcmVlbiBncmFwaCBmb3IgdGhlIE5ldCBXb3J0aCBzY3JlZW4uXHJcbiAqXHJcbiAqIEBhdXRob3IgSm9obiBCbGFuY28gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgU2NyZWVuVmlldyBmcm9tICcuLi8uLi8uLi8uLi9qb2lzdC9qcy9TY3JlZW5WaWV3LmpzJztcclxuaW1wb3J0IE5MQ0NvbnN0YW50cyBmcm9tICcuLi8uLi8uLi8uLi9udW1iZXItbGluZS1jb21tb24vanMvY29tbW9uL05MQ0NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBOTENoZWNrYm94IGZyb20gJy4uLy4uLy4uLy4uL251bWJlci1saW5lLWNvbW1vbi9qcy9jb21tb24vdmlldy9OTENoZWNrYm94LmpzJztcclxuaW1wb3J0IE5MQ2hlY2tib3hHcm91cCBmcm9tICcuLi8uLi8uLi8uLi9udW1iZXItbGluZS1jb21tb24vanMvY29tbW9uL3ZpZXcvTkxDaGVja2JveEdyb3VwLmpzJztcclxuaW1wb3J0IFBpZ2d5QmFua0RlY29yYXRpb24gZnJvbSAnLi4vLi4vLi4vLi4vbnVtYmVyLWxpbmUtY29tbW9uL2pzL2V4cGxvcmUvbW9kZWwvUGlnZ3lCYW5rRGVjb3JhdGlvbi5qcyc7XHJcbmltcG9ydCBQaWdneUJhbmtOb2RlIGZyb20gJy4uLy4uLy4uLy4uL251bWJlci1saW5lLWNvbW1vbi9qcy9leHBsb3JlL3ZpZXcvUGlnZ3lCYW5rTm9kZS5qcyc7XHJcbmltcG9ydCBSZXNldEFsbEJ1dHRvbiBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvYnV0dG9ucy9SZXNldEFsbEJ1dHRvbi5qcyc7XHJcbmltcG9ydCBOTE9Db25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL05MT0NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBIb2xkaW5nQmFnTm9kZSBmcm9tICcuLi8uLi9jb21tb24vdmlldy9Ib2xkaW5nQmFnTm9kZS5qcyc7XHJcbmltcG9ydCBIb2xkaW5nQm94Tm9kZSBmcm9tICcuLi8uLi9jb21tb24vdmlldy9Ib2xkaW5nQm94Tm9kZS5qcyc7XHJcbmltcG9ydCBPcGVyYXRpb25UcmFja2luZ051bWJlckxpbmVOb2RlIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L09wZXJhdGlvblRyYWNraW5nTnVtYmVyTGluZU5vZGUuanMnO1xyXG5pbXBvcnQgVG90YWxWYWx1ZUFjY29yZGlvbkJveCBmcm9tICcuLi8uLi9jb21tb24vdmlldy9Ub3RhbFZhbHVlQWNjb3JkaW9uQm94LmpzJztcclxuaW1wb3J0IFRvdGFsVmFsdWVJbmRpY2F0b3JOb2RlIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L1RvdGFsVmFsdWVJbmRpY2F0b3JOb2RlLmpzJztcclxuaW1wb3J0IG51bWJlckxpbmVPcGVyYXRpb25zIGZyb20gJy4uLy4uL251bWJlckxpbmVPcGVyYXRpb25zLmpzJztcclxuaW1wb3J0IE51bWJlckxpbmVPcGVyYXRpb25zU3RyaW5ncyBmcm9tICcuLi8uLi9OdW1iZXJMaW5lT3BlcmF0aW9uc1N0cmluZ3MuanMnO1xyXG5pbXBvcnQgQmFsYW5jZVNoZWV0SXRlbU5vZGUgZnJvbSAnLi9CYWxhbmNlU2hlZXRJdGVtTm9kZS5qcyc7XHJcblxyXG5jbGFzcyBOTE9OZXRXb3J0aFNjcmVlblZpZXcgZXh0ZW5kcyBTY3JlZW5WaWV3IHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtOTE9OZXRXb3J0aE1vZGVsfSBtb2RlbFxyXG4gICAqIEBwYXJhbSB7VGFuZGVtfSB0YW5kZW1cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggbW9kZWwsIHRhbmRlbSApIHtcclxuXHJcbiAgICBzdXBlcigge1xyXG4gICAgICB0YW5kZW06IHRhbmRlbVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGNoZWNrYm94ZXMgdGhhdCB3aWxsIGNvbnRyb2wgdGhlIHByZXNlbnRhdGlvbiBvcHRpb25zXHJcbiAgICBjb25zdCBjaGVja2JveGVzID0gW1xyXG4gICAgICBuZXcgTkxDaGVja2JveCggbW9kZWwubnVtYmVyTGluZS5zaG93T3BlcmF0aW9uRGVzY3JpcHRpb25zUHJvcGVydHksIE51bWJlckxpbmVPcGVyYXRpb25zU3RyaW5ncy5vcGVyYXRpb25EZXNjcmlwdGlvbnMgKSxcclxuICAgICAgbmV3IE5MQ2hlY2tib3goIG1vZGVsLm51bWJlckxpbmUuc2hvd09wZXJhdGlvbkxhYmVsc1Byb3BlcnR5LCBOdW1iZXJMaW5lT3BlcmF0aW9uc1N0cmluZ3Mub3BlcmF0aW9uTGFiZWxzICksXHJcbiAgICAgIG5ldyBOTENoZWNrYm94KCBtb2RlbC5udW1iZXJMaW5lLnNob3dUaWNrTWFya3NQcm9wZXJ0eSwgTnVtYmVyTGluZU9wZXJhdGlvbnNTdHJpbmdzLnRpY2tNYXJrcyApXHJcbiAgICBdO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggbmV3IE5MQ2hlY2tib3hHcm91cCggY2hlY2tib3hlcyApICk7XHJcblxyXG4gICAgLy8gYWNjb3JkaW9uIGJveCB0aGF0IGRpc3BsYXlzIHRoZSBuZXQgd29ydGggd2hlbiBvcGVuXHJcbiAgICB0aGlzLmFkZENoaWxkKCBuZXcgVG90YWxWYWx1ZUFjY29yZGlvbkJveCggbW9kZWwubmV0V29ydGhQcm9wZXJ0eSwge1xyXG4gICAgICB0aXRsZVRleHQ6IE5MT0NvbnN0YW50cy5ORVRfV09SVEhfV0lUSF9DVVJSRU5DWV9TVFJJTkcsXHJcbiAgICAgIGxhYmVsVGV4dDogTnVtYmVyTGluZU9wZXJhdGlvbnNTdHJpbmdzLm5ldFdvcnRoLFxyXG4gICAgICBzaG93VG90YWxBc0N1cnJlbmN5OiB0cnVlLFxyXG4gICAgICBleHBhbmRlZFByb3BlcnR5OiBtb2RlbC5uZXRXb3J0aEFjY29yZGlvbkJveEV4cGFuZGVkUHJvcGVydHksXHJcbiAgICAgIGNlbnRlclg6IHRoaXMubGF5b3V0Qm91bmRzLmNlbnRlclgsXHJcbiAgICAgIHRvcDogdGhpcy5sYXlvdXRCb3VuZHMubWluWSArIE5MQ0NvbnN0YW50cy5TQ1JFRU5fVklFV19ZX01BUkdJTlxyXG4gICAgfSApICk7XHJcblxyXG4gICAgLy8gbnVtYmVyIGxpbmUgbm9kZVxyXG4gICAgdGhpcy5udW1iZXJMaW5lTm9kZSA9IG5ldyBPcGVyYXRpb25UcmFja2luZ051bWJlckxpbmVOb2RlKCBtb2RlbC5udW1iZXJMaW5lLCB7XHJcbiAgICAgIHBvaW50Tm9kZU9wdGlvbnM6IHtcclxuICAgICAgICByYWRpdXM6IDZcclxuICAgICAgfSxcclxuICAgICAgbnVtYmVyTGluZU9wZXJhdGlvbk5vZGVPcHRpb25zOiB7XHJcbiAgICAgICAgdXNlRmluYW5jaWFsRGVzY3JpcHRpb25zOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHRoaXMubnVtYmVyTGluZU5vZGUgKTtcclxuXHJcbiAgICAvLyBwaWdneSBiYW5rIHRoYXQgZGlzcGxheXMgdGhlIG5ldCB3b3J0aCBhbmQgbW92ZXMgYXMgdGhlIHZhbHVlIGNoYW5nZXNcclxuICAgIGNvbnN0IG5ldFdvcnRoUGlnZ3lCYW5rTm9kZSA9IG5ldyBUb3RhbFZhbHVlSW5kaWNhdG9yTm9kZShcclxuICAgICAgbW9kZWwubmV0V29ydGhQcm9wZXJ0eSxcclxuICAgICAgbmV3IFBpZ2d5QmFua05vZGUoIHtcclxuICAgICAgICBkZWNvcmF0aW9uVHlwZTogUGlnZ3lCYW5rRGVjb3JhdGlvbi5OT05FLFxyXG4gICAgICAgIG1heFdpZHRoOiA4NSAvLyBlbXBpcmljYWxseSBkZXRlcm1pbmVkIHRvIG1hdGNoIGRlc2lnbiBkb2NcclxuICAgICAgfSApLFxyXG4gICAgICBOTE9Db25zdGFudHMuTkVUX1dPUlRIX1JBTkdFLFxyXG4gICAgICB7XHJcbiAgICAgICAgaXNDdXJyZW5jeTogdHJ1ZSxcclxuICAgICAgICBsYWJlbENlbnRlck9mZnNldDogbmV3IFZlY3RvcjIoIC04LCAwICksXHJcbiAgICAgICAgY2VudGVyWTogbW9kZWwubnVtYmVyTGluZS5jZW50ZXJQb3NpdGlvblByb3BlcnR5LnZhbHVlLnkgKyA2OFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggbmV0V29ydGhQaWdneUJhbmtOb2RlICk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGlnZ3kgYmFuayBub2RlIHdoZW4gdGhlIG5ldCB3b3J0aCBjaGFuZ2VzLiAgTm8gdW5saW5rIG5lZWRlZC5cclxuICAgIG1vZGVsLm5ldFdvcnRoUHJvcGVydHkubGluayggbmV0V29ydGggPT4ge1xyXG4gICAgICBuZXRXb3J0aFBpZ2d5QmFua05vZGUuY2VudGVyWCA9IG1vZGVsLm51bWJlckxpbmUudmFsdWVUb01vZGVsUG9zaXRpb24oIG5ldFdvcnRoICkueDtcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBhZGQgdGhlIHZpZXcgcmVwcmVzZW50YXRpb24gZm9yIHRoZSBzdG9yYWdlIGFyZWFzIHdoZXJlIHRoZSBhc3NldHMgYW5kIGRlYnRzIHdpbGwgYmUgd2hlbiBub3QgaW4gdXNlXHJcbiAgICB0aGlzLmFkZENoaWxkKCBuZXcgSG9sZGluZ0JveE5vZGUoIG1vZGVsLmFzc2V0c0JveCApICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBuZXcgSG9sZGluZ0JveE5vZGUoIG1vZGVsLmRlYnRzQm94ICkgKTtcclxuXHJcbiAgICAvLyBhZGQgdGhlIHZpZXcgcmVwcmVzZW50YXRpb25zIGZvciB0aGUgYXJlYXMgd2hlcmUgdGhlIGFzc2V0cyBhbmQgZGVidHMgd2lsbCBiZSBzdG9yZWQgd2hlbiBpbiB1c2VcclxuICAgIHRoaXMuYWRkQ2hpbGQoIG5ldyBIb2xkaW5nQmFnTm9kZSggbW9kZWwuYXNzZXRzQmFnLCBOdW1iZXJMaW5lT3BlcmF0aW9uc1N0cmluZ3MuYXNzZXRzICkgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIG5ldyBIb2xkaW5nQmFnTm9kZSggbW9kZWwuZGVidHNCYWcsIE51bWJlckxpbmVPcGVyYXRpb25zU3RyaW5ncy5kZWJ0cyApICk7XHJcblxyXG4gICAgLy8gYWRkIHRoZSBhc3NldHMgYW5kIGRlYnRzXHJcbiAgICBtb2RlbC5iYWxhbmNlU2hlZXRJdGVtcy5mb3JFYWNoKCBiYWxhbmNlU2hlZXRJdGVtID0+IHtcclxuICAgICAgdGhpcy5hZGRDaGlsZCggbmV3IEJhbGFuY2VTaGVldEl0ZW1Ob2RlKCBiYWxhbmNlU2hlZXRJdGVtICkgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyByZXNldCBhbGwgYnV0dG9uXHJcbiAgICBjb25zdCByZXNldEFsbEJ1dHRvbiA9IG5ldyBSZXNldEFsbEJ1dHRvbigge1xyXG4gICAgICBsaXN0ZW5lcjogKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaW50ZXJydXB0U3VidHJlZUlucHV0KCk7IC8vIGNhbmNlbCBpbnRlcmFjdGlvbnMgdGhhdCBtYXkgYmUgaW4gcHJvZ3Jlc3NcclxuICAgICAgICBtb2RlbC5yZXNldCgpO1xyXG4gICAgICB9LFxyXG4gICAgICByaWdodDogdGhpcy5sYXlvdXRCb3VuZHMubWF4WCAtIE5MQ0NvbnN0YW50cy5TQ1JFRU5fVklFV19YX01BUkdJTixcclxuICAgICAgYm90dG9tOiB0aGlzLmxheW91dEJvdW5kcy5tYXhZIC0gTkxDQ29uc3RhbnRzLlNDUkVFTl9WSUVXX1lfTUFSR0lOLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdyZXNldEFsbEJ1dHRvbicgKVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggcmVzZXRBbGxCdXR0b24gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBzdGVwKCkge1xyXG4gICAgdGhpcy5udW1iZXJMaW5lTm9kZS5zdGVwKCk7XHJcbiAgfVxyXG59XHJcblxyXG5udW1iZXJMaW5lT3BlcmF0aW9ucy5yZWdpc3RlciggJ05MT05ldFdvcnRoU2NyZWVuVmlldycsIE5MT05ldFdvcnRoU2NyZWVuVmlldyApO1xyXG5leHBvcnQgZGVmYXVsdCBOTE9OZXRXb3J0aFNjcmVlblZpZXc7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLE9BQU8sTUFBTSwrQkFBK0I7QUFDbkQsT0FBT0MsVUFBVSxNQUFNLG9DQUFvQztBQUMzRCxPQUFPQyxZQUFZLE1BQU0sMERBQTBEO0FBQ25GLE9BQU9DLFVBQVUsTUFBTSw2REFBNkQ7QUFDcEYsT0FBT0MsZUFBZSxNQUFNLGtFQUFrRTtBQUM5RixPQUFPQyxtQkFBbUIsTUFBTSx3RUFBd0U7QUFDeEcsT0FBT0MsYUFBYSxNQUFNLGlFQUFpRTtBQUMzRixPQUFPQyxjQUFjLE1BQU0sdURBQXVEO0FBQ2xGLE9BQU9DLFlBQVksTUFBTSw4QkFBOEI7QUFDdkQsT0FBT0MsY0FBYyxNQUFNLHFDQUFxQztBQUNoRSxPQUFPQyxjQUFjLE1BQU0scUNBQXFDO0FBQ2hFLE9BQU9DLCtCQUErQixNQUFNLHNEQUFzRDtBQUNsRyxPQUFPQyxzQkFBc0IsTUFBTSw2Q0FBNkM7QUFDaEYsT0FBT0MsdUJBQXVCLE1BQU0sOENBQThDO0FBQ2xGLE9BQU9DLG9CQUFvQixNQUFNLCtCQUErQjtBQUNoRSxPQUFPQywyQkFBMkIsTUFBTSxzQ0FBc0M7QUFDOUUsT0FBT0Msb0JBQW9CLE1BQU0sMkJBQTJCO0FBRTVELE1BQU1DLHFCQUFxQixTQUFTaEIsVUFBVSxDQUFDO0VBRTdDO0FBQ0Y7QUFDQTtBQUNBO0VBQ0VpQixXQUFXQSxDQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRztJQUUzQixLQUFLLENBQUU7TUFDTEEsTUFBTSxFQUFFQTtJQUNWLENBQUUsQ0FBQzs7SUFFSDtJQUNBLE1BQU1DLFVBQVUsR0FBRyxDQUNqQixJQUFJbEIsVUFBVSxDQUFFZ0IsS0FBSyxDQUFDRyxVQUFVLENBQUNDLGlDQUFpQyxFQUFFUiwyQkFBMkIsQ0FBQ1MscUJBQXNCLENBQUMsRUFDdkgsSUFBSXJCLFVBQVUsQ0FBRWdCLEtBQUssQ0FBQ0csVUFBVSxDQUFDRywyQkFBMkIsRUFBRVYsMkJBQTJCLENBQUNXLGVBQWdCLENBQUMsRUFDM0csSUFBSXZCLFVBQVUsQ0FBRWdCLEtBQUssQ0FBQ0csVUFBVSxDQUFDSyxxQkFBcUIsRUFBRVosMkJBQTJCLENBQUNhLFNBQVUsQ0FBQyxDQUNoRztJQUNELElBQUksQ0FBQ0MsUUFBUSxDQUFFLElBQUl6QixlQUFlLENBQUVpQixVQUFXLENBQUUsQ0FBQzs7SUFFbEQ7SUFDQSxJQUFJLENBQUNRLFFBQVEsQ0FBRSxJQUFJakIsc0JBQXNCLENBQUVPLEtBQUssQ0FBQ1csZ0JBQWdCLEVBQUU7TUFDakVDLFNBQVMsRUFBRXZCLFlBQVksQ0FBQ3dCLDhCQUE4QjtNQUN0REMsU0FBUyxFQUFFbEIsMkJBQTJCLENBQUNtQixRQUFRO01BQy9DQyxtQkFBbUIsRUFBRSxJQUFJO01BQ3pCQyxnQkFBZ0IsRUFBRWpCLEtBQUssQ0FBQ2tCLG9DQUFvQztNQUM1REMsT0FBTyxFQUFFLElBQUksQ0FBQ0MsWUFBWSxDQUFDRCxPQUFPO01BQ2xDRSxHQUFHLEVBQUUsSUFBSSxDQUFDRCxZQUFZLENBQUNFLElBQUksR0FBR3ZDLFlBQVksQ0FBQ3dDO0lBQzdDLENBQUUsQ0FBRSxDQUFDOztJQUVMO0lBQ0EsSUFBSSxDQUFDQyxjQUFjLEdBQUcsSUFBSWhDLCtCQUErQixDQUFFUSxLQUFLLENBQUNHLFVBQVUsRUFBRTtNQUMzRXNCLGdCQUFnQixFQUFFO1FBQ2hCQyxNQUFNLEVBQUU7TUFDVixDQUFDO01BQ0RDLDhCQUE4QixFQUFFO1FBQzlCQyx3QkFBd0IsRUFBRTtNQUM1QjtJQUNGLENBQUUsQ0FBQztJQUNILElBQUksQ0FBQ2xCLFFBQVEsQ0FBRSxJQUFJLENBQUNjLGNBQWUsQ0FBQzs7SUFFcEM7SUFDQSxNQUFNSyxxQkFBcUIsR0FBRyxJQUFJbkMsdUJBQXVCLENBQ3ZETSxLQUFLLENBQUNXLGdCQUFnQixFQUN0QixJQUFJeEIsYUFBYSxDQUFFO01BQ2pCMkMsY0FBYyxFQUFFNUMsbUJBQW1CLENBQUM2QyxJQUFJO01BQ3hDQyxRQUFRLEVBQUUsRUFBRSxDQUFDO0lBQ2YsQ0FBRSxDQUFDLEVBQ0gzQyxZQUFZLENBQUM0QyxlQUFlLEVBQzVCO01BQ0VDLFVBQVUsRUFBRSxJQUFJO01BQ2hCQyxpQkFBaUIsRUFBRSxJQUFJdEQsT0FBTyxDQUFFLENBQUMsQ0FBQyxFQUFFLENBQUUsQ0FBQztNQUN2Q3VELE9BQU8sRUFBRXBDLEtBQUssQ0FBQ0csVUFBVSxDQUFDa0Msc0JBQXNCLENBQUNDLEtBQUssQ0FBQ0MsQ0FBQyxHQUFHO0lBQzdELENBQ0YsQ0FBQztJQUNELElBQUksQ0FBQzdCLFFBQVEsQ0FBRW1CLHFCQUFzQixDQUFDOztJQUV0QztJQUNBN0IsS0FBSyxDQUFDVyxnQkFBZ0IsQ0FBQzZCLElBQUksQ0FBRXpCLFFBQVEsSUFBSTtNQUN2Q2MscUJBQXFCLENBQUNWLE9BQU8sR0FBR25CLEtBQUssQ0FBQ0csVUFBVSxDQUFDc0Msb0JBQW9CLENBQUUxQixRQUFTLENBQUMsQ0FBQzJCLENBQUM7SUFDckYsQ0FBRSxDQUFDOztJQUVIO0lBQ0EsSUFBSSxDQUFDaEMsUUFBUSxDQUFFLElBQUluQixjQUFjLENBQUVTLEtBQUssQ0FBQzJDLFNBQVUsQ0FBRSxDQUFDO0lBQ3RELElBQUksQ0FBQ2pDLFFBQVEsQ0FBRSxJQUFJbkIsY0FBYyxDQUFFUyxLQUFLLENBQUM0QyxRQUFTLENBQUUsQ0FBQzs7SUFFckQ7SUFDQSxJQUFJLENBQUNsQyxRQUFRLENBQUUsSUFBSXBCLGNBQWMsQ0FBRVUsS0FBSyxDQUFDNkMsU0FBUyxFQUFFakQsMkJBQTJCLENBQUNrRCxNQUFPLENBQUUsQ0FBQztJQUMxRixJQUFJLENBQUNwQyxRQUFRLENBQUUsSUFBSXBCLGNBQWMsQ0FBRVUsS0FBSyxDQUFDK0MsUUFBUSxFQUFFbkQsMkJBQTJCLENBQUNvRCxLQUFNLENBQUUsQ0FBQzs7SUFFeEY7SUFDQWhELEtBQUssQ0FBQ2lELGlCQUFpQixDQUFDQyxPQUFPLENBQUVDLGdCQUFnQixJQUFJO01BQ25ELElBQUksQ0FBQ3pDLFFBQVEsQ0FBRSxJQUFJYixvQkFBb0IsQ0FBRXNELGdCQUFpQixDQUFFLENBQUM7SUFDL0QsQ0FBRSxDQUFDOztJQUVIO0lBQ0EsTUFBTUMsY0FBYyxHQUFHLElBQUloRSxjQUFjLENBQUU7TUFDekNpRSxRQUFRLEVBQUVBLENBQUEsS0FBTTtRQUNkLElBQUksQ0FBQ0MscUJBQXFCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUJ0RCxLQUFLLENBQUN1RCxLQUFLLENBQUMsQ0FBQztNQUNmLENBQUM7TUFDREMsS0FBSyxFQUFFLElBQUksQ0FBQ3BDLFlBQVksQ0FBQ3FDLElBQUksR0FBRzFFLFlBQVksQ0FBQzJFLG9CQUFvQjtNQUNqRUMsTUFBTSxFQUFFLElBQUksQ0FBQ3ZDLFlBQVksQ0FBQ3dDLElBQUksR0FBRzdFLFlBQVksQ0FBQ3dDLG9CQUFvQjtNQUNsRXRCLE1BQU0sRUFBRUEsTUFBTSxDQUFDNEQsWUFBWSxDQUFFLGdCQUFpQjtJQUNoRCxDQUFFLENBQUM7SUFDSCxJQUFJLENBQUNuRCxRQUFRLENBQUUwQyxjQUFlLENBQUM7RUFDakM7O0VBRUE7QUFDRjtBQUNBO0VBQ0VVLElBQUlBLENBQUEsRUFBRztJQUNMLElBQUksQ0FBQ3RDLGNBQWMsQ0FBQ3NDLElBQUksQ0FBQyxDQUFDO0VBQzVCO0FBQ0Y7QUFFQW5FLG9CQUFvQixDQUFDb0UsUUFBUSxDQUFFLHVCQUF1QixFQUFFakUscUJBQXNCLENBQUM7QUFDL0UsZUFBZUEscUJBQXFCIn0=