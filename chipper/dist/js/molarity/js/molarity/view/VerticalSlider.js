// Copyright 2013-2023, University of Colorado Boulder

/**
 * Vertical sliders in the Molarity simulation.
 * Can be switched between qualitative and quantitative display of range and value.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 * @author Michael Kauzmann (PhET Interactive Simulations)
 * @author Taylor Want (PhET Interactive Simulations)
 */

import Dimension2 from '../../../../dot/js/Dimension2.js';
import Utils from '../../../../dot/js/Utils.js';
import merge from '../../../../phet-core/js/merge.js';
import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { Color, Node, RichText, Text } from '../../../../scenery/js/imports.js';
import VSlider from '../../../../sun/js/VSlider.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import molarity from '../../molarity.js';
import MolarityStrings from '../../MolarityStrings.js';
import MolarityConstants from '../MolarityConstants.js';
import DualLabelNode from './DualLabelNode.js';
const pattern0Value1UnitsString = MolarityStrings.pattern['0value']['1units'];

// constants
const RANGE_FONT = new PhetFont(20);
const THUMB_NORMAL_COLOR = new Color(89, 156, 212);
const THUMB_HIGHLIGHT_COLOR = THUMB_NORMAL_COLOR.brighterColor();
const MAX_TEXT_WIDTH = 120; // constrain text for i18n, determined empirically

class VerticalSlider extends Node {
  /**
   * @param {string} title
   * @param {string} subtitle
   * @param {string} minLabel
   * @param {string} maxLabel
   * @param {Property.<number>} property
   * @param {Range} range
   * @param {number} decimalPlaces
   * @param {string} units
   * @param {Property.<boolean>} valuesVisibleProperty
   * @param {Property.<boolean>} useQuantitativeDescriptionsProperty -  whether quantitative or qualitative alerts and
   *                                                                    descriptions are used.
   * @param {MolarityAlertManager} alertManager
   * @param {SolutionQuantityDescriber} describer
   * @param {Object} [options]
   */
  constructor(title, subtitle, minLabel, maxLabel, property, range, decimalPlaces, units, valuesVisibleProperty, useQuantitativeDescriptionsProperty, alertManager, describer, options) {
    options = merge({
      tandem: Tandem.REQUIRED,
      // {Tandem}
      sliderOptions: {
        trackFillEnabled: 'black',
        trackStroke: 'rgb( 200, 200, 200 )',
        trackLineWidth: 7,
        trackCornerRadius: 10,
        thumbSize: new Dimension2(68, 30),
        trackSize: new Dimension2(10, 200),
        thumbFill: THUMB_NORMAL_COLOR,
        thumbFillHighlighted: THUMB_HIGHLIGHT_COLOR,
        // Turn off default sound generation, since this does its own.
        soundGenerator: null,
        // pdom
        shiftKeyboardStep: Math.pow(10, decimalPlaces * -1),
        appendDescription: true,
        keyboardStep: 0.050,
        a11yDependencies: [],
        containerTagName: 'div' // for fixing layout in a11y-view with aria-valuetext
      }
    }, options);
    assert && assert(options.sliderOptions.tandem === undefined, 'VerticalSlider sets its own sliderOptions.tandem');
    assert && assert(options.sliderOptions.startDrag === undefined, 'VerticalSlider sets its own sliderOptions.startDrag');
    assert && assert(options.sliderOptions.endDrag === undefined, 'VerticalSlider sets its own sliderOptions.endDrag');
    assert && assert(options.constrainValue === undefined, 'VerticalSlider sets its own constrainValue');
    assert && assert(options.sliderOptions.a11yDependencies.indexOf(useQuantitativeDescriptionsProperty) === -1, 'VerticalSlider adds useQuantitativeDescriptionsProperty as an a11yDependency, no need to add it yourself.');

    // aria-valuetext is also updated whenever useQuantitative Descriptions Property changes. Push this instead of adding
    // it as a default to support client passing in their own a11yDependencies.
    options.sliderOptions.a11yDependencies.push(useQuantitativeDescriptionsProperty);

    // model values are constrained to the number of decimal places supported by the slider so that resultant molarity
    // values are calculated without discrepancies due to precision
    options.sliderOptions.constrainValue = value => Utils.toFixedNumber(value, decimalPlaces);

    // options set by VerticalSlider
    options = merge({
      sliderOptions: {
        tandem: options.tandem.createTandem('slider'),
        startDrag: event => {
          this.draggingPointerType = event.pointer.type;
        },
        endDrag: () => {
          this.draggingPointerType = null;
          alertManager.alertSolutionQuantityChanged(describer);
        }
      }
    }, options);
    const titleText = new RichText(title, {
      replaceNewlines: true,
      align: 'center',
      font: new PhetFont({
        size: 24,
        weight: 'bold'
      }),
      maxWidth: MAX_TEXT_WIDTH,
      tandem: options.tandem.createTandem('titleText')
    });
    const subtitleText = new Text(subtitle, {
      font: new PhetFont(22),
      maxWidth: MAX_TEXT_WIDTH,
      tandem: options.tandem.createTandem('subtitleText')
    });
    const minNode = new DualLabelNode(Utils.toFixed(range.min, range.min === 0 ? 0 : MolarityConstants.RANGE_DECIMAL_PLACES), minLabel, valuesVisibleProperty, RANGE_FONT, options.tandem.createTandem('minNode'), {
      maxWidth: MAX_TEXT_WIDTH
    });
    const maxNode = new DualLabelNode(Utils.toFixed(range.max, MolarityConstants.RANGE_DECIMAL_PLACES), maxLabel, valuesVisibleProperty, RANGE_FONT, options.tandem.createTandem('maxNode'), {
      maxWidth: MAX_TEXT_WIDTH
    });
    const sliderNode = new VSlider(property, range, options.sliderOptions);
    const valueText = new Text('?', {
      font: new PhetFont(20),
      maxWidth: 90,
      // constrain for i18n, determined empirically
      tandem: options.tandem.createTandem('valueText')
    });

    // layout
    const centerX = sliderNode.centerX;
    maxNode.centerX = sliderNode.centerX;
    maxNode.bottom = sliderNode.top;
    minNode.centerX = maxNode.centerX;
    minNode.top = sliderNode.bottom;
    subtitleText.centerX = centerX;
    subtitleText.bottom = maxNode.top - 5;
    titleText.centerX = centerX;
    titleText.bottom = subtitleText.top - 5;
    valueText.left = sliderNode.right + 5;
    super({
      children: [titleText, subtitleText, minNode, maxNode, sliderNode, valueText],
      tandem: options.tandem
    });

    // @public (read-only) {string|null} - what, if anything, is currently dragging the thumb, null if nothing
    this.draggingPointerType = null;

    // Update the value display, and position it relative to the track, so it's to the right of the slider thumb.
    const trackMinY = sliderNode.centerY - options.sliderOptions.trackSize.height / 2;
    property.link(value => {
      valueText.string = StringUtils.format(pattern0Value1UnitsString, Utils.toFixed(value, decimalPlaces), units);
      valueText.centerY = trackMinY + Utils.linear(range.min, range.max, options.sliderOptions.trackSize.height, 0, value);
    });

    // switch between quantitative and qualitative display
    valuesVisibleProperty.link(visible => {
      valueText.setVisible(visible);
    });
  }
}
molarity.register('VerticalSlider', VerticalSlider);
export default VerticalSlider;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEaW1lbnNpb24yIiwiVXRpbHMiLCJtZXJnZSIsIlN0cmluZ1V0aWxzIiwiUGhldEZvbnQiLCJDb2xvciIsIk5vZGUiLCJSaWNoVGV4dCIsIlRleHQiLCJWU2xpZGVyIiwiVGFuZGVtIiwibW9sYXJpdHkiLCJNb2xhcml0eVN0cmluZ3MiLCJNb2xhcml0eUNvbnN0YW50cyIsIkR1YWxMYWJlbE5vZGUiLCJwYXR0ZXJuMFZhbHVlMVVuaXRzU3RyaW5nIiwicGF0dGVybiIsIlJBTkdFX0ZPTlQiLCJUSFVNQl9OT1JNQUxfQ09MT1IiLCJUSFVNQl9ISUdITElHSFRfQ09MT1IiLCJicmlnaHRlckNvbG9yIiwiTUFYX1RFWFRfV0lEVEgiLCJWZXJ0aWNhbFNsaWRlciIsImNvbnN0cnVjdG9yIiwidGl0bGUiLCJzdWJ0aXRsZSIsIm1pbkxhYmVsIiwibWF4TGFiZWwiLCJwcm9wZXJ0eSIsInJhbmdlIiwiZGVjaW1hbFBsYWNlcyIsInVuaXRzIiwidmFsdWVzVmlzaWJsZVByb3BlcnR5IiwidXNlUXVhbnRpdGF0aXZlRGVzY3JpcHRpb25zUHJvcGVydHkiLCJhbGVydE1hbmFnZXIiLCJkZXNjcmliZXIiLCJvcHRpb25zIiwidGFuZGVtIiwiUkVRVUlSRUQiLCJzbGlkZXJPcHRpb25zIiwidHJhY2tGaWxsRW5hYmxlZCIsInRyYWNrU3Ryb2tlIiwidHJhY2tMaW5lV2lkdGgiLCJ0cmFja0Nvcm5lclJhZGl1cyIsInRodW1iU2l6ZSIsInRyYWNrU2l6ZSIsInRodW1iRmlsbCIsInRodW1iRmlsbEhpZ2hsaWdodGVkIiwic291bmRHZW5lcmF0b3IiLCJzaGlmdEtleWJvYXJkU3RlcCIsIk1hdGgiLCJwb3ciLCJhcHBlbmREZXNjcmlwdGlvbiIsImtleWJvYXJkU3RlcCIsImExMXlEZXBlbmRlbmNpZXMiLCJjb250YWluZXJUYWdOYW1lIiwiYXNzZXJ0IiwidW5kZWZpbmVkIiwic3RhcnREcmFnIiwiZW5kRHJhZyIsImNvbnN0cmFpblZhbHVlIiwiaW5kZXhPZiIsInB1c2giLCJ2YWx1ZSIsInRvRml4ZWROdW1iZXIiLCJjcmVhdGVUYW5kZW0iLCJldmVudCIsImRyYWdnaW5nUG9pbnRlclR5cGUiLCJwb2ludGVyIiwidHlwZSIsImFsZXJ0U29sdXRpb25RdWFudGl0eUNoYW5nZWQiLCJ0aXRsZVRleHQiLCJyZXBsYWNlTmV3bGluZXMiLCJhbGlnbiIsImZvbnQiLCJzaXplIiwid2VpZ2h0IiwibWF4V2lkdGgiLCJzdWJ0aXRsZVRleHQiLCJtaW5Ob2RlIiwidG9GaXhlZCIsIm1pbiIsIlJBTkdFX0RFQ0lNQUxfUExBQ0VTIiwibWF4Tm9kZSIsIm1heCIsInNsaWRlck5vZGUiLCJ2YWx1ZVRleHQiLCJjZW50ZXJYIiwiYm90dG9tIiwidG9wIiwibGVmdCIsInJpZ2h0IiwiY2hpbGRyZW4iLCJ0cmFja01pblkiLCJjZW50ZXJZIiwiaGVpZ2h0IiwibGluayIsInN0cmluZyIsImZvcm1hdCIsImxpbmVhciIsInZpc2libGUiLCJzZXRWaXNpYmxlIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJWZXJ0aWNhbFNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxMy0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBWZXJ0aWNhbCBzbGlkZXJzIGluIHRoZSBNb2xhcml0eSBzaW11bGF0aW9uLlxyXG4gKiBDYW4gYmUgc3dpdGNoZWQgYmV0d2VlbiBxdWFsaXRhdGl2ZSBhbmQgcXVhbnRpdGF0aXZlIGRpc3BsYXkgb2YgcmFuZ2UgYW5kIHZhbHVlLlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKiBAYXV0aG9yIE1pY2hhZWwgS2F1em1hbm4gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgVGF5bG9yIFdhbnQgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IERpbWVuc2lvbjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL0RpbWVuc2lvbjIuanMnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IG1lcmdlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tZXJnZS5qcyc7XHJcbmltcG9ydCBTdHJpbmdVdGlscyBmcm9tICcuLi8uLi8uLi8uLi9waGV0Y29tbW9uL2pzL3V0aWwvU3RyaW5nVXRpbHMuanMnO1xyXG5pbXBvcnQgUGhldEZvbnQgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1BoZXRGb250LmpzJztcclxuaW1wb3J0IHsgQ29sb3IsIE5vZGUsIFJpY2hUZXh0LCBUZXh0IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFZTbGlkZXIgZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL1ZTbGlkZXIuanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5pbXBvcnQgbW9sYXJpdHkgZnJvbSAnLi4vLi4vbW9sYXJpdHkuanMnO1xyXG5pbXBvcnQgTW9sYXJpdHlTdHJpbmdzIGZyb20gJy4uLy4uL01vbGFyaXR5U3RyaW5ncy5qcyc7XHJcbmltcG9ydCBNb2xhcml0eUNvbnN0YW50cyBmcm9tICcuLi9Nb2xhcml0eUNvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBEdWFsTGFiZWxOb2RlIGZyb20gJy4vRHVhbExhYmVsTm9kZS5qcyc7XHJcblxyXG5jb25zdCBwYXR0ZXJuMFZhbHVlMVVuaXRzU3RyaW5nID0gTW9sYXJpdHlTdHJpbmdzLnBhdHRlcm5bICcwdmFsdWUnIF1bICcxdW5pdHMnIF07XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgUkFOR0VfRk9OVCA9IG5ldyBQaGV0Rm9udCggMjAgKTtcclxuY29uc3QgVEhVTUJfTk9STUFMX0NPTE9SID0gbmV3IENvbG9yKCA4OSwgMTU2LCAyMTIgKTtcclxuY29uc3QgVEhVTUJfSElHSExJR0hUX0NPTE9SID0gVEhVTUJfTk9STUFMX0NPTE9SLmJyaWdodGVyQ29sb3IoKTtcclxuY29uc3QgTUFYX1RFWFRfV0lEVEggPSAxMjA7IC8vIGNvbnN0cmFpbiB0ZXh0IGZvciBpMThuLCBkZXRlcm1pbmVkIGVtcGlyaWNhbGx5XHJcblxyXG5jbGFzcyBWZXJ0aWNhbFNsaWRlciBleHRlbmRzIE5vZGUge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdWJ0aXRsZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtaW5MYWJlbFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtYXhMYWJlbFxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPG51bWJlcj59IHByb3BlcnR5XHJcbiAgICogQHBhcmFtIHtSYW5nZX0gcmFuZ2VcclxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVjaW1hbFBsYWNlc1xyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1bml0c1xyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPGJvb2xlYW4+fSB2YWx1ZXNWaXNpYmxlUHJvcGVydHlcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5Ljxib29sZWFuPn0gdXNlUXVhbnRpdGF0aXZlRGVzY3JpcHRpb25zUHJvcGVydHkgLSAgd2hldGhlciBxdWFudGl0YXRpdmUgb3IgcXVhbGl0YXRpdmUgYWxlcnRzIGFuZFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbnMgYXJlIHVzZWQuXHJcbiAgICogQHBhcmFtIHtNb2xhcml0eUFsZXJ0TWFuYWdlcn0gYWxlcnRNYW5hZ2VyXHJcbiAgICogQHBhcmFtIHtTb2x1dGlvblF1YW50aXR5RGVzY3JpYmVyfSBkZXNjcmliZXJcclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIHRpdGxlLCBzdWJ0aXRsZSwgbWluTGFiZWwsIG1heExhYmVsLCBwcm9wZXJ0eSwgcmFuZ2UsIGRlY2ltYWxQbGFjZXMsIHVuaXRzLCB2YWx1ZXNWaXNpYmxlUHJvcGVydHksXHJcbiAgICAgICAgICAgICAgIHVzZVF1YW50aXRhdGl2ZURlc2NyaXB0aW9uc1Byb3BlcnR5LCBhbGVydE1hbmFnZXIsIGRlc2NyaWJlciwgb3B0aW9ucyApIHtcclxuXHJcbiAgICBvcHRpb25zID0gbWVyZ2UoIHtcclxuICAgICAgdGFuZGVtOiBUYW5kZW0uUkVRVUlSRUQsIC8vIHtUYW5kZW19XHJcbiAgICAgIHNsaWRlck9wdGlvbnM6IHtcclxuICAgICAgICB0cmFja0ZpbGxFbmFibGVkOiAnYmxhY2snLFxyXG4gICAgICAgIHRyYWNrU3Ryb2tlOiAncmdiKCAyMDAsIDIwMCwgMjAwICknLFxyXG4gICAgICAgIHRyYWNrTGluZVdpZHRoOiA3LFxyXG4gICAgICAgIHRyYWNrQ29ybmVyUmFkaXVzOiAxMCxcclxuICAgICAgICB0aHVtYlNpemU6IG5ldyBEaW1lbnNpb24yKCA2OCwgMzAgKSxcclxuICAgICAgICB0cmFja1NpemU6IG5ldyBEaW1lbnNpb24yKCAxMCwgMjAwICksXHJcbiAgICAgICAgdGh1bWJGaWxsOiBUSFVNQl9OT1JNQUxfQ09MT1IsXHJcbiAgICAgICAgdGh1bWJGaWxsSGlnaGxpZ2h0ZWQ6IFRIVU1CX0hJR0hMSUdIVF9DT0xPUixcclxuXHJcbiAgICAgICAgLy8gVHVybiBvZmYgZGVmYXVsdCBzb3VuZCBnZW5lcmF0aW9uLCBzaW5jZSB0aGlzIGRvZXMgaXRzIG93bi5cclxuICAgICAgICBzb3VuZEdlbmVyYXRvcjogbnVsbCxcclxuXHJcbiAgICAgICAgLy8gcGRvbVxyXG4gICAgICAgIHNoaWZ0S2V5Ym9hcmRTdGVwOiBNYXRoLnBvdyggMTAsIGRlY2ltYWxQbGFjZXMgKiAtMSApLFxyXG4gICAgICAgIGFwcGVuZERlc2NyaXB0aW9uOiB0cnVlLFxyXG4gICAgICAgIGtleWJvYXJkU3RlcDogMC4wNTAsXHJcbiAgICAgICAgYTExeURlcGVuZGVuY2llczogW10sXHJcbiAgICAgICAgY29udGFpbmVyVGFnTmFtZTogJ2RpdicgLy8gZm9yIGZpeGluZyBsYXlvdXQgaW4gYTExeS12aWV3IHdpdGggYXJpYS12YWx1ZXRleHRcclxuICAgICAgfVxyXG4gICAgfSwgb3B0aW9ucyApO1xyXG5cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMuc2xpZGVyT3B0aW9ucy50YW5kZW0gPT09IHVuZGVmaW5lZCwgJ1ZlcnRpY2FsU2xpZGVyIHNldHMgaXRzIG93biBzbGlkZXJPcHRpb25zLnRhbmRlbScgKTtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMuc2xpZGVyT3B0aW9ucy5zdGFydERyYWcgPT09IHVuZGVmaW5lZCwgJ1ZlcnRpY2FsU2xpZGVyIHNldHMgaXRzIG93biBzbGlkZXJPcHRpb25zLnN0YXJ0RHJhZycgKTtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMuc2xpZGVyT3B0aW9ucy5lbmREcmFnID09PSB1bmRlZmluZWQsICdWZXJ0aWNhbFNsaWRlciBzZXRzIGl0cyBvd24gc2xpZGVyT3B0aW9ucy5lbmREcmFnJyApO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggb3B0aW9ucy5jb25zdHJhaW5WYWx1ZSA9PT0gdW5kZWZpbmVkLCAnVmVydGljYWxTbGlkZXIgc2V0cyBpdHMgb3duIGNvbnN0cmFpblZhbHVlJyApO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggb3B0aW9ucy5zbGlkZXJPcHRpb25zLmExMXlEZXBlbmRlbmNpZXMuaW5kZXhPZiggdXNlUXVhbnRpdGF0aXZlRGVzY3JpcHRpb25zUHJvcGVydHkgKSA9PT0gLTEsXHJcbiAgICAgICdWZXJ0aWNhbFNsaWRlciBhZGRzIHVzZVF1YW50aXRhdGl2ZURlc2NyaXB0aW9uc1Byb3BlcnR5IGFzIGFuIGExMXlEZXBlbmRlbmN5LCBubyBuZWVkIHRvIGFkZCBpdCB5b3Vyc2VsZi4nICk7XHJcblxyXG4gICAgLy8gYXJpYS12YWx1ZXRleHQgaXMgYWxzbyB1cGRhdGVkIHdoZW5ldmVyIHVzZVF1YW50aXRhdGl2ZSBEZXNjcmlwdGlvbnMgUHJvcGVydHkgY2hhbmdlcy4gUHVzaCB0aGlzIGluc3RlYWQgb2YgYWRkaW5nXHJcbiAgICAvLyBpdCBhcyBhIGRlZmF1bHQgdG8gc3VwcG9ydCBjbGllbnQgcGFzc2luZyBpbiB0aGVpciBvd24gYTExeURlcGVuZGVuY2llcy5cclxuICAgIG9wdGlvbnMuc2xpZGVyT3B0aW9ucy5hMTF5RGVwZW5kZW5jaWVzLnB1c2goIHVzZVF1YW50aXRhdGl2ZURlc2NyaXB0aW9uc1Byb3BlcnR5ICk7XHJcblxyXG4gICAgLy8gbW9kZWwgdmFsdWVzIGFyZSBjb25zdHJhaW5lZCB0byB0aGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHN1cHBvcnRlZCBieSB0aGUgc2xpZGVyIHNvIHRoYXQgcmVzdWx0YW50IG1vbGFyaXR5XHJcbiAgICAvLyB2YWx1ZXMgYXJlIGNhbGN1bGF0ZWQgd2l0aG91dCBkaXNjcmVwYW5jaWVzIGR1ZSB0byBwcmVjaXNpb25cclxuICAgIG9wdGlvbnMuc2xpZGVyT3B0aW9ucy5jb25zdHJhaW5WYWx1ZSA9IHZhbHVlID0+IFV0aWxzLnRvRml4ZWROdW1iZXIoIHZhbHVlLCBkZWNpbWFsUGxhY2VzICk7XHJcblxyXG4gICAgLy8gb3B0aW9ucyBzZXQgYnkgVmVydGljYWxTbGlkZXJcclxuICAgIG9wdGlvbnMgPSBtZXJnZSgge1xyXG4gICAgICBzbGlkZXJPcHRpb25zOiB7XHJcbiAgICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdzbGlkZXInICksXHJcbiAgICAgICAgc3RhcnREcmFnOiBldmVudCA9PiB7XHJcbiAgICAgICAgICB0aGlzLmRyYWdnaW5nUG9pbnRlclR5cGUgPSBldmVudC5wb2ludGVyLnR5cGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbmREcmFnOiAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmRyYWdnaW5nUG9pbnRlclR5cGUgPSBudWxsO1xyXG4gICAgICAgICAgYWxlcnRNYW5hZ2VyLmFsZXJ0U29sdXRpb25RdWFudGl0eUNoYW5nZWQoIGRlc2NyaWJlciApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgb3B0aW9ucyApO1xyXG5cclxuICAgIGNvbnN0IHRpdGxlVGV4dCA9IG5ldyBSaWNoVGV4dCggdGl0bGUsIHtcclxuICAgICAgcmVwbGFjZU5ld2xpbmVzOiB0cnVlLFxyXG4gICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgIGZvbnQ6IG5ldyBQaGV0Rm9udCggeyBzaXplOiAyNCwgd2VpZ2h0OiAnYm9sZCcgfSApLFxyXG4gICAgICBtYXhXaWR0aDogTUFYX1RFWFRfV0lEVEgsXHJcbiAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAndGl0bGVUZXh0JyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3Qgc3VidGl0bGVUZXh0ID0gbmV3IFRleHQoIHN1YnRpdGxlLCB7XHJcbiAgICAgIGZvbnQ6IG5ldyBQaGV0Rm9udCggMjIgKSxcclxuICAgICAgbWF4V2lkdGg6IE1BWF9URVhUX1dJRFRILFxyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3N1YnRpdGxlVGV4dCcgKVxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IG1pbk5vZGUgPSBuZXcgRHVhbExhYmVsTm9kZSggVXRpbHMudG9GaXhlZCggcmFuZ2UubWluLCByYW5nZS5taW4gPT09IDAgPyAwIDogTW9sYXJpdHlDb25zdGFudHMuUkFOR0VfREVDSU1BTF9QTEFDRVMgKSxcclxuICAgICAgbWluTGFiZWwsIHZhbHVlc1Zpc2libGVQcm9wZXJ0eSwgUkFOR0VfRk9OVCwgb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnbWluTm9kZScgKSxcclxuICAgICAgeyBtYXhXaWR0aDogTUFYX1RFWFRfV0lEVEggfSApO1xyXG5cclxuICAgIGNvbnN0IG1heE5vZGUgPSBuZXcgRHVhbExhYmVsTm9kZSggVXRpbHMudG9GaXhlZCggcmFuZ2UubWF4LCBNb2xhcml0eUNvbnN0YW50cy5SQU5HRV9ERUNJTUFMX1BMQUNFUyApLFxyXG4gICAgICBtYXhMYWJlbCwgdmFsdWVzVmlzaWJsZVByb3BlcnR5LCBSQU5HRV9GT05ULCBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdtYXhOb2RlJyApLFxyXG4gICAgICB7IG1heFdpZHRoOiBNQVhfVEVYVF9XSURUSCB9ICk7XHJcblxyXG4gICAgY29uc3Qgc2xpZGVyTm9kZSA9IG5ldyBWU2xpZGVyKCBwcm9wZXJ0eSwgcmFuZ2UsIG9wdGlvbnMuc2xpZGVyT3B0aW9ucyApO1xyXG5cclxuICAgIGNvbnN0IHZhbHVlVGV4dCA9IG5ldyBUZXh0KCAnPycsIHtcclxuICAgICAgZm9udDogbmV3IFBoZXRGb250KCAyMCApLFxyXG4gICAgICBtYXhXaWR0aDogOTAsIC8vIGNvbnN0cmFpbiBmb3IgaTE4biwgZGV0ZXJtaW5lZCBlbXBpcmljYWxseVxyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3ZhbHVlVGV4dCcgKVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGxheW91dFxyXG4gICAgY29uc3QgY2VudGVyWCA9IHNsaWRlck5vZGUuY2VudGVyWDtcclxuICAgIG1heE5vZGUuY2VudGVyWCA9IHNsaWRlck5vZGUuY2VudGVyWDtcclxuICAgIG1heE5vZGUuYm90dG9tID0gc2xpZGVyTm9kZS50b3A7XHJcbiAgICBtaW5Ob2RlLmNlbnRlclggPSBtYXhOb2RlLmNlbnRlclg7XHJcbiAgICBtaW5Ob2RlLnRvcCA9IHNsaWRlck5vZGUuYm90dG9tO1xyXG4gICAgc3VidGl0bGVUZXh0LmNlbnRlclggPSBjZW50ZXJYO1xyXG4gICAgc3VidGl0bGVUZXh0LmJvdHRvbSA9IG1heE5vZGUudG9wIC0gNTtcclxuICAgIHRpdGxlVGV4dC5jZW50ZXJYID0gY2VudGVyWDtcclxuICAgIHRpdGxlVGV4dC5ib3R0b20gPSBzdWJ0aXRsZVRleHQudG9wIC0gNTtcclxuICAgIHZhbHVlVGV4dC5sZWZ0ID0gc2xpZGVyTm9kZS5yaWdodCArIDU7XHJcblxyXG4gICAgc3VwZXIoIHtcclxuICAgICAgY2hpbGRyZW46IFsgdGl0bGVUZXh0LCBzdWJ0aXRsZVRleHQsIG1pbk5vZGUsIG1heE5vZGUsIHNsaWRlck5vZGUsIHZhbHVlVGV4dCBdLFxyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQHB1YmxpYyAocmVhZC1vbmx5KSB7c3RyaW5nfG51bGx9IC0gd2hhdCwgaWYgYW55dGhpbmcsIGlzIGN1cnJlbnRseSBkcmFnZ2luZyB0aGUgdGh1bWIsIG51bGwgaWYgbm90aGluZ1xyXG4gICAgdGhpcy5kcmFnZ2luZ1BvaW50ZXJUeXBlID0gbnVsbDtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIHZhbHVlIGRpc3BsYXksIGFuZCBwb3NpdGlvbiBpdCByZWxhdGl2ZSB0byB0aGUgdHJhY2ssIHNvIGl0J3MgdG8gdGhlIHJpZ2h0IG9mIHRoZSBzbGlkZXIgdGh1bWIuXHJcbiAgICBjb25zdCB0cmFja01pblkgPSBzbGlkZXJOb2RlLmNlbnRlclkgLSAoIG9wdGlvbnMuc2xpZGVyT3B0aW9ucy50cmFja1NpemUuaGVpZ2h0IC8gMiApO1xyXG4gICAgcHJvcGVydHkubGluayggdmFsdWUgPT4ge1xyXG4gICAgICB2YWx1ZVRleHQuc3RyaW5nID0gU3RyaW5nVXRpbHMuZm9ybWF0KCBwYXR0ZXJuMFZhbHVlMVVuaXRzU3RyaW5nLCBVdGlscy50b0ZpeGVkKCB2YWx1ZSwgZGVjaW1hbFBsYWNlcyApLCB1bml0cyApO1xyXG4gICAgICB2YWx1ZVRleHQuY2VudGVyWSA9IHRyYWNrTWluWSArIFV0aWxzLmxpbmVhciggcmFuZ2UubWluLCByYW5nZS5tYXgsIG9wdGlvbnMuc2xpZGVyT3B0aW9ucy50cmFja1NpemUuaGVpZ2h0LCAwLCB2YWx1ZSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIHN3aXRjaCBiZXR3ZWVuIHF1YW50aXRhdGl2ZSBhbmQgcXVhbGl0YXRpdmUgZGlzcGxheVxyXG4gICAgdmFsdWVzVmlzaWJsZVByb3BlcnR5LmxpbmsoIHZpc2libGUgPT4ge1xyXG4gICAgICB2YWx1ZVRleHQuc2V0VmlzaWJsZSggdmlzaWJsZSApO1xyXG4gICAgfSApO1xyXG4gIH1cclxufVxyXG5cclxubW9sYXJpdHkucmVnaXN0ZXIoICdWZXJ0aWNhbFNsaWRlcicsIFZlcnRpY2FsU2xpZGVyICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBWZXJ0aWNhbFNsaWRlcjsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsVUFBVSxNQUFNLGtDQUFrQztBQUN6RCxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLEtBQUssTUFBTSxtQ0FBbUM7QUFDckQsT0FBT0MsV0FBVyxNQUFNLCtDQUErQztBQUN2RSxPQUFPQyxRQUFRLE1BQU0seUNBQXlDO0FBQzlELFNBQVNDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxRQUFRLEVBQUVDLElBQUksUUFBUSxtQ0FBbUM7QUFDL0UsT0FBT0MsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxPQUFPQyxNQUFNLE1BQU0saUNBQWlDO0FBQ3BELE9BQU9DLFFBQVEsTUFBTSxtQkFBbUI7QUFDeEMsT0FBT0MsZUFBZSxNQUFNLDBCQUEwQjtBQUN0RCxPQUFPQyxpQkFBaUIsTUFBTSx5QkFBeUI7QUFDdkQsT0FBT0MsYUFBYSxNQUFNLG9CQUFvQjtBQUU5QyxNQUFNQyx5QkFBeUIsR0FBR0gsZUFBZSxDQUFDSSxPQUFPLENBQUUsUUFBUSxDQUFFLENBQUUsUUFBUSxDQUFFOztBQUVqRjtBQUNBLE1BQU1DLFVBQVUsR0FBRyxJQUFJYixRQUFRLENBQUUsRUFBRyxDQUFD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