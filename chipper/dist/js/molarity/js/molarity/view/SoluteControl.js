// Copyright 2013-2023, University of Colorado Boulder

/**
 * Combo box for choosing a solute.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import merge from '../../../../phet-core/js/merge.js';
import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { HBox, Rectangle, Text } from '../../../../scenery/js/imports.js';
import ComboBox from '../../../../sun/js/ComboBox.js';
import nullSoundPlayer from '../../../../tambo/js/shared-sound-players/nullSoundPlayer.js';
import molarity from '../../molarity.js';
import MolarityStrings from '../../MolarityStrings.js';
const pattern0LabelString = MolarityStrings.pattern['0label'];
const soluteString = MolarityStrings.solute;
const soluteComboBoxHelpTextString = MolarityStrings.a11y.soluteComboBoxHelpText;
class SoluteControl extends HBox {
  /**
   * @param {Property.<Solute>} selectedSoluteProperty
   * @param {Solute[]} solutes
   * @param {Node} listParent parent node for the popup list
   * @param {Tandem} tandem
   * @param {Object} [options]
   * @constructor
   */
  constructor(selectedSoluteProperty, solutes, listParent, tandem, options) {
    options = merge({
      spacing: 10,
      comboBoxOptions: {
        listPosition: 'above',
        cornerRadius: 8,
        xMargin: 16,
        yMargin: 16,
        highlightFill: 'rgb( 218, 255, 255 )',
        // pdom
        accessibleName: soluteString,
        helpText: soluteComboBoxHelpTextString,
        // voicing in Comboox:
        comboBoxVoicingNameResponsePattern: MolarityStrings.a11y.soluteValuePattern,
        comboBoxVoicingHintResponse: soluteComboBoxHelpTextString
      }
    }, options);
    assert && assert(!options.tandem, 'tandem is a required constructor parameter');
    options.comboBoxOptions.tandem = tandem;
    options.children = [
    // 'Solute' label
    new Text(StringUtils.format(pattern0LabelString, soluteString), {
      font: new PhetFont(22)
    }), new ComboBox(selectedSoluteProperty, solutes.map(createItem), listParent, options.comboBoxOptions)];
    super(options);
  }
}
molarity.register('SoluteControl', SoluteControl);

/**
 * Creates an item for the combo box.
 * @param {Solute} solute
 * @returns {ComboBoxItem}
 */
const createItem = solute => {
  const colorNode = new Rectangle(0, 0, 20, 20, {
    fill: solute.maxColor,
    stroke: solute.maxColor.darkerColor()
  });
  const textNode = new Text(solute.name, {
    font: new PhetFont(20)
  });
  return {
    value: solute,
    createNode: () => new HBox({
      spacing: 5,
      children: [colorNode, textNode]
    }),
    soundPlayer: nullSoundPlayer,
    // sound generation for selection is done elsewhere
    tandemName: `${solute.tandem.name}${ComboBox.ITEM_TANDEM_NAME_SUFFIX}`,
    a11yName: solute.name
  };
};
export default SoluteControl;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZXJnZSIsIlN0cmluZ1V0aWxzIiwiUGhldEZvbnQiLCJIQm94IiwiUmVjdGFuZ2xlIiwiVGV4dCIsIkNvbWJvQm94IiwibnVsbFNvdW5kUGxheWVyIiwibW9sYXJpdHkiLCJNb2xhcml0eVN0cmluZ3MiLCJwYXR0ZXJuMExhYmVsU3RyaW5nIiwicGF0dGVybiIsInNvbHV0ZVN0cmluZyIsInNvbHV0ZSIsInNvbHV0ZUNvbWJvQm94SGVscFRleHRTdHJpbmciLCJhMTF5Iiwic29sdXRlQ29tYm9Cb3hIZWxwVGV4dCIsIlNvbHV0ZUNvbnRyb2wiLCJjb25zdHJ1Y3RvciIsInNlbGVjdGVkU29sdXRlUHJvcGVydHkiLCJzb2x1dGVzIiwibGlzdFBhcmVudCIsInRhbmRlbSIsIm9wdGlvbnMiLCJzcGFjaW5nIiwiY29tYm9Cb3hPcHRpb25zIiwibGlzdFBvc2l0aW9uIiwiY29ybmVyUmFkaXVzIiwieE1hcmdpbiIsInlNYXJnaW4iLCJoaWdobGlnaHRGaWxsIiwiYWNjZXNzaWJsZU5hbWUiLCJoZWxwVGV4dCIsImNvbWJvQm94Vm9pY2luZ05hbWVSZXNwb25zZVBhdHRlcm4iLCJzb2x1dGVWYWx1ZVBhdHRlcm4iLCJjb21ib0JveFZvaWNpbmdIaW50UmVzcG9uc2UiLCJhc3NlcnQiLCJjaGlsZHJlbiIsImZvcm1hdCIsImZvbnQiLCJtYXAiLCJjcmVhdGVJdGVtIiwicmVnaXN0ZXIiLCJjb2xvck5vZGUiLCJmaWxsIiwibWF4Q29sb3IiLCJzdHJva2UiLCJkYXJrZXJDb2xvciIsInRleHROb2RlIiwibmFtZSIsInZhbHVlIiwiY3JlYXRlTm9kZSIsInNvdW5kUGxheWVyIiwidGFuZGVtTmFtZSIsIklURU1fVEFOREVNX05BTUVfU1VGRklYIiwiYTExeU5hbWUiXSwic291cmNlcyI6WyJTb2x1dGVDb250cm9sLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDEzLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIENvbWJvIGJveCBmb3IgY2hvb3NpbmcgYSBzb2x1dGUuXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IG1lcmdlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tZXJnZS5qcyc7XHJcbmltcG9ydCBTdHJpbmdVdGlscyBmcm9tICcuLi8uLi8uLi8uLi9waGV0Y29tbW9uL2pzL3V0aWwvU3RyaW5nVXRpbHMuanMnO1xyXG5pbXBvcnQgUGhldEZvbnQgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1BoZXRGb250LmpzJztcclxuaW1wb3J0IHsgSEJveCwgUmVjdGFuZ2xlLCBUZXh0IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IENvbWJvQm94IGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9Db21ib0JveC5qcyc7XHJcbmltcG9ydCBudWxsU291bmRQbGF5ZXIgZnJvbSAnLi4vLi4vLi4vLi4vdGFtYm8vanMvc2hhcmVkLXNvdW5kLXBsYXllcnMvbnVsbFNvdW5kUGxheWVyLmpzJztcclxuaW1wb3J0IG1vbGFyaXR5IGZyb20gJy4uLy4uL21vbGFyaXR5LmpzJztcclxuaW1wb3J0IE1vbGFyaXR5U3RyaW5ncyBmcm9tICcuLi8uLi9Nb2xhcml0eVN0cmluZ3MuanMnO1xyXG5cclxuY29uc3QgcGF0dGVybjBMYWJlbFN0cmluZyA9IE1vbGFyaXR5U3RyaW5ncy5wYXR0ZXJuWyAnMGxhYmVsJyBdO1xyXG5jb25zdCBzb2x1dGVTdHJpbmcgPSBNb2xhcml0eVN0cmluZ3Muc29sdXRlO1xyXG5cclxuY29uc3Qgc29sdXRlQ29tYm9Cb3hIZWxwVGV4dFN0cmluZyA9IE1vbGFyaXR5U3RyaW5ncy5hMTF5LnNvbHV0ZUNvbWJvQm94SGVscFRleHQ7XHJcblxyXG5jbGFzcyBTb2x1dGVDb250cm9sIGV4dGVuZHMgSEJveCB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPFNvbHV0ZT59IHNlbGVjdGVkU29sdXRlUHJvcGVydHlcclxuICAgKiBAcGFyYW0ge1NvbHV0ZVtdfSBzb2x1dGVzXHJcbiAgICogQHBhcmFtIHtOb2RlfSBsaXN0UGFyZW50IHBhcmVudCBub2RlIGZvciB0aGUgcG9wdXAgbGlzdFxyXG4gICAqIEBwYXJhbSB7VGFuZGVtfSB0YW5kZW1cclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIHNlbGVjdGVkU29sdXRlUHJvcGVydHksIHNvbHV0ZXMsIGxpc3RQYXJlbnQsIHRhbmRlbSwgb3B0aW9ucyApIHtcclxuXHJcbiAgICBvcHRpb25zID0gbWVyZ2UoIHtcclxuICAgICAgc3BhY2luZzogMTAsXHJcblxyXG4gICAgICBjb21ib0JveE9wdGlvbnM6IHtcclxuICAgICAgICBsaXN0UG9zaXRpb246ICdhYm92ZScsXHJcbiAgICAgICAgY29ybmVyUmFkaXVzOiA4LFxyXG4gICAgICAgIHhNYXJnaW46IDE2LFxyXG4gICAgICAgIHlNYXJnaW46IDE2LFxyXG4gICAgICAgIGhpZ2hsaWdodEZpbGw6ICdyZ2IoIDIxOCwgMjU1LCAyNTUgKScsXHJcblxyXG4gICAgICAgIC8vIHBkb21cclxuICAgICAgICBhY2Nlc3NpYmxlTmFtZTogc29sdXRlU3RyaW5nLFxyXG4gICAgICAgIGhlbHBUZXh0OiBzb2x1dGVDb21ib0JveEhlbHBUZXh0U3RyaW5nLFxyXG5cclxuICAgICAgICAvLyB2b2ljaW5nIGluIENvbWJvb3g6XHJcbiAgICAgICAgY29tYm9Cb3hWb2ljaW5nTmFtZVJlc3BvbnNlUGF0dGVybjogTW9sYXJpdHlTdHJpbmdzLmExMXkuc29sdXRlVmFsdWVQYXR0ZXJuLFxyXG4gICAgICAgIGNvbWJvQm94Vm9pY2luZ0hpbnRSZXNwb25zZTogc29sdXRlQ29tYm9Cb3hIZWxwVGV4dFN0cmluZ1xyXG4gICAgICB9XHJcbiAgICB9LCBvcHRpb25zICk7XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggIW9wdGlvbnMudGFuZGVtLCAndGFuZGVtIGlzIGEgcmVxdWlyZWQgY29uc3RydWN0b3IgcGFyYW1ldGVyJyApO1xyXG4gICAgb3B0aW9ucy5jb21ib0JveE9wdGlvbnMudGFuZGVtID0gdGFuZGVtO1xyXG5cclxuICAgIG9wdGlvbnMuY2hpbGRyZW4gPSBbXHJcbiAgICAgIC8vICdTb2x1dGUnIGxhYmVsXHJcbiAgICAgIG5ldyBUZXh0KCBTdHJpbmdVdGlscy5mb3JtYXQoIHBhdHRlcm4wTGFiZWxTdHJpbmcsIHNvbHV0ZVN0cmluZyApLCB7IGZvbnQ6IG5ldyBQaGV0Rm9udCggMjIgKSB9ICksXHJcblxyXG4gICAgICBuZXcgQ29tYm9Cb3goIHNlbGVjdGVkU29sdXRlUHJvcGVydHksIHNvbHV0ZXMubWFwKCBjcmVhdGVJdGVtICksIGxpc3RQYXJlbnQsIG9wdGlvbnMuY29tYm9Cb3hPcHRpb25zIClcclxuICAgIF07XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuICB9XHJcbn1cclxuXHJcbm1vbGFyaXR5LnJlZ2lzdGVyKCAnU29sdXRlQ29udHJvbCcsIFNvbHV0ZUNvbnRyb2wgKTtcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGFuIGl0ZW0gZm9yIHRoZSBjb21ibyBib3guXHJcbiAqIEBwYXJhbSB7U29sdXRlfSBzb2x1dGVcclxuICogQHJldHVybnMge0NvbWJvQm94SXRlbX1cclxuICovXHJcbmNvbnN0IGNyZWF0ZUl0ZW0gPSBzb2x1dGUgPT4ge1xyXG5cclxuICBjb25zdCBjb2xvck5vZGUgPSBuZXcgUmVjdGFuZ2xlKCAwLCAwLCAyMCwgMjAsIHtcclxuICAgIGZpbGw6IHNvbHV0ZS5tYXhDb2xvcixcclxuICAgIHN0cm9rZTogc29sdXRlLm1heENvbG9yLmRhcmtlckNvbG9yKClcclxuICB9ICk7XHJcblxyXG4gIGNvbnN0IHRleHROb2RlID0gbmV3IFRleHQoIHNvbHV0ZS5uYW1lLCB7XHJcbiAgICBmb250OiBuZXcgUGhldEZvbnQoIDIwIClcclxuICB9ICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB2YWx1ZTogc29sdXRlLFxyXG4gICAgY3JlYXRlTm9kZTogKCkgPT4gbmV3IEhCb3goIHtcclxuICAgICAgc3BhY2luZzogNSxcclxuICAgICAgY2hpbGRyZW46IFsgY29sb3JOb2RlLCB0ZXh0Tm9kZSBdXHJcbiAgICB9ICksXHJcbiAgICBzb3VuZFBsYXllcjogbnVsbFNvdW5kUGxheWVyLCAvLyBzb3VuZCBnZW5lcmF0aW9uIGZvciBzZWxlY3Rpb24gaXMgZG9uZSBlbHNld2hlcmVcclxuICAgIHRhbmRlbU5hbWU6IGAke3NvbHV0ZS50YW5kZW0ubmFtZX0ke0NvbWJvQm94LklURU1fVEFOREVNX05BTUVfU1VGRklYfWAsXHJcbiAgICBhMTF5TmFtZTogc29sdXRlLm5hbWVcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU29sdXRlQ29udHJvbDsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsS0FBSyxNQUFNLG1DQUFtQztBQUNyRCxPQUFPQyxXQUFXLE1BQU0sK0NBQStDO0FBQ3ZFLE9BQU9DLFFBQVEsTUFBTSx5Q0FBeUM7QUFDOUQsU0FBU0MsSUFBSSxFQUFFQyxTQUFTLEVBQUVDLElBQUksUUFBUSxtQ0FBbUM7QUFDekUsT0FBT0MsUUFBUSxNQUFNLGdDQUFnQztBQUNyRCxPQUFPQyxlQUFlLE1BQU0sOERBQThEO0FBQzFGLE9BQU9DLFFBQVEsTUFBTSxtQkFBbUI7QUFDeEMsT0FBT0MsZUFBZSxNQUFNLDBCQUEwQjtBQUV0RCxNQUFNQyxtQkFBbUIsR0FBR0QsZUFBZSxDQUFDRSxPQUFPLENBQUUsUUFBUSxDQUFFO0FBQy9ELE1BQU1DLFlBQVksR0FBR0gsZUFBZSxDQUFDSSxNQUFNO0FBRTNDLE1BQU1DLDRCQUE0QixHQUFHTCxlQUFlLENBQUNNLElBQUksQ0FBQ0Msc0JBQXNCO0FB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