// Copyright 2013-2023, University of Colorado Boulder

/**
 * Simple model of a solution.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import Property from '../../../../axon/js/Property.js';
import Utils from '../../../../dot/js/Utils.js';
import { Color } from '../../../../scenery/js/imports.js';
import NumberIO from '../../../../tandem/js/types/NumberIO.js';
import molarity from '../../molarity.js';
import MolarityConstants from '../MolarityConstants.js';
import Solute from './Solute.js';
class Solution {
  /**
   * @param {{color:ColorDef, formula:string, colorStringPair:StringCasingPair}} solvent
   * @param {Solute} solute
   * @param {number} soluteAmount moles
   * @param {number} volume Liters
   * @param {Tandem} tandem
   */
  constructor(solvent, solute, soluteAmount, volume, tandem) {
    // @public
    this.solvent = solvent;

    // @public
    this.soluteProperty = new Property(solute, {
      tandem: tandem.createTandem('soluteProperty'),
      // The description (view) in this sim needs to fire listeners after model listeners update this Property, see https://github.com/phetsims/molarity/issues/189
      hasListenerOrderDependencies: true,
      phetioValueType: Solute.SoluteIO
    });

    // @public
    this.soluteAmountProperty = new NumberProperty(soluteAmount, {
      tandem: tandem.createTandem('soluteAmountProperty'),
      units: 'mol',
      range: MolarityConstants.SOLUTE_AMOUNT_RANGE
    });

    // @public
    this.volumeProperty = new NumberProperty(volume, {
      tandem: tandem.createTandem('volumeProperty'),
      units: 'L',
      range: MolarityConstants.SOLUTION_VOLUME_RANGE
    });

    // @public derive the concentration: M = moles/liter
    this.concentrationProperty = new DerivedProperty([this.soluteProperty, this.soluteAmountProperty, this.volumeProperty], (solute, soluteAmount, volume) => Utils.toFixedNumber(volume > 0 ? Math.min(solute.saturatedConcentration, soluteAmount / volume) : 0, MolarityConstants.CONCENTRATION_DECIMAL_PLACES), {
      tandem: tandem.createTandem('concentrationProperty'),
      units: 'mol/L',
      // no range, since this is derived
      phetioValueType: NumberIO
    });

    // @public derive the amount of precipitate
    this.precipitateAmountProperty = new DerivedProperty([this.soluteProperty, this.soluteAmountProperty, this.volumeProperty], (solute, soluteAmount, volume) => Solution.computePrecipitateAmount(volume, soluteAmount, solute.saturatedConcentration), {
      tandem: tandem.createTandem('precipitateAmountProperty'),
      units: 'mol',
      phetioValueType: NumberIO
    });
  }

  /**
   * @public
   */
  reset() {
    this.soluteProperty.reset();
    this.soluteAmountProperty.reset();
    this.volumeProperty.reset();
  }

  /**
   * @public
   * @returns {boolean}
   */
  isSaturated() {
    return this.precipitateAmountProperty.value !== 0;
  }

  /**
   * @public
   * @returns {boolean}
   */
  atMaxConcentration() {
    return this.soluteProperty.value.saturatedConcentration === this.concentrationProperty.value;
  }

  /**
   * @public
   * @returns {boolean}
   */
  hasSolute() {
    return this.concentrationProperty.value > 0;
  }

  /**
   * @public
   * @returns {ColorDef}
   */
  getColor() {
    if (this.concentrationProperty.value > 0) {
      const solute = this.soluteProperty.get();
      const colorScale = Utils.linear(0, solute.saturatedConcentration, 0, 1, this.concentrationProperty.value);
      return Color.interpolateRGBA(solute.minColor, solute.maxColor, colorScale);
    } else {
      return this.solvent.color;
    }
  }

  /**
   * @public
   * @param {number} volume
   * @param {number} soluteAmount
   * @param {number} saturatedConcentration
   * @returns {number}
   */
  static computePrecipitateAmount(volume, soluteAmount, saturatedConcentration) {
    return volume > 0 ? Math.max(0, volume * (soluteAmount / volume - saturatedConcentration)) : soluteAmount;
  }
}
molarity.register('Solution', Solution);
export default Solution;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJOdW1iZXJQcm9wZXJ0eSIsIlByb3BlcnR5IiwiVXRpbHMiLCJDb2xvciIsIk51bWJlcklPIiwibW9sYXJpdHkiLCJNb2xhcml0eUNvbnN0YW50cyIsIlNvbHV0ZSIsIlNvbHV0aW9uIiwiY29uc3RydWN0b3IiLCJzb2x2ZW50Iiwic29sdXRlIiwic29sdXRlQW1vdW50Iiwidm9sdW1lIiwidGFuZGVtIiwic29sdXRlUHJvcGVydHkiLCJjcmVhdGVUYW5kZW0iLCJoYXNMaXN0ZW5lck9yZGVyRGVwZW5kZW5jaWVzIiwicGhldGlvVmFsdWVUeXBlIiwiU29sdXRlSU8iLCJzb2x1dGVBbW91bnRQcm9wZXJ0eSIsInVuaXRzIiwicmFuZ2UiLCJTT0xVVEVfQU1PVU5UX1JBTkdFIiwidm9sdW1lUHJvcGVydHkiLCJTT0xVVElPTl9WT0xVTUVfUkFOR0UiLCJjb25jZW50cmF0aW9uUHJvcGVydHkiLCJ0b0ZpeGVkTnVtYmVyIiwiTWF0aCIsIm1pbiIsInNhdHVyYXRlZENvbmNlbnRyYXRpb24iLCJDT05DRU5UUkFUSU9OX0RFQ0lNQUxfUExBQ0VTIiwicHJlY2lwaXRhdGVBbW91bnRQcm9wZXJ0eSIsImNvbXB1dGVQcmVjaXBpdGF0ZUFtb3VudCIsInJlc2V0IiwiaXNTYXR1cmF0ZWQiLCJ2YWx1ZSIsImF0TWF4Q29uY2VudHJhdGlvbiIsImhhc1NvbHV0ZSIsImdldENvbG9yIiwiZ2V0IiwiY29sb3JTY2FsZSIsImxpbmVhciIsImludGVycG9sYXRlUkdCQSIsIm1pbkNvbG9yIiwibWF4Q29sb3IiLCJjb2xvciIsIm1heCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiU29sdXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTMtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU2ltcGxlIG1vZGVsIG9mIGEgc29sdXRpb24uXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IERlcml2ZWRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Rlcml2ZWRQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBOdW1iZXJQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL051bWJlclByb3BlcnR5LmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgTnVtYmVySU8gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL3R5cGVzL051bWJlcklPLmpzJztcclxuaW1wb3J0IG1vbGFyaXR5IGZyb20gJy4uLy4uL21vbGFyaXR5LmpzJztcclxuaW1wb3J0IE1vbGFyaXR5Q29uc3RhbnRzIGZyb20gJy4uL01vbGFyaXR5Q29uc3RhbnRzLmpzJztcclxuaW1wb3J0IFNvbHV0ZSBmcm9tICcuL1NvbHV0ZS5qcyc7XHJcblxyXG5jbGFzcyBTb2x1dGlvbiB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHt7Y29sb3I6Q29sb3JEZWYsIGZvcm11bGE6c3RyaW5nLCBjb2xvclN0cmluZ1BhaXI6U3RyaW5nQ2FzaW5nUGFpcn19IHNvbHZlbnRcclxuICAgKiBAcGFyYW0ge1NvbHV0ZX0gc29sdXRlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNvbHV0ZUFtb3VudCBtb2xlc1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2b2x1bWUgTGl0ZXJzXHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBzb2x2ZW50LCBzb2x1dGUsIHNvbHV0ZUFtb3VudCwgdm9sdW1lLCB0YW5kZW0gKSB7XHJcblxyXG4gICAgLy8gQHB1YmxpY1xyXG4gICAgdGhpcy5zb2x2ZW50ID0gc29sdmVudDtcclxuXHJcbiAgICAvLyBAcHVibGljXHJcbiAgICB0aGlzLnNvbHV0ZVByb3BlcnR5ID0gbmV3IFByb3BlcnR5KCBzb2x1dGUsIHtcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnc29sdXRlUHJvcGVydHknICksXHJcblxyXG4gICAgICAvLyBUaGUgZGVzY3JpcHRpb24gKHZpZXcpIGluIHRoaXMgc2ltIG5lZWRzIHRvIGZpcmUgbGlzdGVuZXJzIGFmdGVyIG1vZGVsIGxpc3RlbmVycyB1cGRhdGUgdGhpcyBQcm9wZXJ0eSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9tb2xhcml0eS9pc3N1ZXMvMTg5XHJcbiAgICAgIGhhc0xpc3RlbmVyT3JkZXJEZXBlbmRlbmNpZXM6IHRydWUsXHJcbiAgICAgIHBoZXRpb1ZhbHVlVHlwZTogU29sdXRlLlNvbHV0ZUlPXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQHB1YmxpY1xyXG4gICAgdGhpcy5zb2x1dGVBbW91bnRQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggc29sdXRlQW1vdW50LCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3NvbHV0ZUFtb3VudFByb3BlcnR5JyApLFxyXG4gICAgICB1bml0czogJ21vbCcsXHJcbiAgICAgIHJhbmdlOiBNb2xhcml0eUNvbnN0YW50cy5TT0xVVEVfQU1PVU5UX1JBTkdFXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQHB1YmxpY1xyXG4gICAgdGhpcy52b2x1bWVQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggdm9sdW1lLCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3ZvbHVtZVByb3BlcnR5JyApLFxyXG4gICAgICB1bml0czogJ0wnLFxyXG4gICAgICByYW5nZTogTW9sYXJpdHlDb25zdGFudHMuU09MVVRJT05fVk9MVU1FX1JBTkdFXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQHB1YmxpYyBkZXJpdmUgdGhlIGNvbmNlbnRyYXRpb246IE0gPSBtb2xlcy9saXRlclxyXG4gICAgdGhpcy5jb25jZW50cmF0aW9uUHJvcGVydHkgPSBuZXcgRGVyaXZlZFByb3BlcnR5KCBbIHRoaXMuc29sdXRlUHJvcGVydHksIHRoaXMuc29sdXRlQW1vdW50UHJvcGVydHksIHRoaXMudm9sdW1lUHJvcGVydHkgXSxcclxuICAgICAgKCBzb2x1dGUsIHNvbHV0ZUFtb3VudCwgdm9sdW1lICkgPT4gVXRpbHMudG9GaXhlZE51bWJlciggdm9sdW1lID4gMCA/IE1hdGgubWluKCBzb2x1dGUuc2F0dXJhdGVkQ29uY2VudHJhdGlvbiwgc29sdXRlQW1vdW50IC8gdm9sdW1lICkgOiAwLFxyXG4gICAgICAgIE1vbGFyaXR5Q29uc3RhbnRzLkNPTkNFTlRSQVRJT05fREVDSU1BTF9QTEFDRVMgKSwge1xyXG4gICAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2NvbmNlbnRyYXRpb25Qcm9wZXJ0eScgKSxcclxuICAgICAgICB1bml0czogJ21vbC9MJyxcclxuICAgICAgICAvLyBubyByYW5nZSwgc2luY2UgdGhpcyBpcyBkZXJpdmVkXHJcbiAgICAgICAgcGhldGlvVmFsdWVUeXBlOiBOdW1iZXJJT1xyXG4gICAgICB9ICk7XHJcblxyXG4gICAgLy8gQHB1YmxpYyBkZXJpdmUgdGhlIGFtb3VudCBvZiBwcmVjaXBpdGF0ZVxyXG4gICAgdGhpcy5wcmVjaXBpdGF0ZUFtb3VudFByb3BlcnR5ID0gbmV3IERlcml2ZWRQcm9wZXJ0eSggWyB0aGlzLnNvbHV0ZVByb3BlcnR5LCB0aGlzLnNvbHV0ZUFtb3VudFByb3BlcnR5LCB0aGlzLnZvbHVtZVByb3BlcnR5IF0sXHJcbiAgICAgICggc29sdXRlLCBzb2x1dGVBbW91bnQsIHZvbHVtZSApID0+IFNvbHV0aW9uLmNvbXB1dGVQcmVjaXBpdGF0ZUFtb3VudCggdm9sdW1lLCBzb2x1dGVBbW91bnQsIHNvbHV0ZS5zYXR1cmF0ZWRDb25jZW50cmF0aW9uICksIHtcclxuICAgICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdwcmVjaXBpdGF0ZUFtb3VudFByb3BlcnR5JyApLFxyXG4gICAgICAgIHVuaXRzOiAnbW9sJyxcclxuICAgICAgICBwaGV0aW9WYWx1ZVR5cGU6IE51bWJlcklPXHJcbiAgICAgIH0gKTtcclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLnNvbHV0ZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLnNvbHV0ZUFtb3VudFByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLnZvbHVtZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICovXHJcbiAgaXNTYXR1cmF0ZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcmVjaXBpdGF0ZUFtb3VudFByb3BlcnR5LnZhbHVlICE9PSAwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAqL1xyXG4gIGF0TWF4Q29uY2VudHJhdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLnNvbHV0ZVByb3BlcnR5LnZhbHVlLnNhdHVyYXRlZENvbmNlbnRyYXRpb24gPT09IHRoaXMuY29uY2VudHJhdGlvblByb3BlcnR5LnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAqL1xyXG4gIGhhc1NvbHV0ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbmNlbnRyYXRpb25Qcm9wZXJ0eS52YWx1ZSA+IDA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0NvbG9yRGVmfVxyXG4gICAqL1xyXG4gIGdldENvbG9yKCkge1xyXG4gICAgaWYgKCB0aGlzLmNvbmNlbnRyYXRpb25Qcm9wZXJ0eS52YWx1ZSA+IDAgKSB7XHJcbiAgICAgIGNvbnN0IHNvbHV0ZSA9IHRoaXMuc29sdXRlUHJvcGVydHkuZ2V0KCk7XHJcbiAgICAgIGNvbnN0IGNvbG9yU2NhbGUgPSBVdGlscy5saW5lYXIoIDAsIHNvbHV0ZS5zYXR1cmF0ZWRDb25jZW50cmF0aW9uLCAwLCAxLCB0aGlzLmNvbmNlbnRyYXRpb25Qcm9wZXJ0eS52YWx1ZSApO1xyXG4gICAgICByZXR1cm4gQ29sb3IuaW50ZXJwb2xhdGVSR0JBKCBzb2x1dGUubWluQ29sb3IsIHNvbHV0ZS5tYXhDb2xvciwgY29sb3JTY2FsZSApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnNvbHZlbnQuY29sb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZvbHVtZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzb2x1dGVBbW91bnRcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2F0dXJhdGVkQ29uY2VudHJhdGlvblxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICovXHJcbiAgc3RhdGljIGNvbXB1dGVQcmVjaXBpdGF0ZUFtb3VudCggdm9sdW1lLCBzb2x1dGVBbW91bnQsIHNhdHVyYXRlZENvbmNlbnRyYXRpb24gKSB7XHJcbiAgICByZXR1cm4gdm9sdW1lID4gMCA/IE1hdGgubWF4KCAwLCB2b2x1bWUgKiAoICggc29sdXRlQW1vdW50IC8gdm9sdW1lICkgLSBzYXR1cmF0ZWRDb25jZW50cmF0aW9uICkgKSA6IHNvbHV0ZUFtb3VudDtcclxuICB9XHJcbn1cclxuXHJcbm1vbGFyaXR5LnJlZ2lzdGVyKCAnU29sdXRpb24n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