// Copyright 2019-2022, University of Colorado Boulder

/**
 * The free body force diagram attached to the ProjectileNode when displaying force vectors. Takes two Properties to
 * listen to. One for the total force vectors, and one for the components. If neither are on, then this Node will be
 * invisible, as there is nothing to show.
 *
 * @author Andrea Lin (PhET Interactive Simulations)
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

import Multilink from '../../../../axon/js/Multilink.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import ArrowNode from '../../../../scenery-phet/js/ArrowNode.js';
import { Circle, Node, Rectangle, RichText } from '../../../../scenery/js/imports.js';
import projectileMotion from '../../projectileMotion.js';
import ProjectileMotionConstants from '../ProjectileMotionConstants.js';
// constants
const FORCE_ARROW_OPTIONS = {
  fill: 'black',
  stroke: null,
  tailWidth: 2,
  headWidth: 6
};
const FORCE_SCALAR = 3;
const FREE_BODY_RADIUS = 3;
const FREE_BODY_OFFSET = new Vector2(-40, -40); // distance from free body to projectile
const FORCES_BOX_DILATION = 7;
const TRANSPARENT_WHITE = 'rgba( 255, 255, 255, 0.35 )';
const LABEL_OPTIONS = ProjectileMotionConstants.LABEL_TEXT_OPTIONS;
const xDragForceText = new RichText('F<sub>dx</sub>', LABEL_OPTIONS);
const yDragForceText = new RichText('F<sub>dy</sub>', LABEL_OPTIONS);
const forceGravityText = new RichText('F<sub>g</sub>', LABEL_OPTIONS);
const totalDragForceText = new RichText('F<sub>d</sub>', LABEL_OPTIONS);
class FreeBodyDiagram extends Node {
  constructor(viewPointProperty, totalForceProperty, componentsForceProperty, providedOptions) {
    super(providedOptions);

    // forces view
    const forcesBox = new Rectangle(0, 0, 10, 50, {
      fill: TRANSPARENT_WHITE,
      lineWidth: 0
    });
    this.addChild(forcesBox);
    const diagramContainer = new Node();
    this.addChild(diagramContainer);
    const freeBody = new Circle(FREE_BODY_RADIUS, {
      x: 0,
      y: 0,
      fill: 'black'
    });

    // The component force vectors
    const freeBodyComponentVectorsNode = new Node();
    const xDragForceArrow = new ArrowNode(0, 0, 0, 0, FORCE_ARROW_OPTIONS);
    freeBodyComponentVectorsNode.addChild(xDragForceArrow);
    const xDragForceLabel = new Node({
      children: [xDragForceText]
    });
    freeBodyComponentVectorsNode.addChild(xDragForceLabel);
    const yDragForceArrow = new ArrowNode(0, 0, 0, 0, FORCE_ARROW_OPTIONS);
    freeBodyComponentVectorsNode.addChild(yDragForceArrow);
    const yDragForceLabel = new Node({
      children: [yDragForceText]
    });
    freeBodyComponentVectorsNode.addChild(yDragForceLabel);
    const forceGravityArrow = new ArrowNode(0, 0, 0, 0, FORCE_ARROW_OPTIONS);
    const forceGravityLabel = new Node({
      children: [forceGravityText]
    });
    const freeBodyTotals = new Node();
    const totalDragForceArrow = new ArrowNode(0, 0, 0, 0, FORCE_ARROW_OPTIONS);
    freeBodyTotals.addChild(totalDragForceArrow);
    const totalDragForceLabel = new Node({
      children: [totalDragForceText]
    });
    freeBodyTotals.addChild(totalDragForceLabel);

    // Update the free body diagram
    const multilink = Multilink.multilink([componentsForceProperty, totalForceProperty, viewPointProperty], (componentsVisible, totalVisible, viewPoint) => {
      const viewPosition = viewPoint.viewPosition;
      const dataPoint = viewPoint.dataPoint;

      // only visible is one of the Properties is on
      this.visible = componentsVisible || totalVisible;
      if (componentsVisible || totalVisible) {
        diagramContainer.children = [freeBody].concat(componentsVisible ? [freeBodyComponentVectorsNode] : []).concat([forceGravityArrow, forceGravityLabel]).concat(totalVisible ? [freeBodyTotals] : []);
        freeBody.x = viewPosition.x + FREE_BODY_OFFSET.x;
        freeBody.y = viewPosition.y + FREE_BODY_OFFSET.y;
        if (componentsVisible) {
          xDragForceArrow.setTailAndTip(freeBody.x, freeBody.y, freeBody.x - FORCE_SCALAR * dataPoint.dragForce.x, freeBody.y);
          xDragForceLabel.right = xDragForceArrow.tipX - 5;
          xDragForceLabel.y = xDragForceArrow.tipY;
          yDragForceArrow.setTailAndTip(freeBody.x, freeBody.y, freeBody.x, freeBody.y + FORCE_SCALAR * dataPoint.dragForce.y);
          yDragForceLabel.left = yDragForceArrow.tipX + 5;
          yDragForceLabel.y = yDragForceArrow.tipY;
        }
        forceGravityArrow.setTailAndTip(freeBody.x, freeBody.y, freeBody.x, freeBody.y - FORCE_SCALAR * dataPoint.forceGravity);
        forceGravityLabel.left = forceGravityArrow.tipX + 5;
        forceGravityLabel.y = forceGravityArrow.tipY;
        if (totalVisible) {
          const xTotalForce = dataPoint.dragForce.x;
          const yTotalForce = dataPoint.dragForce.y;
          totalDragForceArrow.setTailAndTip(freeBody.x, freeBody.y, freeBody.x - FORCE_SCALAR * xTotalForce, freeBody.y + FORCE_SCALAR * yTotalForce);
          totalDragForceLabel.right = totalDragForceArrow.tipX - 5;
          totalDragForceLabel.bottom = totalDragForceArrow.tipY - 5;
        }
        forcesBox.setRectBounds(diagramContainer.getChildBounds().dilated(FORCES_BOX_DILATION));
      }
    });
    const viewPointListener = point => {
      const dragForceExists = point.dataPoint.airDensity > 0;
      xDragForceLabel.visible = dragForceExists;
      yDragForceLabel.visible = dragForceExists;
      totalDragForceLabel.visible = dragForceExists;
    };
    viewPointProperty.link(viewPointListener);
    this.disposeFreeBodyDiagram = () => {
      viewPointProperty.unlink(viewPointListener);
      multilink.dispose();
      xDragForceArrow.dispose();
      yDragForceArrow.dispose();
      totalDragForceArrow.dispose();
      forceGravityArrow.dispose();
      xDragForceLabel.dispose();
      yDragForceLabel.dispose();
      forceGravityLabel.dispose();
      totalDragForceLabel.dispose();
    };
  }
  dispose() {
    this.disposeFreeBodyDiagram();
    super.dispose();
  }
}
projectileMotion.register('FreeBodyDiagram', FreeBodyDiagram);
export default FreeBodyDiagram;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNdWx0aWxpbmsiLCJWZWN0b3IyIiwiQXJyb3dOb2RlIiwiQ2lyY2xlIiwiTm9kZSIsIlJlY3RhbmdsZSIsIlJpY2hUZXh0IiwicHJvamVjdGlsZU1vdGlvbiIsIlByb2plY3RpbGVNb3Rpb25Db25zdGFudHMiLCJGT1JDRV9BUlJPV19PUFRJT05TIiwiZmlsbCIsInN0cm9rZSIsInRhaWxXaWR0aCIsImhlYWRXaWR0aCIsIkZPUkNFX1NDQUxBUiIsIkZSRUVfQk9EWV9SQURJVVMiLCJGUkVFX0JPRFlfT0ZGU0VUIiwiRk9SQ0VTX0JPWF9ESUxBVElPTiIsIlRSQU5TUEFSRU5UX1dISVRFIiwiTEFCRUxfT1BUSU9OUyIsIkxBQkVMX1RFWFRfT1BUSU9OUyIsInhEcmFnRm9yY2VUZXh0IiwieURyYWdGb3JjZVRleHQiLCJmb3JjZUdyYXZpdHlUZXh0IiwidG90YWxEcmFnRm9yY2VUZXh0IiwiRnJlZUJvZHlEaWFncmFtIiwiY29uc3RydWN0b3IiLCJ2aWV3UG9pbnRQcm9wZXJ0eSIsInRvdGFsRm9yY2VQcm9wZXJ0eSIsImNvbXBvbmVudHNGb3JjZVByb3BlcnR5IiwicHJvdmlkZWRPcHRpb25zIiwiZm9yY2VzQm94IiwibGluZVdpZHRoIiwiYWRkQ2hpbGQiLCJkaWFncmFtQ29udGFpbmVyIiwiZnJlZUJvZHkiLCJ4IiwieSIsImZyZWVCb2R5Q29tcG9uZW50VmVjdG9yc05vZGUiLCJ4RHJhZ0ZvcmNlQXJyb3ciLCJ4RHJhZ0ZvcmNlTGFiZWwiLCJjaGlsZHJlbiIsInlEcmFnRm9yY2VBcnJvdyIsInlEcmFnRm9yY2VMYWJlbCIsImZvcmNlR3Jhdml0eUFycm93IiwiZm9yY2VHcmF2aXR5TGFiZWwiLCJmcmVlQm9keVRvdGFscyIsInRvdGFsRHJhZ0ZvcmNlQXJyb3ciLCJ0b3RhbERyYWdGb3JjZUxhYmVsIiwibXVsdGlsaW5rIiwiY29tcG9uZW50c1Zpc2libGUiLCJ0b3RhbFZpc2libGUiLCJ2aWV3UG9pbnQiLCJ2aWV3UG9zaXRpb24iLCJkYXRhUG9pbnQiLCJ2aXNpYmxlIiwiY29uY2F0Iiwic2V0VGFpbEFuZFRpcCIsImRyYWdGb3JjZSIsInJpZ2h0IiwidGlwWCIsInRpcFkiLCJsZWZ0IiwiZm9yY2VHcmF2aXR5IiwieFRvdGFsRm9yY2UiLCJ5VG90YWxGb3JjZSIsImJvdHRvbSIsInNldFJlY3RCb3VuZHMiLCJnZXRDaGlsZEJvdW5kcyIsImRpbGF0ZWQiLCJ2aWV3UG9pbnRMaXN0ZW5lciIsInBvaW50IiwiZHJhZ0ZvcmNlRXhpc3RzIiwiYWlyRGVuc2l0eSIsImxpbmsiLCJkaXNwb3NlRnJlZUJvZHlEaWFncmFtIiwidW5saW5rIiwiZGlzcG9zZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiRnJlZUJvZHlEaWFncmFtLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5LTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFRoZSBmcmVlIGJvZHkgZm9yY2UgZGlhZ3JhbSBhdHRhY2hlZCB0byB0aGUgUHJvamVjdGlsZU5vZGUgd2hlbiBkaXNwbGF5aW5nIGZvcmNlIHZlY3RvcnMuIFRha2VzIHR3byBQcm9wZXJ0aWVzIHRvXHJcbiAqIGxpc3RlbiB0by4gT25lIGZvciB0aGUgdG90YWwgZm9yY2UgdmVjdG9ycywgYW5kIG9uZSBmb3IgdGhlIGNvbXBvbmVudHMuIElmIG5laXRoZXIgYXJlIG9uLCB0aGVuIHRoaXMgTm9kZSB3aWxsIGJlXHJcbiAqIGludmlzaWJsZSwgYXMgdGhlcmUgaXMgbm90aGluZyB0byBzaG93LlxyXG4gKlxyXG4gKiBAYXV0aG9yIEFuZHJlYSBMaW4gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgTWljaGFlbCBLYXV6bWFubiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgTXVsdGlsaW5rIGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvTXVsdGlsaW5rLmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgQXJyb3dOb2RlIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9BcnJvd05vZGUuanMnO1xyXG5pbXBvcnQgeyBDaXJjbGUsIE5vZGUsIE5vZGVPcHRpb25zLCBSZWN0YW5nbGUsIFJpY2hUZXh0IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IHByb2plY3RpbGVNb3Rpb24gZnJvbSAnLi4vLi4vcHJvamVjdGlsZU1vdGlvbi5qcyc7XHJcbmltcG9ydCBQcm9qZWN0aWxlTW90aW9uQ29uc3RhbnRzIGZyb20gJy4uL1Byb2plY3RpbGVNb3Rpb25Db25zdGFudHMuanMnO1xyXG5pbXBvcnQgdHlwZSB7IFZpZXdQb2ludCB9IGZyb20gJy4vUHJvamVjdGlsZU5vZGUuanMnO1xyXG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgRk9SQ0VfQVJST1dfT1BUSU9OUyA9IHtcclxuICBmaWxsOiAnYmxhY2snLFxyXG4gIHN0cm9rZTogbnVsbCxcclxuICB0YWlsV2lkdGg6IDIsXHJcbiAgaGVhZFdpZHRoOiA2XHJcbn07XHJcblxyXG5jb25zdCBGT1JDRV9TQ0FMQVIgPSAzO1xyXG5cclxuY29uc3QgRlJFRV9CT0RZX1JBRElVUyA9IDM7XHJcbmNvbnN0IEZSRUVfQk9EWV9PRkZTRVQgPSBuZXcgVmVjdG9yMiggLTQwLCAtNDAgKTsgLy8gZGlzdGFuY2UgZnJvbSBmcmVlIGJvZHkgdG8gcHJvamVjdGlsZVxyXG5jb25zdCBGT1JDRVNfQk9YX0RJTEFUSU9OID0gNztcclxuXHJcbmNvbnN0IFRSQU5TUEFSRU5UX1dISVRFID0gJ3JnYmEoIDI1NSwgMjU1LCAyNTUsIDAuMzUgKSc7XHJcbmNvbnN0IExBQkVMX09QVElPTlMgPSBQcm9qZWN0aWxlTW90aW9uQ29uc3RhbnRzLkxBQkVMX1RFWFRfT1BUSU9OUztcclxuXHJcbmNvbnN0IHhEcmFnRm9yY2VUZXh0ID0gbmV3IFJpY2hUZXh0KCAnRjxzdWI+ZHg8L3N1Yj4nLCBMQUJFTF9PUFRJT05TICk7XHJcbmNvbnN0IHlEcmFnRm9yY2VUZXh0ID0gbmV3IFJpY2hUZXh0KCAnRjxzdWI+ZHk8L3N1Yj4nLCBMQUJFTF9PUFRJT05TICk7XHJcbmNvbnN0IGZvcmNlR3Jhdml0eVRleHQgPSBuZXcgUmljaFRleHQoICdGPHN1Yj5nPC9zdWI+JywgTEFCRUxfT1BUSU9OUyApO1xyXG5jb25zdCB0b3RhbERyYWdGb3JjZVRleHQgPSBuZXcgUmljaFRleHQoICdGPHN1Yj5kPC9zdWI+JywgTEFCRUxfT1BUSU9OUyApO1xyXG5cclxuY2xhc3MgRnJlZUJvZHlEaWFncmFtIGV4dGVuZHMgTm9kZSB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBkaXNwb3NlRnJlZUJvZHlEaWFncmFtOiAoKSA9PiB2b2lkO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHZpZXdQb2ludFByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxWaWV3UG9pbnQ+LCB0b3RhbEZvcmNlUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PGJvb2xlYW4+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50c0ZvcmNlUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PGJvb2xlYW4+LCBwcm92aWRlZE9wdGlvbnM/OiBOb2RlT3B0aW9ucyApIHtcclxuXHJcbiAgICBzdXBlciggcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgLy8gZm9yY2VzIHZpZXdcclxuICAgIGNvbnN0IGZvcmNlc0JveCA9IG5ldyBSZWN0YW5nbGUoIDAsIDAsIDEwLCA1MCwge1xyXG4gICAgICBmaWxsOiBUUkFOU1BBUkVOVF9XSElURSxcclxuICAgICAgbGluZVdpZHRoOiAwXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBmb3JjZXNCb3ggKTtcclxuXHJcbiAgICBjb25zdCBkaWFncmFtQ29udGFpbmVyID0gbmV3IE5vZGUoKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIGRpYWdyYW1Db250YWluZXIgKTtcclxuXHJcbiAgICBjb25zdCBmcmVlQm9keTogTm9kZSA9IG5ldyBDaXJjbGUoIEZSRUVfQk9EWV9SQURJVVMsIHsgeDogMCwgeTogMCwgZmlsbDogJ2JsYWNrJyB9ICk7XHJcblxyXG4gICAgLy8gVGhlIGNvbXBvbmVudCBmb3JjZSB2ZWN0b3JzXHJcbiAgICBjb25zdCBmcmVlQm9keUNvbXBvbmVudFZlY3RvcnNOb2RlID0gbmV3IE5vZGUoKTtcclxuXHJcbiAgICBjb25zdCB4RHJhZ0ZvcmNlQXJyb3cgPSBuZXcgQXJyb3dOb2RlKCAwLCAwLCAwLCAwLCBGT1JDRV9BUlJPV19PUFRJT05TICk7XHJcbiAgICBmcmVlQm9keUNvbXBvbmVudFZlY3RvcnNOb2RlLmFkZENoaWxkKCB4RHJhZ0ZvcmNlQXJyb3cgKTtcclxuXHJcbiAgICBjb25zdCB4RHJhZ0ZvcmNlTGFiZWwgPSBuZXcgTm9kZSggeyBjaGlsZHJlbjogWyB4RHJhZ0ZvcmNlVGV4dCBdIH0gKTtcclxuICAgIGZyZWVCb2R5Q29tcG9uZW50VmVjdG9yc05vZGUuYWRkQ2hpbGQoIHhEcmFnRm9yY2VMYWJlbCApO1xyXG5cclxuICAgIGNvbnN0IHlEcmFnRm9yY2VBcnJvdyA9IG5ldyBBcnJvd05vZGUoIDAsIDAsIDAsIDAsIEZPUkNFX0FSUk9XX09QVElPTlMgKTtcclxuICAgIGZyZWVCb2R5Q29tcG9uZW50VmVjdG9yc05vZGUuYWRkQ2hpbGQoIHlEcmFnRm9yY2VBcnJvdyApO1xyXG5cclxuICAgIGNvbnN0IHlEcmFnRm9yY2VMYWJlbCA9IG5ldyBOb2RlKCB7IGNoaWxkcmVuOiBbIHlEcmFnRm9yY2VUZXh0IF0gfSApO1xyXG4gICAgZnJlZUJvZHlDb21wb25lbnRWZWN0b3JzTm9kZS5hZGRDaGlsZCggeURyYWdGb3JjZUxhYmVsICk7XHJcblxyXG4gICAgY29uc3QgZm9yY2VHcmF2aXR5QXJyb3cgPSBuZXcgQXJyb3dOb2RlKCAwLCAwLCAwLCAwLCBGT1JDRV9BUlJPV19PUFRJT05TICk7XHJcbiAgICBjb25zdCBmb3JjZUdyYXZpdHlMYWJlbCA9IG5ldyBOb2RlKCB7IGNoaWxkcmVuOiBbIGZvcmNlR3Jhdml0eVRleHQgXSB9ICk7XHJcblxyXG4gICAgY29uc3QgZnJlZUJvZHlUb3RhbHMgPSBuZXcgTm9kZSgpO1xyXG5cclxuICAgIGNvbnN0IHRvdGFsRHJhZ0ZvcmNlQXJyb3cgPSBuZXcgQXJyb3dOb2RlKCAwLCAwLCAwLCAwLCBGT1JDRV9BUlJPV19PUFRJT05TICk7XHJcbiAgICBmcmVlQm9keVRvdGFscy5hZGRDaGlsZCggdG90YWxEcmFnRm9yY2VBcnJvdyApO1xyXG5cclxuICAgIGNvbnN0IHRvdGFsRHJhZ0ZvcmNlTGFiZWwgPSBuZXcgTm9kZSggeyBjaGlsZHJlbjogWyB0b3RhbERyYWdGb3JjZVRleHQgXSB9ICk7XHJcbiAgICBmcmVlQm9keVRvdGFscy5hZGRDaGlsZCggdG90YWxEcmFnRm9yY2VMYWJlbCApO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgZnJlZSBib2R5IGRpYWdyYW1cclxuICAgIGNvbnN0IG11bHRpbGluayA9IE11bHRpbGluay5tdWx0aWxpbmsoIFtcclxuICAgICAgY29tcG9uZW50c0ZvcmNlUHJvcGVydHksXHJcbiAgICAgIHRvdGFsRm9yY2VQcm9wZXJ0eSxcclxuICAgICAgdmlld1BvaW50UHJvcGVydHlcclxuICAgIF0sICggY29tcG9uZW50c1Zpc2libGUsIHRvdGFsVmlzaWJsZSwgdmlld1BvaW50ICkgPT4ge1xyXG4gICAgICBjb25zdCB2aWV3UG9zaXRpb24gPSB2aWV3UG9pbnQudmlld1Bvc2l0aW9uO1xyXG4gICAgICBjb25zdCBkYXRhUG9pbnQgPSB2aWV3UG9pbnQuZGF0YVBvaW50O1xyXG5cclxuICAgICAgLy8gb25seSB2aXNpYmxlIGlzIG9uZSBvZiB0aGUgUHJvcGVydGllcyBpcyBvblxyXG4gICAgICB0aGlzLnZpc2libGUgPSBjb21wb25lbnRzVmlzaWJsZSB8fCB0b3RhbFZpc2libGU7XHJcblxyXG4gICAgICBpZiAoIGNvbXBvbmVudHNWaXNpYmxlIHx8IHRvdGFsVmlzaWJsZSApIHtcclxuICAgICAgICBkaWFncmFtQ29udGFpbmVyLmNoaWxkcmVuID0gWyBmcmVlQm9keSBdLmNvbmNhdCggY29tcG9uZW50c1Zpc2libGUgPyBbIGZyZWVCb2R5Q29tcG9uZW50VmVjdG9yc05vZGUgXSA6IFtdIClcclxuICAgICAgICAgIC5jb25jYXQoIFsgZm9yY2VHcmF2aXR5QXJyb3csIGZvcmNlR3Jhdml0eUxhYmVsIF0gKVxyXG4gICAgICAgICAgLmNvbmNhdCggdG90YWxWaXNpYmxlID8gWyBmcmVlQm9keVRvdGFscyBdIDogW10gKTtcclxuXHJcbiAgICAgICAgZnJlZUJvZHkueCA9IHZpZXdQb3NpdGlvbi54ICsgRlJFRV9CT0RZX09GRlNFVC54O1xyXG4gICAgICAgIGZyZWVCb2R5LnkgPSB2aWV3UG9zaXRpb24ueSArIEZSRUVfQk9EWV9PRkZTRVQueTtcclxuXHJcbiAgICAgICAgaWYgKCBjb21wb25lbnRzVmlzaWJsZSApIHtcclxuICAgICAgICAgIHhEcmFnRm9yY2VBcnJvdy5zZXRUYWlsQW5kVGlwKCBmcmVlQm9keS54LFxyXG4gICAgICAgICAgICBmcmVlQm9keS55LFxyXG4gICAgICAgICAgICBmcmVlQm9keS54IC0gRk9SQ0VfU0NBTEFSICogZGF0YVBvaW50LmRyYWdGb3JjZS54LFxyXG4gICAgICAgICAgICBmcmVlQm9keS55XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgeERyYWdGb3JjZUxhYmVsLnJpZ2h0ID0geERyYWdGb3JjZUFycm93LnRpcFggLSA1O1xyXG4gICAgICAgICAgeERyYWdGb3JjZUxhYmVsLnkgPSB4RHJhZ0ZvcmNlQXJyb3cudGlwWTtcclxuXHJcbiAgICAgICAgICB5RHJhZ0ZvcmNlQXJyb3cuc2V0VGFpbEFuZFRpcCggZnJlZUJvZHkueCxcclxuICAgICAgICAgICAgZnJlZUJvZHkueSxcclxuICAgICAgICAgICAgZnJlZUJvZHkueCxcclxuICAgICAgICAgICAgZnJlZUJvZHkueSArIEZPUkNFX1NDQUxBUiAqIGRhdGFQb2ludC5kcmFnRm9yY2UueVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHlEcmFnRm9yY2VMYWJlbC5sZWZ0ID0geURyYWdGb3JjZUFycm93LnRpcFggKyA1O1xyXG4gICAgICAgICAgeURyYWdGb3JjZUxhYmVsLnkgPSB5RHJhZ0ZvcmNlQXJyb3cudGlwWTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcmNlR3Jhdml0eUFycm93LnNldFRhaWxBbmRUaXAoIGZyZWVCb2R5LngsXHJcbiAgICAgICAgICBmcmVlQm9keS55LFxyXG4gICAgICAgICAgZnJlZUJvZHkueCxcclxuICAgICAgICAgIGZyZWVCb2R5LnkgLSBGT1JDRV9TQ0FMQVIgKiBkYXRhUG9pbnQuZm9yY2VHcmF2aXR5XHJcbiAgICAgICAgKTtcclxuICAgICAgICBmb3JjZUdyYXZpdHlMYWJlbC5sZWZ0ID0gZm9yY2VHcmF2aXR5QXJyb3cudGlwWCArIDU7XHJcbiAgICAgICAgZm9yY2VHcmF2aXR5TGFiZWwueSA9IGZvcmNlR3Jhdml0eUFycm93LnRpcFk7XHJcblxyXG4gICAgICAgIGlmICggdG90YWxWaXNpYmxlICkge1xyXG4gICAgICAgICAgY29uc3QgeFRvdGFsRm9yY2UgPSBkYXRhUG9pbnQuZHJhZ0ZvcmNlLng7XHJcbiAgICAgICAgICBjb25zdCB5VG90YWxGb3JjZSA9IGRhdGFQb2ludC5kcmFnRm9yY2UueTtcclxuICAgICAgICAgIHRvdGFsRHJhZ0ZvcmNlQXJyb3cuc2V0VGFpbEFuZFRpcCggZnJlZUJvZHkueCxcclxuICAgICAgICAgICAgZnJlZUJvZHkueSxcclxuICAgICAgICAgICAgZnJlZUJvZHkueCAtIEZPUkNFX1NDQUxBUiAqIHhUb3RhbEZvcmNlLFxyXG4gICAgICAgICAgICBmcmVlQm9keS55ICsgRk9SQ0VfU0NBTEFSICogeVRvdGFsRm9yY2VcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICB0b3RhbERyYWdGb3JjZUxhYmVsLnJpZ2h0ID0gdG90YWxEcmFnRm9yY2VBcnJvdy50aXBYIC0gNTtcclxuICAgICAgICAgIHRvdGFsRHJhZ0ZvcmNlTGFiZWwuYm90dG9tID0gdG90YWxEcmFnRm9yY2VBcnJvdy50aXBZIC0gNTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcmNlc0JveC5zZXRSZWN0Qm91bmRzKCBkaWFncmFtQ29udGFpbmVyLmdldENoaWxkQm91bmRzKCkuZGlsYXRlZCggRk9SQ0VTX0JPWF9ESUxBVElPTiApICk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCB2aWV3UG9pbnRMaXN0ZW5lciA9ICggcG9pbnQ6IFZpZXdQb2ludCApOiB2b2lkID0+IHtcclxuICAgICAgY29uc3QgZHJhZ0ZvcmNlRXhpc3RzID0gcG9pbnQuZGF0YVBvaW50LmFpckRlbnNpdHkgPiAwO1xyXG4gICAgICB4RHJhZ0ZvcmNlTGFiZWwudmlzaWJsZSA9IGRyYWdGb3JjZUV4aXN0cztcclxuICAgICAgeURyYWdGb3JjZUxhYmVsLnZpc2libGUgPSBkcmFnRm9yY2VFeGlzdHM7XHJcbiAgICAgIHRvdGFsRHJhZ0ZvcmNlTGFiZWwudmlzaWJsZSA9IGRyYWdGb3JjZUV4aXN0cztcclxuICAgIH07XHJcbiAgICB2aWV3UG9pbnRQcm9wZXJ0eS5saW5rKCB2aWV3UG9pbnRMaXN0ZW5lciApO1xyXG5cclxuICAgIHRoaXMuZGlzcG9zZUZyZWVCb2R5RGlhZ3JhbSA9ICgpID0+IHtcclxuICAgICAgdmlld1BvaW50UHJvcGVydHkudW5saW5rKCB2aWV3UG9pbnRMaXN0ZW5lciApO1xyXG4gICAgICBtdWx0aWxpbmsuZGlzcG9zZSgpO1xyXG4gICAgICB4RHJhZ0ZvcmNlQXJyb3cuZGlzcG9zZSgpO1xyXG4gICAgICB5RHJhZ0ZvcmNlQXJyb3cuZGlzcG9zZSgpO1xyXG4gICAgICB0b3RhbERyYWdGb3JjZUFycm93LmRpc3Bvc2UoKTtcclxuICAgICAgZm9yY2VHcmF2aXR5QXJyb3cuZGlzcG9zZSgpO1xyXG4gICAgICB4RHJhZ0ZvcmNlTGFiZWwuZGlzcG9zZSgpO1xyXG4gICAgICB5RHJhZ0ZvcmNlTGFiZWwuZGlzcG9zZSgpO1xyXG4gICAgICBmb3JjZUdyYXZpdHlMYWJlbC5kaXNwb3NlKCk7XHJcbiAgICAgIHRvdGFsRHJhZ0ZvcmNlTGFiZWwuZGlzcG9zZSgpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBkaXNwb3NlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kaXNwb3NlRnJlZUJvZHlEaWFncmFtKCk7XHJcbiAgICBzdXBlci5kaXNwb3NlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5wcm9qZWN0aWxlTW90aW9uLnJlZ2lzdGVyKCAnRnJlZUJvZHlEaWFncmFtJywgRnJlZUJvZHlEaWFncmFtICk7XHJcbmV4cG9ydCBkZWZhdWx0IEZyZWVCb2R5RGlhZ3JhbTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsU0FBUyxNQUFNLGtDQUFrQztBQUN4RCxPQUFPQyxPQUFPLE1BQU0sK0JBQStCO0FBQ25ELE9BQU9DLFNBQVMsTUFBTSwwQ0FBMEM7QUFDaEUsU0FBU0MsTUFBTSxFQUFFQyxJQUFJLEVBQWVDLFNBQVMsRUFBRUMsUUFBUSxRQUFRLG1DQUFtQztBQUNsRyxPQUFPQyxnQkFBZ0IsTUFBTSwyQkFBMkI7QUFDeEQsT0FBT0MseUJBQXlCLE1BQU0saUNBQWlDO0FBSXZFO0FBQ0EsTUFBTUMsbUJBQW1CLEdBQUc7RUFDMUJDLElBQUksRUFBRSxPQUFPO0VBQ2JDLE1BQU0sRUFBRSxJQUFJO0VBQ1pDLFNBQVMsRUFBRSxDQUFDO0VBQ1pDLFNBQVMsRUFBRTtBQUNiLENBQUM7QUFFRCxNQUFNQyxZQUFZLEdBQUcsQ0FBQztBQUV0QixNQUFNQyxnQkFB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