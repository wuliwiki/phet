// Copyright 2019-2022, University of Colorado Boulder

/**
 * ProjectileObjectType subtype that contains editable (mutable) properties of the projectile type
 *
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

import merge from '../../../../phet-core/js/merge.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import IOType from '../../../../tandem/js/types/IOType.js';
import ProjectileObjectType from '../../common/model/ProjectileObjectType.js';
import projectileMotion from '../../projectileMotion.js';
class EditableProjectileObjectType extends ProjectileObjectType {
  /**
   * @param {string|null} name - name of the object, such as 'Golf ball', or null if it doesn't have a name
   * @param {number} mass - in kg
   * @param {number} diameter - in meters
   * @param {number} dragCoefficient
   * @param {string|null} benchmark - identifier of the object benchmark, such as 'tankShell', also considered a
   *                                      'name' for it like for Tandems. null for screens with only one object type
   * @param {boolean} rotates - whether the object rotates or just translates in air
   * @param {Object} [options]
   */
  constructor(name, mass, diameter, dragCoefficient, benchmark, rotates, options) {
    // Options contains data about range and rounding for mass, diameter, drag coefficient.
    // defaults to those of custom objects for screens that don't have benchmarks
    options = merge({
      tandem: Tandem.REQUIRED,
      phetioType: EditableProjectileObjectType.EditableProjectileObjectTypeIO
    }, options);
    super(name, mass, diameter, dragCoefficient, benchmark, rotates, options);

    // @public - These overwrite the supertype values, but as a way to declare them as writeable fields.
    this.mass = mass;
    this.diameter = diameter;
    this.dragCoefficient = dragCoefficient;

    // @public (IO Type) - these mutable values also store their initial values
    this.initialMass = mass;
    this.initialDiameter = diameter;
    this.initialDragCoefficient = dragCoefficient;
  }

  /**
   * Reset the editable pieces of the objecty type
   * @public
   */
  reset() {
    this.mass = this.initialMass;
    this.diameter = this.initialDiameter;
    this.dragCoefficient = this.initialDragCoefficient;
  }

  /**
   *
   * @param {ProjectileObjectType} projectileObjectType
   * @param {Tandem} tandem
   * @returns {EditableProjectileObjectType}
   * @public
   */
  static fromProjectileObjectType(projectileObjectType, tandem) {
    return new EditableProjectileObjectType(projectileObjectType.name, projectileObjectType.mass, projectileObjectType.diameter, projectileObjectType.dragCoefficient, projectileObjectType.benchmark, projectileObjectType.rotates, merge(projectileObjectType.projectileObjectTypeOptions, {
      phetioType: EditableProjectileObjectType.EditableProjectileObjectTypeIO,
      tandem: tandem
    }));
  }
}
EditableProjectileObjectType.EditableProjectileObjectTypeIO = new IOType('EditableProjectileObjectTypeIO', {
  valueType: ProjectileObjectType,
  documentation: 'A data type that stores the variables for a given object type.',
  supertype: ProjectileObjectType.ProjectileObjectTypeIO,
  applyState: (phetioObjectType, fromStateObject) => {
    ProjectileObjectType.ProjectileObjectTypeIO.applyState(phetioObjectType, fromStateObject);

    // These were just set on the phetioObjectType in the supertype applyState
    phetioObjectType.initialMass = phetioObjectType.mass;
    phetioObjectType.initialDiameter = phetioObjectType.diameter;
    phetioObjectType.initialDragCoefficient = phetioObjectType.dragCoefficient;
  }
});
projectileMotion.register('EditableProjectileObjectType', EditableProjectileObjectType);
export default EditableProjectileObjectType;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZXJnZSIsIlRhbmRlbSIsIklPVHlwZSIsIlByb2plY3RpbGVPYmplY3RUeXBlIiwicHJvamVjdGlsZU1vdGlvbiIsIkVkaXRhYmxlUHJvamVjdGlsZU9iamVjdFR5cGUiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJtYXNzIiwiZGlhbWV0ZXIiLCJkcmFnQ29lZmZpY2llbnQiLCJiZW5jaG1hcmsiLCJyb3RhdGVzIiwib3B0aW9ucyIsInRhbmRlbSIsIlJFUVVJUkVEIiwicGhldGlvVHlwZSIsIkVkaXRhYmxlUHJvamVjdGlsZU9iamVjdFR5cGVJTyIsImluaXRpYWxNYXNzIiwiaW5pdGlhbERpYW1ldGVyIiwiaW5pdGlhbERyYWdDb2VmZmljaWVudCIsInJlc2V0IiwiZnJvbVByb2plY3RpbGVPYmplY3RUeXBlIiwicHJvamVjdGlsZU9iamVjdFR5cGUiLCJwcm9qZWN0aWxlT2JqZWN0VHlwZU9wdGlvbnMiLCJ2YWx1ZVR5cGUiLCJkb2N1bWVudGF0aW9uIiwic3VwZXJ0eXBlIiwiUHJvamVjdGlsZU9iamVjdFR5cGVJTyIsImFwcGx5U3RhdGUiLCJwaGV0aW9PYmplY3RUeXBlIiwiZnJvbVN0YXRlT2JqZWN0IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJFZGl0YWJsZVByb2plY3RpbGVPYmplY3RUeXBlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5LTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFByb2plY3RpbGVPYmplY3RUeXBlIHN1YnR5cGUgdGhhdCBjb250YWlucyBlZGl0YWJsZSAobXV0YWJsZSkgcHJvcGVydGllcyBvZiB0aGUgcHJvamVjdGlsZSB0eXBlXHJcbiAqXHJcbiAqIEBhdXRob3IgTWljaGFlbCBLYXV6bWFubiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IFRhbmRlbSBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvVGFuZGVtLmpzJztcclxuaW1wb3J0IElPVHlwZSBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvdHlwZXMvSU9UeXBlLmpzJztcclxuaW1wb3J0IFByb2plY3RpbGVPYmplY3RUeXBlIGZyb20gJy4uLy4uL2NvbW1vbi9tb2RlbC9Qcm9qZWN0aWxlT2JqZWN0VHlwZS5qcyc7XHJcbmltcG9ydCBwcm9qZWN0aWxlTW90aW9uIGZyb20gJy4uLy4uL3Byb2plY3RpbGVNb3Rpb24uanMnO1xyXG5cclxuY2xhc3MgRWRpdGFibGVQcm9qZWN0aWxlT2JqZWN0VHlwZSBleHRlbmRzIFByb2plY3RpbGVPYmplY3RUeXBlIHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gbmFtZSAtIG5hbWUgb2YgdGhlIG9iamVjdCwgc3VjaCBhcyAnR29sZiBiYWxsJywgb3IgbnVsbCBpZiBpdCBkb2Vzbid0IGhhdmUgYSBuYW1lXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1hc3MgLSBpbiBrZ1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaWFtZXRlciAtIGluIG1ldGVyc1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkcmFnQ29lZmZpY2llbnRcclxuICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSBiZW5jaG1hcmsgLSBpZGVudGlmaWVyIG9mIHRoZSBvYmplY3QgYmVuY2htYXJrLCBzdWNoIGFzICd0YW5rU2hlbGwnLCBhbHNvIGNvbnNpZGVyZWQgYVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZScgZm9yIGl0IGxpa2UgZm9yIFRhbmRlbXMuIG51bGwgZm9yIHNjcmVlbnMgd2l0aCBvbmx5IG9uZSBvYmplY3QgdHlwZVxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm90YXRlcyAtIHdoZXRoZXIgdGhlIG9iamVjdCByb3RhdGVzIG9yIGp1c3QgdHJhbnNsYXRlcyBpbiBhaXJcclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIG5hbWUsIG1hc3MsIGRpYW1ldGVyLCBkcmFnQ29lZmZpY2llbnQsIGJlbmNobWFyaywgcm90YXRlcywgb3B0aW9ucyApIHtcclxuXHJcbiAgICAvLyBPcHRpb25zIGNvbnRhaW5zIGRhdGEgYWJvdXQgcmFuZ2UgYW5kIHJvdW5kaW5nIGZvciBtYXNzLCBkaWFtZXRlciwgZHJhZyBjb2VmZmljaWVudC5cclxuICAgIC8vIGRlZmF1bHRzIHRvIHRob3NlIG9mIGN1c3RvbSBvYmplY3RzIGZvciBzY3JlZW5zIHRoYXQgZG9uJ3QgaGF2ZSBiZW5jaG1hcmtzXHJcbiAgICBvcHRpb25zID0gbWVyZ2UoIHtcclxuICAgICAgdGFuZGVtOiBUYW5kZW0uUkVRVUlSRUQsXHJcbiAgICAgIHBoZXRpb1R5cGU6IEVkaXRhYmxlUHJvamVjdGlsZU9iamVjdFR5cGUuRWRpdGFibGVQcm9qZWN0aWxlT2JqZWN0VHlwZUlPXHJcbiAgICB9LCBvcHRpb25zICk7XHJcblxyXG4gICAgc3VwZXIoIG5hbWUsIG1hc3MsIGRpYW1ldGVyLCBkcmFnQ29lZmZpY2llbnQsIGJlbmNobWFyaywgcm90YXRlcywgb3B0aW9ucyApO1xyXG5cclxuICAgIC8vIEBwdWJsaWMgLSBUaGVzZSBvdmVyd3JpdGUgdGhlIHN1cGVydHlwZSB2YWx1ZXMsIGJ1dCBhcyBhIHdheSB0byBkZWNsYXJlIHRoZW0gYXMgd3JpdGVhYmxlIGZpZWxkcy5cclxuICAgIHRoaXMubWFzcyA9IG1hc3M7XHJcbiAgICB0aGlzLmRpYW1ldGVyID0gZGlhbWV0ZXI7XHJcbiAgICB0aGlzLmRyYWdDb2VmZmljaWVudCA9IGRyYWdDb2VmZmljaWVudDtcclxuXHJcbiAgICAvLyBAcHVibGljIChJTyBUeXBlKSAtIHRoZXNlIG11dGFibGUgdmFsdWVzIGFsc28gc3RvcmUgdGhlaXIgaW5pdGlhbCB2YWx1ZXNcclxuICAgIHRoaXMuaW5pdGlhbE1hc3MgPSBtYXNzO1xyXG4gICAgdGhpcy5pbml0aWFsRGlhbWV0ZXIgPSBkaWFtZXRlcjtcclxuICAgIHRoaXMuaW5pdGlhbERyYWdDb2VmZmljaWVudCA9IGRyYWdDb2VmZmljaWVudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0IHRoZSBlZGl0YWJsZSBwaWVjZXMgb2YgdGhlIG9iamVjdHkgdHlwZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMubWFzcyA9IHRoaXMuaW5pdGlhbE1hc3M7XHJcbiAgICB0aGlzLmRpYW1ldGVyID0gdGhpcy5pbml0aWFsRGlhbWV0ZXI7XHJcbiAgICB0aGlzLmRyYWdDb2VmZmljaWVudCA9IHRoaXMuaW5pdGlhbERyYWdDb2VmZmljaWVudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtQcm9qZWN0aWxlT2JqZWN0VHlwZX0gcHJvamVjdGlsZU9iamVjdFR5cGVcclxuICAgKiBAcGFyYW0ge1RhbmRlbX0gdGFuZGVtXHJcbiAgICogQHJldHVybnMge0VkaXRhYmxlUHJvamVjdGlsZU9iamVjdFR5cGV9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHN0YXRpYyBmcm9tUHJvamVjdGlsZU9iamVjdFR5cGUoIHByb2plY3RpbGVPYmplY3RUeXBlLCB0YW5kZW0gKSB7XHJcbiAgICByZXR1cm4gbmV3IEVkaXRhYmxlUHJvamVjdGlsZU9iamVjdFR5cGUoXHJcbiAgICAgIHByb2plY3RpbGVPYmplY3RUeXBlLm5hbWUsXHJcbiAgICAgIHByb2plY3RpbGVPYmplY3RUeXBlLm1hc3MsXHJcbiAgICAgIHByb2plY3RpbGVPYmplY3RUeXBlLmRpYW1ldGVyLFxyXG4gICAgICBwcm9qZWN0aWxlT2JqZWN0VHlwZS5kcmFnQ29lZmZpY2llbnQsXHJcbiAgICAgIHByb2plY3RpbGVPYmplY3RUeXBlLmJlbmNobWFyayxcclxuICAgICAgcHJvamVjdGlsZU9iamVjdFR5cGUucm90YXRlcyxcclxuICAgICAgbWVyZ2UoIHByb2plY3RpbGVPYmplY3RUeXBlLnByb2plY3RpbGVPYmplY3RUeXBlT3B0aW9ucywge1xyXG4gICAgICAgIHBoZXRpb1R5cGU6IEVkaXRhYmxlUHJvamVjdGlsZU9iamVjdFR5cGUuRWRpdGFibGVQcm9qZWN0aWxlT2JqZWN0VHlwZUlPLFxyXG4gICAgICAgIHRhbmRlbTogdGFuZGVtXHJcbiAgICAgIH0gKSApO1xyXG4gIH1cclxufVxyXG5cclxuRWRpdGFibGVQcm9qZWN0aWxlT2JqZWN0VHlwZS5FZGl0YWJsZVByb2plY3RpbGVPYmplY3RUeXBlSU8gPSBuZXcgSU9UeXBlKCAnRWRpdGFibGVQcm9qZWN0aWxlT2JqZWN0VHlwZUlPJywge1xyXG4gIHZhbHVlVHlwZTogUHJvamVjdGlsZU9iamVjdFR5cGUsXHJcbiAgZG9jdW1lbnRhdGlvbjogJ0EgZGF0YSB0eXBlIHRoYXQgc3RvcmVzIHRoZSB2YXJpYWJsZXMgZm9yIGEgZ2l2ZW4gb2JqZWN0IHR5cGUuJyxcclxuICBzdXBlcnR5cGU6IFByb2plY3RpbGVPYmplY3RUeXBlLlByb2plY3RpbGVPYmplY3RUeXBlSU8sXHJcblxyXG4gIGFwcGx5U3RhdGU6ICggcGhldGlvT2JqZWN0VHlwZSwgZnJvbVN0YXRlT2JqZWN0ICkgPT4ge1xyXG4gICAgUHJvamVjdGlsZU9iamVjdFR5cGUuUHJvamVjdGlsZU9iamVjdFR5cGVJTy5hcHBseVN0YXRlKCBwaGV0aW9PYmplY3RUeXBlLCBmcm9tU3RhdGVPYmplY3QgKTtcclxuXHJcbiAgICAvLyBUaGVzZSB3ZXJlIGp1c3Qgc2V0IG9uIHRoZSBwaGV0aW9PYmplY3RUeXBlIGluIHRoZSBzdXBlcnR5cGUgYXBwbHlTdGF0ZVxyXG4gICAgcGhldGlvT2JqZWN0VHlwZS5pbml0aWFsTWFzcyA9IHBoZXRpb09iamVjdFR5cGUubWFzcztcclxuICAgIHBoZXRpb09iamVjdFR5cGUuaW5pdGlhbERpYW1ldGVyID0gcGhldGlvT2JqZWN0VHlwZS5kaWFtZXRlcjtcclxuICAgIHBoZXRpb09iamVjdFR5cGUuaW5pdGlhbERyYWdDb2VmZmljaWVudCA9IHBoZXRpb09iamVjdFR5cGUuZHJhZ0NvZWZmaWNpZW50O1xyXG4gIH1cclxufSApO1xyXG5cclxucHJvamVjdGlsZU1vdGlvbi5yZWdpc3RlciggJ0VkaXRhYmxlUHJvamVjdGlsZU9iamVjdFR5cGUnLCBFZGl0YWJsZVByb2plY3RpbGVPYmplY3RUeXBlICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFZGl0YWJsZVByb2plY3RpbGVPYmplY3RUeXBlOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxLQUFLLE1BQU0sbUNBQW1DO0FBQ3JELE9BQU9DLE1BQU0sTUFBTSxpQ0FBaUM7QUFDcEQsT0FBT0MsTUFBTSxNQUFNLHVDQUF1QztBQUMxRCxPQUFPQyxvQkFBb0IsTUFBTSw0Q0FBNEM7QUFDN0UsT0FBT0MsZ0JBQWdCLE1BQU0sMkJBQTJCO0FBRXhELE1BQU1DLDRCQUE0QixTQUFTRixvQkFBb0IsQ0FBQztFQUU5RDtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFRyxXQUFXQSxDQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFQyxlQUFlLEVBQUVDLFNBQVMsRUFBRUMsT0FBTyxFQUFFQyxPQUFPLEVBQUc7SUFFaEY7SUFDQTtJQUNBQSxPQUFPLEdBQUdiLEtBQUssQ0FBRTtNQUNmYyxNQUFNLEVBQUViLE1BQU0sQ0FBQ2MsUUFBUTtNQUN2QkMsVUFBVSxFQUFFWCw0QkFBNEIsQ0FBQ1k7SUFDM0MsQ0FBQyxFQUFFSixPQUFRLENBQUM7SUFFWixLQUFLLENBQUVOLElBQUksRUFBRUMsSUFBSSxFQUFFQyxRQUFRLEVBQUVDLGVBQWUsRUFBRUMsU0FBUyxFQUFFQyxPQUFPLEVBQUVDLE9BQVEsQ0FBQzs7SUFFM0U7SUFDQSxJQUFJLENBQUNMLElBQUksR0FBR0EsSUFBSTtJQUNoQixJQUFJLENBQUNDLFFBQVEsR0FBR0EsUUFBUTtJQUN4QixJQUFJLENBQUNDLGVBQWUsR0FBR0EsZUFBZTs7SUFFdEM7SUFDQSxJQUFJLENBQUNRLFdBQVcsR0FBR1YsSUFBSTtJQUN2QixJQUFJLENBQUNXLGVBQWUsR0FBR1YsUUFBUTtJQUMvQixJQUFJLENBQUNXLHNCQUFzQixHQUFHVixlQUFlO0VBQy9DOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0VBQ0VXLEtBQUtBLENBQUEsRUFBRztJQUNOLElBQUksQ0FBQ2IsSUFBSSxHQUFHLElBQUksQ0FBQ1UsV0FBVztJQUM1QixJQUFJLENBQUNULFFBQVEsR0FBRyxJQUFJLENBQUNVLGVBQWU7SUFDcEMsSUFBSSxDQUFDVCxlQUFlLEdBQUcsSUFBSSxDQUFDVSxzQkFBc0I7RUFDcEQ7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRSxPQUFPRSx3QkFBd0JBLENBQUVDLG9CQUFvQixFQUFFVCxNQUFNLEVBQUc7SUFDOUQsT0FBTyxJQUFJVCw0QkFBNEIsQ0FDckNrQixvQkFBb0IsQ0FBQ2hCLElBQUksRUFDekJnQixvQkFBb0IsQ0FBQ2YsSUFBSSxFQUN6QmUsb0JBQW9CLENBQUNkLFFBQVEsRUFDN0JjLG9CQUFvQixDQUFDYixlQUFlLEVBQ3BDYSxvQkFBb0IsQ0FBQ1osU0FBUyxFQUM5Qlksb0JBQW9CLENBQUNYLE9BQU8sRUFDNUJaLEtBQUssQ0FBRXVCLG9CQUFvQixDQUFDQywyQkFBMkIsRUFBRTtNQUN2RFIsVUFBVSxFQUFFWCw0QkFBNEIsQ0FBQ1ksOEJBQThCO01BQ3ZFSCxNQUFNLEVBQUVBO0lBQ1YsQ0FBRSxDQUFFLENBQUM7RUFDVDtBQUNGO0FBRUFULDRCQUE0QixDQUFDWSw4QkFBOEIsR0FBRyxJQUFJZixNQUFNLENBQUUsZ0NBQWdDLEVBQUU7RUFDMUd1QixTQUFTLEVBQUV0QixvQkFBb0I7RUFDL0J1QixhQUFhLEVBQUUsZ0VBQWdFO0VBQy9FQyxTQUFTLEVBQUV4QixvQkFBb0IsQ0FBQ3lCLHNCQUFzQjtFQUV0REMsVUFBVSxFQUFFQSxDQUFFQyxnQkFBZ0IsRUFBRUMsZUFBZSxLQUFNO0lBQ25ENUIsb0JBQW9CLENBQUN5QixzQkFBc0IsQ0FBQ0MsVUFBVSxDQUFFQyxnQkFBZ0IsRUFBRUMsZUFBZ0IsQ0FBQzs7SUFFM0Y7SUFDQUQsZ0JBQWdCLENBQUNaLFdBQVcsR0FBR1ksZ0JBQWdCLENBQUN0QixJQUFJO0lBQ3BEc0IsZ0JBQWdCLENBQUNYLGVBQWUsR0FBR1csZ0JBQWdCLENBQUNyQixRQUFRO0lBQzVEcUIsZ0JBQWdCLENBQUNWLHNCQUFzQixHQUFHVSxnQkFBZ0IsQ0FBQ3BCLGVBQWU7RUFDNUU7QUFDRixDQUFFLENBQUM7QUFFSE4sZ0JBQWdCLENBQUM0QixRQUFRLENBQUUsOEJBQThCLEVBQUUzQiw0QkFBNkIsQ0FBQztBQUV6RixlQUFlQSw0QkFBNEIifQ==