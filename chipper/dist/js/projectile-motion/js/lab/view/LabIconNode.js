// Copyright 2017-2022, University of Colorado Boulder

/**
 * icon node for the 'Lab' screen
 * @author Andrea Lin (PhET Interactive Simulations)
 */

import Screen from '../../../../joist/js/Screen.js';
import { Shape } from '../../../../kite/js/imports.js';
import { Color, Image, LinearGradient, Node, Path, Rectangle } from '../../../../scenery/js/imports.js';
import cannonBarrelTop_png from '../../../images/cannonBarrelTop_png.js';
import cannonBarrel_png from '../../../mipmaps/cannonBarrel_png.js';
import cannonBaseBottom_png from '../../../mipmaps/cannonBaseBottom_png.js';
import cannonBaseTop_png from '../../../mipmaps/cannonBaseTop_png.js';
import projectileMotion from '../../projectileMotion.js';

// constants
const SCREEN_ICON_SIZE = Screen.MINIMUM_HOME_SCREEN_ICON_SIZE;
const NAV_ICON_SIZE = Screen.MINIMUM_NAVBAR_ICON_SIZE;
const CANNON_ANGLE = 35;
const BRIGHT_GRAY_COLOR = new Color(230, 230, 230, 1);
const DARK_GRAY_COLOR = new Color(103, 103, 103, 1);
class LabIconNode extends Rectangle {
  /**
   * @param {string} type - 'nav' or 'screen'
   */
  constructor(type) {
    assert && assert(type === 'nav' || type === 'screen', `invalid value for type: ${type}`);

    // nav bar icon has a bigger cannon than that of the home screen icon

    let width;
    let height;
    let cannonLength;
    let cannonX;
    let cannonY;
    let scaledEllipseWidth;
    let scaledEllipseHeight;
    if (type === 'nav') {
      width = NAV_ICON_SIZE.width;
      height = NAV_ICON_SIZE.height;
      cannonLength = width / 2;
      cannonX = width * 0.4;
      cannonY = height * 0.6;
      scaledEllipseWidth = cannonLength * 1.2;
      scaledEllipseHeight = cannonLength * 0.15;
    } else {
      width = SCREEN_ICON_SIZE.width;
      height = SCREEN_ICON_SIZE.height;
      cannonLength = width * 0.4;
      cannonX = width * 0.4;
      cannonY = height / 2;
      scaledEllipseWidth = cannonLength * 1.2;
      scaledEllipseHeight = cannonLength * 0.15;
    }

    // layer for scalable cannon parts
    const scalableNode = new Node({
      x: cannonX,
      y: cannonY
    });

    // cannon
    const cannonBarrel = new Node({
      rotation: -CANNON_ANGLE * Math.PI / 180
    });
    scalableNode.addChild(cannonBarrel);
    const cannonBarrelTop = new Image(cannonBarrelTop_png, {
      centerY: 0
    });
    const cannonBarrelBase = new Image(cannonBarrel_png, {
      centerY: 0,
      right: cannonBarrelTop.right
    });
    cannonBarrel.addChild(cannonBarrelBase);
    cannonBarrel.addChild(cannonBarrelTop);
    const cannonBase = new Node({
      pickable: true,
      cursor: 'pointer'
    });
    scalableNode.addChild(cannonBase);
    const cannonBaseBottom = new Image(cannonBaseBottom_png, {
      top: 0,
      centerX: 0
    });
    cannonBase.addChild(cannonBaseBottom);
    const cannonBaseTop = new Image(cannonBaseTop_png, {
      bottom: 0,
      centerX: 0
    });
    cannonBase.addChild(cannonBaseTop);
    scalableNode.setScaleMagnitude(cannonLength / cannonBarrelTop.width);

    //pedestal
    const ellipseShape = Shape.ellipse(0, 0, scaledEllipseWidth / 2, scaledEllipseHeight / 2);
    const cylinderTop = new Path(ellipseShape, {
      x: cannonX,
      y: scalableNode.bottom - scaledEllipseHeight / 4,
      fill: DARK_GRAY_COLOR,
      stroke: BRIGHT_GRAY_COLOR,
      lineWidth: 2
    });
    const sideShape = new Shape();
    sideShape.moveTo(cannonX - scaledEllipseWidth / 2, height - 1).lineTo(cannonX - scaledEllipseWidth / 2, cylinderTop.y).ellipticalArc(cannonX, cylinderTop.y, scaledEllipseWidth / 2, scaledEllipseHeight / 2, 0, Math.PI, 0, true).lineTo(cannonX + scaledEllipseWidth / 2, height - 1).close();
    const sideFill = new LinearGradient(cannonX - scaledEllipseWidth / 2, 0, cannonX + scaledEllipseWidth / 2, 0).addColorStop(0.0, DARK_GRAY_COLOR).addColorStop(0.3, BRIGHT_GRAY_COLOR).addColorStop(1, DARK_GRAY_COLOR);
    const cylinderSide = new Path(sideShape, {
      fill: sideFill,
      stroke: BRIGHT_GRAY_COLOR,
      lineWidth: 2
    });

    // layer for angle indicators
    const angleIndicator = new Node({
      x: cannonX,
      y: cannonY
    });

    // crosshair view
    const crosshairShape = new Shape().moveTo(-width * 0.2, 0).lineTo(width * 0.5, 0).moveTo(0, -height * 0.3).lineTo(0, height * 0.3);
    const crosshair = new Path(crosshairShape, {
      stroke: 'gray'
    });
    angleIndicator.addChild(crosshair);
    const darkerCrosshairShape = new Shape().moveTo(-height / 25, 0).lineTo(height / 25, 0).moveTo(0, -height / 25).lineTo(0, height / 25);
    const darkerCrosshair = new Path(darkerCrosshairShape, {
      stroke: 'black',
      lineWidth: 3
    });
    angleIndicator.addChild(darkerCrosshair);

    // view for the angle arc
    const arcShape = Shape.arc(0, 0, cannonLength + 5, 0, -CANNON_ANGLE * Math.PI / 180, true);
    const angleArc = new Path(arcShape, {
      stroke: 'gray'
    });
    angleIndicator.addChild(angleArc);

    // create the background
    const backgroundFill = new LinearGradient(0, 0, 0, height).addColorStop(0, '#02ace4').addColorStop(1, '#cfecfc');
    super(0, 0, width, height, {
      fill: backgroundFill,
      children: [cylinderSide, cylinderTop, scalableNode, angleIndicator]
    });
  }
}
projectileMotion.register('LabIconNode', LabIconNode);
export default LabIconNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY3JlZW4iLCJTaGFwZSIsIkNvbG9yIiwiSW1hZ2UiLCJMaW5lYXJHcmFkaWVudCIsIk5vZGUiLCJQYXRoIiwiUmVjdGFuZ2xlIiwiY2Fubm9uQmFycmVsVG9wX3BuZyIsImNhbm5vbkJhcnJlbF9wbmciLCJjYW5ub25CYXNlQm90dG9tX3BuZyIsImNhbm5vbkJhc2VUb3BfcG5nIiwicHJvamVjdGlsZU1vdGlvbiIsIlNDUkVFTl9JQ09OX1NJWkUiLCJNSU5JTVVNX0hPTUVfU0NSRUVOX0lDT05fU0laRSIsIk5BVl9JQ09OX1NJWkUiLCJNSU5JTVVNX05BVkJBUl9JQ09OX1NJWkUiLCJDQU5OT05fQU5HTEUiLCJCUklHSFRfR1JBWV9DT0xPUiIsIkRBUktfR1JBWV9DT0xPUiIsIkxhYkljb25Ob2RlIiwiY29uc3RydWN0b3IiLCJ0eXBlIiwiYXNzZXJ0Iiwid2lkdGgiLCJoZWlnaHQiLCJjYW5ub25MZW5ndGgiLCJjYW5ub25YIiwiY2Fubm9uWSIsInNjYWxlZEVsbGlwc2VXaWR0aCIsInNjYWxlZEVsbGlwc2VIZWlnaHQiLCJzY2FsYWJsZU5vZGUiLCJ4IiwieSIsImNhbm5vbkJhcnJlbCIsInJvdGF0aW9uIiwiTWF0aCIsIlBJIiwiYWRkQ2hpbGQiLCJjYW5ub25CYXJyZWxUb3AiLCJjZW50ZXJZIiwiY2Fubm9uQmFycmVsQmFzZSIsInJpZ2h0IiwiY2Fubm9uQmFzZSIsInBpY2thYmxlIiwiY3Vyc29yIiwiY2Fubm9uQmFzZUJvdHRvbSIsInRvcCIsImNlbnRlclgiLCJjYW5ub25CYXNlVG9wIiwiYm90dG9tIiwic2V0U2NhbGVNYWduaXR1ZGUiLCJlbGxpcHNlU2hhcGUiLCJlbGxpcHNlIiwiY3lsaW5kZXJUb3AiLCJmaWxsIiwic3Ryb2tlIiwibGluZVdpZHRoIiwic2lkZVNoYXBlIiwibW92ZVRvIiwibGluZVRvIiwiZWxsaXB0aWNhbEFyYyIsImNsb3NlIiwic2lkZUZpbGwiLCJhZGRDb2xvclN0b3AiLCJjeWxpbmRlclNpZGUiLCJhbmdsZUluZGljYXRvciIsImNyb3NzaGFpclNoYXBlIiwiY3Jvc3NoYWlyIiwiZGFya2VyQ3Jvc3NoYWlyU2hhcGUiLCJkYXJrZXJDcm9zc2hhaXIiLCJhcmNTaGFwZSIsImFyYyIsImFuZ2xlQXJjIiwiYmFja2dyb3VuZEZpbGwiLCJjaGlsZHJlbiIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiTGFiSWNvbk5vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTctMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogaWNvbiBub2RlIGZvciB0aGUgJ0xhYicgc2NyZWVuXHJcbiAqIEBhdXRob3IgQW5kcmVhIExpbiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgU2NyZWVuIGZyb20gJy4uLy4uLy4uLy4uL2pvaXN0L2pzL1NjcmVlbi5qcyc7XHJcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4va2l0ZS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IHsgQ29sb3IsIEltYWdlLCBMaW5lYXJHcmFkaWVudCwgTm9kZSwgUGF0aCwgUmVjdGFuZ2xlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IGNhbm5vbkJhcnJlbFRvcF9wbmcgZnJvbSAnLi4vLi4vLi4vaW1hZ2VzL2Nhbm5vbkJhcnJlbFRvcF9wbmcuanMnO1xyXG5pbXBvcnQgY2Fubm9uQmFycmVsX3BuZyBmcm9tICcuLi8uLi8uLi9taXBtYXBzL2Nhbm5vbkJhcnJlbF9wbmcuanMnO1xyXG5pbXBvcnQgY2Fubm9uQmFzZUJvdHRvbV9wbmcgZnJvbSAnLi4vLi4vLi4vbWlwbWFwcy9jYW5ub25CYXNlQm90dG9tX3BuZy5qcyc7XHJcbmltcG9ydCBjYW5ub25CYXNlVG9wX3BuZyBmcm9tICcuLi8uLi8uLi9taXBtYXBzL2Nhbm5vbkJhc2VUb3BfcG5nLmpzJztcclxuaW1wb3J0IHByb2plY3RpbGVNb3Rpb24gZnJvbSAnLi4vLi4vcHJvamVjdGlsZU1vdGlvbi5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgU0NSRUVOX0lDT05fU0laRSA9IFNjcmVlbi5NSU5JTVVNX0hPTUVfU0NSRUVOX0lDT05fU0laRTtcclxuY29uc3QgTkFWX0lDT05fU0laRSA9IFNjcmVlbi5NSU5JTVVNX05BVkJBUl9JQ09OX1NJWkU7XHJcbmNvbnN0IENBTk5PTl9BTkdMRSA9IDM1O1xyXG5jb25zdCBCUklHSFRfR1JBWV9DT0xPUiA9IG5ldyBDb2xvciggMjMwLCAyMzAsIDIzMCwgMSApO1xyXG5jb25zdCBEQVJLX0dSQVlfQ09MT1IgPSBuZXcgQ29sb3IoIDEwMywgMTAzLCAxMDMsIDEgKTtcclxuXHJcbmNsYXNzIExhYkljb25Ob2RlIGV4dGVuZHMgUmVjdGFuZ2xlIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtICduYXYnIG9yICdzY3JlZW4nXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIHR5cGUgKSB7XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggdHlwZSA9PT0gJ25hdicgfHwgdHlwZSA9PT0gJ3NjcmVlbicsIGBpbnZhbGlkIHZhbHVlIGZvciB0eXBlOiAke3R5cGV9YCApO1xyXG5cclxuICAgIC8vIG5hdiBiYXIgaWNvbiBoYXMgYSBiaWdnZXIgY2Fubm9uIHRoYW4gdGhhdCBvZiB0aGUgaG9tZSBzY3JlZW4gaWNvblxyXG5cclxuICAgIGxldCB3aWR0aDtcclxuICAgIGxldCBoZWlnaHQ7XHJcbiAgICBsZXQgY2Fubm9uTGVuZ3RoO1xyXG4gICAgbGV0IGNhbm5vblg7XHJcbiAgICBsZXQgY2Fubm9uWTtcclxuICAgIGxldCBzY2FsZWRFbGxpcHNlV2lkdGg7XHJcbiAgICBsZXQgc2NhbGVkRWxsaXBzZUhlaWdodDtcclxuXHJcbiAgICBpZiAoIHR5cGUgPT09ICduYXYnICkge1xyXG4gICAgICB3aWR0aCA9IE5BVl9JQ09OX1NJWkUud2lkdGg7XHJcbiAgICAgIGhlaWdodCA9IE5BVl9JQ09OX1NJWkUuaGVpZ2h0O1xyXG4gICAgICBjYW5ub25MZW5ndGggPSB3aWR0aCAvIDI7XHJcbiAgICAgIGNhbm5vblggPSB3aWR0aCAqIDAuNDtcclxuICAgICAgY2Fubm9uWSA9IGhlaWdodCAqIDAuNjtcclxuXHJcbiAgICAgIHNjYWxlZEVsbGlwc2VXaWR0aCA9IGNhbm5vbkxlbmd0aCAqIDEuMjtcclxuICAgICAgc2NhbGVkRWxsaXBzZUhlaWdodCA9IGNhbm5vbkxlbmd0aCAqIDAuMTU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgd2lkdGggPSBTQ1JFRU5fSUNPTl9TSVpFLndpZHRoO1xyXG4gICAgICBoZWlnaHQgPSBTQ1JFRU5fSUNPTl9TSVpFLmhlaWdodDtcclxuICAgICAgY2Fubm9uTGVuZ3RoID0gd2lkdGggKiAwLjQ7XHJcbiAgICAgIGNhbm5vblggPSB3aWR0aCAqIDAuNDtcclxuICAgICAgY2Fubm9uWSA9IGhlaWdodCAvIDI7XHJcblxyXG4gICAgICBzY2FsZWRFbGxpcHNlV2lkdGggPSBjYW5ub25MZW5ndGggKiAxLjI7XHJcbiAgICAgIHNjYWxlZEVsbGlwc2VIZWlnaHQgPSBjYW5ub25MZW5ndGggKiAwLjE1O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGxheWVyIGZvciBzY2FsYWJsZSBjYW5ub24gcGFydHNcclxuICAgIGNvbnN0IHNjYWxhYmxlTm9kZSA9IG5ldyBOb2RlKCB7IHg6IGNhbm5vblgsIHk6IGNhbm5vblkgfSApO1xyXG5cclxuICAgIC8vIGNhbm5vblxyXG4gICAgY29uc3QgY2Fubm9uQmFycmVsID0gbmV3IE5vZGUoIHsgcm90YXRpb246IC1DQU5OT05fQU5HTEUgKiBNYXRoLlBJIC8gMTgwIH0gKTtcclxuICAgIHNjYWxhYmxlTm9kZS5hZGRDaGlsZCggY2Fubm9uQmFycmVsICk7XHJcblxyXG4gICAgY29uc3QgY2Fubm9uQmFycmVsVG9wID0gbmV3IEltYWdlKCBjYW5ub25CYXJyZWxUb3BfcG5nLCB7IGNlbnRlclk6IDAgfSApO1xyXG4gICAgY29uc3QgY2Fubm9uQmFycmVsQmFzZSA9IG5ldyBJbWFnZSggY2Fubm9uQmFycmVsX3BuZywgeyBjZW50ZXJZOiAwLCByaWdodDogY2Fubm9uQmFycmVsVG9wLnJpZ2h0IH0gKTtcclxuXHJcbiAgICBjYW5ub25CYXJyZWwuYWRkQ2hpbGQoIGNhbm5vbkJhcnJlbEJhc2UgKTtcclxuICAgIGNhbm5vbkJhcnJlbC5hZGRDaGlsZCggY2Fubm9uQmFycmVsVG9wICk7XHJcblxyXG4gICAgY29uc3QgY2Fubm9uQmFzZSA9IG5ldyBOb2RlKCB7IHBpY2thYmxlOiB0cnVlLCBjdXJzb3I6ICdwb2ludGVyJyB9ICk7XHJcbiAgICBzY2FsYWJsZU5vZGUuYWRkQ2hpbGQoIGNhbm5vbkJhc2UgKTtcclxuXHJcbiAgICBjb25zdCBjYW5ub25CYXNlQm90dG9tID0gbmV3IEltYWdlKCBjYW5ub25CYXNlQm90dG9tX3BuZywgeyB0b3A6IDAsIGNlbnRlclg6IDAgfSApO1xyXG4gICAgY2Fubm9uQmFzZS5hZGRDaGlsZCggY2Fubm9uQmFzZUJvdHRvbSApO1xyXG4gICAgY29uc3QgY2Fubm9uQmFzZVRvcCA9IG5ldyBJbWFnZSggY2Fubm9uQmFzZVRvcF9wbmcsIHsgYm90dG9tOiAwLCBjZW50ZXJYOiAwIH0gKTtcclxuICAgIGNhbm5vbkJhc2UuYWRkQ2hpbGQoIGNhbm5vbkJhc2VUb3AgKTtcclxuXHJcbiAgICBzY2FsYWJsZU5vZGUuc2V0U2NhbGVNYWduaXR1ZGUoIGNhbm5vbkxlbmd0aCAvIGNhbm5vbkJhcnJlbFRvcC53aWR0aCApO1xyXG5cclxuICAgIC8vcGVkZXN0YWxcclxuICAgIGNvbnN0IGVsbGlwc2VTaGFwZSA9IFNoYXBlLmVsbGlwc2UoIDAsIDAsIHNjYWxlZEVsbGlwc2VXaWR0aCAvIDIsIHNjYWxlZEVsbGlwc2VIZWlnaHQgLyAyICk7XHJcbiAgICBjb25zdCBjeWxpbmRlclRvcCA9IG5ldyBQYXRoKCBlbGxpcHNlU2hhcGUsIHtcclxuICAgICAgeDogY2Fubm9uWCxcclxuICAgICAgeTogc2NhbGFibGVOb2RlLmJvdHRvbSAtIHNjYWxlZEVsbGlwc2VIZWlnaHQgLyA0LFxyXG4gICAgICBmaWxsOiBEQVJLX0dSQVlfQ09MT1IsXHJcbiAgICAgIHN0cm9rZTogQlJJR0hUX0dSQVlfQ09MT1IsXHJcbiAgICAgIGxpbmVXaWR0aDogMlxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IHNpZGVTaGFwZSA9IG5ldyBTaGFwZSgpO1xyXG4gICAgc2lkZVNoYXBlLm1vdmVUbyggY2Fubm9uWCAtIHNjYWxlZEVsbGlwc2VXaWR0aCAvIDIsIGhlaWdodCAtIDEgKVxyXG4gICAgICAubGluZVRvKCBjYW5ub25YIC0gc2NhbGVkRWxsaXBzZVdpZHRoIC8gMiwgY3lsaW5kZXJUb3AueSApXHJcbiAgICAgIC5lbGxpcHRpY2FsQXJjKCBjYW5ub25YLCBjeWxpbmRlclRvcC55LCBzY2FsZWRFbGxpcHNlV2lkdGggLyAyLCBzY2FsZWRFbGxpcHNlSGVpZ2h0IC8gMiwgMCwgTWF0aC5QSSwgMCwgdHJ1ZSApXHJcbiAgICAgIC5saW5lVG8oIGNhbm5vblggKyBzY2FsZWRFbGxpcHNlV2lkdGggLyAyLCBoZWlnaHQgLSAxIClcclxuICAgICAgLmNsb3NlKCk7XHJcbiAgICBjb25zdCBzaWRlRmlsbCA9IG5ldyBMaW5lYXJHcmFkaWVudCggY2Fubm9uWCAtIHNjYWxlZEVsbGlwc2VXaWR0aCAvIDIsIDAsIGNhbm5vblggKyBzY2FsZWRFbGxpcHNlV2lkdGggLyAyLCAwIClcclxuICAgICAgLmFkZENvbG9yU3RvcCggMC4wLCBEQVJLX0dSQVlfQ09MT1IgKVxyXG4gICAgICAuYWRkQ29sb3JTdG9wKCAwLjMsIEJSSUdIVF9HUkFZX0NPTE9SIClcclxuICAgICAgLmFkZENvbG9yU3RvcCggMSwgREFSS19HUkFZX0NPTE9SICk7XHJcbiAgICBjb25zdCBjeWxpbmRlclNpZGUgPSBuZXcgUGF0aCggc2lkZVNoYXBlLCB7IGZpbGw6IHNpZGVGaWxsLCBzdHJva2U6IEJSSUdIVF9HUkFZX0NPTE9SLCBsaW5lV2lkdGg6IDIgfSApO1xyXG5cclxuICAgIC8vIGxheWVyIGZvciBhbmdsZSBpbmRpY2F0b3JzXHJcbiAgICBjb25zdCBhbmdsZUluZGljYXRvciA9IG5ldyBOb2RlKCB7IHg6IGNhbm5vblgsIHk6IGNhbm5vblkgfSApO1xyXG5cclxuICAgIC8vIGNyb3NzaGFpciB2aWV3XHJcbiAgICBjb25zdCBjcm9zc2hhaXJTaGFwZSA9IG5ldyBTaGFwZSgpXHJcbiAgICAgIC5tb3ZlVG8oIC13aWR0aCAqIDAuMiwgMCApXHJcbiAgICAgIC5saW5lVG8oIHdpZHRoICogMC41LCAwIClcclxuICAgICAgLm1vdmVUbyggMCwgLWhlaWdodCAqIDAuMyApXHJcbiAgICAgIC5saW5lVG8oIDAsIGhlaWdodCAqIDAuMyApO1xyXG4gICAgY29uc3QgY3Jvc3NoYWlyID0gbmV3IFBhdGgoIGNyb3NzaGFpclNoYXBlLCB7IHN0cm9rZTogJ2dyYXknIH0gKTtcclxuICAgIGFuZ2xlSW5kaWNhdG9yLmFkZENoaWxkKCBjcm9zc2hhaXIgKTtcclxuXHJcbiAgICBjb25zdCBkYXJrZXJDcm9zc2hhaXJTaGFwZSA9IG5ldyBTaGFwZSgpXHJcbiAgICAgIC5tb3ZlVG8oIC1oZWlnaHQgLyAyNSwgMCApXHJcbiAgICAgIC5saW5lVG8oIGhlaWdodCAvIDI1LCAwIClcclxuICAgICAgLm1vdmVUbyggMCwgLWhlaWdodCAvIDI1IClcclxuICAgICAgLmxpbmVUbyggMCwgaGVpZ2h0IC8gMjUgKTtcclxuICAgIGNvbnN0IGRhcmtlckNyb3NzaGFpciA9IG5ldyBQYXRoKCBkYXJrZXJDcm9zc2hhaXJTaGFwZSwgeyBzdHJva2U6ICdibGFjaycsIGxpbmVXaWR0aDogMyB9ICk7XHJcbiAgICBhbmdsZUluZGljYXRvci5hZGRDaGlsZCggZGFya2VyQ3Jvc3NoYWlyICk7XHJcblxyXG4gICAgLy8gdmlldyBmb3IgdGhlIGFuZ2xlIGFyY1xyXG4gICAgY29uc3QgYXJjU2hhcGUgPSBTaGFwZS5hcmMoIDAsIDAsIGNhbm5vbkxlbmd0aCArIDUsIDAsIC1DQU5OT05fQU5HTEUgKiBNYXRoLlBJIC8gMTgwLCB0cnVlICk7XHJcbiAgICBjb25zdCBhbmdsZUFyYyA9IG5ldyBQYXRoKCBhcmNTaGFwZSwgeyBzdHJva2U6ICdncmF5JyB9ICk7XHJcbiAgICBhbmdsZUluZGljYXRvci5hZGRDaGlsZCggYW5nbGVBcmMgKTtcclxuXHJcbiAgICAvLyBjcmVhdGUgdGhlIGJhY2tncm91bmRcclxuICAgIGNvbnN0IGJhY2tncm91bmRGaWxsID0gbmV3IExpbmVhckdyYWRpZW50KCAwLCAwLCAwLCBoZWlnaHQgKS5hZGRDb2xvclN0b3AoIDAsICcjMDJhY2U0JyApLmFkZENvbG9yU3RvcCggMSwgJyNjZmVjZmMnICk7XHJcbiAgICBzdXBlciggMCwgMCwgd2lkdGgsIGhlaWdodCwge1xyXG4gICAgICBmaWxsOiBiYWNrZ3JvdW5kRmlsbCxcclxuICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICBjeWxpbmRlclNpZGUsXHJcbiAgICAgICAgY3lsaW5kZXJUb3AsXHJcbiAgICAgICAgc2NhbGFibGVOb2RlLFxyXG4gICAgICAgIGFuZ2xlSW5kaWNhdG9yXHJcbiAgICAgIF1cclxuICAgIH0gKTtcclxuXHJcbiAgfVxyXG59XHJcblxyXG5wcm9qZWN0aWxlTW90aW9uLnJlZ2lzdGVyKCAnTGFiSWNvbk5vZGUnLCBMYWJJY29uTm9kZSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGFiSWNvbk5vZGU7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxNQUFNLE1BQU0sZ0NBQWdDO0FBQ25ELFNBQVNDLEtBQUssUUFBUSxnQ0FBZ0M7QUFDdEQsU0FBU0MsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLGNBQWMsRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLFNBQVMsUUFBUSxtQ0FBbUM7QUFDdkcsT0FBT0MsbUJBQW1CLE1BQU0sd0NBQXdDO0FBQ3hFLE9BQU9DLGdCQUFnQixNQUFN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