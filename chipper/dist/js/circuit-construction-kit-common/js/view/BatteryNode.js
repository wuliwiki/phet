// Copyright 2015-2023, University of Colorado Boulder

/**
 * Renders the lifelike/schematic view for a Battery.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 */

import Matrix3 from '../../../dot/js/Matrix3.js';
import { Shape } from '../../../kite/js/imports.js';
import { combineOptions } from '../../../phet-core/js/optionize.js';
import { Color, Image, Path } from '../../../scenery/js/imports.js';
import batteryHigh_png from '../../images/batteryHigh_png.js';
import battery_png from '../../images/battery_png.js';
import CCKCConstants from '../CCKCConstants.js';
import circuitConstructionKitCommon from '../circuitConstructionKitCommon.js';
import FixedCircuitElementNode from './FixedCircuitElementNode.js';

// constants
// dimensions for schematic battery
const SMALL_TERMINAL_WIDTH = 50;
const LARGE_TERMINAL_WIDTH = 104;
const WIDTH = 188;
const GAP = 33;
const LEFT_JUNCTION = WIDTH / 2 - GAP / 2;
const RIGHT_JUNCTION = WIDTH / 2 + GAP / 2;

// Points sampled using Photoshop from a raster of the IEEE icon seen at
// https://upload.wikimedia.org/wikipedia/commons/c/cb/Circuit_elements.svg
let schematicShape = new Shape().moveTo(0, 0) // left wire
.lineTo(LEFT_JUNCTION, 0).moveTo(LEFT_JUNCTION, SMALL_TERMINAL_WIDTH / 2) // left plate
.lineTo(LEFT_JUNCTION, -SMALL_TERMINAL_WIDTH / 2).moveTo(RIGHT_JUNCTION, 0) // right wire
.lineTo(WIDTH, 0).moveTo(RIGHT_JUNCTION, LARGE_TERMINAL_WIDTH / 2) // right plate
.lineTo(RIGHT_JUNCTION, -LARGE_TERMINAL_WIDTH / 2);
const schematicWidth = schematicShape.bounds.width;
const desiredWidth = CCKCConstants.BATTERY_LENGTH;
const schematicScale = desiredWidth / schematicWidth;

// Scale to fit the correct width
schematicShape = schematicShape.transformed(Matrix3.scale(schematicScale, schematicScale));
const schematicNode = new Path(schematicShape, {
  stroke: Color.BLACK,
  lineWidth: CCKCConstants.SCHEMATIC_LINE_WIDTH
}).rasterized({
  wrap: false
});
schematicNode.centerY = 0;

// Expand the pointer areas with a defensive copy, see https://github.com/phetsims/circuit-construction-kit-common/issues/310
schematicNode.mouseArea = schematicNode.bounds.shiftedY(schematicNode.height / 2);
schematicNode.touchArea = schematicNode.bounds.shiftedY(schematicNode.height / 2);
export default class BatteryNode extends FixedCircuitElementNode {
  // Identifies the images used to render this node so they can be pre-populated in the WebGL sprite sheet.
  static webglSpriteNodes = [new Image(battery_png), new Image(batteryHigh_png)];

  /**
   * @param screenView - main screen view, null for isIcon
   * @param circuitNode, null for icon
   * @param battery
   * @param viewTypeProperty
   * @param tandem
   * @param [providedOptions]
   */
  constructor(screenView, circuitNode, battery, viewTypeProperty, tandem, providedOptions) {
    providedOptions = combineOptions({
      useHitTestForSensors: true
    }, providedOptions);
    const lifelikeNode = new Image(battery.batteryType === 'normal' ? battery_png : batteryHigh_png);
    lifelikeNode.mutate({
      scale: battery.distanceBetweenVertices / lifelikeNode.width
    });

    // Center vertically to match the FixedCircuitElementNode assumption that origin is center left
    lifelikeNode.centerY = 0;
    super(screenView, circuitNode, battery, viewTypeProperty, lifelikeNode, schematicNode, tandem, providedOptions);
    this.battery = battery;
  }
}
circuitConstructionKitCommon.register('BatteryNode', BatteryNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNYXRyaXgzIiwiU2hhcGUiLCJjb21iaW5lT3B0aW9ucyIsIkNvbG9yIiwiSW1hZ2UiLCJQYXRoIiwiYmF0dGVyeUhpZ2hfcG5nIiwiYmF0dGVyeV9wbmciLCJDQ0tDQ29uc3RhbnRzIiwiY2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vbiIsIkZpeGVkQ2lyY3VpdEVsZW1lbnROb2RlIiwiU01BTExfVEVSTUlOQUxfV0lEVEgiLCJMQVJHRV9URVJNSU5BTF9XSURUSCIsIldJRFRIIiwiR0FQIiwiTEVGVF9KVU5DVElPTiIsIlJJR0hUX0pVTkNUSU9OIiwic2NoZW1hdGljU2hhcGUiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzY2hlbWF0aWNXaWR0aCIsImJvdW5kcyIsIndpZHRoIiwiZGVzaXJlZFdpZHRoIiwiQkFUVEVSWV9MRU5HVEgiLCJzY2hlbWF0aWNTY2FsZSIsInRyYW5zZm9ybWVkIiwic2NhbGUiLCJzY2hlbWF0aWNOb2RlIiwic3Ryb2tlIiwiQkxBQ0siLCJsaW5lV2lkdGgiLCJTQ0hFTUFUSUNfTElORV9XSURUSCIsInJhc3Rlcml6ZWQiLCJ3cmFwIiwiY2VudGVyWSIsIm1vdXNlQXJlYSIsInNoaWZ0ZWRZIiwiaGVpZ2h0IiwidG91Y2hBcmVhIiwiQmF0dGVyeU5vZGUiLCJ3ZWJnbFNwcml0ZU5vZGVzIiwiY29uc3RydWN0b3IiLCJzY3JlZW5WaWV3IiwiY2lyY3VpdE5vZGUiLCJiYXR0ZXJ5Iiwidmlld1R5cGVQcm9wZXJ0eSIsInRhbmRlbSIsInByb3ZpZGVkT3B0aW9ucyIsInVzZUhpdFRlc3RGb3JTZW5zb3JzIiwibGlmZWxpa2VOb2RlIiwiYmF0dGVyeVR5cGUiLCJtdXRhdGUiLCJkaXN0YW5jZUJldHdlZW5WZXJ0aWNlcyIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQmF0dGVyeU5vZGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTUtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogUmVuZGVycyB0aGUgbGlmZWxpa2Uvc2NoZW1hdGljIHZpZXcgZm9yIGEgQmF0dGVyeS5cclxuICpcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBNYXRyaXgzIGZyb20gJy4uLy4uLy4uL2RvdC9qcy9NYXRyaXgzLmpzJztcclxuaW1wb3J0IHsgU2hhcGUgfSBmcm9tICcuLi8uLi8uLi9raXRlL2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgeyBjb21iaW5lT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgeyBDb2xvciwgSW1hZ2UsIFBhdGggfSBmcm9tICcuLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5pbXBvcnQgYmF0dGVyeUhpZ2hfcG5nIGZyb20gJy4uLy4uL2ltYWdlcy9iYXR0ZXJ5SGlnaF9wbmcuanMnO1xyXG5pbXBvcnQgYmF0dGVyeV9wbmcgZnJvbSAnLi4vLi4vaW1hZ2VzL2JhdHRlcnlfcG5nLmpzJztcclxuaW1wb3J0IENDS0NDb25zdGFudHMgZnJvbSAnLi4vQ0NLQ0NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBjaXJjdWl0Q29uc3RydWN0aW9uS2l0Q29tbW9uIGZyb20gJy4uL2NpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb24uanMnO1xyXG5pbXBvcnQgQmF0dGVyeSBmcm9tICcuLi9tb2RlbC9CYXR0ZXJ5LmpzJztcclxuaW1wb3J0IENpcmN1aXRFbGVtZW50Vmlld1R5cGUgZnJvbSAnLi4vbW9kZWwvQ2lyY3VpdEVsZW1lbnRWaWV3VHlwZS5qcyc7XHJcbmltcG9ydCBDQ0tDU2NyZWVuVmlldyBmcm9tICcuL0NDS0NTY3JlZW5WaWV3LmpzJztcclxuaW1wb3J0IENpcmN1aXROb2RlIGZyb20gJy4vQ2lyY3VpdE5vZGUuanMnO1xyXG5pbXBvcnQgRml4ZWRDaXJjdWl0RWxlbWVudE5vZGUsIHsgRml4ZWRDaXJjdWl0RWxlbWVudE5vZGVPcHRpb25zIH0gZnJvbSAnLi9GaXhlZENpcmN1aXRFbGVtZW50Tm9kZS5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuLy8gZGltZW5zaW9ucyBmb3Igc2NoZW1hdGljIGJhdHRlcnlcclxuY29uc3QgU01BTExfVEVSTUlOQUxfV0lEVEggPSA1MDtcclxuY29uc3QgTEFSR0VfVEVSTUlOQUxfV0lEVEggPSAxMDQ7XHJcbmNvbnN0IFdJRFRIID0gMTg4O1xyXG5jb25zdCBHQVAgPSAzMztcclxuY29uc3QgTEVGVF9KVU5DVElPTiA9IFdJRFRIIC8gMiAtIEdBUCAvIDI7XHJcbmNvbnN0IFJJR0hUX0pVTkNUSU9OID0gV0lEVEggLyAyICsgR0FQIC8gMjtcclxuXHJcbi8vIFBvaW50cyBzYW1wbGVkIHVzaW5nIFBob3Rvc2hvcCBmcm9tIGEgcmFzdGVyIG9mIHRoZSBJRUVFIGljb24gc2VlbiBhdFxyXG4vLyBodHRwczovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zL2MvY2IvQ2lyY3VpdF9lbGVtZW50cy5zdmdcclxubGV0IHNjaGVtYXRpY1NoYXBlID0gbmV3IFNoYXBlKClcclxuICAubW92ZVRvKCAwLCAwICkgLy8gbGVmdCB3aXJlXHJcbiAgLmxpbmVUbyggTEVGVF9KVU5DVElPTiwgMCApXHJcbiAgLm1vdmVUbyggTEVGVF9KVU5DVElPTiwgU01BTExfVEVSTUlOQUxfV0lEVEggLyAyICkgLy8gbGVmdCBwbGF0ZVxyXG4gIC5saW5lVG8oIExFRlRfSlVOQ1RJT04sIC1TTUFMTF9URVJNSU5BTF9XSURUSCAvIDIgKVxyXG4gIC5tb3ZlVG8oIFJJR0hUX0pVTkNUSU9OLCAwICkgLy8gcmlnaHQgd2lyZVxyXG4gIC5saW5lVG8oIFdJRFRILCAwIClcclxuICAubW92ZVRvKCBSSUdIVF9KVU5DVElPTiwgTEFSR0VfVEVSTUlOQUxfV0lEVEggLyAyICkgLy8gcmlnaHQgcGxhdGVcclxuICAubGluZVRvKCBSSUdIVF9KVU5DVElPTiwgLUxBUkdFX1RFUk1JTkFMX1dJRFRIIC8gMiApO1xyXG5jb25zdCBzY2hlbWF0aWNXaWR0aCA9IHNjaGVtYXRpY1NoYXBlLmJvdW5kcy53aWR0aDtcclxuY29uc3QgZGVzaXJlZFdpZHRoID0gQ0NLQ0NvbnN0YW50cy5CQVRURVJZX0xFTkdUSDtcclxuY29uc3Qgc2NoZW1hdGljU2NhbGUgPSBkZXNpcmVkV2lkdGggLyBzY2hlbWF0aWNXaWR0aDtcclxuXHJcbi8vIFNjYWxlIHRvIGZpdCB0aGUgY29ycmVjdCB3aWR0aFxyXG5zY2hlbWF0aWNTaGFwZSA9IHNjaGVtYXRpY1NoYXBlLnRyYW5zZm9ybWVkKCBNYXRyaXgzLnNjYWxlKCBzY2hlbWF0aWNTY2FsZSwgc2NoZW1hdGljU2NhbGUgKSApO1xyXG5jb25zdCBzY2hlbWF0aWNOb2RlID0gbmV3IFBhdGgoIHNjaGVtYXRpY1NoYXBlLCB7XHJcbiAgc3Ryb2tlOiBDb2xvci5CTEFDSyxcclxuICBsaW5lV2lkdGg6IENDS0NDb25zdGFudHMuU0NIRU1BVElDX0xJTkVfV0lEVEhcclxufSApLnJhc3Rlcml6ZWQoIHsgd3JhcDogZmFsc2UgfSApO1xyXG5cclxuc2NoZW1hdGljTm9kZS5jZW50ZXJZID0gMDtcclxuXHJcbi8vIEV4cGFuZCB0aGUgcG9pbnRlciBhcmVhcyB3aXRoIGEgZGVmZW5zaXZlIGNvcHksIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvY2lyY3VpdC1jb25zdHJ1Y3Rpb24ta2l0LWNvbW1vbi9pc3N1ZXMvMzEwXHJcbnNjaGVtYXRpY05vZGUubW91c2VBcmVhID0gc2NoZW1hdGljTm9kZS5ib3VuZHMuc2hpZnRlZFkoIHNjaGVtYXRpY05vZGUuaGVpZ2h0IC8gMiApO1xyXG5zY2hlbWF0aWNOb2RlLnRvdWNoQXJlYSA9IHNjaGVtYXRpY05vZGUuYm91bmRzLnNoaWZ0ZWRZKCBzY2hlbWF0aWNOb2RlLmhlaWdodCAvIDIgKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhdHRlcnlOb2RlIGV4dGVuZHMgRml4ZWRDaXJjdWl0RWxlbWVudE5vZGUge1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgYmF0dGVyeTogQmF0dGVyeTtcclxuXHJcbiAgLy8gSWRlbnRpZmllcyB0aGUgaW1hZ2VzIHVzZWQgdG8gcmVuZGVyIHRoaXMgbm9kZSBzbyB0aGV5IGNhbiBiZSBwcmUtcG9wdWxhdGVkIGluIHRoZSBXZWJHTCBzcHJpdGUgc2hlZXQuXHJcbiAgcHVibGljIHN0YXRpYyBvdmVycmlkZSByZWFkb25seSB3ZWJnbFNwcml0ZU5vZGVzID0gW1xyXG4gICAgbmV3IEltYWdlKCBiYXR0ZXJ5X3BuZyApLFxyXG4gICAgbmV3IEltYWdlKCBiYXR0ZXJ5SGlnaF9wbmcgKVxyXG4gIF07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBzY3JlZW5WaWV3IC0gbWFpbiBzY3JlZW4gdmlldywgbnVsbCBmb3IgaXNJY29uXHJcbiAgICogQHBhcmFtIGNpcmN1aXROb2RlLCBudWxsIGZvciBpY29uXHJcbiAgICogQHBhcmFtIGJhdHRlcnlcclxuICAgKiBAcGFyYW0gdmlld1R5cGVQcm9wZXJ0eVxyXG4gICAqIEBwYXJhbSB0YW5kZW1cclxuICAgKiBAcGFyYW0gW3Byb3ZpZGVkT3B0aW9uc11cclxuICAgKi9cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHNjcmVlblZpZXc6IENDS0NTY3JlZW5WaWV3IHwgbnVsbCwgY2lyY3VpdE5vZGU6IENpcmN1aXROb2RlIHwgbnVsbCwgYmF0dGVyeTogQmF0dGVyeSwgdmlld1R5cGVQcm9wZXJ0eTogUHJvcGVydHk8Q2lyY3VpdEVsZW1lbnRWaWV3VHlwZT4sIHRhbmRlbTogVGFuZGVtLCBwcm92aWRlZE9wdGlvbnM/OiBGaXhlZENpcmN1aXRFbGVtZW50Tm9kZU9wdGlvbnMgKSB7XHJcblxyXG4gICAgcHJvdmlkZWRPcHRpb25zID0gY29tYmluZU9wdGlvbnM8Rml4ZWRDaXJjdWl0RWxlbWVudE5vZGVPcHRpb25zPiggeyB1c2VIaXRUZXN0Rm9yU2Vuc29yczogdHJ1ZSB9LCBwcm92aWRlZE9wdGlvbnMgKTtcclxuXHJcbiAgICBjb25zdCBsaWZlbGlrZU5vZGUgPSBuZXcgSW1hZ2UoIGJhdHRlcnkuYmF0dGVyeVR5cGUgPT09ICdub3JtYWwnID8gYmF0dGVyeV9wbmcgOiBiYXR0ZXJ5SGlnaF9wbmcgKTtcclxuXHJcbiAgICBsaWZlbGlrZU5vZGUubXV0YXRlKCB7XHJcbiAgICAgIHNjYWxlOiBiYXR0ZXJ5LmRpc3RhbmNlQmV0d2VlblZlcnRpY2VzIC8gbGlmZWxpa2VOb2RlLndpZHRoXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQ2VudGVyIHZlcnRpY2FsbHkgdG8gbWF0Y2ggdGhlIEZpeGVkQ2lyY3VpdEVsZW1lbnROb2RlIGFzc3VtcHRpb24gdGhhdCBvcmlnaW4gaXMgY2VudGVyIGxlZnRcclxuICAgIGxpZmVsaWtlTm9kZS5jZW50ZXJZID0gMDtcclxuXHJcbiAgICBzdXBlcihcclxuICAgICAgc2NyZWVuVmlldyxcclxuICAgICAgY2lyY3VpdE5vZGUsXHJcbiAgICAgIGJhdHRlcnksXHJcbiAgICAgIHZpZXdUeXBlUHJvcGVydHksXHJcbiAgICAgIGxpZmVsaWtlTm9kZSxcclxuICAgICAgc2NoZW1hdGljTm9kZSxcclxuICAgICAgdGFuZGVtLFxyXG4gICAgICBwcm92aWRlZE9wdGlvbnNcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5iYXR0ZXJ5ID0gYmF0dGVyeTtcclxuICB9XHJcbn1cclxuXHJcbmNpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb24ucmVnaXN0ZXIoICdCYXR0ZXJ5Tm9kZScsIEJhdHRlcnlOb2RlICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBLE9BQU9BLE9BQU8sTUFBTSw0QkFBNEI7QUFDaEQsU0FBU0MsS0FB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