// Copyright 2016-2023, University of Colorado Boulder

/**
 * This control panel shows checkboxes for "Show Electrons", etc.  Exists for the life of the sim and hence does not
 * require a dispose implementation.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 */

import ElectronChargeNode from '../../../scenery-phet/js/ElectronChargeNode.js';
import { AlignBox, AlignGroup, HBox, Text, VBox, Node } from '../../../scenery/js/imports.js';
import CCKCConstants from '../CCKCConstants.js';
import CircuitConstructionKitCommonStrings from '../CircuitConstructionKitCommonStrings.js';
import circuitConstructionKitCommon from '../circuitConstructionKitCommon.js';
import CCKCCheckbox from './CCKCCheckbox.js';
import CCKCPanel from './CCKCPanel.js';
import ConventionalCurrentArrowNode from './ConventionalCurrentArrowNode.js';
import Tandem from '../../../tandem/js/Tandem.js';
import CurrentType from '../model/CurrentType.js';
import VerticalAquaRadioButtonGroup from '../../../sun/js/VerticalAquaRadioButtonGroup.js';
import CCKCColors from './CCKCColors.js';
const conventionalStringProperty = CircuitConstructionKitCommonStrings.conventionalStringProperty;
const electronsStringProperty = CircuitConstructionKitCommonStrings.electronsStringProperty;
const labelsStringProperty = CircuitConstructionKitCommonStrings.labelsStringProperty;
const showCurrentStringProperty = CircuitConstructionKitCommonStrings.showCurrentStringProperty;
const stopwatchStringProperty = CircuitConstructionKitCommonStrings.stopwatchStringProperty;
const valuesStringProperty = CircuitConstructionKitCommonStrings.valuesStringProperty;

// constants
const BOX_ALIGNMENT = {
  xAlign: 'left'
};
const SPACING = 10;
const LEFT_MARGIN = 30;
export default class DisplayOptionsPanel extends CCKCPanel {
  // So the stopwatch can be shown near the checkbox

  /**
   * @param alignGroup - box for aligning with other controls
   * @param showCurrentProperty - true if current should be shown
   * @param currentTypeProperty - true if current should be shown as electrons or conventional
   * @param showValuesProperty - true if values should be shown
   * @param showLabelsProperty - true if toolbox labels should be shown
   * @param stopwatch
   * @param showStopwatchCheckbox - true if stopwatch should be shown
   * @param tandem
   */
  constructor(alignGroup, showCurrentProperty, currentTypeProperty, showValuesProperty, showLabelsProperty, stopwatch, showStopwatchCheckbox, tandem) {
    const textIconSpacing = 11;

    // Align the Electrons/Conventional text and radio buttons
    const currentTypeRadioButtonLabelGroup = new AlignGroup();

    // Create an instrumented label
    const createLabel = (stringProperty, parentTandem) => new Text(stringProperty, {
      tandem: parentTandem.createTandem('labelText'),
      fontSize: CCKCConstants.FONT_SIZE,
      maxWidth: 120,
      fill: CCKCColors.textFillProperty
    });
    const currentTypeRadioButtonGroupTandem = tandem.createTandem('currentTypeRadioButtonGroup');
    const ELECTRONS_RADIO_BUTTON_TANDEM = 'electronsRadioButton';
    const CONVENTIONAL_RADIO_BUTTON_TANDEM = 'conventionalRadioButton';
    const electronsBox = new HBox({
      children: [currentTypeRadioButtonLabelGroup.createBox(createLabel(electronsStringProperty, currentTypeRadioButtonGroupTandem.createTandem(ELECTRONS_RADIO_BUTTON_TANDEM)), BOX_ALIGNMENT),
      // Match the size to the play area electrons, see https://github.com/phetsims/circuit-construction-kit-dc/issues/154
      new ElectronChargeNode({
        scale: 0.75
      })],
      spacing: textIconSpacing
    });
    const conventionalBox = new HBox({
      children: [currentTypeRadioButtonLabelGroup.createBox(createLabel(conventionalStringProperty, currentTypeRadioButtonGroupTandem.createTandem(CONVENTIONAL_RADIO_BUTTON_TANDEM)), BOX_ALIGNMENT), new ConventionalCurrentArrowNode(Tandem.OPT_OUT)],
      spacing: textIconSpacing
    });
    const currentTypeRadioButtonGroup = new VerticalAquaRadioButtonGroup(currentTypeProperty, [{
      value: CurrentType.ELECTRONS,
      createNode: () => electronsBox,
      tandemName: ELECTRONS_RADIO_BUTTON_TANDEM
    }, {
      value: CurrentType.CONVENTIONAL,
      createNode: () => conventionalBox,
      tandemName: CONVENTIONAL_RADIO_BUTTON_TANDEM
    }], {
      tandem: currentTypeRadioButtonGroupTandem,
      spacing: 6
    });

    // AlignBox necessary to indent the children radio buttons
    const currentTypeRadioButtonGroupContainer = new AlignBox(currentTypeRadioButtonGroup, {
      tandem: Tandem.OPT_OUT,
      leftMargin: LEFT_MARGIN
    });

    // Gray out current view options when current is not selected.
    showCurrentProperty.linkAttribute(currentTypeRadioButtonGroup, 'enabled');
    const labelsCheckboxTandem = tandem.createTandem('labelsCheckbox');
    const showLabelsCheckbox = new CCKCCheckbox(showLabelsProperty, createLabel(labelsStringProperty, labelsCheckboxTandem), {
      tandem: labelsCheckboxTandem
    });
    const valuesCheckboxTandem = tandem.createTandem('valuesCheckbox');
    const showValuesCheckbox = new CCKCCheckbox(showValuesProperty, createLabel(valuesStringProperty, valuesCheckboxTandem), {
      tandem: valuesCheckboxTandem
    });
    let stopwatchCheckbox = null;
    if (showStopwatchCheckbox) {
      const stopwatchCheckboxTandem = tandem.createTandem('stopwatchCheckbox');
      stopwatchCheckbox = new CCKCCheckbox(stopwatch.isVisibleProperty, createLabel(stopwatchStringProperty, stopwatchCheckboxTandem), {
        tandem: stopwatchCheckboxTandem
      });
    }
    const showCurrentCheckboxTandem = tandem.createTandem('showCurrentCheckbox');
    const children = [
    // Show Current and sub-checkboxes
    new VBox({
      align: 'left',
      spacing: 8,
      children: [new CCKCCheckbox(showCurrentProperty, createLabel(showCurrentStringProperty, showCurrentCheckboxTandem), {
        tandem: showCurrentCheckboxTandem
      }), currentTypeRadioButtonGroupContainer]
    }), showLabelsCheckbox, showValuesCheckbox, ...(showStopwatchCheckbox ? [stopwatchCheckbox] : [])];

    // Align with neighboring controls, unless empty. Then OK to let the Panel collapse.
    const vBox = new VBox({
      children: children,
      spacing: SPACING,
      align: 'left'
    });
    const alignBox = alignGroup.createBox(vBox, {
      xAlign: 'left'
    });
    const content = new Node({
      excludeInvisibleChildrenFromBounds: true
    });
    vBox.boundsProperty.link(bounds => content.setChildren(bounds.isValid() ? [alignBox] : []));
    super(content, tandem, {
      yMargin: 10,
      visiblePropertyOptions: {
        phetioFeatured: true
      }
    });

    // Touch & Mouse area extends to the right across the control panel
    showLabelsCheckbox.touchArea = showLabelsCheckbox.localBounds.dilatedXY(5, SPACING / 2).withMaxX(this.bounds.width - LEFT_MARGIN);
    showLabelsCheckbox.mouseArea = showLabelsCheckbox.touchArea;
    showValuesCheckbox.touchArea = showValuesCheckbox.localBounds.dilatedXY(5, SPACING / 2).withMaxX(this.bounds.width - LEFT_MARGIN);
    showValuesCheckbox.mouseArea = showValuesCheckbox.touchArea;
    if (showStopwatchCheckbox && stopwatchCheckbox) {
      stopwatchCheckbox.touchArea = stopwatchCheckbox.localBounds.dilatedXY(5, SPACING / 2).withMaxX(this.bounds.width - LEFT_MARGIN);
      stopwatchCheckbox.mouseArea = stopwatchCheckbox.touchArea;
    }
    this.stopwatchCheckbox = stopwatchCheckbox;
  }
}
circuitConstructionKitCommon.register('DisplayOptionsPanel', DisplayOptionsPanel);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFbGVjdHJvbkNoYXJnZU5vZGUiLCJBbGlnbkJveCIsIkFsaWduR3JvdXAiLCJIQm94IiwiVGV4dCIsIlZCb3giLCJOb2RlIiwiQ0NLQ0NvbnN0YW50cyIsIkNpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb25TdHJpbmdzIiwiY2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vbiIsIkNDS0NDaGVja2JveCIsIkNDS0NQYW5lbCIsIkNvbnZlbnRpb25hbEN1cnJlbnRBcnJvd05vZGUiLCJUYW5kZW0iLCJDdXJyZW50VHlwZSIsIlZlcnRpY2FsQXF1YVJhZGlvQnV0dG9uR3JvdXAiLCJDQ0tDQ29sb3JzIiwiY29udmVudGlvbmFsU3RyaW5nUHJvcGVydHkiLCJlbGVjdHJvbnNTdHJpbmdQcm9wZXJ0eSIsImxhYmVsc1N0cmluZ1Byb3BlcnR5Iiwic2hvd0N1cnJlbnRTdHJpbmdQcm9wZXJ0eSIsInN0b3B3YXRjaFN0cmluZ1Byb3BlcnR5IiwidmFsdWVzU3RyaW5nUHJvcGVydHkiLCJCT1hfQUxJR05NRU5UIiwieEFsaWduIiwiU1BBQ0lORyIsIkxFRlRfTUFSR0lOIiwiRGlzcGxheU9wdGlvbnNQYW5lbCIsImNvbnN0cnVjdG9yIiwiYWxpZ25Hcm91cCIsInNob3dDdXJyZW50UHJvcGVydHkiLCJjdXJyZW50VHlwZVByb3BlcnR5Iiwic2hvd1ZhbHVlc1Byb3BlcnR5Iiwic2hvd0xhYmVsc1Byb3BlcnR5Iiwic3RvcHdhdGNoIiwic2hvd1N0b3B3YXRjaENoZWNrYm94IiwidGFuZGVtIiwidGV4dEljb25TcGFjaW5nIiwiY3VycmVudFR5cGVSYWRpb0J1dHRvbkxhYmVsR3JvdXAiLCJjcmVhdGVMYWJlbCIsInN0cmluZ1Byb3BlcnR5IiwicGFyZW50VGFuZGVtIiwiY3JlYXRlVGFuZGVtIiwiZm9udFNpemUiLCJGT05UX1NJWkUiLCJtYXhXaWR0aCIsImZpbGwiLCJ0ZXh0RmlsbFByb3BlcnR5IiwiY3VycmVudFR5cGVSYWRpb0J1dHRvbkdyb3VwVGFuZGVtIiwiRUxFQ1RST05TX1JBRElPX0JVVFRPTl9UQU5ERU0iLCJDT05WRU5USU9OQUxfUkFESU9fQlVUVE9OX1RBTkRFTSIsImVsZWN0cm9uc0JveCIsImNoaWxkcmVuIiwiY3JlYXRlQm94Iiwic2NhbGUiLCJzcGFjaW5nIiwiY29udmVudGlvbmFsQm94IiwiT1BUX09VVCIsImN1cnJlbnRUeXBlUmFkaW9CdXR0b25Hcm91cCIsInZhbHVlIiwiRUxFQ1RST05TIiwiY3JlYXRlTm9kZSIsInRhbmRlbU5hbWUiLCJDT05WRU5USU9OQUwiLCJjdXJyZW50VHlwZVJhZGlvQnV0dG9uR3JvdXBDb250YWluZXIiLCJsZWZ0TWFyZ2luIiwibGlua0F0dHJpYnV0ZSIsImxhYmVsc0NoZWNrYm94VGFuZGVtIiwic2hvd0xhYmVsc0NoZWNrYm94IiwidmFsdWVzQ2hlY2tib3hUYW5kZW0iLCJzaG93VmFsdWVzQ2hlY2tib3giLCJzdG9wd2F0Y2hDaGVja2JveCIsInN0b3B3YXRjaENoZWNrYm94VGFuZGVtIiwiaXNWaXNpYmxlUHJvcGVydHkiLCJzaG93Q3VycmVudENoZWNrYm94VGFuZGVtIiwiYWxpZ24iLCJ2Qm94IiwiYWxpZ25Cb3giLCJjb250ZW50IiwiZXhjbHVkZUludmlzaWJsZUNoaWxkcmVuRnJvbUJvdW5kcyIsImJvdW5kc1Byb3BlcnR5IiwibGluayIsImJvdW5kcyIsInNldENoaWxkcmVuIiwiaXNWYWxpZCIsInlNYXJnaW4iLCJ2aXNpYmxlUHJvcGVydHlPcHRpb25zIiwicGhldGlvRmVhdHVyZWQiLCJ0b3VjaEFyZWEiLCJsb2NhbEJvdW5kcyIsImRpbGF0ZWRYWSIsIndpdGhNYXhYIiwid2lkdGgiLCJtb3VzZUFyZWEiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkRpc3BsYXlPcHRpb25zUGFuZWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTYtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogVGhpcyBjb250cm9sIHBhbmVsIHNob3dzIGNoZWNrYm94ZXMgZm9yIFwiU2hvdyBFbGVjdHJvbnNcIiwgZXRjLiAgRXhpc3RzIGZvciB0aGUgbGlmZSBvZiB0aGUgc2ltIGFuZCBoZW5jZSBkb2VzIG5vdFxyXG4gKiByZXF1aXJlIGEgZGlzcG9zZSBpbXBsZW1lbnRhdGlvbi5cclxuICpcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgRWxlY3Ryb25DaGFyZ2VOb2RlIGZyb20gJy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9FbGVjdHJvbkNoYXJnZU5vZGUuanMnO1xyXG5pbXBvcnQgeyBBbGlnbkJveCwgQWxpZ25Hcm91cCwgSEJveCwgVGV4dCwgVkJveCwgTm9kZSB9IGZyb20gJy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBDQ0tDQ29uc3RhbnRzIGZyb20gJy4uL0NDS0NDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3MgZnJvbSAnLi4vQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3MuanMnO1xyXG5pbXBvcnQgY2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vbiBmcm9tICcuLi9jaXJjdWl0Q29uc3RydWN0aW9uS2l0Q29tbW9uLmpzJztcclxuaW1wb3J0IENDS0NDaGVja2JveCBmcm9tICcuL0NDS0NDaGVja2JveC5qcyc7XHJcbmltcG9ydCBDQ0tDUGFuZWwgZnJvbSAnLi9DQ0tDUGFuZWwuanMnO1xyXG5pbXBvcnQgQ29udmVudGlvbmFsQ3VycmVudEFycm93Tm9kZSBmcm9tICcuL0NvbnZlbnRpb25hbEN1cnJlbnRBcnJvd05vZGUuanMnO1xyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBTdG9wd2F0Y2ggZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1N0b3B3YXRjaC5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBDdXJyZW50VHlwZSBmcm9tICcuLi9tb2RlbC9DdXJyZW50VHlwZS5qcyc7XHJcbmltcG9ydCBWZXJ0aWNhbEFxdWFSYWRpb0J1dHRvbkdyb3VwIGZyb20gJy4uLy4uLy4uL3N1bi9qcy9WZXJ0aWNhbEFxdWFSYWRpb0J1dHRvbkdyb3VwLmpzJztcclxuaW1wb3J0IFRSZWFkT25seVByb3BlcnR5IGZyb20gJy4uLy4uLy4uL2F4b24vanMvVFJlYWRPbmx5UHJvcGVydHkuanMnO1xyXG5pbXBvcnQgQ0NLQ0NvbG9ycyBmcm9tICcuL0NDS0NDb2xvcnMuanMnO1xyXG5cclxuY29uc3QgY29udmVudGlvbmFsU3RyaW5nUHJvcGVydHkgPSBDaXJjdWl0Q29uc3RydWN0aW9uS2l0Q29tbW9uU3RyaW5ncy5jb252ZW50aW9uYWxTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgZWxlY3Ryb25zU3RyaW5nUHJvcGVydHkgPSBDaXJjdWl0Q29uc3RydWN0aW9uS2l0Q29tbW9uU3RyaW5ncy5lbGVjdHJvbnNTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgbGFiZWxzU3RyaW5nUHJvcGVydHkgPSBDaXJjdWl0Q29uc3RydWN0aW9uS2l0Q29tbW9uU3RyaW5ncy5sYWJlbHNTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3Qgc2hvd0N1cnJlbnRTdHJpbmdQcm9wZXJ0eSA9IENpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb25TdHJpbmdzLnNob3dDdXJyZW50U3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IHN0b3B3YXRjaFN0cmluZ1Byb3BlcnR5ID0gQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3Muc3RvcHdhdGNoU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IHZhbHVlc1N0cmluZ1Byb3BlcnR5ID0gQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3MudmFsdWVzU3RyaW5nUHJvcGVydHk7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgQk9YX0FMSUdOTUVOVCA9IHsgeEFsaWduOiAnbGVmdCcgYXMgY29uc3QgfTtcclxuY29uc3QgU1BBQ0lORyA9IDEwO1xyXG5jb25zdCBMRUZUX01BUkdJTiA9IDMwO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlzcGxheU9wdGlvbnNQYW5lbCBleHRlbmRzIENDS0NQYW5lbCB7XHJcblxyXG4gIC8vIFNvIHRoZSBzdG9wd2F0Y2ggY2FuIGJlIHNob3duIG5lYXIgdGhlIGNoZWNrYm94XHJcbiAgcHVibGljIHJlYWRvbmx5IHN0b3B3YXRjaENoZWNrYm94OiBDQ0tDQ2hlY2tib3ggfCBudWxsO1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gYWxpZ25Hcm91cCAtIGJveCBmb3IgYWxpZ25pbmcgd2l0aCBvdGhlciBjb250cm9sc1xyXG4gICAqIEBwYXJhbSBzaG93Q3VycmVudFByb3BlcnR5IC0gdHJ1ZSBpZiBjdXJyZW50IHNob3VsZCBiZSBzaG93blxyXG4gICAqIEBwYXJhbSBjdXJyZW50VHlwZVByb3BlcnR5IC0gdHJ1ZSBpZiBjdXJyZW50IHNob3VsZCBiZSBzaG93biBhcyBlbGVjdHJvbnMgb3IgY29udmVudGlvbmFsXHJcbiAgICogQHBhcmFtIHNob3dWYWx1ZXNQcm9wZXJ0eSAtIHRydWUgaWYgdmFsdWVzIHNob3VsZCBiZSBzaG93blxyXG4gICAqIEBwYXJhbSBzaG93TGFiZWxzUHJvcGVydHkgLSB0cnVlIGlmIHRvb2xib3ggbGFiZWxzIHNob3VsZCBiZSBzaG93blxyXG4gICAqIEBwYXJhbSBzdG9wd2F0Y2hcclxuICAgKiBAcGFyYW0gc2hvd1N0b3B3YXRjaENoZWNrYm94IC0gdHJ1ZSBpZiBzdG9wd2F0Y2ggc2hvdWxkIGJlIHNob3duXHJcbiAgICogQHBhcmFtIHRhbmRlbVxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggYWxpZ25Hcm91cDogQWxpZ25Hcm91cCwgc2hvd0N1cnJlbnRQcm9wZXJ0eTogUHJvcGVydHk8Ym9vbGVhbj4sIGN1cnJlbnRUeXBlUHJvcGVydHk6IFByb3BlcnR5PEN1cnJlbnRUeXBlPiwgc2hvd1ZhbHVlc1Byb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPiwgc2hvd0xhYmVsc1Byb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPixcclxuICAgICAgICAgICAgICAgICAgICAgIHN0b3B3YXRjaDogU3RvcHdhdGNoLCBzaG93U3RvcHdhdGNoQ2hlY2tib3g6IGJvb2xlYW4sIHRhbmRlbTogVGFuZGVtICkge1xyXG5cclxuICAgIGNvbnN0IHRleHRJY29uU3BhY2luZyA9IDExO1xyXG5cclxuICAgIC8vIEFsaWduIHRoZSBFbGVjdHJvbnMvQ29udmVudGlvbmFsIHRleHQgYW5kIHJhZGlvIGJ1dHRvbnNcclxuICAgIGNvbnN0IGN1cnJlbnRUeXBlUmFkaW9CdXR0b25MYWJlbEdyb3VwID0gbmV3IEFsaWduR3JvdXAoKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYW4gaW5zdHJ1bWVudGVkIGxhYmVsXHJcbiAgICBjb25zdCBjcmVhdGVMYWJlbCA9ICggc3RyaW5nUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PHN0cmluZz4sIHBhcmVudFRhbmRlbTogVGFuZGVtICkgPT4gbmV3IFRleHQoIHN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIHRhbmRlbTogcGFyZW50VGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2xhYmVsVGV4dCcgKSxcclxuICAgICAgZm9udFNpemU6IENDS0NDb25zdGFudHMuRk9OVF9TSVpFLFxyXG4gICAgICBtYXhXaWR0aDogMTIwLFxyXG4gICAgICBmaWxsOiBDQ0tDQ29sb3JzLnRleHRGaWxsUHJvcGVydHlcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50VHlwZVJhZGlvQnV0dG9uR3JvdXBUYW5kZW0gPSB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnY3VycmVudFR5cGVSYWRpb0J1dHRvbkdyb3VwJyApO1xyXG5cclxuICAgIGNvbnN0IEVMRUNUUk9OU19SQURJT19CVVRUT05fVEFOREVNID0gJ2VsZWN0cm9uc1JhZGlvQnV0dG9uJztcclxuICAgIGNvbnN0IENPTlZFTlRJT05BTF9SQURJT19CVVRUT05fVEFOREVNID0gJ2NvbnZlbnRpb25hbFJhZGlvQnV0dG9uJztcclxuXHJcbiAgICBjb25zdCBlbGVjdHJvbnNCb3ggPSBuZXcgSEJveCgge1xyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIGN1cnJlbnRUeXBlUmFkaW9CdXR0b25MYWJlbEdyb3VwLmNyZWF0ZUJveCggY3JlYXRlTGFiZWwoIGVsZWN0cm9uc1N0cmluZ1Byb3BlcnR5LCBjdXJyZW50VHlwZVJhZGlvQnV0dG9uR3JvdXBUYW5kZW0uY3JlYXRlVGFuZGVtKCBFTEVDVFJPTlNfUkFESU9fQlVUVE9OX1RBTkRFTSApICksIEJPWF9BTElHTk1FTlQgKSxcclxuXHJcbiAgICAgICAgLy8gTWF0Y2ggdGhlIHNpemUgdG8gdGhlIHBsYXkgYXJlYSBlbGVjdHJvbnMsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvY2lyY3VpdC1jb25zdHJ1Y3Rpb24ta2l0LWRjL2lzc3Vlcy8xNTRcclxuICAgICAgICBuZXcgRWxlY3Ryb25DaGFyZ2VOb2RlKCB7IHNjYWxlOiAwLjc1IH0gKVxyXG4gICAgICBdLFxyXG4gICAgICBzcGFjaW5nOiB0ZXh0SWNvblNwYWNpbmdcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBjb252ZW50aW9uYWxCb3ggPSBuZXcgSEJveCgge1xyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIGN1cnJlbnRUeXBlUmFkaW9CdXR0b25MYWJlbEdyb3VwLmNyZWF0ZUJveCggY3JlYXRlTGFiZWwoIGNvbnZlbnRpb25hbFN0cmluZ1Byb3BlcnR5LCBjdXJyZW50VHlwZVJhZGlvQnV0dG9uR3JvdXBUYW5kZW0uY3JlYXRlVGFuZGVtKCBDT05WRU5USU9OQUxfUkFESU9fQlVUVE9OX1RBTkRFTSApICksIEJPWF9BTElHTk1FTlQgKSxcclxuICAgICAgICBuZXcgQ29udmVudGlvbmFsQ3VycmVudEFycm93Tm9kZSggVGFuZGVtLk9QVF9PVVQgKVxyXG4gICAgICBdLFxyXG4gICAgICBzcGFjaW5nOiB0ZXh0SWNvblNwYWNpbmdcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50VHlwZVJhZGlvQnV0dG9uR3JvdXAgPSBuZXcgVmVydGljYWxBcXVhUmFkaW9CdXR0b25Hcm91cDxDdXJyZW50VHlwZT4oIGN1cnJlbnRUeXBlUHJvcGVydHksIFsge1xyXG4gICAgICB2YWx1ZTogQ3VycmVudFR5cGUuRUxFQ1RST05TLFxyXG4gICAgICBjcmVhdGVOb2RlOiAoKSA9PiBlbGVjdHJvbnNCb3gsXHJcbiAgICAgIHRhbmRlbU5hbWU6IEVMRUNUUk9OU19SQURJT19CVVRUT05fVEFOREVNXHJcbiAgICB9LCB7XHJcbiAgICAgIHZhbHVlOiBDdXJyZW50VHlwZS5DT05WRU5USU9OQUwsXHJcbiAgICAgIGNyZWF0ZU5vZGU6ICgpID0+IGNvbnZlbnRpb25hbEJveCxcclxuICAgICAgdGFuZGVtTmFtZTogQ09OVkVOVElPTkFMX1JBRElPX0JVVFRPTl9UQU5ERU1cclxuICAgIH1cclxuICAgIF0sIHtcclxuICAgICAgdGFuZGVtOiBjdXJyZW50VHlwZVJhZGlvQnV0dG9uR3JvdXBUYW5kZW0sXHJcbiAgICAgIHNwYWNpbmc6IDZcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBBbGlnbkJveCBuZWNlc3NhcnkgdG8gaW5kZW50IHRoZSBjaGlsZHJlbiByYWRpbyBidXR0b25zXHJcbiAgICBjb25zdCBjdXJyZW50VHlwZVJhZGlvQnV0dG9uR3JvdXBDb250YWluZXIgPSBuZXcgQWxpZ25Cb3goXHJcbiAgICAgIGN1cnJlbnRUeXBlUmFkaW9CdXR0b25Hcm91cCwge1xyXG4gICAgICAgIHRhbmRlbTogVGFuZGVtLk9QVF9PVVQsXHJcbiAgICAgICAgbGVmdE1hcmdpbjogTEVGVF9NQVJHSU5cclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBHcmF5IG91dCBjdXJyZW50IHZpZXcgb3B0aW9ucyB3aGVuIGN1cnJlbnQgaXMgbm90IHNlbGVjdGVkLlxyXG4gICAgc2hvd0N1cnJlbnRQcm9wZXJ0eS5saW5rQXR0cmlidXRlKCBjdXJyZW50VHlwZVJhZGlvQnV0dG9uR3JvdXAsICdlbmFibGVkJyApO1xyXG5cclxuICAgIGNvbnN0IGxhYmVsc0NoZWNrYm94VGFuZGVtID0gdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2xhYmVsc0NoZWNrYm94JyApO1xyXG4gICAgY29uc3Qgc2hvd0xhYmVsc0NoZWNrYm94ID0gbmV3IENDS0NDaGVja2JveCggc2hvd0xhYmVsc1Byb3BlcnR5LCBjcmVhdGVMYWJlbCggbGFiZWxzU3RyaW5nUHJvcGVydHksIGxhYmVsc0NoZWNrYm94VGFuZGVtICksIHtcclxuICAgICAgdGFuZGVtOiBsYWJlbHNDaGVja2JveFRhbmRlbVxyXG4gICAgfSApO1xyXG4gICAgY29uc3QgdmFsdWVzQ2hlY2tib3hUYW5kZW0gPSB0YW5kZW0uY3JlYXRlVGFuZGVtKCAndmFsdWVzQ2hlY2tib3gnICk7XHJcbiAgICBjb25zdCBzaG93VmFsdWVzQ2hlY2tib3ggPSBuZXcgQ0NLQ0NoZWNrYm94KCBzaG93VmFsdWVzUHJvcGVydHksIGNyZWF0ZUxhYmVsKCB2YWx1ZXNTdHJpbmdQcm9wZXJ0eSwgdmFsdWVzQ2hlY2tib3hUYW5kZW0gKSwge1xyXG4gICAgICB0YW5kZW06IHZhbHVlc0NoZWNrYm94VGFuZGVtXHJcbiAgICB9ICk7XHJcblxyXG4gICAgbGV0IHN0b3B3YXRjaENoZWNrYm94ID0gbnVsbDtcclxuICAgIGlmICggc2hvd1N0b3B3YXRjaENoZWNrYm94ICkge1xyXG4gICAgICBjb25zdCBzdG9wd2F0Y2hDaGVja2JveFRhbmRlbSA9IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdzdG9wd2F0Y2hDaGVja2JveCcgKTtcclxuICAgICAgc3RvcHdhdGNoQ2hlY2tib3ggPSBuZXcgQ0NLQ0NoZWNrYm94KCBzdG9wd2F0Y2guaXNWaXNpYmxlUHJvcGVydHksIGNyZWF0ZUxhYmVsKCBzdG9wd2F0Y2hTdHJpbmdQcm9wZXJ0eSwgc3RvcHdhdGNoQ2hlY2tib3hUYW5kZW0gKSwge1xyXG4gICAgICAgIHRhbmRlbTogc3RvcHdhdGNoQ2hlY2tib3hUYW5kZW1cclxuICAgICAgfSApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNob3dDdXJyZW50Q2hlY2tib3hUYW5kZW0gPSB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnc2hvd0N1cnJlbnRDaGVja2JveCcgKTtcclxuICAgIGNvbnN0IGNoaWxkcmVuID0gW1xyXG5cclxuICAgICAgLy8gU2hvdyBDdXJyZW50IGFuZCBzdWItY2hlY2tib3hlc1xyXG4gICAgICBuZXcgVkJveCgge1xyXG4gICAgICAgIGFsaWduOiAnbGVmdCcsXHJcbiAgICAgICAgc3BhY2luZzogOCxcclxuICAgICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgICAgbmV3IENDS0NDaGVja2JveCggc2hvd0N1cnJlbnRQcm9wZXJ0eSwgY3JlYXRlTGFiZWwoIHNob3dDdXJyZW50U3RyaW5nUHJvcGVydHksIHNob3dDdXJyZW50Q2hlY2tib3hUYW5kZW0gKSwge1xyXG4gICAgICAgICAgICB0YW5kZW06IHNob3dDdXJyZW50Q2hlY2tib3hUYW5kZW1cclxuICAgICAgICAgIH0gKSxcclxuICAgICAgICAgIGN1cnJlbnRUeXBlUmFkaW9CdXR0b25Hcm91cENvbnRhaW5lclxyXG4gICAgICAgIF1cclxuICAgICAgfSApLFxyXG4gICAgICBzaG93TGFiZWxzQ2hlY2tib3gsXHJcbiAgICAgIHNob3dWYWx1ZXNDaGVja2JveCxcclxuICAgICAgLi4uKCBzaG93U3RvcHdhdGNoQ2hlY2tib3ggPyBbIHN0b3B3YXRjaENoZWNrYm94ISBdIDogW10gKVxyXG4gICAgXTtcclxuXHJcbiAgICAvLyBBbGlnbiB3aXRoIG5laWdoYm9yaW5nIGNvbnRyb2xzLCB1bmxlc3MgZW1wdHkuIFRoZW4gT0sgdG8gbGV0IHRoZSBQYW5lbCBjb2xsYXBzZS5cclxuICAgIGNvbnN0IHZCb3ggPSBuZXcgVkJveCgge1xyXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW4sXHJcbiAgICAgIHNwYWNpbmc6IFNQQUNJTkcsXHJcbiAgICAgIGFsaWduOiAnbGVmdCdcclxuICAgIH0gKTtcclxuICAgIGNvbnN0IGFsaWduQm94ID0gYWxpZ25Hcm91cC5jcmVhdGVCb3goIHZCb3gsIHsgeEFsaWduOiAnbGVmdCcgfSApO1xyXG4gICAgY29uc3QgY29udGVudCA9IG5ldyBOb2RlKCB7IGV4Y2x1ZGVJbnZpc2libGVDaGlsZHJlbkZyb21Cb3VuZHM6IHRydWUgfSApO1xyXG4gICAgdkJveC5ib3VuZHNQcm9wZXJ0eS5saW5rKCBib3VuZHMgPT4gY29udGVudC5zZXRDaGlsZHJlbiggYm91bmRzLmlzVmFsaWQoKSA/IFsgYWxpZ25Cb3ggXSA6IFtdICkgKTtcclxuXHJcbiAgICBzdXBlciggY29udGVudCwgdGFuZGVtLCB7XHJcbiAgICAgIHlNYXJnaW46IDEwLFxyXG4gICAgICB2aXNpYmxlUHJvcGVydHlPcHRpb25zOiB7XHJcbiAgICAgICAgcGhldGlvRmVhdHVyZWQ6IHRydWVcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIFRvdWNoICYgTW91c2UgYXJlYSBleHRlbmRzIHRvIHRoZSByaWdodCBhY3Jvc3MgdGhlIGNvbnRyb2wgcGFuZWxcclxuICAgIHNob3dMYWJlbHNDaGVja2JveC50b3VjaEFyZWEgPSBzaG93TGFiZWxzQ2hlY2tib3gubG9jYWxCb3VuZHMuZGlsYXRlZFhZKCA1LCBTUEFDSU5HIC8gMiApLndpdGhNYXhYKCB0aGlzLmJvdW5kcy53aWR0aCAtIExFRlRfTUFSR0lOICk7XHJcbiAgICBzaG93TGFiZWxzQ2hlY2tib3gubW91c2VBcmVhID0gc2hvd0xhYmVsc0NoZWNrYm94LnRvdWNoQXJlYTtcclxuXHJcbiAgICBzaG93VmFsdWVzQ2hlY2tib3gudG91Y2hBcmVhID0gc2hvd1ZhbHVlc0NoZWNrYm94LmxvY2FsQm91bmRzLmRpbGF0ZWRYWSggNSwgU1BBQ0lORyAvIDIgKS53aXRoTWF4WCggdGhpcy5ib3VuZHMud2lkdGggLSBMRUZUX01BUkdJTiApO1xyXG4gICAgc2hvd1ZhbHVlc0NoZWNrYm94Lm1vdXNlQXJlYSA9IHNob3dWYWx1ZXNDaGVja2JveC50b3VjaEFyZWE7XHJcblxyXG4gICAgaWYgKCBzaG93U3RvcHdhdGNoQ2hlY2tib3ggJiYgc3RvcHdhdGNoQ2hlY2tib3ggKSB7XHJcbiAgICAgIHN0b3B3YXRjaENoZWNrYm94LnRvdWNoQXJlYSA9IHN0b3B3YXRjaENoZWNrYm94LmxvY2FsQm91bmRzLmRpbGF0ZWRYWSggNSwgU1BBQ0lORyAvIDIgKS53aXRoTWF4WCggdGhpcy5ib3VuZHMud2lkdGggLSBMRUZUX01BUkdJTiApO1xyXG4gICAgICBzdG9wd2F0Y2hDaGVja2JveC5tb3VzZUFyZWEgPSBzdG9wd2F0Y2hDaGVja2JveC50b3VjaEFyZWE7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zdG9wd2F0Y2hDaGVja2JveCA9IHN0b3B3YXRjaENoZWNrYm94O1xyXG4gIH1cclxufVxyXG5cclxuY2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vbi5yZWdpc3RlciggJ0Rpc3BsYXlPcHRpb25zUGFuZWwnLCBEaXNwbGF5T3B0aW9uc1BhbmVsICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0Esa0JBQWtCLE1BQU0sZ0RBQWdEO0FBQy9FLFNBQVNDLFFBQVEsRUFBRUMsVUFBVSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxJQUFJLFFBQVEsZ0NBQWdDO0FBQzdGLE9BQU9DLGFBQWEsTUFBTSxxQkFBcUI7QUFDL0MsT0FBT0MsbUNBQW1DLE1BQU0sMkNBQTJDO0FBQzNGLE9BQU9DLDRCQUE0QixNQUFNLG9DQUFvQztBQUM3RSxPQUFPQyxZQUFZLE1BQU0sbUJBQW1CO0FBQzVDLE9BQU9DLFNBQVMsTUFBTSxnQkFBZ0I7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