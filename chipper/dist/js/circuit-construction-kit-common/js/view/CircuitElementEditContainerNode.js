// Copyright 2016-2023, University of Colorado Boulder

/**
 * This popup control appears at the bottom of the screen and shows circuit element-specific controls, like a
 * resistance control for resistors.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 */

import Property from '../../../axon/js/Property.js';
import Utils from '../../../dot/js/Utils.js';
import { HBox, Node, Text } from '../../../scenery/js/imports.js';
import Panel from '../../../sun/js/Panel.js';
import SunConstants from '../../../sun/js/SunConstants.js';
import Tandem from '../../../tandem/js/Tandem.js';
import CCKCConstants from '../CCKCConstants.js';
import CCKCQueryParameters from '../CCKCQueryParameters.js';
import circuitConstructionKitCommon from '../circuitConstructionKitCommon.js';
import CircuitConstructionKitCommonStrings from '../CircuitConstructionKitCommonStrings.js';
import ACVoltage from '../model/ACVoltage.js';
import Battery from '../model/Battery.js';
import Capacitor from '../model/Capacitor.js';
import FixedCircuitElement from '../model/FixedCircuitElement.js';
import Fuse from '../model/Fuse.js';
import Inductor from '../model/Inductor.js';
import LightBulb from '../model/LightBulb.js';
import Resistor from '../model/Resistor.js';
import ResistorType from '../model/ResistorType.js';
import SeriesAmmeter from '../model/SeriesAmmeter.js';
import Switch from '../model/Switch.js';
import Wire from '../model/Wire.js';
import CircuitElementNumberControl from './CircuitElementNumberControl.js';
import ClearDynamicsButton from './ClearDynamicsButton.js';
import PhaseShiftControl from './PhaseShiftControl.js';
import FuseRepairButton from './FuseRepairButton.js';
import BatteryReverseButton from './BatteryReverseButton.js';
import SwitchReadoutNode from './SwitchReadoutNode.js';
import CCKCTrashButton from './CCKCTrashButton.js';
import CircuitElement from '../model/CircuitElement.js';
import optionize from '../../../phet-core/js/optionize.js';
import PatternStringProperty from '../../../axon/js/PatternStringProperty.js';
import CCKCColors from './CCKCColors.js';
const capacitanceStringProperty = CircuitConstructionKitCommonStrings.capacitanceStringProperty;
const capacitanceUnitsStringProperty = CircuitConstructionKitCommonStrings.capacitanceUnitsStringProperty;
const currentRatingStringProperty = CircuitConstructionKitCommonStrings.currentRatingStringProperty;
const currentUnitsStringProperty = CircuitConstructionKitCommonStrings.currentUnitsStringProperty;
const frequencyHzValuePatternStringProperty = CircuitConstructionKitCommonStrings.frequencyHzValuePatternStringProperty;
const frequencyStringProperty = CircuitConstructionKitCommonStrings.frequencyStringProperty;
const inductanceStringProperty = CircuitConstructionKitCommonStrings.inductanceStringProperty;
const inductanceUnitsStringProperty = CircuitConstructionKitCommonStrings.inductanceUnitsStringProperty;
const resistanceOhmsValuePatternStringProperty = CircuitConstructionKitCommonStrings.resistanceOhmsValuePatternStringProperty;
const resistanceStringProperty = CircuitConstructionKitCommonStrings.resistanceStringProperty;
const tapCircuitElementToEditStringProperty = CircuitConstructionKitCommonStrings.tapCircuitElementToEditStringProperty;
const voltageStringProperty = CircuitConstructionKitCommonStrings.voltageStringProperty;
const voltageVoltsValuePatternStringProperty = CircuitConstructionKitCommonStrings.voltageVoltsValuePatternStringProperty;

// constants
const GET_LAYOUT_POSITION = (visibleBounds, centerX) => {
  return {
    centerX: centerX,
    bottom: visibleBounds.bottom - CCKCConstants.HORIZONTAL_MARGIN
  };
};

// So we can pass classes as types for instanceof checks, I've been using https://www.typescriptlang.org/docs/handbook/mixins.html
// as a reference for how to create this type
const NORMAL_SLIDER_KNOB_DELTA = 1;
const HIGH_SLIDER_KNOB_DELTA = 100;
const NORMAL_TWEAKER_DELTA = 0.1;
const HIGH_TWEAKER_DELTA = 10;

// a singleton adapter property allows for the same EditContainerNode to be repurposed for different circuit components of the same type
// this is because we want to have a single control for editing any component of that type
const createSingletonAdapterProperty = (initialValue, CircuitElementType, circuit, getter, predicate = () => true) => {
  // Cannot use DynamicProperty.derivedProperty since the selected circuit element isn't always the right subtype of CircuitElement
  const singletonAdapterProperty = new Property(initialValue, {});
  singletonAdapterProperty.link(value => {
    if (circuit.selectionProperty.value && circuit.selectionProperty.value instanceof CircuitElementType) {
      getter(circuit.selectionProperty.value).value = value;
    }
  });

  // When the value in the model changes, say from PhET-iO, we propagate it back to the control
  const modelListener = currentRating => singletonAdapterProperty.set(currentRating);
  circuit.selectionProperty.link((newCircuitElement, oldCircuitElement) => {
    oldCircuitElement instanceof CircuitElementType && predicate(oldCircuitElement) && getter(oldCircuitElement).unlink(modelListener);
    newCircuitElement instanceof CircuitElementType && predicate(newCircuitElement) && getter(newCircuitElement).link(modelListener);
  });
  return singletonAdapterProperty;
};
export default class CircuitElementEditContainerNode extends Node {
  constructor(circuit, visibleBoundsProperty, modeProperty, playAreaCenterXProperty, tandem, providedOptions) {
    super();
    const options = optionize()({
      showPhaseShiftControl: false
    }, providedOptions);

    // Create reusable components that will get assembled into a panel for the selected circuit element
    const trashButton = new CCKCTrashButton(circuit, tandem.createTandem('trashButton'));

    // Use the "nested node" pattern for gated visibilty
    const trashButtonContainer = new Node({
      // Ensure panel bounds reflow when the child is made invisible via phet-io
      excludeInvisibleChildrenFromBounds: true,
      children: [trashButton]
    });
    const fuseRepairButton = new FuseRepairButton(circuit, {
      tandem: tandem.createTandem('fuseRepairButton'),
      // NOTE: This only works if the trash button was originally smaller
      maxHeight: trashButton.height
    });
    const fuseRepairButtonContainer = new Node({
      excludeInvisibleChildrenFromBounds: true,
      children: [fuseRepairButton]
    });
    const isRepairableListener = isRepairable => fuseRepairButtonContainer.setVisible(isRepairable);

    // This is reused across all instances.  The button itself can be hidden by PhET-iO customization, but the parent
    // node is another gate for the visibility.
    circuit.selectionProperty.link((newCircuitElement, oldCircuitElement) => {
      oldCircuitElement instanceof Fuse && oldCircuitElement.isRepairableProperty.unlink(isRepairableListener);
      newCircuitElement instanceof Fuse && newCircuitElement.isRepairableProperty.link(isRepairableListener);
    });
    const clearDynamicsButton = new ClearDynamicsButton(circuit, {
      tandem: circuit.includeACElements ? tandem.createTandem('clearButton') : Tandem.OPT_OUT,
      // NOTE: This only works if the trash button was originally smaller
      maxHeight: trashButton.height
    });
    const batteryReverseButton = new BatteryReverseButton(circuit, {
      tandem: tandem.createTandem('batteryReverseButton'),
      // NOTE: This only works if the trash button was originally smaller
      maxHeight: trashButton.height
    });

    // This is reused across all batteries.  The button itself can be hidden by PhET-iO customization, but the parent
    // node is another gate for the visibility.
    const batteryReverseContainerNode = new Node({
      excludeInvisibleChildrenFromBounds: true,
      children: [batteryReverseButton]
    });
    const isReversibleListener = isReversible => batteryReverseContainerNode.setVisible(isReversible);
    circuit.selectionProperty.link((newCircuitElement, oldCircuitElement) => {
      oldCircuitElement instanceof Battery && oldCircuitElement.isReversibleProperty.unlink(isReversibleListener);
      newCircuitElement instanceof Battery && newCircuitElement.isReversibleProperty.link(isReversibleListener);
    });
    const switchReadoutNode = new SwitchReadoutNode(circuit, tandem.createTandem('switchReadoutNode'));
    const listener = isDisposable => trashButtonContainer.setVisible(isDisposable);

    // Connect the listener dynamically to the selected circuit element
    circuit.selectionProperty.link((newCircuitElement, oldCircuitElement) => {
      newCircuitElement instanceof CircuitElement && newCircuitElement.isDisposableProperty.link(listener);
      oldCircuitElement instanceof CircuitElement && oldCircuitElement.isDisposableProperty.unlink(listener);
    });

    // For PhET-iO, NumberControls are created statically on startup and switch between which CircuitElement it controls.
    const fuseCurrentRatingControl = new CircuitElementNumberControl(currentRatingStringProperty,
    // Adapter to take from {{named}} to {{value}} for usage in common code
    new PatternStringProperty(currentUnitsStringProperty, {
      current: SunConstants.VALUE_NAMED_PLACEHOLDER
    }), createSingletonAdapterProperty(Fuse.DEFAULT_CURRENT_RATING, Fuse, circuit, c => c.currentRatingProperty), Fuse.RANGE, circuit, 1, {
      tandem: tandem.createTandem('fuseCurrentRatingControl'),
      delta: NORMAL_TWEAKER_DELTA,
      // For the tweakers
      sliderOptions: {
        constrainValue: value => Utils.roundToInterval(value, 0.5)
      }
    });
    const capacitorEditControl = new CircuitElementNumberControl(capacitanceStringProperty, new PatternStringProperty(capacitanceUnitsStringProperty, {
      capacitance: SunConstants.VALUE_NAMED_PLACEHOLDER
    }), createSingletonAdapterProperty(Capacitor.CAPACITANCE_DEFAULT, Capacitor, circuit, c => c.capacitanceProperty), Capacitor.CAPACITANCE_RANGE, circuit, Capacitor.NUMBER_OF_DECIMAL_PLACES, {
      tandem: circuit.includeACElements ? tandem.createTandem('capacitanceNumberControl') : Tandem.OPT_OUT,
      delta: CCKCQueryParameters.capacitanceStep,
      // For dragging the slider knob
      sliderOptions: {
        constrainValue: value => Utils.roundToInterval(value, CCKCQueryParameters.capacitanceStep)
      }
    });
    const inductanceControl = new CircuitElementNumberControl(inductanceStringProperty, new PatternStringProperty(inductanceUnitsStringProperty, {
      inductance: SunConstants.VALUE_NAMED_PLACEHOLDER
    }), createSingletonAdapterProperty(Inductor.INDUCTANCE_DEFAULT, Inductor, circuit, c => c.inductanceProperty), Inductor.INDUCTANCE_RANGE, circuit, Inductor.INDUCTANCE_NUMBER_OF_DECIMAL_PLACES, {
      tandem: circuit.includeACElements ? tandem.createTandem('inductanceNumberControl') : Tandem.OPT_OUT,
      delta: CCKCQueryParameters.inductanceStep,
      // For dragging the slider knob
      sliderOptions: {
        constrainValue: value => Utils.roundToInterval(value, 0.1)
      }
    });
    const createResistanceNumberControl = (tandemName, CircuitElementType) => new CircuitElementNumberControl(resistanceStringProperty, new PatternStringProperty(resistanceOhmsValuePatternStringProperty, {
      resistance: SunConstants.VALUE_NAMED_PLACEHOLDER
    }), createSingletonAdapterProperty(ResistorType.RESISTOR.defaultResistance, CircuitElementType, circuit, c => c.resistanceProperty, c => c instanceof LightBulb && !c.isExtreme || c instanceof Resistor && c.resistorType !== ResistorType.EXTREME_RESISTOR), ResistorType.RESISTOR.range, circuit, Resistor.RESISTANCE_DECIMAL_PLACES, {
      tandem: tandem.createTandem(tandemName),
      delta: NORMAL_TWEAKER_DELTA,
      sliderOptions: {
        constrainValue: value => Utils.roundToInterval(value, NORMAL_SLIDER_KNOB_DELTA) // For dragging the slider knob
      },

      numberDisplayOptions: {
        decimalPlaces: Resistor.RESISTANCE_DECIMAL_PLACES
      }
    });
    const createExtremeResistanceNumberControl = (tandemName, CircuitElementType) => new CircuitElementNumberControl(resistanceStringProperty, new PatternStringProperty(resistanceOhmsValuePatternStringProperty, {
      resistance: SunConstants.VALUE_NAMED_PLACEHOLDER
    }), createSingletonAdapterProperty(ResistorType.EXTREME_RESISTOR.defaultResistance, CircuitElementType, circuit, c => c.resistanceProperty, c => c instanceof LightBulb && c.isExtreme || c instanceof Resistor && c.resistorType === ResistorType.EXTREME_RESISTOR), ResistorType.EXTREME_RESISTOR.range, circuit, Resistor.HIGH_RESISTANCE_DECIMAL_PLACES, {
      tandem: circuit.includeLabElements ? tandem.createTandem(tandemName) : Tandem.OPT_OUT,
      delta: HIGH_TWEAKER_DELTA,
      sliderOptions: {
        constrainValue: value => Utils.roundToInterval(value, HIGH_SLIDER_KNOB_DELTA) // For dragging the slider knob
      },

      numberDisplayOptions: {
        decimalPlaces: Resistor.HIGH_RESISTANCE_DECIMAL_PLACES
      }
    });
    const resistorResistanceNumberControl = createResistanceNumberControl('resistorResistanceNumberControl', Resistor);
    const lightBulbResistanceNumberControl = createResistanceNumberControl('lightBulbResistanceNumberControl', LightBulb);
    const extremeResistorResistanceNumberControl = createExtremeResistanceNumberControl('extremeResistorResistanceNumberControl', Resistor);
    const extremeLightBulbResistanceNumberControl = createExtremeResistanceNumberControl('extremeLightBulbResistanceNumberControl', LightBulb);
    const voltageNumberControl = new CircuitElementNumberControl(voltageStringProperty, new PatternStringProperty(voltageVoltsValuePatternStringProperty, {
      voltage: SunConstants.VALUE_NAMED_PLACEHOLDER
    }), createSingletonAdapterProperty(Battery.VOLTAGE_DEFAULT, Battery, circuit, c => c.voltageProperty, c => c.batteryType === 'normal'), Battery.VOLTAGE_RANGE, circuit, Battery.VOLTAGE_DECIMAL_PLACES, {
      tandem: tandem.createTandem('batteryVoltageNumberControl'),
      delta: NORMAL_TWEAKER_DELTA,
      sliderOptions: {
        // For dragging the slider knob
        constrainValue: value => Utils.roundToInterval(value, NORMAL_SLIDER_KNOB_DELTA)
      },
      numberDisplayOptions: {
        decimalPlaces: Battery.VOLTAGE_DECIMAL_PLACES
      }
    });
    const extremeBatteryVoltageNumberControl = new CircuitElementNumberControl(voltageStringProperty, new PatternStringProperty(voltageVoltsValuePatternStringProperty, {
      voltage: SunConstants.VALUE_NAMED_PLACEHOLDER
    }), createSingletonAdapterProperty(Battery.HIGH_VOLTAGE_DEFAULT, Battery, circuit, c => c.voltageProperty, c => c.batteryType === 'high-voltage'), Battery.HIGH_VOLTAGE_RANGE, circuit, Battery.HIGH_VOLTAGE_DECIMAL_PLACES, {
      tandem: circuit.includeLabElements ? tandem.createTandem('extremeBatteryVoltageNumberControl') : Tandem.OPT_OUT,
      delta: HIGH_TWEAKER_DELTA,
      sliderOptions: {
        // For dragging the slider knob
        constrainValue: value => Utils.roundToInterval(value, HIGH_SLIDER_KNOB_DELTA)
      },
      numberDisplayOptions: {
        decimalPlaces: Battery.HIGH_VOLTAGE_DECIMAL_PLACES
      }
    });
    const phaseShiftControl = new PhaseShiftControl(createSingletonAdapterProperty(0, ACVoltage, circuit, c => c.phaseProperty), circuit, {
      tandem: circuit.includeACElements ? tandem.createTandem('phaseShiftControl') : Tandem.OPT_OUT
    });
    const acVoltageControl = new CircuitElementNumberControl(voltageStringProperty, new PatternStringProperty(voltageVoltsValuePatternStringProperty, {
      voltage: SunConstants.VALUE_NAMED_PLACEHOLDER
    }), createSingletonAdapterProperty(9, ACVoltage, circuit, circuitElement => circuitElement.maximumVoltageProperty), ACVoltage.MAX_VOLTAGE_RANGE, circuit, 2, {
      tandem: circuit.includeACElements ? tandem.createTandem('acVoltageControl') : Tandem.OPT_OUT,
      getAdditionalVisibilityProperties: c => {
        return c instanceof ACVoltage ? [c.isVoltageEditableProperty] : [];
      }
    });
    const acFrequencyControl = new CircuitElementNumberControl(frequencyStringProperty, new PatternStringProperty(frequencyHzValuePatternStringProperty, {
      frequency: SunConstants.VALUE_NAMED_PLACEHOLDER
    }), createSingletonAdapterProperty(ACVoltage.DEFAULT_FREQUENCY, ACVoltage, circuit, circuitElement => circuitElement.frequencyProperty), ACVoltage.FREQUENCY_RANGE, circuit, 2, {
      tandem: circuit.includeACElements ? tandem.createTandem('frequencyControl') : Tandem.OPT_OUT,
      delta: 0.01,
      getAdditionalVisibilityProperties: c => {
        return c instanceof ACVoltage ? [c.isFrequencyEditableProperty] : [];
      }
    });
    const tapInstructionText = new Text(tapCircuitElementToEditStringProperty, {
      fontSize: 24,
      maxWidth: 300,
      fill: CCKCColors.textFillProperty,
      tandem: tandem.createTandem('tapInstructionText'),
      phetioVisiblePropertyInstrumented: true,
      visiblePropertyOptions: {
        // Visibility is controlled by the link below
        phetioReadOnly: true
      }
    });

    // Only show the instructions if there is a circuit element in the play area, so students don't try to tap
    // something in the toolbox.
    const updateInstructionTextVisible = () => {
      if (!phet.joist.sim.isSettingPhetioStateProperty.value) {
        // Only fixed length circuit elements are editable, even though wires can be deleted
        const fixedLengthElements = circuit.circuitElements.filter(circuitElement => circuitElement instanceof FixedCircuitElement && circuitElement.interactiveProperty.get());
        tapInstructionText.visible = fixedLengthElements.length > 0;
      }
    };
    circuit.vertexDroppedEmitter.addListener(updateInstructionTextVisible);

    // Also update on reset all, or if a component is dropped in the toolbox
    circuit.vertexGroup.elementDisposedEmitter.addListener(updateInstructionTextVisible);
    modeProperty.link(updateInstructionTextVisible);
    const updatePosition = () => {
      // Layout, but only if we have something to display (otherwise bounds fail out)
      this.bounds.isValid() && this.mutate(GET_LAYOUT_POSITION(visibleBoundsProperty.get(), playAreaCenterXProperty.value));
    };

    // When the selected element changes, update the displayed controls
    let editNode = null;
    const disposeActions = [];
    circuit.selectionProperty.link(selectedCircuitElement => {
      if (editNode) {
        this.hasChild(editNode) && this.removeChild(editNode);
        if (editNode !== tapInstructionText && editNode !== trashButtonContainer) {
          editNode.dispose();
          disposeActions.forEach(disposeAction => disposeAction());
          disposeActions.length = 0;
        }
      }
      editNode = null;
      if (selectedCircuitElement) {
        if (selectedCircuitElement instanceof Resistor && selectedCircuitElement.isResistanceEditable()) {
          const isExtreme = selectedCircuitElement.resistorType === ResistorType.EXTREME_RESISTOR;
          editNode = new EditPanel([isExtreme ? extremeResistorResistanceNumberControl : resistorResistanceNumberControl, trashButtonContainer]);
        }

        // Real bulb has no resistance control
        else if (selectedCircuitElement instanceof LightBulb && !selectedCircuitElement.isReal) {
          editNode = new EditPanel([selectedCircuitElement.isExtreme ? extremeLightBulbResistanceNumberControl : lightBulbResistanceNumberControl, trashButtonContainer]);
        } else if (selectedCircuitElement instanceof Resistor || selectedCircuitElement instanceof LightBulb && selectedCircuitElement.isReal) {
          // Just show a trash button for non-editable resistors which are household items and for isReal bulbs
          editNode = trashButtonContainer;
        } else if (selectedCircuitElement instanceof Battery) {
          const node = new Node({
            children: [batteryReverseContainerNode],
            excludeInvisibleChildrenFromBounds: true
          });
          editNode = new EditPanel([
          // Batteries can be reversed, nest in a Node so the layout will reflow correctly
          node, selectedCircuitElement.batteryType === 'high-voltage' ? extremeBatteryVoltageNumberControl : voltageNumberControl, trashButtonContainer]);
          disposeActions.push(() => node.dispose());
        } else if (selectedCircuitElement instanceof Fuse) {
          editNode = new EditPanel([fuseRepairButtonContainer, fuseCurrentRatingControl, trashButtonContainer]);
        } else if (selectedCircuitElement instanceof Switch) {
          editNode = new HBox({
            children: [switchReadoutNode, trashButtonContainer],
            spacing: 25,
            align: 'bottom'
          });
        } else if (selectedCircuitElement instanceof SeriesAmmeter || selectedCircuitElement instanceof Wire) {
          // Just show a trash button
          editNode = trashButtonContainer;
        } else if (selectedCircuitElement instanceof ACVoltage) {
          const children = [acVoltageControl, acFrequencyControl];
          if (options.showPhaseShiftControl) {
            children.push(phaseShiftControl);
          }
          children.push(trashButtonContainer);
          editNode = new EditPanel(children);
        } else if (selectedCircuitElement instanceof Capacitor) {
          editNode = new EditPanel([clearDynamicsButton, capacitorEditControl, trashButtonContainer]);
        } else if (selectedCircuitElement instanceof Inductor) {
          editNode = new EditPanel([clearDynamicsButton, inductanceControl, trashButtonContainer]);
        }
      } else {
        editNode = tapInstructionText;
      }
      if (editNode !== null) {
        this.addChild(editNode);
        if (editNode === tapInstructionText || editNode instanceof SwitchReadoutNode) {
          this.mouseArea = null;
          this.touchArea = null;
        } else {
          // Clicking nearby (but not directly on) a tweaker button or slider shouldn't dismiss the edit panel,
          // see https://github.com/phetsims/circuit-construction-kit-dc/issues/90
          this.mouseArea = this.localBounds.dilatedXY(20, CCKCConstants.VERTICAL_MARGIN);
          this.touchArea = this.localBounds.dilatedXY(20, CCKCConstants.VERTICAL_MARGIN);
        }
      }
      updatePosition();
    });
    visibleBoundsProperty.link(updatePosition);
    this.localBoundsProperty.link(updatePosition);
  }
}

/**
 * Panel to facilitate in visual layout of the controls.
 */
class EditPanel extends Panel {
  constructor(children) {
    const hbox = new HBox({
      spacing: 25,
      align: 'bottom',
      children: children
    });
    super(hbox, {
      fill: CCKCColors.editPanelFillProperty,
      stroke: null,
      xMargin: 10,
      yMargin: 10,
      cornerRadius: 10,
      align: 'center'
    });
    this.hbox = hbox;
  }
  dispose() {
    this.hbox.dispose();
    super.dispose();
  }
}
circuitConstructionKitCommon.register('CircuitElementEditContainerNode', CircuitElementEditContainerNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIlV0aWxzIiwiSEJveCIsIk5vZGUiLCJUZXh0IiwiUGFuZWwiLCJTdW5Db25zdGFudHMiLCJUYW5kZW0iLCJDQ0tDQ29uc3RhbnRzIiwiQ0NLQ1F1ZXJ5UGFyYW1ldGVycyIsImNpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb24iLCJDaXJjdWl0Q29uc3RydWN0aW9uS2l0Q29tbW9uU3RyaW5ncyIsIkFDVm9sdGFnZSIsIkJhdHRlcnkiLCJDYXBhY2l0b3IiLCJGaXhlZENpcmN1aXRFbGVtZW50IiwiRnVzZSIsIkluZHVjdG9yIiwiTGlnaHRCdWxiIiwiUmVzaXN0b3IiLCJSZXNpc3RvclR5cGUiLCJTZXJpZXNBbW1ldGVyIiwiU3dpdGNoIiwiV2lyZSIsIkNpcmN1aXRFbGVtZW50TnVtYmVyQ29udHJvbCIsIkNsZWFyRHluYW1pY3NCdXR0b24iLCJQaGFzZVNoaWZ0Q29udHJvbCIsIkZ1c2VSZXBhaXJCdXR0b24iLCJCYXR0ZXJ5UmV2ZXJzZUJ1dHRvbiIsIlN3aXRjaFJlYWRvdXROb2RlIiwiQ0NLQ1RyYXNoQnV0dG9uIiwiQ2lyY3VpdEVsZW1lbnQiLCJvcHRpb25pemUiLCJQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJDQ0tDQ29sb3JzIiwiY2FwYWNpdGFuY2VTdHJpbmdQcm9wZXJ0eSIsImNhcGFjaXRhbmNlVW5pdHNTdHJpbmdQcm9wZXJ0eSIsImN1cnJlbnRSYXRpbmdTdHJpbmdQcm9wZXJ0eSIsImN1cnJlbnRVbml0c1N0cmluZ1Byb3BlcnR5IiwiZnJlcXVlbmN5SHpWYWx1ZVBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsImZyZXF1ZW5jeVN0cmluZ1Byb3BlcnR5IiwiaW5kdWN0YW5jZVN0cmluZ1Byb3BlcnR5IiwiaW5kdWN0YW5jZVVuaXRzU3RyaW5nUHJvcGVydHkiLCJyZXNpc3RhbmNlT2htc1ZhbHVlUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwicmVzaXN0YW5jZVN0cmluZ1Byb3BlcnR5IiwidGFwQ2lyY3VpdEVsZW1lbnRUb0VkaXRTdHJpbmdQcm9wZXJ0eSIsInZvbHRhZ2VTdHJpbmdQcm9wZXJ0eSIsInZvbHRhZ2VWb2x0c1ZhbHVlUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwiR0VUX0xBWU9VVF9QT1NJVElPTiIsInZpc2libGVCb3VuZHMiLCJjZW50ZXJYIiwiYm90dG9tIiwiSE9SSVpPTlRBTF9NQVJHSU4iLCJOT1JNQUxfU0xJREVSX0tOT0JfREVMVEEiLCJISUdIX1NMSURFUl9LTk9CX0RFTFRBIiwiTk9STUFMX1RXRUFLRVJfREVMVEEiLCJISUdIX1RXRUFLRVJfREVMVEEiLCJjcmVhdGVTaW5nbGV0b25BZGFwdGVyUHJvcGVydHkiLCJpbml0aWFsVmFsdWUiLCJDaXJjdWl0RWxlbWVudFR5cGUiLCJjaXJjdWl0IiwiZ2V0dGVyIiwicHJlZGljYXRlIiwic2luZ2xldG9uQWRhcHRlclByb3BlcnR5IiwibGluayIsInZhbHVlIiwic2VsZWN0aW9uUHJvcGVydHkiLCJtb2RlbExpc3RlbmVyIiwiY3VycmVudFJhdGluZyIsInNldCIsIm5ld0NpcmN1aXRFbGVtZW50Iiwib2xkQ2lyY3VpdEVsZW1lbnQiLCJ1bmxpbmsiLCJDaXJjdWl0RWxlbWVudEVkaXRDb250YWluZXJOb2RlIiwiY29uc3RydWN0b3IiLCJ2aXNpYmxlQm91bmRzUHJvcGVydHkiLCJtb2RlUHJvcGVydHkiLCJwbGF5QXJlYUNlbnRlclhQcm9wZXJ0eSIsInRhbmRlbSIsInByb3ZpZGVkT3B0aW9ucyIsIm9wdGlvbnMiLCJzaG93UGhhc2VTaGlmdENvbnRyb2wiLCJ0cmFzaEJ1dHRvbiIsImNyZWF0ZVRhbmRlbSIsInRyYXNoQnV0dG9uQ29udGFpbmVyIiwiZXhjbHVkZUludmlzaWJsZUNoaWxkcmVuRnJvbUJvdW5kcyIsImNoaWxkcmVuIiwiZnVzZVJlcGFpckJ1dHRvbiIsIm1heEhlaWdodCIsImhlaWdodCIsImZ1c2VSZXBhaXJCdXR0b25Db250YWluZXIiLCJpc1JlcGFpcmFibGVMaXN0ZW5lciIsImlzUmVwYWlyYWJsZSIsInNldFZpc2libGUiLCJpc1JlcGFpcmFibGVQcm9wZXJ0eSIsImNsZWFyRHluYW1pY3NCdXR0b24iLCJpbmNsdWRlQUNFbGVtZW50cyIsIk9QVF9PVVQiLCJiYXR0ZXJ5UmV2ZXJzZUJ1dHRvbiIsImJhdHRlcnlSZXZlcnNlQ29udGFpbmVyTm9kZSIsImlzUmV2ZXJzaWJsZUxpc3RlbmVyIiwiaXNSZXZlcnNpYmxlIiwiaXNSZXZlcnNpYmxlUHJvcGVydHkiLCJzd2l0Y2hSZWFkb3V0Tm9kZSIsImxpc3RlbmVyIiwiaXNEaXNwb3NhYmxlIiwiaXNEaXNwb3NhYmxlUHJvcGVydHkiLCJmdXNlQ3VycmVudFJhdGluZ0NvbnRyb2wiLCJjdXJyZW50IiwiVkFMVUVfTkFNRURfUExBQ0VIT0xERVIiLCJERUZBVUxUX0NVUlJFTlRfUkFUSU5HIiwiYyIsImN1cnJlbnRSYXRpbmdQcm9wZXJ0eSIsIlJBTkdFIiwiZGVsdGEiLCJzbGlkZXJPcHRpb25zIiwiY29uc3RyYWluVmFsdWUiLCJyb3VuZFRvSW50ZXJ2YWwiLCJjYXBhY2l0b3JFZGl0Q29udHJvbCIsImNhcGFjaXRhbmNlIiwiQ0FQQUNJVEFOQ0VfREVGQVVMVCIsImNhcGFjaXRhbmNlUHJvcGVydHkiLCJDQVBBQ0lUQU5DRV9SQU5HRSIsIk5VTUJFUl9PRl9ERUNJTUFMX1BMQUNFUyIsImNhcGFjaXRhbmNlU3RlcCIsImluZHVjdGFuY2VDb250cm9sIiwiaW5kdWN0YW5jZSIsIklORFVDVEFOQ0VfREVGQVVMVCIsImluZHVjdGFuY2VQcm9wZXJ0eSIsIklORFVDVEFOQ0VfUkFOR0UiLCJJTkRVQ1RBTkNFX05VTUJFUl9PRl9ERUNJTUFMX1BMQUNFUyIsImluZHVjdGFuY2VTdGVwIiwiY3JlYXRlUmVzaXN0YW5jZU51bWJlckNvbnRyb2wiLCJ0YW5kZW1OYW1lIiwicmVzaXN0YW5jZSIsIlJFU0lTVE9SIiwiZGVmYXVsdFJlc2lzdGFuY2UiLCJyZXNpc3RhbmNlUHJvcGVydHkiLCJpc0V4dHJlbWUiLCJyZXNpc3RvclR5cGUiLCJFWFRSRU1FX1JFU0lTVE9SIiwicmFuZ2UiLCJSRVNJU1RBTkNFX0RFQ0lNQUxfUExBQ0VTIiwibnVtYmVyRGlzcGxheU9wdGlvbnMiLCJkZWNpbWFsUGxhY2VzIiwiY3JlYXRlRXh0cmVtZVJlc2lzdGFuY2VOdW1iZXJDb250cm9sIiwiSElHSF9SRVNJU1RBTkNFX0RFQ0lNQUxfUExBQ0VTIiwiaW5jbHVkZUxhYkVsZW1lbnRzIiwicmVzaXN0b3JSZXNpc3RhbmNlTnVtYmVyQ29udHJvbCIsImxpZ2h0QnVsYlJlc2lzdGFuY2VOdW1iZXJDb250cm9sIiwiZXh0cmVtZVJlc2lzdG9yUmVzaXN0YW5jZU51bWJlckNvbnRyb2wiLCJleHRyZW1lTGlnaHRCdWxiUmVzaXN0YW5jZU51bWJlckNvbnRyb2wiLCJ2b2x0YWdlTnVtYmVyQ29udHJvbCIsInZvbHRhZ2UiLCJWT0xUQUdFX0RFRkFVTFQiLCJ2b2x0YWdlUHJvcGVydHkiLCJiYXR0ZXJ5VHlwZSIsIlZPTFRBR0VfUkFOR0UiLCJWT0xUQUdFX0RFQ0lNQUxfUExBQ0VTIiwiZXh0cmVtZUJhdHRlcnlWb2x0YWdlTnVtYmVyQ29udHJvbCIsIkhJR0hfVk9MVEFHRV9ERUZBVUxUIiwiSElHSF9WT0xUQUdFX1JBTkdFIiwiSElHSF9WT0xUQUdFX0RFQ0lNQUxfUExBQ0VTIiwicGhhc2VTaGlmdENvbnRyb2wiLCJwaGFzZVByb3BlcnR5IiwiYWNWb2x0YWdlQ29udHJvbCIsImNpcmN1aXRFbGVtZW50IiwibWF4aW11bVZvbHRhZ2VQcm9wZXJ0eSIsIk1BWF9WT0xUQUdFX1JBTkdFIiwiZ2V0QWRkaXRpb25hbFZpc2liaWxpdHlQcm9wZXJ0aWVzIiwiaXNWb2x0YWdlRWRpdGFibGVQcm9wZXJ0eSIsImFjRnJlcXVlbmN5Q29udHJvbCIsImZyZXF1ZW5jeSIsIkRFRkFVTFRfRlJFUVVFTkNZIiwiZnJlcXVlbmN5UHJvcGVydHkiLCJGUkVRVUVOQ1lfUkFOR0UiLCJpc0ZyZXF1ZW5jeUVkaXRhYmxlUHJvcGVydHkiLCJ0YXBJbnN0cnVjdGlvblRleHQiLCJmb250U2l6ZSIsIm1heFdpZHRoIiwiZmlsbCIsInRleHRGaWxsUHJvcGVydHkiLCJwaGV0aW9WaXNpYmxlUHJvcGVydHlJbnN0cnVtZW50ZWQiLCJ2aXNpYmxlUHJvcGVydHlPcHRpb25zIiwicGhldGlvUmVhZE9ubHkiLCJ1cGRhdGVJbnN0cnVjdGlvblRleHRWaXNpYmxlIiwicGhldCIsImpvaXN0Iiwic2ltIiwiaXNTZXR0aW5nUGhldGlvU3RhdGVQcm9wZXJ0eSIsImZpeGVkTGVuZ3RoRWxlbWVudHMiLCJjaXJjdWl0RWxlbWVudHMiLCJmaWx0ZXIiLCJpbnRlcmFjdGl2ZVByb3BlcnR5IiwiZ2V0IiwidmlzaWJsZSIsImxlbmd0aCIsInZlcnRleERyb3BwZWRFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJ2ZXJ0ZXhHcm91cCIsImVsZW1lbnREaXNwb3NlZEVtaXR0ZXIiLCJ1cGRhdGVQb3NpdGlvbiIsImJvdW5kcyIsImlzVmFsaWQiLCJtdXRhdGUiLCJlZGl0Tm9kZSIsImRpc3Bvc2VBY3Rpb25zIiwic2VsZWN0ZWRDaXJjdWl0RWxlbWVudCIsImhhc0NoaWxkIiwicmVtb3ZlQ2hpbGQiLCJkaXNwb3NlIiwiZm9yRWFjaCIsImRpc3Bvc2VBY3Rpb24iLCJpc1Jlc2lzdGFuY2VFZGl0YWJsZSIsIkVkaXRQYW5lbCIsImlzUmVhbCIsIm5vZGUiLCJwdXNoIiwic3BhY2luZyIsImFsaWduIiwiYWRkQ2hpbGQiLCJtb3VzZUFyZWEiLCJ0b3VjaEFyZWEiLCJsb2NhbEJvdW5kcyIsImRpbGF0ZWRYWSIsIlZFUlRJQ0FMX01BUkdJTiIsImxvY2FsQm91bmRzUHJvcGVydHkiLCJoYm94IiwiZWRpdFBhbmVsRmlsbFByb3BlcnR5Iiwic3Ryb2tlIiwieE1hcmdpbiIsInlNYXJnaW4iLCJjb3JuZXJSYWRpdXMiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkNpcmN1aXRFbGVtZW50RWRpdENvbnRhaW5lck5vZGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTYtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogVGhpcyBwb3B1cCBjb250cm9sIGFwcGVhcnMgYXQgdGhlIGJvdHRvbSBvZiB0aGUgc2NyZWVuIGFuZCBzaG93cyBjaXJjdWl0IGVsZW1lbnQtc3BlY2lmaWMgY29udHJvbHMsIGxpa2UgYVxyXG4gKiByZXNpc3RhbmNlIGNvbnRyb2wgZm9yIHJlc2lzdG9ycy5cclxuICpcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IFV0aWxzIGZyb20gJy4uLy4uLy4uL2RvdC9qcy9VdGlscy5qcyc7XHJcbmltcG9ydCB7IEhCb3gsIE5vZGUsIE5vZGVPcHRpb25zLCBUZXh0IH0gZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFBhbmVsIGZyb20gJy4uLy4uLy4uL3N1bi9qcy9QYW5lbC5qcyc7XHJcbmltcG9ydCBTdW5Db25zdGFudHMgZnJvbSAnLi4vLi4vLi4vc3VuL2pzL1N1bkNvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBDQ0tDQ29uc3RhbnRzIGZyb20gJy4uL0NDS0NDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgQ0NLQ1F1ZXJ5UGFyYW1ldGVycyBmcm9tICcuLi9DQ0tDUXVlcnlQYXJhbWV0ZXJzLmpzJztcclxuaW1wb3J0IGNpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb24gZnJvbSAnLi4vY2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vbi5qcyc7XHJcbmltcG9ydCBDaXJjdWl0Q29uc3RydWN0aW9uS2l0Q29tbW9uU3RyaW5ncyBmcm9tICcuLi9DaXJjdWl0Q29uc3RydWN0aW9uS2l0Q29tbW9uU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBBQ1ZvbHRhZ2UgZnJvbSAnLi4vbW9kZWwvQUNWb2x0YWdlLmpzJztcclxuaW1wb3J0IEJhdHRlcnkgZnJvbSAnLi4vbW9kZWwvQmF0dGVyeS5qcyc7XHJcbmltcG9ydCBDYXBhY2l0b3IgZnJvbSAnLi4vbW9kZWwvQ2FwYWNpdG9yLmpzJztcclxuaW1wb3J0IENpcmN1aXQgZnJvbSAnLi4vbW9kZWwvQ2lyY3VpdC5qcyc7XHJcbmltcG9ydCBGaXhlZENpcmN1aXRFbGVtZW50IGZyb20gJy4uL21vZGVsL0ZpeGVkQ2lyY3VpdEVsZW1lbnQuanMnO1xyXG5pbXBvcnQgRnVzZSBmcm9tICcuLi9tb2RlbC9GdXNlLmpzJztcclxuaW1wb3J0IEluZHVjdG9yIGZyb20gJy4uL21vZGVsL0luZHVjdG9yLmpzJztcclxuaW1wb3J0IExpZ2h0QnVsYiBmcm9tICcuLi9tb2RlbC9MaWdodEJ1bGIuanMnO1xyXG5pbXBvcnQgUmVzaXN0b3IgZnJvbSAnLi4vbW9kZWwvUmVzaXN0b3IuanMnO1xyXG5pbXBvcnQgUmVzaXN0b3JUeXBlIGZyb20gJy4uL21vZGVsL1Jlc2lzdG9yVHlwZS5qcyc7XHJcbmltcG9ydCBTZXJpZXNBbW1ldGVyIGZyb20gJy4uL21vZGVsL1Nlcmllc0FtbWV0ZXIuanMnO1xyXG5pbXBvcnQgU3dpdGNoIGZyb20gJy4uL21vZGVsL1N3aXRjaC5qcyc7XHJcbmltcG9ydCBXaXJlIGZyb20gJy4uL21vZGVsL1dpcmUuanMnO1xyXG5pbXBvcnQgQ2lyY3VpdEVsZW1lbnROdW1iZXJDb250cm9sIGZyb20gJy4vQ2lyY3VpdEVsZW1lbnROdW1iZXJDb250cm9sLmpzJztcclxuaW1wb3J0IENsZWFyRHluYW1pY3NCdXR0b24gZnJvbSAnLi9DbGVhckR5bmFtaWNzQnV0dG9uLmpzJztcclxuaW1wb3J0IFBoYXNlU2hpZnRDb250cm9sIGZyb20gJy4vUGhhc2VTaGlmdENvbnRyb2wuanMnO1xyXG5pbXBvcnQgRnVzZVJlcGFpckJ1dHRvbiBmcm9tICcuL0Z1c2VSZXBhaXJCdXR0b24uanMnO1xyXG5pbXBvcnQgQmF0dGVyeVJldmVyc2VCdXR0b24gZnJvbSAnLi9CYXR0ZXJ5UmV2ZXJzZUJ1dHRvbi5qcyc7XHJcbmltcG9ydCBTd2l0Y2hSZWFkb3V0Tm9kZSBmcm9tICcuL1N3aXRjaFJlYWRvdXROb2RlLmpzJztcclxuaW1wb3J0IENDS0NUcmFzaEJ1dHRvbiBmcm9tICcuL0NDS0NUcmFzaEJ1dHRvbi5qcyc7XHJcbmltcG9ydCBDaXJjdWl0RWxlbWVudCBmcm9tICcuLi9tb2RlbC9DaXJjdWl0RWxlbWVudC5qcyc7XHJcbmltcG9ydCBJbnRlcmFjdGlvbk1vZGUgZnJvbSAnLi4vbW9kZWwvSW50ZXJhY3Rpb25Nb2RlLmpzJztcclxuaW1wb3J0IEVudW1lcmF0aW9uUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9FbnVtZXJhdGlvblByb3BlcnR5LmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSwgeyBFbXB0eVNlbGZPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XHJcbmltcG9ydCBJbnRlbnRpb25hbEFueSBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvSW50ZW50aW9uYWxBbnkuanMnO1xyXG5pbXBvcnQgVmVydGV4IGZyb20gJy4uL21vZGVsL1ZlcnRleC5qcyc7XHJcbmltcG9ydCBQYXR0ZXJuU3RyaW5nUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9QYXR0ZXJuU3RyaW5nUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgQ0NLQ0NvbG9ycyBmcm9tICcuL0NDS0NDb2xvcnMuanMnO1xyXG5cclxuY29uc3QgY2FwYWNpdGFuY2VTdHJpbmdQcm9wZXJ0eSA9IENpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb25TdHJpbmdzLmNhcGFjaXRhbmNlU3RyaW5nUHJvcGVydHk7XHJcbmNvbnN0IGNhcGFjaXRhbmNlVW5pdHNTdHJpbmdQcm9wZXJ0eSA9IENpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb25TdHJpbmdzLmNhcGFjaXRhbmNlVW5pdHNTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgY3VycmVudFJhdGluZ1N0cmluZ1Byb3BlcnR5ID0gQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3MuY3VycmVudFJhdGluZ1N0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBjdXJyZW50VW5pdHNTdHJpbmdQcm9wZXJ0eSA9IENpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb25TdHJpbmdzLmN1cnJlbnRVbml0c1N0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBmcmVxdWVuY3lIelZhbHVlUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3MuZnJlcXVlbmN5SHpWYWx1ZVBhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgZnJlcXVlbmN5U3RyaW5nUHJvcGVydHkgPSBDaXJjdWl0Q29uc3RydWN0aW9uS2l0Q29tbW9uU3RyaW5ncy5mcmVxdWVuY3lTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgaW5kdWN0YW5jZVN0cmluZ1Byb3BlcnR5ID0gQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3MuaW5kdWN0YW5jZVN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCBpbmR1Y3RhbmNlVW5pdHNTdHJpbmdQcm9wZXJ0eSA9IENpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb25TdHJpbmdzLmluZHVjdGFuY2VVbml0c1N0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCByZXNpc3RhbmNlT2htc1ZhbHVlUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3MucmVzaXN0YW5jZU9obXNWYWx1ZVBhdHRlcm5TdHJpbmdQcm9wZXJ0eTtcclxuY29uc3QgcmVzaXN0YW5jZVN0cmluZ1Byb3BlcnR5ID0gQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3MucmVzaXN0YW5jZVN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCB0YXBDaXJjdWl0RWxlbWVudFRvRWRpdFN0cmluZ1Byb3BlcnR5ID0gQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3MudGFwQ2lyY3VpdEVsZW1lbnRUb0VkaXRTdHJpbmdQcm9wZXJ0eTtcclxuY29uc3Qgdm9sdGFnZVN0cmluZ1Byb3BlcnR5ID0gQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3Mudm9sdGFnZVN0cmluZ1Byb3BlcnR5O1xyXG5jb25zdCB2b2x0YWdlVm9sdHNWYWx1ZVBhdHRlcm5TdHJpbmdQcm9wZXJ0eSA9IENpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb25TdHJpbmdzLnZvbHRhZ2VWb2x0c1ZhbHVlUGF0dGVyblN0cmluZ1Byb3BlcnR5O1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IEdFVF9MQVlPVVRfUE9TSVRJT04gPSAoIHZpc2libGVCb3VuZHM6IEJvdW5kczIsIGNlbnRlclg6IG51bWJlciApID0+IHtcclxuICByZXR1cm4ge1xyXG4gICAgY2VudGVyWDogY2VudGVyWCxcclxuICAgIGJvdHRvbTogdmlzaWJsZUJvdW5kcy5ib3R0b20gLSBDQ0tDQ29uc3RhbnRzLkhPUklaT05UQUxfTUFSR0lOXHJcbiAgfTtcclxufTtcclxuXHJcbi8vIFNvIHdlIGNhbiBwYXNzIGNsYXNzZXMgYXMgdHlwZXMgZm9yIGluc3RhbmNlb2YgY2hlY2tzLCBJJ3ZlIGJlZW4gdXNpbmcgaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svbWl4aW5zLmh0bWxcclxuLy8gYXMgYSByZWZlcmVuY2UgZm9yIGhvdyB0byBjcmVhdGUgdGhpcyB0eXBlXHJcbnR5cGUgR0NvbnN0cnVjdG9yPFQgPSBFbXB0eVNlbGZPcHRpb25zPiA9IG5ldyAoIC4uLmFyZ3M6IEludGVudGlvbmFsQW55W10gKSA9PiBUO1xyXG5cclxuY29uc3QgTk9STUFMX1NMSURFUl9LTk9CX0RFTFRBID0gMTtcclxuY29uc3QgSElHSF9TTElERVJfS05PQl9ERUxUQSA9IDEwMDtcclxuY29uc3QgTk9STUFMX1RXRUFLRVJfREVMVEEgPSAwLjE7XHJcbmNvbnN0IEhJR0hfVFdFQUtFUl9ERUxUQSA9IDEwO1xyXG5cclxuLy8gYSBzaW5nbGV0b24gYWRhcHRlciBwcm9wZXJ0eSBhbGxvd3MgZm9yIHRoZSBzYW1lIEVkaXRDb250YWluZXJOb2RlIHRvIGJlIHJlcHVycG9zZWQgZm9yIGRpZmZlcmVudCBjaXJjdWl0IGNvbXBvbmVudHMgb2YgdGhlIHNhbWUgdHlwZVxyXG4vLyB0aGlzIGlzIGJlY2F1c2Ugd2Ugd2FudCB0byBoYXZlIGEgc2luZ2xlIGNvbnRyb2wgZm9yIGVkaXRpbmcgYW55IGNvbXBvbmVudCBvZiB0aGF0IHR5cGVcclxuY29uc3QgY3JlYXRlU2luZ2xldG9uQWRhcHRlclByb3BlcnR5ID0gPFQgZXh0ZW5kcyBDaXJjdWl0RWxlbWVudD4oXHJcbiAgaW5pdGlhbFZhbHVlOiBudW1iZXIsXHJcbiAgQ2lyY3VpdEVsZW1lbnRUeXBlOiBHQ29uc3RydWN0b3I8VD4sXHJcbiAgY2lyY3VpdDogQ2lyY3VpdCxcclxuICBnZXR0ZXI6ICggY2lyY3VpdEVsZW1lbnQ6IFQgKSA9PiBQcm9wZXJ0eTxudW1iZXI+LFxyXG4gIHByZWRpY2F0ZTogKCBlbGVtZW50OiBUICkgPT4gYm9vbGVhbiA9ICgpID0+IHRydWUgKSA9PiB7XHJcblxyXG4gIC8vIENhbm5vdCB1c2UgRHluYW1pY1Byb3BlcnR5LmRlcml2ZWRQcm9wZXJ0eSBzaW5jZSB0aGUgc2VsZWN0ZWQgY2lyY3VpdCBlbGVtZW50IGlzbid0IGFsd2F5cyB0aGUgcmlnaHQgc3VidHlwZSBvZiBDaXJjdWl0RWxlbWVudFxyXG4gIGNvbnN0IHNpbmdsZXRvbkFkYXB0ZXJQcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eSggaW5pdGlhbFZhbHVlLCB7fSApO1xyXG4gIHNpbmdsZXRvbkFkYXB0ZXJQcm9wZXJ0eS5saW5rKCB2YWx1ZSA9PiB7XHJcbiAgICBpZiAoIGNpcmN1aXQuc2VsZWN0aW9uUHJvcGVydHkudmFsdWUgJiYgY2lyY3VpdC5zZWxlY3Rpb25Qcm9wZXJ0eS52YWx1ZSBpbnN0YW5jZW9mIENpcmN1aXRFbGVtZW50VHlwZSApIHtcclxuICAgICAgZ2V0dGVyKCBjaXJjdWl0LnNlbGVjdGlvblByb3BlcnR5LnZhbHVlICkudmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuICB9ICk7XHJcblxyXG4gIC8vIFdoZW4gdGhlIHZhbHVlIGluIHRoZSBtb2RlbCBjaGFuZ2VzLCBzYXkgZnJvbSBQaEVULWlPLCB3ZSBwcm9wYWdhdGUgaXQgYmFjayB0byB0aGUgY29udHJvbFxyXG4gIGNvbnN0IG1vZGVsTGlzdGVuZXIgPSAoIGN1cnJlbnRSYXRpbmc6IG51bWJlciApID0+IHNpbmdsZXRvbkFkYXB0ZXJQcm9wZXJ0eS5zZXQoIGN1cnJlbnRSYXRpbmcgKTtcclxuICBjaXJjdWl0LnNlbGVjdGlvblByb3BlcnR5LmxpbmsoICggbmV3Q2lyY3VpdEVsZW1lbnQsIG9sZENpcmN1aXRFbGVtZW50ICkgPT4ge1xyXG4gICAgb2xkQ2lyY3VpdEVsZW1lbnQgaW5zdGFuY2VvZiBDaXJjdWl0RWxlbWVudFR5cGUgJiYgcHJlZGljYXRlKCBvbGRDaXJjdWl0RWxlbWVudCApICYmIGdldHRlciggb2xkQ2lyY3VpdEVsZW1lbnQgKS51bmxpbmsoIG1vZGVsTGlzdGVuZXIgKTtcclxuICAgIG5ld0NpcmN1aXRFbGVtZW50IGluc3RhbmNlb2YgQ2lyY3VpdEVsZW1lbnRUeXBlICYmIHByZWRpY2F0ZSggbmV3Q2lyY3VpdEVsZW1lbnQgKSAmJiBnZXR0ZXIoIG5ld0NpcmN1aXRFbGVtZW50ICkubGluayggbW9kZWxMaXN0ZW5lciApO1xyXG4gIH0gKTtcclxuICByZXR1cm4gc2luZ2xldG9uQWRhcHRlclByb3BlcnR5O1xyXG59O1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IHtcclxuICBzaG93UGhhc2VTaGlmdENvbnRyb2w/OiBib29sZWFuO1xyXG59O1xyXG50eXBlIENpcmN1aXRFbGVtZW50RWRpdENvbnRhaW5lck5vZGVPcHRpb25zID0gU2VsZk9wdGlvbnMgJiBOb2RlT3B0aW9ucztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpcmN1aXRFbGVtZW50RWRpdENvbnRhaW5lck5vZGUgZXh0ZW5kcyBOb2RlIHtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBjaXJjdWl0OiBDaXJjdWl0LCB2aXNpYmxlQm91bmRzUHJvcGVydHk6IFByb3BlcnR5PEJvdW5kczI+LCBtb2RlUHJvcGVydHk6IEVudW1lcmF0aW9uUHJvcGVydHk8SW50ZXJhY3Rpb25Nb2RlPiwgcGxheUFyZWFDZW50ZXJYUHJvcGVydHk6IFByb3BlcnR5PG51bWJlcj4sIHRhbmRlbTogVGFuZGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRPcHRpb25zPzogQ2lyY3VpdEVsZW1lbnRFZGl0Q29udGFpbmVyTm9kZU9wdGlvbnMgKSB7XHJcblxyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPENpcmN1aXRFbGVtZW50RWRpdENvbnRhaW5lck5vZGVPcHRpb25zLCBTZWxmT3B0aW9ucywgTm9kZU9wdGlvbnM+KCkoIHtcclxuICAgICAgc2hvd1BoYXNlU2hpZnRDb250cm9sOiBmYWxzZVxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIHJldXNhYmxlIGNvbXBvbmVudHMgdGhhdCB3aWxsIGdldCBhc3NlbWJsZWQgaW50byBhIHBhbmVsIGZvciB0aGUgc2VsZWN0ZWQgY2lyY3VpdCBlbGVtZW50XHJcbiAgICBjb25zdCB0cmFzaEJ1dHRvbiA9IG5ldyBDQ0tDVHJhc2hCdXR0b24oIGNpcmN1aXQsIHRhbmRlbS5jcmVhdGVUYW5kZW0oICd0cmFzaEJ1dHRvbicgKSApO1xyXG5cclxuICAgIC8vIFVzZSB0aGUgXCJuZXN0ZWQgbm9kZVwiIHBhdHRlcm4gZm9yIGdhdGVkIHZpc2liaWx0eVxyXG4gICAgY29uc3QgdHJhc2hCdXR0b25Db250YWluZXIgPSBuZXcgTm9kZSgge1xyXG5cclxuICAgICAgLy8gRW5zdXJlIHBhbmVsIGJvdW5kcyByZWZsb3cgd2hlbiB0aGUgY2hpbGQgaXMgbWFkZSBpbnZpc2libGUgdmlhIHBoZXQtaW9cclxuICAgICAgZXhjbHVkZUludmlzaWJsZUNoaWxkcmVuRnJvbUJvdW5kczogdHJ1ZSxcclxuICAgICAgY2hpbGRyZW46IFsgdHJhc2hCdXR0b24gXVxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGZ1c2VSZXBhaXJCdXR0b24gPSBuZXcgRnVzZVJlcGFpckJ1dHRvbiggY2lyY3VpdCwge1xyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdmdXNlUmVwYWlyQnV0dG9uJyApLFxyXG5cclxuICAgICAgLy8gTk9URTogVGhpcyBvbmx5IHdvcmtzIGlmIHRoZSB0cmFzaCBidXR0b24gd2FzIG9yaWdpbmFsbHkgc21hbGxlclxyXG4gICAgICBtYXhIZWlnaHQ6IHRyYXNoQnV0dG9uLmhlaWdodFxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGZ1c2VSZXBhaXJCdXR0b25Db250YWluZXIgPSBuZXcgTm9kZSgge1xyXG4gICAgICBleGNsdWRlSW52aXNpYmxlQ2hpbGRyZW5Gcm9tQm91bmRzOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogWyBmdXNlUmVwYWlyQnV0dG9uIF1cclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBpc1JlcGFpcmFibGVMaXN0ZW5lciA9ICggaXNSZXBhaXJhYmxlOiBib29sZWFuICkgPT4gZnVzZVJlcGFpckJ1dHRvbkNvbnRhaW5lci5zZXRWaXNpYmxlKCBpc1JlcGFpcmFibGUgKTtcclxuXHJcbiAgICAvLyBUaGlzIGlzIHJldXNlZCBhY3Jvc3MgYWxsIGluc3RhbmNlcy4gIFRoZSBidXR0b24gaXRzZWxmIGNhbiBiZSBoaWRkZW4gYnkgUGhFVC1pTyBjdXN0b21pemF0aW9uLCBidXQgdGhlIHBhcmVudFxyXG4gICAgLy8gbm9kZSBpcyBhbm90aGVyIGdhdGUgZm9yIHRoZSB2aXNpYmlsaXR5LlxyXG4gICAgY2lyY3VpdC5zZWxlY3Rpb25Qcm9wZXJ0eS5saW5rKCAoIG5ld0NpcmN1aXRFbGVtZW50OiBDaXJjdWl0RWxlbWVudCB8IFZlcnRleCB8IG51bGwsIG9sZENpcmN1aXRFbGVtZW50OiBDaXJjdWl0RWxlbWVudCB8IFZlcnRleCB8IG51bGwgKSA9PiB7XHJcbiAgICAgIG9sZENpcmN1aXRFbGVtZW50IGluc3RhbmNlb2YgRnVzZSAmJiBvbGRDaXJjdWl0RWxlbWVudC5pc1JlcGFpcmFibGVQcm9wZXJ0eS51bmxpbmsoIGlzUmVwYWlyYWJsZUxpc3RlbmVyICk7XHJcbiAgICAgIG5ld0NpcmN1aXRFbGVtZW50IGluc3RhbmNlb2YgRnVzZSAmJiBuZXdDaXJjdWl0RWxlbWVudC5pc1JlcGFpcmFibGVQcm9wZXJ0eS5saW5rKCBpc1JlcGFpcmFibGVMaXN0ZW5lciApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGNsZWFyRHluYW1pY3NCdXR0b24gPSBuZXcgQ2xlYXJEeW5hbWljc0J1dHRvbiggY2lyY3VpdCwge1xyXG4gICAgICB0YW5kZW06IGNpcmN1aXQuaW5jbHVkZUFDRWxlbWVudHMgPyB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnY2xlYXJCdXR0b24nICkgOiBUYW5kZW0uT1BUX09VVCxcclxuICAgICAgLy8gTk9URTogVGhpcyBvbmx5IHdvcmtzIGlmIHRoZSB0cmFzaCBidXR0b24gd2FzIG9yaWdpbmFsbHkgc21hbGxlclxyXG4gICAgICBtYXhIZWlnaHQ6IHRyYXNoQnV0dG9uLmhlaWdodFxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGJhdHRlcnlSZXZlcnNlQnV0dG9uID0gbmV3IEJhdHRlcnlSZXZlcnNlQnV0dG9uKCBjaXJjdWl0LCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2JhdHRlcnlSZXZlcnNlQnV0dG9uJyApLFxyXG5cclxuICAgICAgLy8gTk9URTogVGhpcyBvbmx5IHdvcmtzIGlmIHRoZSB0cmFzaCBidXR0b24gd2FzIG9yaWdpbmFsbHkgc21hbGxlclxyXG4gICAgICBtYXhIZWlnaHQ6IHRyYXNoQnV0dG9uLmhlaWdodFxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIFRoaXMgaXMgcmV1c2VkIGFjcm9zcyBhbGwgYmF0dGVyaWVzLiAgVGhlIGJ1dHRvbiBpdHNlbGYgY2FuIGJlIGhpZGRlbiBieSBQaEVULWlPIGN1c3RvbWl6YXRpb24sIGJ1dCB0aGUgcGFyZW50XHJcbiAgICAvLyBub2RlIGlzIGFub3RoZXIgZ2F0ZSBmb3IgdGhlIHZpc2liaWxpdHkuXHJcbiAgICBjb25zdCBiYXR0ZXJ5UmV2ZXJzZUNvbnRhaW5lck5vZGUgPSBuZXcgTm9kZSgge1xyXG4gICAgICBleGNsdWRlSW52aXNpYmxlQ2hpbGRyZW5Gcm9tQm91bmRzOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogWyBiYXR0ZXJ5UmV2ZXJzZUJ1dHRvbiBdXHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgaXNSZXZlcnNpYmxlTGlzdGVuZXIgPSAoIGlzUmV2ZXJzaWJsZTogYm9vbGVhbiApID0+IGJhdHRlcnlSZXZlcnNlQ29udGFpbmVyTm9kZS5zZXRWaXNpYmxlKCBpc1JldmVyc2libGUgKTtcclxuXHJcbiAgICBjaXJjdWl0LnNlbGVjdGlvblByb3BlcnR5LmxpbmsoICggbmV3Q2lyY3VpdEVsZW1lbnQ6IENpcmN1aXRFbGVtZW50IHwgVmVydGV4IHwgbnVsbCwgb2xkQ2lyY3VpdEVsZW1lbnQ6IENpcmN1aXRFbGVtZW50IHwgVmVydGV4IHwgbnVsbCApID0+IHtcclxuICAgICAgb2xkQ2lyY3VpdEVsZW1lbnQgaW5zdGFuY2VvZiBCYXR0ZXJ5ICYmIG9sZENpcmN1aXRFbGVtZW50LmlzUmV2ZXJzaWJsZVByb3BlcnR5LnVubGluayggaXNSZXZlcnNpYmxlTGlzdGVuZXIgKTtcclxuICAgICAgbmV3Q2lyY3VpdEVsZW1lbnQgaW5zdGFuY2VvZiBCYXR0ZXJ5ICYmIG5ld0NpcmN1aXRFbGVtZW50LmlzUmV2ZXJzaWJsZVByb3BlcnR5LmxpbmsoIGlzUmV2ZXJzaWJsZUxpc3RlbmVyICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3Qgc3dpdGNoUmVhZG91dE5vZGUgPSBuZXcgU3dpdGNoUmVhZG91dE5vZGUoIGNpcmN1aXQsIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdzd2l0Y2hSZWFkb3V0Tm9kZScgKSApO1xyXG5cclxuICAgIGNvbnN0IGxpc3RlbmVyID0gKCBpc0Rpc3Bvc2FibGU6IGJvb2xlYW4gKSA9PiB0cmFzaEJ1dHRvbkNvbnRhaW5lci5zZXRWaXNpYmxlKCBpc0Rpc3Bvc2FibGUgKTtcclxuXHJcbiAgICAvLyBDb25uZWN0IHRoZSBsaXN0ZW5lciBkeW5hbWljYWxseSB0byB0aGUgc2VsZWN0ZWQgY2lyY3VpdCBlbGVtZW50XHJcbiAgICBjaXJjdWl0LnNlbGVjdGlvblByb3BlcnR5LmxpbmsoICggbmV3Q2lyY3VpdEVsZW1lbnQsIG9sZENpcmN1aXRFbGVtZW50ICkgPT4ge1xyXG4gICAgICBuZXdDaXJjdWl0RWxlbWVudCBpbnN0YW5jZW9mIENpcmN1aXRFbGVtZW50ICYmIG5ld0NpcmN1aXRFbGVtZW50LmlzRGlzcG9zYWJsZVByb3BlcnR5LmxpbmsoIGxpc3RlbmVyICk7XHJcbiAgICAgIG9sZENpcmN1aXRFbGVtZW50IGluc3RhbmNlb2YgQ2lyY3VpdEVsZW1lbnQgJiYgb2xkQ2lyY3VpdEVsZW1lbnQuaXNEaXNwb3NhYmxlUHJvcGVydHkudW5saW5rKCBsaXN0ZW5lciApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIEZvciBQaEVULWlPLCBOdW1iZXJDb250cm9scyBhcmUgY3JlYXRlZCBzdGF0aWNhbGx5IG9uIHN0YXJ0dXAgYW5kIHN3aXRjaCBiZXR3ZWVuIHdoaWNoIENpcmN1aXRFbGVtZW50IGl0IGNvbnRyb2xzLlxyXG4gICAgY29uc3QgZnVzZUN1cnJlbnRSYXRpbmdDb250cm9sID0gbmV3IENpcmN1aXRFbGVtZW50TnVtYmVyQ29udHJvbCggY3VycmVudFJhdGluZ1N0cmluZ1Byb3BlcnR5LFxyXG5cclxuICAgICAgLy8gQWRhcHRlciB0byB0YWtlIGZyb20ge3tuYW1lZH19IHRvIHt7dmFsdWV9fSBmb3IgdXNhZ2UgaW4gY29tbW9uIGNvZGVcclxuICAgICAgbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggY3VycmVudFVuaXRzU3RyaW5nUHJvcGVydHksIHsgY3VycmVudDogU3VuQ29uc3RhbnRzLlZBTFVFX05BTUVEX1BMQUNFSE9MREVSIH0gKSxcclxuICAgICAgY3JlYXRlU2luZ2xldG9uQWRhcHRlclByb3BlcnR5KCBGdXNlLkRFRkFVTFRfQ1VSUkVOVF9SQVRJTkcsIEZ1c2UsIGNpcmN1aXQsICggYzogRnVzZSApID0+IGMuY3VycmVudFJhdGluZ1Byb3BlcnR5ICksXHJcbiAgICAgIEZ1c2UuUkFOR0UsIGNpcmN1aXQsXHJcbiAgICAgIDEsIHtcclxuICAgICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdmdXNlQ3VycmVudFJhdGluZ0NvbnRyb2wnICksXHJcbiAgICAgICAgZGVsdGE6IE5PUk1BTF9UV0VBS0VSX0RFTFRBLCAvLyBGb3IgdGhlIHR3ZWFrZXJzXHJcbiAgICAgICAgc2xpZGVyT3B0aW9uczoge1xyXG4gICAgICAgICAgY29uc3RyYWluVmFsdWU6ICggdmFsdWU6IG51bWJlciApID0+IFV0aWxzLnJvdW5kVG9JbnRlcnZhbCggdmFsdWUsIDAuNSApXHJcbiAgICAgICAgfVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgY2FwYWNpdG9yRWRpdENvbnRyb2wgPSBuZXcgQ2lyY3VpdEVsZW1lbnROdW1iZXJDb250cm9sKCBjYXBhY2l0YW5jZVN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBuZXcgUGF0dGVyblN0cmluZ1Byb3BlcnR5KCBjYXBhY2l0YW5jZVVuaXRzU3RyaW5nUHJvcGVydHksIHsgY2FwYWNpdGFuY2U6IFN1bkNvbnN0YW50cy5WQUxVRV9OQU1FRF9QTEFDRUhPTERFUiB9ICksXHJcbiAgICAgIGNyZWF0ZVNpbmdsZXRvbkFkYXB0ZXJQcm9wZXJ0eSggQ2FwYWNpdG9yLkNBUEFDSVRBTkNFX0RFRkFVTFQsIENhcGFjaXRvciwgY2lyY3VpdCwgKCBjOiBDYXBhY2l0b3IgKSA9PiBjLmNhcGFjaXRhbmNlUHJvcGVydHkgKSxcclxuICAgICAgQ2FwYWNpdG9yLkNBUEFDSVRBTkNFX1JBTkdFLCBjaXJjdWl0LCBDYXBhY2l0b3IuTlVNQkVSX09GX0RFQ0lNQUxfUExBQ0VTLCB7XHJcbiAgICAgICAgdGFuZGVtOiBjaXJjdWl0LmluY2x1ZGVBQ0VsZW1lbnRzID8gdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2NhcGFjaXRhbmNlTnVtYmVyQ29udHJvbCcgKSA6IFRhbmRlbS5PUFRfT1VULFxyXG4gICAgICAgIGRlbHRhOiBDQ0tDUXVlcnlQYXJhbWV0ZXJzLmNhcGFjaXRhbmNlU3RlcCxcclxuICAgICAgICAvLyBGb3IgZHJhZ2dpbmcgdGhlIHNsaWRlciBrbm9iXHJcbiAgICAgICAgc2xpZGVyT3B0aW9uczoge1xyXG4gICAgICAgICAgY29uc3RyYWluVmFsdWU6ICggdmFsdWU6IG51bWJlciApID0+IFV0aWxzLnJvdW5kVG9JbnRlcnZhbCggdmFsdWUsIENDS0NRdWVyeVBhcmFtZXRlcnMuY2FwYWNpdGFuY2VTdGVwIClcclxuICAgICAgICB9XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBpbmR1Y3RhbmNlQ29udHJvbCA9IG5ldyBDaXJjdWl0RWxlbWVudE51bWJlckNvbnRyb2woIGluZHVjdGFuY2VTdHJpbmdQcm9wZXJ0eSxcclxuICAgICAgbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggaW5kdWN0YW5jZVVuaXRzU3RyaW5nUHJvcGVydHksIHsgaW5kdWN0YW5jZTogU3VuQ29uc3RhbnRzLlZBTFVFX05BTUVEX1BMQUNFSE9MREVSIH0gKSxcclxuICAgICAgY3JlYXRlU2luZ2xldG9uQWRhcHRlclByb3BlcnR5KCBJbmR1Y3Rvci5JTkRVQ1RBTkNFX0RFRkFVTFQsIEluZHVjdG9yLCBjaXJjdWl0LCAoIGM6IEluZHVjdG9yICkgPT4gYy5pbmR1Y3RhbmNlUHJvcGVydHkgKSxcclxuICAgICAgSW5kdWN0b3IuSU5EVUNUQU5DRV9SQU5HRSwgY2lyY3VpdCwgSW5kdWN0b3IuSU5EVUNUQU5DRV9OVU1CRVJfT0ZfREVDSU1BTF9QTEFDRVMsIHtcclxuICAgICAgICB0YW5kZW06IGNpcmN1aXQuaW5jbHVkZUFDRWxlbWVudHMgPyB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnaW5kdWN0YW5jZU51bWJlckNvbnRyb2wnICkgOiBUYW5kZW0uT1BUX09VVCxcclxuICAgICAgICBkZWx0YTogQ0NLQ1F1ZXJ5UGFyYW1ldGVycy5pbmR1Y3RhbmNlU3RlcCxcclxuXHJcbiAgICAgICAgLy8gRm9yIGRyYWdnaW5nIHRoZSBzbGlkZXIga25vYlxyXG4gICAgICAgIHNsaWRlck9wdGlvbnM6IHtcclxuICAgICAgICAgIGNvbnN0cmFpblZhbHVlOiAoIHZhbHVlOiBudW1iZXIgKSA9PiBVdGlscy5yb3VuZFRvSW50ZXJ2YWwoIHZhbHVlLCAwLjEgKVxyXG4gICAgICAgIH1cclxuICAgICAgfSApO1xyXG5cclxuICAgIHR5cGUgR0NvbnN0cnVjdG9yPFQ+ID0gbmV3ICggLi4uYXJnczogSW50ZW50aW9uYWxBbnlbXSApID0+IFQ7XHJcblxyXG4gICAgY29uc3QgY3JlYXRlUmVzaXN0YW5jZU51bWJlckNvbnRyb2wgPSAoIHRhbmRlbU5hbWU6IHN0cmluZywgQ2lyY3VpdEVsZW1lbnRUeXBlOiBHQ29uc3RydWN0b3I8TGlnaHRCdWxiIHwgUmVzaXN0b3I+ICkgPT4gbmV3IENpcmN1aXRFbGVtZW50TnVtYmVyQ29udHJvbCggcmVzaXN0YW5jZVN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBuZXcgUGF0dGVyblN0cmluZ1Byb3BlcnR5KCByZXNpc3RhbmNlT2htc1ZhbHVlUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7IHJlc2lzdGFuY2U6IFN1bkNvbnN0YW50cy5WQUxVRV9OQU1FRF9QTEFDRUhPTERFUiB9ICksXHJcbiAgICAgIGNyZWF0ZVNpbmdsZXRvbkFkYXB0ZXJQcm9wZXJ0eSggUmVzaXN0b3JUeXBlLlJFU0lTVE9SLmRlZmF1bHRSZXNpc3RhbmNlLCBDaXJjdWl0RWxlbWVudFR5cGUsIGNpcmN1aXQsICggYzogTGlnaHRCdWxiIHwgUmVzaXN0b3IgKSA9PiBjLnJlc2lzdGFuY2VQcm9wZXJ0eSxcclxuICAgICAgICAoIGM6IExpZ2h0QnVsYiB8IFJlc2lzdG9yICkgPT5cclxuICAgICAgICAgICggYyBpbnN0YW5jZW9mIExpZ2h0QnVsYiAmJiAhYy5pc0V4dHJlbWUgKSB8fFxyXG4gICAgICAgICAgKCBjIGluc3RhbmNlb2YgUmVzaXN0b3IgJiYgYy5yZXNpc3RvclR5cGUgIT09IFJlc2lzdG9yVHlwZS5FWFRSRU1FX1JFU0lTVE9SIClcclxuICAgICAgKSxcclxuICAgICAgUmVzaXN0b3JUeXBlLlJFU0lTVE9SLnJhbmdlLCBjaXJjdWl0LCBSZXNpc3Rvci5SRVNJU1RBTkNFX0RFQ0lNQUxfUExBQ0VTLCB7XHJcbiAgICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCB0YW5kZW1OYW1lICksXHJcbiAgICAgICAgZGVsdGE6IE5PUk1BTF9UV0VBS0VSX0RFTFRBLFxyXG4gICAgICAgIHNsaWRlck9wdGlvbnM6IHtcclxuICAgICAgICAgIGNvbnN0cmFpblZhbHVlOiAoIHZhbHVlOiBudW1iZXIgKSA9PiBVdGlscy5yb3VuZFRvSW50ZXJ2YWwoIHZhbHVlLCBOT1JNQUxfU0xJREVSX0tOT0JfREVMVEEgKSAvLyBGb3IgZHJhZ2dpbmcgdGhlIHNsaWRlciBrbm9iXHJcbiAgICAgICAgfSxcclxuICAgICAgICBudW1iZXJEaXNwbGF5T3B0aW9uczogeyBkZWNpbWFsUGxhY2VzOiBSZXNpc3Rvci5SRVNJU1RBTkNFX0RFQ0lNQUxfUExBQ0VTIH1cclxuICAgICAgfSApO1xyXG4gICAgY29uc3QgY3JlYXRlRXh0cmVtZVJlc2lzdGFuY2VOdW1iZXJDb250cm9sID0gKCB0YW5kZW1OYW1lOiBzdHJpbmcsIENpcmN1aXRFbGVtZW50VHlwZTogR0NvbnN0cnVjdG9yPExpZ2h0QnVsYiB8IFJlc2lzdG9yPiApID0+IG5ldyBDaXJjdWl0RWxlbWVudE51bWJlckNvbnRyb2woIHJlc2lzdGFuY2VTdHJpbmdQcm9wZXJ0eSxcclxuICAgICAgbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggcmVzaXN0YW5jZU9obXNWYWx1ZVBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwgeyByZXNpc3RhbmNlOiBTdW5Db25zdGFudHMuVkFMVUVfTkFNRURfUExBQ0VIT0xERVIgfSApLFxyXG4gICAgICBjcmVhdGVTaW5nbGV0b25BZGFwdGVyUHJvcGVydHkoIFJlc2lzdG9yVHlwZS5FWFRSRU1FX1JFU0lTVE9SLmRlZmF1bHRSZXNpc3RhbmNlLCBDaXJjdWl0RWxlbWVudFR5cGUsIGNpcmN1aXQsICggYzogTGlnaHRCdWxiIHwgUmVzaXN0b3IgKSA9PiBjLnJlc2lzdGFuY2VQcm9wZXJ0eSxcclxuICAgICAgICAoIGM6IExpZ2h0QnVsYiB8IFJlc2lzdG9yICkgPT5cclxuICAgICAgICAgICggYyBpbnN0YW5jZW9mIExpZ2h0QnVsYiAmJiBjLmlzRXh0cmVtZSApIHx8XHJcbiAgICAgICAgICAoIGMgaW5zdGFuY2VvZiBSZXNpc3RvciAmJiBjLnJlc2lzdG9yVHlwZSA9PT0gUmVzaXN0b3JUeXBlLkVYVFJFTUVfUkVTSVNUT1IgKVxyXG4gICAgICApLFxyXG4gICAgICBSZXNpc3RvclR5cGUuRVhUUkVNRV9SRVNJU1RPUi5yYW5nZSwgY2lyY3VpdCwgUmVzaXN0b3IuSElHSF9SRVNJU1RBTkNFX0RFQ0lNQUxfUExBQ0VTLCB7XHJcbiAgICAgICAgdGFuZGVtOiBjaXJjdWl0LmluY2x1ZGVMYWJFbGVtZW50cyA/IHRhbmRlbS5jcmVhdGVUYW5kZW0oIHRhbmRlbU5hbWUgKSA6IFRhbmRlbS5PUFRfT1VULFxyXG4gICAgICAgIGRlbHRhOiBISUdIX1RXRUFLRVJfREVMVEEsXHJcbiAgICAgICAgc2xpZGVyT3B0aW9uczoge1xyXG4gICAgICAgICAgY29uc3RyYWluVmFsdWU6ICggdmFsdWU6IG51bWJlciApID0+IFV0aWxzLnJvdW5kVG9JbnRlcnZhbCggdmFsdWUsIEhJR0hfU0xJREVSX0tOT0JfREVMVEEgKSAvLyBGb3IgZHJhZ2dpbmcgdGhlIHNsaWRlciBrbm9iXHJcbiAgICAgICAgfSxcclxuICAgICAgICBudW1iZXJEaXNwbGF5T3B0aW9uczogeyBkZWNpbWFsUGxhY2VzOiBSZXNpc3Rvci5ISUdIX1JFU0lTVEFOQ0VfREVDSU1BTF9QTEFDRVMgfVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgcmVzaXN0b3JSZXNpc3RhbmNlTnVtYmVyQ29udHJvbCA9IGNyZWF0ZVJlc2lzdGFuY2VOdW1iZXJDb250cm9sKCAncmVzaXN0b3JSZXNpc3RhbmNlTnVtYmVyQ29udHJvbCcsIFJlc2lzdG9yICk7XHJcbiAgICBjb25zdCBsaWdodEJ1bGJSZXNpc3RhbmNlTnVtYmVyQ29udHJvbCA9IGNyZWF0ZVJlc2lzdGFuY2VOdW1iZXJDb250cm9sKCAnbGlnaHRCdWxiUmVzaXN0YW5jZU51bWJlckNvbnRyb2wnLCBMaWdodEJ1bGIgKTtcclxuICAgIGNvbnN0IGV4dHJlbWVSZXNpc3RvclJlc2lzdGFuY2VOdW1iZXJDb250cm9sID0gY3JlYXRlRXh0cmVtZVJlc2lzdGFuY2VOdW1iZXJDb250cm9sKCAnZXh0cmVtZVJlc2lzdG9yUmVzaXN0YW5jZU51bWJlckNvbnRyb2wnLCBSZXNpc3RvciApO1xyXG4gICAgY29uc3QgZXh0cmVtZUxpZ2h0QnVsYlJlc2lzdGFuY2VOdW1iZXJDb250cm9sID0gY3JlYXRlRXh0cmVtZVJlc2lzdGFuY2VOdW1iZXJDb250cm9sKCAnZXh0cmVtZUxpZ2h0QnVsYlJlc2lzdGFuY2VOdW1iZXJDb250cm9sJywgTGlnaHRCdWxiICk7XHJcblxyXG4gICAgY29uc3Qgdm9sdGFnZU51bWJlckNvbnRyb2wgPSBuZXcgQ2lyY3VpdEVsZW1lbnROdW1iZXJDb250cm9sKCB2b2x0YWdlU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIHZvbHRhZ2VWb2x0c1ZhbHVlUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7IHZvbHRhZ2U6IFN1bkNvbnN0YW50cy5WQUxVRV9OQU1FRF9QTEFDRUhPTERFUiB9ICksXHJcbiAgICAgIGNyZWF0ZVNpbmdsZXRvbkFkYXB0ZXJQcm9wZXJ0eSggQmF0dGVyeS5WT0xUQUdFX0RFRkFVTFQsIEJhdHRlcnksIGNpcmN1aXQsICggYzogQmF0dGVyeSApID0+IGMudm9sdGFnZVByb3BlcnR5LCAoIGM6IEJhdHRlcnkgKSA9PiBjLmJhdHRlcnlUeXBlID09PSAnbm9ybWFsJyApLFxyXG4gICAgICBCYXR0ZXJ5LlZPTFRBR0VfUkFOR0UsXHJcbiAgICAgIGNpcmN1aXQsXHJcbiAgICAgIEJhdHRlcnkuVk9MVEFHRV9ERUNJTUFMX1BMQUNFUywge1xyXG4gICAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2JhdHRlcnlWb2x0YWdlTnVtYmVyQ29udHJvbCcgKSxcclxuICAgICAgICBkZWx0YTogTk9STUFMX1RXRUFLRVJfREVMVEEsXHJcbiAgICAgICAgc2xpZGVyT3B0aW9uczogeyAvLyBGb3IgZHJhZ2dpbmcgdGhlIHNsaWRlciBrbm9iXHJcbiAgICAgICAgICBjb25zdHJhaW5WYWx1ZTogKCB2YWx1ZTogbnVtYmVyICkgPT4gVXRpbHMucm91bmRUb0ludGVydmFsKCB2YWx1ZSwgTk9STUFMX1NMSURFUl9LTk9CX0RFTFRBIClcclxuICAgICAgICB9LFxyXG4gICAgICAgIG51bWJlckRpc3BsYXlPcHRpb25zOiB7IGRlY2ltYWxQbGFjZXM6IEJhdHRlcnkuVk9MVEFHRV9ERUNJTUFMX1BMQUNFUyB9XHJcbiAgICAgIH0gKTtcclxuICAgIGNvbnN0IGV4dHJlbWVCYXR0ZXJ5Vm9sdGFnZU51bWJlckNvbnRyb2wgPSBuZXcgQ2lyY3VpdEVsZW1lbnROdW1iZXJDb250cm9sKCB2b2x0YWdlU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIHZvbHRhZ2VWb2x0c1ZhbHVlUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7IHZvbHRhZ2U6IFN1bkNvbnN0YW50cy5WQUxVRV9OQU1FRF9QTEFDRUhPTERFUiB9ICksXHJcbiAgICAgIGNyZWF0ZVNpbmdsZXRvbkFkYXB0ZXJQcm9wZXJ0eSggQmF0dGVyeS5ISUdIX1ZPTFRBR0VfREVGQVVMVCwgQmF0dGVyeSwgY2lyY3VpdCwgKCBjOiBCYXR0ZXJ5ICkgPT4gYy52b2x0YWdlUHJvcGVydHksICggYzogQmF0dGVyeSApID0+IGMuYmF0dGVyeVR5cGUgPT09ICdoaWdoLXZvbHRhZ2UnICksXHJcbiAgICAgIEJhdHRlcnkuSElHSF9WT0xUQUdFX1JBTkdFLFxyXG4gICAgICBjaXJjdWl0LFxyXG4gICAgICBCYXR0ZXJ5LkhJR0hfVk9MVEFHRV9ERUNJTUFMX1BMQUNFUywge1xyXG4gICAgICAgIHRhbmRlbTogY2lyY3VpdC5pbmNsdWRlTGFiRWxlbWVudHMgPyB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnZXh0cmVtZUJhdHRlcnlWb2x0YWdlTnVtYmVyQ29udHJvbCcgKSA6IFRhbmRlbS5PUFRfT1VULFxyXG4gICAgICAgIGRlbHRhOiBISUdIX1RXRUFLRVJfREVMVEEsXHJcbiAgICAgICAgc2xpZGVyT3B0aW9uczogeyAvLyBGb3IgZHJhZ2dpbmcgdGhlIHNsaWRlciBrbm9iXHJcbiAgICAgICAgICBjb25zdHJhaW5WYWx1ZTogKCB2YWx1ZTogbnVtYmVyICkgPT4gVXRpbHMucm91bmRUb0ludGVydmFsKCB2YWx1ZSwgSElHSF9TTElERVJfS05PQl9ERUxUQSApXHJcbiAgICAgICAgfSxcclxuICAgICAgICBudW1iZXJEaXNwbGF5T3B0aW9uczogeyBkZWNpbWFsUGxhY2VzOiBCYXR0ZXJ5LkhJR0hfVk9MVEFHRV9ERUNJTUFMX1BMQUNFUyB9XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBwaGFzZVNoaWZ0Q29udHJvbCA9IG5ldyBQaGFzZVNoaWZ0Q29udHJvbCggY3JlYXRlU2luZ2xldG9uQWRhcHRlclByb3BlcnR5KCAwLCBBQ1ZvbHRhZ2UsIGNpcmN1aXQsICggYzogQUNWb2x0YWdlICkgPT4gYy5waGFzZVByb3BlcnR5ICksIGNpcmN1aXQsIHtcclxuICAgICAgdGFuZGVtOiBjaXJjdWl0LmluY2x1ZGVBQ0VsZW1lbnRzID8gdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3BoYXNlU2hpZnRDb250cm9sJyApIDogVGFuZGVtLk9QVF9PVVRcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBhY1ZvbHRhZ2VDb250cm9sID0gbmV3IENpcmN1aXRFbGVtZW50TnVtYmVyQ29udHJvbChcclxuICAgICAgdm9sdGFnZVN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBuZXcgUGF0dGVyblN0cmluZ1Byb3BlcnR5KCB2b2x0YWdlVm9sdHNWYWx1ZVBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICAgIHZvbHRhZ2U6IFN1bkNvbnN0YW50cy5WQUxVRV9OQU1FRF9QTEFDRUhPTERFUlxyXG4gICAgICB9ICksXHJcbiAgICAgIGNyZWF0ZVNpbmdsZXRvbkFkYXB0ZXJQcm9wZXJ0eSggOSwgQUNWb2x0YWdlLCBjaXJjdWl0LCBjaXJjdWl0RWxlbWVudCA9PiBjaXJjdWl0RWxlbWVudC5tYXhpbXVtVm9sdGFnZVByb3BlcnR5ICksXHJcbiAgICAgIEFDVm9sdGFnZS5NQVhfVk9MVEFHRV9SQU5HRSxcclxuICAgICAgY2lyY3VpdCxcclxuICAgICAgMiwge1xyXG4gICAgICAgIHRhbmRlbTogY2lyY3VpdC5pbmNsdWRlQUNFbGVtZW50cyA/IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdhY1ZvbHRhZ2VDb250cm9sJyApIDogVGFuZGVtLk9QVF9PVVQsXHJcbiAgICAgICAgZ2V0QWRkaXRpb25hbFZpc2liaWxpdHlQcm9wZXJ0aWVzOiAoIGM6IENpcmN1aXRFbGVtZW50ICkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGMgaW5zdGFuY2VvZiBBQ1ZvbHRhZ2UgPyBbIGMuaXNWb2x0YWdlRWRpdGFibGVQcm9wZXJ0eSBdIDogW107XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IGFjRnJlcXVlbmN5Q29udHJvbCA9IG5ldyBDaXJjdWl0RWxlbWVudE51bWJlckNvbnRyb2woXHJcbiAgICAgIGZyZXF1ZW5jeVN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBuZXcgUGF0dGVyblN0cmluZ1Byb3BlcnR5KCBmcmVxdWVuY3lIelZhbHVlUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgZnJlcXVlbmN5OiBTdW5Db25zdGFudHMuVkFMVUVfTkFNRURfUExBQ0VIT0xERVJcclxuICAgICAgfSApLFxyXG4gICAgICBjcmVhdGVTaW5nbGV0b25BZGFwdGVyUHJvcGVydHkoIEFDVm9sdGFnZS5ERUZBVUxUX0ZSRVFVRU5DWSwgQUNWb2x0YWdlLCBjaXJjdWl0LCBjaXJjdWl0RWxlbWVudCA9PiBjaXJjdWl0RWxlbWVudC5mcmVxdWVuY3lQcm9wZXJ0eSApLFxyXG4gICAgICBBQ1ZvbHRhZ2UuRlJFUVVFTkNZX1JBTkdFLFxyXG4gICAgICBjaXJjdWl0LFxyXG4gICAgICAyLCB7XHJcbiAgICAgICAgdGFuZGVtOiBjaXJjdWl0LmluY2x1ZGVBQ0VsZW1lbnRzID8gdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2ZyZXF1ZW5jeUNvbnRyb2wnICkgOiBUYW5kZW0uT1BUX09VVCxcclxuICAgICAgICBkZWx0YTogMC4wMSxcclxuICAgICAgICBnZXRBZGRpdGlvbmFsVmlzaWJpbGl0eVByb3BlcnRpZXM6ICggYzogQ2lyY3VpdEVsZW1lbnQgKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gYyBpbnN0YW5jZW9mIEFDVm9sdGFnZSA/IFsgYy5pc0ZyZXF1ZW5jeUVkaXRhYmxlUHJvcGVydHkgXSA6IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCB0YXBJbnN0cnVjdGlvblRleHQgPSBuZXcgVGV4dCggdGFwQ2lyY3VpdEVsZW1lbnRUb0VkaXRTdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICBmb250U2l6ZTogMjQsXHJcbiAgICAgIG1heFdpZHRoOiAzMDAsXHJcbiAgICAgIGZpbGw6IENDS0NDb2xvcnMudGV4dEZpbGxQcm9wZXJ0eSxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAndGFwSW5zdHJ1Y3Rpb25UZXh0JyApLFxyXG4gICAgICBwaGV0aW9WaXNpYmxlUHJvcGVydHlJbnN0cnVtZW50ZWQ6IHRydWUsXHJcbiAgICAgIHZpc2libGVQcm9wZXJ0eU9wdGlvbnM6IHtcclxuXHJcbiAgICAgICAgLy8gVmlzaWJpbGl0eSBpcyBjb250cm9sbGVkIGJ5IHRoZSBsaW5rIGJlbG93XHJcbiAgICAgICAgcGhldGlvUmVhZE9ubHk6IHRydWVcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIE9ubHkgc2hvdyB0aGUgaW5zdHJ1Y3Rpb25zIGlmIHRoZXJlIGlzIGEgY2lyY3VpdCBlbGVtZW50IGluIHRoZSBwbGF5IGFyZWEsIHNvIHN0dWRlbnRzIGRvbid0IHRyeSB0byB0YXBcclxuICAgIC8vIHNvbWV0aGluZyBpbiB0aGUgdG9vbGJveC5cclxuICAgIGNvbnN0IHVwZGF0ZUluc3RydWN0aW9uVGV4dFZpc2libGUgPSAoKSA9PiB7XHJcblxyXG4gICAgICBpZiAoICFwaGV0LmpvaXN0LnNpbS5pc1NldHRpbmdQaGV0aW9TdGF0ZVByb3BlcnR5LnZhbHVlICkge1xyXG5cclxuICAgICAgICAvLyBPbmx5IGZpeGVkIGxlbmd0aCBjaXJjdWl0IGVsZW1lbnRzIGFyZSBlZGl0YWJsZSwgZXZlbiB0aG91Z2ggd2lyZXMgY2FuIGJlIGRlbGV0ZWRcclxuICAgICAgICBjb25zdCBmaXhlZExlbmd0aEVsZW1lbnRzID0gY2lyY3VpdC5jaXJjdWl0RWxlbWVudHMuZmlsdGVyKCBjaXJjdWl0RWxlbWVudCA9PlxyXG4gICAgICAgICAgY2lyY3VpdEVsZW1lbnQgaW5zdGFuY2VvZiBGaXhlZENpcmN1aXRFbGVtZW50ICYmIGNpcmN1aXRFbGVtZW50LmludGVyYWN0aXZlUHJvcGVydHkuZ2V0KClcclxuICAgICAgICApO1xyXG4gICAgICAgIHRhcEluc3RydWN0aW9uVGV4dC52aXNpYmxlID0gZml4ZWRMZW5ndGhFbGVtZW50cy5sZW5ndGggPiAwO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNpcmN1aXQudmVydGV4RHJvcHBlZEVtaXR0ZXIuYWRkTGlzdGVuZXIoIHVwZGF0ZUluc3RydWN0aW9uVGV4dFZpc2libGUgKTtcclxuXHJcbiAgICAvLyBBbHNvIHVwZGF0ZSBvbiByZXNldCBhbGwsIG9yIGlmIGEgY29tcG9uZW50IGlzIGRyb3BwZWQgaW4gdGhlIHRvb2xib3hcclxuICAgIGNpcmN1aXQudmVydGV4R3JvdXAuZWxlbWVudERpc3Bvc2VkRW1pdHRlci5hZGRMaXN0ZW5lciggdXBkYXRlSW5zdHJ1Y3Rpb25UZXh0VmlzaWJsZSApO1xyXG4gICAgbW9kZVByb3BlcnR5LmxpbmsoIHVwZGF0ZUluc3RydWN0aW9uVGV4dFZpc2libGUgKTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVQb3NpdGlvbiA9ICgpID0+IHtcclxuXHJcbiAgICAgIC8vIExheW91dCwgYnV0IG9ubHkgaWYgd2UgaGF2ZSBzb21ldGhpbmcgdG8gZGlzcGxheSAob3RoZXJ3aXNlIGJvdW5kcyBmYWlsIG91dClcclxuICAgICAgdGhpcy5ib3VuZHMuaXNWYWxpZCgpICYmIHRoaXMubXV0YXRlKCBHRVRfTEFZT1VUX1BPU0lUSU9OKCB2aXNpYmxlQm91bmRzUHJvcGVydHkuZ2V0KCksIHBsYXlBcmVhQ2VudGVyWFByb3BlcnR5LnZhbHVlICkgKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gV2hlbiB0aGUgc2VsZWN0ZWQgZWxlbWVudCBjaGFuZ2VzLCB1cGRhdGUgdGhlIGRpc3BsYXllZCBjb250cm9sc1xyXG4gICAgbGV0IGVkaXROb2RlOiBOb2RlIHwgbnVsbCA9IG51bGw7XHJcbiAgICBjb25zdCBkaXNwb3NlQWN0aW9uczogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcclxuICAgIGNpcmN1aXQuc2VsZWN0aW9uUHJvcGVydHkubGluayggc2VsZWN0ZWRDaXJjdWl0RWxlbWVudCA9PiB7XHJcbiAgICAgIGlmICggZWRpdE5vZGUgKSB7XHJcbiAgICAgICAgdGhpcy5oYXNDaGlsZCggZWRpdE5vZGUgKSAmJiB0aGlzLnJlbW92ZUNoaWxkKCBlZGl0Tm9kZSApO1xyXG4gICAgICAgIGlmICggZWRpdE5vZGUgIT09IHRhcEluc3RydWN0aW9uVGV4dCAmJiBlZGl0Tm9kZSAhPT0gdHJhc2hCdXR0b25Db250YWluZXIgKSB7XHJcbiAgICAgICAgICBlZGl0Tm9kZS5kaXNwb3NlKCk7XHJcbiAgICAgICAgICBkaXNwb3NlQWN0aW9ucy5mb3JFYWNoKCBkaXNwb3NlQWN0aW9uID0+IGRpc3Bvc2VBY3Rpb24oKSApO1xyXG4gICAgICAgICAgZGlzcG9zZUFjdGlvbnMubGVuZ3RoID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVkaXROb2RlID0gbnVsbDtcclxuXHJcbiAgICAgIGlmICggc2VsZWN0ZWRDaXJjdWl0RWxlbWVudCApIHtcclxuXHJcbiAgICAgICAgaWYgKCBzZWxlY3RlZENpcmN1aXRFbGVtZW50IGluc3RhbmNlb2YgUmVzaXN0b3IgJiYgc2VsZWN0ZWRDaXJjdWl0RWxlbWVudC5pc1Jlc2lzdGFuY2VFZGl0YWJsZSgpICkge1xyXG4gICAgICAgICAgY29uc3QgaXNFeHRyZW1lID0gc2VsZWN0ZWRDaXJjdWl0RWxlbWVudC5yZXNpc3RvclR5cGUgPT09IFJlc2lzdG9yVHlwZS5FWFRSRU1FX1JFU0lTVE9SO1xyXG4gICAgICAgICAgZWRpdE5vZGUgPSBuZXcgRWRpdFBhbmVsKCBbXHJcbiAgICAgICAgICAgIGlzRXh0cmVtZSA/IGV4dHJlbWVSZXNpc3RvclJlc2lzdGFuY2VOdW1iZXJDb250cm9sIDogcmVzaXN0b3JSZXNpc3RhbmNlTnVtYmVyQ29udHJvbCxcclxuICAgICAgICAgICAgdHJhc2hCdXR0b25Db250YWluZXJcclxuICAgICAgICAgIF0gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlYWwgYnVsYiBoYXMgbm8gcmVzaXN0YW5jZSBjb250cm9sXHJcbiAgICAgICAgZWxzZSBpZiAoIHNlbGVjdGVkQ2lyY3VpdEVsZW1lbnQgaW5zdGFuY2VvZiBMaWdodEJ1bGIgJiYgIXNlbGVjdGVkQ2lyY3VpdEVsZW1lbnQuaXNSZWFsICkge1xyXG4gICAgICAgICAgZWRpdE5vZGUgPSBuZXcgRWRpdFBhbmVsKCBbXHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRDaXJjdWl0RWxlbWVudC5pc0V4dHJlbWUgPyBleHRyZW1lTGlnaHRCdWxiUmVzaXN0YW5jZU51bWJlckNvbnRyb2wgOiBsaWdodEJ1bGJSZXNpc3RhbmNlTnVtYmVyQ29udHJvbCxcclxuICAgICAgICAgICAgICB0cmFzaEJ1dHRvbkNvbnRhaW5lclxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICggc2VsZWN0ZWRDaXJjdWl0RWxlbWVudCBpbnN0YW5jZW9mIFJlc2lzdG9yIHx8ICggc2VsZWN0ZWRDaXJjdWl0RWxlbWVudCBpbnN0YW5jZW9mIExpZ2h0QnVsYiAmJiBzZWxlY3RlZENpcmN1aXRFbGVtZW50LmlzUmVhbCApICkge1xyXG5cclxuICAgICAgICAgIC8vIEp1c3Qgc2hvdyBhIHRyYXNoIGJ1dHRvbiBmb3Igbm9uLWVkaXRhYmxlIHJlc2lzdG9ycyB3aGljaCBhcmUgaG91c2Vob2xkIGl0ZW1zIGFuZCBmb3IgaXNSZWFsIGJ1bGJzXHJcbiAgICAgICAgICBlZGl0Tm9kZSA9IHRyYXNoQnV0dG9uQ29udGFpbmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICggc2VsZWN0ZWRDaXJjdWl0RWxlbWVudCBpbnN0YW5jZW9mIEJhdHRlcnkgKSB7XHJcbiAgICAgICAgICBjb25zdCBub2RlID0gbmV3IE5vZGUoIHtcclxuICAgICAgICAgICAgY2hpbGRyZW46IFsgYmF0dGVyeVJldmVyc2VDb250YWluZXJOb2RlIF0sXHJcbiAgICAgICAgICAgIGV4Y2x1ZGVJbnZpc2libGVDaGlsZHJlbkZyb21Cb3VuZHM6IHRydWVcclxuICAgICAgICAgIH0gKTtcclxuICAgICAgICAgIGVkaXROb2RlID0gbmV3IEVkaXRQYW5lbCggW1xyXG5cclxuICAgICAgICAgICAgICAvLyBCYXR0ZXJpZXMgY2FuIGJlIHJldmVyc2VkLCBuZXN0IGluIGEgTm9kZSBzbyB0aGUgbGF5b3V0IHdpbGwgcmVmbG93IGNvcnJlY3RseVxyXG4gICAgICAgICAgICAgIG5vZGUsXHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRDaXJjdWl0RWxlbWVudC5iYXR0ZXJ5VHlwZSA9PT0gJ2hpZ2gtdm9sdGFnZScgPyBleHRyZW1lQmF0dGVyeVZvbHRhZ2VOdW1iZXJDb250cm9sIDogdm9sdGFnZU51bWJlckNvbnRyb2wsXHJcbiAgICAgICAgICAgICAgdHJhc2hCdXR0b25Db250YWluZXJcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGRpc3Bvc2VBY3Rpb25zLnB1c2goICgpID0+IG5vZGUuZGlzcG9zZSgpICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCBzZWxlY3RlZENpcmN1aXRFbGVtZW50IGluc3RhbmNlb2YgRnVzZSApIHtcclxuICAgICAgICAgIGVkaXROb2RlID0gbmV3IEVkaXRQYW5lbCggW1xyXG4gICAgICAgICAgICAgIGZ1c2VSZXBhaXJCdXR0b25Db250YWluZXIsXHJcbiAgICAgICAgICAgICAgZnVzZUN1cnJlbnRSYXRpbmdDb250cm9sLFxyXG4gICAgICAgICAgICAgIHRyYXNoQnV0dG9uQ29udGFpbmVyXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCBzZWxlY3RlZENpcmN1aXRFbGVtZW50IGluc3RhbmNlb2YgU3dpdGNoICkge1xyXG4gICAgICAgICAgZWRpdE5vZGUgPSBuZXcgSEJveCgge1xyXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgICAgICAgIHN3aXRjaFJlYWRvdXROb2RlLFxyXG4gICAgICAgICAgICAgIHRyYXNoQnV0dG9uQ29udGFpbmVyXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHNwYWNpbmc6IDI1LFxyXG4gICAgICAgICAgICBhbGlnbjogJ2JvdHRvbSdcclxuICAgICAgICAgIH0gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIHNlbGVjdGVkQ2lyY3VpdEVsZW1lbnQgaW5zdGFuY2VvZiBTZXJpZXNBbW1ldGVyIHx8IHNlbGVjdGVkQ2lyY3VpdEVsZW1lbnQgaW5zdGFuY2VvZiBXaXJlICkge1xyXG5cclxuICAgICAgICAgIC8vIEp1c3Qgc2hvdyBhIHRyYXNoIGJ1dHRvblxyXG4gICAgICAgICAgZWRpdE5vZGUgPSB0cmFzaEJ1dHRvbkNvbnRhaW5lcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIHNlbGVjdGVkQ2lyY3VpdEVsZW1lbnQgaW5zdGFuY2VvZiBBQ1ZvbHRhZ2UgKSB7XHJcbiAgICAgICAgICBjb25zdCBjaGlsZHJlbjogTm9kZVtdID0gW1xyXG4gICAgICAgICAgICBhY1ZvbHRhZ2VDb250cm9sLFxyXG4gICAgICAgICAgICBhY0ZyZXF1ZW5jeUNvbnRyb2xcclxuICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgaWYgKCBvcHRpb25zLnNob3dQaGFzZVNoaWZ0Q29udHJvbCApIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaCggcGhhc2VTaGlmdENvbnRyb2wgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNoaWxkcmVuLnB1c2goIHRyYXNoQnV0dG9uQ29udGFpbmVyICk7XHJcbiAgICAgICAgICBlZGl0Tm9kZSA9IG5ldyBFZGl0UGFuZWwoIGNoaWxkcmVuICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCBzZWxlY3RlZENpcmN1aXRFbGVtZW50IGluc3RhbmNlb2YgQ2FwYWNpdG9yICkge1xyXG4gICAgICAgICAgZWRpdE5vZGUgPSBuZXcgRWRpdFBhbmVsKCBbXHJcbiAgICAgICAgICAgIGNsZWFyRHluYW1pY3NCdXR0b24sXHJcbiAgICAgICAgICAgIGNhcGFjaXRvckVkaXRDb250cm9sLFxyXG4gICAgICAgICAgICB0cmFzaEJ1dHRvbkNvbnRhaW5lclxyXG4gICAgICAgICAgXSApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICggc2VsZWN0ZWRDaXJjdWl0RWxlbWVudCBpbnN0YW5jZW9mIEluZHVjdG9yICkge1xyXG4gICAgICAgICAgZWRpdE5vZGUgPSBuZXcgRWRpdFBhbmVsKCBbXHJcbiAgICAgICAgICAgICAgY2xlYXJEeW5hbWljc0J1dHRvbixcclxuICAgICAgICAgICAgICBpbmR1Y3RhbmNlQ29udHJvbCxcclxuICAgICAgICAgICAgICB0cmFzaEJ1dHRvbkNvbnRhaW5lclxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBlZGl0Tm9kZSA9IHRhcEluc3RydWN0aW9uVGV4dDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIGVkaXROb2RlICE9PSBudWxsICkge1xyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoIGVkaXROb2RlICk7XHJcblxyXG4gICAgICAgIGlmICggZWRpdE5vZGUgPT09IHRhcEluc3RydWN0aW9uVGV4dCB8fCBlZGl0Tm9kZSBpbnN0YW5jZW9mIFN3aXRjaFJlYWRvdXROb2RlICkge1xyXG4gICAgICAgICAgdGhpcy5tb3VzZUFyZWEgPSBudWxsO1xyXG4gICAgICAgICAgdGhpcy50b3VjaEFyZWEgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAvLyBDbGlja2luZyBuZWFyYnkgKGJ1dCBub3QgZGlyZWN0bHkgb24pIGEgdHdlYWtlciBidXR0b24gb3Igc2xpZGVyIHNob3VsZG4ndCBkaXNtaXNzIHRoZSBlZGl0IHBhbmVsLFxyXG4gICAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9jaXJjdWl0LWNvbnN0cnVjdGlvbi1raXQtZGMvaXNzdWVzLzkwXHJcbiAgICAgICAgICB0aGlzLm1vdXNlQXJlYSA9IHRoaXMubG9jYWxCb3VuZHMuZGlsYXRlZFhZKCAyMCwgQ0NLQ0NvbnN0YW50cy5WRVJUSUNBTF9NQVJHSU4gKTtcclxuICAgICAgICAgIHRoaXMudG91Y2hBcmVhID0gdGhpcy5sb2NhbEJvdW5kcy5kaWxhdGVkWFkoIDIwLCBDQ0tDQ29uc3RhbnRzLlZFUlRJQ0FMX01BUkdJTiApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVQb3NpdGlvbigpO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHZpc2libGVCb3VuZHNQcm9wZXJ0eS5saW5rKCB1cGRhdGVQb3NpdGlvbiApO1xyXG4gICAgdGhpcy5sb2NhbEJvdW5kc1Byb3BlcnR5LmxpbmsoIHVwZGF0ZVBvc2l0aW9uICk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUGFuZWwgdG8gZmFjaWxpdGF0ZSBpbiB2aXN1YWwgbGF5b3V0IG9mIHRoZSBjb250cm9scy5cclxuICovXHJcbmNsYXNzIEVkaXRQYW5lbCBleHRlbmRzIFBhbmVsIHtcclxuICBwcml2YXRlIHJlYWRvbmx5IGhib3g6IEhCb3g7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggY2hpbGRyZW46IE5vZGVbXSApIHtcclxuICAgIGNvbnN0IGhib3ggPSBuZXcgSEJveCgge1xyXG4gICAgICBzcGFjaW5nOiAyNSxcclxuICAgICAgYWxpZ246ICdib3R0b20nLFxyXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cclxuICAgIH0gKTtcclxuICAgIHN1cGVyKCBoYm94LCB7XHJcbiAgICAgIGZpbGw6IENDS0NDb2xvcnMuZWRpdFBhbmVsRmlsbFByb3BlcnR5LFxyXG4gICAgICBzdHJva2U6IG51bGwsXHJcbiAgICAgIHhNYXJnaW46IDEwLFxyXG4gICAgICB5TWFyZ2luOiAxMCxcclxuICAgICAgY29ybmVyUmFkaXVzOiAxMCxcclxuICAgICAgYWxpZ246ICdjZW50ZXInXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmhib3ggPSBoYm94O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICB0aGlzLmhib3guZGlzcG9zZSgpO1xyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxuY2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vbi5yZWdpc3RlciggJ0NpcmN1aXRFbGVtZW50RWRpdENvbnRhaW5lck5vZGUnLCBDaXJjdWl0RWxlbWVudEVkaXRDb250YWluZXJOb2RlICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsUUFBUSxNQUFNLDhCQUE4QjtBQUVuRCxPQUFPQyxLQUFLLE1BQU0sMEJBQTBCO0FBQzVDLFNBQVNDLElBQUksRUFBRUMsSUFBSSxFQUFlQyxJQUFJLFFBQVEsZ0NBQWdDO0FBQzlFLE9BQU9DLEtBQUssTUFBTSwwQkFBMEI7QUFDNUMsT0FBT0MsWUFBWSxNQUFNLGlDQUFpQztBQUMxRCxPQUFPQyxNQUFNLE1BQU0sOEJBQThCO0FBQ2pELE9BQU9DLGFBQWEsTUFBTSxxQkFBcUI7QUFDL0MsT0FBT0MsbUJBQW1CLE1BQU0sMkJBQTJCO0FBQzNELE9BQU9DLDRCQUE0QixNQUFNLG9DQUFvQztBQUM3RSxPQUFPQyxtQ0FBbUMsTUFBTSwyQ0FBMkM7QUFDM0YsT0FBT0MsU0FBUyxNQUFNLHVCQUF1QjtBQUM3QyxPQUFPQyxPQUFPLE1BQU0scUJBQXFCO0FB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