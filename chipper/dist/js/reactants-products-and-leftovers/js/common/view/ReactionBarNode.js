// Copyright 2014-2023, University of Colorado Boulder

/**
 * ReactionBarNode is the horizontal bar that appears at the top of the screen. It contains radio buttons for selecting
 * a reaction, and displays the selected reaction's equation.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import optionize from '../../../../phet-core/js/optionize.js';
import { Node, Rectangle } from '../../../../scenery/js/imports.js';
import reactantsProductsAndLeftovers from '../../reactantsProductsAndLeftovers.js';
import RPALColors from '../RPALColors.js';
import ReactionRadioButtonGroup from './ReactionRadioButtonGroup.js';
const X_MARGIN = 20;
const Y_MARGIN = 10;
export default class ReactionBarNode extends Node {
  constructor(reactionProperty, reactions, createEquationNode, providedOptions) {
    const options = optionize()({}, providedOptions);

    // radio buttons for choosing a reaction
    const radioButtonGroup = new ReactionRadioButtonGroup(reactionProperty, reactions, options.tandem.createTandem('radioButtonGroup'));

    // The horizontal bar, sized to fit the width of the browser window.
    const barNode = new Rectangle(0, 0, 0, 1, {
      fill: RPALColors.STATUS_BAR_FILL
    });
    options.visibleBoundsProperty.link(visibleBounds => {
      barNode.setRect(visibleBounds.left, 0, visibleBounds.width, radioButtonGroup.height + 2 * Y_MARGIN);
    });

    // radio buttons at right, vertically centered in the bar
    radioButtonGroup.boundsProperty.link(bounds => {
      radioButtonGroup.right = options.layoutBounds.right - X_MARGIN;
      radioButtonGroup.centerY = barNode.centerY;
    });
    const reactionEquations = reactions.map(reaction => {
      const visibleProperty = new DerivedProperty([reactionProperty], value => value === reaction);
      const equationNode = createEquationNode(reaction, visibleProperty);

      // center the equation in the space to the left of the radio buttons
      radioButtonGroup.boundsProperty.link(() => {
        const availableWidth = radioButtonGroup.left - X_MARGIN;
        equationNode.centerX = X_MARGIN + availableWidth / 2;
        equationNode.centerY = barNode.centerY;
      });
      return equationNode;
    });
    options.children = [barNode, radioButtonGroup, ...reactionEquations];
    super(options);
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
}
reactantsProductsAndLeftovers.register('ReactionBarNode', ReactionBarNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJvcHRpb25pemUiLCJOb2RlIiwiUmVjdGFuZ2xlIiwicmVhY3RhbnRzUHJvZHVjdHNBbmRMZWZ0b3ZlcnMiLCJSUEFMQ29sb3JzIiwiUmVhY3Rpb25SYWRpb0J1dHRvbkdyb3VwIiwiWF9NQVJHSU4iLCJZX01BUkdJTiIsIlJlYWN0aW9uQmFyTm9kZSIsImNvbnN0cnVjdG9yIiwicmVhY3Rpb25Qcm9wZXJ0eSIsInJlYWN0aW9ucyIsImNyZWF0ZUVxdWF0aW9uTm9kZSIsInByb3ZpZGVkT3B0aW9ucyIsIm9wdGlvbnMiLCJyYWRpb0J1dHRvbkdyb3VwIiwidGFuZGVtIiwiY3JlYXRlVGFuZGVtIiwiYmFyTm9kZSIsImZpbGwiLCJTVEFUVVNfQkFSX0ZJTEwiLCJ2aXNpYmxlQm91bmRzUHJvcGVydHkiLCJsaW5rIiwidmlzaWJsZUJvdW5kcyIsInNldFJlY3QiLCJsZWZ0Iiwid2lkdGgiLCJoZWlnaHQiLCJib3VuZHNQcm9wZXJ0eSIsImJvdW5kcyIsInJpZ2h0IiwibGF5b3V0Qm91bmRzIiwiY2VudGVyWSIsInJlYWN0aW9uRXF1YXRpb25zIiwibWFwIiwicmVhY3Rpb24iLCJ2aXNpYmxlUHJvcGVydHkiLCJ2YWx1ZSIsImVxdWF0aW9uTm9kZSIsImF2YWlsYWJsZVdpZHRoIiwiY2VudGVyWCIsImNoaWxkcmVuIiwiZGlzcG9zZSIsImFzc2VydCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiUmVhY3Rpb25CYXJOb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE0LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFJlYWN0aW9uQmFyTm9kZSBpcyB0aGUgaG9yaXpvbnRhbCBiYXIgdGhhdCBhcHBlYXJzIGF0IHRoZSB0b3Agb2YgdGhlIHNjcmVlbi4gSXQgY29udGFpbnMgcmFkaW8gYnV0dG9ucyBmb3Igc2VsZWN0aW5nXHJcbiAqIGEgcmVhY3Rpb24sIGFuZCBkaXNwbGF5cyB0aGUgc2VsZWN0ZWQgcmVhY3Rpb24ncyBlcXVhdGlvbi5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgRGVyaXZlZFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvRGVyaXZlZFByb3BlcnR5LmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuaW1wb3J0IFBpY2tSZXF1aXJlZCBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvUGlja1JlcXVpcmVkLmpzJztcclxuaW1wb3J0IHsgTm9kZSwgTm9kZU9wdGlvbnMsIE5vZGVUcmFuc2xhdGlvbk9wdGlvbnMsIFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCByZWFjdGFudHNQcm9kdWN0c0FuZExlZnRvdmVycyBmcm9tICcuLi8uLi9yZWFjdGFudHNQcm9kdWN0c0FuZExlZnRvdmVycy5qcyc7XHJcbmltcG9ydCBSZWFjdGlvbiBmcm9tICcuLi9tb2RlbC9SZWFjdGlvbi5qcyc7XHJcbmltcG9ydCBSUEFMQ29sb3JzIGZyb20gJy4uL1JQQUxDb2xvcnMuanMnO1xyXG5pbXBvcnQgUmVhY3Rpb25SYWRpb0J1dHRvbkdyb3VwIGZyb20gJy4vUmVhY3Rpb25SYWRpb0J1dHRvbkdyb3VwLmpzJztcclxuXHJcbmNvbnN0IFhfTUFSR0lOID0gMjA7XHJcbmNvbnN0IFlfTUFSR0lOID0gMTA7XHJcblxyXG5leHBvcnQgdHlwZSBDcmVhdGVFcXVhdGlvbk5vZGVGdW5jdGlvbjxSIGV4dGVuZHMgUmVhY3Rpb24gPSBSZWFjdGlvbj4gPVxyXG4gICggcmVhY3Rpb246IFIsIHZpc2libGVQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8Ym9vbGVhbj4gKSA9PiBOb2RlO1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IHtcclxuICBsYXlvdXRCb3VuZHM6IEJvdW5kczI7XHJcbiAgdmlzaWJsZUJvdW5kc1Byb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxCb3VuZHMyPjtcclxufTtcclxuXHJcbnR5cGUgUmVhY3Rpb25CYXJOb2RlT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgTm9kZVRyYW5zbGF0aW9uT3B0aW9ucyAmIFBpY2tSZXF1aXJlZDxOb2RlT3B0aW9ucywgJ3RhbmRlbSc+O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVhY3Rpb25CYXJOb2RlPFIgZXh0ZW5kcyBSZWFjdGlvbiA9IFJlYWN0aW9uPiBleHRlbmRzIE5vZGUge1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHJlYWN0aW9uUHJvcGVydHk6IFByb3BlcnR5PFI+LCByZWFjdGlvbnM6IFJbXSxcclxuICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVxdWF0aW9uTm9kZTogQ3JlYXRlRXF1YXRpb25Ob2RlRnVuY3Rpb248Uj4sIHByb3ZpZGVkT3B0aW9uczogUmVhY3Rpb25CYXJOb2RlT3B0aW9ucyApIHtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPFJlYWN0aW9uQmFyTm9kZU9wdGlvbnMsIFNlbGZPcHRpb25zLCBOb2RlT3B0aW9ucz4oKSgge30sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIC8vIHJhZGlvIGJ1dHRvbnMgZm9yIGNob29zaW5nIGEgcmVhY3Rpb25cclxuICAgIGNvbnN0IHJhZGlvQnV0dG9uR3JvdXAgPSBuZXcgUmVhY3Rpb25SYWRpb0J1dHRvbkdyb3VwKCByZWFjdGlvblByb3BlcnR5LCByZWFjdGlvbnMsXHJcbiAgICAgIG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3JhZGlvQnV0dG9uR3JvdXAnICkgKTtcclxuXHJcbiAgICAvLyBUaGUgaG9yaXpvbnRhbCBiYXIsIHNpemVkIHRvIGZpdCB0aGUgd2lkdGggb2YgdGhlIGJyb3dzZXIgd2luZG93LlxyXG4gICAgY29uc3QgYmFyTm9kZSA9IG5ldyBSZWN0YW5nbGUoIDAsIDAsIDAsIDEsIHtcclxuICAgICAgZmlsbDogUlBBTENvbG9ycy5TVEFUVVNfQkFSX0ZJTExcclxuICAgIH0gKTtcclxuICAgIG9wdGlvbnMudmlzaWJsZUJvdW5kc1Byb3BlcnR5LmxpbmsoIHZpc2libGVCb3VuZHMgPT4ge1xyXG4gICAgICBiYXJOb2RlLnNldFJlY3QoIHZpc2libGVCb3VuZHMubGVmdCwgMCwgdmlzaWJsZUJvdW5kcy53aWR0aCwgcmFkaW9CdXR0b25Hcm91cC5oZWlnaHQgKyAoIDIgKiBZX01BUkdJTiApICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gcmFkaW8gYnV0dG9ucyBhdCByaWdodCwgdmVydGljYWxseSBjZW50ZXJlZCBpbiB0aGUgYmFyXHJcbiAgICByYWRpb0J1dHRvbkdyb3VwLmJvdW5kc1Byb3BlcnR5LmxpbmsoIGJvdW5kcyA9PiB7XHJcbiAgICAgIHJhZGlvQnV0dG9uR3JvdXAucmlnaHQgPSBvcHRpb25zLmxheW91dEJvdW5kcy5yaWdodCAtIFhfTUFSR0lOO1xyXG4gICAgICByYWRpb0J1dHRvbkdyb3VwLmNlbnRlclkgPSBiYXJOb2RlLmNlbnRlclk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgcmVhY3Rpb25FcXVhdGlvbnMgPSByZWFjdGlvbnMubWFwKCByZWFjdGlvbiA9PiB7XHJcblxyXG4gICAgICBjb25zdCB2aXNpYmxlUHJvcGVydHkgPSBuZXcgRGVyaXZlZFByb3BlcnR5KCBbIHJlYWN0aW9uUHJvcGVydHkgXSwgdmFsdWUgPT4gdmFsdWUgPT09IHJlYWN0aW9uICk7XHJcblxyXG4gICAgICBjb25zdCBlcXVhdGlvbk5vZGUgPSBjcmVhdGVFcXVhdGlvbk5vZGUoIHJlYWN0aW9uLCB2aXNpYmxlUHJvcGVydHkgKTtcclxuXHJcbiAgICAgIC8vIGNlbnRlciB0aGUgZXF1YXRpb24gaW4gdGhlIHNwYWNlIHRvIHRoZSBsZWZ0IG9mIHRoZSByYWRpbyBidXR0b25zXHJcbiAgICAgIHJhZGlvQnV0dG9uR3JvdXAuYm91bmRzUHJvcGVydHkubGluayggKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVdpZHRoID0gcmFkaW9CdXR0b25Hcm91cC5sZWZ0IC0gWF9NQVJHSU47XHJcbiAgICAgICAgZXF1YXRpb25Ob2RlLmNlbnRlclggPSBYX01BUkdJTiArICggYXZhaWxhYmxlV2lkdGggLyAyICk7XHJcbiAgICAgICAgZXF1YXRpb25Ob2RlLmNlbnRlclkgPSBiYXJOb2RlLmNlbnRlclk7XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAgIHJldHVybiBlcXVhdGlvbk5vZGU7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgb3B0aW9ucy5jaGlsZHJlbiA9IFsgYmFyTm9kZSwgcmFkaW9CdXR0b25Hcm91cCwgLi4ucmVhY3Rpb25FcXVhdGlvbnMgXTtcclxuXHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBmYWxzZSwgJ2Rpc3Bvc2UgaXMgbm90IHN1cHBvcnRlZCwgZXhpc3RzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbScgKTtcclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICB9XHJcbn1cclxuXHJcbnJlYWN0YW50c1Byb2R1Y3RzQW5kTGVmdG92ZXJzLnJlZ2lzdGVyKCAnUmVhY3Rpb25CYXJOb2RlJywgUmVhY3Rpb25CYXJOb2RlICk7Il0sIm1hcHBpbmdz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