// Copyright 2022, University of Colorado Boulder

/**
 * QUnit tests for TinyOverrideProperty
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import TinyProperty from './TinyProperty.js';
import TinyOverrideProperty from './TinyOverrideProperty.js';
QUnit.module('TinyOverrideProperty');
QUnit.test('TinyOverrideProperty Basics', assert => {
  const property = new TinyProperty('x');
  const overrideProperty = new TinyOverrideProperty(property);
  let lastNewValue;
  let lastOldValue;
  overrideProperty.lazyLink((newValue, oldValue) => {
    console.log(newValue, oldValue);
    lastNewValue = newValue;
    lastOldValue = oldValue;
  });
  assert.equal(property.value, 'x');
  assert.equal(overrideProperty.value, 'x');
  property.value = 'y';
  assert.equal(property.value, 'y');
  assert.equal(overrideProperty.value, 'y', 'We follow target Property changes originally');
  assert.equal(lastNewValue, 'y');
  assert.equal(lastOldValue, 'x');
  overrideProperty.value = 'z';
  assert.equal(property.value, 'y', 'Setting the override should not modify the original');
  assert.equal(overrideProperty.value, 'z', 'Our value should have diverged');
  assert.equal(lastNewValue, 'z');
  assert.equal(lastOldValue, 'y');
  property.value = 'w';
  assert.equal(property.value, 'w');
  assert.equal(overrideProperty.value, 'z', 'We should be overridden, so we ignore the Property');
});
QUnit.test('TinyOverrideProperty targetProperty change', assert => {
  const tiny1Property = new TinyProperty('x');
  const tiny2Property = new TinyProperty('a');
  const overrideProperty = new TinyOverrideProperty(tiny1Property);
  let lastNewValue;
  let lastOldValue;
  overrideProperty.lazyLink((newValue, oldValue) => {
    console.log(newValue, oldValue);
    lastNewValue = newValue;
    lastOldValue = oldValue;
  });
  assert.equal(tiny1Property.value, 'x');
  assert.equal(overrideProperty.value, 'x');
  tiny1Property.value = 'y';
  assert.equal(tiny1Property.value, 'y');
  assert.equal(overrideProperty.value, 'y', 'We follow target Property changes originally');
  assert.equal(lastNewValue, 'y');
  assert.equal(lastOldValue, 'x');
  overrideProperty.targetProperty = tiny2Property;
  assert.equal(tiny2Property.value, 'a');
  assert.equal(overrideProperty.value, 'a', 'Switching target properties should result in a change');
  assert.equal(lastNewValue, 'a');
  assert.equal(lastOldValue, 'y');
  tiny2Property.value = 'b';
  assert.equal(tiny2Property.value, 'b');
  assert.equal(overrideProperty.value, 'b', 'We follow our new target Property changes originally');
  assert.equal(lastNewValue, 'b');
  assert.equal(lastOldValue, 'a');
  overrideProperty.value = 'z';
  assert.equal(tiny2Property.value, 'b', 'Setting the override should not modify the original');
  assert.equal(overrideProperty.value, 'z', 'Our value should have diverged');
  assert.equal(lastNewValue, 'z');
  assert.equal(lastOldValue, 'b');
  tiny2Property.value = 'c';
  assert.equal(tiny2Property.value, 'c');
  assert.equal(overrideProperty.value, 'z', 'We should be overridden, so we ignore the Property');
});
QUnit.test('TinyOverrideProperty targetProperty change', assert => {
  const tiny1Property = new TinyProperty('x');
  const tiny2Property = new TinyProperty('a');
  const overrideProperty = new TinyOverrideProperty(tiny1Property);
  let lastNewValue;
  let lastOldValue;
  overrideProperty.lazyLink((newValue, oldValue) => {
    console.log(newValue, oldValue);
    lastNewValue = newValue;
    lastOldValue = oldValue;
  });
  assert.equal(tiny1Property.value, 'x');
  assert.equal(overrideProperty.value, 'x');
  tiny1Property.value = 'y';
  assert.equal(tiny1Property.value, 'y');
  assert.equal(overrideProperty.value, 'y', 'We follow target Property changes originally');
  assert.equal(lastNewValue, 'y');
  assert.equal(lastOldValue, 'x');
  overrideProperty.targetProperty = tiny2Property;
  assert.equal(tiny2Property.value, 'a');
  assert.equal(overrideProperty.value, 'a', 'Switching target properties should result in a change');
  assert.equal(lastNewValue, 'a');
  assert.equal(lastOldValue, 'y');
  tiny2Property.value = 'b';
  assert.equal(tiny2Property.value, 'b');
  assert.equal(overrideProperty.value, 'b', 'We follow our new target Property changes originally');
  assert.equal(lastNewValue, 'b');
  assert.equal(lastOldValue, 'a');
  overrideProperty.value = 'z';
  assert.equal(tiny2Property.value, 'b', 'Setting the override should not modify the original');
  assert.equal(overrideProperty.value, 'z', 'Our value should have diverged');
  assert.equal(lastNewValue, 'z');
  assert.equal(lastOldValue, 'b');
  tiny2Property.value = 'c';
  assert.equal(tiny2Property.value, 'c');
  assert.equal(overrideProperty.value, 'z', 'We should be overridden, so we ignore the Property');
});
QUnit.test('TinyOverrideProperty no notify on targetProperty change with same value', assert => {
  const tiny1Property = new TinyProperty('f');
  const tiny2Property = new TinyProperty('f');
  const overrideProperty = new TinyOverrideProperty(tiny1Property);
  let notified = false;
  overrideProperty.lazyLink((newValue, oldValue) => {
    notified = true;
  });
  overrideProperty.targetProperty = tiny2Property;
  assert.equal(notified, false);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUaW55UHJvcGVydHkiLCJUaW55T3ZlcnJpZGVQcm9wZXJ0eSIsIlFVbml0IiwibW9kdWxlIiwidGVzdCIsImFzc2VydCIsInByb3BlcnR5Iiwib3ZlcnJpZGVQcm9wZXJ0eSIsImxhc3ROZXdWYWx1ZSIsImxhc3RPbGRWYWx1ZSIsImxhenlMaW5rIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJlcXVhbCIsInZhbHVlIiwidGlueTFQcm9wZXJ0eSIsInRpbnkyUHJvcGVydHkiLCJ0YXJnZXRQcm9wZXJ0eSIsIm5vdGlmaWVkIl0sInNvdXJjZXMiOlsiVGlueU92ZXJyaWRlUHJvcGVydHlUZXN0cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogUVVuaXQgdGVzdHMgZm9yIFRpbnlPdmVycmlkZVByb3BlcnR5XHJcbiAqXHJcbiAqIEBhdXRob3IgSm9uYXRoYW4gT2xzb24gPGpvbmF0aGFuLm9sc29uQGNvbG9yYWRvLmVkdT5cclxuICovXHJcblxyXG5pbXBvcnQgVGlueVByb3BlcnR5IGZyb20gJy4vVGlueVByb3BlcnR5LmpzJztcclxuaW1wb3J0IFRpbnlPdmVycmlkZVByb3BlcnR5IGZyb20gJy4vVGlueU92ZXJyaWRlUHJvcGVydHkuanMnO1xyXG5cclxuUVVuaXQubW9kdWxlKCAnVGlueU92ZXJyaWRlUHJvcGVydHknICk7XHJcblxyXG5RVW5pdC50ZXN0KCAnVGlueU92ZXJyaWRlUHJvcGVydHkgQmFzaWNzJywgYXNzZXJ0ID0+IHtcclxuICBjb25zdCBwcm9wZXJ0eSA9IG5ldyBUaW55UHJvcGVydHkoICd4JyApO1xyXG4gIGNvbnN0IG92ZXJyaWRlUHJvcGVydHkgPSBuZXcgVGlueU92ZXJyaWRlUHJvcGVydHkoIHByb3BlcnR5ICk7XHJcblxyXG4gIGxldCBsYXN0TmV3VmFsdWU7XHJcbiAgbGV0IGxhc3RPbGRWYWx1ZTtcclxuICBvdmVycmlkZVByb3BlcnR5LmxhenlMaW5rKCAoIG5ld1ZhbHVlLCBvbGRWYWx1ZSApID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCBuZXdWYWx1ZSwgb2xkVmFsdWUgKTtcclxuICAgIGxhc3ROZXdWYWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgbGFzdE9sZFZhbHVlID0gb2xkVmFsdWU7XHJcbiAgfSApO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIHByb3BlcnR5LnZhbHVlLCAneCcgKTtcclxuICBhc3NlcnQuZXF1YWwoIG92ZXJyaWRlUHJvcGVydHkudmFsdWUsICd4JyApO1xyXG5cclxuICBwcm9wZXJ0eS52YWx1ZSA9ICd5JztcclxuICBhc3NlcnQuZXF1YWwoIHByb3BlcnR5LnZhbHVlLCAneScgKTtcclxuICBhc3NlcnQuZXF1YWwoIG92ZXJyaWRlUHJvcGVydHkudmFsdWUsICd5JywgJ1dlIGZvbGxvdyB0YXJnZXQgUHJvcGVydHkgY2hhbmdlcyBvcmlnaW5hbGx5JyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE5ld1ZhbHVlLCAneScgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3RPbGRWYWx1ZSwgJ3gnICk7XHJcblxyXG4gIG92ZXJyaWRlUHJvcGVydHkudmFsdWUgPSAneic7XHJcbiAgYXNzZXJ0LmVxdWFsKCBwcm9wZXJ0eS52YWx1ZSwgJ3knLCAnU2V0dGluZyB0aGUgb3ZlcnJpZGUgc2hvdWxkIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsJyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ3onLCAnT3VyIHZhbHVlIHNob3VsZCBoYXZlIGRpdmVyZ2VkJyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE5ld1ZhbHVlLCAneicgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3RPbGRWYWx1ZSwgJ3knICk7XHJcblxyXG4gIHByb3BlcnR5LnZhbHVlID0gJ3cnO1xyXG4gIGFzc2VydC5lcXVhbCggcHJvcGVydHkudmFsdWUsICd3JyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ3onLCAnV2Ugc2hvdWxkIGJlIG92ZXJyaWRkZW4sIHNvIHdlIGlnbm9yZSB0aGUgUHJvcGVydHknICk7XHJcbn0gKTtcclxuXHJcblFVbml0LnRlc3QoICdUaW55T3ZlcnJpZGVQcm9wZXJ0eSB0YXJnZXRQcm9wZXJ0eSBjaGFuZ2UnLCBhc3NlcnQgPT4ge1xyXG4gIGNvbnN0IHRpbnkxUHJvcGVydHkgPSBuZXcgVGlueVByb3BlcnR5KCAneCcgKTtcclxuICBjb25zdCB0aW55MlByb3BlcnR5ID0gbmV3IFRpbnlQcm9wZXJ0eSggJ2EnICk7XHJcbiAgY29uc3Qgb3ZlcnJpZGVQcm9wZXJ0eSA9IG5ldyBUaW55T3ZlcnJpZGVQcm9wZXJ0eSggdGlueTFQcm9wZXJ0eSApO1xyXG5cclxuICBsZXQgbGFzdE5ld1ZhbHVlO1xyXG4gIGxldCBsYXN0T2xkVmFsdWU7XHJcbiAgb3ZlcnJpZGVQcm9wZXJ0eS5sYXp5TGluayggKCBuZXdWYWx1ZSwgb2xkVmFsdWUgKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyggbmV3VmFsdWUsIG9sZFZhbHVlICk7XHJcbiAgICBsYXN0TmV3VmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgIGxhc3RPbGRWYWx1ZSA9IG9sZFZhbHVlO1xyXG4gIH0gKTtcclxuXHJcbiAgYXNzZXJ0LmVxdWFsKCB0aW55MVByb3BlcnR5LnZhbHVlLCAneCcgKTtcclxuICBhc3NlcnQuZXF1YWwoIG92ZXJyaWRlUHJvcGVydHkudmFsdWUsICd4JyApO1xyXG5cclxuICB0aW55MVByb3BlcnR5LnZhbHVlID0gJ3knO1xyXG4gIGFzc2VydC5lcXVhbCggdGlueTFQcm9wZXJ0eS52YWx1ZSwgJ3knICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBvdmVycmlkZVByb3BlcnR5LnZhbHVlLCAneScsICdXZSBmb2xsb3cgdGFyZ2V0IFByb3BlcnR5IGNoYW5nZXMgb3JpZ2luYWxseScgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3ROZXdWYWx1ZSwgJ3knICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0T2xkVmFsdWUsICd4JyApO1xyXG5cclxuICBvdmVycmlkZVByb3BlcnR5LnRhcmdldFByb3BlcnR5ID0gdGlueTJQcm9wZXJ0eTtcclxuICBhc3NlcnQuZXF1YWwoIHRpbnkyUHJvcGVydHkudmFsdWUsICdhJyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ2EnLCAnU3dpdGNoaW5nIHRhcmdldCBwcm9wZXJ0aWVzIHNob3VsZCByZXN1bHQgaW4gYSBjaGFuZ2UnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0TmV3VmFsdWUsICdhJyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE9sZFZhbHVlLCAneScgKTtcclxuXHJcbiAgdGlueTJQcm9wZXJ0eS52YWx1ZSA9ICdiJztcclxuICBhc3NlcnQuZXF1YWwoIHRpbnkyUHJvcGVydHkudmFsdWUsICdiJyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ2InLCAnV2UgZm9sbG93IG91ciBuZXcgdGFyZ2V0IFByb3BlcnR5IGNoYW5nZXMgb3JpZ2luYWxseScgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3ROZXdWYWx1ZSwgJ2InICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0T2xkVmFsdWUsICdhJyApO1xyXG5cclxuICBvdmVycmlkZVByb3BlcnR5LnZhbHVlID0gJ3onO1xyXG4gIGFzc2VydC5lcXVhbCggdGlueTJQcm9wZXJ0eS52YWx1ZSwgJ2InLCAnU2V0dGluZyB0aGUgb3ZlcnJpZGUgc2hvdWxkIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsJyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ3onLCAnT3VyIHZhbHVlIHNob3VsZCBoYXZlIGRpdmVyZ2VkJyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE5ld1ZhbHVlLCAneicgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3RPbGRWYWx1ZSwgJ2InICk7XHJcblxyXG4gIHRpbnkyUHJvcGVydHkudmFsdWUgPSAnYyc7XHJcbiAgYXNzZXJ0LmVxdWFsKCB0aW55MlByb3BlcnR5LnZhbHVlLCAnYycgKTtcclxuICBhc3NlcnQuZXF1YWwoIG92ZXJyaWRlUHJvcGVydHkudmFsdWUsICd6JywgJ1dlIHNob3VsZCBiZSBvdmVycmlkZGVuLCBzbyB3ZSBpZ25vcmUgdGhlIFByb3BlcnR5JyApO1xyXG59ICk7XHJcblxyXG5RVW5pdC50ZXN0KCAnVGlueU92ZXJyaWRlUHJvcGVydHkgdGFyZ2V0UHJvcGVydHkgY2hhbmdlJywgYXNzZXJ0ID0+IHtcclxuICBjb25zdCB0aW55MVByb3BlcnR5ID0gbmV3IFRpbnlQcm9wZXJ0eSggJ3gnICk7XHJcbiAgY29uc3QgdGlueTJQcm9wZXJ0eSA9IG5ldyBUaW55UHJvcGVydHkoICdhJyApO1xyXG4gIGNvbnN0IG92ZXJyaWRlUHJvcGVydHkgPSBuZXcgVGlueU92ZXJyaWRlUHJvcGVydHkoIHRpbnkxUHJvcGVydHkgKTtcclxuXHJcbiAgbGV0IGxhc3ROZXdWYWx1ZTtcclxuICBsZXQgbGFzdE9sZFZhbHVlO1xyXG4gIG92ZXJyaWRlUHJvcGVydHkubGF6eUxpbmsoICggbmV3VmFsdWUsIG9sZFZhbHVlICkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coIG5ld1ZhbHVlLCBvbGRWYWx1ZSApO1xyXG4gICAgbGFzdE5ld1ZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICBsYXN0T2xkVmFsdWUgPSBvbGRWYWx1ZTtcclxuICB9ICk7XHJcblxyXG4gIGFzc2VydC5lcXVhbCggdGlueTFQcm9wZXJ0eS52YWx1ZSwgJ3gnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBvdmVycmlkZVByb3BlcnR5LnZhbHVlLCAneCcgKTtcclxuXHJcbiAgdGlueTFQcm9wZXJ0eS52YWx1ZSA9ICd5JztcclxuICBhc3NlcnQuZXF1YWwoIHRpbnkxUHJvcGVydHkudmFsdWUsICd5JyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ3knLCAnV2UgZm9sbG93IHRhcmdldCBQcm9wZXJ0eSBjaGFuZ2VzIG9yaWdpbmFsbHknICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0TmV3VmFsdWUsICd5JyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE9sZFZhbHVlLCAneCcgKTtcclxuXHJcbiAgb3ZlcnJpZGVQcm9wZXJ0eS50YXJnZXRQcm9wZXJ0eSA9IHRpbnkyUHJvcGVydHk7XHJcbiAgYXNzZXJ0LmVxdWFsKCB0aW55MlByb3BlcnR5LnZhbHVlLCAnYScgKTtcclxuICBhc3NlcnQuZXF1YWwoIG92ZXJyaWRlUHJvcGVydHkudmFsdWUsICdhJywgJ1N3aXRjaGluZyB0YXJnZXQgcHJvcGVydGllcyBzaG91bGQgcmVzdWx0IGluIGEgY2hhbmdlJyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE5ld1ZhbHVlLCAnYScgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3RPbGRWYWx1ZSwgJ3knICk7XHJcblxyXG4gIHRpbnkyUHJvcGVydHkudmFsdWUgPSAnYic7XHJcbiAgYXNzZXJ0LmVxdWFsKCB0aW55MlByb3BlcnR5LnZhbHVlLCAnYicgKTtcclxuICBhc3NlcnQuZXF1YWwoIG92ZXJyaWRlUHJvcGVydHkudmFsdWUsICdiJywgJ1dlIGZvbGxvdyBvdXIgbmV3IHRhcmdldCBQcm9wZXJ0eSBjaGFuZ2VzIG9yaWdpbmFsbHknICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0TmV3VmFsdWUsICdiJyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE9sZFZhbHVlLCAnYScgKTtcclxuXHJcbiAgb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSA9ICd6JztcclxuICBhc3NlcnQuZXF1YWwoIHRpbnkyUHJvcGVydHkudmFsdWUsICdiJywgJ1NldHRpbmcgdGhlIG92ZXJyaWRlIHNob3VsZCBub3QgbW9kaWZ5IHRoZSBvcmlnaW5hbCcgKTtcclxuICBhc3NlcnQuZXF1YWwoIG92ZXJyaWRlUHJvcGVydHkudmFsdWUsICd6JywgJ091ciB2YWx1ZSBzaG91bGQgaGF2ZSBkaXZlcmdlZCcgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3ROZXdWYWx1ZSwgJ3onICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0T2xkVmFsdWUsICdiJyApO1xyXG5cclxuICB0aW55MlByb3BlcnR5LnZhbHVlID0gJ2MnO1xyXG4gIGFzc2VydC5lcXVhbCggdGlueTJQcm9wZXJ0eS52YWx1ZSwgJ2MnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBvdmVycmlkZVByb3BlcnR5LnZhbHVlLCAneicsICdXZSBzaG91bGQgYmUgb3ZlcnJpZGRlbiwgc28gd2UgaWdub3JlIHRoZSBQcm9wZXJ0eScgKTtcclxufSApO1xyXG5cclxuUVVuaXQudGVzdCggJ1RpbnlPdmVycmlkZVByb3BlcnR5IG5vIG5vdGlmeSBvbiB0YXJnZXRQcm9wZXJ0eSBjaGFuZ2Ugd2l0aCBzYW1lIHZhbHVlJywgYXNzZXJ0ID0+IHtcclxuICBjb25zdCB0aW55MVByb3BlcnR5ID0gbmV3IFRpbnlQcm9wZXJ0eSggJ2YnICk7XHJcbiAgY29uc3QgdGlueTJQcm9wZXJ0eSA9IG5ldyBUaW55UHJvcGVydHkoICdmJyApO1xyXG4gIGNvbnN0IG92ZXJyaWRlUHJvcGVydHkgPSBuZXcgVGlueU92ZXJyaWRlUHJvcGVydHkoIHRpbnkxUHJvcGVydHkgKTtcclxuXHJcbiAgbGV0IG5vdGlmaWVkID0gZmFsc2U7XHJcbiAgb3ZlcnJpZGVQcm9wZXJ0eS5sYXp5TGluayggKCBuZXdWYWx1ZSwgb2xkVmFsdWUgKSA9PiB7XHJcbiAgICBub3RpZmllZCA9IHRydWU7XHJcbiAgfSApO1xyXG5cclxuICBvdmVycmlkZVByb3BlcnR5LnRhcmdldFByb3BlcnR5ID0gdGlueTJQcm9wZXJ0eTtcclxuXHJcbiAgYXNzZXJ0LmVxdWFsKCBub3RpZmllZCwgZmFsc2UgKTtcclxufSApO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0Es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