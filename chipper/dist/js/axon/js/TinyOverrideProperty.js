// Copyright 2022, University of Colorado Boulder

/**
 * A TinyProperty that will take the value of a target Property until it is set to a value. When that happens, it will
 * be its own standalone Property.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import axon from './axon.js';
import TinyProperty from './TinyProperty.js';
export default class TinyOverrideProperty extends TinyProperty {
  // If true, we ignore our targetProperty and just use our value. If false, we only report the value of the
  // targetProperty
  isOverridden = false;
  constructor(targetProperty) {
    super(targetProperty.value);
    this._targetProperty = targetProperty;
    assert && assert(!this.isOverridden, 'Should not be overridden on startup');

    // We'll need to listen to our target to dispatch notifications
    this._targetListener = this.onTargetPropertyChange.bind(this);
    this._targetProperty.lazyLink(this._targetListener);
  }
  set targetProperty(targetProperty) {
    this.setTargetProperty(targetProperty);
  }
  setTargetProperty(targetProperty) {
    // no-op if it's the same Property
    if (this.targetProperty === targetProperty) {
      return;
    }
    const oldValue = this.value;

    // Listeners are only connected if we are NOT overridden
    if (!this.isOverridden) {
      this._targetProperty.unlink(this._targetListener);
    }
    this._targetProperty = targetProperty;

    // Listeners are only connected if we are NOT overridden
    if (!this.isOverridden) {
      this._targetProperty.lazyLink(this._targetListener);

      // If we are overridden, changing the targetProperty will not trigger notifications
      if (!this.equalsValue(oldValue)) {
        this.notifyListeners(oldValue);
      }
    }
  }

  /**
   * Remove the "overridden" nature of this Property, so that it takes on the appearance of the targetProperty
   */
  clearOverride() {
    if (this.isOverridden) {
      const oldValue = this.value;
      this.isOverridden = false;
      this._targetProperty.lazyLink(this._targetListener);

      // This could change our value!
      if (!this.equalsValue(oldValue)) {
        this.notifyListeners(oldValue);
      }
    }
  }
  get() {
    // The main logic for TinyOverrideProperty
    return this.isOverridden ? this._value : this._targetProperty.value;
  }
  set(value) {
    if (!this.isOverridden) {
      // Grab the last value of the Property, as it will be "active" after this
      this._value = this._targetProperty.value;
    }
    super.set(value);
  }
  setPropertyValue(value) {
    // Switch to "override"
    if (!this.isOverridden) {
      this.isOverridden = true;
      this._targetProperty.unlink(this._targetListener);
    }
    super.setPropertyValue(value);
  }

  // We have to override here to have the getter called
  equalsValue(value) {
    return this.areValuesEqual(value, this.value);
  }
  onTargetPropertyChange(newValue, oldValue) {
    if (!this.isOverridden) {
      this.notifyListeners(oldValue);
    }
  }

  // Overridden, since we need to call our getter
  notifyListeners(oldValue) {
    this.emit(this.value, oldValue, this);
  }
  dispose() {
    // If we've been overridden, we will already have removed the listener
    if (!this.isOverridden) {
      this._targetProperty.unlink(this._targetListener);
    }
    super.dispose();
  }
}
axon.register('TinyOverrideProperty', TinyOverrideProperty);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheG9uIiwiVGlueVByb3BlcnR5IiwiVGlueU92ZXJyaWRlUHJvcGVydHkiLCJpc092ZXJyaWRkZW4iLCJjb25zdHJ1Y3RvciIsInRhcmdldFByb3BlcnR5IiwidmFsdWUiLCJfdGFyZ2V0UHJvcGVydHkiLCJhc3NlcnQiLCJfdGFyZ2V0TGlzdGVuZXIiLCJvblRhcmdldFByb3BlcnR5Q2hhbmdlIiwiYmluZCIsImxhenlMaW5rIiwic2V0VGFyZ2V0UHJvcGVydHkiLCJvbGRWYWx1ZSIsInVubGluayIsImVxdWFsc1ZhbHVlIiwibm90aWZ5TGlzdGVuZXJzIiwiY2xlYXJPdmVycmlkZSIsImdldCIsIl92YWx1ZSIsInNldCIsInNldFByb3BlcnR5VmFsdWUiLCJhcmVWYWx1ZXNFcXVhbCIsIm5ld1ZhbHVlIiwiZW1pdCIsImRpc3Bvc2UiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlRpbnlPdmVycmlkZVByb3BlcnR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBBIFRpbnlQcm9wZXJ0eSB0aGF0IHdpbGwgdGFrZSB0aGUgdmFsdWUgb2YgYSB0YXJnZXQgUHJvcGVydHkgdW50aWwgaXQgaXMgc2V0IHRvIGEgdmFsdWUuIFdoZW4gdGhhdCBoYXBwZW5zLCBpdCB3aWxsXHJcbiAqIGJlIGl0cyBvd24gc3RhbmRhbG9uZSBQcm9wZXJ0eS5cclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxyXG4gKi9cclxuXHJcbmltcG9ydCBheG9uIGZyb20gJy4vYXhvbi5qcyc7XHJcbmltcG9ydCBUaW55UHJvcGVydHkgZnJvbSAnLi9UaW55UHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaW55T3ZlcnJpZGVQcm9wZXJ0eTxUPiBleHRlbmRzIFRpbnlQcm9wZXJ0eTxUPiB7XHJcblxyXG4gIC8vIElmIHRydWUsIHdlIGlnbm9yZSBvdXIgdGFyZ2V0UHJvcGVydHkgYW5kIGp1c3QgdXNlIG91ciB2YWx1ZS4gSWYgZmFsc2UsIHdlIG9ubHkgcmVwb3J0IHRoZSB2YWx1ZSBvZiB0aGVcclxuICAvLyB0YXJnZXRQcm9wZXJ0eVxyXG4gIHB1YmxpYyBpc092ZXJyaWRkZW4gPSBmYWxzZTtcclxuXHJcbiAgcHJpdmF0ZSBfdGFyZ2V0UHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PFQ+O1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgX3RhcmdldExpc3RlbmVyOiAoIG5ld1ZhbHVlOiBULCBvbGRWYWx1ZTogVCApID0+IHZvaWQ7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggdGFyZ2V0UHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PFQ+ICkge1xyXG4gICAgc3VwZXIoIHRhcmdldFByb3BlcnR5LnZhbHVlICk7XHJcblxyXG4gICAgdGhpcy5fdGFyZ2V0UHJvcGVydHkgPSB0YXJnZXRQcm9wZXJ0eTtcclxuXHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCAhdGhpcy5pc092ZXJyaWRkZW4sICdTaG91bGQgbm90IGJlIG92ZXJyaWRkZW4gb24gc3RhcnR1cCcgKTtcclxuXHJcbiAgICAvLyBXZSdsbCBuZWVkIHRvIGxpc3RlbiB0byBvdXIgdGFyZ2V0IHRvIGRpc3BhdGNoIG5vdGlmaWNhdGlvbnNcclxuICAgIHRoaXMuX3RhcmdldExpc3RlbmVyID0gdGhpcy5vblRhcmdldFByb3BlcnR5Q2hhbmdlLmJpbmQoIHRoaXMgKTtcclxuICAgIHRoaXMuX3RhcmdldFByb3BlcnR5LmxhenlMaW5rKCB0aGlzLl90YXJnZXRMaXN0ZW5lciApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCB0YXJnZXRQcm9wZXJ0eSggdGFyZ2V0UHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PFQ+ICkge1xyXG4gICAgdGhpcy5zZXRUYXJnZXRQcm9wZXJ0eSggdGFyZ2V0UHJvcGVydHkgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRUYXJnZXRQcm9wZXJ0eSggdGFyZ2V0UHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PFQ+ICk6IHZvaWQge1xyXG4gICAgLy8gbm8tb3AgaWYgaXQncyB0aGUgc2FtZSBQcm9wZXJ0eVxyXG4gICAgaWYgKCB0aGlzLnRhcmdldFByb3BlcnR5ID09PSB0YXJnZXRQcm9wZXJ0eSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcclxuXHJcbiAgICAvLyBMaXN0ZW5lcnMgYXJlIG9ubHkgY29ubmVjdGVkIGlmIHdlIGFyZSBOT1Qgb3ZlcnJpZGRlblxyXG4gICAgaWYgKCAhdGhpcy5pc092ZXJyaWRkZW4gKSB7XHJcbiAgICAgIHRoaXMuX3RhcmdldFByb3BlcnR5LnVubGluayggdGhpcy5fdGFyZ2V0TGlzdGVuZXIgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl90YXJnZXRQcm9wZXJ0eSA9IHRhcmdldFByb3BlcnR5O1xyXG5cclxuICAgIC8vIExpc3RlbmVycyBhcmUgb25seSBjb25uZWN0ZWQgaWYgd2UgYXJlIE5PVCBvdmVycmlkZGVuXHJcbiAgICBpZiAoICF0aGlzLmlzT3ZlcnJpZGRlbiApIHtcclxuICAgICAgdGhpcy5fdGFyZ2V0UHJvcGVydHkubGF6eUxpbmsoIHRoaXMuX3RhcmdldExpc3RlbmVyICk7XHJcblxyXG4gICAgICAvLyBJZiB3ZSBhcmUgb3ZlcnJpZGRlbiwgY2hhbmdpbmcgdGhlIHRhcmdldFByb3BlcnR5IHdpbGwgbm90IHRyaWdnZXIgbm90aWZpY2F0aW9uc1xyXG4gICAgICBpZiAoICF0aGlzLmVxdWFsc1ZhbHVlKCBvbGRWYWx1ZSApICkge1xyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCBvbGRWYWx1ZSApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgdGhlIFwib3ZlcnJpZGRlblwiIG5hdHVyZSBvZiB0aGlzIFByb3BlcnR5LCBzbyB0aGF0IGl0IHRha2VzIG9uIHRoZSBhcHBlYXJhbmNlIG9mIHRoZSB0YXJnZXRQcm9wZXJ0eVxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGVhck92ZXJyaWRlKCk6IHZvaWQge1xyXG4gICAgaWYgKCB0aGlzLmlzT3ZlcnJpZGRlbiApIHtcclxuICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xyXG5cclxuICAgICAgdGhpcy5pc092ZXJyaWRkZW4gPSBmYWxzZTtcclxuICAgICAgdGhpcy5fdGFyZ2V0UHJvcGVydHkubGF6eUxpbmsoIHRoaXMuX3RhcmdldExpc3RlbmVyICk7XHJcblxyXG4gICAgICAvLyBUaGlzIGNvdWxkIGNoYW5nZSBvdXIgdmFsdWUhXHJcbiAgICAgIGlmICggIXRoaXMuZXF1YWxzVmFsdWUoIG9sZFZhbHVlICkgKSB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoIG9sZFZhbHVlICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBnZXQoKTogVCB7XHJcbiAgICAvLyBUaGUgbWFpbiBsb2dpYyBmb3IgVGlueU92ZXJyaWRlUHJvcGVydHlcclxuICAgIHJldHVybiB0aGlzLmlzT3ZlcnJpZGRlbiA/IHRoaXMuX3ZhbHVlIDogdGhpcy5fdGFyZ2V0UHJvcGVydHkudmFsdWU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgc2V0KCB2YWx1ZTogVCApOiB2b2lkIHtcclxuICAgIGlmICggIXRoaXMuaXNPdmVycmlkZGVuICkge1xyXG4gICAgICAvLyBHcmFiIHRoZSBsYXN0IHZhbHVlIG9mIHRoZSBQcm9wZXJ0eSwgYXMgaXQgd2lsbCBiZSBcImFjdGl2ZVwiIGFmdGVyIHRoaXNcclxuICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLl90YXJnZXRQcm9wZXJ0eS52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdXBlci5zZXQoIHZhbHVlICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgc2V0UHJvcGVydHlWYWx1ZSggdmFsdWU6IFQgKTogdm9pZCB7XHJcbiAgICAvLyBTd2l0Y2ggdG8gXCJvdmVycmlkZVwiXHJcbiAgICBpZiAoICF0aGlzLmlzT3ZlcnJpZGRlbiApIHtcclxuICAgICAgdGhpcy5pc092ZXJyaWRkZW4gPSB0cnVlO1xyXG4gICAgICB0aGlzLl90YXJnZXRQcm9wZXJ0eS51bmxpbmsoIHRoaXMuX3RhcmdldExpc3RlbmVyICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VwZXIuc2V0UHJvcGVydHlWYWx1ZSggdmFsdWUgKTtcclxuICB9XHJcblxyXG4gIC8vIFdlIGhhdmUgdG8gb3ZlcnJpZGUgaGVyZSB0byBoYXZlIHRoZSBnZXR0ZXIgY2FsbGVkXHJcbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGVxdWFsc1ZhbHVlKCB2YWx1ZTogVCApOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmFyZVZhbHVlc0VxdWFsKCB2YWx1ZSwgdGhpcy52YWx1ZSApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblRhcmdldFByb3BlcnR5Q2hhbmdlKCBuZXdWYWx1ZTogVCwgb2xkVmFsdWU6IFQgKTogdm9pZCB7XHJcbiAgICBpZiAoICF0aGlzLmlzT3ZlcnJpZGRlbiApIHtcclxuICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoIG9sZFZhbHVlICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBPdmVycmlkZGVuLCBzaW5jZSB3ZSBuZWVkIHRvIGNhbGwgb3VyIGdldHRlclxyXG4gIHB1YmxpYyBvdmVycmlkZSBub3RpZnlMaXN0ZW5lcnMoIG9sZFZhbHVlOiBUICk6IHZvaWQge1xyXG4gICAgdGhpcy5lbWl0KCB0aGlzLnZhbHVlLCBvbGRWYWx1ZSwgdGhpcyApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICAvLyBJZiB3ZSd2ZSBiZWVuIG92ZXJyaWRkZW4sIHdlIHdpbGwgYWxyZWFkeSBoYXZlIHJlbW92ZWQgdGhlIGxpc3RlbmVyXHJcbiAgICBpZiAoICF0aGlzLmlzT3ZlcnJpZGRlbiApIHtcclxuICAgICAgdGhpcy5fdGFyZ2V0UHJvcGVydHkudW5saW5rKCB0aGlzLl90YXJnZXRMaXN0ZW5lciApO1xyXG4gICAgfVxyXG5cclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICB9XHJcbn1cclxuXHJcbmF4b24ucmVnaXN0ZXIoICdUaW55T3ZlcnJpZGVQcm9wZXJ0eScsIFRpbnlPdmVycmlkZVByb3BlcnR5ICk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLElBQUksTUFBTSxXQUFXO0FBQzVCLE9BQU9DLFlBQVksTUFBTSxtQkFBbUI7QUFHNUMsZUFBZSxNQUFNQyxvQkFBb0IsU0FBWUQsWUFBWSxDQUFJO0VBRW5FO0VBQ0E7RUFDT0UsWUFBWSxHQUFHLEtBQUs7RUFLcEJDLFdBQVdBLENBQUVDLGNBQW9DLEVBQUc7SUFDekQsS0FBSyxDQUFFQSxjQUFjLENBQUNDLEtBQU0sQ0FBQztJQUU3QixJQUFJLENBQUNDLGVBQWUsR0FBR0YsY0FBYztJQUVyQ0csTUFBTSxJQUFJQSxNQUFNLENBQUUsQ0FBQyxJQUFJLENBQUNMLFlBQVksRUFBRSxxQ0FBc0MsQ0FBQzs7SUFFN0U7SUFDQSxJQUFJLENBQUNNLGVBQWUsR0FBRyxJQUFJLENBQUNDLHNCQUFzQixDQUFDQyxJQUFJLENBQUUsSUFBSyxDQUFDO0lBQy9ELElBQUksQ0FBQ0osZUFBZSxDQUFDSyxRQUFRLENBQUUsSUFBSSxDQUFDSCxlQUFnQixDQUFDO0VBQ3ZEO0VBRUEsSUFBV0osY0FBY0EsQ0FBRUEsY0FBb0MsRUFBRztJQUNoRSxJQUFJLENBQUNRLGlCQUFpQixDQUFFUixjQUFlLENBQUM7RUFDMUM7RUFFT1EsaUJBQWlCQSxDQUFFUixjQUFvQyxFQUFTO0lBQ3JFO0lBQ0EsSUFBSyxJQUFJLENBQUNBLGNBQWMsS0FBS0EsY0FBYyxFQUFHO01BQzVDO0lBQ0Y7SUFFQSxNQUFNUyxRQUFRLEdBQUcsSUFBSSxDQUFDUixLQUFLOztJQUUzQjtJQUNBLElBQUssQ0FBQyxJQUFJLENBQUNILFlBQVksRUFBRztNQUN4QixJQUFJLENBQUNJLGVBQWUsQ0FBQ1EsTUFBTSxDQUFFLElBQUksQ0FBQ04sZUFBZ0IsQ0FBQztJQUNyRDtJQUVBLElBQUksQ0FBQ0YsZUFBZSxHQUFHRixjQUFjOztJQUVyQztJQUNBLElBQUssQ0FBQyxJQUFJLENBQUNGLFlBQVksRUFBRztNQUN4QixJQUFJLENBQUNJLGVBQWUsQ0FBQ0ssUUFBUSxDQUFFLElBQUksQ0FBQ0gsZUFBZ0IsQ0FBQzs7TUFFckQ7TUFDQSxJQUFLLENBQUMsSUFBSSxDQUFDTyxXQUFXLENBQUVGLFFBQVMsQ0FBQyxFQUFHO1FBQ25DLElBQUksQ0FBQ0csZUFBZSxDQUFFSCxRQUFTLENBQUM7TUFDbEM7SUFDRjtFQUNGOztFQUVBO0FBQ0Y7QUFDQTtFQUNTSSxhQUFhQSxDQUFBLEVBQVM7SUFDM0IsSUFBSyxJQUFJLENBQUNmLFlBQVksRUFBRztNQUN2QixNQUFNVyxRQUFRLEdBQUcsSUFBSSxDQUFDUixLQUFLO01BRTNCLElBQUksQ0FBQ0gsWUFBWSxHQUFHLEtBQUs7TUFDekIsSUFBSSxDQUFDSSxlQUFlLENBQUNLLFFBQVEsQ0FBRSxJQUFJLENBQUNILGVBQWdCLENBQUM7O01BRXJEO01BQ0EsSUFBSyxDQUFDLElBQUksQ0FBQ08sV0FBVyxDQUFFRixRQUFTLENBQUMsRUFBRztRQUNuQyxJQUFJLENBQUNHLGVBQWUsQ0FBRUgsUUFBUyxDQUFDO01BQ2xDO0lBQ0Y7RUFDRjtFQUVnQkssR0FBR0EsQ0FBQSxFQUFNO0lBQ3ZCO0lBQ0EsT0FBTyxJQUFJLENBQUNoQixZQUFZLEdBQUcsSUFBSSxDQUFDaUIsTUFBTSxHQUFHLElBQUksQ0FBQ2IsZUFBZSxDQUFDRCxLQUFLO0VBQ3JFO0VBRWdCZSxHQUFHQSxDQUFFZixLQUFRLEVBQVM7SUFDcEMsSUFBSyxDQUFDLElBQUksQ0FBQ0gsWUFBWSxFQUFHO01BQ3hCO01BQ0EsSUFBSSxDQUFDaUIsTUFBTSxHQUFHLElBQUksQ0FBQ2IsZUFBZSxDQUFDRCxLQUFLO0lBQzFDO0lBRUEsS0FBSyxDQUFDZSxHQUFHLENBQUVmLEtBQU0sQ0FBQztFQUNwQjtFQUVnQmdCLGdCQUFnQkEsQ0FBRWhCLEtBQVEsRUFBUztJQUNqRDtJQUNBLElBQUssQ0FBQyxJQUFJLENBQUNILFlBQVksRUFBRztNQUN4QixJQUFJLENBQUNBLFlBQVksR0FBRyxJQUFJO01BQ3hCLElBQUksQ0FBQ0ksZUFBZSxDQUFDUSxNQUFNLENBQUUsSUFBSSxDQUFDTixlQUFnQixDQUFDO0lBQ3JEO0lBRUEsS0FBSyxDQUFDYSxnQkFBZ0IsQ0FBRWhCLEtBQU0sQ0FBQztFQUNqQzs7RUFFQTtFQUNtQlUsV0FBV0EsQ0FBRVYsS0FBUSxFQUFZO0lBQ2xELE9BQU8sSUFBSSxDQUFDaUIsY0FBYyxDQUFFakIsS0FBSyxFQUFFLElBQUksQ0FBQ0EsS0FBTSxDQUFDO0VBQ2pEO0VBRVFJLHNCQUFzQkEsQ0FBRWMsUUFBVyxFQUFFVixRQUFXLEVBQVM7SUFDL0QsSUFBSyxDQUFDLElBQUksQ0FBQ1gsWUFBWSxFQUFHO01BQ3hCLElBQUksQ0FBQ2MsZUFBZSxDQUFFSCxRQUFTLENBQUM7SUFDbEM7RUFDRjs7RUFFQTtFQUNnQkcsZUFBZUEsQ0FBRUgsUUFBVyxFQUFTO0lBQ25ELElBQUksQ0FBQ1csSUFBSSxDQUFFLElBQUksQ0FBQ25CLEtBQUssRUFBRVEsUUFBUSxFQUFFLElBQUssQ0FBQztFQUN6QztFQUVnQlksT0FBT0EsQ0FBQSxFQUFTO0lBQzlCO0lBQ0EsSUFBSyxDQUFDLElBQUksQ0FBQ3ZCLFlBQVksRUFBRztNQUN4QixJQUFJLENBQUNJLGVBQWUsQ0FBQ1EsTUFBTSxDQUFFLElBQUksQ0FBQ04sZUFBZ0IsQ0FBQztJQUNyRDtJQUVBLEtBQUssQ0FBQ2lCLE9BQU8sQ0FBQyxDQUFDO0VBQ2pCO0FBQ0Y7QUFFQTFCLElBQUksQ0FBQzJCLFFBQVEsQ0FBRSxzQkFBc0IsRUFBRXpCLG9CQUFxQixDQUFDIn0=