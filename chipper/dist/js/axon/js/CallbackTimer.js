// Copyright 2019-2022, University of Colorado Boulder

/**
 * CallbackTimer is a timer that calls a set of registered callbacks.
 * It utilizes AXON/stepTimer, but provides a higher level of abstraction, hiding the details of managing stepTimer.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import optionize from '../../phet-core/js/optionize.js';
import axon from './axon.js';
import stepTimer from './stepTimer.js';
export default class CallbackTimer {
  // initial delay between when start is called and the timer first fires, in ms

  // fire the timer at this continuous interval, in ms

  // identifier for timer associated with the initial delay

  // identifier for timer associated with the continuous interval

  // has the timer fired since it was started?

  constructor(providedOptions) {
    const options = optionize()({
      delay: 400,
      interval: 100
    }, providedOptions);

    // validate options
    assert && assert(options.delay >= 0, `bad value for delay: ${options.delay}`);
    assert && assert(options.interval > 0, `bad value for interval: ${options.interval}`);
    this.delay = options.delay;
    this.interval = options.interval;
    this.callbacks = [];
    if (options.callback) {
      this.callbacks.push(options.callback);
    }
    this.delayID = null;
    this.intervalID = null;
    this.fired = false;
  }
  isRunning() {
    return this.delayID !== null || this.intervalID !== null;
  }
  start() {
    if (!this.isRunning()) {
      this.fired = false;
      this.delayID = stepTimer.setTimeout(() => {
        this.delayID = null;
        this.intervalID = stepTimer.setInterval(() => this.fire(), this.interval);

        // fire after scheduling the intervalID, so that isRunning will be true for callbacks, see sun#216
        this.fire();
      }, this.delay);
    }
  }

  /**
   * Stops the timer.
   * @param fire - should we fire if we haven't fired already?
   */
  stop(fire) {
    if (this.isRunning()) {
      if (this.delayID) {
        stepTimer.clearTimeout(this.delayID);
        this.delayID = null;
      }
      if (this.intervalID) {
        stepTimer.clearInterval(this.intervalID);
        this.intervalID = null;
      }
      if (fire && !this.fired) {
        this.fire();
      }
    }
  }
  addCallback(callback) {
    if (!this.callbacks.includes(callback)) {
      this.callbacks.push(callback);
    }
  }
  removeCallback(callback) {
    const index = this.callbacks.indexOf(callback);
    if (index !== -1) {
      this.callbacks.splice(index, 1);
    }
  }

  /**
   * Calls all callbacks. Clients are free to call this when the timer is not running.
   */
  fire() {
    const callbacksCopy = this.callbacks.slice(0);
    for (let i = 0; i < callbacksCopy.length; i++) {
      callbacksCopy[i]();
    }
    this.fired = true;
  }
  dispose() {
    this.stop(false);
    this.callbacks.length = 0;
  }
}
axon.register('CallbackTimer', CallbackTimer);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcHRpb25pemUiLCJheG9uIiwic3RlcFRpbWVyIiwiQ2FsbGJhY2tUaW1lciIsImNvbnN0cnVjdG9yIiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsImRlbGF5IiwiaW50ZXJ2YWwiLCJhc3NlcnQiLCJjYWxsYmFja3MiLCJjYWxsYmFjayIsInB1c2giLCJkZWxheUlEIiwiaW50ZXJ2YWxJRCIsImZpcmVkIiwiaXNSdW5uaW5nIiwic3RhcnQiLCJzZXRUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJmaXJlIiwic3RvcCIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJhZGRDYWxsYmFjayIsImluY2x1ZGVzIiwicmVtb3ZlQ2FsbGJhY2siLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJjYWxsYmFja3NDb3B5Iiwic2xpY2UiLCJpIiwibGVuZ3RoIiwiZGlzcG9zZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQ2FsbGJhY2tUaW1lci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOS0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBDYWxsYmFja1RpbWVyIGlzIGEgdGltZXIgdGhhdCBjYWxscyBhIHNldCBvZiByZWdpc3RlcmVkIGNhbGxiYWNrcy5cclxuICogSXQgdXRpbGl6ZXMgQVhPTi9zdGVwVGltZXIsIGJ1dCBwcm92aWRlcyBhIGhpZ2hlciBsZXZlbCBvZiBhYnN0cmFjdGlvbiwgaGlkaW5nIHRoZSBkZXRhaWxzIG9mIG1hbmFnaW5nIHN0ZXBUaW1lci5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgU3RyaWN0T21pdCBmcm9tICcuLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvU3RyaWN0T21pdC5qcyc7XHJcbmltcG9ydCBheG9uIGZyb20gJy4vYXhvbi5qcyc7XHJcbmltcG9ydCBzdGVwVGltZXIgZnJvbSAnLi9zdGVwVGltZXIuanMnO1xyXG5pbXBvcnQgeyBUaW1lckxpc3RlbmVyIH0gZnJvbSAnLi9UaW1lci5qcyc7XHJcblxyXG5leHBvcnQgdHlwZSBDYWxsYmFja1RpbWVyQ2FsbGJhY2sgPSAoKSA9PiB2b2lkO1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IHtcclxuXHJcbiAgLy8gY29udmVuaWVuY2UgZm9yIGFkZGluZyAxIGNhbGxiYWNrXHJcbiAgY2FsbGJhY2s/OiBDYWxsYmFja1RpbWVyQ2FsbGJhY2s7XHJcblxyXG4gIC8vIHN0YXJ0IHRvIGZpcmUgY29udGludW91c2x5IGFmdGVyIHByZXNzaW5nIGZvciB0aGlzIGxvbmcsIGluIG1zXHJcbiAgZGVsYXk/OiBudW1iZXI7XHJcblxyXG4gIC8vIGZpcmUgY29udGludW91c2x5IGF0IHRoaXMgaW50ZXJ2YWwsIGluIG1zXHJcbiAgaW50ZXJ2YWw/OiBudW1iZXI7XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBDYWxsYmFja1RpbWVyT3B0aW9ucyA9IFNlbGZPcHRpb25zO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FsbGJhY2tUaW1lciB7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgY2FsbGJhY2tzOiBDYWxsYmFja1RpbWVyQ2FsbGJhY2tbXTtcclxuXHJcbiAgLy8gaW5pdGlhbCBkZWxheSBiZXR3ZWVuIHdoZW4gc3RhcnQgaXMgY2FsbGVkIGFuZCB0aGUgdGltZXIgZmlyc3QgZmlyZXMsIGluIG1zXHJcbiAgcHJpdmF0ZSByZWFkb25seSBkZWxheTogbnVtYmVyO1xyXG5cclxuICAvLyBmaXJlIHRoZSB0aW1lciBhdCB0aGlzIGNvbnRpbnVvdXMgaW50ZXJ2YWwsIGluIG1zXHJcbiAgcHJpdmF0ZSByZWFkb25seSBpbnRlcnZhbDogbnVtYmVyO1xyXG5cclxuICAvLyBpZGVudGlmaWVyIGZvciB0aW1lciBhc3NvY2lhdGVkIHdpdGggdGhlIGluaXRpYWwgZGVsYXlcclxuICBwcml2YXRlIGRlbGF5SUQ6IFRpbWVyTGlzdGVuZXIgfCBudWxsO1xyXG5cclxuICAvLyBpZGVudGlmaWVyIGZvciB0aW1lciBhc3NvY2lhdGVkIHdpdGggdGhlIGNvbnRpbnVvdXMgaW50ZXJ2YWxcclxuICBwcml2YXRlIGludGVydmFsSUQ6IFRpbWVyTGlzdGVuZXIgfCBudWxsO1xyXG5cclxuICAvLyBoYXMgdGhlIHRpbWVyIGZpcmVkIHNpbmNlIGl0IHdhcyBzdGFydGVkP1xyXG4gIHByaXZhdGUgZmlyZWQ6IGJvb2xlYW47XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggcHJvdmlkZWRPcHRpb25zPzogQ2FsbGJhY2tUaW1lck9wdGlvbnMgKSB7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxDYWxsYmFja1RpbWVyT3B0aW9ucywgU3RyaWN0T21pdDxTZWxmT3B0aW9ucywgJ2NhbGxiYWNrJz4+KCkoIHtcclxuICAgICAgZGVsYXk6IDQwMCxcclxuICAgICAgaW50ZXJ2YWw6IDEwMFxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgLy8gdmFsaWRhdGUgb3B0aW9uc1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggb3B0aW9ucy5kZWxheSA+PSAwLCBgYmFkIHZhbHVlIGZvciBkZWxheTogJHtvcHRpb25zLmRlbGF5fWAgKTtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMuaW50ZXJ2YWwgPiAwLCBgYmFkIHZhbHVlIGZvciBpbnRlcnZhbDogJHtvcHRpb25zLmludGVydmFsfWAgKTtcclxuXHJcbiAgICB0aGlzLmRlbGF5ID0gb3B0aW9ucy5kZWxheTtcclxuICAgIHRoaXMuaW50ZXJ2YWwgPSBvcHRpb25zLmludGVydmFsO1xyXG5cclxuICAgIHRoaXMuY2FsbGJhY2tzID0gW107XHJcbiAgICBpZiAoIG9wdGlvbnMuY2FsbGJhY2sgKSB7IHRoaXMuY2FsbGJhY2tzLnB1c2goIG9wdGlvbnMuY2FsbGJhY2sgKTsgfVxyXG5cclxuICAgIHRoaXMuZGVsYXlJRCA9IG51bGw7XHJcbiAgICB0aGlzLmludGVydmFsSUQgPSBudWxsO1xyXG4gICAgdGhpcy5maXJlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGlzUnVubmluZygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAoIHRoaXMuZGVsYXlJRCAhPT0gbnVsbCB8fCB0aGlzLmludGVydmFsSUQgIT09IG51bGwgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGFydCgpOiB2b2lkIHtcclxuICAgIGlmICggIXRoaXMuaXNSdW5uaW5nKCkgKSB7XHJcbiAgICAgIHRoaXMuZmlyZWQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5kZWxheUlEID0gc3RlcFRpbWVyLnNldFRpbWVvdXQoICgpID0+IHtcclxuICAgICAgICB0aGlzLmRlbGF5SUQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWxJRCA9IHN0ZXBUaW1lci5zZXRJbnRlcnZhbCggKCkgPT4gdGhpcy5maXJlKCksIHRoaXMuaW50ZXJ2YWwgKTtcclxuXHJcbiAgICAgICAgLy8gZmlyZSBhZnRlciBzY2hlZHVsaW5nIHRoZSBpbnRlcnZhbElELCBzbyB0aGF0IGlzUnVubmluZyB3aWxsIGJlIHRydWUgZm9yIGNhbGxiYWNrcywgc2VlIHN1biMyMTZcclxuICAgICAgICB0aGlzLmZpcmUoKTtcclxuICAgICAgfSwgdGhpcy5kZWxheSApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RvcHMgdGhlIHRpbWVyLlxyXG4gICAqIEBwYXJhbSBmaXJlIC0gc2hvdWxkIHdlIGZpcmUgaWYgd2UgaGF2ZW4ndCBmaXJlZCBhbHJlYWR5P1xyXG4gICAqL1xyXG4gIHB1YmxpYyBzdG9wKCBmaXJlOiBib29sZWFuICk6IHZvaWQge1xyXG4gICAgaWYgKCB0aGlzLmlzUnVubmluZygpICkge1xyXG4gICAgICBpZiAoIHRoaXMuZGVsYXlJRCApIHtcclxuICAgICAgICBzdGVwVGltZXIuY2xlYXJUaW1lb3V0KCB0aGlzLmRlbGF5SUQgKTtcclxuICAgICAgICB0aGlzLmRlbGF5SUQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICggdGhpcy5pbnRlcnZhbElEICkge1xyXG4gICAgICAgIHN0ZXBUaW1lci5jbGVhckludGVydmFsKCB0aGlzLmludGVydmFsSUQgKTtcclxuICAgICAgICB0aGlzLmludGVydmFsSUQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICggZmlyZSAmJiAhdGhpcy5maXJlZCApIHtcclxuICAgICAgICB0aGlzLmZpcmUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZENhbGxiYWNrKCBjYWxsYmFjazogQ2FsbGJhY2tUaW1lckNhbGxiYWNrICk6IHZvaWQge1xyXG4gICAgaWYgKCAhdGhpcy5jYWxsYmFja3MuaW5jbHVkZXMoIGNhbGxiYWNrICkgKSB7XHJcbiAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVtb3ZlQ2FsbGJhY2soIGNhbGxiYWNrOiBDYWxsYmFja1RpbWVyQ2FsbGJhY2sgKTogdm9pZCB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuY2FsbGJhY2tzLmluZGV4T2YoIGNhbGxiYWNrICk7XHJcbiAgICBpZiAoIGluZGV4ICE9PSAtMSApIHtcclxuICAgICAgdGhpcy5jYWxsYmFja3Muc3BsaWNlKCBpbmRleCwgMSApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbHMgYWxsIGNhbGxiYWNrcy4gQ2xpZW50cyBhcmUgZnJlZSB0byBjYWxsIHRoaXMgd2hlbiB0aGUgdGltZXIgaXMgbm90IHJ1bm5pbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGZpcmUoKTogdm9pZCB7XHJcbiAgICBjb25zdCBjYWxsYmFja3NDb3B5ID0gdGhpcy5jYWxsYmFja3Muc2xpY2UoIDAgKTtcclxuICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGNhbGxiYWNrc0NvcHkubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgIGNhbGxiYWNrc0NvcHlbIGkgXSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5maXJlZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuc3RvcCggZmFsc2UgKTtcclxuICAgIHRoaXMuY2FsbGJhY2tzLmxlbmd0aCA9IDA7XHJcbiAgfVxyXG59XHJcblxyXG5heG9uLnJlZ2lzdGVyKCAnQ2FsbGJhY2tUaW1lcicsIENhbGxiYWNrVGltZXIgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxTQUFTLE1BQU0saUNBQWlDO0FBRXZELE9BQU9DLElBQUksTUFBTSxXQUFXO0FBQzVCLE9BQU9DLFNBQVMsTUFBTSxnQkFBZ0I7QUFtQnRDLGVBQWUsTUFBTUMsYUFBYSxDQUFDO0VBSWpDOztFQUdBOztFQUdBOztFQUdBOztFQUdBOztFQUdPQyxXQUFXQSxDQUFFQyxlQUFzQyxFQUFHO0lBRTNELE1BQU1DLE9BQU8sR0FBR04sU0FBUyxDQUE0RCxDQUFDLENBQUU7TUFDdEZPLEtBQUssRUFBRSxHQUFHO01BQ1ZDLFFBQVEsRUFBRTtJQUNaLENBQUMsRUFBRUgsZUFBZ0IsQ0FBQzs7SUFFcEI7SUFDQUksTUFBTSxJQUFJQSxNQUFNLENBQUVILE9BQU8sQ0FBQ0MsS0FBSyxJQUFJLENBQUMsRUFBRyx3QkFBdUJELE9BQU8sQ0FBQ0MsS0FBTSxFQUFFLENBQUM7SUFDL0VFLE1BQU0sSUFBSUEsTUFBTSxDQUFFSCxPQUFPLENBQUNFLFFBQVEsR0FBRyxDQUFDLEVBQUcsMkJBQTBCRixPQUFPLENBQUNFLFFBQVMsRUFBRSxDQUFDO0lBRXZGLElBQUksQ0FBQ0QsS0FBSyxHQUFHRCxPQUFPLENBQUNDLEtBQUs7SUFDMUIsSUFBSSxDQUFDQyxRQUFRLEdBQUdGLE9BQU8sQ0FBQ0UsUUFBUTtJQUVoQyxJQUFJLENBQUNFLFNBQVMsR0FBRyxFQUFFO0lBQ25CLElBQUtKLE9BQU8sQ0FBQ0ssUUFBUSxFQUFHO01BQUUsSUFBSSxDQUFDRCxTQUFTLENBQUNFLElBQUksQ0FBRU4sT0FBTyxDQUFDSyxRQUFTLENBQUM7SUFBRTtJQUVuRSxJQUFJLENBQUNFLE9BQU8sR0FBRyxJQUFJO0lBQ25CLElBQUksQ0FBQ0MsVUFBVSxHQUFHLElBQUk7SUFDdEIsSUFBSSxDQUFDQyxLQUFLLEdBQUcsS0FBSztFQUNwQjtFQUVPQyxTQUFTQSxDQUFBLEVBQVk7SUFDMUIsT0FBUyxJQUFJLENBQUNILE9BQU8sS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDQyxVQUFVLEtBQUssSUFBSTtFQUM1RDtFQUVPRyxLQUFLQSxDQUFBLEVBQVM7SUFDbkIsSUFBSyxDQUFDLElBQUksQ0FBQ0QsU0FBUyxDQUFDLENBQUMsRUFBRztNQUN2QixJQUFJLENBQUNELEtBQUssR0FBRyxLQUFLO01BQ2xCLElBQUksQ0FBQ0YsT0FBTyxHQUFHWCxTQUFTLENBQUNnQixVQUFVLENBQUUsTUFBTTtRQUN6QyxJQUFJLENBQUNMLE9BQU8sR0FBRyxJQUFJO1FBQ25CLElBQUksQ0FBQ0MsVUFBVSxHQUFHWixTQUFTLENBQUNpQixXQUFXLENBQUUsTUFBTSxJQUFJLENBQUNDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDWixRQUFTLENBQUM7O1FBRTNFO1FBQ0EsSUFBSSxDQUFDWSxJQUFJLENBQUMsQ0FBQztNQUNiLENBQUMsRUFBRSxJQUFJLENBQUNiLEtBQU0sQ0FBQztJQUNqQjtFQUNGOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0VBQ1NjLElBQUlBLENBQUVELElBQWEsRUFBUztJQUNqQyxJQUFLLElBQUksQ0FBQ0osU0FBUyxDQUFDLENBQUMsRUFBRztNQUN0QixJQUFLLElBQUksQ0FBQ0gsT0FBTyxFQUFHO1FBQ2xCWCxTQUFTLENBQUNvQixZQUFZLENBQUUsSUFBSSxDQUFDVCxPQUFRLENBQUM7UUFDdEMsSUFBSSxDQUFDQSxPQUFPLEdBQUcsSUFBSTtNQUNyQjtNQUNBLElBQUssSUFBSSxDQUFDQyxVQUFVLEVBQUc7UUFDckJaLFNBQVMsQ0FBQ3FCLGFBQWEsQ0FBRSxJQUFJLENBQUNULFVBQVcsQ0FBQztRQUMxQyxJQUFJLENBQUNBLFVBQVUsR0FBRyxJQUFJO01BQ3hCO01BQ0EsSUFBS00sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDTCxLQUFLLEVBQUc7UUFDekIsSUFBSSxDQUFDSyxJQUFJLENBQUMsQ0FBQztNQUNiO0lBQ0Y7RUFDRjtFQUVPSSxXQUFXQSxDQUFFYixRQUErQixFQUFTO0lBQzFELElBQUssQ0FBQyxJQUFJLENBQUNELFNBQVMsQ0FBQ2UsUUFBUSxDQUFFZCxRQUFTLENBQUMsRUFBRztNQUMxQyxJQUFJLENBQUNELFNBQVMsQ0FBQ0UsSUFBSSxDQUFFRCxRQUFTLENBQUM7SUFDakM7RUFDRjtFQUVPZSxjQUFjQSxDQUFFZixRQUErQixFQUFTO0lBQzdELE1BQU1nQixLQUFLLEdBQUcsSUFBSSxDQUFDakIsU0FBUyxDQUFDa0IsT0FBTyxDQUFFakIsUUFBUyxDQUFDO0lBQ2hELElBQUtnQixLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUc7TUFDbEIsSUFBSSxDQUFDakIsU0FBUyxDQUFDbUIsTUFBTSxDQUFFRixLQUFLLEVBQUUsQ0FBRSxDQUFDO0lBQ25DO0VBQ0Y7O0VBRUE7QUFDRjtBQUNBO0VBQ1NQLElBQUlBLENBQUEsRUFBUztJQUNsQixNQUFNVSxhQUFhLEdBQUcsSUFBSSxDQUFDcEIsU0FBUyxDQUFDcUIsS0FBSyxDQUFFLENBQUUsQ0FBQztJQUMvQyxLQUFNLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0YsYUFBYSxDQUFDRyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFHO01BQy9DRixhQUFhLENBQUVFLENBQUMsQ0FBRSxDQUFDLENBQUM7SUFDdEI7SUFDQSxJQUFJLENBQUNqQixLQUFLLEdBQUcsSUFBSTtFQUNuQjtFQUVPbUIsT0FBT0EsQ0FBQSxFQUFTO0lBQ3JCLElBQUksQ0FBQ2IsSUFBSSxDQUFFLEtBQU0sQ0FBQztJQUNsQixJQUFJLENBQUNYLFNBQVMsQ0FBQ3VCLE1BQU0sR0FBRyxDQUFDO0VBQzNCO0FBQ0Y7QUFFQWhDLElBQUksQ0FBQ2tDLFFBQVEsQ0FBRSxlQUFlLEVBQUVoQyxhQUFjLENBQUMifQ==