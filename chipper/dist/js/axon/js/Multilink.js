// Copyright 2014-2023, University of Colorado Boulder

/**
 * Multilink is used to link to multiple properties.  It is very similar to a DerivedProperty, but has no value and
 * does not conform to the Property API because it is intended for use with callbacks that do not compute a value.
 *
 * For situations where a reference to the Multilink instance is not needed (for calling dispose), use convenience
 * methods Multilink.multilink or Property.lazyLink to avoid these types of lint errors:
 *
 * // lint error: Do not use 'new' for side effects (no-new)
 * new Multilink( ... );
 *
 * // lint error: 'multilink' is assigned a value but never used (no-unused-vars)
 * const multilink = new Multilink( ... );
 *
 * @author Sam Reid (PhET Interactive Simulations)
 */

import axon from './axon.js';

// Shorthand to make the type definitions more legible

// Exported for the convenience usage sites in Multilink.multilink

// Marker-like interface for use with Multilink.unmultilink.  This provides type safety to make sure unmultilink is called
// with a type-safe argument.
export default class Multilink {
  // Keep track of listeners so they can be detached

  // whether the Multilink has been disposed

  /**
   * @param dependencies
   * @param callback function that expects args in the same order as dependencies
   * @param [lazy] Optional parameter that can be set to true if this should be a lazy multilink (no immediate callback)
   */

  constructor(dependencies, callback, lazy) {
    this.dependencies = dependencies;
    assert && assert(dependencies.every(_.identity), 'dependencies should all be truthy');
    assert && assert(dependencies.length === _.uniq(dependencies).length, 'duplicate dependencies');
    this.dependencyListeners = new Map();

    // When a dependency value changes, update the list of dependencies and call back to the callback
    dependencies.forEach(dependency => {
      const listener = () => {
        // don't call listener if this Multilink has been disposed, see https://github.com/phetsims/axon/issues/192
        if (!this.isDisposed) {
          const values = dependencies.map(dependency => dependency.get());
          callback(...values);
        }
      };
      this.dependencyListeners.set(dependency, listener);
      dependency.lazyLink(listener, {
        // All other dependencies should undefer (taking deferred value) before this dependency notifies. This is
        // crucial to prevent this Multilink callback from firing with intermediate (buggy) states before all dependencies
        // have taken their final value.
        phetioDependencies: _.without(dependencies, dependency)
      });
    });

    // Send initial call back but only if we are non-lazy
    if (!lazy) {
      const values = dependencies.map(dependency => dependency.get());
      callback(...values);
    }
    this.isDisposed = false;
  }

  /**
   * Returns dependencies that are guaranteed to be defined internally.
   */
  get definedDependencies() {
    assert && assert(this.dependencies !== null, 'Dependencies should be defined, has this Property been disposed?');
    return this.dependencies;
  }
  dispose() {
    assert && assert(this.dependencies, 'A Multilink cannot be disposed twice.');
    const dependencies = this.definedDependencies;

    // Unlink from dependent properties
    for (let i = 0; i < dependencies.length; i++) {
      const dependency = dependencies[i];
      const listener = this.dependencyListeners.get(dependency);
      assert && assert(listener, 'The listener should exist');
      if (dependency.hasListener(listener)) {
        dependency.unlink(listener);
      }
    }
    this.dependencies = null;
    this.dependencyListeners.clear();
    this.isDisposed = true;
  }

  /**
   * Registers a listener with multiple properties, then notifies the listener immediately.
   * @param dependencies
   * @param callback function that takes values from the properties and returns nothing
   */
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility

  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  static multilink(dependencies, callback) {
    // eslint-disable-line @typescript-eslint/explicit-member-accessibility
    return new Multilink(dependencies, callback, false /* lazy */);
  }

  /**
   * Create a Multilink from a dynamic or unknown number of dependencies.
   */
  static multilinkAny(dependencies, callback) {
    // @ts-expect-error
    return new Multilink(dependencies, callback);
  }

  /**
   * Registers a listener with multiple properties *without* an immediate callback with current values.
   * @param dependencies
   * @param callback function that takes values from the properties and returns nothing
   */
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  // eslint-disable-line @typescript-eslint/explicit-member-accessibility

  // eslint-disable-line @typescript-eslint/explicit-member-accessibility
  static lazyMultilink(dependencies, callback) {
    // eslint-disable-line @typescript-eslint/explicit-member-accessibility
    return new Multilink(dependencies, callback, true /* lazy */);
  }

  /**
   * Create a lazy Multilink from a dynamic or unknown number of dependencies.
   */
  static lazyMultilinkAny(dependencies, callback) {
    // @ts-expect-error
    return new Multilink(dependencies, callback, true /* lazy */);
  }

  /**
   * Unlinks a listener that was added with multilink or lazyMultilink.
   */
  static unmultilink(multilink) {
    multilink.dispose();
  }
}
axon.register('Multilink', Multilink);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheG9uIiwiTXVsdGlsaW5rIiwiY29uc3RydWN0b3IiLCJkZXBlbmRlbmNpZXMiLCJjYWxsYmFjayIsImxhenkiLCJhc3NlcnQiLCJldmVyeSIsIl8iLCJpZGVudGl0eSIsImxlbmd0aCIsInVuaXEiLCJkZXBlbmRlbmN5TGlzdGVuZXJzIiwiTWFwIiwiZm9yRWFjaCIsImRlcGVuZGVuY3kiLCJsaXN0ZW5lciIsImlzRGlzcG9zZWQiLCJ2YWx1ZXMiLCJtYXAiLCJnZXQiLCJzZXQiLCJsYXp5TGluayIsInBoZXRpb0RlcGVuZGVuY2llcyIsIndpdGhvdXQiLCJkZWZpbmVkRGVwZW5kZW5jaWVzIiwiZGlzcG9zZSIsImkiLCJoYXNMaXN0ZW5lciIsInVubGluayIsImNsZWFyIiwibXVsdGlsaW5rIiwibXVsdGlsaW5rQW55IiwibGF6eU11bHRpbGluayIsImxhenlNdWx0aWxpbmtBbnkiLCJ1bm11bHRpbGluayIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiTXVsdGlsaW5rLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE0LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIE11bHRpbGluayBpcyB1c2VkIHRvIGxpbmsgdG8gbXVsdGlwbGUgcHJvcGVydGllcy4gIEl0IGlzIHZlcnkgc2ltaWxhciB0byBhIERlcml2ZWRQcm9wZXJ0eSwgYnV0IGhhcyBubyB2YWx1ZSBhbmRcclxuICogZG9lcyBub3QgY29uZm9ybSB0byB0aGUgUHJvcGVydHkgQVBJIGJlY2F1c2UgaXQgaXMgaW50ZW5kZWQgZm9yIHVzZSB3aXRoIGNhbGxiYWNrcyB0aGF0IGRvIG5vdCBjb21wdXRlIGEgdmFsdWUuXHJcbiAqXHJcbiAqIEZvciBzaXR1YXRpb25zIHdoZXJlIGEgcmVmZXJlbmNlIHRvIHRoZSBNdWx0aWxpbmsgaW5zdGFuY2UgaXMgbm90IG5lZWRlZCAoZm9yIGNhbGxpbmcgZGlzcG9zZSksIHVzZSBjb252ZW5pZW5jZVxyXG4gKiBtZXRob2RzIE11bHRpbGluay5tdWx0aWxpbmsgb3IgUHJvcGVydHkubGF6eUxpbmsgdG8gYXZvaWQgdGhlc2UgdHlwZXMgb2YgbGludCBlcnJvcnM6XHJcbiAqXHJcbiAqIC8vIGxpbnQgZXJyb3I6IERvIG5vdCB1c2UgJ25ldycgZm9yIHNpZGUgZWZmZWN0cyAobm8tbmV3KVxyXG4gKiBuZXcgTXVsdGlsaW5rKCAuLi4gKTtcclxuICpcclxuICogLy8gbGludCBlcnJvcjogJ211bHRpbGluaycgaXMgYXNzaWduZWQgYSB2YWx1ZSBidXQgbmV2ZXIgdXNlZCAobm8tdW51c2VkLXZhcnMpXHJcbiAqIGNvbnN0IG11bHRpbGluayA9IG5ldyBNdWx0aWxpbmsoIC4uLiApO1xyXG4gKlxyXG4gKiBAYXV0aG9yIFNhbSBSZWlkIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCBheG9uIGZyb20gJy4vYXhvbi5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuXHJcbi8vIFNob3J0aGFuZCB0byBtYWtlIHRoZSB0eXBlIGRlZmluaXRpb25zIG1vcmUgbGVnaWJsZVxyXG50eXBlIFJPUDxUPiA9IFRSZWFkT25seVByb3BlcnR5PFQ+O1xyXG5cclxuLy8gRXhwb3J0ZWQgZm9yIHRoZSBjb252ZW5pZW5jZSB1c2FnZSBzaXRlcyBpbiBNdWx0aWxpbmsubXVsdGlsaW5rXHJcbmV4cG9ydCB0eXBlIFJQMTxUMT4gPSBSZWFkb25seTxbIFJPUDxUMT4gXT47XHJcbmV4cG9ydCB0eXBlIFJQMjxUMSwgVDI+ID0gUmVhZG9ubHk8WyBST1A8VDE+LCBST1A8VDI+IF0+O1xyXG5leHBvcnQgdHlwZSBSUDM8VDEsIFQyLCBUMz4gPSBSZWFkb25seTxbIFJPUDxUMT4sIFJPUDxUMj4sIFJPUDxUMz4gXT47XHJcbmV4cG9ydCB0eXBlIFJQNDxUMSwgVDIsIFQzLCBUND4gPSBSZWFkb25seTxbIFJPUDxUMT4sIFJPUDxUMj4sIFJPUDxUMz4sIFJPUDxUND4gXT47XHJcbmV4cG9ydCB0eXBlIFJQNTxUMSwgVDIsIFQzLCBUNCwgVDU+ID0gUmVhZG9ubHk8WyBST1A8VDE+LCBST1A8VDI+LCBST1A8VDM+LCBST1A8VDQ+LCBST1A8VDU+IF0+O1xyXG5leHBvcnQgdHlwZSBSUDY8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNj4gPSBSZWFkb25seTxbIFJPUDxUMT4sIFJPUDxUMj4sIFJPUDxUMz4sIFJPUDxUND4sIFJPUDxUNT4sIFJPUDxUNj4gXT47XHJcbmV4cG9ydCB0eXBlIFJQNzxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNz4gPSBSZWFkb25seTxbIFJPUDxUMT4sIFJPUDxUMj4sIFJPUDxUMz4sIFJPUDxUND4sIFJPUDxUNT4sIFJPUDxUNj4sIFJPUDxUNz4gXT47XHJcbmV4cG9ydCB0eXBlIFJQODxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDg+ID0gUmVhZG9ubHk8WyBST1A8VDE+LCBST1A8VDI+LCBST1A8VDM+LCBST1A8VDQ+LCBST1A8VDU+LCBST1A8VDY+LCBST1A8VDc+LCBST1A8VDg+IF0+O1xyXG5leHBvcnQgdHlwZSBSUDk8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOT4gPSBSZWFkb25seTxbIFJPUDxUMT4sIFJPUDxUMj4sIFJPUDxUMz4sIFJPUDxUND4sIFJPUDxUNT4sIFJPUDxUNj4sIFJPUDxUNz4sIFJPUDxUOD4sIFJPUDxUOT4gXT47XHJcbmV4cG9ydCB0eXBlIFJQMTA8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwPiA9IFJlYWRvbmx5PFsgUk9QPFQxPiwgUk9QPFQyPiwgUk9QPFQzPiwgUk9QPFQ0PiwgUk9QPFQ1PiwgUk9QPFQ2PiwgUk9QPFQ3PiwgUk9QPFQ4PiwgUk9QPFQ5PiwgUk9QPFQxMD4gXT47XHJcbmV4cG9ydCB0eXBlIFJQMTE8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTE+ID0gUmVhZG9ubHk8WyBST1A8VDE+LCBST1A8VDI+LCBST1A8VDM+LCBST1A8VDQ+LCBST1A8VDU+LCBST1A8VDY+LCBST1A8VDc+LCBST1A8VDg+LCBST1A8VDk+LCBST1A8VDEwPiwgUk9QPFQxMT4gXT47XHJcbmV4cG9ydCB0eXBlIFJQMTI8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMj4gPSBSZWFkb25seTxbIFJPUDxUMT4sIFJPUDxUMj4sIFJPUDxUMz4sIFJPUDxUND4sIFJPUDxUNT4sIFJPUDxUNj4sIFJPUDxUNz4sIFJPUDxUOD4sIFJPUDxUOT4sIFJPUDxUMTA+LCBST1A8VDExPiwgUk9QPFQxMj4gXT47XHJcbmV4cG9ydCB0eXBlIFJQMTM8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzPiA9IFJlYWRvbmx5PFsgUk9QPFQxPiwgUk9QPFQyPiwgUk9QPFQzPiwgUk9QPFQ0PiwgUk9QPFQ1PiwgUk9QPFQ2PiwgUk9QPFQ3PiwgUk9QPFQ4PiwgUk9QPFQ5PiwgUk9QPFQxMD4sIFJPUDxUMTE+LCBST1A8VDEyPiwgUk9QPFQxMz4gXT47XHJcbmV4cG9ydCB0eXBlIFJQMTQ8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQ+ID0gUmVhZG9ubHk8WyBST1A8VDE+LCBST1A8VDI+LCBST1A8VDM+LCBST1A8VDQ+LCBST1A8VDU+LCBST1A8VDY+LCBST1A8VDc+LCBST1A8VDg+LCBST1A8VDk+LCBST1A8VDEwPiwgUk9QPFQxMT4sIFJPUDxUMTI+LCBST1A8VDEzPiwgUk9QPFQxND4gXT47XHJcbmV4cG9ydCB0eXBlIFJQMTU8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT4gPSBSZWFkb25seTxbIFJPUDxUMT4sIFJPUDxUMj4sIFJPUDxUMz4sIFJPUDxUND4sIFJPUDxUNT4sIFJPUDxUNj4sIFJPUDxUNz4sIFJPUDxUOD4sIFJPUDxUOT4sIFJPUDxUMTA+LCBST1A8VDExPiwgUk9QPFQxMj4sIFJPUDxUMTM+LCBST1A8VDE0PiwgUk9QPFQxNT4gXT47XHJcblxyXG5leHBvcnQgdHlwZSBEZXBlbmRlbmNpZXM8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT4gPVxyXG4gIFJQMTxUMT4gfFxyXG4gIFJQMjxUMSwgVDI+IHxcclxuICBSUDM8VDEsIFQyLCBUMz4gfFxyXG4gIFJQNDxUMSwgVDIsIFQzLCBUND4gfFxyXG4gIFJQNTxUMSwgVDIsIFQzLCBUNCwgVDU+IHxcclxuICBSUDY8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNj4gfFxyXG4gIFJQNzxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNz4gfFxyXG4gIFJQODxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDg+IHxcclxuICBSUDk8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOT4gfFxyXG4gIFJQMTA8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwPiB8XHJcbiAgUlAxMTxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMT4gfFxyXG4gIFJQMTI8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMj4gfFxyXG4gIFJQMTM8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzPiB8XHJcbiAgUlAxNDxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxND4gfFxyXG4gIFJQMTU8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47XHJcblxyXG4vLyBNYXJrZXItbGlrZSBpbnRlcmZhY2UgZm9yIHVzZSB3aXRoIE11bHRpbGluay51bm11bHRpbGluay4gIFRoaXMgcHJvdmlkZXMgdHlwZSBzYWZldHkgdG8gbWFrZSBzdXJlIHVubXVsdGlsaW5rIGlzIGNhbGxlZFxyXG4vLyB3aXRoIGEgdHlwZS1zYWZlIGFyZ3VtZW50LlxyXG5leHBvcnQgdHlwZSBVbmtub3duTXVsdGlsaW5rID0gTXVsdGlsaW5rPHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24sIHVua25vd24+O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+IHtcclxuXHJcbiAgcHJpdmF0ZSBkZXBlbmRlbmNpZXM6IERlcGVuZGVuY2llczxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiB8IG51bGw7XHJcblxyXG4gIC8vIEtlZXAgdHJhY2sgb2YgbGlzdGVuZXJzIHNvIHRoZXkgY2FuIGJlIGRldGFjaGVkXHJcbiAgcHJpdmF0ZSBkZXBlbmRlbmN5TGlzdGVuZXJzOiBNYXA8VFJlYWRPbmx5UHJvcGVydHk8dW5rbm93bj4sICgpID0+IHZvaWQ+O1xyXG5cclxuICAvLyB3aGV0aGVyIHRoZSBNdWx0aWxpbmsgaGFzIGJlZW4gZGlzcG9zZWRcclxuICBwcml2YXRlIGlzRGlzcG9zZWQ/OiBib29sZWFuO1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gZGVwZW5kZW5jaWVzXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgZXhwZWN0cyBhcmdzIGluIHRoZSBzYW1lIG9yZGVyIGFzIGRlcGVuZGVuY2llc1xyXG4gICAqIEBwYXJhbSBbbGF6eV0gT3B0aW9uYWwgcGFyYW1ldGVyIHRoYXQgY2FuIGJlIHNldCB0byB0cnVlIGlmIHRoaXMgc2hvdWxkIGJlIGEgbGF6eSBtdWx0aWxpbmsgKG5vIGltbWVkaWF0ZSBjYWxsYmFjaylcclxuICAgKi9cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogUlAxPFQxPiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxIF0gKSA9PiB2b2lkLCBsYXp5PzogYm9vbGVhbiApIDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogUlAyPFQxLCBUMj4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIgXSApID0+IHZvaWQsIGxhenk/OiBib29sZWFuICkgO1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggZGVwZW5kZW5jaWVzOiBSUDM8VDEsIFQyLCBUMz4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzIF0gKSA9PiB2b2lkLCBsYXp5PzogYm9vbGVhbiApIDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogUlA0PFQxLCBUMiwgVDMsIFQ0PiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0IF0gKSA9PiB2b2lkLCBsYXp5PzogYm9vbGVhbiApIDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogUlA1PFQxLCBUMiwgVDMsIFQ0LCBUNT4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUgXSApID0+IHZvaWQsIGxhenk/OiBib29sZWFuICkgO1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggZGVwZW5kZW5jaWVzOiBSUDY8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNj4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2IF0gKSA9PiB2b2lkLCBsYXp5PzogYm9vbGVhbiApIDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogUlA3PFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3PiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3IF0gKSA9PiB2b2lkLCBsYXp5PzogYm9vbGVhbiApIDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogUlA4PFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOD4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDggXSApID0+IHZvaWQsIGxhenk/OiBib29sZWFuICkgO1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggZGVwZW5kZW5jaWVzOiBSUDk8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOT4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5IF0gKSA9PiB2b2lkLCBsYXp5PzogYm9vbGVhbiApIDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogUlAxMDxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTA+LCBjYWxsYmFjazogKCAuLi5wYXJhbXM6IFsgVDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwIF0gKSA9PiB2b2lkLCBsYXp5PzogYm9vbGVhbiApIDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogUlAxMTxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMT4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSBdICkgPT4gdm9pZCwgbGF6eT86IGJvb2xlYW4gKSA7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBkZXBlbmRlbmNpZXM6IFJQMTI8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMj4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyIF0gKSA9PiB2b2lkLCBsYXp5PzogYm9vbGVhbiApIDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogUlAxMzxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTM+LCBjYWxsYmFjazogKCAuLi5wYXJhbXM6IFsgVDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzIF0gKSA9PiB2b2lkLCBsYXp5PzogYm9vbGVhbiApIDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogUlAxNDxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxND4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCBdICkgPT4gdm9pZCwgbGF6eT86IGJvb2xlYW4gKSA7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBkZXBlbmRlbmNpZXM6IFJQMTU8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1IF0gKSA9PiB2b2lkLCBsYXp5PzogYm9vbGVhbiApIDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogRGVwZW5kZW5jaWVzPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+LCBjYWxsYmFjazogKCAuLi5wYXJhbXM6IFsgVDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNSBdICkgPT4gdm9pZCwgbGF6eT86IGJvb2xlYW4gKTtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGRlcGVuZGVuY2llczogRGVwZW5kZW5jaWVzPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+LCBjYWxsYmFjazogKCAuLi5wYXJhbXM6IFsgVDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNSBdICkgPT4gdm9pZCwgbGF6eT86IGJvb2xlYW4gKSB7XHJcblxyXG4gICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXM7XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggZGVwZW5kZW5jaWVzLmV2ZXJ5KCBfLmlkZW50aXR5ICksICdkZXBlbmRlbmNpZXMgc2hvdWxkIGFsbCBiZSB0cnV0aHknICk7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBkZXBlbmRlbmNpZXMubGVuZ3RoID09PSBfLnVuaXEoIGRlcGVuZGVuY2llcyApLmxlbmd0aCwgJ2R1cGxpY2F0ZSBkZXBlbmRlbmNpZXMnICk7XHJcblxyXG4gICAgdGhpcy5kZXBlbmRlbmN5TGlzdGVuZXJzID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIC8vIFdoZW4gYSBkZXBlbmRlbmN5IHZhbHVlIGNoYW5nZXMsIHVwZGF0ZSB0aGUgbGlzdCBvZiBkZXBlbmRlbmNpZXMgYW5kIGNhbGwgYmFjayB0byB0aGUgY2FsbGJhY2tcclxuICAgIGRlcGVuZGVuY2llcy5mb3JFYWNoKCBkZXBlbmRlbmN5ID0+IHtcclxuICAgICAgY29uc3QgbGlzdGVuZXIgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIC8vIGRvbid0IGNhbGwgbGlzdGVuZXIgaWYgdGhpcyBNdWx0aWxpbmsgaGFzIGJlZW4gZGlzcG9zZWQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvYXhvbi9pc3N1ZXMvMTkyXHJcbiAgICAgICAgaWYgKCAhdGhpcy5pc0Rpc3Bvc2VkICkge1xyXG5cclxuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGRlcGVuZGVuY2llcy5tYXAoIGRlcGVuZGVuY3kgPT4gZGVwZW5kZW5jeS5nZXQoKSApIGFzIFsgVDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNSBdO1xyXG4gICAgICAgICAgY2FsbGJhY2soIC4uLnZhbHVlcyApO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgdGhpcy5kZXBlbmRlbmN5TGlzdGVuZXJzLnNldCggZGVwZW5kZW5jeSwgbGlzdGVuZXIgKTtcclxuICAgICAgZGVwZW5kZW5jeS5sYXp5TGluayggbGlzdGVuZXIsIHtcclxuXHJcbiAgICAgICAgLy8gQWxsIG90aGVyIGRlcGVuZGVuY2llcyBzaG91bGQgdW5kZWZlciAodGFraW5nIGRlZmVycmVkIHZhbHVlKSBiZWZvcmUgdGhpcyBkZXBlbmRlbmN5IG5vdGlmaWVzLiBUaGlzIGlzXHJcbiAgICAgICAgLy8gY3J1Y2lhbCB0byBwcmV2ZW50IHRoaXMgTXVsdGlsaW5rIGNhbGxiYWNrIGZyb20gZmlyaW5nIHdpdGggaW50ZXJtZWRpYXRlIChidWdneSkgc3RhdGVzIGJlZm9yZSBhbGwgZGVwZW5kZW5jaWVzXHJcbiAgICAgICAgLy8gaGF2ZSB0YWtlbiB0aGVpciBmaW5hbCB2YWx1ZS5cclxuICAgICAgICBwaGV0aW9EZXBlbmRlbmNpZXM6IF8ud2l0aG91dCggZGVwZW5kZW5jaWVzLCBkZXBlbmRlbmN5IClcclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIFNlbmQgaW5pdGlhbCBjYWxsIGJhY2sgYnV0IG9ubHkgaWYgd2UgYXJlIG5vbi1sYXp5XHJcbiAgICBpZiAoICFsYXp5ICkge1xyXG5cclxuICAgICAgY29uc3QgdmFsdWVzID0gZGVwZW5kZW5jaWVzLm1hcCggZGVwZW5kZW5jeSA9PiBkZXBlbmRlbmN5LmdldCgpICkgYXMgWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1IF07XHJcbiAgICAgIGNhbGxiYWNrKCAuLi52YWx1ZXMgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmlzRGlzcG9zZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgZGVwZW5kZW5jaWVzIHRoYXQgYXJlIGd1YXJhbnRlZWQgdG8gYmUgZGVmaW5lZCBpbnRlcm5hbGx5LlxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0IGRlZmluZWREZXBlbmRlbmNpZXMoKTogRGVwZW5kZW5jaWVzPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+IHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIHRoaXMuZGVwZW5kZW5jaWVzICE9PSBudWxsLCAnRGVwZW5kZW5jaWVzIHNob3VsZCBiZSBkZWZpbmVkLCBoYXMgdGhpcyBQcm9wZXJ0eSBiZWVuIGRpc3Bvc2VkPycgKTtcclxuICAgIHJldHVybiB0aGlzLmRlcGVuZGVuY2llcyE7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIHRoaXMuZGVwZW5kZW5jaWVzLCAnQSBNdWx0aWxpbmsgY2Fubm90IGJlIGRpc3Bvc2VkIHR3aWNlLicgKTtcclxuXHJcbiAgICBjb25zdCBkZXBlbmRlbmNpZXMgPSB0aGlzLmRlZmluZWREZXBlbmRlbmNpZXM7XHJcblxyXG4gICAgLy8gVW5saW5rIGZyb20gZGVwZW5kZW50IHByb3BlcnRpZXNcclxuICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgY29uc3QgZGVwZW5kZW5jeSA9IGRlcGVuZGVuY2llc1sgaSBdO1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IHRoaXMuZGVwZW5kZW5jeUxpc3RlbmVycy5nZXQoIGRlcGVuZGVuY3kgKSE7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIGxpc3RlbmVyLCAnVGhlIGxpc3RlbmVyIHNob3VsZCBleGlzdCcgKTtcclxuXHJcbiAgICAgIGlmICggZGVwZW5kZW5jeS5oYXNMaXN0ZW5lciggbGlzdGVuZXIgKSApIHtcclxuICAgICAgICBkZXBlbmRlbmN5LnVubGluayggbGlzdGVuZXIgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBudWxsO1xyXG4gICAgdGhpcy5kZXBlbmRlbmN5TGlzdGVuZXJzLmNsZWFyKCk7XHJcbiAgICB0aGlzLmlzRGlzcG9zZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVycyBhIGxpc3RlbmVyIHdpdGggbXVsdGlwbGUgcHJvcGVydGllcywgdGhlbiBub3RpZmllcyB0aGUgbGlzdGVuZXIgaW1tZWRpYXRlbHkuXHJcbiAgICogQHBhcmFtIGRlcGVuZGVuY2llc1xyXG4gICAqIEBwYXJhbSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHRha2VzIHZhbHVlcyBmcm9tIHRoZSBwcm9wZXJ0aWVzIGFuZCByZXR1cm5zIG5vdGhpbmdcclxuICAgKi9cclxuICBzdGF0aWMgbXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQMTxUMT4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIG11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiggZGVwZW5kZW5jaWVzOiBSUDI8VDEsIFQyPiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIG11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiggZGVwZW5kZW5jaWVzOiBSUDM8VDEsIFQyLCBUMz4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzIF0gKSA9PiB2b2lkICk6IE11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbWVtYmVyLWFjY2Vzc2liaWxpdHlcclxuICBzdGF0aWMgbXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQNDxUMSwgVDIsIFQzLCBUND4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIG11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiggZGVwZW5kZW5jaWVzOiBSUDU8VDEsIFQyLCBUMywgVDQsIFQ1PiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIG11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiggZGVwZW5kZW5jaWVzOiBSUDY8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNj4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2IF0gKSA9PiB2b2lkICk6IE11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbWVtYmVyLWFjY2Vzc2liaWxpdHlcclxuICBzdGF0aWMgbXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQNzxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNz4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNyBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIG11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiggZGVwZW5kZW5jaWVzOiBSUDg8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4PiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIG11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiggZGVwZW5kZW5jaWVzOiBSUDk8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOT4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5IF0gKSA9PiB2b2lkICk6IE11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbWVtYmVyLWFjY2Vzc2liaWxpdHlcclxuICBzdGF0aWMgbXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQMTA8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwPiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIG11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiggZGVwZW5kZW5jaWVzOiBSUDExPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExPiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExIF0gKSA9PiB2b2lkICk6IE11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbWVtYmVyLWFjY2Vzc2liaWxpdHlcclxuICBzdGF0aWMgbXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQMTI8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMj4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyIF0gKSA9PiB2b2lkICk6IE11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbWVtYmVyLWFjY2Vzc2liaWxpdHlcclxuICBzdGF0aWMgbXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQMTM8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzPiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMyBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIG11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiggZGVwZW5kZW5jaWVzOiBSUDE0PFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0PiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0IF0gKSA9PiB2b2lkICk6IE11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbWVtYmVyLWFjY2Vzc2liaWxpdHlcclxuICBzdGF0aWMgbXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQMTU8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1IF0gKSA9PiB2b2lkICk6IE11bHRpbGluazxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbWVtYmVyLWFjY2Vzc2liaWxpdHlcclxuICBzdGF0aWMgbXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IERlcGVuZGVuY2llczxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTUgXSApID0+IHZvaWQgKTogTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbWVtYmVyLWFjY2Vzc2liaWxpdHlcclxuICAgIHJldHVybiBuZXcgTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXMsIGNhbGxiYWNrLCBmYWxzZSAvKiBsYXp5ICovICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBNdWx0aWxpbmsgZnJvbSBhIGR5bmFtaWMgb3IgdW5rbm93biBudW1iZXIgb2YgZGVwZW5kZW5jaWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgbXVsdGlsaW5rQW55KCBkZXBlbmRlbmNpZXM6IFJlYWRvbmx5PFRSZWFkT25seVByb3BlcnR5PHVua25vd24+W10+LCBjYWxsYmFjazogKCkgPT4gdm9pZCApOiBVbmtub3duTXVsdGlsaW5rIHtcclxuXHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICByZXR1cm4gbmV3IE11bHRpbGluayggZGVwZW5kZW5jaWVzLCBjYWxsYmFjayApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXJzIGEgbGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBwcm9wZXJ0aWVzICp3aXRob3V0KiBhbiBpbW1lZGlhdGUgY2FsbGJhY2sgd2l0aCBjdXJyZW50IHZhbHVlcy5cclxuICAgKiBAcGFyYW0gZGVwZW5kZW5jaWVzXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdmFsdWVzIGZyb20gdGhlIHByb3BlcnRpZXMgYW5kIHJldHVybnMgbm90aGluZ1xyXG4gICAqL1xyXG4gIHN0YXRpYyBsYXp5TXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQMTxUMT4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIGxhenlNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT4oIGRlcGVuZGVuY2llczogUlAyPFQxLCBUMj4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIgXSApID0+IHZvaWQgKTogTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tZW1iZXItYWNjZXNzaWJpbGl0eVxyXG4gIHN0YXRpYyBsYXp5TXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQMzxUMSwgVDIsIFQzPiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMgXSApID0+IHZvaWQgKTogTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tZW1iZXItYWNjZXNzaWJpbGl0eVxyXG4gIHN0YXRpYyBsYXp5TXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQNDxUMSwgVDIsIFQzLCBUND4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIGxhenlNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT4oIGRlcGVuZGVuY2llczogUlA1PFQxLCBUMiwgVDMsIFQ0LCBUNT4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUgXSApID0+IHZvaWQgKTogTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tZW1iZXItYWNjZXNzaWJpbGl0eVxyXG4gIHN0YXRpYyBsYXp5TXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQNjxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2PiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYgXSApID0+IHZvaWQgKTogTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tZW1iZXItYWNjZXNzaWJpbGl0eVxyXG4gIHN0YXRpYyBsYXp5TXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQNzxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNz4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNyBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIGxhenlNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT4oIGRlcGVuZGVuY2llczogUlA4PFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOD4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDggXSApID0+IHZvaWQgKTogTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tZW1iZXItYWNjZXNzaWJpbGl0eVxyXG4gIHN0YXRpYyBsYXp5TXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQOTxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5PiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDkgXSApID0+IHZvaWQgKTogTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tZW1iZXItYWNjZXNzaWJpbGl0eVxyXG4gIHN0YXRpYyBsYXp5TXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQMTA8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwPiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIGxhenlNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT4oIGRlcGVuZGVuY2llczogUlAxMTxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMT4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIGxhenlNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT4oIGRlcGVuZGVuY2llczogUlAxMjxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyPiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIgXSApID0+IHZvaWQgKTogTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tZW1iZXItYWNjZXNzaWJpbGl0eVxyXG4gIHN0YXRpYyBsYXp5TXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IFJQMTM8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzPiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMyBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIGxhenlNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT4oIGRlcGVuZGVuY2llczogUlAxNDxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxND4sIGNhbGxiYWNrOiAoIC4uLnBhcmFtczogWyBUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCBdICkgPT4gdm9pZCApOiBNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1lbWJlci1hY2Nlc3NpYmlsaXR5XHJcbiAgc3RhdGljIGxhenlNdWx0aWxpbms8VDEsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNT4oIGRlcGVuZGVuY2llczogUlAxNTxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTUgXSApID0+IHZvaWQgKTogTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tZW1iZXItYWNjZXNzaWJpbGl0eVxyXG4gIHN0YXRpYyBsYXp5TXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXM6IERlcGVuZGVuY2llczxUMSwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1PiwgY2FsbGJhY2s6ICggLi4ucGFyYW1zOiBbIFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTUgXSApID0+IHZvaWQgKTogTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbWVtYmVyLWFjY2Vzc2liaWxpdHlcclxuICAgIHJldHVybiBuZXcgTXVsdGlsaW5rPFQxLCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTU+KCBkZXBlbmRlbmNpZXMsIGNhbGxiYWNrLCB0cnVlIC8qIGxhenkgKi8gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIGxhenkgTXVsdGlsaW5rIGZyb20gYSBkeW5hbWljIG9yIHVua25vd24gbnVtYmVyIG9mIGRlcGVuZGVuY2llcy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGxhenlNdWx0aWxpbmtBbnkoIGRlcGVuZGVuY2llczogUmVhZG9ubHk8VFJlYWRPbmx5UHJvcGVydHk8dW5rbm93bj5bXT4sIGNhbGxiYWNrOiAoKSA9PiB2b2lkICk6IFVua25vd25NdWx0aWxpbmsge1xyXG5cclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgIHJldHVybiBuZXcgTXVsdGlsaW5rKCBkZXBlbmRlbmNpZXMsIGNhbGxiYWNrLCB0cnVlIC8qIGxhenkgKi8gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVubGlua3MgYSBsaXN0ZW5lciB0aGF0IHdhcyBhZGRlZCB3aXRoIG11bHRpbGluayBvciBsYXp5TXVsdGlsaW5rLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgdW5tdWx0aWxpbmsoIG11bHRpbGluazogVW5rbm93bk11bHRpbGluayApOiB2b2lkIHtcclxuICAgIG11bHRpbGluay5kaXNwb3NlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5heG9uLnJlZ2lzdGVyKCAnTXVsdGlsaW5rJywgTXVsdGlsaW5rICk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLElBQUksTUFBTSxXQUFXOztBQUc1Qjs7QUFHQTs7QUFrQ0E7QUFDQTtBQUdBLGVBQWUsTUFBTUMsU0FBUyxDQUFtRTtFQUkvRjs7RUFHQTs7RUFHQTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztFQWlCU0MsV0FBV0EsQ0FBRUMsWUFBNEYsRUFBRUMsUUFBcUcsRUFBRUMsSUFBYyxFQUFHO0lBRXhPLElBQUksQ0FBQ0YsWUFBWSxHQUFHQSxZQUFZO0lBRWhDRyxNQUFNLElBQUlBLE1BQU0sQ0FBRUgsWUFBWSxDQUFDSSxLQUFLLENBQUVDLENBQUMsQ0FBQ0MsUUFBUyxDQUFDLEVB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