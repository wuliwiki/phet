// Copyright 2018-2022, University of Colorado Boulder
/**
 * QUnit tests for Emitter
 *
 * @author Sam Reid (PhET Interactive Simulations)
 * @author Michael Kauzmann (PhET Interactive Simulations)
 * @author Chris Klusendorf (PhET Interactive Simulations)
 */

import Emitter from './Emitter.js';
QUnit.module('Emitter');
QUnit.test('Emitter Constructing and options', assert => {
  assert.ok(true, 'Token test in case assertions are disabled, because each test must have at least one assert.');
  const e1 = new Emitter({
    parameters: [{
      valueType: 'number'
    }]
  });
  e1.emit(1);

  // Workaround for a lint rule

  // emitting with an object as parameter
  const e2 = new Emitter({
    parameters: [{
      valueType: Emitter
    }, {
      valueType: Object
    }, {
      valueType: 'function'
    }]
  });
  e2.emit(new Emitter(), {}, _.noop);
  const e3 = new Emitter({
    parameters: [{
      valueType: 'number'
    }, {
      valueType: ['string', null]
    }]
  });
  e3.emit(1, 'hi');
  e3.emit(1, null);
});
QUnit.test('Test emit timing Emitter', assert => {
  const e = new Emitter();
  let x = 0;
  e.addListener(() => {
    x++;
  });
  e.addListener(() => {
    x++;
  });
  e.addListener(() => {
    x++;
  });
  e.addListener(() => {
    x++;
  });
  e.addListener(() => {
    x++;
  });
  e.emit();
  assert.ok(x === 5, 'fired all listeners');
  const e1 = new Emitter();
  e1.addListener(_.noop);
  const testEmitter = (emitter, numberOfLoopings) => {
    const start = Date.now();
    for (let i = 0; i < numberOfLoopings; i++) {
      emitter.emit();
    }
    const end = Date.now();
    const totalTime = end - start;
    console.log(`Time for ${numberOfLoopings}: `, totalTime, totalTime / numberOfLoopings);
  };

  // No assertions here, but it can be nice to test how expensive emit calls are
  testEmitter(e1, 100000);
  testEmitter(e, 100000);
});
QUnit.test('Emitter Basics', assert => {
  const stack = [];
  const emitter = new Emitter();
  const a = () => {
    stack.push('a');
    emitter.removeListener(b);
  };
  const b = () => {
    stack.push('b');
  };
  emitter.addListener(a);
  emitter.addListener(b);
  emitter.emit();
  assert.equal(stack.length, 2, 'Should have received 2 callbacks');
  assert.equal(stack[0], 'a', 'true');
  assert.equal(stack[1], 'b', 'true');
  assert.equal(emitter.hasListener(b), false, 'b should have been removed');
});
QUnit.test('Emitter Tricks', assert => {
  const entries = [];
  const emitter = new Emitter({
    parameters: [{
      valueType: 'string'
    }]
  });
  const a = arg => {
    entries.push({
      listener: 'a',
      arg: arg
    });
    if (arg === 'first') {
      emitter.emit('second');
    }
  };
  const b = arg => {
    entries.push({
      listener: 'b',
      arg: arg
    });
    if (arg === 'second') {
      emitter.addListener(c);
      emitter.emit('third');
    }
  };
  const c = arg => {
    entries.push({
      listener: 'c',
      arg: arg
    });
  };
  emitter.addListener(a);
  emitter.addListener(b);
  emitter.emit('first');

  /*
   * Expected order:
   *   a first
   *     a second
   *     b second
   *       a third
   *       b third
   *       c third
   *   b first
   *
   * It looks like "c first" is (currently?) being triggered since defendCallbacks only defends the top of the stack.
   * If the stack is [ undefended, undefended ], changing listeners copies only the top, leaving
   * [ undefended, defended ], and our first event triggers a listener that wasn't listening when it was called.
   */
  _.each(entries, entry => {
    assert.ok(!(entry.listener === 'c' && entry.arg === 'first'), 'not C,first');
  });
  assert.equal(entries.length, 7, 'Should have 7 callbacks');
  assert.equal(entries[0].listener, 'a');
  assert.equal(entries[0].arg, 'first');
  assert.equal(entries[1].listener, 'a');
  assert.equal(entries[1].arg, 'second');
  assert.equal(entries[2].listener, 'b');
  assert.equal(entries[2].arg, 'second');
  assert.equal(entries[3].listener, 'a');
  assert.equal(entries[3].arg, 'third');
  assert.equal(entries[4].listener, 'b');
  assert.equal(entries[4].arg, 'third');
  assert.equal(entries[5].listener, 'c');
  assert.equal(entries[5].arg, 'third');
  assert.equal(entries[6].listener, 'b');
  assert.equal(entries[6].arg, 'first');
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFbWl0dGVyIiwiUVVuaXQiLCJtb2R1bGUiLCJ0ZXN0IiwiYXNzZXJ0Iiwib2siLCJlMSIsInBhcmFtZXRlcnMiLCJ2YWx1ZVR5cGUiLCJlbWl0IiwiZTIiLCJPYmplY3QiLCJfIiwibm9vcCIsImUzIiwiZSIsIngiLCJhZGRMaXN0ZW5lciIsInRlc3RFbWl0dGVyIiwiZW1pdHRlciIsIm51bWJlck9mTG9vcGluZ3MiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJpIiwiZW5kIiwidG90YWxUaW1lIiwiY29uc29sZSIsImxvZyIsInN0YWNrIiwiYSIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImIiLCJlcXVhbCIsImxlbmd0aCIsImhhc0xpc3RlbmVyIiwiZW50cmllcyIsImFyZyIsImxpc3RlbmVyIiwiYyIsImVhY2giLCJlbnRyeSJdLCJzb3VyY2VzIjpbIkVtaXR0ZXJUZXN0cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuLyoqXHJcbiAqIFFVbml0IHRlc3RzIGZvciBFbWl0dGVyXHJcbiAqXHJcbiAqIEBhdXRob3IgU2FtIFJlaWQgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgTWljaGFlbCBLYXV6bWFubiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICogQGF1dGhvciBDaHJpcyBLbHVzZW5kb3JmIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCBFbWl0dGVyIGZyb20gJy4vRW1pdHRlci5qcyc7XHJcbmltcG9ydCBURW1pdHRlciBmcm9tICcuL1RFbWl0dGVyLmpzJztcclxuXHJcblFVbml0Lm1vZHVsZSggJ0VtaXR0ZXInICk7XHJcblxyXG5RVW5pdC50ZXN0KCAnRW1pdHRlciBDb25zdHJ1Y3RpbmcgYW5kIG9wdGlvbnMnLCBhc3NlcnQgPT4ge1xyXG5cclxuICBhc3NlcnQub2soIHRydWUsICdUb2tlbiB0ZXN0IGluIGNhc2UgYXNzZXJ0aW9ucyBhcmUgZGlzYWJsZWQsIGJlY2F1c2UgZWFjaCB0ZXN0IG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgYXNzZXJ0LicgKTtcclxuICBjb25zdCBlMSA9IG5ldyBFbWl0dGVyPFsgbnVtYmVyIF0+KCB7XHJcbiAgICBwYXJhbWV0ZXJzOiBbIHsgdmFsdWVUeXBlOiAnbnVtYmVyJyB9IF1cclxuICB9ICk7XHJcblxyXG4gIGUxLmVtaXQoIDEgKTtcclxuXHJcbiAgLy8gV29ya2Fyb3VuZCBmb3IgYSBsaW50IHJ1bGVcclxuICB0eXBlIFZvaWRGdW5jID0gKCkgPT4gdm9pZDtcclxuXHJcbiAgLy8gZW1pdHRpbmcgd2l0aCBhbiBvYmplY3QgYXMgcGFyYW1ldGVyXHJcbiAgY29uc3QgZTIgPSBuZXcgRW1pdHRlcjxbIEVtaXR0ZXIsIFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBWb2lkRnVuYyBdPigge1xyXG4gICAgcGFyYW1ldGVyczogWyB7IHZhbHVlVHlwZTogRW1pdHRlciB9LCB7IHZhbHVlVHlwZTogT2JqZWN0IH0sIHsgdmFsdWVUeXBlOiAnZnVuY3Rpb24nIH0gXVxyXG4gIH0gKTtcclxuXHJcbiAgZTIuZW1pdCggbmV3IEVtaXR0ZXIoKSwge30sIF8ubm9vcCApO1xyXG5cclxuICBjb25zdCBlMyA9IG5ldyBFbWl0dGVyPFsgbnVtYmVyLCBzdHJpbmcgfCBudWxsIF0+KCB7XHJcbiAgICBwYXJhbWV0ZXJzOiBbIHsgdmFsdWVUeXBlOiAnbnVtYmVyJyB9LCB7IHZhbHVlVHlwZTogWyAnc3RyaW5nJywgbnVsbCBdIH0gXVxyXG4gIH0gKTtcclxuXHJcbiAgZTMuZW1pdCggMSwgJ2hpJyApO1xyXG4gIGUzLmVtaXQoIDEsIG51bGwgKTtcclxufSApO1xyXG5cclxuUVVuaXQudGVzdCggJ1Rlc3QgZW1pdCB0aW1pbmcgRW1pdHRlcicsIGFzc2VydCA9PiB7XHJcblxyXG4gIGNvbnN0IGUgPSBuZXcgRW1pdHRlcigpO1xyXG4gIGxldCB4ID0gMDtcclxuICBlLmFkZExpc3RlbmVyKCAoKSA9PiB7eCsrO30gKTtcclxuICBlLmFkZExpc3RlbmVyKCAoKSA9PiB7eCsrO30gKTtcclxuICBlLmFkZExpc3RlbmVyKCAoKSA9PiB7eCsrO30gKTtcclxuICBlLmFkZExpc3RlbmVyKCAoKSA9PiB7eCsrO30gKTtcclxuICBlLmFkZExpc3RlbmVyKCAoKSA9PiB7eCsrO30gKTtcclxuXHJcbiAgZS5lbWl0KCk7XHJcblxyXG4gIGFzc2VydC5vayggeCA9PT0gNSwgJ2ZpcmVkIGFsbCBsaXN0ZW5lcnMnICk7XHJcblxyXG4gIGNvbnN0IGUxID0gbmV3IEVtaXR0ZXIoKTtcclxuICBlMS5hZGRMaXN0ZW5lciggXy5ub29wICk7XHJcblxyXG4gIGNvbnN0IHRlc3RFbWl0dGVyID0gKCBlbWl0dGVyOiBURW1pdHRlciwgbnVtYmVyT2ZMb29waW5nczogbnVtYmVyICkgPT4ge1xyXG5cclxuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkxvb3BpbmdzOyBpKysgKSB7XHJcbiAgICAgIGVtaXR0ZXIuZW1pdCgpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZW5kID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IHRvdGFsVGltZSA9IGVuZCAtIHN0YXJ0O1xyXG4gICAgY29uc29sZS5sb2coIGBUaW1lIGZvciAke251bWJlck9mTG9vcGluZ3N9OiBgLCB0b3RhbFRpbWUsIHRvdGFsVGltZSAvIG51bWJlck9mTG9vcGluZ3MgKTtcclxuICB9O1xyXG5cclxuICAvLyBObyBhc3NlcnRpb25zIGhlcmUsIGJ1dCBpdCBjYW4gYmUgbmljZSB0byB0ZXN0IGhvdyBleHBlbnNpdmUgZW1pdCBjYWxscyBhcmVcclxuICB0ZXN0RW1pdHRlciggZTEsIDEwMDAwMCApO1xyXG4gIHRlc3RFbWl0dGVyKCBlLCAxMDAwMDAgKTtcclxufSApO1xyXG5cclxuUVVuaXQudGVzdCggJ0VtaXR0ZXIgQmFzaWNzJywgYXNzZXJ0ID0+IHtcclxuICBjb25zdCBzdGFjazogc3RyaW5nW10gPSBbXTtcclxuICBjb25zdCBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICBjb25zdCBhID0gKCkgPT4ge1xyXG4gICAgc3RhY2sucHVzaCggJ2EnICk7XHJcbiAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCBiICk7XHJcbiAgfTtcclxuICBjb25zdCBiID0gKCkgPT4ge1xyXG4gICAgc3RhY2sucHVzaCggJ2InICk7XHJcbiAgfTtcclxuICBlbWl0dGVyLmFkZExpc3RlbmVyKCBhICk7XHJcbiAgZW1pdHRlci5hZGRMaXN0ZW5lciggYiApO1xyXG4gIGVtaXR0ZXIuZW1pdCgpO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIHN0YWNrLmxlbmd0aCwgMiwgJ1Nob3VsZCBoYXZlIHJlY2VpdmVkIDIgY2FsbGJhY2tzJyApO1xyXG4gIGFzc2VydC5lcXVhbCggc3RhY2tbIDAgXSwgJ2EnLCAndHJ1ZScgKTtcclxuICBhc3NlcnQuZXF1YWwoIHN0YWNrWyAxIF0sICdiJywgJ3RydWUnICk7XHJcblxyXG4gIGFzc2VydC5lcXVhbCggZW1pdHRlci5oYXNMaXN0ZW5lciggYiApLCBmYWxzZSwgJ2Igc2hvdWxkIGhhdmUgYmVlbiByZW1vdmVkJyApO1xyXG59ICk7XHJcblxyXG5RVW5pdC50ZXN0KCAnRW1pdHRlciBUcmlja3MnLCBhc3NlcnQgPT4ge1xyXG4gIGNvbnN0IGVudHJpZXM6IEFycmF5PHsgbGlzdGVuZXI6IHN0cmluZzsgYXJnOiBzdHJpbmcgfT4gPSBbXTtcclxuXHJcbiAgY29uc3QgZW1pdHRlciA9IG5ldyBFbWl0dGVyPFsgc3RyaW5nIF0+KCB7XHJcbiAgICBwYXJhbWV0ZXJzOiBbIHsgdmFsdWVUeXBlOiAnc3RyaW5nJyB9IF1cclxuICB9ICk7XHJcblxyXG4gIGNvbnN0IGEgPSAoIGFyZzogc3RyaW5nICkgPT4ge1xyXG4gICAgZW50cmllcy5wdXNoKCB7IGxpc3RlbmVyOiAnYScsIGFyZzogYXJnIH0gKTtcclxuXHJcbiAgICBpZiAoIGFyZyA9PT0gJ2ZpcnN0JyApIHtcclxuICAgICAgZW1pdHRlci5lbWl0KCAnc2Vjb25kJyApO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgYiA9ICggYXJnOiBzdHJpbmcgKSA9PiB7XHJcbiAgICBlbnRyaWVzLnB1c2goIHsgbGlzdGVuZXI6ICdiJywgYXJnOiBhcmcgfSApO1xyXG5cclxuICAgIGlmICggYXJnID09PSAnc2Vjb25kJyApIHtcclxuICAgICAgZW1pdHRlci5hZGRMaXN0ZW5lciggYyApO1xyXG4gICAgICBlbWl0dGVyLmVtaXQoICd0aGlyZCcgKTtcclxuICAgIH1cclxuICB9O1xyXG4gIGNvbnN0IGMgPSAoIGFyZzogc3RyaW5nICkgPT4ge1xyXG4gICAgZW50cmllcy5wdXNoKCB7IGxpc3RlbmVyOiAnYycsIGFyZzogYXJnIH0gKTtcclxuICB9O1xyXG5cclxuICBlbWl0dGVyLmFkZExpc3RlbmVyKCBhICk7XHJcbiAgZW1pdHRlci5hZGRMaXN0ZW5lciggYiApO1xyXG4gIGVtaXR0ZXIuZW1pdCggJ2ZpcnN0JyApO1xyXG5cclxuICAvKlxyXG4gICAqIEV4cGVjdGVkIG9yZGVyOlxyXG4gICAqICAgYSBmaXJzdFxyXG4gICAqICAgICBhIHNlY29uZFxyXG4gICAqICAgICBiIHNlY29uZFxyXG4gICAqICAgICAgIGEgdGhpcmRcclxuICAgKiAgICAgICBiIHRoaXJkXHJcbiAgICogICAgICAgYyB0aGlyZFxyXG4gICAqICAgYiBmaXJzdFxyXG4gICAqXHJcbiAgICogSXQgbG9va3MgbGlrZSBcImMgZmlyc3RcIiBpcyAoY3VycmVudGx5PykgYmVpbmcgdHJpZ2dlcmVkIHNpbmNlIGRlZmVuZENhbGxiYWNrcyBvbmx5IGRlZmVuZHMgdGhlIHRvcCBvZiB0aGUgc3RhY2suXHJcbiAgICogSWYgdGhlIHN0YWNrIGlzIFsgdW5kZWZlbmRlZCwgdW5kZWZlbmRlZCBdLCBjaGFuZ2luZyBsaXN0ZW5lcnMgY29waWVzIG9ubHkgdGhlIHRvcCwgbGVhdmluZ1xyXG4gICAqIFsgdW5kZWZlbmRlZCwgZGVmZW5kZWQgXSwgYW5kIG91ciBmaXJzdCBldmVudCB0cmlnZ2VycyBhIGxpc3RlbmVyIHRoYXQgd2Fzbid0IGxpc3RlbmluZyB3aGVuIGl0IHdhcyBjYWxsZWQuXHJcbiAgICovXHJcbiAgXy5lYWNoKCBlbnRyaWVzLCBlbnRyeSA9PiB7XHJcbiAgICBhc3NlcnQub2soICEoIGVudHJ5Lmxpc3RlbmVyID09PSAnYycgJiYgZW50cnkuYXJnID09PSAnZmlyc3QnICksICdub3QgQyxmaXJzdCcgKTtcclxuICB9ICk7XHJcblxyXG4gIGFzc2VydC5lcXVhbCggZW50cmllcy5sZW5ndGgsIDcsICdTaG91bGQgaGF2ZSA3IGNhbGxiYWNrcycgKTtcclxuXHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyAwIF0ubGlzdGVuZXIsICdhJyApO1xyXG4gIGFzc2VydC5lcXVhbCggZW50cmllc1sgMCBdLmFyZywgJ2ZpcnN0JyApO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIGVudHJpZXNbIDEgXS5saXN0ZW5lciwgJ2EnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyAxIF0uYXJnLCAnc2Vjb25kJyApO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIGVudHJpZXNbIDIgXS5saXN0ZW5lciwgJ2InICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyAyIF0uYXJnLCAnc2Vjb25kJyApO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIGVudHJpZXNbIDMgXS5saXN0ZW5lciwgJ2EnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyAzIF0uYXJnLCAndGhpcmQnICk7XHJcblxyXG4gIGFzc2VydC5lcXVhbCggZW50cmllc1sgNCBdLmxpc3RlbmVyLCAnYicgKTtcclxuICBhc3NlcnQuZXF1YWwoIGVudHJpZXNbIDQgXS5hcmcsICd0aGlyZCcgKTtcclxuXHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyA1IF0ubGlzdGVuZXIsICdjJyApO1xyXG4gIGFzc2VydC5lcXVhbCggZW50cmllc1sgNSBdLmFyZywgJ3RoaXJkJyApO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIGVudHJpZXNbIDYgXS5saXN0ZW5lciwgJ2InICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyA2IF0uYXJnLCAnZmlyc3QnICk7XHJcbn0gKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLE9BQU8sTUFBTSxjQUFjO0FBR2xDQyxLQUFLLENBQUNDLE1BQU0sQ0FBRSxTQUFVLENBQUM7QUFFekJELEtBQUssQ0FBQ0UsSUFBSSxDQUFFLGtDQUFrQyxFQUFFQyxNQUFNLElBQUk7RUFFeERBLE1BQU0sQ0FBQ0MsRUFBRSxDQUFFLElBQUksRUFBRSw4RkFBK0YsQ0FBQztFQUNqSCxNQUFNQyxFQUFFLEdBQUcsSUFBSU4sT0FBTyxDQUFjO0lBQ2xDTyxVQUFVLEVBQUUsQ0FBRTtNQUFFQyxTQUFTLEVBQUU7SUFBUyxDQUFDO0VBQ3ZDLENBQUUsQ0FBQztFQUVIRixFQUFFLENBQUNHLElBQUksQ0FBRSxDQUFFLENBQUM7O0VBRVo7O0VBR0E7RUFDQSxNQUFNQyxFQUFFLEdBQUcsSUFBSVYsT0FBTyxDQUFrRDtJQUN0RU8sVUFBVSxFQUFFLENBQUU7TUFBRUMsU0FBUyxFQUFFUjtJQUFRLENBQUMsRUFBRTtNQUFFUSxTQUFTLEVBQUVHO0lBQU8sQ0FBQyxFQUFFO01BQUVILFNBQVMsRUFBRTtJQUFXLENBQUM7RUFDeEYsQ0FBRSxDQUFDO0VBRUhFLEVBQUUsQ0FBQ0QsSUFBSSxDQUFFLElBQUlULE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUVZLENBQUMsQ0FBQ0MsSUFBSyxDQUFDO0VBRXBDLE1BQU1DLEVBQUUsR0FBRyxJQUFJZCxPQUFPLENBQTZCO0lBQ2pETyxVQUFVLEVBQUUsQ0FBRTtNQUFFQyxTQUFTLEVBQUU7SUFBUyxDQUFDLEVBQUU7TUFBRUEsU0FBUyxF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