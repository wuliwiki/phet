// Copyright 2023, University of Colorado Boulder

/**
 * The model in charge of the Kepler's Laws Screen components.
 *
 * @author AgustÃ­n Vallejo
 */

import Vector2 from '../../../../dot/js/Vector2.js';
import SolarSystemCommonModel from '../../../../solar-system-common/js/model/SolarSystemCommonModel.js';
import optionize from '../../../../phet-core/js/optionize.js';
import LawMode from './LawMode.js';
import EnumerationProperty from '../../../../axon/js/EnumerationProperty.js';
import EllipticalOrbitEngine from './EllipticalOrbitEngine.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import Emitter from '../../../../axon/js/Emitter.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import Stopwatch from '../../../../scenery-phet/js/Stopwatch.js';
import keplersLaws from '../../keplersLaws.js';
class KeplersLawsModel extends SolarSystemCommonModel {
  alwaysCircularProperty = new BooleanProperty(false);

  // Booleans to keep track of which law is selected
  isFirstLawProperty = new BooleanProperty(false);
  isSecondLawProperty = new BooleanProperty(false);
  isThirdLawProperty = new BooleanProperty(false);
  lawUpdatedEmitter = new Emitter();

  // First Law Properties
  axisVisibleProperty = new BooleanProperty(false);
  semiaxisVisibleProperty = new BooleanProperty(false);
  fociVisibleProperty = new BooleanProperty(false);
  stringsVisibleProperty = new BooleanProperty(false);
  eccentricityVisibleProperty = new BooleanProperty(false);

  // Second Law properties
  apoapsisVisibleProperty = new BooleanProperty(false);
  periapsisVisibleProperty = new BooleanProperty(false);
  periodDivisionProperty = new NumberProperty(4);
  areaValuesVisibleProperty = new BooleanProperty(false);

  // Third law properties
  semiMajorAxisVisibleProperty = new BooleanProperty(false);
  periodVisibleProperty = new BooleanProperty(false);
  selectedAxisPowerProperty = new NumberProperty(1);
  selectedPeriodPowerProperty = new NumberProperty(1);
  constructor(providedOptions) {
    const options = optionize()({
      engineFactory: bodies => new EllipticalOrbitEngine(bodies),
      isLab: false,
      timeScale: 2,
      timeMultiplier: 1 / 12.7,
      initialLaw: LawMode.FIRST_LAW
    }, providedOptions);
    super(options);
    this.isPlayingProperty.link(isPlaying => {
      if (isPlaying) {
        this.userControlledProperty.value = true;
      }
    });
    this.selectedLawProperty = new EnumerationProperty(options.initialLaw);
    this.defaultBodyState = [{
      active: true,
      mass: 200,
      position: new Vector2(0, 0),
      velocity: new Vector2(0, 0)
    }, {
      active: true,
      mass: 50,
      position: new Vector2(200, 0),
      velocity: new Vector2(0, 100)
    }];
    this.loadBodyStates(this.defaultBodyState);
    this.selectedLawProperty.link(law => {
      this.visibilityReset();
      this.isFirstLawProperty.value = law === LawMode.FIRST_LAW;
      this.isSecondLawProperty.value = law === LawMode.SECOND_LAW;
      this.isThirdLawProperty.value = law === LawMode.THIRD_LAW;
      this.lawUpdatedEmitter.emit();
    });
    this.periodDivisionProperty.link(divisions => {
      this.engine.periodDivisions = divisions;
      this.engine.resetOrbitalAreas();
    });
    this.axisVisibleProperty.link(axisVisible => {
      this.semiaxisVisibleProperty.value = axisVisible ? this.semiaxisVisibleProperty.value : false;
      //REVIEW: commented-out code
      // this.eccentricityVisibleProperty.value = axisVisible ? this.eccentricityVisibleProperty.value : false;
    });

    this.fociVisibleProperty.link(fociVisible => {
      this.stringsVisibleProperty.value = fociVisible ? this.stringsVisibleProperty.value : false;
    });
    this.velocityVisibleProperty.value = true;
    this.velocityVisibleProperty.setInitialValue(true);

    // Powered values of semiMajor axis and period
    this.poweredSemiMajorAxisProperty = new DerivedProperty([this.selectedAxisPowerProperty, this.engine.semiMajorAxisProperty], (power, semiMajorAxis) => Math.pow(semiMajorAxis, power));
    this.poweredPeriodProperty = new DerivedProperty([this.selectedPeriodPowerProperty, this.engine.periodProperty], (power, period) => Math.pow(period, power));
    this.alwaysCircularProperty.link(alwaysCircular => {
      this.engine.alwaysCircles = alwaysCircular;
      this.engine.update();
    });
    this.stopwatch = new Stopwatch({
      position: new Vector2(-50, -250),
      timePropertyOptions: {
        range: Stopwatch.ZERO_TO_ALMOST_SIXTY,
        units: 's'
      }
    });
    this.forceScaleProperty.value = 0.5;
  }
  loadBodyStates(bodiesInfo) {
    super.loadBodyStates(bodiesInfo);
    this.engine && this.engine.update();
  }
  visibilityReset() {
    // Calls reset only on the visibilityProperties to avoid reentries on selectedLawProperty
    // First Law
    this.axisVisibleProperty.reset();
    this.semiaxisVisibleProperty.reset();
    this.fociVisibleProperty.reset();
    this.eccentricityVisibleProperty.reset();
    this.stringsVisibleProperty.reset();

    // Second Law
    this.apoapsisVisibleProperty.reset();
    this.periapsisVisibleProperty.reset();

    // Third Law
    this.semiMajorAxisVisibleProperty.reset();
    this.periodVisibleProperty.reset();
  }
  reset() {
    super.reset();
    this.selectedLawProperty.reset();
    this.periodDivisionProperty.reset();
    this.selectedAxisPowerProperty.reset();
    this.selectedPeriodPowerProperty.reset();
    this.alwaysCircularProperty.reset();
    this.visibilityReset();
    this.engine.updateAllowed = true;
    this.engine.reset();
    this.engine.update();
    this.loadBodyStates(this.defaultBodyState);
  }
  update() {
    if (this.engine.updateAllowed) {
      this.engine.update();
    }
  }
}
keplersLaws.register('KeplersLawsModel', KeplersLawsModel);
export default KeplersLawsModel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWZWN0b3IyIiwiU29sYXJTeXN0ZW1Db21tb25Nb2RlbCIsIm9wdGlvbml6ZSIsIkxhd01vZGUiLCJFbnVtZXJhdGlvblByb3BlcnR5IiwiRWxsaXB0aWNhbE9yYml0RW5naW5lIiwiTnVtYmVyUHJvcGVydHkiLCJCb29sZWFuUHJvcGVydHkiLCJFbWl0dGVyIiwiRGVyaXZlZFByb3BlcnR5IiwiU3RvcHdhdGNoIiwia2VwbGVyc0xhd3MiLCJLZXBsZXJzTGF3c01vZGVsIiwiYWx3YXlzQ2lyY3VsYXJQcm9wZXJ0eSIsImlzRmlyc3RMYXdQcm9wZXJ0eSIsImlzU2Vjb25kTGF3UHJvcGVydHkiLCJpc1RoaXJkTGF3UHJvcGVydHkiLCJsYXdVcGRhdGVkRW1pdHRlciIsImF4aXNWaXNpYmxlUHJvcGVydHkiLCJzZW1pYXhpc1Zpc2libGVQcm9wZXJ0eSIsImZvY2lWaXNpYmxlUHJvcGVydHkiLCJzdHJpbmdzVmlzaWJsZVByb3BlcnR5IiwiZWNjZW50cmljaXR5VmlzaWJsZVByb3BlcnR5IiwiYXBvYXBzaXNWaXNpYmxlUHJvcGVydHkiLCJwZXJpYXBzaXNWaXNpYmxlUHJvcGVydHkiLCJwZXJpb2REaXZpc2lvblByb3BlcnR5IiwiYXJlYVZhbHVlc1Zpc2libGVQcm9wZXJ0eSIsInNlbWlNYWpvckF4aXNWaXNpYmxlUHJvcGVydHkiLCJwZXJpb2RWaXNpYmxlUHJvcGVydHkiLCJzZWxlY3RlZEF4aXNQb3dlclByb3BlcnR5Iiwic2VsZWN0ZWRQZXJpb2RQb3dlclByb3BlcnR5IiwiY29uc3RydWN0b3IiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwiZW5naW5lRmFjdG9yeSIsImJvZGllcyIsImlzTGFiIiwidGltZVNjYWxlIiwidGltZU11bHRpcGxpZXIiLCJpbml0aWFsTGF3IiwiRklSU1RfTEFXIiwiaXNQbGF5aW5nUHJvcGVydHkiLCJsaW5rIiwiaXNQbGF5aW5nIiwidXNlckNvbnRyb2xsZWRQcm9wZXJ0eSIsInZhbHVlIiwic2VsZWN0ZWRMYXdQcm9wZXJ0eSIsImRlZmF1bHRCb2R5U3RhdGUiLCJhY3RpdmUiLCJtYXNzIiwicG9zaXRpb24iLCJ2ZWxvY2l0eSIsImxvYWRCb2R5U3RhdGVzIiwibGF3IiwidmlzaWJpbGl0eVJlc2V0IiwiU0VDT05EX0xBVyIsIlRISVJEX0xBVyIsImVtaXQiLCJkaXZpc2lvbnMiLCJlbmdpbmUiLCJwZXJpb2REaXZpc2lvbnMiLCJyZXNldE9yYml0YWxBcmVhcyIsImF4aXNWaXNpYmxlIiwiZm9jaVZpc2libGUiLCJ2ZWxvY2l0eVZpc2libGVQcm9wZXJ0eSIsInNldEluaXRpYWxWYWx1ZSIsInBvd2VyZWRTZW1pTWFqb3JBeGlzUHJvcGVydHkiLCJzZW1pTWFqb3JBeGlzUHJvcGVydHkiLCJwb3dlciIsInNlbWlNYWpvckF4aXMiLCJNYXRoIiwicG93IiwicG93ZXJlZFBlcmlvZFByb3BlcnR5IiwicGVyaW9kUHJvcGVydHkiLCJwZXJpb2QiLCJhbHdheXNDaXJjdWxhciIsImFsd2F5c0NpcmNsZXMiLCJ1cGRhdGUiLCJzdG9wd2F0Y2giLCJ0aW1lUHJvcGVydHlPcHRpb25zIiwicmFuZ2UiLCJaRVJPX1RPX0FMTU9TVF9TSVhUWSIsInVuaXRzIiwiZm9yY2VTY2FsZVByb3BlcnR5IiwiYm9kaWVzSW5mbyIsInJlc2V0IiwidXBkYXRlQWxsb3dlZCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiS2VwbGVyc0xhd3NNb2RlbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogVGhlIG1vZGVsIGluIGNoYXJnZSBvZiB0aGUgS2VwbGVyJ3MgTGF3cyBTY3JlZW4gY29tcG9uZW50cy5cclxuICpcclxuICogQGF1dGhvciBBZ3VzdMOtbiBWYWxsZWpvXHJcbiAqL1xyXG5cclxuaW1wb3J0IFN0cmljdE9taXQgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1N0cmljdE9taXQuanMnO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCBTb2xhclN5c3RlbUNvbW1vbk1vZGVsLCB7IEJvZHlJbmZvLCBDb21tb25Nb2RlbE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi9zb2xhci1zeXN0ZW0tY29tbW9uL2pzL21vZGVsL1NvbGFyU3lzdGVtQ29tbW9uTW9kZWwuanMnO1xyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgTGF3TW9kZSBmcm9tICcuL0xhd01vZGUuanMnO1xyXG5pbXBvcnQgRW51bWVyYXRpb25Qcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0VudW1lcmF0aW9uUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgRWxsaXB0aWNhbE9yYml0RW5naW5lIGZyb20gJy4vRWxsaXB0aWNhbE9yYml0RW5naW5lLmpzJztcclxuaW1wb3J0IE51bWJlclByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvTnVtYmVyUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgQm9vbGVhblByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvQm9vbGVhblByb3BlcnR5LmpzJztcclxuaW1wb3J0IEVtaXR0ZXIgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9FbWl0dGVyLmpzJztcclxuaW1wb3J0IFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9SZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IERlcml2ZWRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Rlcml2ZWRQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBTdG9wd2F0Y2ggZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1N0b3B3YXRjaC5qcyc7XHJcbmltcG9ydCBrZXBsZXJzTGF3cyBmcm9tICcuLi8uLi9rZXBsZXJzTGF3cy5qcyc7XHJcblxyXG50eXBlIFN1cGVyVHlwZU9wdGlvbnMgPSBDb21tb25Nb2RlbE9wdGlvbnM8RWxsaXB0aWNhbE9yYml0RW5naW5lPjtcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSB7XHJcbiAgaW5pdGlhbExhdz86IExhd01vZGU7XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBLZXBsZXJzTGF3c01vZGVsT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgU3RyaWN0T21pdDxTdXBlclR5cGVPcHRpb25zLCAnZW5naW5lRmFjdG9yeScgfCAnaXNMYWInPjtcclxuXHJcbmNsYXNzIEtlcGxlcnNMYXdzTW9kZWwgZXh0ZW5kcyBTb2xhclN5c3RlbUNvbW1vbk1vZGVsPEVsbGlwdGljYWxPcmJpdEVuZ2luZT4ge1xyXG4gIHB1YmxpYyByZWFkb25seSBzZWxlY3RlZExhd1Byb3BlcnR5OiBFbnVtZXJhdGlvblByb3BlcnR5PExhd01vZGU+O1xyXG4gIHB1YmxpYyByZWFkb25seSBhbHdheXNDaXJjdWxhclByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKTtcclxuXHJcbiAgLy8gQm9vbGVhbnMgdG8ga2VlcCB0cmFjayBvZiB3aGljaCBsYXcgaXMgc2VsZWN0ZWRcclxuICBwdWJsaWMgcmVhZG9ubHkgaXNGaXJzdExhd1Byb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKTtcclxuICBwdWJsaWMgcmVhZG9ubHkgaXNTZWNvbmRMYXdQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlICk7XHJcbiAgcHVibGljIHJlYWRvbmx5IGlzVGhpcmRMYXdQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlICk7XHJcbiAgcHVibGljIHJlYWRvbmx5IGxhd1VwZGF0ZWRFbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcclxuXHJcbiAgLy8gRmlyc3QgTGF3IFByb3BlcnRpZXNcclxuICBwdWJsaWMgcmVhZG9ubHkgYXhpc1Zpc2libGVQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlICk7XHJcbiAgcHVibGljIHJlYWRvbmx5IHNlbWlheGlzVmlzaWJsZVByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKTtcclxuICBwdWJsaWMgcmVhZG9ubHkgZm9jaVZpc2libGVQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlICk7XHJcbiAgcHVibGljIHJlYWRvbmx5IHN0cmluZ3NWaXNpYmxlUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCBmYWxzZSApO1xyXG4gIHB1YmxpYyByZWFkb25seSBlY2NlbnRyaWNpdHlWaXNpYmxlUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCBmYWxzZSApO1xyXG5cclxuXHJcbiAgLy8gU2Vjb25kIExhdyBwcm9wZXJ0aWVzXHJcbiAgcHVibGljIHJlYWRvbmx5IGFwb2Fwc2lzVmlzaWJsZVByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKTtcclxuICBwdWJsaWMgcmVhZG9ubHkgcGVyaWFwc2lzVmlzaWJsZVByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKTtcclxuICBwdWJsaWMgcmVhZG9ubHkgcGVyaW9kRGl2aXNpb25Qcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggNCApO1xyXG4gIHB1YmxpYyByZWFkb25seSBhcmVhVmFsdWVzVmlzaWJsZVByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKTtcclxuXHJcblxyXG4gIC8vIFRoaXJkIGxhdyBwcm9wZXJ0aWVzXHJcbiAgcHVibGljIHJlYWRvbmx5IHNlbWlNYWpvckF4aXNWaXNpYmxlUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCBmYWxzZSApO1xyXG4gIHB1YmxpYyByZWFkb25seSBwZXJpb2RWaXNpYmxlUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCBmYWxzZSApO1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgc2VsZWN0ZWRBeGlzUG93ZXJQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggMSApO1xyXG4gIHB1YmxpYyByZWFkb25seSBzZWxlY3RlZFBlcmlvZFBvd2VyUHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHkoIDEgKTtcclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IHBvd2VyZWRTZW1pTWFqb3JBeGlzUHJvcGVydHk6IFJlYWRPbmx5UHJvcGVydHk8bnVtYmVyPjtcclxuICBwdWJsaWMgcmVhZG9ubHkgcG93ZXJlZFBlcmlvZFByb3BlcnR5OiBSZWFkT25seVByb3BlcnR5PG51bWJlcj47XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBzdG9wd2F0Y2g6IFN0b3B3YXRjaDtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBwcm92aWRlZE9wdGlvbnM6IEtlcGxlcnNMYXdzTW9kZWxPcHRpb25zICkge1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxLZXBsZXJzTGF3c01vZGVsT3B0aW9ucywgU2VsZk9wdGlvbnMsIFN1cGVyVHlwZU9wdGlvbnM+KCkoIHtcclxuICAgICAgZW5naW5lRmFjdG9yeTogYm9kaWVzID0+IG5ldyBFbGxpcHRpY2FsT3JiaXRFbmdpbmUoIGJvZGllcyApLFxyXG4gICAgICBpc0xhYjogZmFsc2UsXHJcbiAgICAgIHRpbWVTY2FsZTogMixcclxuICAgICAgdGltZU11bHRpcGxpZXI6IDEgLyAxMi43LFxyXG4gICAgICBpbml0aWFsTGF3OiBMYXdNb2RlLkZJUlNUX0xBV1xyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG5cclxuICAgIHRoaXMuaXNQbGF5aW5nUHJvcGVydHkubGluayggaXNQbGF5aW5nID0+IHtcclxuICAgICAgaWYgKCBpc1BsYXlpbmcgKSB7XHJcbiAgICAgICAgdGhpcy51c2VyQ29udHJvbGxlZFByb3BlcnR5LnZhbHVlID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuc2VsZWN0ZWRMYXdQcm9wZXJ0eSA9IG5ldyBFbnVtZXJhdGlvblByb3BlcnR5KCBvcHRpb25zLmluaXRpYWxMYXcgKTtcclxuXHJcbiAgICB0aGlzLmRlZmF1bHRCb2R5U3RhdGUgPSBbXHJcbiAgICAgIHsgYWN0aXZlOiB0cnVlLCBtYXNzOiAyMDAsIHBvc2l0aW9uOiBuZXcgVmVjdG9yMiggMCwgMCApLCB2ZWxvY2l0eTogbmV3IFZlY3RvcjIoIDAsIDAgKSB9LFxyXG4gICAgICB7IGFjdGl2ZTogdHJ1ZSwgbWFzczogNTAsIHBvc2l0aW9uOiBuZXcgVmVjdG9yMiggMjAwLCAwICksIHZlbG9jaXR5OiBuZXcgVmVjdG9yMiggMCwgMTAwICkgfVxyXG4gICAgXTtcclxuICAgIHRoaXMubG9hZEJvZHlTdGF0ZXMoIHRoaXMuZGVmYXVsdEJvZHlTdGF0ZSApO1xyXG5cclxuICAgIHRoaXMuc2VsZWN0ZWRMYXdQcm9wZXJ0eS5saW5rKCBsYXcgPT4ge1xyXG4gICAgICB0aGlzLnZpc2liaWxpdHlSZXNldCgpO1xyXG5cclxuICAgICAgdGhpcy5pc0ZpcnN0TGF3UHJvcGVydHkudmFsdWUgPSBsYXcgPT09IExhd01vZGUuRklSU1RfTEFXO1xyXG4gICAgICB0aGlzLmlzU2Vjb25kTGF3UHJvcGVydHkudmFsdWUgPSBsYXcgPT09IExhd01vZGUuU0VDT05EX0xBVztcclxuICAgICAgdGhpcy5pc1RoaXJkTGF3UHJvcGVydHkudmFsdWUgPSBsYXcgPT09IExhd01vZGUuVEhJUkRfTEFXO1xyXG5cclxuICAgICAgdGhpcy5sYXdVcGRhdGVkRW1pdHRlci5lbWl0KCk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5wZXJpb2REaXZpc2lvblByb3BlcnR5LmxpbmsoIGRpdmlzaW9ucyA9PiB7XHJcbiAgICAgIHRoaXMuZW5naW5lLnBlcmlvZERpdmlzaW9ucyA9IGRpdmlzaW9ucztcclxuICAgICAgdGhpcy5lbmdpbmUucmVzZXRPcmJpdGFsQXJlYXMoKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmF4aXNWaXNpYmxlUHJvcGVydHkubGluayggYXhpc1Zpc2libGUgPT4ge1xyXG4gICAgICB0aGlzLnNlbWlheGlzVmlzaWJsZVByb3BlcnR5LnZhbHVlID0gYXhpc1Zpc2libGUgPyB0aGlzLnNlbWlheGlzVmlzaWJsZVByb3BlcnR5LnZhbHVlIDogZmFsc2U7XHJcbiAgICAgIC8vUkVWSUVXOiBjb21tZW50ZWQtb3V0IGNvZGVcclxuICAgICAgLy8gdGhpcy5lY2NlbnRyaWNpdHlWaXNpYmxlUHJvcGVydHkudmFsdWUgPSBheGlzVmlzaWJsZSA/IHRoaXMuZWNjZW50cmljaXR5VmlzaWJsZVByb3BlcnR5LnZhbHVlIDogZmFsc2U7XHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmZvY2lWaXNpYmxlUHJvcGVydHkubGluayggZm9jaVZpc2libGUgPT4ge1xyXG4gICAgICB0aGlzLnN0cmluZ3NWaXNpYmxlUHJvcGVydHkudmFsdWUgPSBmb2NpVmlzaWJsZSA/IHRoaXMuc3RyaW5nc1Zpc2libGVQcm9wZXJ0eS52YWx1ZSA6IGZhbHNlO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMudmVsb2NpdHlWaXNpYmxlUHJvcGVydHkudmFsdWUgPSB0cnVlO1xyXG4gICAgdGhpcy52ZWxvY2l0eVZpc2libGVQcm9wZXJ0eS5zZXRJbml0aWFsVmFsdWUoIHRydWUgKTtcclxuXHJcbiAgICAvLyBQb3dlcmVkIHZhbHVlcyBvZiBzZW1pTWFqb3IgYXhpcyBhbmQgcGVyaW9kXHJcbiAgICB0aGlzLnBvd2VyZWRTZW1pTWFqb3JBeGlzUHJvcGVydHkgPSBuZXcgRGVyaXZlZFByb3BlcnR5KFxyXG4gICAgICBbIHRoaXMuc2VsZWN0ZWRBeGlzUG93ZXJQcm9wZXJ0eSwgdGhpcy5lbmdpbmUuc2VtaU1ham9yQXhpc1Byb3BlcnR5IF0sXHJcbiAgICAgICggcG93ZXIsIHNlbWlNYWpvckF4aXMgKSA9PiBNYXRoLnBvdyggc2VtaU1ham9yQXhpcywgcG93ZXIgKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLnBvd2VyZWRQZXJpb2RQcm9wZXJ0eSA9IG5ldyBEZXJpdmVkUHJvcGVydHkoXHJcbiAgICAgIFsgdGhpcy5zZWxlY3RlZFBlcmlvZFBvd2VyUHJvcGVydHksIHRoaXMuZW5naW5lLnBlcmlvZFByb3BlcnR5IF0sXHJcbiAgICAgICggcG93ZXIsIHBlcmlvZCApID0+IE1hdGgucG93KCBwZXJpb2QsIHBvd2VyIClcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5hbHdheXNDaXJjdWxhclByb3BlcnR5LmxpbmsoIGFsd2F5c0NpcmN1bGFyID0+IHtcclxuICAgICAgdGhpcy5lbmdpbmUuYWx3YXlzQ2lyY2xlcyA9IGFsd2F5c0NpcmN1bGFyO1xyXG4gICAgICB0aGlzLmVuZ2luZS51cGRhdGUoKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnN0b3B3YXRjaCA9IG5ldyBTdG9wd2F0Y2goIHtcclxuICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IyKCAtNTAsIC0yNTAgKSxcclxuICAgICAgdGltZVByb3BlcnR5T3B0aW9uczoge1xyXG4gICAgICAgIHJhbmdlOiBTdG9wd2F0Y2guWkVST19UT19BTE1PU1RfU0lYVFksXHJcbiAgICAgICAgdW5pdHM6ICdzJ1xyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5mb3JjZVNjYWxlUHJvcGVydHkudmFsdWUgPSAwLjU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgbG9hZEJvZHlTdGF0ZXMoIGJvZGllc0luZm86IEJvZHlJbmZvW10gKTogdm9pZCB7XHJcbiAgICBzdXBlci5sb2FkQm9keVN0YXRlcyggYm9kaWVzSW5mbyApO1xyXG5cclxuICAgIHRoaXMuZW5naW5lICYmIHRoaXMuZW5naW5lLnVwZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHZpc2liaWxpdHlSZXNldCgpOiB2b2lkIHtcclxuICAgIC8vIENhbGxzIHJlc2V0IG9ubHkgb24gdGhlIHZpc2liaWxpdHlQcm9wZXJ0aWVzIHRvIGF2b2lkIHJlZW50cmllcyBvbiBzZWxlY3RlZExhd1Byb3BlcnR5XHJcbiAgICAvLyBGaXJzdCBMYXdcclxuICAgIHRoaXMuYXhpc1Zpc2libGVQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5zZW1pYXhpc1Zpc2libGVQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5mb2NpVmlzaWJsZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLmVjY2VudHJpY2l0eVZpc2libGVQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5zdHJpbmdzVmlzaWJsZVByb3BlcnR5LnJlc2V0KCk7XHJcblxyXG4gICAgLy8gU2Vjb25kIExhd1xyXG4gICAgdGhpcy5hcG9hcHNpc1Zpc2libGVQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5wZXJpYXBzaXNWaXNpYmxlUHJvcGVydHkucmVzZXQoKTtcclxuXHJcbiAgICAvLyBUaGlyZCBMYXdcclxuICAgIHRoaXMuc2VtaU1ham9yQXhpc1Zpc2libGVQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5wZXJpb2RWaXNpYmxlUHJvcGVydHkucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSByZXNldCgpOiB2b2lkIHtcclxuICAgIHN1cGVyLnJlc2V0KCk7XHJcbiAgICB0aGlzLnNlbGVjdGVkTGF3UHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMucGVyaW9kRGl2aXNpb25Qcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5zZWxlY3RlZEF4aXNQb3dlclByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLnNlbGVjdGVkUGVyaW9kUG93ZXJQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5hbHdheXNDaXJjdWxhclByb3BlcnR5LnJlc2V0KCk7XHJcblxyXG4gICAgdGhpcy52aXNpYmlsaXR5UmVzZXQoKTtcclxuICAgIHRoaXMuZW5naW5lLnVwZGF0ZUFsbG93ZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5lbmdpbmUucmVzZXQoKTtcclxuICAgIHRoaXMuZW5naW5lLnVwZGF0ZSgpO1xyXG5cclxuICAgIHRoaXMubG9hZEJvZHlTdGF0ZXMoIHRoaXMuZGVmYXVsdEJvZHlTdGF0ZSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgIGlmICggdGhpcy5lbmdpbmUudXBkYXRlQWxsb3dlZCApIHtcclxuICAgICAgdGhpcy5lbmdpbmUudXBkYXRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5rZXBsZXJzTGF3cy5yZWdpc3RlciggJ0tlcGxlcnNMYXdzTW9kZWwnLCBLZXBsZXJzTGF3c01vZGVsICk7XHJcbmV4cG9ydCBkZWZhdWx0IEtlcGxlcnNMYXdzTW9kZWw7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBLE9BQU9BLE9BQU8sTUFBTSwrQkFBK0I7QUFDbkQsT0FBT0Msc0JBQXNCLE1BQXdDLG9FQUFvRTtBQUN6SSxPQUFPQyxTQUFTLE1BQU0sdUNBQXVDO0FBQzdELE9BQU9DLE9BQU8sTUFBTSxjQUFjO0FBQ2xDLE9BQU9DLG1CQUFtQixNQUFNLDRDQUE0QztBQUM1RSxPQUFPQyxxQkFBcUIsTUFBTSw0QkFBNEI7QUFDOUQsT0FBT0MsY0FBYyxNQUFNLHVDQUF1QztBQUNsRSxPQUFPQyxlQUFlLE1BQU0sd0NBQXdDO0FBQ3BFLE9BQU9DLE9BQU8sTUFBTSxnQ0FBZ0M7QUFFcEQsT0FBT0MsZUFBZSxNQUFNLHdDQUF3QztBQUNwRSxPQUFPQyxTQUFTLE1BQU0sMENBQTBDO0FBQ2hFLE9BQU9DLFdBQVcsTUFBTSxzQkFBc0I7QUFVOUMsTUFBTUMsZ0JBQWdCLFNBQVNYLHNCQUFzQixDQUF3QjtFQUUzRFksc0JBQXNCLEdBQUcsSUFBSU4sZUFBZSxDQUFFLEtBQU0sQ0FBQzs7RUFFckU7RUFDZ0JPLGtCQUFrQixHQUFHLElBQUlQLGVBQWUsQ0FBRSxLQUFNLENBQUM7RUFDakRRLG1C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