// Copyright 2023, University of Colorado Boulder

/**
 * Kepler's third law accordion box
 *
 * @author AgustÃ­n Vallejo
 */

import { GridBox, RichText, VBox } from '../../../../scenery/js/imports.js';
import { combineOptions } from '../../../../phet-core/js/optionize.js';
import RectangularRadioButtonGroup from '../../../../sun/js/buttons/RectangularRadioButtonGroup.js';
import PatternStringProperty from '../../../../axon/js/PatternStringProperty.js';
import ThirdLawGraph from './ThirdLawGraph.js';
import ThirdLawSliderPanel from './ThirdLawSliderPanel.js';
import SolarSystemCommonConstants from '../../../../solar-system-common/js/SolarSystemCommonConstants.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import Utils from '../../../../dot/js/Utils.js';
import SolarSystemCommonColors from '../../../../solar-system-common/js/SolarSystemCommonColors.js';
import KeplersLawsStrings from '../../KeplersLawsStrings.js';
import keplersLaws from '../../keplersLaws.js';
import SolarSystemCommonStrings from '../../../../solar-system-common/js/SolarSystemCommonStrings.js';
import ThirdLawTextUtils from './ThirdLawTextUtils.js';
import TinyProperty from '../../../../axon/js/TinyProperty.js';
import AccordionBox from '../../../../sun/js/AccordionBox.js';
import KeplersLawsConstants from '../../KeplersLawsConstants.js';
import EraserButton from '../../../../scenery-phet/js/buttons/EraserButton.js';
import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
export default class ThirdLawPanels extends VBox {
  constructor(model) {
    super({
      margin: 5,
      stretch: true,
      children: [new ThirdLawAccordionBox(model), new ThirdLawSliderPanel(model)],
      visibleProperty: model.isThirdLawProperty
    });
  }
}
class ThirdLawAccordionBox extends AccordionBox {
  constructor(model) {
    const options = combineOptions({
      titleNode: new RichText(new DerivedProperty([KeplersLawsStrings.graph.titleStringProperty, model.selectedAxisPowerProperty, model.selectedPeriodPowerProperty], (stringPattern, axisPower, periodPower) => {
        const axisString = axisPower === 1 ? '' : `<sup>${axisPower}</sup>`;
        const periodString = periodPower === 1 ? '' : `<sup>${periodPower}</sup>`;
        return StringUtils.fillIn(stringPattern, {
          axisPower: axisString,
          periodPower: periodString
        });
      }), SolarSystemCommonConstants.TITLE_OPTIONS),
      titleYMargin: 10,
      buttonXMargin: 10,
      expandCollapseButtonOptions: {
        scale: 1.5
      },
      visibleProperty: model.isThirdLawProperty,
      fill: SolarSystemCommonColors.backgroundProperty,
      stroke: SolarSystemCommonColors.gridIconStrokeColorProperty,
      minWidth: KeplersLawsConstants.PANELS_MIN_WIDTH
    }, SolarSystemCommonConstants.CONTROL_PANEL_OPTIONS);
    const semiMajorAxisPatternStringProperty = new PatternStringProperty(KeplersLawsStrings.pattern.textEqualsValueUnitsStringProperty, {
      text: ThirdLawTextUtils.createPowerStringProperty(KeplersLawsStrings.symbols.semiMajorAxisStringProperty, model.selectedAxisPowerProperty, new TinyProperty(true)),
      units: ThirdLawTextUtils.createPowerStringProperty(SolarSystemCommonStrings.units.AUStringProperty, model.selectedAxisPowerProperty, model.engine.allowedOrbitProperty),
      value: new DerivedProperty([model.poweredSemiMajorAxisProperty, model.engine.allowedOrbitProperty, KeplersLawsStrings.undefinedStringProperty], (poweredSemiMajorAxis, allowedOrbit, undefinedMessage) => {
        return allowedOrbit ? Utils.toFixed(poweredSemiMajorAxis, 2) : undefinedMessage;
      })
    });
    const periodPatternStringProperty = new PatternStringProperty(KeplersLawsStrings.pattern.textEqualsValueUnitsStringProperty, {
      text: ThirdLawTextUtils.createPowerStringProperty(KeplersLawsStrings.symbols.periodStringProperty, model.selectedPeriodPowerProperty, new TinyProperty(true)),
      units: ThirdLawTextUtils.createPowerStringProperty(SolarSystemCommonStrings.units.yearsStringProperty, model.selectedPeriodPowerProperty, model.engine.allowedOrbitProperty),
      value: new DerivedProperty([model.poweredPeriodProperty, model.engine.allowedOrbitProperty, KeplersLawsStrings.undefinedStringProperty], (poweredPeriod, allowedOrbit, undefinedMessage) => {
        return allowedOrbit ? Utils.toFixed(poweredPeriod, 2) : undefinedMessage;
      })
    });
    const semiMajorAxisNumberDisplay = new RichText(semiMajorAxisPatternStringProperty, SolarSystemCommonConstants.TEXT_OPTIONS);
    const periodNumberDisplay = new RichText(periodPatternStringProperty, SolarSystemCommonConstants.TEXT_OPTIONS);

    // TODO: Add string a=infinite. Look at FirstLawPanels.ts to be consistent. Should we change that way?

    super(new VBox({
      spacing: 10,
      align: 'left',
      children: [new GridBox({
        children: [
        // Period power buttons
        new RectangularRadioButtonGroup(model.selectedPeriodPowerProperty, [{
          value: 1,
          createNode: () => new RichText(KeplersLawsStrings.symbols.periodStringProperty, SolarSystemCommonConstants.TEXT_OPTIONS)
        }, {
          value: 2,
          //REVIEW: And this should probably include string composition (e.g. combining the translated string for
          //REVIEW: T with the superscript somehow?)
          createNode: () => new RichText('T<sup>2</sup>', SolarSystemCommonConstants.TEXT_OPTIONS)
        }, {
          value: 3,
          createNode: () => new RichText('T<sup>3</sup>', SolarSystemCommonConstants.TEXT_OPTIONS)
        }], {
          layoutOptions: {
            column: 0,
            row: 0
          }
        }),
        // Semi-major axis power buttons
        new RectangularRadioButtonGroup(model.selectedAxisPowerProperty, [{
          value: 1,
          createNode: () => new RichText(KeplersLawsStrings.symbols.semiMajorAxisStringProperty, SolarSystemCommonConstants.TEXT_OPTIONS)
        }, {
          value: 2,
          createNode: () => new RichText('a<sup>2</sup>', SolarSystemCommonConstants.TEXT_OPTIONS)
        }, {
          value: 3,
          createNode: () => new RichText('a<sup>3</sup>', SolarSystemCommonConstants.TEXT_OPTIONS)
        }], {
          layoutOptions: {
            column: 1,
            row: 1
          },
          orientation: 'horizontal'
        }), new ThirdLawGraph(model, model.engine, {
          layoutOptions: {
            column: 1,
            row: 0
          },
          excludeInvisibleChildrenFromBounds: true
        }), new EraserButton({
          listener: () => model.engine.resetEmitter.emit(),
          layoutOptions: {
            column: 0,
            row: 1
          }
        })],
        spacing: 10
      }), semiMajorAxisNumberDisplay, periodNumberDisplay]
    }), options);
  }
}
keplersLaws.register('ThirdLawPanels', ThirdLawPanels);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHcmlkQm94IiwiUmljaFRleHQiLCJWQm94IiwiY29tYmluZU9wdGlvbnMiLCJSZWN0YW5ndWxhclJhZGlvQnV0dG9uR3JvdXAiLCJQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJUaGlyZExhd0dyYXBoIiwiVGhpcmRMYXdTbGlkZXJQYW5lbCIsIlNvbGFyU3lzdGVtQ29tbW9uQ29uc3RhbnRzIiwiRGVyaXZlZFByb3BlcnR5IiwiVXRpbHMiLCJTb2xhclN5c3RlbUNvbW1vbkNvbG9ycyIsIktlcGxlcnNMYXdzU3RyaW5ncyIsImtlcGxlcnNMYXdzIiwiU29sYXJTeXN0ZW1Db21tb25TdHJpbmdzIiwiVGhpcmRMYXdUZXh0VXRpbHMiLCJUaW55UHJvcGVydHkiLCJBY2NvcmRpb25Cb3giLCJLZXBsZXJzTGF3c0NvbnN0YW50cyIsIkVyYXNlckJ1dHRvbiIsIlN0cmluZ1V0aWxzIiwiVGhpcmRMYXdQYW5lbHMiLCJjb25zdHJ1Y3RvciIsIm1vZGVsIiwibWFyZ2luIiwic3RyZXRjaCIsImNoaWxkcmVuIiwiVGhpcmRMYXdBY2NvcmRpb25Cb3giLCJ2aXNpYmxlUHJvcGVydHkiLCJpc1RoaXJkTGF3UHJvcGVydHkiLCJvcHRpb25zIiwidGl0bGVOb2RlIiwiZ3JhcGgiLCJ0aXRsZVN0cmluZ1Byb3BlcnR5Iiwic2VsZWN0ZWRBeGlzUG93ZXJQcm9wZXJ0eSIsInNlbGVjdGVkUGVyaW9kUG93ZXJQcm9wZXJ0eSIsInN0cmluZ1BhdHRlcm4iLCJheGlzUG93ZXIiLCJwZXJpb2RQb3dlciIsImF4aXNTdHJpbmciLCJwZXJpb2RTdHJpbmciLCJmaWxsSW4iLCJUSVRMRV9PUFRJT05TIiwidGl0bGVZTWFyZ2luIiwiYnV0dG9uWE1hcmdpbiIsImV4cGFuZENvbGxhcHNlQnV0dG9uT3B0aW9ucyIsInNjYWxlIiwiZmlsbCIsImJhY2tncm91bmRQcm9wZXJ0eSIsInN0cm9rZSIsImdyaWRJY29uU3Ryb2tlQ29sb3JQcm9wZXJ0eSIsIm1pbldpZHRoIiwiUEFORUxTX01JTl9XSURUSCIsIkNPTlRST0xfUEFORUxfT1BUSU9OUyIsInNlbWlNYWpvckF4aXNQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJwYXR0ZXJuIiwidGV4dEVxdWFsc1ZhbHVlVW5pdHNTdHJpbmdQcm9wZXJ0eSIsInRleHQiLCJjcmVhdGVQb3dlclN0cmluZ1Byb3BlcnR5Iiwic3ltYm9scyIsInNlbWlNYWpvckF4aXNTdHJpbmdQcm9wZXJ0eSIsInVuaXRzIiwiQVVTdHJpbmdQcm9wZXJ0eSIsImVuZ2luZSIsImFsbG93ZWRPcmJpdFByb3BlcnR5IiwidmFsdWUiLCJwb3dlcmVkU2VtaU1ham9yQXhpc1Byb3BlcnR5IiwidW5kZWZpbmVkU3RyaW5nUHJvcGVydHkiLCJwb3dlcmVkU2VtaU1ham9yQXhpcyIsImFsbG93ZWRPcmJpdCIsInVuZGVmaW5lZE1lc3NhZ2UiLCJ0b0ZpeGVkIiwicGVyaW9kUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwicGVyaW9kU3RyaW5nUHJvcGVydHkiLCJ5ZWFyc1N0cmluZ1Byb3BlcnR5IiwicG93ZXJlZFBlcmlvZFByb3BlcnR5IiwicG93ZXJlZFBlcmlvZCIsInNlbWlNYWpvckF4aXNOdW1iZXJEaXNwbGF5IiwiVEVYVF9PUFRJT05TIiwicGVyaW9kTnVtYmVyRGlzcGxheSIsInNwYWNpbmciLCJhbGlnbiIsImNyZWF0ZU5vZGUiLCJsYXlvdXRPcHRpb25zIiwiY29sdW1uIiwicm93Iiwib3JpZW50YXRpb24iLCJleGNsdWRlSW52aXNpYmxlQ2hpbGRyZW5Gcm9tQm91bmRzIiwibGlzdGVuZXIiLCJyZXNldEVtaXR0ZXIiLCJlbWl0IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJUaGlyZExhd1BhbmVscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogS2VwbGVyJ3MgdGhpcmQgbGF3IGFjY29yZGlvbiBib3hcclxuICpcclxuICogQGF1dGhvciBBZ3VzdMOtbiBWYWxsZWpvXHJcbiAqL1xyXG5cclxuaW1wb3J0IEtlcGxlcnNMYXdzTW9kZWwgZnJvbSAnLi4vbW9kZWwvS2VwbGVyc0xhd3NNb2RlbC5qcyc7XHJcbmltcG9ydCB7IEdyaWRCb3gsIFJpY2hUZXh0LCBWQm94IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IHsgY29tYmluZU9wdGlvbnMsIEVtcHR5U2VsZk9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuaW1wb3J0IFJlY3Rhbmd1bGFyUmFkaW9CdXR0b25Hcm91cCBmcm9tICcuLi8uLi8uLi8uLi9zdW4vanMvYnV0dG9ucy9SZWN0YW5ndWxhclJhZGlvQnV0dG9uR3JvdXAuanMnO1xyXG5pbXBvcnQgUGF0dGVyblN0cmluZ1Byb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUGF0dGVyblN0cmluZ1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IFRoaXJkTGF3R3JhcGggZnJvbSAnLi9UaGlyZExhd0dyYXBoLmpzJztcclxuaW1wb3J0IFRoaXJkTGF3U2xpZGVyUGFuZWwgZnJvbSAnLi9UaGlyZExhd1NsaWRlclBhbmVsLmpzJztcclxuaW1wb3J0IFNvbGFyU3lzdGVtQ29tbW9uQ29uc3RhbnRzIGZyb20gJy4uLy4uLy4uLy4uL3NvbGFyLXN5c3RlbS1jb21tb24vanMvU29sYXJTeXN0ZW1Db21tb25Db25zdGFudHMuanMnO1xyXG5pbXBvcnQgRGVyaXZlZFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvRGVyaXZlZFByb3BlcnR5LmpzJztcclxuaW1wb3J0IFV0aWxzIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9VdGlscy5qcyc7XHJcbmltcG9ydCBTb2xhclN5c3RlbUNvbW1vbkNvbG9ycyBmcm9tICcuLi8uLi8uLi8uLi9zb2xhci1zeXN0ZW0tY29tbW9uL2pzL1NvbGFyU3lzdGVtQ29tbW9uQ29sb3JzLmpzJztcclxuaW1wb3J0IEtlcGxlcnNMYXdzU3RyaW5ncyBmcm9tICcuLi8uLi9LZXBsZXJzTGF3c1N0cmluZ3MuanMnO1xyXG5pbXBvcnQga2VwbGVyc0xhd3MgZnJvbSAnLi4vLi4va2VwbGVyc0xhd3MuanMnO1xyXG5pbXBvcnQgU29sYXJTeXN0ZW1Db21tb25TdHJpbmdzIGZyb20gJy4uLy4uLy4uLy4uL3NvbGFyLXN5c3RlbS1jb21tb24vanMvU29sYXJTeXN0ZW1Db21tb25TdHJpbmdzLmpzJztcclxuaW1wb3J0IFRoaXJkTGF3VGV4dFV0aWxzIGZyb20gJy4vVGhpcmRMYXdUZXh0VXRpbHMuanMnO1xyXG5pbXBvcnQgVGlueVByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvVGlueVByb3BlcnR5LmpzJztcclxuaW1wb3J0IEFjY29yZGlvbkJveCwgeyBBY2NvcmRpb25Cb3hPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL0FjY29yZGlvbkJveC5qcyc7XHJcbmltcG9ydCBLZXBsZXJzTGF3c0NvbnN0YW50cyBmcm9tICcuLi8uLi9LZXBsZXJzTGF3c0NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBFcmFzZXJCdXR0b24gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL2J1dHRvbnMvRXJhc2VyQnV0dG9uLmpzJztcclxuaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvdXRpbC9TdHJpbmdVdGlscy5qcyc7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0gRW1wdHlTZWxmT3B0aW9ucztcclxuZXhwb3J0IHR5cGUgVGhpcmRMYXdBY2NvcmRpb25Cb3hPcHRpb25zID0gQWNjb3JkaW9uQm94T3B0aW9ucyAmIFNlbGZPcHRpb25zO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhpcmRMYXdQYW5lbHMgZXh0ZW5kcyBWQm94IHtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIG1vZGVsOiBLZXBsZXJzTGF3c01vZGVsICkge1xyXG4gICAgc3VwZXIoIHtcclxuICAgICAgbWFyZ2luOiA1LFxyXG4gICAgICBzdHJldGNoOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIG5ldyBUaGlyZExhd0FjY29yZGlvbkJveCggbW9kZWwgKSxcclxuICAgICAgICBuZXcgVGhpcmRMYXdTbGlkZXJQYW5lbCggbW9kZWwgKVxyXG4gICAgICBdLFxyXG4gICAgICB2aXNpYmxlUHJvcGVydHk6IG1vZGVsLmlzVGhpcmRMYXdQcm9wZXJ0eVxyXG4gICAgfSApO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgVGhpcmRMYXdBY2NvcmRpb25Cb3ggZXh0ZW5kcyBBY2NvcmRpb25Cb3gge1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggbW9kZWw6IEtlcGxlcnNMYXdzTW9kZWwgKSB7XHJcbiAgICBjb25zdCBvcHRpb25zID0gY29tYmluZU9wdGlvbnM8VGhpcmRMYXdBY2NvcmRpb25Cb3hPcHRpb25zPigge1xyXG4gICAgICB0aXRsZU5vZGU6IG5ldyBSaWNoVGV4dCggbmV3IERlcml2ZWRQcm9wZXJ0eSggW1xyXG4gICAgICAgIEtlcGxlcnNMYXdzU3RyaW5ncy5ncmFwaC50aXRsZVN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICAgIG1vZGVsLnNlbGVjdGVkQXhpc1Bvd2VyUHJvcGVydHksXHJcbiAgICAgICAgbW9kZWwuc2VsZWN0ZWRQZXJpb2RQb3dlclByb3BlcnR5XHJcbiAgICAgIF0sICggc3RyaW5nUGF0dGVybiwgYXhpc1Bvd2VyLCBwZXJpb2RQb3dlciApID0+IHtcclxuICAgICAgICBjb25zdCBheGlzU3RyaW5nID0gYXhpc1Bvd2VyID09PSAxID8gJycgOiBgPHN1cD4ke2F4aXNQb3dlcn08L3N1cD5gO1xyXG4gICAgICAgIGNvbnN0IHBlcmlvZFN0cmluZyA9IHBlcmlvZFBvd2VyID09PSAxID8gJycgOiBgPHN1cD4ke3BlcmlvZFBvd2VyfTwvc3VwPmA7XHJcblxyXG4gICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5maWxsSW4oIHN0cmluZ1BhdHRlcm4sIHtcclxuICAgICAgICAgIGF4aXNQb3dlcjogYXhpc1N0cmluZyxcclxuICAgICAgICAgIHBlcmlvZFBvd2VyOiBwZXJpb2RTdHJpbmdcclxuICAgICAgICB9ICk7XHJcbiAgICAgIH0gKSwgU29sYXJTeXN0ZW1Db21tb25Db25zdGFudHMuVElUTEVfT1BUSU9OUyApLFxyXG4gICAgICB0aXRsZVlNYXJnaW46IDEwLFxyXG4gICAgICBidXR0b25YTWFyZ2luOiAxMCxcclxuICAgICAgZXhwYW5kQ29sbGFwc2VCdXR0b25PcHRpb25zOiB7XHJcbiAgICAgICAgc2NhbGU6IDEuNVxyXG4gICAgICB9LFxyXG4gICAgICB2aXNpYmxlUHJvcGVydHk6IG1vZGVsLmlzVGhpcmRMYXdQcm9wZXJ0eSxcclxuICAgICAgZmlsbDogU29sYXJTeXN0ZW1Db21tb25Db2xvcnMuYmFja2dyb3VuZFByb3BlcnR5LFxyXG4gICAgICBzdHJva2U6IFNvbGFyU3lzdGVtQ29tbW9uQ29sb3JzLmdyaWRJY29uU3Ryb2tlQ29sb3JQcm9wZXJ0eSxcclxuICAgICAgbWluV2lkdGg6IEtlcGxlcnNMYXdzQ29uc3RhbnRzLlBBTkVMU19NSU5fV0lEVEhcclxuICAgIH0sIFNvbGFyU3lzdGVtQ29tbW9uQ29uc3RhbnRzLkNPTlRST0xfUEFORUxfT1BUSU9OUyApO1xyXG5cclxuICAgIGNvbnN0IHNlbWlNYWpvckF4aXNQYXR0ZXJuU3RyaW5nUHJvcGVydHkgPSBuZXcgUGF0dGVyblN0cmluZ1Byb3BlcnR5KCBLZXBsZXJzTGF3c1N0cmluZ3MucGF0dGVybi50ZXh0RXF1YWxzVmFsdWVVbml0c1N0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIHRleHQ6IFRoaXJkTGF3VGV4dFV0aWxzLmNyZWF0ZVBvd2VyU3RyaW5nUHJvcGVydHkoIEtlcGxlcnNMYXdzU3RyaW5ncy5zeW1ib2xzLnNlbWlNYWpvckF4aXNTdHJpbmdQcm9wZXJ0eSwgbW9kZWwuc2VsZWN0ZWRBeGlzUG93ZXJQcm9wZXJ0eSwgbmV3IFRpbnlQcm9wZXJ0eTxib29sZWFuPiggdHJ1ZSApICksXHJcbiAgICAgIHVuaXRzOiBUaGlyZExhd1RleHRVdGlscy5jcmVhdGVQb3dlclN0cmluZ1Byb3BlcnR5KCBTb2xhclN5c3RlbUNvbW1vblN0cmluZ3MudW5pdHMuQVVTdHJpbmdQcm9wZXJ0eSwgbW9kZWwuc2VsZWN0ZWRBeGlzUG93ZXJQcm9wZXJ0eSwgbW9kZWwuZW5naW5lLmFsbG93ZWRPcmJpdFByb3BlcnR5ICksXHJcbiAgICAgIHZhbHVlOiBuZXcgRGVyaXZlZFByb3BlcnR5KFxyXG4gICAgICAgIFsgbW9kZWwucG93ZXJlZFNlbWlNYWpvckF4aXNQcm9wZXJ0eSwgbW9kZWwuZW5naW5lLmFsbG93ZWRPcmJpdFByb3BlcnR5LCBLZXBsZXJzTGF3c1N0cmluZ3MudW5kZWZpbmVkU3RyaW5nUHJvcGVydHkgXSxcclxuICAgICAgICAoIHBvd2VyZWRTZW1pTWFqb3JBeGlzLCBhbGxvd2VkT3JiaXQsIHVuZGVmaW5lZE1lc3NhZ2UgKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gYWxsb3dlZE9yYml0ID8gVXRpbHMudG9GaXhlZCggcG93ZXJlZFNlbWlNYWpvckF4aXMsIDIgKSA6IHVuZGVmaW5lZE1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgcGVyaW9kUGF0dGVyblN0cmluZ1Byb3BlcnR5ID0gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggS2VwbGVyc0xhd3NTdHJpbmdzLnBhdHRlcm4udGV4dEVxdWFsc1ZhbHVlVW5pdHNTdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICB0ZXh0OiBUaGlyZExhd1RleHRVdGlscy5jcmVhdGVQb3dlclN0cmluZ1Byb3BlcnR5KCBLZXBsZXJzTGF3c1N0cmluZ3Muc3ltYm9scy5wZXJpb2RTdHJpbmdQcm9wZXJ0eSwgbW9kZWwuc2VsZWN0ZWRQZXJpb2RQb3dlclByb3BlcnR5LCBuZXcgVGlueVByb3BlcnR5PGJvb2xlYW4+KCB0cnVlICkgKSxcclxuICAgICAgdW5pdHM6IFRoaXJkTGF3VGV4dFV0aWxzLmNyZWF0ZVBvd2VyU3RyaW5nUHJvcGVydHkoIFNvbGFyU3lzdGVtQ29tbW9uU3RyaW5ncy51bml0cy55ZWFyc1N0cmluZ1Byb3BlcnR5LCBtb2RlbC5zZWxlY3RlZFBlcmlvZFBvd2VyUHJvcGVydHksIG1vZGVsLmVuZ2luZS5hbGxvd2VkT3JiaXRQcm9wZXJ0eSApLFxyXG4gICAgICB2YWx1ZTogbmV3IERlcml2ZWRQcm9wZXJ0eShcclxuICAgICAgICBbIG1vZGVsLnBvd2VyZWRQZXJpb2RQcm9wZXJ0eSwgbW9kZWwuZW5naW5lLmFsbG93ZWRPcmJpdFByb3BlcnR5LCBLZXBsZXJzTGF3c1N0cmluZ3MudW5kZWZpbmVkU3RyaW5nUHJvcGVydHkgXSxcclxuICAgICAgICAoIHBvd2VyZWRQZXJpb2QsIGFsbG93ZWRPcmJpdCwgdW5kZWZpbmVkTWVzc2FnZSApID0+IHtcclxuICAgICAgICAgIHJldHVybiBhbGxvd2VkT3JiaXQgPyBVdGlscy50b0ZpeGVkKCBwb3dlcmVkUGVyaW9kLCAyICkgOiB1bmRlZmluZWRNZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgKVxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IHNlbWlNYWpvckF4aXNOdW1iZXJEaXNwbGF5ID0gbmV3IFJpY2hUZXh0KCBzZW1pTWFqb3JBeGlzUGF0dGVyblN0cmluZ1Byb3BlcnR5LCBTb2xhclN5c3RlbUNvbW1vbkNvbnN0YW50cy5URVhUX09QVElPTlMgKTtcclxuICAgIGNvbnN0IHBlcmlvZE51bWJlckRpc3BsYXkgPSBuZXcgUmljaFRleHQoIHBlcmlvZFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwgU29sYXJTeXN0ZW1Db21tb25Db25zdGFudHMuVEVYVF9PUFRJT05TICk7XHJcblxyXG4gICAgLy8gVE9ETzogQWRkIHN0cmluZyBhPWluZmluaXRlLiBMb29rIGF0IEZpcnN0TGF3UGFuZWxzLnRzIHRvIGJlIGNvbnNpc3RlbnQuIFNob3VsZCB3ZSBjaGFuZ2UgdGhhdCB3YXk/XHJcblxyXG4gICAgc3VwZXIoIG5ldyBWQm94KCB7XHJcbiAgICAgIHNwYWNpbmc6IDEwLFxyXG4gICAgICBhbGlnbjogJ2xlZnQnLFxyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIG5ldyBHcmlkQm94KCB7XHJcbiAgICAgICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgICAgICAvLyBQZXJpb2QgcG93ZXIgYnV0dG9uc1xyXG4gICAgICAgICAgICBuZXcgUmVjdGFuZ3VsYXJSYWRpb0J1dHRvbkdyb3VwKFxyXG4gICAgICAgICAgICAgIG1vZGVsLnNlbGVjdGVkUGVyaW9kUG93ZXJQcm9wZXJ0eSxcclxuICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiAxLFxyXG4gICAgICAgICAgICAgICAgICBjcmVhdGVOb2RlOiAoKSA9PiBuZXcgUmljaFRleHQoIEtlcGxlcnNMYXdzU3RyaW5ncy5zeW1ib2xzLnBlcmlvZFN0cmluZ1Byb3BlcnR5LCBTb2xhclN5c3RlbUNvbW1vbkNvbnN0YW50cy5URVhUX09QVElPTlMgKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgdmFsdWU6IDIsXHJcbiAgICAgICAgICAgICAgICAgIC8vUkVWSUVXOiBBbmQgdGhpcyBzaG91bGQgcHJvYmFibHkgaW5jbHVkZSBzdHJpbmcgY29tcG9zaXRpb24gKGUuZy4gY29tYmluaW5nIHRoZSB0cmFuc2xhdGVkIHN0cmluZyBmb3JcclxuICAgICAgICAgICAgICAgICAgLy9SRVZJRVc6IFQgd2l0aCB0aGUgc3VwZXJzY3JpcHQgc29tZWhvdz8pXHJcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZU5vZGU6ICgpID0+IG5ldyBSaWNoVGV4dCggJ1Q8c3VwPjI8L3N1cD4nLCBTb2xhclN5c3RlbUNvbW1vbkNvbnN0YW50cy5URVhUX09QVElPTlMgKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgdmFsdWU6IDMsXHJcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZU5vZGU6ICgpID0+IG5ldyBSaWNoVGV4dCggJ1Q8c3VwPjM8L3N1cD4nLCBTb2xhclN5c3RlbUNvbW1vbkNvbnN0YW50cy5URVhUX09QVElPTlMgKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGF5b3V0T3B0aW9uczogeyBjb2x1bW46IDAsIHJvdzogMCB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAvLyBTZW1pLW1ham9yIGF4aXMgcG93ZXIgYnV0dG9uc1xyXG4gICAgICAgICAgICBuZXcgUmVjdGFuZ3VsYXJSYWRpb0J1dHRvbkdyb3VwKFxyXG4gICAgICAgICAgICAgIG1vZGVsLnNlbGVjdGVkQXhpc1Bvd2VyUHJvcGVydHksXHJcbiAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogMSxcclxuICAgICAgICAgICAgICAgICAgY3JlYXRlTm9kZTogKCkgPT4gbmV3IFJpY2hUZXh0KCBLZXBsZXJzTGF3c1N0cmluZ3Muc3ltYm9scy5zZW1pTWFqb3JBeGlzU3RyaW5nUHJvcGVydHksIFNvbGFyU3lzdGVtQ29tbW9uQ29uc3RhbnRzLlRFWFRfT1BUSU9OUyApXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogMixcclxuICAgICAgICAgICAgICAgICAgY3JlYXRlTm9kZTogKCkgPT4gbmV3IFJpY2hUZXh0KCAnYTxzdXA+Mjwvc3VwPicsIFNvbGFyU3lzdGVtQ29tbW9uQ29uc3RhbnRzLlRFWFRfT1BUSU9OUyApXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogMyxcclxuICAgICAgICAgICAgICAgICAgY3JlYXRlTm9kZTogKCkgPT4gbmV3IFJpY2hUZXh0KCAnYTxzdXA+Mzwvc3VwPicsIFNvbGFyU3lzdGVtQ29tbW9uQ29uc3RhbnRzLlRFWFRfT1BUSU9OUyApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYXlvdXRPcHRpb25zOiB7IGNvbHVtbjogMSwgcm93OiAxIH0sXHJcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbjogJ2hvcml6b250YWwnXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgICBuZXcgVGhpcmRMYXdHcmFwaCggbW9kZWwsIG1vZGVsLmVuZ2luZSwge1xyXG4gICAgICAgICAgICAgIGxheW91dE9wdGlvbnM6IHsgY29sdW1uOiAxLCByb3c6IDAgfSxcclxuICAgICAgICAgICAgICBleGNsdWRlSW52aXNpYmxlQ2hpbGRyZW5Gcm9tQm91bmRzOiB0cnVlXHJcbiAgICAgICAgICAgIH0gKSxcclxuICAgICAgICAgICAgbmV3IEVyYXNlckJ1dHRvbigge1xyXG4gICAgICAgICAgICAgIGxpc3RlbmVyOiAoKSA9PiBtb2RlbC5lbmdpbmUucmVzZXRFbWl0dGVyLmVtaXQoKSxcclxuICAgICAgICAgICAgICBsYXlvdXRPcHRpb25zOiB7IGNvbHVtbjogMCwgcm93OiAxIH1cclxuICAgICAgICAgICAgfSApXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgc3BhY2luZzogMTBcclxuICAgICAgICB9ICksXHJcbiAgICAgICAgc2VtaU1ham9yQXhpc051bWJlckRpc3BsYXksXHJcbiAgICAgICAgcGVyaW9kTnVtYmVyRGlzcGxheVxyXG4gICAgICBdXHJcbiAgICB9ICksIG9wdGlvbnMgKTtcclxuICB9XHJcbn1cclxuXHJcbmtlcGxlcnNMYXdzLnJlZ2lzdGVyKCAnVGhpcmRMYXdQYW5lbHMnLCBUaGlyZExhd1BhbmVscyApOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQSxTQUFTQSxPQUFPLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxRQUFRLG1DQUFtQztBQUMzRSxTQUFTQyxjQUFjLFFBQTBCLHVDQUF1QztBQUN4RixPQUFPQywyQkFBMkIsTUFBTSwyREFBMkQ7QUFDbkcsT0FBT0MscUJBQXFCLE1BQU0sOENBQThDO0FBQ2hGLE9BQU9DLGFBQWEsTUFBTSxvQkFBb0I7QUFDOUMsT0FBT0MsbUJBQW1CLE1BQU0sMEJBQTBCO0FBQzFELE9BQU9DLDBCQUEwQixNQUFNLGtFQUFrRTtBQUN6RyxPQUFPQyxlQUFlLE1BQU0sd0NBQXdDO0FBQ3BFLE9BQU9DLEtBQUssTUFBTSw2QkFBNkI7QUFDL0MsT0FBT0MsdUJBQXVCLE1BQU0sK0RBQStEO0FBQ25HLE9BQU9DLGtCQUFrQixNQUFNLDZCQUE2QjtBQUM1RCxPQUFPQyxXQUFXLE1BQU0sc0JBQXNCO0FBQzlDLE9BQU9DLHdCQUF3QixNQUFNLGdFQUFnRTtBQUNyRyxPQUFPQyxpQkFBaUIsTUFBTSx3QkFBd0I7QUFDdEQsT0FBT0MsWUFBWSxNQUFNLHFDQUFxQztBQUM5RCxPQUFPQyxZQUFZLE1BQStCLG9DQUFvQztBQUN0RixPQUFPQyxvQkFBb0IsTUFBTSwrQkFBK0I7QUFDaEUsT0FBT0MsWUFBWSxNQUFNLHFEQUFxRDtBQUM5RSxPQUFPQyxXQUFXLE1BQU0sK0NBQStDO0FBS3ZFLGVBQWUsTUFBTUMsY0FBYyxTQUFTbkIsSUFBSSxDQUFDO0VBQ3hDb0IsV0FBV0EsQ0FBRUMsS0FBdUIsRUFBRztJQUM1QyxLQUFLLENBQUU7TUFDTEMsTUFBTSxFQUFFLENBQUM7TUFDVEMsT0FBTyxFQUFFLElBQUk7TUFDYkMsUUFBUSxFQUFFLENBQ1IsSUFBSUMsb0JBQW9CLENBQUVKLEtBQU0sQ0FBQyxFQUNqQyxJQUFJaEIsbUJBQW1CLENBQUVnQixLQUFNLENBQUMsQ0FDakM7TUFDREssZUFBZSxFQUFFTCxLQUFLLENBQUNNO0lBQ3pCLENBQUUsQ0FBQztFQUNMO0FBQ0Y7QUFFQSxNQUFNRixvQkFBb0IsU0FBU1YsWUFBWSxDQUFDO0VBQ3ZDSyxXQUFXQSxDQUFFQyxLQUF1QixFQUFHO0lBQzVDLE1BQU1PLE9BQU8sR0FBRzNCLGNBQWMsQ0FBK0I7TUFDM0Q0QixTQUFTLEVBQUUsSUFBSTlCLFFBQVEsQ0FBRSxJQUFJUSxlQUFlLENBQUUsQ0FDNUNHLGtCQUFrQixDQUFDb0IsS0FBSyxDQUFDQyxtQkFBbUIsRUFDNUNWLEtBQUssQ0FBQ1cseUJBQXlCLEVBQy9CWCxLQUFLLENBQUNZLDJCQUEyQixDQUNsQyxFQUFFLENBQUVDLGFBQWEsRUFBRUMsU0FBUyxFQUFFQyxXQUFXLEtBQU07UUFDOUMsTUFBTUMsVUFBVSxHQUFHRixTQUFTLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBSSxRQUFPQSxTQUFVLFFBQU87UUFDbkUsTUFBTUcsWUFBWSxHQUFHRixXQUFXLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBSSxRQUFPQSxXQUFZLFFBQU87UUFFekUsT0FBT2xCLFdBQVcsQ0FBQ3FCLE1BQU0sQ0FBRUwsYUFBYSxFQUFFO1VBQ3hDQyxTQUFTLEVBQUVFLFVBQVU7VUFDckJELFdBQVcsRUFBRUU7UUFDZixDQUFFLENBQUM7TUFDTCxDQUFFLENBQUMsRUFBRWhDLDBCQUEwQixDQUFDa0MsYUFBYyxDQUFDO01BQy9DQyxZQUFZLEVBQUUsRUFBRTtNQUNoQkMsYUFBYSxFQUFFLEVBQUU7TUFDakJDLDJCQUEyQixFQUFFO1FBQzNCQyxLQUFLLEVBQUU7TUFDVCxDQUFDO01BQ0RsQixlQUFlLEVBQUVMLEtBQUssQ0FBQ00sa0JBQWtCO01BQ3pDa0IsSUFBSSxFQUFFcEMsdUJBQXVCLENBQUNxQyxrQkFBa0I7TUFDaERDLE1BQU0sRUFBRXRDLHVCQUF1QixDQUFDdUMsMkJBQTJCO01BQzNEQyxRQUFRLEVBQUVqQyxvQkFBb0IsQ0FBQ2tDO0lBQ2pDLENBQUMsRUFBRTVDLDBCQUEwQixDQUFDNkMscUJBQXNCLENBQUM7SUFFckQsTUFBTUMsa0NBQWtDLEdBQUcsSUFBSWpELHFCQUFxQixDQUFFTyxrQkFBa0IsQ0FBQzJDLE9BQU8sQ0FBQ0Msa0NBQWtDLEVBQUU7TUFDbklDLElBQUksRUFBRTFDLGlCQUFpQixDQUFDMkMseUJBQXlCLENBQUU5QyxrQkFBa0IsQ0FBQytDLE9BQU8sQ0FBQ0MsMkJBQTJCLEVBQUVyQyxLQUFLLENBQUNXLHlCQUF5QixFQUFFLElBQUlsQixZQUFZLENBQVcsSUFBSyxDQUFFLENBQUM7TUFDL0s2QyxLQUFLLEVBQUU5QyxpQkFBaUIsQ0FBQzJDLHlCQUF5QixDQUFFNUMsd0JBQXdCLENBQUMrQyxLQUFLLENBQUNDLGdCQUFnQixFQUFFdkMsS0FBSyxDQUFDVyx5QkFBeUIsRUFBRVgsS0FBSyxDQUFDd0MsTUFBTSxDQUFDQyxvQkFBcUIsQ0FBQztNQUN6S0MsS0FBSyxFQUFFLElBQUl4RCxlQUFlLENBQ3hCLENBQUVjLEtBQUssQ0FBQzJDLDRCQUE0QixFQUFFM0MsS0FBSyxDQUFDd0MsTUFBTSxDQUFDQyxvQkFBb0IsRUFBRXBELGtCQUFrQixDQUFDdUQsdUJBQXVCLENBQUUsRUFDckgsQ0FBRUMsb0JBQW9CLEVBQUVDLFlBQVksRUFBRUMsZ0JBQWdCLEtBQU07UUFDMUQsT0FBT0QsWUFBWSxHQUFHM0QsS0FBSyxDQUFDNkQsT0FBTyxDQUFFSCxvQkFBb0IsRUFBRSxDQUFFLENBQUMsR0FBR0UsZ0JBQWdCO01BQ25GLENBQ0Y7SUFDRixDQUFFLENBQUM7SUFFSCxNQUFNRSwyQkFBMkIsR0FBRyxJQUFJbkUscUJBQXFCLENBQUVPLGtCQUFrQixDQUFDMkMsT0FBTyxDQUFDQyxrQ0FBa0MsRUFBRTtNQUM1SEMsSUFBSSxFQUFFMUMsaUJBQWlCLENBQUMyQyx5QkFBeUIsQ0FBRTlDLGtCQUFrQixDQUFDK0MsT0FBTyxDQUFDYyxvQkFBb0IsRUFBRWxELEtBQUssQ0FBQ1ksMkJBQTJCLEVBQUUsSUFBSW5CLFlBQVksQ0FBVyxJQUFLLENBQUUsQ0FBQztNQUMxSzZDLEtBQUssRUFBRTlDLGlCQUFpQixDQUFDMkMseUJBQXlCLENBQUU1Qyx3QkFBd0IsQ0FBQytDLEtBQUssQ0FBQ2EsbUJBQW1CLEVBQUVuRCxLQUFLLENBQUNZLDJCQUEyQixFQUFFWixLQUFLLENBQUN3QyxNQUFNLENBQUNDLG9CQUFxQixDQUFDO01BQzlLQyxLQUFLLEVBQUUsSUFBSXhELGVBQWUsQ0FDeEIsQ0FBRWMsS0FBSyxDQUFDb0QscUJBQXFCLEVBQUVwRCxLQUFLLENBQUN3QyxNQUFNLENBQUNDLG9CQUFvQixFQUFFcEQsa0JBQWtCLENBQUN1RCx1QkFBdUIsQ0FBRSxFQUM5RyxDQUFFUyxhQUFhLEVBQUVQLFlBQVksRUFBRUMsZ0JBQWdCLEtBQU07UUFDbkQsT0FBT0QsWUFBWSxHQUFHM0QsS0FBSyxDQUFDNkQsT0FBTyxDQUFFSyxhQUFhLEVBQUUsQ0FBRSxDQUFDLEdBQUdOLGdCQUFnQjtNQUM1RSxDQUNGO0lBQ0YsQ0FBRSxDQUFDO0lBRUgsTUFBTU8sMEJBQTBCLEdBQUcsSUFBSTVFLFFBQVEsQ0FBRXFELGtDQUFrQyxFQUFFOUMsMEJBQTBCLENBQUNzRSxZQUFhLENBQUM7SUFDOUgsTUFBTUMsbUJBQW1CLEdBQUcsSUFBSTlFLFFBQVEsQ0FBRXVFLDJCQUEyQixFQUFFaEUsMEJBQTBCLENBQUNzRSxZQUFhLENBQUM7O0lBRWhIOztJQUVBLEtBQUssQ0FBRSxJQUFJNUUsSUFBSSxDQUFFO01BQ2Y4RSxPQUFPLEVBQUUsRUFBRTtNQUNYQyxLQUFLLEVBQUUsTUFBTTtNQUNidkQsUUFBUSxFQUFFLENBQ1IsSUFBSTFCLE9BQU8sQ0FBRTtRQUNYMEIsUUFBUSxFQUFFO1FBQ1I7UUFDQSxJQUFJdEIsMkJBQTJCLENBQzdCbUIsS0FBSyxDQUFDWSwyQkFBMkIsRUFDakMsQ0FDRTtVQUNFOEIsS0FBSyxFQUFFLENBQUM7VUFDUmlCLFVBQVUsRUFBRUEsQ0FBQSxLQUFNLElBQUlqRixRQUFRLENBQUVXLGtCQUFrQixDQUFDK0MsT0FBTyxDQUFDYyxvQkFBb0IsRUFBRWpFLDBCQUEwQixDQUFDc0UsWUFBYTtRQUMzSCxDQUFDLEVBQ0Q7VUFDRWIsS0FBSyxFQUFFLENBQUM7VUFDUjtVQUNBO1VBQ0FpQixVQUFVLEVBQUVBLENBQUEsS0FBTSxJQUFJakYsUUFBUSxDQUFFLGVBQWUsRUFBRU8sMEJBQTBCLENBQUNzRSxZQUFhO1FBQzNGLENBQUMsRUFDRDtVQUNFYixLQUFLLEVBQUUsQ0FBQztVQUNSaUIsVUFBVSxFQUFFQSxDQUFBLEtBQU0sSUFBSWpGLFFBQVEsQ0FBRSxlQUFlLEVBQUVPLDBCQUEwQixDQUFDc0UsWUFBYTtRQUMzRixDQUFDLENBQ0YsRUFDRDtVQUNFSyxhQUFhLEVBQUU7WUFBRUMsTUFBTSxFQUFFLENBQUM7WUFBRUMsR0FBRyxFQUFFO1VBQUU7UUFDckMsQ0FDRixDQUFDO1FBQ0Q7UUFDQSxJQUFJakYsMkJBQTJCLENBQzdCbUIsS0FBSyxDQUFDVyx5QkFBeUIsRUFDL0IsQ0FDRTtVQUNFK0IsS0FBSyxFQUFFLENBQUM7VUFDUmlCLFVBQVUsRUFBRUEsQ0FBQSxLQUFNLElBQUlqRixRQUFRLENBQUVXLGtCQUFrQixDQUFDK0MsT0FBTyxDQUFDQywyQkFBMkIsRUFBRXBELDBCQUEwQixDQUFDc0UsWUFBYTtRQUNsSSxDQUFDLEVBQ0Q7VUFDRWIsS0FBSyxFQUFFLENBQUM7VUFDUmlCLFVBQVUsRUFBRUEsQ0FBQSxLQUFNLElBQUlqRixRQUFRLENBQUUsZUFBZSxFQUFFTywwQkFBMEIsQ0FBQ3NFLFlBQWE7UUFDM0YsQ0FBQyxFQUNEO1VBQ0ViLEtBQUssRUFBRSxDQUFDO1VBQ1JpQixVQUFVLEVBQUVBLENBQUEsS0FBTSxJQUFJakYsUUFBUSxDQUFFLGVBQWUsRUFBRU8sMEJBQTBCLENBQUNzRSxZQUFhO1FBQzNGLENBQUMsQ0FDRixFQUNEO1VBQ0VLLGFBQWEsRUFBRTtZQUFFQyxNQUFNLEVBQUUsQ0FBQztZQUFFQyxHQUFHLEVBQUU7VUFBRSxDQUFDO1VBQ3BDQyxXQUFXLEVBQUU7UUFDZixDQUNGLENBQUMsRUFDRCxJQUFJaEYsYUFBYSxDQUFFaUIsS0FBSyxFQUFFQSxLQUFLLENBQUN3QyxNQUFNLEVBQUU7VUFDdENvQixhQUFhLEVBQUU7WUFBRUMsTUFBTSxFQUFFLENBQUM7WUFBRUMsR0FBRyxFQUFFO1VBQUUsQ0FBQztVQUNwQ0Usa0NBQWtDLEVBQUU7UUFDdEMsQ0FBRSxDQUFDLEVBQ0gsSUFBSXBFLFlBQVksQ0FBRTtVQUNoQnFFLFFBQVEsRUFBRUEsQ0FBQSxLQUFNakUsS0FBSyxDQUFDd0MsTUFBTSxDQUFDMEIsWUFBWSxDQUFDQyxJQUFJLENBQUMsQ0FBQztVQUNoRFAsYUFBYSxFQUFFO1lBQUVDLE1BQU0sRUFBRSxDQUFDO1lBQUVDLEdBQUcsRUFBRTtVQUFFO1FBQ3JDLENBQUUsQ0FBQyxDQUNKO1FBQ0RMLE9BQU8sRUFBRTtNQUNYLENBQUUsQ0FBQyxFQUNISCwwQkFBMEIsRUFDMUJFLG1CQUFtQjtJQUV2QixDQUFFLENBQUMsRUFBRWpELE9BQVEsQ0FBQztFQUNoQjtBQUNGO0FBRUFqQixXQUFXLENBQUM4RSxRQUFRLENBQUUsZ0JBQWdCLEVBQUV0RSxjQUFlLENBQUMifQ==