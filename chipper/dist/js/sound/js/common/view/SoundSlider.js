// Copyright 2022-2023, University of Colorado Boulder
/* eslint-disable */
/**
 * Slider abstraction for the frequency and amplitude sliders--but note that light frequency slider uses spectrum for
 * track and thumb.  All instances exist for the lifetime of the sim and do not require disposal.
 *
 * @author Piet Goris (University of Leuven)
 * @author Sam Reid (PhET Interactive Simulations)
 */

import Dimension2 from '../../../../dot/js/Dimension2.js';
import Utils from '../../../../dot/js/Utils.js';
import HSlider from '../../../../sun/js/HSlider.js';
import generalBoundaryBoopSoundPlayer from '../../../../tambo/js/shared-sound-players/generalBoundaryBoopSoundPlayer.js';
import generalSoftClickSoundPlayer from '../../../../tambo/js/shared-sound-players/generalSoftClickSoundPlayer.js';
import sound from '../../sound.js';
import SoundConstants from '../../common/SoundConstants.js';
import optionize from '../../../../phet-core/js/optionize.js';

// constants
const MIN_INTER_CLICK_TIME = 1 / 60 * 1000 * 2; // min time between clicks, in milliseconds, empirically determined
const TOLERANCE = 1E-6;
const MAJOR_TICK_MODULUS = 5;
export default class SoundSlider extends HSlider {
  /**
   * @param {NumberProperty} property
   * @param {Object} [options]
   */
  constructor(property, providedOptions) {
    const maxTickIndex = providedOptions && providedOptions.maxTickIndex ? providedOptions.maxTickIndex : 10;
    const min = property.range.min;
    const max = property.range.max;
    const ticks = _.range(0, maxTickIndex + 1).map(index => {
      return {
        value: Utils.linear(0, maxTickIndex, min, max, index),
        type: index % MAJOR_TICK_MODULUS === 0 ? 'major' : 'minor'
      };
    });

    // Keep track of the previous value on slider drag for playing sounds
    let lastValue = property.value;

    // Keep track of the last time a sound was played so that we don't play too often
    let timeOfLastClick = 0;
    const options = optionize()({
      // Ticks are created for all sliders for sonification, but not shown for the Light Frequency slider
      showTicks: true,
      constrainValue: value => {
        if (Math.abs(value - property.range.min) <= TOLERANCE) {
          return property.range.min;
        } else if (Math.abs(value - property.range.max) <= TOLERANCE) {
          return property.range.max;
        } else {
          return value;
        }
      },
      drag: event => {
        const value = property.value;
        if (event.isFromPDOM()) {
          if (Math.abs(value - property.range.max) <= TOLERANCE || Math.abs(value - property.range.min) <= TOLERANCE) {
            generalBoundaryBoopSoundPlayer.play();
          } else {
            generalSoftClickSoundPlayer.play();
          }
        } else {
          // handle the sound as desired for mouse/touch style input
          for (let i = 0; i < ticks.length; i++) {
            const tick = ticks[i];
            if (lastValue !== value && (value === property.range.min || value === property.range.max)) {
              generalBoundaryBoopSoundPlayer.play();
              break;
            } else if (lastValue < tick.value && value >= tick.value || lastValue > tick.value && value <= tick.value) {
              if (phet.joist.elapsedTime - timeOfLastClick >= MIN_INTER_CLICK_TIME) {
                generalSoftClickSoundPlayer.play();
                timeOfLastClick = phet.joist.elapsedTime;
              }
              break;
            }
          }
        }
        lastValue = value;
      }
    }, providedOptions);

    // ticks
    if (options.showTicks) {
      options.tickLabelSpacing = 2;
      options.majorTickLength = SoundConstants.MAJOR_TICK_LENGTH;
      options.minorTickLength = 8;
    }
    if (!options.thumbNode) {
      options.thumbSize = SoundConstants.THUMB_SIZE;
    }
    if (!options.trackNode) {
      options.trackSize = new Dimension2(150, 1);
    }
    super(property, property.range, options);
    options.showTicks && ticks.forEach(tick => {
      if (tick.type === 'major') {
        this.addMajorTick(tick.value);
      } else {
        this.addMinorTick(tick.value);
      }
    });
  }
}
sound.register('SoundSlider', SoundSlider);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEaW1lbnNpb24yIiwiVXRpbHMiLCJIU2xpZGVyIiwiZ2VuZXJhbEJvdW5kYXJ5Qm9vcFNvdW5kUGxheWVyIiwiZ2VuZXJhbFNvZnRDbGlja1NvdW5kUGxheWVyIiwic291bmQiLCJTb3VuZENvbnN0YW50cyIsIm9wdGlvbml6ZSIsIk1JTl9JTlRFUl9DTElDS19USU1FIiwiVE9MRVJBTkNFIiwiTUFKT1JfVElDS19NT0RVTFVTIiwiU291bmRTbGlkZXIiLCJjb25zdHJ1Y3RvciIsInByb3BlcnR5IiwicHJvdmlkZWRPcHRpb25zIiwibWF4VGlja0luZGV4IiwibWluIiwicmFuZ2UiLCJtYXgiLCJ0aWNrcyIsIl8iLCJtYXAiLCJpbmRleCIsInZhbHVlIiwibGluZWFyIiwidHlwZSIsImxhc3RWYWx1ZSIsInRpbWVPZkxhc3RDbGljayIsIm9wdGlvbnMiLCJzaG93VGlja3MiLCJjb25zdHJhaW5WYWx1ZSIsIk1hdGgiLCJhYnMiLCJkcmFnIiwiZXZlbnQiLCJpc0Zyb21QRE9NIiwicGxheSIsImkiLCJsZW5ndGgiLCJ0aWNrIiwicGhldCIsImpvaXN0IiwiZWxhcHNlZFRpbWUiLCJ0aWNrTGFiZWxTcGFjaW5nIiwibWFqb3JUaWNrTGVuZ3RoIiwiTUFKT1JfVElDS19MRU5HVEgiLCJtaW5vclRpY2tMZW5ndGgiLCJ0aHVtYk5vZGUiLCJ0aHVtYlNpemUiLCJUSFVNQl9TSVpFIiwidHJhY2tOb2RlIiwidHJhY2tTaXplIiwiZm9yRWFjaCIsImFkZE1ham9yVGljayIsImFkZE1pbm9yVGljayIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiU291bmRTbGlkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjItMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcbi8qIGVzbGludC1kaXNhYmxlICovXHJcbi8qKlxyXG4gKiBTbGlkZXIgYWJzdHJhY3Rpb24gZm9yIHRoZSBmcmVxdWVuY3kgYW5kIGFtcGxpdHVkZSBzbGlkZXJzLS1idXQgbm90ZSB0aGF0IGxpZ2h0IGZyZXF1ZW5jeSBzbGlkZXIgdXNlcyBzcGVjdHJ1bSBmb3JcclxuICogdHJhY2sgYW5kIHRodW1iLiAgQWxsIGluc3RhbmNlcyBleGlzdCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBzaW0gYW5kIGRvIG5vdCByZXF1aXJlIGRpc3Bvc2FsLlxyXG4gKlxyXG4gKiBAYXV0aG9yIFBpZXQgR29yaXMgKFVuaXZlcnNpdHkgb2YgTGV1dmVuKVxyXG4gKiBAYXV0aG9yIFNhbSBSZWlkIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCBEaW1lbnNpb24yIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9EaW1lbnNpb24yLmpzJztcclxuaW1wb3J0IFV0aWxzIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9VdGlscy5qcyc7XHJcbmltcG9ydCBtZXJnZSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvbWVyZ2UuanMnO1xyXG5pbXBvcnQgSFNsaWRlciwgeyBIU2xpZGVyT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9IU2xpZGVyLmpzJztcclxuaW1wb3J0IGdlbmVyYWxCb3VuZGFyeUJvb3BTb3VuZFBsYXllciBmcm9tICcuLi8uLi8uLi8uLi90YW1iby9qcy9zaGFyZWQtc291bmQtcGxheWVycy9nZW5lcmFsQm91bmRhcnlCb29wU291bmRQbGF5ZXIuanMnO1xyXG5pbXBvcnQgZ2VuZXJhbFNvZnRDbGlja1NvdW5kUGxheWVyIGZyb20gJy4uLy4uLy4uLy4uL3RhbWJvL2pzL3NoYXJlZC1zb3VuZC1wbGF5ZXJzL2dlbmVyYWxTb2Z0Q2xpY2tTb3VuZFBsYXllci5qcyc7XHJcbmltcG9ydCBzb3VuZCBmcm9tICcuLi8uLi9zb3VuZC5qcyc7XHJcbmltcG9ydCBTb3VuZENvbnN0YW50cyBmcm9tICcuLi8uLi9jb21tb24vU291bmRDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgTnVtYmVyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9OdW1iZXJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCB7IFNjZW5lcnlFdmVudCwgVGV4dCB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBvcHRpb25pemUgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgTUlOX0lOVEVSX0NMSUNLX1RJTUUgPSAoIDEgLyA2MCAqIDEwMDAgKSAqIDI7IC8vIG1pbiB0aW1lIGJldHdlZW4gY2xpY2tzLCBpbiBtaWxsaXNlY29uZHMsIGVtcGlyaWNhbGx5IGRldGVybWluZWRcclxuY29uc3QgVE9MRVJBTkNFID0gMUUtNjtcclxuXHJcbmNvbnN0IE1BSk9SX1RJQ0tfTU9EVUxVUyA9IDU7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG4gIG1heFRpY2tJbmRleDogbnVtYmVyO1xyXG4gIHNob3dUaWNrcz86IGJvb2xlYW47XHJcbn07XHJcbnR5cGUgU291bmRTbGlkZXJPcHRpb25zID0gU2VsZk9wdGlvbnMgJiBIU2xpZGVyT3B0aW9ucztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvdW5kU2xpZGVyIGV4dGVuZHMgSFNsaWRlciB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyUHJvcGVydHl9IHByb3BlcnR5XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBwcm9wZXJ0eTogTnVtYmVyUHJvcGVydHksIHByb3ZpZGVkT3B0aW9ucz86IFNvdW5kU2xpZGVyT3B0aW9ucyApIHtcclxuXHJcbiAgICBjb25zdCBtYXhUaWNrSW5kZXggPSAoIHByb3ZpZGVkT3B0aW9ucyAmJiBwcm92aWRlZE9wdGlvbnMubWF4VGlja0luZGV4ICkgPyBwcm92aWRlZE9wdGlvbnMubWF4VGlja0luZGV4IDogMTA7XHJcblxyXG4gICAgY29uc3QgbWluID0gcHJvcGVydHkucmFuZ2UubWluO1xyXG4gICAgY29uc3QgbWF4ID0gcHJvcGVydHkucmFuZ2UubWF4O1xyXG4gICAgY29uc3QgdGlja3MgPSBfLnJhbmdlKCAwLCBtYXhUaWNrSW5kZXggKyAxICkubWFwKCBpbmRleCA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdmFsdWU6IFV0aWxzLmxpbmVhciggMCwgbWF4VGlja0luZGV4LCBtaW4sIG1heCwgaW5kZXggKSxcclxuICAgICAgICB0eXBlOiBpbmRleCAlIE1BSk9SX1RJQ0tfTU9EVUxVUyA9PT0gMCA/ICdtYWpvcicgOiAnbWlub3InXHJcbiAgICAgIH07XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gS2VlcCB0cmFjayBvZiB0aGUgcHJldmlvdXMgdmFsdWUgb24gc2xpZGVyIGRyYWcgZm9yIHBsYXlpbmcgc291bmRzXHJcbiAgICBsZXQgbGFzdFZhbHVlID0gcHJvcGVydHkudmFsdWU7XHJcblxyXG4gICAgLy8gS2VlcCB0cmFjayBvZiB0aGUgbGFzdCB0aW1lIGEgc291bmQgd2FzIHBsYXllZCBzbyB0aGF0IHdlIGRvbid0IHBsYXkgdG9vIG9mdGVuXHJcbiAgICBsZXQgdGltZU9mTGFzdENsaWNrID0gMDtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPFNvdW5kU2xpZGVyT3B0aW9ucywgU2VsZk9wdGlvbnMsIEhTbGlkZXJPcHRpb25zPigpKCB7XHJcblxyXG4gICAgICAvLyBUaWNrcyBhcmUgY3JlYXRlZCBmb3IgYWxsIHNsaWRlcnMgZm9yIHNvbmlmaWNhdGlvbiwgYnV0IG5vdCBzaG93biBmb3IgdGhlIExpZ2h0IEZyZXF1ZW5jeSBzbGlkZXJcclxuICAgICAgc2hvd1RpY2tzOiB0cnVlLFxyXG4gICAgICBjb25zdHJhaW5WYWx1ZTogKCB2YWx1ZTogbnVtYmVyICkgPT4ge1xyXG4gICAgICAgIGlmICggTWF0aC5hYnMoIHZhbHVlIC0gcHJvcGVydHkucmFuZ2UubWluICkgPD0gVE9MRVJBTkNFICkge1xyXG4gICAgICAgICAgcmV0dXJuIHByb3BlcnR5LnJhbmdlLm1pbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIE1hdGguYWJzKCB2YWx1ZSAtIHByb3BlcnR5LnJhbmdlLm1heCApIDw9IFRPTEVSQU5DRSApIHtcclxuICAgICAgICAgIHJldHVybiBwcm9wZXJ0eS5yYW5nZS5tYXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIGRyYWc6ICggZXZlbnQ6IFNjZW5lcnlFdmVudCApID0+IHtcclxuXHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wZXJ0eS52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKCBldmVudC5pc0Zyb21QRE9NKCkgKSB7XHJcblxyXG4gICAgICAgICAgaWYgKCBNYXRoLmFicyggdmFsdWUgLSBwcm9wZXJ0eS5yYW5nZS5tYXggKSA8PSBUT0xFUkFOQ0UgfHxcclxuICAgICAgICAgICAgICAgTWF0aC5hYnMoIHZhbHVlIC0gcHJvcGVydHkucmFuZ2UubWluICkgPD0gVE9MRVJBTkNFICkge1xyXG4gICAgICAgICAgICBnZW5lcmFsQm91bmRhcnlCb29wU291bmRQbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGdlbmVyYWxTb2Z0Q2xpY2tTb3VuZFBsYXllci5wbGF5KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG5cclxuICAgICAgICAgIC8vIGhhbmRsZSB0aGUgc291bmQgYXMgZGVzaXJlZCBmb3IgbW91c2UvdG91Y2ggc3R5bGUgaW5wdXRcclxuICAgICAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IHRpY2tzLmxlbmd0aDsgaSsrICkge1xyXG4gICAgICAgICAgICBjb25zdCB0aWNrID0gdGlja3NbIGkgXTtcclxuICAgICAgICAgICAgaWYgKCBsYXN0VmFsdWUgIT09IHZhbHVlICYmICggdmFsdWUgPT09IHByb3BlcnR5LnJhbmdlLm1pbiB8fCB2YWx1ZSA9PT0gcHJvcGVydHkucmFuZ2UubWF4ICkgKSB7XHJcbiAgICAgICAgICAgICAgZ2VuZXJhbEJvdW5kYXJ5Qm9vcFNvdW5kUGxheWVyLnBsYXkoKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICggbGFzdFZhbHVlIDwgdGljay52YWx1ZSAmJiB2YWx1ZSA+PSB0aWNrLnZhbHVlIHx8IGxhc3RWYWx1ZSA+IHRpY2sudmFsdWUgJiYgdmFsdWUgPD0gdGljay52YWx1ZSApIHtcclxuICAgICAgICAgICAgICBpZiAoIHBoZXQuam9pc3QuZWxhcHNlZFRpbWUgLSB0aW1lT2ZMYXN0Q2xpY2sgPj0gTUlOX0lOVEVSX0NMSUNLX1RJTUUgKSB7XHJcbiAgICAgICAgICAgICAgICBnZW5lcmFsU29mdENsaWNrU291bmRQbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgdGltZU9mTGFzdENsaWNrID0gcGhldC5qb2lzdC5lbGFwc2VkVGltZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9LCBwcm92aWRlZE9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyB0aWNrc1xyXG4gICAgaWYgKCBvcHRpb25zLnNob3dUaWNrcyApIHtcclxuICAgICAgb3B0aW9ucy50aWNrTGFiZWxTcGFjaW5nID0gMjtcclxuICAgICAgb3B0aW9ucy5tYWpvclRpY2tMZW5ndGggPSBTb3VuZENvbnN0YW50cy5NQUpPUl9USUNLX0xFTkdUSDtcclxuICAgICAgb3B0aW9ucy5taW5vclRpY2tMZW5ndGggPSA4O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggIW9wdGlvbnMudGh1bWJOb2RlICkge1xyXG4gICAgICBvcHRpb25zLnRodW1iU2l6ZSA9IFNvdW5kQ29uc3RhbnRzLlRIVU1CX1NJWkU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCAhb3B0aW9ucy50cmFja05vZGUgKSB7XHJcbiAgICAgIG9wdGlvbnMudHJhY2tTaXplID0gbmV3IERpbWVuc2lvbjIoIDE1MCwgMSApO1xyXG4gICAgfVxyXG5cclxuICAgIHN1cGVyKCBwcm9wZXJ0eSwgcHJvcGVydHkucmFuZ2UsIG9wdGlvbnMgKTtcclxuXHJcbiAgICBvcHRpb25zLnNob3dUaWNrcyAmJiB0aWNrcy5mb3JFYWNoKCB0aWNrID0+IHtcclxuICAgICAgaWYgKCB0aWNrLnR5cGUgPT09ICdtYWpvcicgKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkTWFqb3JUaWNrKCB0aWNrLnZhbHVlICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkTWlub3JUaWNrKCB0aWNrLnZhbHVlICk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICB9XHJcbn1cclxuXHJcbnNvdW5kLnJlZ2lzdGVyKCAnU291bmRTbGlkZXInLCBTb3VuZFNsaWRlciApOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFVBQVUsTUFBTSxrQ0FBa0M7QUFDekQsT0FBT0MsS0FBSyxNQUFNLDZCQUE2QjtBQUUvQyxPQUFPQyxPQUFPLE1BQTBCLCtCQUErQjtBQUN2RSxPQUFPQyw4QkFBOEIsTUFBTSw2RUFBNkU7QUFDeEgsT0FBT0MsMkJBQTJCLE1BQU0sMEVBQTBFO0FBQ2xILE9BQU9DLEtBQUssTUFBTSxnQkFBZ0I7QUFDbEMsT0FBT0MsY0FBYyxNQUFNLGdDQUFnQztBQUczRCxPQUFPQyxTQUFTLE1BQU0sdUNBQXVD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