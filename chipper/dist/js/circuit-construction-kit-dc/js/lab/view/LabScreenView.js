// Copyright 2017-2023, University of Colorado Boulder

/**
 * The view for the Lab screen.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 */

import CircuitConstructionKitCommonStrings from '../../../../circuit-construction-kit-common/js/CircuitConstructionKitCommonStrings.js';
import CCKCScreenView from '../../../../circuit-construction-kit-common/js/view/CCKCScreenView.js';
import CircuitElementToolFactory from '../../../../circuit-construction-kit-common/js/view/CircuitElementToolFactory.js';
import merge from '../../../../phet-core/js/merge.js';
import circuitConstructionKitDc from '../../circuitConstructionKitDc.js';
class LabScreenView extends CCKCScreenView {
  constructor(model, tandem, options) {
    const circuitElementToolFactory = new CircuitElementToolFactory(model.circuit, model.showLabelsProperty, model.viewTypeProperty, point => this.circuitNode.globalToLocalPoint(point), tandem.createTandem('circuitElementToolbox').createTandem('carousel').createTandem('circuitElementTools'));
    const realBulbItem = {
      createNode: tandem => {
        return circuitElementToolFactory.createLightBulbToolNode(tandem, model.circuit.realLightBulbGroup, CircuitConstructionKitCommonStrings.realBulbStringProperty, true, model.addRealBulbsProperty);
      },
      tandemName: 'realBulbToolNode',
      alignBoxOptions: {
        // PhET-iO clients can control the visibleProperty of the realBulbToolNode in studio, or through the checkbox.
        // It is the same Property
        visibleProperty: model.addRealBulbsProperty
      }
    };

    // Tool nodes that appear on every screen. Pagination for the carousel, each page should begin with wire node
    const circuitElementToolNodes = [{
      createNode: tandem => circuitElementToolFactory.createWireToolNode(tandem),
      tandemName: 'wireToolNode1'
    }, {
      createNode: tandem => circuitElementToolFactory.createRightBatteryToolNode(tandem),
      tandemName: 'batteryToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createLightBulbToolNode(tandem, model.circuit.lightBulbGroup),
      tandemName: 'lightBulbToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createResistorToolNode(tandem),
      tandemName: 'resistorToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createSwitchToolNode(tandem),
      tandemName: 'switchToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createWireToolNode(tandem),
      tandemName: 'wireToolNode2'
    }, {
      createNode: tandem => circuitElementToolFactory.createFuseToolNode(tandem),
      tandemName: 'fuseToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createExtremeBatteryToolNode(tandem),
      tandemName: 'extremeBatteryToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createExtremeBulbToolNode(tandem),
      tandemName: 'extremeBulbToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createExtremeResistorToolNode(tandem),
      tandemName: 'extremeResistorToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createWireToolNode(tandem),
      tandemName: 'wireToolNode3'
    }, {
      createNode: tandem => circuitElementToolFactory.createDollarBillToolNode(tandem),
      tandemName: 'dollarBillToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createPaperClipToolNode(tandem),
      tandemName: 'paperClipToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createCoinToolNode(tandem),
      tandemName: 'coinToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createEraserToolNode(tandem),
      tandemName: 'eraserToolNode'
    }, {
      createNode: tandem => circuitElementToolFactory.createWireToolNode(tandem),
      tandemName: 'wireToolNode4'
    }, {
      createNode: tandem => circuitElementToolFactory.createPencilToolNode(tandem),
      tandemName: 'pencilToolNode'
    }, realBulbItem // The automatic scrolling function assumes this be on the last page.
    ];

    // Check the assumption that the real light bulb tool node remains on the last page, so we can scroll to it
    // without breaking the modularity of the pagination code.
    assert && assert(circuitElementToolNodes.indexOf(realBulbItem) >= circuitElementToolNodes.length - 5, 'realLightBulbToolNode should be' + ' on the last page');
    super(model, circuitElementToolNodes, tandem, merge({
      showSeriesAmmeters: true
    }, options));

    // Scroll to the real bulbs if selected, but not on startup
    model.addRealBulbsProperty.link(addRealBulbs => {
      this.circuitElementToolbox.carousel.setItemVisible(realBulbItem, addRealBulbs);
      if (addRealBulbs) {
        this.circuitElementToolbox.carousel.scrollToItem(realBulbItem);
      }
    });
  }
}
circuitConstructionKitDc.register('LabScreenView', LabScreenView);
export default LabScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDaXJjdWl0Q29uc3RydWN0aW9uS2l0Q29tbW9uU3RyaW5ncyIsIkNDS0NTY3JlZW5WaWV3IiwiQ2lyY3VpdEVsZW1lbnRUb29sRmFjdG9yeSIsIm1lcmdlIiwiY2lyY3VpdENvbnN0cnVjdGlvbktpdERjIiwiTGFiU2NyZWVuVmlldyIsImNvbnN0cnVjdG9yIiwibW9kZWwiLCJ0YW5kZW0iLCJvcHRpb25zIiwiY2lyY3VpdEVsZW1lbnRUb29sRmFjdG9yeSIsImNpcmN1aXQiLCJzaG93TGFiZWxzUHJvcGVydHkiLCJ2aWV3VHlwZVByb3BlcnR5IiwicG9pbnQiLCJjaXJjdWl0Tm9kZSIsImdsb2JhbFRvTG9jYWxQb2ludCIsImNyZWF0ZVRhbmRlbSIsInJlYWxCdWxiSXRlbSIsImNyZWF0ZU5vZGUiLCJjcmVhdGVMaWdodEJ1bGJUb29sTm9kZSIsInJlYWxMaWdodEJ1bGJHcm91cCIsInJlYWxCdWxiU3RyaW5nUHJvcGVydHkiLCJhZGRSZWFsQnVsYnNQcm9wZXJ0eSIsInRhbmRlbU5hbWUiLCJhbGlnbkJveE9wdGlvbnMiLCJ2aXNpYmxlUHJvcGVydHkiLCJjaXJjdWl0RWxlbWVudFRvb2xOb2RlcyIsImNyZWF0ZVdpcmVUb29sTm9kZSIsImNyZWF0ZVJpZ2h0QmF0dGVyeVRvb2xOb2RlIiwibGlnaHRCdWxiR3JvdXAiLCJjcmVhdGVSZXNpc3RvclRvb2xOb2RlIiwiY3JlYXRlU3dpdGNoVG9vbE5vZGUiLCJjcmVhdGVGdXNlVG9vbE5vZGUiLCJjcmVhdGVFeHRyZW1lQmF0dGVyeVRvb2xOb2RlIiwiY3JlYXRlRXh0cmVtZUJ1bGJUb29sTm9kZSIsImNyZWF0ZUV4dHJlbWVSZXNpc3RvclRvb2xOb2RlIiwiY3JlYXRlRG9sbGFyQmlsbFRvb2xOb2RlIiwiY3JlYXRlUGFwZXJDbGlwVG9vbE5vZGUiLCJjcmVhdGVDb2luVG9vbE5vZGUiLCJjcmVhdGVFcmFzZXJUb29sTm9kZSIsImNyZWF0ZVBlbmNpbFRvb2xOb2RlIiwiYXNzZXJ0IiwiaW5kZXhPZiIsImxlbmd0aCIsInNob3dTZXJpZXNBbW1ldGVycyIsImxpbmsiLCJhZGRSZWFsQnVsYnMiLCJjaXJjdWl0RWxlbWVudFRvb2xib3giLCJjYXJvdXNlbCIsInNldEl0ZW1WaXNpYmxlIiwic2Nyb2xsVG9JdGVtIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJMYWJTY3JlZW5WaWV3LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE3LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFRoZSB2aWV3IGZvciB0aGUgTGFiIHNjcmVlbi5cclxuICpcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgQ2lyY3VpdENvbnN0cnVjdGlvbktpdENvbW1vblN0cmluZ3MgZnJvbSAnLi4vLi4vLi4vLi4vY2lyY3VpdC1jb25zdHJ1Y3Rpb24ta2l0LWNvbW1vbi9qcy9DaXJjdWl0Q29uc3RydWN0aW9uS2l0Q29tbW9uU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBDaXJjdWl0Q29uc3RydWN0aW9uS2l0TW9kZWwgZnJvbSAnLi4vLi4vLi4vLi4vY2lyY3VpdC1jb25zdHJ1Y3Rpb24ta2l0LWNvbW1vbi9qcy9tb2RlbC9DaXJjdWl0Q29uc3RydWN0aW9uS2l0TW9kZWwuanMnO1xyXG5pbXBvcnQgQ0NLQ1NjcmVlblZpZXcsIHsgQ0NLQ1NjcmVlblZpZXdPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vY2lyY3VpdC1jb25zdHJ1Y3Rpb24ta2l0LWNvbW1vbi9qcy92aWV3L0NDS0NTY3JlZW5WaWV3LmpzJztcclxuaW1wb3J0IENpcmN1aXRFbGVtZW50VG9vbEZhY3RvcnkgZnJvbSAnLi4vLi4vLi4vLi4vY2lyY3VpdC1jb25zdHJ1Y3Rpb24ta2l0LWNvbW1vbi9qcy92aWV3L0NpcmN1aXRFbGVtZW50VG9vbEZhY3RvcnkuanMnO1xyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IHsgQ2Fyb3VzZWxJdGVtIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL0Nhcm91c2VsLmpzJztcclxuaW1wb3J0IFRhbmRlbSBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvVGFuZGVtLmpzJztcclxuaW1wb3J0IGNpcmN1aXRDb25zdHJ1Y3Rpb25LaXREYyBmcm9tICcuLi8uLi9jaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMuanMnO1xyXG5cclxuY2xhc3MgTGFiU2NyZWVuVmlldyBleHRlbmRzIENDS0NTY3JlZW5WaWV3IHtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBtb2RlbDogQ2lyY3VpdENvbnN0cnVjdGlvbktpdE1vZGVsLCB0YW5kZW06IFRhbmRlbSwgb3B0aW9ucz86IENDS0NTY3JlZW5WaWV3T3B0aW9ucyApIHtcclxuXHJcbiAgICBjb25zdCBjaXJjdWl0RWxlbWVudFRvb2xGYWN0b3J5ID0gbmV3IENpcmN1aXRFbGVtZW50VG9vbEZhY3RvcnkoXHJcbiAgICAgIG1vZGVsLmNpcmN1aXQsXHJcbiAgICAgIG1vZGVsLnNob3dMYWJlbHNQcm9wZXJ0eSxcclxuICAgICAgbW9kZWwudmlld1R5cGVQcm9wZXJ0eSxcclxuICAgICAgcG9pbnQgPT4gdGhpcy5jaXJjdWl0Tm9kZS5nbG9iYWxUb0xvY2FsUG9pbnQoIHBvaW50ICksXHJcbiAgICAgIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdjaXJjdWl0RWxlbWVudFRvb2xib3gnICkuY3JlYXRlVGFuZGVtKCAnY2Fyb3VzZWwnICkuY3JlYXRlVGFuZGVtKCAnY2lyY3VpdEVsZW1lbnRUb29scycgKVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCByZWFsQnVsYkl0ZW06IENhcm91c2VsSXRlbSA9IHtcclxuICAgICAgY3JlYXRlTm9kZTogKCB0YW5kZW06IFRhbmRlbSApID0+IHtcclxuICAgICAgICByZXR1cm4gY2lyY3VpdEVsZW1lbnRUb29sRmFjdG9yeS5jcmVhdGVMaWdodEJ1bGJUb29sTm9kZShcclxuICAgICAgICAgIHRhbmRlbSxcclxuICAgICAgICAgIG1vZGVsLmNpcmN1aXQucmVhbExpZ2h0QnVsYkdyb3VwISxcclxuICAgICAgICAgIENpcmN1aXRDb25zdHJ1Y3Rpb25LaXRDb21tb25TdHJpbmdzLnJlYWxCdWxiU3RyaW5nUHJvcGVydHksXHJcbiAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgbW9kZWwuYWRkUmVhbEJ1bGJzUHJvcGVydHlcclxuICAgICAgICApO1xyXG4gICAgICB9LFxyXG4gICAgICB0YW5kZW1OYW1lOiAncmVhbEJ1bGJUb29sTm9kZScsXHJcblxyXG4gICAgICBhbGlnbkJveE9wdGlvbnM6IHtcclxuXHJcbiAgICAgICAgLy8gUGhFVC1pTyBjbGllbnRzIGNhbiBjb250cm9sIHRoZSB2aXNpYmxlUHJvcGVydHkgb2YgdGhlIHJlYWxCdWxiVG9vbE5vZGUgaW4gc3R1ZGlvLCBvciB0aHJvdWdoIHRoZSBjaGVja2JveC5cclxuICAgICAgICAvLyBJdCBpcyB0aGUgc2FtZSBQcm9wZXJ0eVxyXG4gICAgICAgIHZpc2libGVQcm9wZXJ0eTogbW9kZWwuYWRkUmVhbEJ1bGJzUHJvcGVydHlcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBUb29sIG5vZGVzIHRoYXQgYXBwZWFyIG9uIGV2ZXJ5IHNjcmVlbi4gUGFnaW5hdGlvbiBmb3IgdGhlIGNhcm91c2VsLCBlYWNoIHBhZ2Ugc2hvdWxkIGJlZ2luIHdpdGggd2lyZSBub2RlXHJcbiAgICBjb25zdCBjaXJjdWl0RWxlbWVudFRvb2xOb2RlcyA9IFtcclxuXHJcbiAgICAgIHsgY3JlYXRlTm9kZTogKCB0YW5kZW06IFRhbmRlbSApID0+IGNpcmN1aXRFbGVtZW50VG9vbEZhY3RvcnkuY3JlYXRlV2lyZVRvb2xOb2RlKCB0YW5kZW0gKSwgdGFuZGVtTmFtZTogJ3dpcmVUb29sTm9kZTEnIH0sXHJcbiAgICAgIHsgY3JlYXRlTm9kZTogKCB0YW5kZW06IFRhbmRlbSApID0+IGNpcmN1aXRFbGVtZW50VG9vbEZhY3RvcnkuY3JlYXRlUmlnaHRCYXR0ZXJ5VG9vbE5vZGUoIHRhbmRlbSApLCB0YW5kZW1OYW1lOiAnYmF0dGVyeVRvb2xOb2RlJyB9LFxyXG4gICAgICB7IGNyZWF0ZU5vZGU6ICggdGFuZGVtOiBUYW5kZW0gKSA9PiBjaXJjdWl0RWxlbWVudFRvb2xGYWN0b3J5LmNyZWF0ZUxpZ2h0QnVsYlRvb2xOb2RlKCB0YW5kZW0sIG1vZGVsLmNpcmN1aXQubGlnaHRCdWxiR3JvdXAgKSwgdGFuZGVtTmFtZTogJ2xpZ2h0QnVsYlRvb2xOb2RlJyB9LFxyXG4gICAgICB7IGNyZWF0ZU5vZGU6ICggdGFuZGVtOiBUYW5kZW0gKSA9PiBjaXJjdWl0RWxlbWVudFRvb2xGYWN0b3J5LmNyZWF0ZVJlc2lzdG9yVG9vbE5vZGUoIHRhbmRlbSApLCB0YW5kZW1OYW1lOiAncmVzaXN0b3JUb29sTm9kZScgfSxcclxuICAgICAgeyBjcmVhdGVOb2RlOiAoIHRhbmRlbTogVGFuZGVtICkgPT4gY2lyY3VpdEVsZW1lbnRUb29sRmFjdG9yeS5jcmVhdGVTd2l0Y2hUb29sTm9kZSggdGFuZGVtICksIHRhbmRlbU5hbWU6ICdzd2l0Y2hUb29sTm9kZScgfSxcclxuXHJcbiAgICAgIHsgY3JlYXRlTm9kZTogKCB0YW5kZW06IFRhbmRlbSApID0+IGNpcmN1aXRFbGVtZW50VG9vbEZhY3RvcnkuY3JlYXRlV2lyZVRvb2xOb2RlKCB0YW5kZW0gKSwgdGFuZGVtTmFtZTogJ3dpcmVUb29sTm9kZTInIH0sXHJcbiAgICAgIHsgY3JlYXRlTm9kZTogKCB0YW5kZW06IFRhbmRlbSApID0+IGNpcmN1aXRFbGVtZW50VG9vbEZhY3RvcnkuY3JlYXRlRnVzZVRvb2xOb2RlKCB0YW5kZW0gKSwgdGFuZGVtTmFtZTogJ2Z1c2VUb29sTm9kZScgfSxcclxuICAgICAgeyBjcmVhdGVOb2RlOiAoIHRhbmRlbTogVGFuZGVtICkgPT4gY2lyY3VpdEVsZW1lbnRUb29sRmFjdG9yeS5jcmVhdGVFeHRyZW1lQmF0dGVyeVRvb2xOb2RlKCB0YW5kZW0gKSwgdGFuZGVtTmFtZTogJ2V4dHJlbWVCYXR0ZXJ5VG9vbE5vZGUnIH0sXHJcbiAgICAgIHsgY3JlYXRlTm9kZTogKCB0YW5kZW06IFRhbmRlbSApID0+IGNpcmN1aXRFbGVtZW50VG9vbEZhY3RvcnkuY3JlYXRlRXh0cmVtZUJ1bGJUb29sTm9kZSggdGFuZGVtICksIHRhbmRlbU5hbWU6ICdleHRyZW1lQnVsYlRvb2xOb2RlJyB9LFxyXG4gICAgICB7IGNyZWF0ZU5vZGU6ICggdGFuZGVtOiBUYW5kZW0gKSA9PiBjaXJjdWl0RWxlbWVudFRvb2xGYWN0b3J5LmNyZWF0ZUV4dHJlbWVSZXNpc3RvclRvb2xOb2RlKCB0YW5kZW0gKSwgdGFuZGVtTmFtZTogJ2V4dHJlbWVSZXNpc3RvclRvb2xOb2RlJyB9LFxyXG5cclxuICAgICAgeyBjcmVhdGVOb2RlOiAoIHRhbmRlbTogVGFuZGVtICkgPT4gY2lyY3VpdEVsZW1lbnRUb29sRmFjdG9yeS5jcmVhdGVXaXJlVG9vbE5vZGUoIHRhbmRlbSApLCB0YW5kZW1OYW1lOiAnd2lyZVRvb2xOb2RlMycgfSxcclxuICAgICAgeyBjcmVhdGVOb2RlOiAoIHRhbmRlbTogVGFuZGVtICkgPT4gY2lyY3VpdEVsZW1lbnRUb29sRmFjdG9yeS5jcmVhdGVEb2xsYXJCaWxsVG9vbE5vZGUoIHRhbmRlbSApLCB0YW5kZW1OYW1lOiAnZG9sbGFyQmlsbFRvb2xOb2RlJyB9LFxyXG4gICAgICB7IGNyZWF0ZU5vZGU6ICggdGFuZGVtOiBUYW5kZW0gKSA9PiBjaXJjdWl0RWxlbWVudFRvb2xGYWN0b3J5LmNyZWF0ZVBhcGVyQ2xpcFRvb2xOb2RlKCB0YW5kZW0gKSwgdGFuZGVtTmFtZTogJ3BhcGVyQ2xpcFRvb2xOb2RlJyB9LFxyXG4gICAgICB7IGNyZWF0ZU5vZGU6ICggdGFuZGVtOiBUYW5kZW0gKSA9PiBjaXJjdWl0RWxlbWVudFRvb2xGYWN0b3J5LmNyZWF0ZUNvaW5Ub29sTm9kZSggdGFuZGVtICksIHRhbmRlbU5hbWU6ICdjb2luVG9vbE5vZGUnIH0sXHJcbiAgICAgIHsgY3JlYXRlTm9kZTogKCB0YW5kZW06IFRhbmRlbSApID0+IGNpcmN1aXRFbGVtZW50VG9vbEZhY3RvcnkuY3JlYXRlRXJhc2VyVG9vbE5vZGUoIHRhbmRlbSApLCB0YW5kZW1OYW1lOiAnZXJhc2VyVG9vbE5vZGUnIH0sXHJcblxyXG4gICAgICB7IGNyZWF0ZU5vZGU6ICggdGFuZGVtOiBUYW5kZW0gKSA9PiBjaXJjdWl0RWxlbWVudFRvb2xGYWN0b3J5LmNyZWF0ZVdpcmVUb29sTm9kZSggdGFuZGVtICksIHRhbmRlbU5hbWU6ICd3aXJlVG9vbE5vZGU0JyB9LFxyXG4gICAgICB7IGNyZWF0ZU5vZGU6ICggdGFuZGVtOiBUYW5kZW0gKSA9PiBjaXJjdWl0RWxlbWVudFRvb2xGYWN0b3J5LmNyZWF0ZVBlbmNpbFRvb2xOb2RlKCB0YW5kZW0gKSwgdGFuZGVtTmFtZTogJ3BlbmNpbFRvb2xOb2RlJyB9LFxyXG5cclxuICAgICAgcmVhbEJ1bGJJdGVtIC8vIFRoZSBhdXRvbWF0aWMgc2Nyb2xsaW5nIGZ1bmN0aW9uIGFzc3VtZXMgdGhpcyBiZSBvbiB0aGUgbGFzdCBwYWdlLlxyXG4gICAgXTtcclxuXHJcbiAgICAvLyBDaGVjayB0aGUgYXNzdW1wdGlvbiB0aGF0IHRoZSByZWFsIGxpZ2h0IGJ1bGIgdG9vbCBub2RlIHJlbWFpbnMgb24gdGhlIGxhc3QgcGFnZSwgc28gd2UgY2FuIHNjcm9sbCB0byBpdFxyXG4gICAgLy8gd2l0aG91dCBicmVha2luZyB0aGUgbW9kdWxhcml0eSBvZiB0aGUgcGFnaW5hdGlvbiBjb2RlLlxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggY2lyY3VpdEVsZW1lbnRUb29sTm9kZXMuaW5kZXhPZiggcmVhbEJ1bGJJdGVtICkgPj0gY2lyY3VpdEVsZW1lbnRUb29sTm9kZXMubGVuZ3RoIC0gNSwgJ3JlYWxMaWdodEJ1bGJUb29sTm9kZSBzaG91bGQgYmUnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgb24gdGhlIGxhc3QgcGFnZScgKTtcclxuICAgIHN1cGVyKCBtb2RlbCwgY2lyY3VpdEVsZW1lbnRUb29sTm9kZXMsIHRhbmRlbSwgbWVyZ2UoIHtcclxuICAgICAgc2hvd1Nlcmllc0FtbWV0ZXJzOiB0cnVlXHJcbiAgICB9LCBvcHRpb25zICkgKTtcclxuXHJcbiAgICAvLyBTY3JvbGwgdG8gdGhlIHJlYWwgYnVsYnMgaWYgc2VsZWN0ZWQsIGJ1dCBub3Qgb24gc3RhcnR1cFxyXG4gICAgbW9kZWwuYWRkUmVhbEJ1bGJzUHJvcGVydHkubGluayggYWRkUmVhbEJ1bGJzID0+IHtcclxuICAgICAgdGhpcy5jaXJjdWl0RWxlbWVudFRvb2xib3guY2Fyb3VzZWwuc2V0SXRlbVZpc2libGUoIHJlYWxCdWxiSXRlbSwgYWRkUmVhbEJ1bGJzICk7XHJcblxyXG4gICAgICBpZiAoIGFkZFJlYWxCdWxicyApIHtcclxuICAgICAgICB0aGlzLmNpcmN1aXRFbGVtZW50VG9vbGJveC5jYXJvdXNlbC5zY3JvbGxUb0l0ZW0oIHJlYWxCdWxiSXRlbSApO1xyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcbiAgfVxyXG59XHJcblxyXG5jaXJjdWl0Q29uc3RydWN0aW9uS2l0RGMucmVnaXN0ZXIoICdMYWJTY3JlZW5WaWV3JywgTGFiU2NyZWVuVmlldyApO1xyXG5leHBvcnQgZGVmYXVsdCBMYWJTY3JlZW5WaWV3OyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxtQ0FBbUMsTUFBTSx1RkFBdUY7QUFFdkksT0FBT0MsY0FBYyxNQUFpQyx1RUFBdUU7QUFDN0gsT0FBT0MseUJBQXlCLE1BQU0sa0ZBQWtGO0FBQ3hILE9BQU9DLEtBQUssTUFBTSxtQ0FBbUM7QUFHckQsT0FBT0Msd0JBQXdCLE1BQU0sbUNBQW1DO0FBRXhFLE1B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