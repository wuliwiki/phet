// Copyright 2013-2023, University of Colorado Boulder

/**
 * ScreenView for Wave on a String
 *
 * @author Anton Ulyanov (Mlearner)
 */

import Emitter from '../../../../axon/js/Emitter.js';
import Property from '../../../../axon/js/Property.js';
import Bounds2 from '../../../../dot/js/Bounds2.js';
import Utils from '../../../../dot/js/Utils.js';
import ScreenView from '../../../../joist/js/ScreenView.js';
import merge from '../../../../phet-core/js/merge.js';
import ResetAllButton from '../../../../scenery-phet/js/buttons/ResetAllButton.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import RulerNode from '../../../../scenery-phet/js/RulerNode.js';
import StopwatchNode from '../../../../scenery-phet/js/StopwatchNode.js';
import TimeControlNode from '../../../../scenery-phet/js/TimeControlNode.js';
import { AlignBox, DragListener, HBox, Image, Line, Node } from '../../../../scenery/js/imports.js';
import Panel from '../../../../sun/js/Panel.js';
import windowFront_png from '../../../images/windowFront_png.js';
import waveOnAString from '../../waveOnAString.js';
import WaveOnAStringStrings from '../../WaveOnAStringStrings.js';
import Constants from '../Constants.js';
import WOASModel from '../model/WOASModel.js';
import BottomControlPanel from './BottomControlPanel.js';
import EndNode from './EndNode.js';
import ReferenceLine from './ReferenceLine.js';
import RestartButton from './RestartButton.js';
import StartNode from './StartNode.js';
import StringNode from './StringNode.js';
import WOASRadioButtonGroup from './WOASRadioButtonGroup.js';
const fixedEndString = WaveOnAStringStrings.fixedEnd;
const looseEndString = WaveOnAStringStrings.looseEnd;
const manualString = WaveOnAStringStrings.manual;
const noEndString = WaveOnAStringStrings.noEnd;
const oscillateString = WaveOnAStringStrings.oscillate;
const pulseString = WaveOnAStringStrings.pulse;
const unitCmString = WaveOnAStringStrings.unitCm;
class WOASScreenView extends ScreenView {
  /**
   * @param {WOASModel} model
   * @param {Tandem} tandem
   */
  constructor(model, tandem) {
    super({
      layoutBounds: Constants.VIEW_BOUNDS,
      tandem: tandem
    });

    // @private {Emitter} - Fired when a view frame occurs
    this.frameEmitter = new Emitter();
    const rulersTandem = tandem.createTandem('rulersNode');
    const wavePlayAreaTandem = tandem.createTandem('wavePlayArea');
    const horizontalRulerTandem = rulersTandem.createTandem('horizontalRulerNode');
    const verticalRulerTandem = rulersTandem.createTandem('verticalRulerNode');
    const rulerOptions = {
      minorTicksPerMajorTick: 4,
      unitsFont: new PhetFont(16),
      cursor: 'pointer'
    };
    const horizontalRulerNode = new RulerNode(800, 50, 80, Utils.rangeInclusive(0, 10).map(n => `${n}`), unitCmString, merge({
      tandem: horizontalRulerTandem
    }, rulerOptions));
    const verticalRulerNode = new RulerNode(400, 50, 80, Utils.rangeInclusive(0, 5).map(n => `${n}`), unitCmString, merge({
      tandem: verticalRulerTandem
    }, rulerOptions));
    verticalRulerNode.rotate(-Math.PI / 2);
    const rulersNode = new Node({
      children: [horizontalRulerNode, verticalRulerNode],
      tandem: rulersTandem,
      visibleProperty: model.rulersVisibleProperty
    });
    this.addChild(rulersNode);
    model.horizontalRulerPositionProperty.link(position => {
      horizontalRulerNode.translation = position;
    });
    model.verticalRulerPositionProperty.link(position => {
      verticalRulerNode.translation = position;
    });
    horizontalRulerNode.addInputListener(new DragListener({
      tandem: horizontalRulerTandem.createTandem('dragListener'),
      positionProperty: model.horizontalRulerPositionProperty,
      dragBoundsProperty: new Property(Constants.VIEW_BOUNDS.dilated(30).shiftedX(-Constants.VIEW_BOUNDS.width / 2).dilatedX(Constants.VIEW_BOUNDS.width * 0.4))
    }));
    verticalRulerNode.addInputListener(new DragListener({
      tandem: verticalRulerTandem.createTandem('dragListener'),
      positionProperty: model.verticalRulerPositionProperty,
      dragBoundsProperty: new Property(Constants.VIEW_BOUNDS.withMaxX(Constants.VIEW_BOUNDS.maxX - 50).withMaxY(Constants.VIEW_BOUNDS.maxY * 1.8))
    }));
    const radioPanelOptions = {
      fill: '#D9FCC5',
      xMargin: 7,
      yMargin: 7,
      lineWidth: 0.5
    };
    const modePanelTandem = tandem.createTandem('waveModePanel');
    const endTypePanelTandem = tandem.createTandem('endTypePanel');
    this.addChild(new HBox({
      children: [new Panel(new WOASRadioButtonGroup(model.waveModeProperty, modePanelTandem.createTandem('radioButtonGroup'), {
        radio: [WOASModel.Mode.MANUAL, WOASModel.Mode.OSCILLATE, WOASModel.Mode.PULSE],
        text: [manualString, oscillateString, pulseString],
        tandemNames: ['manualRadioButton', 'oscillateRadioButton', 'pulseRadioButton']
      }), merge({
        tandem: modePanelTandem
      }, radioPanelOptions)), new RestartButton(model.manualRestart.bind(model), {
        tandem: tandem.createTandem('restartButton')
      })],
      spacing: 10,
      left: 5,
      y: 5,
      align: 'top'
    }));
    this.addChild(new Panel(new WOASRadioButtonGroup(model.endTypeProperty, endTypePanelTandem.createTandem('radioButtonGroup'), {
      radio: [WOASModel.EndType.FIXED_END, WOASModel.EndType.LOOSE_END, WOASModel.EndType.NO_END],
      text: [fixedEndString, looseEndString, noEndString],
      tandemNames: ['fixedEndRadioButton', 'looseEndRadioButton', 'noEndRadioButton'],
      x: Constants.VIEW_BOUNDS.width - 100,
      y: 5
    }), merge({
      right: Constants.VIEW_BOUNDS.width - 5,
      tandem: endTypePanelTandem
    }, radioPanelOptions)));
    this.addChild(new TimeControlNode(model.isPlayingProperty, {
      timeSpeedProperty: model.timeSpeedProperty,
      playPauseStepButtonOptions: {
        playPauseButtonOptions: {
          upFill: Constants.blueUpColor,
          overFill: Constants.blueOverColor,
          disabledFill: Constants.blueDisabledColor,
          downFill: Constants.blueDownColor,
          backgroundGradientColorStop0: Constants.buttonBorder0,
          backgroundGradientColorStop1: Constants.buttonBorder1,
          innerButtonLineWidth: 1,
          scaleFactorWhenNotPlaying: 1.25,
          touchAreaDilation: 12
        },
        stepForwardButtonOptions: {
          listener: model.manualStep.bind(model),
          touchAreaDilation: 12,
          upFill: Constants.blueUpColor,
          overFill: Constants.blueOverColor,
          disabledFill: Constants.blueDisabledColor,
          downFill: Constants.blueDownColor,
          backgroundGradientColorStop0: Constants.buttonBorder0,
          backgroundGradientColorStop1: Constants.buttonBorder1
        }
      },
      scale: 0.75,
      centerX: Constants.VIEW_BOUNDS.width / 2,
      centerY: Constants.VIEW_BOUNDS.height - 131,
      tandem: tandem.createTandem('timeControlNode')
    }));
    const resetAllButton = new ResetAllButton({
      listener: () => model.reset(),
      right: this.layoutBounds.maxX - 10,
      bottom: this.layoutBounds.maxY - 10,
      tandem: tandem.createTandem('resetAllButton')
    });
    resetAllButton.scale(0.924);
    this.addChild(resetAllButton);
    this.addChild(new AlignBox(new BottomControlPanel(model, tandem.createTandem('controlPanel')), {
      alignBounds: new Bounds2(0, 0, resetAllButton.left - 10, resetAllButton.bottom),
      xAlign: 'right',
      yAlign: 'bottom'
    }));

    /*---------------------------------------------------------------------------*
     * StopwatchNode
     *----------------------------------------------------------------------------*/
    const stopwatchNode = new StopwatchNode(model.stopwatch, {
      dragBoundsProperty: this.visibleBoundsProperty,
      tandem: tandem.createTandem('stopwatchNode')
    });
    stopwatchNode.touchArea = stopwatchNode.localBounds.dilated(5);
    this.addChild(stopwatchNode);
    let windowImage;

    //center line
    this.addChild(new Line(0, 0, 605, 0, {
      stroke: '#FFA91D',
      lineDash: [8, 5],
      lineWidth: 2,
      x: Constants.startStringNode,
      y: Constants.yStringNode,
      tandem: wavePlayAreaTandem.createTandem('centerLine')
    }));
    const endNode = new EndNode(model, this.frameEmitter, {
      x: Constants.endStringNode,
      y: Constants.yStringNode,
      tandem: wavePlayAreaTandem.createTandem('endNode'),
      visiblePropertyOptions: {
        phetioReadOnly: true
      }
    });
    endNode.windowNode.x += Constants.endStringNode;
    endNode.windowNode.y += Constants.yStringNode;
    this.addChild(endNode.windowNode);
    this.addChild(new ReferenceLine(model, tandem.createTandem('referenceLineNode')));
    this.addChild(endNode);
    this.addChild(new StringNode(model, this.frameEmitter, {
      x: Constants.startStringNode,
      y: Constants.yStringNode,
      radius: Constants.segmentStringNodeRadius,
      tandem: wavePlayAreaTandem.createTandem('stringNode'),
      visiblePropertyOptions: {
        phetioReadOnly: true
      }
    }));
    this.addChild(new StartNode(model, this.frameEmitter, {
      x: Constants.startStringNode,
      y: Constants.yStringNode,
      range: Constants.yWrenchRange,
      tandem: wavePlayAreaTandem.createTandem('startNode'),
      visiblePropertyOptions: {
        phetioReadOnly: true
      }
    }));
    this.addChild(windowImage = new Node({
      children: [new Image(windowFront_png, {
        left: Constants.windowXOffset - 4 + Constants.windowShift,
        centerY: 0,
        scale: Constants.windowScale
      })],
      x: Constants.endStringNode,
      y: Constants.yStringNode
    }));
    model.endTypeProperty.link(endType => {
      windowImage.visible = endType === WOASModel.EndType.NO_END;
    });
  }

  /**
   * Steps forward in time.
   * @public
   *
   * @param {number} dt
   */
  step(dt) {
    this.frameEmitter.emit();
  }
}
waveOnAString.register('WOASScreenView', WOASScreenView);
export default WOASScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFbWl0dGVyIiwiUHJvcGVydHkiLCJCb3VuZHMyIiwiVXRpbHMiLCJTY3JlZW5WaWV3IiwibWVyZ2UiLCJSZXNldEFsbEJ1dHRvbiIsIlBoZXRGb250IiwiUnVsZXJOb2RlIiwiU3RvcHdhdGNoTm9kZSIsIlRpbWVDb250cm9sTm9kZSIsIkFsaWduQm94IiwiRHJhZ0xpc3RlbmVyIiwiSEJveCIsIkltYWdlIiwiTGluZSIsIk5vZGUiLCJQYW5lbCIsIndpbmRvd0Zyb250X3BuZyIsIndhdmVPbkFTdHJpbmciLCJXYXZlT25BU3RyaW5nU3RyaW5ncyIsIkNvbnN0YW50cyIsIldPQVNNb2RlbCIsIkJvdHRvbUNvbnRyb2xQYW5lbCIsIkVuZE5vZGUiLCJSZWZlcmVuY2VMaW5lIiwiUmVzdGFydEJ1dHRvbiIsIlN0YXJ0Tm9kZSIsIlN0cmluZ05vZGUiLCJXT0FTUmFkaW9CdXR0b25Hcm91cCIsImZpeGVkRW5kU3RyaW5nIiwiZml4ZWRFbmQiLCJsb29zZUVuZFN0cmluZyIsImxvb3NlRW5kIiwibWFudWFsU3RyaW5nIiwibWFudWFsIiwibm9FbmRTdHJpbmciLCJub0VuZCIsIm9zY2lsbGF0ZVN0cmluZyIsIm9zY2lsbGF0ZSIsInB1bHNlU3RyaW5nIiwicHVsc2UiLCJ1bml0Q21TdHJpbmciLCJ1bml0Q20iLCJXT0FTU2NyZWVuVmlldyIsImNvbnN0cnVjdG9yIiwibW9kZWwiLCJ0YW5kZW0iLCJsYXlvdXRCb3VuZHMiLCJWSUVXX0JPVU5EUyIsImZyYW1lRW1pdHRlciIsInJ1bGVyc1RhbmRlbSIsImNyZWF0ZVRhbmRlbSIsIndhdmVQbGF5QXJlYVRhbmRlbSIsImhvcml6b250YWxSdWxlclRhbmRlbSIsInZlcnRpY2FsUnVsZXJUYW5kZW0iLCJydWxlck9wdGlvbnMiLCJtaW5vclRpY2tzUGVyTWFqb3JUaWNrIiwidW5pdHNGb250IiwiY3Vyc29yIiwiaG9yaXpvbnRhbFJ1bGVyTm9kZSIsInJhbmdlSW5jbHVzaXZlIiwibWFwIiwibiIsInZlcnRpY2FsUnVsZXJOb2RlIiwicm90YXRlIiwiTWF0aCIsIlBJIiwicnVsZXJzTm9kZSIsImNoaWxkcmVuIiwidmlzaWJsZVByb3BlcnR5IiwicnVsZXJzVmlzaWJsZVByb3BlcnR5IiwiYWRkQ2hpbGQiLCJob3Jpem9udGFsUnVsZXJQb3NpdGlvblByb3BlcnR5IiwibGluayIsInBvc2l0aW9uIiwidHJhbnNsYXRpb24iLCJ2ZXJ0aWNhbFJ1bGVyUG9zaXRpb25Qcm9wZXJ0eSIsImFkZElucHV0TGlzdGVuZXIiLCJwb3NpdGlvblByb3BlcnR5IiwiZHJhZ0JvdW5kc1Byb3BlcnR5IiwiZGlsYXRlZCIsInNoaWZ0ZWRYIiwid2lkdGgiLCJkaWxhdGVkWCIsIndpdGhNYXhYIiwibWF4WCIsIndpdGhNYXhZIiwibWF4WSIsInJhZGlvUGFuZWxPcHRpb25zIiwiZmlsbCIsInhNYXJnaW4iLCJ5TWFyZ2luIiwibGluZVdpZHRoIiwibW9kZVBhbmVsVGFuZGVtIiwiZW5kVHlwZVBhbmVsVGFuZGVtIiwid2F2ZU1vZGVQcm9wZXJ0eSIsInJhZGlvIiwiTW9kZSIsIk1BTlVBTCIsIk9TQ0lMTEFURSIsIlBVTFNFIiwidGV4dCIsInRhbmRlbU5hbWVzIiwibWFudWFsUmVzdGFydCIsImJpbmQiLCJzcGFjaW5nIiwibGVmdCIsInkiLCJhbGlnbiIsImVuZFR5cGVQcm9wZXJ0eSIsIkVuZFR5cGUiLCJGSVhFRF9FTkQiLCJMT09TRV9FTkQiLCJOT19FTkQiLCJ4IiwicmlnaHQiLCJpc1BsYXlpbmdQcm9wZXJ0eSIsInRpbWVTcGVlZFByb3BlcnR5IiwicGxheVBhdXNlU3RlcEJ1dHRvbk9wdGlvbnMiLCJwbGF5UGF1c2VCdXR0b25PcHRpb25zIiwidXBGaWxsIiwiYmx1ZVVwQ29sb3IiLCJvdmVyRmlsbCIsImJsdWVPdmVyQ29sb3IiLCJkaXNhYmxlZEZpbGwiLCJibHVlRGlzYWJsZWRDb2xvciIsImRvd25GaWxsIiwiYmx1ZURvd25Db2xvciIsImJhY2tncm91bmRHcmFkaWVudENvbG9yU3RvcDAiLCJidXR0b25Cb3JkZXIwIiwiYmFja2dyb3VuZEdyYWRpZW50Q29sb3JTdG9wMSIsImJ1dHRvbkJvcmRlcjEiLCJpbm5lckJ1dHRvbkxpbmVXaWR0aCIsInNjYWxlRmFjdG9yV2hlbk5vdFBsYXlpbmciLCJ0b3VjaEFyZWFEaWxhdGlvbiIsInN0ZXBGb3J3YXJkQnV0dG9uT3B0aW9ucyIsImxpc3RlbmVyIiwibWFudWFsU3RlcCIsInNjYWxlIiwiY2VudGVyWCIsImNlbnRlclkiLCJoZWlnaHQiLCJyZXNldEFsbEJ1dHRvbiIsInJlc2V0IiwiYm90dG9tIiwiYWxpZ25Cb3VuZHMiLCJ4QWxpZ24iLCJ5QWxpZ24iLCJzdG9wd2F0Y2hOb2RlIiwic3RvcHdhdGNoIiwidmlzaWJsZUJvdW5kc1Byb3BlcnR5IiwidG91Y2hBcmVhIiwibG9jYWxCb3VuZHMiLCJ3aW5kb3dJbWFnZSIsInN0cm9rZSIsImxpbmVEYXNoIiwic3RhcnRTdHJpbmdOb2RlIiwieVN0cmluZ05vZGUiLCJlbmROb2RlIiwiZW5kU3RyaW5nTm9kZSIsInZpc2libGVQcm9wZXJ0eU9wdGlvbnMiLCJwaGV0aW9SZWFkT25seSIsIndpbmRvd05vZGUiLCJyYWRpdXMiLCJzZWdtZW50U3RyaW5nTm9kZVJhZGl1cyIsInJhbmdlIiwieVdyZW5jaFJhbmdlIiwid2luZG93WE9mZnNldCIsIndpbmRvd1NoaWZ0Iiwid2luZG93U2NhbGUiLCJlbmRUeXBlIiwidmlzaWJsZSIsInN0ZXAiLCJkdCIsImVtaXQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIldPQVNTY3JlZW5WaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDEzLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFNjcmVlblZpZXcgZm9yIFdhdmUgb24gYSBTdHJpbmdcclxuICpcclxuICogQGF1dGhvciBBbnRvbiBVbHlhbm92IChNbGVhcm5lcilcclxuICovXHJcblxyXG5pbXBvcnQgRW1pdHRlciBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0VtaXR0ZXIuanMnO1xyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IFV0aWxzIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9VdGlscy5qcyc7XHJcbmltcG9ydCBTY3JlZW5WaWV3IGZyb20gJy4uLy4uLy4uLy4uL2pvaXN0L2pzL1NjcmVlblZpZXcuanMnO1xyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IFJlc2V0QWxsQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9idXR0b25zL1Jlc2V0QWxsQnV0dG9uLmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XHJcbmltcG9ydCBSdWxlck5vZGUgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1J1bGVyTm9kZS5qcyc7XHJcbmltcG9ydCBTdG9wd2F0Y2hOb2RlIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9TdG9wd2F0Y2hOb2RlLmpzJztcclxuaW1wb3J0IFRpbWVDb250cm9sTm9kZSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvVGltZUNvbnRyb2xOb2RlLmpzJztcclxuaW1wb3J0IHsgQWxpZ25Cb3gsIERyYWdMaXN0ZW5lciwgSEJveCwgSW1hZ2UsIExpbmUsIE5vZGUgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgUGFuZWwgZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL1BhbmVsLmpzJztcclxuaW1wb3J0IHdpbmRvd0Zyb250X3BuZyBmcm9tICcuLi8uLi8uLi9pbWFnZXMvd2luZG93RnJvbnRfcG5nLmpzJztcclxuaW1wb3J0IHdhdmVPbkFTdHJpbmcgZnJvbSAnLi4vLi4vd2F2ZU9uQVN0cmluZy5qcyc7XHJcbmltcG9ydCBXYXZlT25BU3RyaW5nU3RyaW5ncyBmcm9tICcuLi8uLi9XYXZlT25BU3RyaW5nU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBDb25zdGFudHMgZnJvbSAnLi4vQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IFdPQVNNb2RlbCBmcm9tICcuLi9tb2RlbC9XT0FTTW9kZWwuanMnO1xyXG5pbXBvcnQgQm90dG9tQ29udHJvbFBhbmVsIGZyb20gJy4vQm90dG9tQ29udHJvbFBhbmVsLmpzJztcclxuaW1wb3J0IEVuZE5vZGUgZnJvbSAnLi9FbmROb2RlLmpzJztcclxuaW1wb3J0IFJlZmVyZW5jZUxpbmUgZnJvbSAnLi9SZWZlcmVuY2VMaW5lLmpzJztcclxuaW1wb3J0IFJlc3RhcnRCdXR0b24gZnJvbSAnLi9SZXN0YXJ0QnV0dG9uLmpzJztcclxuaW1wb3J0IFN0YXJ0Tm9kZSBmcm9tICcuL1N0YXJ0Tm9kZS5qcyc7XHJcbmltcG9ydCBTdHJpbmdOb2RlIGZyb20gJy4vU3RyaW5nTm9kZS5qcyc7XHJcbmltcG9ydCBXT0FTUmFkaW9CdXR0b25Hcm91cCBmcm9tICcuL1dPQVNSYWRpb0J1dHRvbkdyb3VwLmpzJztcclxuXHJcbmNvbnN0IGZpeGVkRW5kU3RyaW5nID0gV2F2ZU9uQVN0cmluZ1N0cmluZ3MuZml4ZWRFbmQ7XHJcbmNvbnN0IGxvb3NlRW5kU3RyaW5nID0gV2F2ZU9uQVN0cmluZ1N0cmluZ3MubG9vc2VFbmQ7XHJcbmNvbnN0IG1hbnVhbFN0cmluZyA9IFdhdmVPbkFTdHJpbmdTdHJpbmdzLm1hbnVhbDtcclxuY29uc3Qgbm9FbmRTdHJpbmcgPSBXYXZlT25BU3RyaW5nU3RyaW5ncy5ub0VuZDtcclxuY29uc3Qgb3NjaWxsYXRlU3RyaW5nID0gV2F2ZU9uQVN0cmluZ1N0cmluZ3Mub3NjaWxsYXRlO1xyXG5jb25zdCBwdWxzZVN0cmluZyA9IFdhdmVPbkFTdHJpbmdTdHJpbmdzLnB1bHNlO1xyXG5jb25zdCB1bml0Q21TdHJpbmcgPSBXYXZlT25BU3RyaW5nU3RyaW5ncy51bml0Q207XHJcblxyXG5jbGFzcyBXT0FTU2NyZWVuVmlldyBleHRlbmRzIFNjcmVlblZpZXcge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7V09BU01vZGVsfSBtb2RlbFxyXG4gICAqIEBwYXJhbSB7VGFuZGVtfSB0YW5kZW1cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggbW9kZWwsIHRhbmRlbSApIHtcclxuICAgIHN1cGVyKCB7XHJcbiAgICAgIGxheW91dEJvdW5kczogQ29uc3RhbnRzLlZJRVdfQk9VTkRTLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIEBwcml2YXRlIHtFbWl0dGVyfSAtIEZpcmVkIHdoZW4gYSB2aWV3IGZyYW1lIG9jY3Vyc1xyXG4gICAgdGhpcy5mcmFtZUVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xyXG5cclxuICAgIGNvbnN0IHJ1bGVyc1RhbmRlbSA9IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdydWxlcnNOb2RlJyApO1xyXG4gICAgY29uc3Qgd2F2ZVBsYXlBcmVhVGFuZGVtID0gdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3dhdmVQbGF5QXJlYScgKTtcclxuXHJcbiAgICBjb25zdCBob3Jpem9udGFsUnVsZXJUYW5kZW0gPSBydWxlcnNUYW5kZW0uY3JlYXRlVGFuZGVtKCAnaG9yaXpvbnRhbFJ1bGVyTm9kZScgKTtcclxuICAgIGNvbnN0IHZlcnRpY2FsUnVsZXJUYW5kZW0gPSBydWxlcnNUYW5kZW0uY3JlYXRlVGFuZGVtKCAndmVydGljYWxSdWxlck5vZGUnICk7XHJcblxyXG4gICAgY29uc3QgcnVsZXJPcHRpb25zID0geyBtaW5vclRpY2tzUGVyTWFqb3JUaWNrOiA0LCB1bml0c0ZvbnQ6IG5ldyBQaGV0Rm9udCggMTYgKSwgY3Vyc29yOiAncG9pbnRlcicgfTtcclxuICAgIGNvbnN0IGhvcml6b250YWxSdWxlck5vZGUgPSBuZXcgUnVsZXJOb2RlKCA4MDAsIDUwLCA4MCwgVXRpbHMucmFuZ2VJbmNsdXNpdmUoIDAsIDEwICkubWFwKCBuID0+IGAke259YCApLCB1bml0Q21TdHJpbmcsIG1lcmdlKCB7XHJcbiAgICAgIHRhbmRlbTogaG9yaXpvbnRhbFJ1bGVyVGFuZGVtXHJcbiAgICB9LCBydWxlck9wdGlvbnMgKSApO1xyXG4gICAgY29uc3QgdmVydGljYWxSdWxlck5vZGUgPSBuZXcgUnVsZXJOb2RlKCA0MDAsIDUwLCA4MCwgVXRpbHMucmFuZ2VJbmNsdXNpdmUoIDAsIDUgKS5tYXAoIG4gPT4gYCR7bn1gICksIHVuaXRDbVN0cmluZywgbWVyZ2UoIHtcclxuICAgICAgdGFuZGVtOiB2ZXJ0aWNhbFJ1bGVyVGFuZGVtXHJcbiAgICB9LCBydWxlck9wdGlvbnMgKSApO1xyXG4gICAgdmVydGljYWxSdWxlck5vZGUucm90YXRlKCAtTWF0aC5QSSAvIDIgKTtcclxuXHJcbiAgICBjb25zdCBydWxlcnNOb2RlID0gbmV3IE5vZGUoIHtcclxuICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICBob3Jpem9udGFsUnVsZXJOb2RlLFxyXG4gICAgICAgIHZlcnRpY2FsUnVsZXJOb2RlXHJcbiAgICAgIF0sXHJcbiAgICAgIHRhbmRlbTogcnVsZXJzVGFuZGVtLFxyXG4gICAgICB2aXNpYmxlUHJvcGVydHk6IG1vZGVsLnJ1bGVyc1Zpc2libGVQcm9wZXJ0eVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggcnVsZXJzTm9kZSApO1xyXG5cclxuICAgIG1vZGVsLmhvcml6b250YWxSdWxlclBvc2l0aW9uUHJvcGVydHkubGluayggcG9zaXRpb24gPT4ge1xyXG4gICAgICBob3Jpem9udGFsUnVsZXJOb2RlLnRyYW5zbGF0aW9uID0gcG9zaXRpb247XHJcbiAgICB9ICk7XHJcbiAgICBtb2RlbC52ZXJ0aWNhbFJ1bGVyUG9zaXRpb25Qcm9wZXJ0eS5saW5rKCBwb3NpdGlvbiA9PiB7XHJcbiAgICAgIHZlcnRpY2FsUnVsZXJOb2RlLnRyYW5zbGF0aW9uID0gcG9zaXRpb247XHJcbiAgICB9ICk7XHJcblxyXG4gICAgaG9yaXpvbnRhbFJ1bGVyTm9kZS5hZGRJbnB1dExpc3RlbmVyKCBuZXcgRHJhZ0xpc3RlbmVyKCB7XHJcbiAgICAgIHRhbmRlbTogaG9yaXpvbnRhbFJ1bGVyVGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2RyYWdMaXN0ZW5lcicgKSxcclxuICAgICAgcG9zaXRpb25Qcm9wZXJ0eTogbW9kZWwuaG9yaXpvbnRhbFJ1bGVyUG9zaXRpb25Qcm9wZXJ0eSxcclxuICAgICAgZHJhZ0JvdW5kc1Byb3BlcnR5OiBuZXcgUHJvcGVydHkoIENvbnN0YW50cy5WSUVXX0JPVU5EUy5kaWxhdGVkKCAzMCApLnNoaWZ0ZWRYKCAtQ29uc3RhbnRzLlZJRVdfQk9VTkRTLndpZHRoIC8gMiApLmRpbGF0ZWRYKCBDb25zdGFudHMuVklFV19CT1VORFMud2lkdGggKiAwLjQgKSApXHJcbiAgICB9ICkgKTtcclxuXHJcbiAgICB2ZXJ0aWNhbFJ1bGVyTm9kZS5hZGRJbnB1dExpc3RlbmVyKCBuZXcgRHJhZ0xpc3RlbmVyKCB7XHJcbiAgICAgIHRhbmRlbTogdmVydGljYWxSdWxlclRhbmRlbS5jcmVhdGVUYW5kZW0oICdkcmFnTGlzdGVuZXInICksXHJcbiAgICAgIHBvc2l0aW9uUHJvcGVydHk6IG1vZGVsLnZlcnRpY2FsUnVsZXJQb3NpdGlvblByb3BlcnR5LFxyXG4gICAgICBkcmFnQm91bmRzUHJvcGVydHk6IG5ldyBQcm9wZXJ0eSggQ29uc3RhbnRzLlZJRVdfQk9VTkRTLndpdGhNYXhYKCBDb25zdGFudHMuVklFV19CT1VORFMubWF4WCAtIDUwICkud2l0aE1heFkoIENvbnN0YW50cy5WSUVXX0JPVU5EUy5tYXhZICogMS44ICkgKVxyXG4gICAgfSApICk7XHJcblxyXG4gICAgY29uc3QgcmFkaW9QYW5lbE9wdGlvbnMgPSB7XHJcbiAgICAgIGZpbGw6ICcjRDlGQ0M1JyxcclxuICAgICAgeE1hcmdpbjogNyxcclxuICAgICAgeU1hcmdpbjogNyxcclxuICAgICAgbGluZVdpZHRoOiAwLjVcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbW9kZVBhbmVsVGFuZGVtID0gdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3dhdmVNb2RlUGFuZWwnICk7XHJcbiAgICBjb25zdCBlbmRUeXBlUGFuZWxUYW5kZW0gPSB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnZW5kVHlwZVBhbmVsJyApO1xyXG5cclxuICAgIHRoaXMuYWRkQ2hpbGQoIG5ldyBIQm94KCB7XHJcbiAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgbmV3IFBhbmVsKCBuZXcgV09BU1JhZGlvQnV0dG9uR3JvdXAoIG1vZGVsLndhdmVNb2RlUHJvcGVydHksIG1vZGVQYW5lbFRhbmRlbS5jcmVhdGVUYW5kZW0oICdyYWRpb0J1dHRvbkdyb3VwJyApLCB7XHJcbiAgICAgICAgICByYWRpbzogW1xyXG4gICAgICAgICAgICBXT0FTTW9kZWwuTW9kZS5NQU5VQUwsXHJcbiAgICAgICAgICAgIFdPQVNNb2RlbC5Nb2RlLk9TQ0lMTEFURSxcclxuICAgICAgICAgICAgV09BU01vZGVsLk1vZGUuUFVMU0VcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICB0ZXh0OiBbIG1hbnVhbFN0cmluZywgb3NjaWxsYXRlU3RyaW5nLCBwdWxzZVN0cmluZyBdLFxyXG4gICAgICAgICAgdGFuZGVtTmFtZXM6IFtcclxuICAgICAgICAgICAgJ21hbnVhbFJhZGlvQnV0dG9uJyxcclxuICAgICAgICAgICAgJ29zY2lsbGF0ZVJhZGlvQnV0dG9uJyxcclxuICAgICAgICAgICAgJ3B1bHNlUmFkaW9CdXR0b24nXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSApLCBtZXJnZSgge1xyXG4gICAgICAgICAgdGFuZGVtOiBtb2RlUGFuZWxUYW5kZW1cclxuICAgICAgICB9LCByYWRpb1BhbmVsT3B0aW9ucyApICksXHJcbiAgICAgICAgbmV3IFJlc3RhcnRCdXR0b24oIG1vZGVsLm1hbnVhbFJlc3RhcnQuYmluZCggbW9kZWwgKSwge1xyXG4gICAgICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncmVzdGFydEJ1dHRvbicgKVxyXG4gICAgICAgIH0gKVxyXG4gICAgICBdLFxyXG4gICAgICBzcGFjaW5nOiAxMCxcclxuICAgICAgbGVmdDogNSxcclxuICAgICAgeTogNSxcclxuICAgICAgYWxpZ246ICd0b3AnXHJcbiAgICB9ICkgKTtcclxuXHJcbiAgICB0aGlzLmFkZENoaWxkKCBuZXcgUGFuZWwoIG5ldyBXT0FTUmFkaW9CdXR0b25Hcm91cCggbW9kZWwuZW5kVHlwZVByb3BlcnR5LCBlbmRUeXBlUGFuZWxUYW5kZW0uY3JlYXRlVGFuZGVtKCAncmFkaW9CdXR0b25Hcm91cCcgKSwge1xyXG4gICAgICByYWRpbzogW1xyXG4gICAgICAgIFdPQVNNb2RlbC5FbmRUeXBlLkZJWEVEX0VORCxcclxuICAgICAgICBXT0FTTW9kZWwuRW5kVHlwZS5MT09TRV9FTkQsXHJcbiAgICAgICAgV09BU01vZGVsLkVuZFR5cGUuTk9fRU5EXHJcbiAgICAgIF0sXHJcbiAgICAgIHRleHQ6IFsgZml4ZWRFbmRTdHJpbmcsIGxvb3NlRW5kU3RyaW5nLCBub0VuZFN0cmluZyBdLFxyXG4gICAgICB0YW5kZW1OYW1lczogW1xyXG4gICAgICAgICdmaXhlZEVuZFJhZGlvQnV0dG9uJyxcclxuICAgICAgICAnbG9vc2VFbmRSYWRpb0J1dHRvbicsXHJcbiAgICAgICAgJ25vRW5kUmFkaW9CdXR0b24nXHJcbiAgICAgIF0sXHJcbiAgICAgIHg6IENvbnN0YW50cy5WSUVXX0JPVU5EUy53aWR0aCAtIDEwMCxcclxuICAgICAgeTogNVxyXG4gICAgfSApLCBtZXJnZSgge1xyXG4gICAgICByaWdodDogQ29uc3RhbnRzLlZJRVdfQk9VTkRTLndpZHRoIC0gNSxcclxuICAgICAgdGFuZGVtOiBlbmRUeXBlUGFuZWxUYW5kZW1cclxuICAgIH0sIHJhZGlvUGFuZWxPcHRpb25zICkgKSApO1xyXG5cclxuICAgIHRoaXMuYWRkQ2hpbGQoIG5ldyBUaW1lQ29udHJvbE5vZGUoIG1vZGVsLmlzUGxheWluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIHRpbWVTcGVlZFByb3BlcnR5OiBtb2RlbC50aW1lU3BlZWRQcm9wZXJ0eSxcclxuICAgICAgcGxheVBhdXNlU3RlcEJ1dHRvbk9wdGlvbnM6IHtcclxuICAgICAgICBwbGF5UGF1c2VCdXR0b25PcHRpb25zOiB7XHJcbiAgICAgICAgICB1cEZpbGw6IENvbnN0YW50cy5ibHVlVXBDb2xvcixcclxuICAgICAgICAgIG92ZXJGaWxsOiBDb25zdGFudHMuYmx1ZU92ZXJDb2xvcixcclxuICAgICAgICAgIGRpc2FibGVkRmlsbDogQ29uc3RhbnRzLmJsdWVEaXNhYmxlZENvbG9yLFxyXG4gICAgICAgICAgZG93bkZpbGw6IENvbnN0YW50cy5ibHVlRG93bkNvbG9yLFxyXG4gICAgICAgICAgYmFja2dyb3VuZEdyYWRpZW50Q29sb3JTdG9wMDogQ29uc3RhbnRzLmJ1dHRvbkJvcmRlcjAsXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kR3JhZGllbnRDb2xvclN0b3AxOiBDb25zdGFudHMuYnV0dG9uQm9yZGVyMSxcclxuICAgICAgICAgIGlubmVyQnV0dG9uTGluZVdpZHRoOiAxLFxyXG4gICAgICAgICAgc2NhbGVGYWN0b3JXaGVuTm90UGxheWluZzogMS4yNSxcclxuICAgICAgICAgIHRvdWNoQXJlYURpbGF0aW9uOiAxMlxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHN0ZXBGb3J3YXJkQnV0dG9uT3B0aW9uczoge1xyXG4gICAgICAgICAgbGlzdGVuZXI6IG1vZGVsLm1hbnVhbFN0ZXAuYmluZCggbW9kZWwgKSxcclxuICAgICAgICAgIHRvdWNoQXJlYURpbGF0aW9uOiAxMixcclxuICAgICAgICAgIHVwRmlsbDogQ29uc3RhbnRzLmJsdWVVcENvbG9yLFxyXG4gICAgICAgICAgb3ZlckZpbGw6IENvbnN0YW50cy5ibHVlT3ZlckNvbG9yLFxyXG4gICAgICAgICAgZGlzYWJsZWRGaWxsOiBDb25zdGFudHMuYmx1ZURpc2FibGVkQ29sb3IsXHJcbiAgICAgICAgICBkb3duRmlsbDogQ29uc3RhbnRzLmJsdWVEb3duQ29sb3IsXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kR3JhZGllbnRDb2xvclN0b3AwOiBDb25zdGFudHMuYnV0dG9uQm9yZGVyMCxcclxuICAgICAgICAgIGJhY2tncm91bmRHcmFkaWVudENvbG9yU3RvcDE6IENvbnN0YW50cy5idXR0b25Cb3JkZXIxXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2NhbGU6IDAuNzUsXHJcbiAgICAgIGNlbnRlclg6IENvbnN0YW50cy5WSUVXX0JPVU5EUy53aWR0aCAvIDIsXHJcbiAgICAgIGNlbnRlclk6IENvbnN0YW50cy5WSUVXX0JPVU5EUy5oZWlnaHQgLSAxMzEsXHJcblxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICd0aW1lQ29udHJvbE5vZGUnIClcclxuICAgIH0gKSApO1xyXG5cclxuICAgIGNvbnN0IHJlc2V0QWxsQnV0dG9uID0gbmV3IFJlc2V0QWxsQnV0dG9uKCB7XHJcbiAgICAgIGxpc3RlbmVyOiAoKSA9PiBtb2RlbC5yZXNldCgpLFxyXG4gICAgICByaWdodDogdGhpcy5sYXlvdXRCb3VuZHMubWF4WCAtIDEwLFxyXG4gICAgICBib3R0b206IHRoaXMubGF5b3V0Qm91bmRzLm1heFkgLSAxMCxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncmVzZXRBbGxCdXR0b24nIClcclxuICAgIH0gKTtcclxuICAgIHJlc2V0QWxsQnV0dG9uLnNjYWxlKCAwLjkyNCApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggcmVzZXRBbGxCdXR0b24gKTtcclxuXHJcbiAgICB0aGlzLmFkZENoaWxkKCBuZXcgQWxpZ25Cb3goIG5ldyBCb3R0b21Db250cm9sUGFuZWwoIG1vZGVsLCB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnY29udHJvbFBhbmVsJyApICksIHtcclxuICAgICAgYWxpZ25Cb3VuZHM6IG5ldyBCb3VuZHMyKCAwLCAwLCByZXNldEFsbEJ1dHRvbi5sZWZ0IC0gMTAsIHJlc2V0QWxsQnV0dG9uLmJvdHRvbSApLFxyXG4gICAgICB4QWxpZ246ICdyaWdodCcsXHJcbiAgICAgIHlBbGlnbjogJ2JvdHRvbSdcclxuICAgIH0gKSApO1xyXG5cclxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKlxyXG4gICAgICogU3RvcHdhdGNoTm9kZVxyXG4gICAgICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICAgIGNvbnN0IHN0b3B3YXRjaE5vZGUgPSBuZXcgU3RvcHdhdGNoTm9kZSggbW9kZWwuc3RvcHdhdGNoLCB7XHJcbiAgICAgIGRyYWdCb3VuZHNQcm9wZXJ0eTogdGhpcy52aXNpYmxlQm91bmRzUHJvcGVydHksXHJcbiAgICAgIHRhbmRlbTogdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3N0b3B3YXRjaE5vZGUnIClcclxuICAgIH0gKTtcclxuICAgIHN0b3B3YXRjaE5vZGUudG91Y2hBcmVhID0gc3RvcHdhdGNoTm9kZS5sb2NhbEJvdW5kcy5kaWxhdGVkKCA1ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBzdG9wd2F0Y2hOb2RlICk7XHJcbiAgICBsZXQgd2luZG93SW1hZ2U7XHJcblxyXG4gICAgLy9jZW50ZXIgbGluZVxyXG4gICAgdGhpcy5hZGRDaGlsZCggbmV3IExpbmUoIDAsIDAsIDYwNSwgMCwge1xyXG4gICAgICBzdHJva2U6ICcjRkZBOTFEJyxcclxuICAgICAgbGluZURhc2g6IFsgOCwgNSBdLFxyXG4gICAgICBsaW5lV2lkdGg6IDIsXHJcbiAgICAgIHg6IENvbnN0YW50cy5zdGFydFN0cmluZ05vZGUsXHJcbiAgICAgIHk6IENvbnN0YW50cy55U3RyaW5nTm9kZSxcclxuICAgICAgdGFuZGVtOiB3YXZlUGxheUFyZWFUYW5kZW0uY3JlYXRlVGFuZGVtKCAnY2VudGVyTGluZScgKVxyXG4gICAgfSApICk7XHJcbiAgICBjb25zdCBlbmROb2RlID0gbmV3IEVuZE5vZGUoIG1vZGVsLCB0aGlzLmZyYW1lRW1pdHRlciwge1xyXG4gICAgICB4OiBDb25zdGFudHMuZW5kU3RyaW5nTm9kZSxcclxuICAgICAgeTogQ29uc3RhbnRzLnlTdHJpbmdOb2RlLFxyXG4gICAgICB0YW5kZW06IHdhdmVQbGF5QXJlYVRhbmRlbS5jcmVhdGVUYW5kZW0oICdlbmROb2RlJyApLFxyXG4gICAgICB2aXNpYmxlUHJvcGVydHlPcHRpb25zOiB7IHBoZXRpb1JlYWRPbmx5OiB0cnVlIH1cclxuICAgIH0gKTtcclxuICAgIGVuZE5vZGUud2luZG93Tm9kZS54ICs9IENvbnN0YW50cy5lbmRTdHJpbmdOb2RlO1xyXG4gICAgZW5kTm9kZS53aW5kb3dOb2RlLnkgKz0gQ29uc3RhbnRzLnlTdHJpbmdOb2RlO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggZW5kTm9kZS53aW5kb3dOb2RlICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBuZXcgUmVmZXJlbmNlTGluZSggbW9kZWwsIHRhbmRlbS5jcmVhdGVUYW5kZW0oICdyZWZlcmVuY2VMaW5lTm9kZScgKSApICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBlbmROb2RlICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBuZXcgU3RyaW5nTm9kZSggbW9kZWwsIHRoaXMuZnJhbWVFbWl0dGVyLCB7XHJcbiAgICAgIHg6IENvbnN0YW50cy5zdGFydFN0cmluZ05vZGUsXHJcbiAgICAgIHk6IENvbnN0YW50cy55U3RyaW5nTm9kZSxcclxuICAgICAgcmFkaXVzOiBDb25zdGFudHMuc2VnbWVudFN0cmluZ05vZGVSYWRpdXMsXHJcbiAgICAgIHRhbmRlbTogd2F2ZVBsYXlBcmVhVGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3N0cmluZ05vZGUnICksXHJcbiAgICAgIHZpc2libGVQcm9wZXJ0eU9wdGlvbnM6IHsgcGhldGlvUmVhZE9ubHk6IHRydWUgfVxyXG4gICAgfSApICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBuZXcgU3RhcnROb2RlKCBtb2RlbCwgdGhpcy5mcmFtZUVtaXR0ZXIsIHtcclxuICAgICAgeDogQ29uc3RhbnRzLnN0YXJ0U3RyaW5nTm9kZSxcclxuICAgICAgeTogQ29uc3RhbnRzLnlTdHJpbmdOb2RlLFxyXG4gICAgICByYW5nZTogQ29uc3RhbnRzLnlXcmVuY2hSYW5nZSxcclxuICAgICAgdGFuZGVtOiB3YXZlUGxheUFyZWFUYW5kZW0uY3JlYXRlVGFuZGVtKCAnc3RhcnROb2RlJyApLFxyXG4gICAgICB2aXNpYmxlUHJvcGVydHlPcHRpb25zOiB7IHBoZXRpb1JlYWRPbmx5OiB0cnVlIH1cclxuICAgIH0gKSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggd2luZG93SW1hZ2UgPSBuZXcgTm9kZSgge1xyXG4gICAgICBjaGlsZHJlbjogWyBuZXcgSW1hZ2UoIHdpbmRvd0Zyb250X3BuZywge1xyXG4gICAgICAgIGxlZnQ6IENvbnN0YW50cy53aW5kb3dYT2Zmc2V0IC0gNCArIENvbnN0YW50cy53aW5kb3dTaGlmdCxcclxuICAgICAgICBjZW50ZXJZOiAwLFxyXG4gICAgICAgIHNjYWxlOiBDb25zdGFudHMud2luZG93U2NhbGVcclxuICAgICAgfSApIF0sIHg6IENvbnN0YW50cy5lbmRTdHJpbmdOb2RlLCB5OiBDb25zdGFudHMueVN0cmluZ05vZGVcclxuICAgIH0gKSApO1xyXG5cclxuICAgIG1vZGVsLmVuZFR5cGVQcm9wZXJ0eS5saW5rKCBlbmRUeXBlID0+IHtcclxuICAgICAgd2luZG93SW1hZ2UudmlzaWJsZSA9IGVuZFR5cGUgPT09IFdPQVNNb2RlbC5FbmRUeXBlLk5PX0VORDtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0ZXBzIGZvcndhcmQgaW4gdGltZS5cclxuICAgKiBAcHVibGljXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge251bWJlcn0gZHRcclxuICAgKi9cclxuICBzdGVwKCBkdCApIHtcclxuICAgIHRoaXMuZnJhbWVFbWl0dGVyLmVtaXQoKTtcclxuICB9XHJcbn1cclxuXHJcbndhdmVPbkFTdHJpbmcucmVnaXN0ZXIoICdXT0FTU2NyZWVuVmlldycsIFdPQVNTY3JlZW5WaWV3ICk7XHJcbmV4cG9ydCBkZWZhdWx0IFdPQVNTY3JlZW5WaWV3OyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxPQUFPLE1BQU0sZ0NBQWdDO0FBQ3BELE9BQU9DLFFBQVEsTUFBTSxpQ0FBaUM7QUFDdEQsT0FBT0MsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLFVBQVUsTUFBTSxvQ0FBb0M7QUFDM0QsT0FBT0MsS0FBSyxNQUFNLG1DQUFtQztBQUNyRCxPQUFPQyxjQUFjLE1BQU0sdURBQXVEO0FBQ2xGLE9BQU9DLFFBQVEsTUFBTSx5Q0FBeUM7QUFDOUQsT0FBT0MsU0FBUyxNQUFNLDBDQUEwQztBQUNoRSxPQUFPQyxhQUFhLE1BQU0sOENBQThDO0FBQ3hFLE9BQU9DLGVBQWUsTUFBTSxnREFBZ0Q7QUFDNUUsU0FBU0MsUUFBUSxFQUFFQyxZQUFZLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLElBQUksUUFBUSxtQ0FBbUM7QUFDbkcsT0FBT0MsS0FBSyxNQUFNLDZCQUE2QjtBQUMvQyxPQUFPQyxlQUFlLE1BQU0sb0NBQW9DO0FBQ2hFLE9BQU9DLGFBQWEsTUFBTSx3QkFBd0I7QUFDbEQsT0FBT0Msb0JBQW9CLE1BQU0sK0JBQStCO0FBQ2hFLE9BQU9DLFNBQVMsTUFBTSxpQkFBaUI7QUFDdkMsT0FBT0MsU0FBUyxNQUFNLHVCQUF1QjtBQUM3QyxPQUFPQyxrQkFBa0IsTUFBTSx5QkFBeUI7QUFDeEQsT0FBT0MsT0FBTyxNQUFN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