// Copyright 2022-2023, University of Colorado Boulder

/**
 * Node that represents the nucleon shells, aka straight horizontal lines above the buckets, in the view.
 *
 * @author Luisa Vargas
 */

import { Color, Line, Node } from '../../../../scenery/js/imports.js';
import buildANucleus from '../../buildANucleus.js';
import BANConstants from '../../common/BANConstants.js';
import BANColors from '../../common/BANColors.js';
import ParticleType from '../../common/view/ParticleType.js';
import optionize from '../../../../phet-core/js/optionize.js';
// nucleon number to energy level stroke color
const neutronNumberToColorLowerLevel = [Color.BLACK,
// 0
new Color(64, 64, 64),
// 1
BANColors.neutronColorProperty.value // 2
];

const neutronNumberToColorUpperLevel = [Color.BLACK,
// 0
new Color(21, 21, 21),
// 1
new Color(43, 43, 43),
// 2
new Color(64, 64, 64),
// 3
new Color(85, 85, 85),
// 4
new Color(107, 107, 107),
// 5
BANColors.neutronColorProperty.value // 6
];

const protonNumberToColorLowerLevel = [Color.BLACK,
// 0
new Color(128, 43, 0),
// 1
BANColors.protonColorProperty.value // 2
];

const protonNumberToColorUpperLevel = [Color.BLACK,
// 0
new Color(43, 14, 0),
// 1
new Color(85, 28, 0),
// 2
new Color(128, 43, 0),
// 3
new Color(170, 57, 0),
// 4
new Color(213, 71, 0),
// 5
BANColors.protonColorProperty.value // 6
];

class NucleonShellView extends Node {
  constructor(particleType, nucleonShellPositions, nucleonCountProperty, particleViewPositionVector, providedOptions) {
    const options = optionize()({
      xOffset: 0
    }, providedOptions);
    super(options);
    this.y = particleViewPositionVector.y + BANConstants.PARTICLE_RADIUS;
    this.x = particleViewPositionVector.x + options.xOffset - BANConstants.PARTICLE_RADIUS;
    this.modelViewTransform = BANConstants.NUCLEON_ENERGY_LEVEL_ARRAY_MVT;

    // create and add the nucleon energy levels
    const energyLevels = [];
    nucleonShellPositions.forEach((particleShellRow, energyLevel) => {
      const particleLength = 2 * BANConstants.PARTICLE_RADIUS;
      energyLevels.push(new Line(this.modelViewTransform.modelToViewX(particleShellRow[energyLevel === 0 ? 2 : 0].xPosition), this.modelViewTransform.modelToViewY(energyLevel),
      // extend the energyLevel to the outer edge of the last particle
      this.modelViewTransform.modelToViewX(particleShellRow[particleShellRow.length - 1].xPosition) + particleLength, this.modelViewTransform.modelToViewY(energyLevel), {
        stroke: 'black'
      }));
    });
    energyLevels.forEach(energyLevel => this.addChild(energyLevel));

    // update the stroke color and width of the respective energy levels as the nucleon count changes
    const boldEnergyLevelWidth = 4;
    const defaultEnergyLevelWidth = 1;
    const nucleonCountToColorLowerLevel = particleType === ParticleType.PROTON ? protonNumberToColorLowerLevel : neutronNumberToColorLowerLevel;
    const nucleonCountToColorUpperLevel = particleType === ParticleType.PROTON ? protonNumberToColorUpperLevel : neutronNumberToColorUpperLevel;
    nucleonCountProperty.link(nucleonCount => {
      if (nucleonCount <= 2) {
        energyLevels[0].stroke = nucleonCountToColorLowerLevel[nucleonCount];

        // if the energy level is full (2 particles on the lower energy level), double the lineWidth
        energyLevels[0].lineWidth = nucleonCount === 2 ? boldEnergyLevelWidth : defaultEnergyLevelWidth;
      } else {
        let energyLevelNumber = 1;
        if (nucleonCount > 8) {
          nucleonCount -= 6;
          energyLevelNumber = 2;
        }
        nucleonCount -= 2;
        energyLevels[energyLevelNumber].stroke = nucleonCountToColorUpperLevel[nucleonCount];

        // if the energy level is full (6 particles on the upper and middle energy levels), double the lineWidth
        energyLevels[energyLevelNumber].lineWidth = nucleonCount === 6 ? boldEnergyLevelWidth : defaultEnergyLevelWidth;
      }
    });
  }
}
buildANucleus.register('NucleonShellView', NucleonShellView);
export default NucleonShellView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb2xvciIsIkxpbmUiLCJOb2RlIiwiYnVpbGRBTnVjbGV1cyIsIkJBTkNvbnN0YW50cyIsIkJBTkNvbG9ycyIsIlBhcnRpY2xlVHlwZSIsIm9wdGlvbml6ZSIsIm5ldXRyb25OdW1iZXJUb0NvbG9yTG93ZXJMZXZlbCIsIkJMQUNLIiwibmV1dHJvbkNvbG9yUHJvcGVydHkiLCJ2YWx1ZSIsIm5ldXRyb25OdW1iZXJUb0NvbG9yVXBwZXJMZXZlbCIsInByb3Rvbk51bWJlclRvQ29sb3JMb3dlckxldmVsIiwicHJvdG9uQ29sb3JQcm9wZXJ0eSIsInByb3Rvbk51bWJlclRvQ29sb3JVcHBlckxldmVsIiwiTnVjbGVvblNoZWxsVmlldyIsImNvbnN0cnVjdG9yIiwicGFydGljbGVUeXBlIiwibnVjbGVvblNoZWxsUG9zaXRpb25zIiwibnVjbGVvbkNvdW50UHJvcGVydHkiLCJwYXJ0aWNsZVZpZXdQb3NpdGlvblZlY3RvciIsInByb3ZpZGVkT3B0aW9ucyIsIm9wdGlvbnMiLCJ4T2Zmc2V0IiwieSIsIlBBUlRJQ0xFX1JBRElVUyIsIngiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJOVUNMRU9OX0VORVJHWV9MRVZFTF9BUlJBWV9NVlQiLCJlbmVyZ3lMZXZlbHMiLCJmb3JFYWNoIiwicGFydGljbGVTaGVsbFJvdyIsImVuZXJneUxldmVsIiwicGFydGljbGVMZW5ndGgiLCJwdXNoIiwibW9kZWxUb1ZpZXdYIiwieFBvc2l0aW9uIiwibW9kZWxUb1ZpZXdZIiwibGVuZ3RoIiwic3Ryb2tlIiwiYWRkQ2hpbGQiLCJib2xkRW5lcmd5TGV2ZWxXaWR0aCIsImRlZmF1bHRFbmVyZ3lMZXZlbFdpZHRoIiwibnVjbGVvbkNvdW50VG9Db2xvckxvd2VyTGV2ZWwiLCJQUk9UT04iLCJudWNsZW9uQ291bnRUb0NvbG9yVXBwZXJMZXZlbCIsImxpbmsiLCJudWNsZW9uQ291bnQiLCJsaW5lV2lkdGgiLCJlbmVyZ3lMZXZlbE51bWJlciIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiTnVjbGVvblNoZWxsVmlldy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMi0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBOb2RlIHRoYXQgcmVwcmVzZW50cyB0aGUgbnVjbGVvbiBzaGVsbHMsIGFrYSBzdHJhaWdodCBob3Jpem9udGFsIGxpbmVzIGFib3ZlIHRoZSBidWNrZXRzLCBpbiB0aGUgdmlldy5cclxuICpcclxuICogQGF1dGhvciBMdWlzYSBWYXJnYXNcclxuICovXHJcblxyXG5pbXBvcnQgeyBDb2xvciwgTGluZSwgTm9kZSwgTm9kZU9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgYnVpbGRBTnVjbGV1cyBmcm9tICcuLi8uLi9idWlsZEFOdWNsZXVzLmpzJztcclxuaW1wb3J0IEJBTkNvbnN0YW50cyBmcm9tICcuLi8uLi9jb21tb24vQkFOQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IE1vZGVsVmlld1RyYW5zZm9ybTIgZnJvbSAnLi4vLi4vLi4vLi4vcGhldGNvbW1vbi9qcy92aWV3L01vZGVsVmlld1RyYW5zZm9ybTIuanMnO1xyXG5pbXBvcnQgUGFydGljbGUgZnJvbSAnLi4vLi4vLi4vLi4vc2hyZWQvanMvbW9kZWwvUGFydGljbGUuanMnO1xyXG5pbXBvcnQgQkFOQ29sb3JzIGZyb20gJy4uLy4uL2NvbW1vbi9CQU5Db2xvcnMuanMnO1xyXG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBQYXJ0aWNsZVR5cGUgZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXcvUGFydGljbGVUeXBlLmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IHtcclxuICB4T2Zmc2V0PzogbnVtYmVyO1xyXG59O1xyXG50eXBlIEVuZXJneUxldmVsTm9kZU9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIE5vZGVPcHRpb25zO1xyXG50eXBlIFBhcnRpY2xlU2hlbGxQb3NpdGlvbiA9IHtcclxuICBwYXJ0aWNsZTogUGFydGljbGUgfCB1bmRlZmluZWQ7XHJcbiAgeFBvc2l0aW9uOiBudW1iZXI7IC8vIDAgLSA1XHJcbn07XHJcblxyXG4vLyBudWNsZW9uIG51bWJlciB0byBlbmVyZ3kgbGV2ZWwgc3Ryb2tlIGNvbG9yXHJcbmNvbnN0IG5ldXRyb25OdW1iZXJUb0NvbG9yTG93ZXJMZXZlbCA9IFtcclxuICBDb2xvci5CTEFDSywgLy8gMFxyXG4gIG5ldyBDb2xvciggNjQsIDY0LCA2NCApLCAvLyAxXHJcbiAgQkFOQ29sb3JzLm5ldXRyb25Db2xvclByb3BlcnR5LnZhbHVlIC8vIDJcclxuXTtcclxuY29uc3QgbmV1dHJvbk51bWJlclRvQ29sb3JVcHBlckxldmVsID0gW1xyXG4gIENvbG9yLkJMQUNLLCAvLyAwXHJcbiAgbmV3IENvbG9yKCAyMSwgMjEsIDIxICksIC8vIDFcclxuICBuZXcgQ29sb3IoIDQzLCA0MywgNDMgKSwgLy8gMlxyXG4gIG5ldyBDb2xvciggNjQsIDY0LCA2NCApLCAvLyAzXHJcbiAgbmV3IENvbG9yKCA4NSwgODUsIDg1ICksIC8vIDRcclxuICBuZXcgQ29sb3IoIDEwNywgMTA3LCAxMDcgKSwgLy8gNVxyXG4gIEJBTkNvbG9ycy5uZXV0cm9uQ29sb3JQcm9wZXJ0eS52YWx1ZSAvLyA2XHJcbl07XHJcbmNvbnN0IHByb3Rvbk51bWJlclRvQ29sb3JMb3dlckxldmVsID0gW1xyXG4gIENvbG9yLkJMQUNLLCAvLyAwXHJcbiAgbmV3IENvbG9yKCAxMjgsIDQzLCAwICksIC8vIDFcclxuICBCQU5Db2xvcnMucHJvdG9uQ29sb3JQcm9wZXJ0eS52YWx1ZSAvLyAyXHJcbl07XHJcbmNvbnN0IHByb3Rvbk51bWJlclRvQ29sb3JVcHBlckxldmVsID0gW1xyXG4gIENvbG9yLkJMQUNLLCAvLyAwXHJcbiAgbmV3IENvbG9yKCA0MywgMTQsIDAgKSwgLy8gMVxyXG4gIG5ldyBDb2xvciggODUsIDI4LCAwICksIC8vIDJcclxuICBuZXcgQ29sb3IoIDEyOCwgNDMsIDAgKSwgLy8gM1xyXG4gIG5ldyBDb2xvciggMTcwLCA1NywgMCApLCAvLyA0XHJcbiAgbmV3IENvbG9yKCAyMTMsIDcxLCAwICksIC8vIDVcclxuICBCQU5Db2xvcnMucHJvdG9uQ29sb3JQcm9wZXJ0eS52YWx1ZSAvLyA2XHJcbl07XHJcblxyXG5jbGFzcyBOdWNsZW9uU2hlbGxWaWV3IGV4dGVuZHMgTm9kZSB7XHJcbiAgcHJpdmF0ZSBtb2RlbFZpZXdUcmFuc2Zvcm06IE1vZGVsVmlld1RyYW5zZm9ybTI7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggcGFydGljbGVUeXBlOiBQYXJ0aWNsZVR5cGUsIG51Y2xlb25TaGVsbFBvc2l0aW9uczogUGFydGljbGVTaGVsbFBvc2l0aW9uW11bXSxcclxuICAgICAgICAgICAgICAgICAgICAgIG51Y2xlb25Db3VudFByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxudW1iZXI+LCBwYXJ0aWNsZVZpZXdQb3NpdGlvblZlY3RvcjogVmVjdG9yMixcclxuICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkT3B0aW9ucz86IEVuZXJneUxldmVsTm9kZU9wdGlvbnMgKSB7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxFbmVyZ3lMZXZlbE5vZGVPcHRpb25zLCBTZWxmT3B0aW9ucywgTm9kZU9wdGlvbnM+KCkoIHtcclxuICAgICAgeE9mZnNldDogMFxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG5cclxuICAgIHRoaXMueSA9IHBhcnRpY2xlVmlld1Bvc2l0aW9uVmVjdG9yLnkgKyBCQU5Db25zdGFudHMuUEFSVElDTEVfUkFESVVTO1xyXG4gICAgdGhpcy54ID0gcGFydGljbGVWaWV3UG9zaXRpb25WZWN0b3IueCArIG9wdGlvbnMueE9mZnNldCAtIEJBTkNvbnN0YW50cy5QQVJUSUNMRV9SQURJVVM7XHJcblxyXG4gICAgdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0gPSBCQU5Db25zdGFudHMuTlVDTEVPTl9FTkVSR1lfTEVWRUxfQVJSQVlfTVZUO1xyXG5cclxuICAgIC8vIGNyZWF0ZSBhbmQgYWRkIHRoZSBudWNsZW9uIGVuZXJneSBsZXZlbHNcclxuICAgIGNvbnN0IGVuZXJneUxldmVsczogTGluZVtdID0gW107XHJcbiAgICBudWNsZW9uU2hlbGxQb3NpdGlvbnMuZm9yRWFjaCggKCBwYXJ0aWNsZVNoZWxsUm93LCBlbmVyZ3lMZXZlbCApID0+IHtcclxuICAgICAgY29uc3QgcGFydGljbGVMZW5ndGggPSAyICogQkFOQ29uc3RhbnRzLlBBUlRJQ0xFX1JBRElVUztcclxuICAgICAgZW5lcmd5TGV2ZWxzLnB1c2goXHJcbiAgICAgICAgbmV3IExpbmUoXHJcbiAgICAgICAgICB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIHBhcnRpY2xlU2hlbGxSb3dbIGVuZXJneUxldmVsID09PSAwID8gMiA6IDAgXS54UG9zaXRpb24gKSxcclxuICAgICAgICAgIHRoaXMubW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WSggZW5lcmd5TGV2ZWwgKSxcclxuXHJcbiAgICAgICAgICAvLyBleHRlbmQgdGhlIGVuZXJneUxldmVsIHRvIHRoZSBvdXRlciBlZGdlIG9mIHRoZSBsYXN0IHBhcnRpY2xlXHJcbiAgICAgICAgICB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIHBhcnRpY2xlU2hlbGxSb3dbIHBhcnRpY2xlU2hlbGxSb3cubGVuZ3RoIC0gMSBdLnhQb3NpdGlvbiApICsgcGFydGljbGVMZW5ndGgsXHJcbiAgICAgICAgICB0aGlzLm1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1koIGVuZXJneUxldmVsICksXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHN0cm9rZTogJ2JsYWNrJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgIH0gKTtcclxuICAgIGVuZXJneUxldmVscy5mb3JFYWNoKCBlbmVyZ3lMZXZlbCA9PiB0aGlzLmFkZENoaWxkKCBlbmVyZ3lMZXZlbCApICk7XHJcblxyXG4gICAgLy8gdXBkYXRlIHRoZSBzdHJva2UgY29sb3IgYW5kIHdpZHRoIG9mIHRoZSByZXNwZWN0aXZlIGVuZXJneSBsZXZlbHMgYXMgdGhlIG51Y2xlb24gY291bnQgY2hhbmdlc1xyXG4gICAgY29uc3QgYm9sZEVuZXJneUxldmVsV2lkdGggPSA0O1xyXG4gICAgY29uc3QgZGVmYXVsdEVuZXJneUxldmVsV2lkdGggPSAxO1xyXG4gICAgY29uc3QgbnVjbGVvbkNvdW50VG9Db2xvckxvd2VyTGV2ZWwgPSBwYXJ0aWNsZVR5cGUgPT09IFBhcnRpY2xlVHlwZS5QUk9UT04gPyBwcm90b25OdW1iZXJUb0NvbG9yTG93ZXJMZXZlbCA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldXRyb25OdW1iZXJUb0NvbG9yTG93ZXJMZXZlbDtcclxuICAgIGNvbnN0IG51Y2xlb25Db3VudFRvQ29sb3JVcHBlckxldmVsID0gcGFydGljbGVUeXBlID09PSBQYXJ0aWNsZVR5cGUuUFJPVE9OID8gcHJvdG9uTnVtYmVyVG9Db2xvclVwcGVyTGV2ZWwgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXV0cm9uTnVtYmVyVG9Db2xvclVwcGVyTGV2ZWw7XHJcbiAgICBudWNsZW9uQ291bnRQcm9wZXJ0eS5saW5rKCBudWNsZW9uQ291bnQgPT4ge1xyXG4gICAgICBpZiAoIG51Y2xlb25Db3VudCA8PSAyICkge1xyXG4gICAgICAgIGVuZXJneUxldmVsc1sgMCBdLnN0cm9rZSA9IG51Y2xlb25Db3VudFRvQ29sb3JMb3dlckxldmVsWyBudWNsZW9uQ291bnQgXTtcclxuXHJcbiAgICAgICAgLy8gaWYgdGhlIGVuZXJneSBsZXZlbCBpcyBmdWxsICgyIHBhcnRpY2xlcyBvbiB0aGUgbG93ZXIgZW5lcmd5IGxldmVsKSwgZG91YmxlIHRoZSBsaW5lV2lkdGhcclxuICAgICAgICBlbmVyZ3lMZXZlbHNbIDAgXS5saW5lV2lkdGggPSBudWNsZW9uQ291bnQgPT09IDIgPyBib2xkRW5lcmd5TGV2ZWxXaWR0aCA6IGRlZmF1bHRFbmVyZ3lMZXZlbFdpZHRoO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBlbmVyZ3lMZXZlbE51bWJlciA9IDE7XHJcbiAgICAgICAgaWYgKCBudWNsZW9uQ291bnQgPiA4ICkge1xyXG4gICAgICAgICAgbnVjbGVvbkNvdW50IC09IDY7XHJcbiAgICAgICAgICBlbmVyZ3lMZXZlbE51bWJlciA9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG51Y2xlb25Db3VudCAtPSAyO1xyXG4gICAgICAgIGVuZXJneUxldmVsc1sgZW5lcmd5TGV2ZWxOdW1iZXIgXS5zdHJva2UgPSBudWNsZW9uQ291bnRUb0NvbG9yVXBwZXJMZXZlbFsgbnVjbGVvbkNvdW50IF07XHJcblxyXG4gICAgICAgIC8vIGlmIHRoZSBlbmVyZ3kgbGV2ZWwgaXMgZnVsbCAoNiBwYXJ0aWNsZXMgb24gdGhlIHVwcGVyIGFuZCBtaWRkbGUgZW5lcmd5IGxldmVscyksIGRvdWJsZSB0aGUgbGluZVdpZHRoXHJcbiAgICAgICAgZW5lcmd5TGV2ZWxzWyBlbmVyZ3lMZXZlbE51bWJlciBdLmxpbmVXaWR0aCA9IG51Y2xlb25Db3VudCA9PT0gNiA/IGJvbGRFbmVyZ3lMZXZlbFdpZHRoIDogZGVmYXVsdEVuZXJneUxldmVsV2lkdGg7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICB9XHJcbn1cclxuXHJcbmJ1aWxkQU51Y2xldXMucmVnaXN0ZXIoICdOdWNsZW9uU2hlbGxWaWV3JywgTnVjbGVvblNoZWxsVmlldyApO1xyXG5leHBvcnQgZGVmYXVsdCBOdWNsZW9uU2hlbGxWaWV3OyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxLQUFLLEVBQUVDLElBQUksRUFBRUMsSUFBSSxRQUFxQixtQ0FBbUM7QUFDbEYsT0FBT0MsYUFBYSxNQUFNLHdCQUF3QjtBQUNsRCxPQUFPQyxZQUFZLE1BQU0sOEJBQThCO0FBR3ZELE9BQU9DLFNBQVMsTUFBTSwyQkFBMkI7QUFFakQsT0FBT0MsWUFBWSxNQUFNLG1DQUFtQztBQUU1RCxPQUFPQyxTQUFTLE1BQU0sdUNBQXVDO0FBVzdEO0FBQ0EsTUFBTUMsOEJBQThCLEdBQUcsQ0FDckNSLEtBQUssQ0FBQ1MsS0FBSztBQUFFO0FBQ2IsSUFBSVQsS0FBSyxDQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRyxDQUFDO0FBQUU7QUFDekJLLFNBQVMsQ0FBQ0ssb0JBQW9CLENBQUNDLEtBQUssQ0FBQztBQUFBLENBQ3RDOztBQUNELE1BQU1DLDhCQUE4QixHQUFHLENBQ3JDWixLQUFLLENBQUNTLEtBQUs7QUFBRTtBQUNiLElBQUlULEtBQUssQ0FBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUcsQ0FBQztBQUFFO0FBQ3pCLElBQUlBLEtBQUssQ0FBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUcsQ0FBQztBQUFFO0FBQ3pCLElBQUlBLEtBQUssQ0FBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUcsQ0FBQztBQUFFO0FBQ3pCLElBQUlBLEtBQUssQ0FBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUcsQ0FBQztBQUFFO0FBQ3pCLElBQUlBLEtBQUssQ0FBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUksQ0FBQztBQUFFO0FBQzVCSyxTQUFTLENBQUNLLG9CQUFvQixDQUFDQyxLQUFLLENBQUM7QUFBQSxD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