// Copyright 2022, University of Colorado Boulder

/**
 * HalfLifeInfoDialog shows an expanded timeline of the half-life's of the nuclide's built with meaningful points in
 * time pointed out with arrows to give more orientation on the half-life time.
 *
 * @author Luisa Vargas
 */

import Dialog from '../../../../sun/js/Dialog.js';
import buildANucleus from '../../buildANucleus.js';
import { HBox, Rectangle, RichText, Text, VBox } from '../../../../scenery/js/imports.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import BuildANucleusStrings from '../../BuildANucleusStrings.js';
import BANColors from '../../common/BANColors.js';
import HalfLifeNumberLineNode from './HalfLifeNumberLineNode.js';
import BANTimescalePoints from '../model/BANTimescalePoints.js';
import BANConstants from '../../common/BANConstants.js';

// constants
const MAX_CONTENT_WIDTH = 600;
const TITLE_FONT = new PhetFont(32);
const LEGEND_FONT = BANConstants.REGULAR_FONT;
class HalfLifeInfoDialog extends Dialog {
  constructor(halfLifeNumberProperty, isStableBooleanProperty, protonCountProperty, neutronCountProperty, doesNuclideExistBooleanProperty) {
    const leftSideStrings = [BANTimescalePoints.TIME_FOR_LIGHT_TO_CROSS_A_NUCLEUS.timescaleItem, BANTimescalePoints.TIME_FOR_LIGHT_TO_CROSS_AN_ATOM.timescaleItem, BANTimescalePoints.TIME_FOR_LIGHT_TO_CROSS_ONE_THOUSAND_ATOMS.timescaleItem, BANTimescalePoints.TIME_FOR_SOUND_TO_TRAVEL_ONE_MILLIMETER.timescaleItem, BANTimescalePoints.A_BLINK_OF_AN_EYE.timescaleItem];
    const rightSideStrings = [BANTimescalePoints.ONE_MINUTE.timescaleItem, BANTimescalePoints.ONE_YEAR.timescaleItem, BANTimescalePoints.AVERAGE_HUMAN_LIFESPAN.timescaleItem, BANTimescalePoints.AGE_OF_THE_UNIVERSE.timescaleItem, BANTimescalePoints.LIFETIME_OF_LONGEST_LIVED_STARS.timescaleItem];

    // join the strings in each array, placing one on each line
    const createTextFromStrings = strings => {
      return new RichText(strings.join('<br>'), {
        font: LEGEND_FONT,
        leading: 6
      });
    };
    const legend = new HBox({
      children: [createTextFromStrings(leftSideStrings), createTextFromStrings(rightSideStrings)],
      spacing: 70,
      align: 'top',
      maxWidth: 870
    });

    // create and add the halfLifeNumberLineNode
    const halfLifeNumberLineNode = new HalfLifeNumberLineNode(halfLifeNumberProperty, isStableBooleanProperty, {
      tickMarkExtent: 24,
      numberLineLabelFont: LEGEND_FONT,
      numberLineWidth: 750,
      halfLifeArrowLength: 45,
      halfLifeDisplayScale: 0.8,
      isHalfLifeLabelFixed: false,
      protonCountProperty: protonCountProperty,
      neutronCountProperty: neutronCountProperty,
      doesNuclideExistBooleanProperty: doesNuclideExistBooleanProperty
    });
    const numberLineNodeAndLegend = new VBox({
      children: [legend, halfLifeNumberLineNode],
      spacing: 30,
      align: 'center',
      resize: false
    });

    // surround contents with rectangle for extra padding
    const contents = new Rectangle(0, 0, numberLineNodeAndLegend.width + 100, numberLineNodeAndLegend.height);
    contents.addChild(numberLineNodeAndLegend);
    numberLineNodeAndLegend.centerX = contents.centerX;

    // the half-life's of the strings, in respective order
    const halfLifeTime = [BANTimescalePoints.TIME_FOR_LIGHT_TO_CROSS_A_NUCLEUS.numberOfSeconds, BANTimescalePoints.TIME_FOR_LIGHT_TO_CROSS_AN_ATOM.numberOfSeconds, BANTimescalePoints.TIME_FOR_LIGHT_TO_CROSS_ONE_THOUSAND_ATOMS.numberOfSeconds, BANTimescalePoints.TIME_FOR_SOUND_TO_TRAVEL_ONE_MILLIMETER.numberOfSeconds, BANTimescalePoints.A_BLINK_OF_AN_EYE.numberOfSeconds, BANTimescalePoints.ONE_MINUTE.numberOfSeconds, BANTimescalePoints.ONE_YEAR.numberOfSeconds, BANTimescalePoints.AVERAGE_HUMAN_LIFESPAN.numberOfSeconds, BANTimescalePoints.AGE_OF_THE_UNIVERSE.numberOfSeconds, BANTimescalePoints.LIFETIME_OF_LONGEST_LIVED_STARS.numberOfSeconds];

    // the labels on the half-life's, in respective order
    const halfLifeLabels = [BuildANucleusStrings.A, BuildANucleusStrings.B, BuildANucleusStrings.C, BuildANucleusStrings.D, BuildANucleusStrings.E, BuildANucleusStrings.F, BuildANucleusStrings.G, BuildANucleusStrings.H, BuildANucleusStrings.I, BuildANucleusStrings.J];

    // create and add the half-life arrow and label
    for (let i = 0; i < halfLifeTime.length; i++) {
      halfLifeNumberLineNode.addArrowAndLabel(halfLifeLabels[i], halfLifeTime[i]);
    }
    const titleNode = new Text(BuildANucleusStrings.halfLifeTimescale, {
      font: TITLE_FONT,
      maxWidth: 0.75 * MAX_CONTENT_WIDTH
    });
    super(contents, {
      title: titleNode,
      ySpacing: 20,
      xSpacing: 0,
      bottomMargin: 20,
      fill: BANColors.infoDialogBackgroundColorProperty
    });
  }
}
buildANucleus.register('HalfLifeInfoDialog', HalfLifeInfoDialog);
export default HalfLifeInfoDialog;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEaWFsb2ciLCJidWlsZEFOdWNsZXVzIiwiSEJveCIsIlJlY3RhbmdsZSIsIlJpY2hUZXh0IiwiVGV4dCIsIlZCb3giLCJQaGV0Rm9udCIsIkJ1aWxkQU51Y2xldXNTdHJpbmdzIiwiQkFOQ29sb3JzIiwiSGFsZkxpZmVOdW1iZXJMaW5lTm9kZSIsIkJBTlRpbWVzY2FsZVBvaW50cyIsIkJBTkNvbnN0YW50cyIsIk1BWF9DT05URU5UX1dJRFRIIiwiVElUTEVfRk9OVCIsIkxFR0VORF9GT05UIiwiUkVHVUxBUl9GT05UIiwiSGFsZkxpZmVJbmZvRGlhbG9nIiwiY29uc3RydWN0b3IiLCJoYWxmTGlmZU51bWJlclByb3BlcnR5IiwiaXNTdGFibGVCb29sZWFuUHJvcGVydHkiLCJwcm90b25Db3VudFByb3BlcnR5IiwibmV1dHJvbkNvdW50UHJvcGVydHkiLCJkb2VzTnVjbGlkZUV4aXN0Qm9vbGVhblByb3BlcnR5IiwibGVmdFNpZGVTdHJpbmdzIiwiVElNRV9GT1JfTElHSFRfVE9fQ1JPU1NfQV9OVUNMRVVTIiwidGltZXNjYWxlSXRlbSIsIlRJTUVfRk9SX0xJR0hUX1RPX0NST1NTX0FOX0FUT00iLCJUSU1FX0ZPUl9MSUdIVF9UT19DUk9TU19PTkVfVEhPVVNBTkRfQVRPTVMiLCJUSU1FX0ZPUl9TT1VORF9UT19UUkFWRUxfT05FX01JTExJTUVURVIiLCJBX0JMSU5LX09GX0FOX0VZRSIsInJpZ2h0U2lkZVN0cmluZ3MiLCJPTkVfTUlOVVRFIiwiT05FX1lFQVIiLCJBVkVSQUdFX0hVTUFOX0xJRkVTUEFOIiwiQUdFX09GX1RIRV9VTklWRVJTRSIsIkxJRkVUSU1FX09GX0xPTkdFU1RfTElWRURfU1RBUlMiLCJjcmVhdGVUZXh0RnJvbVN0cmluZ3MiLCJzdHJpbmdzIiwiam9pbiIsImZvbnQiLCJsZWFkaW5nIiwibGVnZW5kIiwiY2hpbGRyZW4iLCJzcGFjaW5nIiwiYWxpZ24iLCJtYXhXaWR0aCIsImhhbGZMaWZlTnVtYmVyTGluZU5vZGUiLCJ0aWNrTWFya0V4dGVudCIsIm51bWJlckxpbmVMYWJlbEZvbnQiLCJudW1iZXJMaW5lV2lkdGgiLCJoYWxmTGlmZUFycm93TGVuZ3RoIiwiaGFsZkxpZmVEaXNwbGF5U2NhbGUiLCJpc0hhbGZMaWZlTGFiZWxGaXhlZCIsIm51bWJlckxpbmVOb2RlQW5kTGVnZW5kIiwicmVzaXplIiwiY29udGVudHMiLCJ3aWR0aCIsImhlaWdodCIsImFkZENoaWxkIiwiY2VudGVyWCIsImhhbGZMaWZlVGltZSIsIm51bWJlck9mU2Vjb25kcyIsImhhbGZMaWZlTGFiZWxzIiwiQSIsIkIiLCJDIiwiRCIsIkUiLCJGIiwiRyIsIkgiLCJJIiwiSiIsImkiLCJsZW5ndGgiLCJhZGRBcnJvd0FuZExhYmVsIiwidGl0bGVOb2RlIiwiaGFsZkxpZmVUaW1lc2NhbGUiLCJ0aXRsZSIsInlTcGFjaW5nIiwieFNwYWNpbmciLCJib3R0b21NYXJnaW4iLCJmaWxsIiwiaW5mb0RpYWxvZ0JhY2tncm91bmRDb2xvclByb3BlcnR5IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJIYWxmTGlmZUluZm9EaWFsb2cudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEhhbGZMaWZlSW5mb0RpYWxvZyBzaG93cyBhbiBleHBhbmRlZCB0aW1lbGluZSBvZiB0aGUgaGFsZi1saWZlJ3Mgb2YgdGhlIG51Y2xpZGUncyBidWlsdCB3aXRoIG1lYW5pbmdmdWwgcG9pbnRzIGluXHJcbiAqIHRpbWUgcG9pbnRlZCBvdXQgd2l0aCBhcnJvd3MgdG8gZ2l2ZSBtb3JlIG9yaWVudGF0aW9uIG9uIHRoZSBoYWxmLWxpZmUgdGltZS5cclxuICpcclxuICogQGF1dGhvciBMdWlzYSBWYXJnYXNcclxuICovXHJcblxyXG5pbXBvcnQgRGlhbG9nIGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9EaWFsb2cuanMnO1xyXG5pbXBvcnQgYnVpbGRBTnVjbGV1cyBmcm9tICcuLi8uLi9idWlsZEFOdWNsZXVzLmpzJztcclxuaW1wb3J0IHsgSEJveCwgTm9kZSwgUmVjdGFuZ2xlLCBSaWNoVGV4dCwgVGV4dCwgVkJveCB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBQaGV0Rm9udCBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvUGhldEZvbnQuanMnO1xyXG5pbXBvcnQgQnVpbGRBTnVjbGV1c1N0cmluZ3MgZnJvbSAnLi4vLi4vQnVpbGRBTnVjbGV1c1N0cmluZ3MuanMnO1xyXG5pbXBvcnQgQkFOQ29sb3JzIGZyb20gJy4uLy4uL2NvbW1vbi9CQU5Db2xvcnMuanMnO1xyXG5pbXBvcnQgSGFsZkxpZmVOdW1iZXJMaW5lTm9kZSBmcm9tICcuL0hhbGZMaWZlTnVtYmVyTGluZU5vZGUuanMnO1xyXG5pbXBvcnQgQkFOVGltZXNjYWxlUG9pbnRzIGZyb20gJy4uL21vZGVsL0JBTlRpbWVzY2FsZVBvaW50cy5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IEJBTkNvbnN0YW50cyBmcm9tICcuLi8uLi9jb21tb24vQkFOQ29uc3RhbnRzLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBNQVhfQ09OVEVOVF9XSURUSCA9IDYwMDtcclxuY29uc3QgVElUTEVfRk9OVCA9IG5ldyBQaGV0Rm9udCggMzIgKTtcclxuY29uc3QgTEVHRU5EX0ZPTlQgPSBCQU5Db25zdGFudHMuUkVHVUxBUl9GT05UO1xyXG5cclxuY2xhc3MgSGFsZkxpZmVJbmZvRGlhbG9nIGV4dGVuZHMgRGlhbG9nIHtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBoYWxmTGlmZU51bWJlclByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxudW1iZXI+LFxyXG4gICAgICAgICAgICAgICBpc1N0YWJsZUJvb2xlYW5Qcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8Ym9vbGVhbj4sXHJcbiAgICAgICAgICAgICAgIHByb3RvbkNvdW50UHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PG51bWJlcj4sXHJcbiAgICAgICAgICAgICAgIG5ldXRyb25Db3VudFByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxudW1iZXI+LFxyXG4gICAgICAgICAgICAgICBkb2VzTnVjbGlkZUV4aXN0Qm9vbGVhblByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPiApIHtcclxuXHJcbiAgICBjb25zdCBsZWZ0U2lkZVN0cmluZ3MgPSBbXHJcbiAgICAgIEJBTlRpbWVzY2FsZVBvaW50cy5USU1FX0ZPUl9MSUdIVF9UT19DUk9TU19BX05VQ0xFVVMudGltZXNjYWxlSXRlbSxcclxuICAgICAgQkFOVGltZXNjYWxlUG9pbnRzLlRJTUVfRk9SX0xJR0hUX1RPX0NST1NTX0FOX0FUT00udGltZXNjYWxlSXRlbSxcclxuICAgICAgQkFOVGltZXNjYWxlUG9pbnRzLlRJTUVfRk9SX0xJR0hUX1RPX0NST1NTX09ORV9USE9VU0FORF9BVE9NUy50aW1lc2NhbGVJdGVtLFxyXG4gICAgICBCQU5UaW1lc2NhbGVQb2ludHMuVElNRV9GT1JfU09VTkRfVE9fVFJBVkVMX09ORV9NSUxMSU1FVEVSLnRpbWVzY2FsZUl0ZW0sXHJcbiAgICAgIEJBTlRpbWVzY2FsZVBvaW50cy5BX0JMSU5LX09GX0FOX0VZRS50aW1lc2NhbGVJdGVtXHJcbiAgICBdO1xyXG4gICAgY29uc3QgcmlnaHRTaWRlU3RyaW5ncyA9IFtcclxuICAgICAgQkFOVGltZXNjYWxlUG9pbnRzLk9ORV9NSU5VVEUudGltZXNjYWxlSXRlbSxcclxuICAgICAgQkFOVGltZXNjYWxlUG9pbnRzLk9ORV9ZRUFSLnRpbWVzY2FsZUl0ZW0sXHJcbiAgICAgIEJBTlRpbWVzY2FsZVBvaW50cy5BVkVSQUdFX0hVTUFOX0xJRkVTUEFOLnRpbWVzY2FsZUl0ZW0sXHJcbiAgICAgIEJBTlRpbWVzY2FsZVBvaW50cy5BR0VfT0ZfVEhFX1VOSVZFUlNFLnRpbWVzY2FsZUl0ZW0sXHJcbiAgICAgIEJBTlRpbWVzY2FsZVBvaW50cy5MSUZFVElNRV9PRl9MT05HRVNUX0xJVkVEX1NUQVJTLnRpbWVzY2FsZUl0ZW1cclxuICAgIF07XHJcblxyXG4gICAgLy8gam9pbiB0aGUgc3RyaW5ncyBpbiBlYWNoIGFycmF5LCBwbGFjaW5nIG9uZSBvbiBlYWNoIGxpbmVcclxuICAgIGNvbnN0IGNyZWF0ZVRleHRGcm9tU3RyaW5ncyA9ICggc3RyaW5nczogc3RyaW5nW10gKTogTm9kZSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgUmljaFRleHQoIHN0cmluZ3Muam9pbiggJzxicj4nICksIHtcclxuICAgICAgICBmb250OiBMRUdFTkRfRk9OVCxcclxuICAgICAgICBsZWFkaW5nOiA2XHJcbiAgICAgIH0gKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBsZWdlbmQgPSBuZXcgSEJveCgge1xyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIGNyZWF0ZVRleHRGcm9tU3RyaW5ncyggbGVmdFNpZGVTdHJpbmdzICksXHJcbiAgICAgICAgY3JlYXRlVGV4dEZyb21TdHJpbmdzKCByaWdodFNpZGVTdHJpbmdzIClcclxuICAgICAgXSxcclxuICAgICAgc3BhY2luZzogNzAsXHJcbiAgICAgIGFsaWduOiAndG9wJyxcclxuICAgICAgbWF4V2lkdGg6IDg3MFxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGNyZWF0ZSBhbmQgYWRkIHRoZSBoYWxmTGlmZU51bWJlckxpbmVOb2RlXHJcbiAgICBjb25zdCBoYWxmTGlmZU51bWJlckxpbmVOb2RlID0gbmV3IEhhbGZMaWZlTnVtYmVyTGluZU5vZGUoIGhhbGZMaWZlTnVtYmVyUHJvcGVydHksIGlzU3RhYmxlQm9vbGVhblByb3BlcnR5LCB7XHJcbiAgICAgIHRpY2tNYXJrRXh0ZW50OiAyNCxcclxuICAgICAgbnVtYmVyTGluZUxhYmVsRm9udDogTEVHRU5EX0ZPTlQsXHJcbiAgICAgIG51bWJlckxpbmVXaWR0aDogNzUwLFxyXG4gICAgICBoYWxmTGlmZUFycm93TGVuZ3RoOiA0NSxcclxuICAgICAgaGFsZkxpZmVEaXNwbGF5U2NhbGU6IDAuOCxcclxuICAgICAgaXNIYWxmTGlmZUxhYmVsRml4ZWQ6IGZhbHNlLFxyXG4gICAgICBwcm90b25Db3VudFByb3BlcnR5OiBwcm90b25Db3VudFByb3BlcnR5LFxyXG4gICAgICBuZXV0cm9uQ291bnRQcm9wZXJ0eTogbmV1dHJvbkNvdW50UHJvcGVydHksXHJcbiAgICAgIGRvZXNOdWNsaWRlRXhpc3RCb29sZWFuUHJvcGVydHk6IGRvZXNOdWNsaWRlRXhpc3RCb29sZWFuUHJvcGVydHlcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBudW1iZXJMaW5lTm9kZUFuZExlZ2VuZCA9IG5ldyBWQm94KCB7XHJcbiAgICAgIGNoaWxkcmVuOiBbIGxlZ2VuZCwgaGFsZkxpZmVOdW1iZXJMaW5lTm9kZSBdLFxyXG4gICAgICBzcGFjaW5nOiAzMCxcclxuICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICByZXNpemU6IGZhbHNlXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gc3Vycm91bmQgY29udGVudHMgd2l0aCByZWN0YW5nbGUgZm9yIGV4dHJhIHBhZGRpbmdcclxuICAgIGNvbnN0IGNvbnRlbnRzID0gbmV3IFJlY3RhbmdsZSggMCwgMCwgbnVtYmVyTGluZU5vZGVBbmRMZWdlbmQud2lkdGggKyAxMDAsIG51bWJlckxpbmVOb2RlQW5kTGVnZW5kLmhlaWdodCApO1xyXG4gICAgY29udGVudHMuYWRkQ2hpbGQoIG51bWJlckxpbmVOb2RlQW5kTGVnZW5kICk7XHJcbiAgICBudW1iZXJMaW5lTm9kZUFuZExlZ2VuZC5jZW50ZXJYID0gY29udGVudHMuY2VudGVyWDtcclxuXHJcbiAgICAvLyB0aGUgaGFsZi1saWZlJ3Mgb2YgdGhlIHN0cmluZ3MsIGluIHJlc3BlY3RpdmUgb3JkZXJcclxuICAgIGNvbnN0IGhhbGZMaWZlVGltZSA9IFtcclxuICAgICAgQkFOVGltZXNjYWxlUG9pbnRzLlRJTUVfRk9SX0xJR0hUX1RPX0NST1NTX0FfTlVDTEVVUy5udW1iZXJPZlNlY29uZHMsXHJcbiAgICAgIEJBTlRpbWVzY2FsZVBvaW50cy5USU1FX0ZPUl9MSUdIVF9UT19DUk9TU19BTl9BVE9NLm51bWJlck9mU2Vjb25kcyxcclxuICAgICAgQkFOVGltZXNjYWxlUG9pbnRzLlRJTUVfRk9SX0xJR0hUX1RPX0NST1NTX09ORV9USE9VU0FORF9BVE9NUy5udW1iZXJPZlNlY29uZHMsXHJcbiAgICAgIEJBTlRpbWVzY2FsZVBvaW50cy5USU1FX0ZPUl9TT1VORF9UT19UUkFWRUxfT05FX01JTExJTUVURVIubnVtYmVyT2ZTZWNvbmRzLFxyXG4gICAgICBCQU5UaW1lc2NhbGVQb2ludHMuQV9CTElOS19PRl9BTl9FWUUubnVtYmVyT2ZTZWNvbmRzLFxyXG4gICAgICBCQU5UaW1lc2NhbGVQb2ludHMuT05FX01JTlVURS5udW1iZXJPZlNlY29uZHMsXHJcbiAgICAgIEJBTlRpbWVzY2FsZVBvaW50cy5PTkVfWUVBUi5udW1iZXJPZlNlY29uZHMsXHJcbiAgICAgIEJBTlRpbWVzY2FsZVBvaW50cy5BVkVSQUdFX0hVTUFOX0xJRkVTUEFOLm51bWJlck9mU2Vjb25kcyxcclxuICAgICAgQkFOVGltZXNjYWxlUG9pbnRzLkFHRV9PRl9USEVfVU5JVkVSU0UubnVtYmVyT2ZTZWNvbmRzLFxyXG4gICAgICBCQU5UaW1lc2NhbGVQb2ludHMuTElGRVRJTUVfT0ZfTE9OR0VTVF9MSVZFRF9TVEFSUy5udW1iZXJPZlNlY29uZHNcclxuICAgIF07XHJcblxyXG4gICAgLy8gdGhlIGxhYmVscyBvbiB0aGUgaGFsZi1saWZlJ3MsIGluIHJlc3BlY3RpdmUgb3JkZXJcclxuICAgIGNvbnN0IGhhbGZMaWZlTGFiZWxzID0gW1xyXG4gICAgICBCdWlsZEFOdWNsZXVzU3RyaW5ncy5BLFxyXG4gICAgICBCdWlsZEFOdWNsZXVzU3RyaW5ncy5CLFxyXG4gICAgICBCdWlsZEFOdWNsZXVzU3RyaW5ncy5DLFxyXG4gICAgICBCdWlsZEFOdWNsZXVzU3RyaW5ncy5ELFxyXG4gICAgICBCdWlsZEFOdWNsZXVzU3RyaW5ncy5FLFxyXG4gICAgICBCdWlsZEFOdWNsZXVzU3RyaW5ncy5GLFxyXG4gICAgICBCdWlsZEFOdWNsZXVzU3RyaW5ncy5HLFxyXG4gICAgICBCdWlsZEFOdWNsZXVzU3RyaW5ncy5ILFxyXG4gICAgICBCdWlsZEFOdWNsZXVzU3RyaW5ncy5JLFxyXG4gICAgICBCdWlsZEFOdWNsZXVzU3RyaW5ncy5KXHJcbiAgICBdO1xyXG5cclxuICAgIC8vIGNyZWF0ZSBhbmQgYWRkIHRoZSBoYWxmLWxpZmUgYXJyb3cgYW5kIGxhYmVsXHJcbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBoYWxmTGlmZVRpbWUubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgIGhhbGZMaWZlTnVtYmVyTGluZU5vZGUuYWRkQXJyb3dBbmRMYWJlbCggaGFsZkxpZmVMYWJlbHNbIGkgXSwgaGFsZkxpZmVUaW1lWyBpIF0gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0aXRsZU5vZGUgPSBuZXcgVGV4dCggQnVpbGRBTnVjbGV1c1N0cmluZ3MuaGFsZkxpZmVUaW1lc2NhbGUsIHtcclxuICAgICAgZm9udDogVElUTEVfRk9OVCxcclxuICAgICAgbWF4V2lkdGg6IDAuNzUgKiBNQVhfQ09OVEVOVF9XSURUSFxyXG4gICAgfSApO1xyXG5cclxuICAgIHN1cGVyKCBjb250ZW50cywge1xyXG4gICAgICB0aXRsZTogdGl0bGVOb2RlLFxyXG4gICAgICB5U3BhY2luZzogMjAsXHJcbiAgICAgIHhTcGFjaW5nOiAwLFxyXG4gICAgICBib3R0b21NYXJnaW46IDIwLFxyXG4gICAgICBmaWxsOiBCQU5Db2xvcnMuaW5mb0RpYWxvZ0JhY2tncm91bmRDb2xvclByb3BlcnR5XHJcbiAgICB9ICk7XHJcbiAgfVxyXG59XHJcblxyXG5idWlsZEFOdWNsZXVzLnJlZ2lzdGVyKCAnSGFsZkxpZmVJbmZvRGlhbG9nJywgSGFsZkxpZmVJbmZvRGlhbG9nICk7XHJcbmV4cG9ydCBkZWZhdWx0IEhhbGZMaWZlSW5mb0RpYWxvZzsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxNQUFNLE1BQU0sOEJBQThCO0FBQ2pELE9BQU9DLGFBQWEsTUFBTSx3QkFBd0I7QUFDbEQsU0FBU0MsSUFBSSxFQUFRQyxTQUFTLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxJQUFJLFFBQVEsbUNBQW1DO0FBQy9GLE9BQU9DLFFBQVEsTUFBTSx5Q0FBeUM7QUFDOUQsT0FBT0Msb0JBQW9CLE1BQU0sK0JBQStCO0FBQ2hFLE9BQU9DLFNBQVMsTUFBTSwyQkFBMkI7QUFDakQsT0FBT0Msc0JBQXNCLE1BQU0sNkJBQTZCO0FBQ2hFLE9BQU9DLGtCQUFrQixNQUFNLGdDQUFnQztBQUUvRCxPQUFPQyxZQUFZLE1BQU0sOEJBQThCOztBQUV2RDtBQUNBLE1BQU1DLGlCQUFpQixHQUFHLEdBQUc7QUFDN0IsTUFBTUMsVUFBVSxHQUFHLElBQUlQLFFBQVEsQ0FBRSxFQUFHLENBQUM7QUFDckMsTUFBTVEsV0FBVyxHQUFHSCxZQUFZLENBQUNJLFlBQVk7QUFFN0MsTUFBTUMsa0JBQWtCLFNBQVNqQixNQUFNLENBQUM7RUFFL0JrQixXQUFXQSxDQUFFQyxzQkFBaUQsRUFDeERDLHVCQUFtRCxFQUNuREMsbUJBQThDLEVBQzlDQyxvQkFBK0MsRUFDL0NDLCtCQUEyRCxFQUFHO0lBRXpFLE1BQU1DLGVBQWUsR0FBRyxDQUN0QmIsa0JBQWtCLENBQUNjLGlDQUFpQyxDQUFDQyxhQUFhLEVBQ2xFZixrQkFBa0IsQ0FBQ2dCLCtCQUErQixDQUFDRCxhQUFhLEVBQ2hFZixrQkFBa0IsQ0FBQ2lCLDBDQUEwQyxDQUFDRixhQUFhLEVBQzNFZixrQkFBa0IsQ0FBQ2tCLHVDQUF1QyxDQUFDSCxhQUFhLEVBQ3hFZixrQkFBa0IsQ0FBQ21CLGlCQUFpQixDQUFDSixhQUFh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