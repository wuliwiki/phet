// Copyright 2015-2022, University of Colorado Boulder

/**
 * EnergyScreenView is the top-level view for the "Energy" screen.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import ScreenView from '../../../../joist/js/ScreenView.js';
import ResetAllButton from '../../../../scenery-phet/js/buttons/ResetAllButton.js';
import { Node } from '../../../../scenery/js/imports.js';
import HookesLawConstants from '../../common/HookesLawConstants.js';
import hookesLaw from '../../hookesLaw.js';
import EnergyBarGraph from './EnergyBarGraph.js';
import EnergyGraph from './EnergyGraph.js';
import EnergyPlot from './EnergyPlot.js';
import EnergySystemNode from './EnergySystemNode.js';
import EnergyViewProperties from './EnergyViewProperties.js';
import EnergyVisibilityPanel from './EnergyVisibilityPanel.js';
import ForcePlot from './ForcePlot.js';
export default class EnergyScreenView extends ScreenView {
  constructor(model, tandem) {
    super({
      tandem: tandem
    });

    // View length of 1 meter of displacement
    const unitDisplacementLength = HookesLawConstants.UNIT_DISPLACEMENT_X;

    // Properties that are specific to the view
    const viewProperties = new EnergyViewProperties(tandem.createTandem('viewProperties'));

    // Visibility controls
    const visibilityPanel = new EnergyVisibilityPanel(viewProperties, {
      right: this.layoutBounds.right - 10,
      top: 10,
      maxWidth: 235,
      // constrain width for i18n, determining empirically
      tandem: tandem.createTandem('visibilityPanel')
    });

    // System
    const systemNode = new EnergySystemNode(model.system, viewProperties, {
      unitDisplacementLength: unitDisplacementLength,
      left: this.layoutBounds.left + 35,
      bottom: this.layoutBounds.bottom - 10,
      tandem: tandem.createTandem('systemNode')
    });
    const graphsTandem = tandem.createTandem('graphs');

    // Energy bar graph
    const barGraph = new EnergyBarGraph(model.system.spring, viewProperties.valuesVisibleProperty, {
      // x position depends on whether the other plots are visible
      bottom: systemNode.top - 35,
      tandem: graphsTandem.createTandem('barGraph')
    });

    // Force plot
    const forcePlot = new ForcePlot(model.system.spring, unitDisplacementLength, viewProperties.valuesVisibleProperty, viewProperties.displacementVectorVisibleProperty, viewProperties.energyOnForcePlotVisibleProperty, {
      // origin aligned with equilibrium position
      x: systemNode.x + unitDisplacementLength * model.system.spring.equilibriumXProperty.value,
      bottom: barGraph.bottom,
      visibleProperty: new DerivedProperty([viewProperties.graphProperty], graph => graph === EnergyGraph.FORCE_PLOT),
      tandem: graphsTandem.createTandem('forcePlot')
    });

    // Energy plot
    const energyPlot = new EnergyPlot(model.system.spring, unitDisplacementLength, viewProperties.valuesVisibleProperty, viewProperties.displacementVectorVisibleProperty, {
      x: forcePlot.x,
      y: barGraph.bottom,
      visibleProperty: new DerivedProperty([viewProperties.graphProperty], graph => graph === EnergyGraph.ENERGY_PLOT),
      tandem: graphsTandem.createTandem('energyPlot')
    });

    // Reset All button, bottom right
    const resetAllButton = new ResetAllButton({
      listener: () => {
        model.reset();
        viewProperties.reset();
      },
      right: this.layoutBounds.maxX - 15,
      bottom: this.layoutBounds.maxY - 15,
      tandem: tandem.createTandem('resetAllButton')
    });
    const screenViewRootNode = new Node({
      children: [visibilityPanel, systemNode, barGraph, forcePlot, energyPlot, resetAllButton]
    });
    this.addChild(screenViewRootNode);

    // Position the Bar Graph
    viewProperties.graphProperty.link(graph => {
      if (graph === EnergyGraph.BAR_GRAPH) {
        // aligned with equilibrium position
        barGraph.x = systemNode.x + unitDisplacementLength * model.system.spring.equilibriumXProperty.value;
      } else {
        // at the left edge of the ScreenView
        barGraph.left = this.layoutBounds.left + 15;
      }
    });
  }
}
hookesLaw.register('EnergyScreenView', EnergyScreenView);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJTY3JlZW5WaWV3IiwiUmVzZXRBbGxCdXR0b24iLCJOb2RlIiwiSG9va2VzTGF3Q29uc3RhbnRzIiwiaG9va2VzTGF3IiwiRW5lcmd5QmFyR3JhcGgiLCJFbmVyZ3lHcmFwaCIsIkVuZXJneVBsb3QiLCJFbmVyZ3lTeXN0ZW1Ob2RlIiwiRW5lcmd5Vmlld1Byb3BlcnRpZXMiLCJFbmVyZ3lWaXNpYmlsaXR5UGFuZWwiLCJGb3JjZVBsb3QiLCJFbmVyZ3lTY3JlZW5WaWV3IiwiY29uc3RydWN0b3IiLCJtb2RlbCIsInRhbmRlbSIsInVuaXREaXNwbGFjZW1lbnRMZW5ndGgiLCJVTklUX0RJU1BMQUNFTUVOVF9YIiwidmlld1Byb3BlcnRpZXMiLCJjcmVhdGVUYW5kZW0iLCJ2aXNpYmlsaXR5UGFuZWwiLCJyaWdodCIsImxheW91dEJvdW5kcyIsInRvcCIsIm1heFdpZHRoIiwic3lzdGVtTm9kZSIsInN5c3RlbSIsImxlZnQiLCJib3R0b20iLCJncmFwaHNUYW5kZW0iLCJiYXJHcmFwaCIsInNwcmluZyIsInZhbHVlc1Zpc2libGVQcm9wZXJ0eSIsImZvcmNlUGxvdCIsImRpc3BsYWNlbWVudFZlY3RvclZpc2libGVQcm9wZXJ0eSIsImVuZXJneU9uRm9yY2VQbG90VmlzaWJsZVByb3BlcnR5IiwieCIsImVxdWlsaWJyaXVtWFByb3BlcnR5IiwidmFsdWUiLCJ2aXNpYmxlUHJvcGVydHkiLCJncmFwaFByb3BlcnR5IiwiZ3JhcGgiLCJGT1JDRV9QTE9UIiwiZW5lcmd5UGxvdCIsInkiLCJFTkVSR1lfUExPVCIsInJlc2V0QWxsQnV0dG9uIiwibGlzdGVuZXIiLCJyZXNldCIsIm1heFgiLCJtYXhZIiwic2NyZWVuVmlld1Jvb3ROb2RlIiwiY2hpbGRyZW4iLCJhZGRDaGlsZCIsImxpbmsiLCJCQVJfR1JBUEgiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkVuZXJneVNjcmVlblZpZXcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTUtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogRW5lcmd5U2NyZWVuVmlldyBpcyB0aGUgdG9wLWxldmVsIHZpZXcgZm9yIHRoZSBcIkVuZXJneVwiIHNjcmVlbi5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgRGVyaXZlZFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvRGVyaXZlZFByb3BlcnR5LmpzJztcclxuaW1wb3J0IFNjcmVlblZpZXcgZnJvbSAnLi4vLi4vLi4vLi4vam9pc3QvanMvU2NyZWVuVmlldy5qcyc7XHJcbmltcG9ydCBSZXNldEFsbEJ1dHRvbiBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvYnV0dG9ucy9SZXNldEFsbEJ1dHRvbi5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCB7IE5vZGUgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgSG9va2VzTGF3Q29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9Ib29rZXNMYXdDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgaG9va2VzTGF3IGZyb20gJy4uLy4uL2hvb2tlc0xhdy5qcyc7XHJcbmltcG9ydCBFbmVyZ3lNb2RlbCBmcm9tICcuLi9tb2RlbC9FbmVyZ3lNb2RlbC5qcyc7XHJcbmltcG9ydCBFbmVyZ3lCYXJHcmFwaCBmcm9tICcuL0VuZXJneUJhckdyYXBoLmpzJztcclxuaW1wb3J0IEVuZXJneUdyYXBoIGZyb20gJy4vRW5lcmd5R3JhcGguanMnO1xyXG5pbXBvcnQgRW5lcmd5UGxvdCBmcm9tICcuL0VuZXJneVBsb3QuanMnO1xyXG5pbXBvcnQgRW5lcmd5U3lzdGVtTm9kZSBmcm9tICcuL0VuZXJneVN5c3RlbU5vZGUuanMnO1xyXG5pbXBvcnQgRW5lcmd5Vmlld1Byb3BlcnRpZXMgZnJvbSAnLi9FbmVyZ3lWaWV3UHJvcGVydGllcy5qcyc7XHJcbmltcG9ydCBFbmVyZ3lWaXNpYmlsaXR5UGFuZWwgZnJvbSAnLi9FbmVyZ3lWaXNpYmlsaXR5UGFuZWwuanMnO1xyXG5pbXBvcnQgRm9yY2VQbG90IGZyb20gJy4vRm9yY2VQbG90LmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuZXJneVNjcmVlblZpZXcgZXh0ZW5kcyBTY3JlZW5WaWV3IHtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBtb2RlbDogRW5lcmd5TW9kZWwsIHRhbmRlbTogVGFuZGVtICkge1xyXG5cclxuICAgIHN1cGVyKCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gVmlldyBsZW5ndGggb2YgMSBtZXRlciBvZiBkaXNwbGFjZW1lbnRcclxuICAgIGNvbnN0IHVuaXREaXNwbGFjZW1lbnRMZW5ndGggPSBIb29rZXNMYXdDb25zdGFudHMuVU5JVF9ESVNQTEFDRU1FTlRfWDtcclxuXHJcbiAgICAvLyBQcm9wZXJ0aWVzIHRoYXQgYXJlIHNwZWNpZmljIHRvIHRoZSB2aWV3XHJcbiAgICBjb25zdCB2aWV3UHJvcGVydGllcyA9IG5ldyBFbmVyZ3lWaWV3UHJvcGVydGllcyggdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3ZpZXdQcm9wZXJ0aWVzJyApICk7XHJcblxyXG4gICAgLy8gVmlzaWJpbGl0eSBjb250cm9sc1xyXG4gICAgY29uc3QgdmlzaWJpbGl0eVBhbmVsID0gbmV3IEVuZXJneVZpc2liaWxpdHlQYW5lbCggdmlld1Byb3BlcnRpZXMsIHtcclxuICAgICAgcmlnaHQ6IHRoaXMubGF5b3V0Qm91bmRzLnJpZ2h0IC0gMTAsXHJcbiAgICAgIHRvcDogMTAsXHJcbiAgICAgIG1heFdpZHRoOiAyMzUsIC8vIGNvbnN0cmFpbiB3aWR0aCBmb3IgaTE4biwgZGV0ZXJtaW5pbmcgZW1waXJpY2FsbHlcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAndmlzaWJpbGl0eVBhbmVsJyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gU3lzdGVtXHJcbiAgICBjb25zdCBzeXN0ZW1Ob2RlID0gbmV3IEVuZXJneVN5c3RlbU5vZGUoIG1vZGVsLnN5c3RlbSwgdmlld1Byb3BlcnRpZXMsIHtcclxuICAgICAgdW5pdERpc3BsYWNlbWVudExlbmd0aDogdW5pdERpc3BsYWNlbWVudExlbmd0aCxcclxuICAgICAgbGVmdDogdGhpcy5sYXlvdXRCb3VuZHMubGVmdCArIDM1LFxyXG4gICAgICBib3R0b206IHRoaXMubGF5b3V0Qm91bmRzLmJvdHRvbSAtIDEwLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdzeXN0ZW1Ob2RlJyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgZ3JhcGhzVGFuZGVtID0gdGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2dyYXBocycgKTtcclxuXHJcbiAgICAvLyBFbmVyZ3kgYmFyIGdyYXBoXHJcbiAgICBjb25zdCBiYXJHcmFwaCA9IG5ldyBFbmVyZ3lCYXJHcmFwaCggbW9kZWwuc3lzdGVtLnNwcmluZywgdmlld1Byb3BlcnRpZXMudmFsdWVzVmlzaWJsZVByb3BlcnR5LCB7XHJcbiAgICAgIC8vIHggcG9zaXRpb24gZGVwZW5kcyBvbiB3aGV0aGVyIHRoZSBvdGhlciBwbG90cyBhcmUgdmlzaWJsZVxyXG4gICAgICBib3R0b206IHN5c3RlbU5vZGUudG9wIC0gMzUsXHJcbiAgICAgIHRhbmRlbTogZ3JhcGhzVGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2JhckdyYXBoJyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gRm9yY2UgcGxvdFxyXG4gICAgY29uc3QgZm9yY2VQbG90ID0gbmV3IEZvcmNlUGxvdCggbW9kZWwuc3lzdGVtLnNwcmluZywgdW5pdERpc3BsYWNlbWVudExlbmd0aCxcclxuICAgICAgdmlld1Byb3BlcnRpZXMudmFsdWVzVmlzaWJsZVByb3BlcnR5LFxyXG4gICAgICB2aWV3UHJvcGVydGllcy5kaXNwbGFjZW1lbnRWZWN0b3JWaXNpYmxlUHJvcGVydHksXHJcbiAgICAgIHZpZXdQcm9wZXJ0aWVzLmVuZXJneU9uRm9yY2VQbG90VmlzaWJsZVByb3BlcnR5LCB7XHJcbiAgICAgICAgLy8gb3JpZ2luIGFsaWduZWQgd2l0aCBlcXVpbGlicml1bSBwb3NpdGlvblxyXG4gICAgICAgIHg6IHN5c3RlbU5vZGUueCArICggdW5pdERpc3BsYWNlbWVudExlbmd0aCAqIG1vZGVsLnN5c3RlbS5zcHJpbmcuZXF1aWxpYnJpdW1YUHJvcGVydHkudmFsdWUgKSxcclxuICAgICAgICBib3R0b206IGJhckdyYXBoLmJvdHRvbSxcclxuICAgICAgICB2aXNpYmxlUHJvcGVydHk6IG5ldyBEZXJpdmVkUHJvcGVydHkoIFsgdmlld1Byb3BlcnRpZXMuZ3JhcGhQcm9wZXJ0eSBdLCBncmFwaCA9PiAoIGdyYXBoID09PSBFbmVyZ3lHcmFwaC5GT1JDRV9QTE9UICkgKSxcclxuICAgICAgICB0YW5kZW06IGdyYXBoc1RhbmRlbS5jcmVhdGVUYW5kZW0oICdmb3JjZVBsb3QnIClcclxuICAgICAgfSApO1xyXG5cclxuICAgIC8vIEVuZXJneSBwbG90XHJcbiAgICBjb25zdCBlbmVyZ3lQbG90ID0gbmV3IEVuZXJneVBsb3QoIG1vZGVsLnN5c3RlbS5zcHJpbmcsIHVuaXREaXNwbGFjZW1lbnRMZW5ndGgsXHJcbiAgICAgIHZpZXdQcm9wZXJ0aWVzLnZhbHVlc1Zpc2libGVQcm9wZXJ0eSwgdmlld1Byb3BlcnRpZXMuZGlzcGxhY2VtZW50VmVjdG9yVmlzaWJsZVByb3BlcnR5LCB7XHJcbiAgICAgICAgeDogZm9yY2VQbG90LngsXHJcbiAgICAgICAgeTogYmFyR3JhcGguYm90dG9tLFxyXG4gICAgICAgIHZpc2libGVQcm9wZXJ0eTogbmV3IERlcml2ZWRQcm9wZXJ0eSggWyB2aWV3UHJvcGVydGllcy5ncmFwaFByb3BlcnR5IF0sIGdyYXBoID0+ICggZ3JhcGggPT09IEVuZXJneUdyYXBoLkVORVJHWV9QTE9UICkgKSxcclxuICAgICAgICB0YW5kZW06IGdyYXBoc1RhbmRlbS5jcmVhdGVUYW5kZW0oICdlbmVyZ3lQbG90JyApXHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAvLyBSZXNldCBBbGwgYnV0dG9uLCBib3R0b20gcmlnaHRcclxuICAgIGNvbnN0IHJlc2V0QWxsQnV0dG9uID0gbmV3IFJlc2V0QWxsQnV0dG9uKCB7XHJcbiAgICAgIGxpc3RlbmVyOiAoKSA9PiB7XHJcbiAgICAgICAgbW9kZWwucmVzZXQoKTtcclxuICAgICAgICB2aWV3UHJvcGVydGllcy5yZXNldCgpO1xyXG4gICAgICB9LFxyXG4gICAgICByaWdodDogdGhpcy5sYXlvdXRCb3VuZHMubWF4WCAtIDE1LFxyXG4gICAgICBib3R0b206IHRoaXMubGF5b3V0Qm91bmRzLm1heFkgLSAxNSxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAncmVzZXRBbGxCdXR0b24nIClcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBzY3JlZW5WaWV3Um9vdE5vZGUgPSBuZXcgTm9kZSgge1xyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIHZpc2liaWxpdHlQYW5lbCxcclxuICAgICAgICBzeXN0ZW1Ob2RlLFxyXG4gICAgICAgIGJhckdyYXBoLFxyXG4gICAgICAgIGZvcmNlUGxvdCxcclxuICAgICAgICBlbmVyZ3lQbG90LFxyXG4gICAgICAgIHJlc2V0QWxsQnV0dG9uXHJcbiAgICAgIF1cclxuICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHNjcmVlblZpZXdSb290Tm9kZSApO1xyXG5cclxuICAgIC8vIFBvc2l0aW9uIHRoZSBCYXIgR3JhcGhcclxuICAgIHZpZXdQcm9wZXJ0aWVzLmdyYXBoUHJvcGVydHkubGluayggZ3JhcGggPT4ge1xyXG4gICAgICBpZiAoIGdyYXBoID09PSBFbmVyZ3lHcmFwaC5CQVJfR1JBUEggKSB7XHJcbiAgICAgICAgLy8gYWxpZ25lZCB3aXRoIGVxdWlsaWJyaXVtIHBvc2l0aW9uXHJcbiAgICAgICAgYmFyR3JhcGgueCA9IHN5c3RlbU5vZGUueCArICggdW5pdERpc3BsYWNlbWVudExlbmd0aCAqIG1vZGVsLnN5c3RlbS5zcHJpbmcuZXF1aWxpYnJpdW1YUHJvcGVydHkudmFsdWUgKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAvLyBhdCB0aGUgbGVmdCBlZGdlIG9mIHRoZSBTY3JlZW5WaWV3XHJcbiAgICAgICAgYmFyR3JhcGgubGVmdCA9IHRoaXMubGF5b3V0Qm91bmRzLmxlZnQgKyAxNTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG4gIH1cclxufVxyXG5cclxuaG9va2VzTGF3LnJlZ2lzdGVyKCAnRW5lcmd5U2NyZWVuVmlldycsIEVuZXJneVNjcmVlblZpZXcgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsZUFBZSxNQUFNLHdDQUF3QztBQUNwRSxPQUFPQyxVQUFVLE1BQU0sb0NBQW9DO0FBQzNELE9BQU9DLGNBQWMsTUFBTSx1REFBdUQ7QUFFbEYsU0FBU0MsSUFBSSxRQUFRLG1DQUFtQztBQUN4RCxPQUFPQyxrQkFBa0IsTUFBTSxvQ0FBb0M7QUFDbkUsT0FBT0MsU0FBUyxNQUFNLG9CQUFvQjtBQUUxQyxPQUFPQyxjQUFjLE1BQU0scUJBQXFCO0FBQ2hELE9BQU9DLFdBQVcsTUFBTSxrQkFBa0I7QUFDMUMsT0FBT0MsVUFBVSxNQUFNLGlCQUFpQjtBQUN4QyxPQUFPQyxnQkFBZ0IsTUFBTSx1QkFBdUI7QUFDcEQsT0FBT0Msb0JBQW9CLE1BQU0sMkJBQTJCO0FBQzVELE9BQU9DLHFCQUFxQixNQUFNLDRCQUE0QjtBQUM5RCxPQUFPQyxTQUFTLE1BQU0sZ0JBQWdCO0FBRXRDLGVBQWUsTUFBTUMsZ0JBQWdCLFNBQVNaLFVBQVUsQ0FBQztFQUVoRGEsV0FBV0EsQ0FBRUMs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