// Copyright 2015-2022, University of Colorado Boulder

/**
 * EnergyPlot is an XY plot of displacement (x-axis) vs energy (y-axis).
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import { Shape } from '../../../../kite/js/imports.js';
import optionize from '../../../../phet-core/js/optionize.js';
import { Path } from '../../../../scenery/js/imports.js';
import HookesLawColors from '../../common/HookesLawColors.js';
import HookesLawConstants from '../../common/HookesLawConstants.js';
import hookesLaw from '../../hookesLaw.js';
import HookesLawStrings from '../../HookesLawStrings.js';
import XYPointPlot from './XYPointPlot.js';
export default class EnergyPlot extends XYPointPlot {
  /**
   * @param spring
   * @param unitDisplacementLength - view length of a 1m displacement vector
   * @param valuesVisibleProperty - whether values are visible on the plot
   * @param displacementVectorVisibleProperty - whether the horizontal displacement is displayed
   * @param providedOptions
   */
  constructor(spring, unitDisplacementLength, valuesVisibleProperty, displacementVectorVisibleProperty, providedOptions) {
    const options = optionize()({
      // XYPointPlotOptions
      // both axes
      axisFont: HookesLawConstants.XY_PLOT_AXIS_FONT,
      valueFont: HookesLawConstants.XY_PLOT_VALUE_FONT,
      // x-axis
      minX: unitDisplacementLength * (1.1 * spring.displacementRange.min),
      maxX: unitDisplacementLength * (1.1 * spring.displacementRange.max),
      xString: HookesLawStrings.displacement,
      xUnits: HookesLawStrings.meters,
      xDecimalPlaces: HookesLawConstants.DISPLACEMENT_DECIMAL_PLACES,
      xValueFill: HookesLawColors.DISPLACEMENT,
      xUnitLength: unitDisplacementLength,
      xLabelMaxWidth: 100,
      // constrain width for i18n, determined empirically

      // y-axis
      minY: 0,
      maxY: HookesLawConstants.ENERGY_Y_AXIS_LENGTH,
      yString: HookesLawStrings.potentialEnergy,
      yUnits: HookesLawStrings.joules,
      yDecimalPlaces: HookesLawConstants.ENERGY_DECIMAL_PLACES,
      yValueFill: HookesLawColors.ENERGY,
      yUnitLength: HookesLawConstants.UNIT_ENERGY_Y,
      // length of a 1J energy vector
      yValueBackgroundColor: 'rgba( 255, 255, 255, 0.7)',
      // translucent background, because value sometimes overlaps the curve

      // point
      pointFill: HookesLawColors.SINGLE_SPRING
    }, providedOptions);
    super(spring.displacementProperty, spring.potentialEnergyProperty, valuesVisibleProperty, displacementVectorVisibleProperty, options);

    // Parabola that corresponds to E = ( k * x * x ) / 2
    const energyParabolaNode = new Path(null, {
      stroke: HookesLawColors.ENERGY,
      lineWidth: 3
    });
    this.addChild(energyParabolaNode);
    energyParabolaNode.moveToBack();

    // Redraws the parabola when the spring constant changes.
    spring.springConstantProperty.link(springConstant => {
      const displacementRange = spring.displacementRange; // to improve readability

      // verify that range is symmetric around zero, so we can compute point for half of the parabola
      assert && assert(Math.abs(displacementRange.min) === displacementRange.max);

      // displacement values
      const d1 = displacementRange.max;
      const d2 = displacementRange.max / 2;
      const d3 = 0;

      // corresponding energy values, E = ( k * x * x ) / 2
      const e1 = springConstant * d1 * d1 / 2;
      const e2 = springConstant * d2 * d2 / 2;
      const e3 = springConstant * d3 * d3 / 2;

      // convert to view coordinates
      const x1 = unitDisplacementLength * d1;
      const x2 = unitDisplacementLength * d2;
      const x3 = unitDisplacementLength * d3;
      const y1 = -options.yUnitLength * e1;
      const y2 = -options.yUnitLength * e2;
      const y3 = -options.yUnitLength * e3;

      // control points - close approximation, quick to calculate, general formula:
      // cpx = 2 * anywhereOnCurveX - startX/2 - endX/2
      // cpy = 2 * anywhereOnCurveY - startY/2 - endY/2
      const cpx = 2 * x2 - x1 / 2 - x3 / 2;
      const cpy = 2 * y2 - y1 / 2 - y3 / 2;

      // parabola
      energyParabolaNode.shape = new Shape().moveTo(-x1, y1).quadraticCurveTo(-cpx, cpy, x3, y3).quadraticCurveTo(cpx, cpy, x1, y1);
    });
  }
}
hookesLaw.register('EnergyPlot', EnergyPlot);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTaGFwZSIsIm9wdGlvbml6ZSIsIlBhdGgiLCJIb29rZXNMYXdDb2xvcnMiLCJIb29rZXNMYXdDb25zdGFudHMiLCJob29rZXNMYXciLCJIb29rZXNMYXdTdHJpbmdzIiwiWFlQb2ludFBsb3QiLCJFbmVyZ3lQbG90IiwiY29uc3RydWN0b3IiLCJzcHJpbmciLCJ1bml0RGlzcGxhY2VtZW50TGVuZ3RoIiwidmFsdWVzVmlzaWJsZVByb3BlcnR5IiwiZGlzcGxhY2VtZW50VmVjdG9yVmlzaWJsZVByb3BlcnR5IiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsImF4aXNGb250IiwiWFlfUExPVF9BWElTX0ZPTlQiLCJ2YWx1ZUZvbnQiLCJYWV9QTE9UX1ZBTFVFX0ZPTlQiLCJtaW5YIiwiZGlzcGxhY2VtZW50UmFuZ2UiLCJtaW4iLCJtYXhYIiwibWF4IiwieFN0cmluZyIsImRpc3BsYWNlbWVudCIsInhVbml0cyIsIm1ldGVycyIsInhEZWNpbWFsUGxhY2VzIiwiRElTUExBQ0VNRU5UX0RFQ0lNQUxfUExBQ0VTIiwieFZhbHVlRmlsbCIsIkRJU1BMQUNFTUVOVCIsInhVbml0TGVuZ3RoIiwieExhYmVsTWF4V2lkdGgiLCJtaW5ZIiwibWF4WSIsIkVORVJHWV9ZX0FYSVNfTEVOR1RIIiwieVN0cmluZyIsInBvdGVudGlhbEVuZXJneSIsInlVbml0cyIsImpvdWxlcyIsInlEZWNpbWFsUGxhY2VzIiwiRU5FUkdZX0RFQ0lNQUxfUExBQ0VTIiwieVZhbHVlRmlsbCIsIkVORVJHWSIsInlVbml0TGVuZ3RoIiwiVU5JVF9FTkVSR1lfWSIsInlWYWx1ZUJhY2tncm91bmRDb2xvciIsInBvaW50RmlsbCIsIlNJTkdMRV9TUFJJTkciLCJkaXNwbGFjZW1lbnRQcm9wZXJ0eSIsInBvdGVudGlhbEVuZXJneVByb3BlcnR5IiwiZW5lcmd5UGFyYWJvbGFOb2RlIiwic3Ryb2tlIiwibGluZVdpZHRoIiwiYWRkQ2hpbGQiLCJtb3ZlVG9CYWNrIiwic3ByaW5nQ29uc3RhbnRQcm9wZXJ0eSIsImxpbmsiLCJzcHJpbmdDb25zdGFudCIsImFzc2VydCIsIk1hdGgiLCJhYnMiLCJkMSIsImQyIiwiZDMiLCJlMSIsImUyIiwiZTMiLCJ4MSIsIngyIiwieDMiLCJ5MSIsInkyIiwieTMiLCJjcHgiLCJjcHkiLCJzaGFwZSIsIm1vdmVUbyIsInF1YWRyYXRpY0N1cnZlVG8iLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkVuZXJneVBsb3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTUtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogRW5lcmd5UGxvdCBpcyBhbiBYWSBwbG90IG9mIGRpc3BsYWNlbWVudCAoeC1heGlzKSB2cyBlbmVyZ3kgKHktYXhpcykuXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IFRSZWFkT25seVByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvVFJlYWRPbmx5UHJvcGVydHkuanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBvcHRpb25pemUsIHsgRW1wdHlTZWxmT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgUGlja1JlcXVpcmVkIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy90eXBlcy9QaWNrUmVxdWlyZWQuanMnO1xyXG5pbXBvcnQgeyBOb2RlVHJhbnNsYXRpb25PcHRpb25zLCBQYXRoIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IEhvb2tlc0xhd0NvbG9ycyBmcm9tICcuLi8uLi9jb21tb24vSG9va2VzTGF3Q29sb3JzLmpzJztcclxuaW1wb3J0IEhvb2tlc0xhd0NvbnN0YW50cyBmcm9tICcuLi8uLi9jb21tb24vSG9va2VzTGF3Q29uc3RhbnRzLmpzJztcclxuaW1wb3J0IFNwcmluZyBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvU3ByaW5nLmpzJztcclxuaW1wb3J0IGhvb2tlc0xhdyBmcm9tICcuLi8uLi9ob29rZXNMYXcuanMnO1xyXG5pbXBvcnQgSG9va2VzTGF3U3RyaW5ncyBmcm9tICcuLi8uLi9Ib29rZXNMYXdTdHJpbmdzLmpzJztcclxuaW1wb3J0IFhZUG9pbnRQbG90LCB7IFhZUG9pbnRQbG90T3B0aW9ucyB9IGZyb20gJy4vWFlQb2ludFBsb3QuanMnO1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IEVtcHR5U2VsZk9wdGlvbnM7XHJcblxyXG50eXBlIEVuZXJneVBsb3RPcHRpb25zID0gU2VsZk9wdGlvbnMgJiBOb2RlVHJhbnNsYXRpb25PcHRpb25zICYgUGlja1JlcXVpcmVkPFhZUG9pbnRQbG90T3B0aW9ucywgJ3RhbmRlbScgfCAndmlzaWJsZVByb3BlcnR5Jz47XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmVyZ3lQbG90IGV4dGVuZHMgWFlQb2ludFBsb3Qge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gc3ByaW5nXHJcbiAgICogQHBhcmFtIHVuaXREaXNwbGFjZW1lbnRMZW5ndGggLSB2aWV3IGxlbmd0aCBvZiBhIDFtIGRpc3BsYWNlbWVudCB2ZWN0b3JcclxuICAgKiBAcGFyYW0gdmFsdWVzVmlzaWJsZVByb3BlcnR5IC0gd2hldGhlciB2YWx1ZXMgYXJlIHZpc2libGUgb24gdGhlIHBsb3RcclxuICAgKiBAcGFyYW0gZGlzcGxhY2VtZW50VmVjdG9yVmlzaWJsZVByb3BlcnR5IC0gd2hldGhlciB0aGUgaG9yaXpvbnRhbCBkaXNwbGFjZW1lbnQgaXMgZGlzcGxheWVkXHJcbiAgICogQHBhcmFtIHByb3ZpZGVkT3B0aW9uc1xyXG4gICAqL1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvciggc3ByaW5nOiBTcHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICB1bml0RGlzcGxhY2VtZW50TGVuZ3RoOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNWaXNpYmxlUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PGJvb2xlYW4+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxhY2VtZW50VmVjdG9yVmlzaWJsZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPixcclxuICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkT3B0aW9uczogRW5lcmd5UGxvdE9wdGlvbnMgKSB7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxFbmVyZ3lQbG90T3B0aW9ucywgU2VsZk9wdGlvbnMsIFhZUG9pbnRQbG90T3B0aW9ucz4oKSgge1xyXG5cclxuICAgICAgLy8gWFlQb2ludFBsb3RPcHRpb25zXHJcbiAgICAgIC8vIGJvdGggYXhlc1xyXG4gICAgICBheGlzRm9udDogSG9va2VzTGF3Q29uc3RhbnRzLlhZX1BMT1RfQVhJU19GT05ULFxyXG4gICAgICB2YWx1ZUZvbnQ6IEhvb2tlc0xhd0NvbnN0YW50cy5YWV9QTE9UX1ZBTFVFX0ZPTlQsXHJcblxyXG4gICAgICAvLyB4LWF4aXNcclxuICAgICAgbWluWDogdW5pdERpc3BsYWNlbWVudExlbmd0aCAqICggMS4xICogc3ByaW5nLmRpc3BsYWNlbWVudFJhbmdlLm1pbiApLFxyXG4gICAgICBtYXhYOiB1bml0RGlzcGxhY2VtZW50TGVuZ3RoICogKCAxLjEgKiBzcHJpbmcuZGlzcGxhY2VtZW50UmFuZ2UubWF4ICksXHJcbiAgICAgIHhTdHJpbmc6IEhvb2tlc0xhd1N0cmluZ3MuZGlzcGxhY2VtZW50LFxyXG4gICAgICB4VW5pdHM6IEhvb2tlc0xhd1N0cmluZ3MubWV0ZXJzLFxyXG4gICAgICB4RGVjaW1hbFBsYWNlczogSG9va2VzTGF3Q29uc3RhbnRzLkRJU1BMQUNFTUVOVF9ERUNJTUFMX1BMQUNFUyxcclxuICAgICAgeFZhbHVlRmlsbDogSG9va2VzTGF3Q29sb3JzLkRJU1BMQUNFTUVOVCxcclxuICAgICAgeFVuaXRMZW5ndGg6IHVuaXREaXNwbGFjZW1lbnRMZW5ndGgsXHJcbiAgICAgIHhMYWJlbE1heFdpZHRoOiAxMDAsIC8vIGNvbnN0cmFpbiB3aWR0aCBmb3IgaTE4biwgZGV0ZXJtaW5lZCBlbXBpcmljYWxseVxyXG5cclxuICAgICAgLy8geS1heGlzXHJcbiAgICAgIG1pblk6IDAsXHJcbiAgICAgIG1heFk6IEhvb2tlc0xhd0NvbnN0YW50cy5FTkVSR1lfWV9BWElTX0xFTkdUSCxcclxuICAgICAgeVN0cmluZzogSG9va2VzTGF3U3RyaW5ncy5wb3RlbnRpYWxFbmVyZ3ksXHJcbiAgICAgIHlVbml0czogSG9va2VzTGF3U3RyaW5ncy5qb3VsZXMsXHJcbiAgICAgIHlEZWNpbWFsUGxhY2VzOiBIb29rZXNMYXdDb25zdGFudHMuRU5FUkdZX0RFQ0lNQUxfUExBQ0VTLFxyXG4gICAgICB5VmFsdWVGaWxsOiBIb29rZXNMYXdDb2xvcnMuRU5FUkdZLFxyXG4gICAgICB5VW5pdExlbmd0aDogSG9va2VzTGF3Q29uc3RhbnRzLlVOSVRfRU5FUkdZX1ksIC8vIGxlbmd0aCBvZiBhIDFKIGVuZXJneSB2ZWN0b3JcclxuICAgICAgeVZhbHVlQmFja2dyb3VuZENvbG9yOiAncmdiYSggMjU1LCAyNTUsIDI1NSwgMC43KScsIC8vIHRyYW5zbHVjZW50IGJhY2tncm91bmQsIGJlY2F1c2UgdmFsdWUgc29tZXRpbWVzIG92ZXJsYXBzIHRoZSBjdXJ2ZVxyXG5cclxuICAgICAgLy8gcG9pbnRcclxuICAgICAgcG9pbnRGaWxsOiBIb29rZXNMYXdDb2xvcnMuU0lOR0xFX1NQUklOR1xyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgc3VwZXIoIHNwcmluZy5kaXNwbGFjZW1lbnRQcm9wZXJ0eSwgc3ByaW5nLnBvdGVudGlhbEVuZXJneVByb3BlcnR5LFxyXG4gICAgICB2YWx1ZXNWaXNpYmxlUHJvcGVydHksIGRpc3BsYWNlbWVudFZlY3RvclZpc2libGVQcm9wZXJ0eSwgb3B0aW9ucyApO1xyXG5cclxuICAgIC8vIFBhcmFib2xhIHRoYXQgY29ycmVzcG9uZHMgdG8gRSA9ICggayAqIHggKiB4ICkgLyAyXHJcbiAgICBjb25zdCBlbmVyZ3lQYXJhYm9sYU5vZGUgPSBuZXcgUGF0aCggbnVsbCwge1xyXG4gICAgICBzdHJva2U6IEhvb2tlc0xhd0NvbG9ycy5FTkVSR1ksXHJcbiAgICAgIGxpbmVXaWR0aDogM1xyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggZW5lcmd5UGFyYWJvbGFOb2RlICk7XHJcbiAgICBlbmVyZ3lQYXJhYm9sYU5vZGUubW92ZVRvQmFjaygpO1xyXG5cclxuICAgIC8vIFJlZHJhd3MgdGhlIHBhcmFib2xhIHdoZW4gdGhlIHNwcmluZyBjb25zdGFudCBjaGFuZ2VzLlxyXG4gICAgc3ByaW5nLnNwcmluZ0NvbnN0YW50UHJvcGVydHkubGluayggc3ByaW5nQ29uc3RhbnQgPT4ge1xyXG5cclxuICAgICAgY29uc3QgZGlzcGxhY2VtZW50UmFuZ2UgPSBzcHJpbmcuZGlzcGxhY2VtZW50UmFuZ2U7IC8vIHRvIGltcHJvdmUgcmVhZGFiaWxpdHlcclxuXHJcbiAgICAgIC8vIHZlcmlmeSB0aGF0IHJhbmdlIGlzIHN5bW1ldHJpYyBhcm91bmQgemVybywgc28gd2UgY2FuIGNvbXB1dGUgcG9pbnQgZm9yIGhhbGYgb2YgdGhlIHBhcmFib2xhXHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIE1hdGguYWJzKCBkaXNwbGFjZW1lbnRSYW5nZS5taW4gKSA9PT0gZGlzcGxhY2VtZW50UmFuZ2UubWF4ICk7XHJcblxyXG4gICAgICAvLyBkaXNwbGFjZW1lbnQgdmFsdWVzXHJcbiAgICAgIGNvbnN0IGQxID0gZGlzcGxhY2VtZW50UmFuZ2UubWF4O1xyXG4gICAgICBjb25zdCBkMiA9IGRpc3BsYWNlbWVudFJhbmdlLm1heCAvIDI7XHJcbiAgICAgIGNvbnN0IGQzID0gMDtcclxuXHJcbiAgICAgIC8vIGNvcnJlc3BvbmRpbmcgZW5lcmd5IHZhbHVlcywgRSA9ICggayAqIHggKiB4ICkgLyAyXHJcbiAgICAgIGNvbnN0IGUxID0gKCBzcHJpbmdDb25zdGFudCAqIGQxICogZDEgKSAvIDI7XHJcbiAgICAgIGNvbnN0IGUyID0gKCBzcHJpbmdDb25zdGFudCAqIGQyICogZDIgKSAvIDI7XHJcbiAgICAgIGNvbnN0IGUzID0gKCBzcHJpbmdDb25zdGFudCAqIGQzICogZDMgKSAvIDI7XHJcblxyXG4gICAgICAvLyBjb252ZXJ0IHRvIHZpZXcgY29vcmRpbmF0ZXNcclxuICAgICAgY29uc3QgeDEgPSB1bml0RGlzcGxhY2VtZW50TGVuZ3RoICogZDE7XHJcbiAgICAgIGNvbnN0IHgyID0gdW5pdERpc3BsYWNlbWVudExlbmd0aCAqIGQyO1xyXG4gICAgICBjb25zdCB4MyA9IHVuaXREaXNwbGFjZW1lbnRMZW5ndGggKiBkMztcclxuICAgICAgY29uc3QgeTEgPSAtb3B0aW9ucy55VW5pdExlbmd0aCAqIGUxO1xyXG4gICAgICBjb25zdCB5MiA9IC1vcHRpb25zLnlVbml0TGVuZ3RoICogZTI7XHJcbiAgICAgIGNvbnN0IHkzID0gLW9wdGlvbnMueVVuaXRMZW5ndGggKiBlMztcclxuXHJcbiAgICAgIC8vIGNvbnRyb2wgcG9pbnRzIC0gY2xvc2UgYXBwcm94aW1hdGlvbiwgcXVpY2sgdG8gY2FsY3VsYXRlLCBnZW5lcmFsIGZvcm11bGE6XHJcbiAgICAgIC8vIGNweCA9IDIgKiBhbnl3aGVyZU9uQ3VydmVYIC0gc3RhcnRYLzIgLSBlbmRYLzJcclxuICAgICAgLy8gY3B5ID0gMiAqIGFueXdoZXJlT25DdXJ2ZVkgLSBzdGFydFkvMiAtIGVuZFkvMlxyXG4gICAgICBjb25zdCBjcHggPSAoIDIgKiB4MiApIC0gKCB4MSAvIDIgKSAtICggeDMgLyAyICk7XHJcbiAgICAgIGNvbnN0IGNweSA9ICggMiAqIHkyICkgLSAoIHkxIC8gMiApIC0gKCB5MyAvIDIgKTtcclxuXHJcbiAgICAgIC8vIHBhcmFib2xhXHJcbiAgICAgIGVuZXJneVBhcmFib2xhTm9kZS5zaGFwZSA9IG5ldyBTaGFwZSgpXHJcbiAgICAgICAgLm1vdmVUbyggLXgxLCB5MSApXHJcbiAgICAgICAgLnF1YWRyYXRpY0N1cnZlVG8oIC1jcHgsIGNweSwgeDMsIHkzIClcclxuICAgICAgICAucXVhZHJhdGljQ3VydmVUbyggY3B4LCBjcHksIHgxLCB5MSApO1xyXG4gICAgfSApO1xyXG4gIH1cclxufVxyXG5cclxuaG9va2VzTGF3LnJlZ2lzdGVyKCAnRW5lcmd5UGxvdCcsIEVuZXJneVBsb3QgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0EsU0FBU0EsS0FBSyxRQUFRLGdDQUFnQztBQUN0RCxPQUFPQyxTQUFTLE1BQTRCLHVDQUF1QztBQUVuRixTQUFpQ0MsSUFBSSxRQUFRLG1DQUFtQztBQUNoRixPQUFPQyxlQUFlLE1BQU0saUNBQWlDO0FBQzdELE9BQU9DLGtCQUFrQixNQUFNLG9DQUFvQztBQUVuRSxPQUFPQyxTQUFTLE1BQU0sb0JBQW9CO0FBQzFDLE9BQU9DLGdCQUFnQixNQUFNLDJCQUEyQjtBQUN4RCxPQUFPQyxXQUFXLE1BQThCLGtCQUFrQjtBQU1sRSxlQUFlLE1BQU1DLFVBQVUsU0FBU0QsV0FBVyxDQUFDO0VBRWxEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ1NFLFdBQVdBLENBQUVDLE1BQWMsRUFDZEMsc0JBQThCLEVBQzlCQyxxQkFBaUQsRUFDakRDLGlDQUE2RCxFQUM3REMsZUFBa0MsRUFBRztJQUV2RCxNQUFNQyxPQUFPLEdBQUdkLFNBQVMsQ0FBcUQsQ0FBQyxDQUFFO01BRS9FO01BQ0E7TUFDQWUsUUFBUSxFQUFFWixrQkFBa0IsQ0FBQ2EsaUJBQWlCO01BQzlDQyxTQUFTLEVBQUVkLGtCQUFrQixDQUFDZSxrQkFBa0I7TUFFaEQ7TUFDQUMsSUFBSSxFQUFFVCxzQkFBc0IsSUFBSyxHQUFHLEdBQUdELE1BQU0sQ0FBQ1cs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