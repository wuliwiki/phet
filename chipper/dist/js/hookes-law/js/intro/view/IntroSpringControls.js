// Copyright 2015-2022, University of Colorado Boulder

/**
 * Spring controls for the "Intro" screen.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
import { HBox } from '../../../../scenery/js/imports.js';
import Panel from '../../../../sun/js/Panel.js';
import HookesLawConstants from '../../common/HookesLawConstants.js';
import AppliedForceControl from '../../common/view/AppliedForceControl.js';
import SpringConstantControl from '../../common/view/SpringConstantControl.js';
import hookesLaw from '../../hookesLaw.js';
import HookesLawStrings from '../../HookesLawStrings.js';
import optionize, { combineOptions } from '../../../../phet-core/js/optionize.js';

// constants
const SPRING_PANEL_OPTIONS = HookesLawConstants.SPRING_PANEL_OPTIONS;
export default class IntroSpringControls extends HBox {
  /**
   * @param spring
   * @param numberOfInteractionsInProgressProperty - number of interactions in progress that affect displacement
   * @param providedOptions
   */
  constructor(spring, numberOfInteractionsInProgressProperty, providedOptions) {
    const options = optionize()({
      // HBoxOptions
      spacing: 10
    }, providedOptions);
    assert && assert(Number.isInteger(options.systemNumber) && options.systemNumber >= 1);

    // Tandems for Panels that contain the controls
    const springConstantPanelTandem = options.tandem.createTandem('springConstantPanel');
    const appliedForcePanelTandem = options.tandem.createTandem('appliedForcePanel');
    const springConstantControl = new SpringConstantControl(spring.springConstantProperty, spring.springConstantRange, {
      titleStringProperty: new DerivedProperty([HookesLawStrings.springConstantNumberStringProperty], pattern => StringUtils.format(pattern, options.systemNumber)),
      majorTickValues: [spring.springConstantRange.min, spring.springConstantRange.max / 2, spring.springConstantRange.max],
      minorTickSpacing: 100,
      tandem: springConstantPanelTandem.createTandem('springConstantControl')
    });
    const appliedForceControl = new AppliedForceControl(spring.appliedForceProperty, spring.appliedForceRange, numberOfInteractionsInProgressProperty, {
      titleStringProperty: new DerivedProperty([HookesLawStrings.appliedForceNumberStringProperty], pattern => StringUtils.format(pattern, options.systemNumber)),
      tandem: appliedForcePanelTandem.createTandem('appliedForceControl')
    });
    options.children = [new Panel(springConstantControl, combineOptions({}, SPRING_PANEL_OPTIONS, {
      tandem: springConstantPanelTandem
    })), new Panel(appliedForceControl, combineOptions({}, SPRING_PANEL_OPTIONS, {
      tandem: appliedForcePanelTandem
    }))];
    super(options);
  }
}
hookesLaw.register('IntroSpringControls', IntroSpringControls);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJTdHJpbmdVdGlscyIsIkhCb3giLCJQYW5lbCIsIkhvb2tlc0xhd0NvbnN0YW50cyIsIkFwcGxpZWRGb3JjZUNvbnRyb2wiLCJTcHJpbmdDb25zdGFudENvbnRyb2wiLCJob29rZXNMYXciLCJIb29rZXNMYXdTdHJpbmdzIiwib3B0aW9uaXplIiwiY29tYmluZU9wdGlvbnMiLCJTUFJJTkdfUEFORUxfT1BUSU9OUyIsIkludHJvU3ByaW5nQ29udHJvbHMiLCJjb25zdHJ1Y3RvciIsInNwcmluZyIsIm51bWJlck9mSW50ZXJhY3Rpb25zSW5Qcm9ncmVzc1Byb3BlcnR5IiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsInNwYWNpbmciLCJhc3NlcnQiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJzeXN0ZW1OdW1iZXIiLCJzcHJpbmdDb25zdGFudFBhbmVsVGFuZGVtIiwidGFuZGVtIiwiY3JlYXRlVGFuZGVtIiwiYXBwbGllZEZvcmNlUGFuZWxUYW5kZW0iLCJzcHJpbmdDb25zdGFudENvbnRyb2wiLCJzcHJpbmdDb25zdGFudFByb3BlcnR5Iiwic3ByaW5nQ29uc3RhbnRSYW5nZSIsInRpdGxlU3RyaW5nUHJvcGVydHkiLCJzcHJpbmdDb25zdGFudE51bWJlclN0cmluZ1Byb3BlcnR5IiwicGF0dGVybiIsImZvcm1hdCIsIm1ham9yVGlja1ZhbHVlcyIsIm1pbiIsIm1heCIsIm1pbm9yVGlja1NwYWNpbmciLCJhcHBsaWVkRm9yY2VDb250cm9sIiwiYXBwbGllZEZvcmNlUHJvcGVydHkiLCJhcHBsaWVkRm9yY2VSYW5nZSIsImFwcGxpZWRGb3JjZU51bWJlclN0cmluZ1Byb3BlcnR5IiwiY2hpbGRyZW4iLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkludHJvU3ByaW5nQ29udHJvbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTUtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU3ByaW5nIGNvbnRyb2xzIGZvciB0aGUgXCJJbnRyb1wiIHNjcmVlbi5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgRGVyaXZlZFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvRGVyaXZlZFByb3BlcnR5LmpzJztcclxuaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvdXRpbC9TdHJpbmdVdGlscy5qcyc7XHJcbmltcG9ydCB7IEhCb3gsIEhCb3hPcHRpb25zLCBOb2RlVHJhbnNsYXRpb25PcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFBhbmVsLCB7IFBhbmVsT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9QYW5lbC5qcyc7XHJcbmltcG9ydCBIb29rZXNMYXdDb25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL0hvb2tlc0xhd0NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBBcHBsaWVkRm9yY2VDb250cm9sIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L0FwcGxpZWRGb3JjZUNvbnRyb2wuanMnO1xyXG5pbXBvcnQgU3ByaW5nQ29uc3RhbnRDb250cm9sIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L1NwcmluZ0NvbnN0YW50Q29udHJvbC5qcyc7XHJcbmltcG9ydCBob29rZXNMYXcgZnJvbSAnLi4vLi4vaG9va2VzTGF3LmpzJztcclxuaW1wb3J0IEhvb2tlc0xhd1N0cmluZ3MgZnJvbSAnLi4vLi4vSG9va2VzTGF3U3RyaW5ncy5qcyc7XHJcbmltcG9ydCBTcHJpbmcgZnJvbSAnLi4vLi4vY29tbW9uL21vZGVsL1NwcmluZy5qcyc7XHJcbmltcG9ydCBQaWNrT3B0aW9uYWwgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1BpY2tPcHRpb25hbC5qcyc7XHJcbmltcG9ydCBQaWNrUmVxdWlyZWQgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1BpY2tSZXF1aXJlZC5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSwgeyBjb21iaW5lT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IFNQUklOR19QQU5FTF9PUFRJT05TID0gSG9va2VzTGF3Q29uc3RhbnRzLlNQUklOR19QQU5FTF9PUFRJT05TO1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IHtcclxuICBzeXN0ZW1OdW1iZXI6IG51bWJlcjsgLy8gdXNlZCB0byBsYWJlbCB0aGUgY29udHJvbHMsIGVnIFwiU3ByaW5nIENvbnN0YW50IDFcIlxyXG59O1xyXG5cclxudHlwZSBJbnRyb1NwcmluZ0NvbnRyb2xzT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgTm9kZVRyYW5zbGF0aW9uT3B0aW9ucyAmXHJcbiAgUGlja09wdGlvbmFsPEhCb3hPcHRpb25zLCAnbWF4V2lkdGgnPiAmIFBpY2tSZXF1aXJlZDxIQm94T3B0aW9ucywgJ3RhbmRlbSc+O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50cm9TcHJpbmdDb250cm9scyBleHRlbmRzIEhCb3gge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gc3ByaW5nXHJcbiAgICogQHBhcmFtIG51bWJlck9mSW50ZXJhY3Rpb25zSW5Qcm9ncmVzc1Byb3BlcnR5IC0gbnVtYmVyIG9mIGludGVyYWN0aW9ucyBpbiBwcm9ncmVzcyB0aGF0IGFmZmVjdCBkaXNwbGFjZW1lbnRcclxuICAgKiBAcGFyYW0gcHJvdmlkZWRPcHRpb25zXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBzcHJpbmc6IFNwcmluZywgbnVtYmVyT2ZJbnRlcmFjdGlvbnNJblByb2dyZXNzUHJvcGVydHk6IFByb3BlcnR5PG51bWJlcj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZE9wdGlvbnM6IEludHJvU3ByaW5nQ29udHJvbHNPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8SW50cm9TcHJpbmdDb250cm9sc09wdGlvbnMsIFNlbGZPcHRpb25zLCBIQm94T3B0aW9ucz4oKSgge1xyXG5cclxuICAgICAgLy8gSEJveE9wdGlvbnNcclxuICAgICAgc3BhY2luZzogMTBcclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIE51bWJlci5pc0ludGVnZXIoIG9wdGlvbnMuc3lzdGVtTnVtYmVyICkgJiYgb3B0aW9ucy5zeXN0ZW1OdW1iZXIgPj0gMSApO1xyXG5cclxuICAgIC8vIFRhbmRlbXMgZm9yIFBhbmVscyB0aGF0IGNvbnRhaW4gdGhlIGNvbnRyb2xzXHJcbiAgICBjb25zdCBzcHJpbmdDb25zdGFudFBhbmVsVGFuZGVtID0gb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnc3ByaW5nQ29uc3RhbnRQYW5lbCcgKTtcclxuICAgIGNvbnN0IGFwcGxpZWRGb3JjZVBhbmVsVGFuZGVtID0gb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnYXBwbGllZEZvcmNlUGFuZWwnICk7XHJcblxyXG4gICAgY29uc3Qgc3ByaW5nQ29uc3RhbnRDb250cm9sID0gbmV3IFNwcmluZ0NvbnN0YW50Q29udHJvbCggc3ByaW5nLnNwcmluZ0NvbnN0YW50UHJvcGVydHksIHNwcmluZy5zcHJpbmdDb25zdGFudFJhbmdlLCB7XHJcbiAgICAgIHRpdGxlU3RyaW5nUHJvcGVydHk6IG5ldyBEZXJpdmVkUHJvcGVydHkoXHJcbiAgICAgICAgWyBIb29rZXNMYXdTdHJpbmdzLnNwcmluZ0NvbnN0YW50TnVtYmVyU3RyaW5nUHJvcGVydHkgXSxcclxuICAgICAgICBwYXR0ZXJuID0+IFN0cmluZ1V0aWxzLmZvcm1hdCggcGF0dGVybiwgb3B0aW9ucy5zeXN0ZW1OdW1iZXIgKVxyXG4gICAgICApLFxyXG4gICAgICBtYWpvclRpY2tWYWx1ZXM6IFtcclxuICAgICAgICBzcHJpbmcuc3ByaW5nQ29uc3RhbnRSYW5nZS5taW4sXHJcbiAgICAgICAgc3ByaW5nLnNwcmluZ0NvbnN0YW50UmFuZ2UubWF4IC8gMixcclxuICAgICAgICBzcHJpbmcuc3ByaW5nQ29uc3RhbnRSYW5nZS5tYXhcclxuICAgICAgXSxcclxuICAgICAgbWlub3JUaWNrU3BhY2luZzogMTAwLFxyXG4gICAgICB0YW5kZW06IHNwcmluZ0NvbnN0YW50UGFuZWxUYW5kZW0uY3JlYXRlVGFuZGVtKCAnc3ByaW5nQ29uc3RhbnRDb250cm9sJyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgYXBwbGllZEZvcmNlQ29udHJvbCA9IG5ldyBBcHBsaWVkRm9yY2VDb250cm9sKCBzcHJpbmcuYXBwbGllZEZvcmNlUHJvcGVydHksIHNwcmluZy5hcHBsaWVkRm9yY2VSYW5nZSxcclxuICAgICAgbnVtYmVyT2ZJbnRlcmFjdGlvbnNJblByb2dyZXNzUHJvcGVydHksIHtcclxuICAgICAgICB0aXRsZVN0cmluZ1Byb3BlcnR5OiBuZXcgRGVyaXZlZFByb3BlcnR5KFxyXG4gICAgICAgICAgWyBIb29rZXNMYXdTdHJpbmdzLmFwcGxpZWRGb3JjZU51bWJlclN0cmluZ1Byb3BlcnR5IF0sXHJcbiAgICAgICAgICBwYXR0ZXJuID0+IFN0cmluZ1V0aWxzLmZvcm1hdCggcGF0dGVybiwgb3B0aW9ucy5zeXN0ZW1OdW1iZXIgKVxyXG4gICAgICAgICksXHJcbiAgICAgICAgdGFuZGVtOiBhcHBsaWVkRm9yY2VQYW5lbFRhbmRlbS5jcmVhdGVUYW5kZW0oICdhcHBsaWVkRm9yY2VDb250cm9sJyApXHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICBvcHRpb25zLmNoaWxkcmVuID0gW1xyXG4gICAgICBuZXcgUGFuZWwoIHNwcmluZ0NvbnN0YW50Q29udHJvbCxcclxuICAgICAgICBjb21iaW5lT3B0aW9uczxQYW5lbE9wdGlvbnM+KCB7fSwgU1BSSU5HX1BBTkVMX09QVElPTlMsIHsgdGFuZGVtOiBzcHJpbmdDb25zdGFudFBhbmVsVGFuZGVtIH0gKSApLFxyXG4gICAgICBuZXcgUGFuZWwoIGFwcGxpZWRGb3JjZUNvbnRyb2wsXHJcbiAgICAgICAgY29tYmluZU9wdGlvbnM8UGFuZWxPcHRpb25zPigge30sIFNQUklOR19QQU5FTF9PUFRJT05TLCB7IHRhbmRlbTogYXBwbGllZEZvcmNlUGFuZWxUYW5kZW0gfSApIClcclxuICAgIF07XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuICB9XHJcbn1cclxuXHJcbmhvb2tlc0xhdy5yZWdpc3RlciggJ0ludHJvU3ByaW5nQ29udHJvbHMnLCBJbnRyb1NwcmluZ0NvbnRyb2xzICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsT0FBT0MsV0FBVyxNQUFNLCtDQUErQztBQUN2RSxTQUFTQyxJQUFJLFFBQTZDLG1DQUFtQztBQUM3RixPQUFPQyxLQUFLLE1BQXdCLDZCQUE2QjtBQUNqRSxPQUFPQyxrQkFBa0IsTUFBTSxvQ0FBb0M7QUFDbkUsT0FBT0MsbUJBQW1CLE1BQU0sMENBQTBDO0FBQzFFLE9BQU9DLHFCQUFxQixNQUFNLDRDQUE0QztBQUM5RSxPQUFPQyxTQUFTLE1BQU0sb0JBQW9CO0FBQzFDLE9BQU9DLGdCQUFnQixNQUFNLDJCQUEyQjtBQUt4RCxPQUFPQyxTQUFTLElBQUlDLGNBQWMsUUFBUSx1Q0FBdUM7O0FBRWpGO0FBQ0EsTUFBTUMsb0JBQW9CLEdBQUdQLGtCQUFrQixDQUFDTyxvQkFBb0I7QUFTcEUsZUFBZSxNQUFNQyxtQkFBbUIsU0FBU1YsSUFBSSxDQUFDO0VBRXBEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDU1csV0FB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