// Copyright 2022-2023, University of Colorado Boulder

/**
 * Demo for ScientificNotationNode. This also serves as a test harness.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import { HBox, HSeparator, Node, Text, VBox, VSeparator } from '../../../../scenery/js/imports.js';
import Range from '../../../../dot/js/Range.js';
import Checkbox from '../../../../sun/js/Checkbox.js';
import NumberSpinner from '../../../../sun/js/NumberSpinner.js';
import Panel from '../../../../sun/js/Panel.js';
import PhetFont from '../../PhetFont.js';
import Keypad from '../../keypad/Keypad.js';
import ScientificNotationNode from '../../ScientificNotationNode.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import RectangularPushButton from '../../../../sun/js/buttons/RectangularPushButton.js';
import Property from '../../../../axon/js/Property.js';
import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import PhetColorScheme from '../../PhetColorScheme.js';
const SCIENTIFIC_NOTATION_FONT = new PhetFont(30);
const TITLE_FONT = new PhetFont({
  size: 20,
  weight: 'bold'
});
const CONTROL_FONT = new PhetFont(14);
const KEYPAD_FONT = new PhetFont(20);
export default function demoScientificNotationNode(layoutBounds) {
  // Properties related to ScientificNotationNode options
  const mantissaDecimalPlacesProperty = new NumberProperty(2, {
    numberType: 'Integer',
    range: new Range(0, 10)
  });
  const showIntegersAsMantissaOnlyProperty = new BooleanProperty(false);
  const showZeroAsIntegerProperty = new BooleanProperty(true);
  const exponentProperty = new NumberProperty(1, {
    numberType: 'Integer',
    range: new Range(0, 10)
  });
  const nullExponentProperty = new BooleanProperty(false);
  const showZeroExponentProperty = new BooleanProperty(false);
  const controlPanel = new ControlPanel(mantissaDecimalPlacesProperty, showIntegersAsMantissaOnlyProperty, showZeroAsIntegerProperty, exponentProperty, nullExponentProperty, showZeroExponentProperty);

  // The value to be displayed in scientific notation
  const valueProperty = new NumberProperty(0);
  let scientificNotationNode;
  const scientificNotationNodeParent = new Node();

  // Creates a new ScientificNotationNode instance with the configuration specified in the control panel.
  const apply = () => {
    const keypadString = controlPanel.keypad.stringProperty.value;
    if (keypadString.length > 0) {
      valueProperty.value = parseFloat(keypadString);
    }
    if (scientificNotationNode) {
      scientificNotationNode.dispose();
    }
    scientificNotationNode = new ScientificNotationNode(valueProperty, {
      font: SCIENTIFIC_NOTATION_FONT,
      // mantissa
      mantissaDecimalPlaces: mantissaDecimalPlacesProperty.value,
      showZeroAsInteger: showZeroAsIntegerProperty.value,
      showIntegersAsMantissaOnly: showIntegersAsMantissaOnlyProperty.value,
      // exponent
      exponent: nullExponentProperty.value ? null : exponentProperty.value,
      showZeroExponent: showZeroExponentProperty.value
    });
    scientificNotationNodeParent.children = [scientificNotationNode];
  };
  apply();

  // Pressing this button calls apply().
  const applyButton = new RectangularPushButton({
    content: new Text('Apply \u2192', {
      font: new PhetFont(22)
    }),
    baseColor: PhetColorScheme.BUTTON_YELLOW,
    listener: () => apply(),
    // Disable the button if the keypad shows no value.
    enabledProperty: new DerivedProperty([controlPanel.keypad.stringProperty], keypadString => keypadString.length !== 0)
  });

  // layout
  return new HBox({
    spacing: 60,
    children: [controlPanel, applyButton, scientificNotationNodeParent],
    left: layoutBounds.left + 40,
    centerY: layoutBounds.centerY
  });
}

/**
 * This is the control panel for this demo. It contains controls for setting options related to ScientificNotationNode,
 * and a keypad for entering the value to be displayed.
 */
class ControlPanel extends Panel {
  constructor(mantissaDecimalPlacesProperty, showIntegersAsMantissaOnlyProperty, showZeroAsIntegerProperty, exponentProperty, nullExponentProperty, showZeroExponentProperty) {
    const textOptions = {
      font: CONTROL_FONT
    };
    const mantissaControl = new HBox({
      spacing: 10,
      children: [new NumberSpinner(mantissaDecimalPlacesProperty, new Property(mantissaDecimalPlacesProperty.range)), new Text('mantissaDecimalPlaces', textOptions)]
    });
    const showIntegersAsMantissaOnlyCheckbox = new Checkbox(showIntegersAsMantissaOnlyProperty, new Text('showIntegersAsMantissaOnly', textOptions));
    const showZeroAsIntegerCheckbox = new Checkbox(showZeroAsIntegerProperty, new Text('showZeroAsInteger', textOptions));
    const exponentControl = new HBox({
      spacing: 10,
      children: [new NumberSpinner(exponentProperty, new Property(exponentProperty.range)), new Text('exponent', textOptions)]
    });
    const nullExponentCheckbox = new Checkbox(nullExponentProperty, new Text('exponent: null', textOptions));
    nullExponentProperty.link(nullExponent => {
      exponentControl.enabled = !nullExponent;
    });
    const showZeroExponentCheckbox = new Checkbox(showZeroExponentProperty, new Text('showZeroExponent', textOptions));

    // controls for mantissa options
    const mantissaBox = new VBox({
      align: 'left',
      spacing: 20,
      children: [new Text('mantissa options', {
        font: TITLE_FONT
      }), mantissaControl, showIntegersAsMantissaOnlyCheckbox, showZeroAsIntegerCheckbox]
    });

    // controls for exponent options
    const exponentBox = new VBox({
      align: 'left',
      spacing: 20,
      children: [new Text('exponent options', {
        font: TITLE_FONT
      }), exponentControl, nullExponentCheckbox, showZeroExponentCheckbox]
    });
    const leftContent = new VBox({
      align: 'left',
      spacing: 20,
      children: [mantissaBox, new HSeparator(), exponentBox]
    });
    const maxDigits = mantissaDecimalPlacesProperty.range.max + 1;
    const keypad = new Keypad(Keypad.PositiveDecimalLayout, {
      accumulatorOptions: {
        maxDigits: maxDigits,
        maxDigitsRightOfMantissa: maxDigits
      },
      buttonWidth: 35,
      buttonHeight: 35,
      buttonFont: KEYPAD_FONT
    });
    const keypadValueText = new Text('', {
      font: KEYPAD_FONT
    });
    const clearButton = new RectangularPushButton({
      content: new Text('Clear', {
        font: KEYPAD_FONT
      }),
      baseColor: 'white',
      listener: () => keypad.clear(),
      // Disabled if there is no value to clear
      enabledProperty: new DerivedProperty([keypad.stringProperty], keypadString => keypadString.length !== 0)
    });
    const keypadBox = new VBox({
      align: 'center',
      spacing: 20,
      children: [keypadValueText, keypad, clearButton]
    });
    keypad.stringProperty.link(keypadString => {
      if (keypadString.length === 0) {
        keypadValueText.string = 'no value';
        keypadValueText.fill = 'red';
      } else {
        keypadValueText.string = keypadString;
        keypadValueText.fill = 'black';
      }
    });
    const content = new HBox({
      align: 'center',
      spacing: 20,
      children: [leftContent, new VSeparator(), keypadBox]
    });
    super(content, {
      xMargin: 20,
      yMargin: 20
    });
    this.keypad = keypad;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIQm94IiwiSFNlcGFyYXRvciIsIk5vZGUiLCJUZXh0IiwiVkJveCIsIlZTZXBhcmF0b3IiLCJSYW5nZSIsIkNoZWNrYm94IiwiTnVtYmVyU3Bpbm5lciIsIlBhbmVsIiwiUGhldEZvbnQiLCJLZXlwYWQiLCJTY2llbnRpZmljTm90YXRpb25Ob2RlIiwiTnVtYmVyUHJvcGVydHkiLCJSZWN0YW5ndWxhclB1c2hCdXR0b24iLCJQcm9wZXJ0eSIsIkJvb2xlYW5Qcm9wZXJ0eSIsIkRlcml2ZWRQcm9wZXJ0eSIsIlBoZXRDb2xvclNjaGVtZSIsIlNDSUVOVElGSUNfTk9UQVRJT05fRk9OVCIsIlRJVExFX0ZPTlQiLCJzaXplIiwid2VpZ2h0IiwiQ09OVFJPTF9GT05UIiwiS0VZUEFEX0ZPTlQiLCJkZW1vU2NpZW50aWZpY05vdGF0aW9uTm9kZSIsImxheW91dEJvdW5kcyIsIm1hbnRpc3NhRGVjaW1hbFBsYWNlc1Byb3BlcnR5IiwibnVtYmVyVHlwZSIsInJhbmdlIiwic2hvd0ludGVnZXJzQXNNYW50aXNzYU9ubHlQcm9wZXJ0eSIsInNob3daZXJvQXNJbnRlZ2VyUHJvcGVydHkiLCJleHBvbmVudFByb3BlcnR5IiwibnVsbEV4cG9uZW50UHJvcGVydHkiLCJzaG93WmVyb0V4cG9uZW50UHJvcGVydHkiLCJjb250cm9sUGFuZWwiLCJDb250cm9sUGFuZWwiLCJ2YWx1ZVByb3BlcnR5Iiwic2NpZW50aWZpY05vdGF0aW9uTm9kZSIsInNjaWVudGlmaWNOb3RhdGlvbk5vZGVQYXJlbnQiLCJhcHBseSIsImtleXBhZFN0cmluZyIsImtleXBhZCIsInN0cmluZ1Byb3BlcnR5IiwidmFsdWUiLCJsZW5ndGgiLCJwYXJzZUZsb2F0IiwiZGlzcG9zZSIsImZvbnQiLCJtYW50aXNzYURlY2ltYWxQbGFjZXMiLCJzaG93WmVyb0FzSW50ZWdlciIsInNob3dJbnRlZ2Vyc0FzTWFudGlzc2FPbmx5IiwiZXhwb25lbnQiLCJzaG93WmVyb0V4cG9uZW50IiwiY2hpbGRyZW4iLCJhcHBseUJ1dHRvbiIsImNvbnRlbnQiLCJiYXNlQ29sb3IiLCJCVVRUT05fWUVMTE9XIiwibGlzdGVuZXIiLCJlbmFibGVkUHJvcGVydHkiLCJzcGFjaW5nIiwibGVmdCIsImNlbnRlclkiLCJjb25zdHJ1Y3RvciIsInRleHRPcHRpb25zIiwibWFudGlzc2FDb250cm9sIiwic2hvd0ludGVnZXJzQXNNYW50aXNzYU9ubHlDaGVja2JveCIsInNob3daZXJvQXNJbnRlZ2VyQ2hlY2tib3giLCJleHBvbmVudENvbnRyb2wiLCJudWxsRXhwb25lbnRDaGVja2JveCIsImxpbmsiLCJudWxsRXhwb25lbnQiLCJlbmFibGVkIiwic2hvd1plcm9FeHBvbmVudENoZWNrYm94IiwibWFudGlzc2FCb3giLCJhbGlnbiIsImV4cG9uZW50Qm94IiwibGVmdENvbnRlbnQiLCJtYXhEaWdpdHMiLCJtYXgiLCJQb3NpdGl2ZURlY2ltYWxMYXlvdXQiLCJhY2N1bXVsYXRvck9wdGlvbnMiLCJtYXhEaWdpdHNSaWdodE9mTWFudGlzc2EiLCJidXR0b25XaWR0aCIsImJ1dHRvbkhlaWdodCIsImJ1dHRvbkZvbnQiLCJrZXlwYWRWYWx1ZVRleHQiLCJjbGVhckJ1dHRvbiIsImNsZWFyIiwia2V5cGFkQm94Iiwic3RyaW5nIiwiZmlsbCIsInhNYXJnaW4iLCJ5TWFyZ2luIl0sInNvdXJjZXMiOlsiZGVtb1NjaWVudGlmaWNOb3RhdGlvbk5vZGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjItMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogRGVtbyBmb3IgU2NpZW50aWZpY05vdGF0aW9uTm9kZS4gVGhpcyBhbHNvIHNlcnZlcyBhcyBhIHRlc3QgaGFybmVzcy5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgeyBIQm94LCBIU2VwYXJhdG9yLCBOb2RlLCBUZXh0LCBWQm94LCBWU2VwYXJhdG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFJhbmdlIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9SYW5nZS5qcyc7XHJcbmltcG9ydCBDaGVja2JveCBmcm9tICcuLi8uLi8uLi8uLi9zdW4vanMvQ2hlY2tib3guanMnO1xyXG5pbXBvcnQgTnVtYmVyU3Bpbm5lciBmcm9tICcuLi8uLi8uLi8uLi9zdW4vanMvTnVtYmVyU3Bpbm5lci5qcyc7XHJcbmltcG9ydCBQYW5lbCBmcm9tICcuLi8uLi8uLi8uLi9zdW4vanMvUGFuZWwuanMnO1xyXG5pbXBvcnQgUGhldEZvbnQgZnJvbSAnLi4vLi4vUGhldEZvbnQuanMnO1xyXG5pbXBvcnQgS2V5cGFkIGZyb20gJy4uLy4uL2tleXBhZC9LZXlwYWQuanMnO1xyXG5pbXBvcnQgU2NpZW50aWZpY05vdGF0aW9uTm9kZSBmcm9tICcuLi8uLi9TY2llbnRpZmljTm90YXRpb25Ob2RlLmpzJztcclxuaW1wb3J0IE51bWJlclByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvTnVtYmVyUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgUmVjdGFuZ3VsYXJQdXNoQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9idXR0b25zL1JlY3Rhbmd1bGFyUHVzaEJ1dHRvbi5qcyc7XHJcbmltcG9ydCBCb3VuZHMyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9Cb3VuZHMyLmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgQm9vbGVhblByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvQm9vbGVhblByb3BlcnR5LmpzJztcclxuaW1wb3J0IERlcml2ZWRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Rlcml2ZWRQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBQaGV0Q29sb3JTY2hlbWUgZnJvbSAnLi4vLi4vUGhldENvbG9yU2NoZW1lLmpzJztcclxuXHJcbmNvbnN0IFNDSUVOVElGSUNfTk9UQVRJT05fRk9OVCA9IG5ldyBQaGV0Rm9udCggMzAgKTtcclxuY29uc3QgVElUTEVfRk9OVCA9IG5ldyBQaGV0Rm9udCggeyBzaXplOiAyMCwgd2VpZ2h0OiAnYm9sZCcgfSApO1xyXG5jb25zdCBDT05UUk9MX0ZPTlQgPSBuZXcgUGhldEZvbnQoIDE0ICk7XHJcbmNvbnN0IEtFWVBBRF9GT05UID0gbmV3IFBoZXRGb250KCAyMCApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVtb1NjaWVudGlmaWNOb3RhdGlvbk5vZGUoIGxheW91dEJvdW5kczogQm91bmRzMiApOiBOb2RlIHtcclxuXHJcbiAgLy8gUHJvcGVydGllcyByZWxhdGVkIHRvIFNjaWVudGlmaWNOb3RhdGlvbk5vZGUgb3B0aW9uc1xyXG4gIGNvbnN0IG1hbnRpc3NhRGVjaW1hbFBsYWNlc1Byb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCAyLCB7XHJcbiAgICBudW1iZXJUeXBlOiAnSW50ZWdlcicsXHJcbiAgICByYW5nZTogbmV3IFJhbmdlKCAwLCAxMCApXHJcbiAgfSApO1xyXG4gIGNvbnN0IHNob3dJbnRlZ2Vyc0FzTWFudGlzc2FPbmx5UHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCBmYWxzZSApO1xyXG4gIGNvbnN0IHNob3daZXJvQXNJbnRlZ2VyUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCB0cnVlICk7XHJcbiAgY29uc3QgZXhwb25lbnRQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eSggMSwge1xyXG4gICAgbnVtYmVyVHlwZTogJ0ludGVnZXInLFxyXG4gICAgcmFuZ2U6IG5ldyBSYW5nZSggMCwgMTAgKVxyXG4gIH0gKTtcclxuICBjb25zdCBudWxsRXhwb25lbnRQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlICk7XHJcbiAgY29uc3Qgc2hvd1plcm9FeHBvbmVudFByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKTtcclxuXHJcbiAgY29uc3QgY29udHJvbFBhbmVsID0gbmV3IENvbnRyb2xQYW5lbCggbWFudGlzc2FEZWNpbWFsUGxhY2VzUHJvcGVydHksXHJcbiAgICBzaG93SW50ZWdlcnNBc01hbnRpc3NhT25seVByb3BlcnR5LFxyXG4gICAgc2hvd1plcm9Bc0ludGVnZXJQcm9wZXJ0eSxcclxuICAgIGV4cG9uZW50UHJvcGVydHksXHJcbiAgICBudWxsRXhwb25lbnRQcm9wZXJ0eSxcclxuICAgIHNob3daZXJvRXhwb25lbnRQcm9wZXJ0eVxyXG4gICk7XHJcblxyXG4gIC8vIFRoZSB2YWx1ZSB0byBiZSBkaXNwbGF5ZWQgaW4gc2NpZW50aWZpYyBub3RhdGlvblxyXG4gIGNvbnN0IHZhbHVlUHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHkoIDAgKTtcclxuXHJcbiAgbGV0IHNjaWVudGlmaWNOb3RhdGlvbk5vZGU6IE5vZGU7XHJcbiAgY29uc3Qgc2NpZW50aWZpY05vdGF0aW9uTm9kZVBhcmVudCA9IG5ldyBOb2RlKCk7XHJcblxyXG4gIC8vIENyZWF0ZXMgYSBuZXcgU2NpZW50aWZpY05vdGF0aW9uTm9kZSBpbnN0YW5jZSB3aXRoIHRoZSBjb25maWd1cmF0aW9uIHNwZWNpZmllZCBpbiB0aGUgY29udHJvbCBwYW5lbC5cclxuICBjb25zdCBhcHBseSA9ICgpID0+IHtcclxuXHJcbiAgICBjb25zdCBrZXlwYWRTdHJpbmcgPSBjb250cm9sUGFuZWwua2V5cGFkLnN0cmluZ1Byb3BlcnR5LnZhbHVlO1xyXG4gICAgaWYgKCBrZXlwYWRTdHJpbmcubGVuZ3RoID4gMCApIHtcclxuICAgICAgdmFsdWVQcm9wZXJ0eS52YWx1ZSA9IHBhcnNlRmxvYXQoIGtleXBhZFN0cmluZyApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggc2NpZW50aWZpY05vdGF0aW9uTm9kZSApIHtcclxuICAgICAgc2NpZW50aWZpY05vdGF0aW9uTm9kZS5kaXNwb3NlKCk7XHJcbiAgICB9XHJcbiAgICBzY2llbnRpZmljTm90YXRpb25Ob2RlID0gbmV3IFNjaWVudGlmaWNOb3RhdGlvbk5vZGUoIHZhbHVlUHJvcGVydHksIHtcclxuXHJcbiAgICAgIGZvbnQ6IFNDSUVOVElGSUNfTk9UQVRJT05fRk9OVCxcclxuXHJcbiAgICAgIC8vIG1hbnRpc3NhXHJcbiAgICAgIG1hbnRpc3NhRGVjaW1hbFBsYWNlczogbWFudGlzc2FEZWNpbWFsUGxhY2VzUHJvcGVydHkudmFsdWUsXHJcbiAgICAgIHNob3daZXJvQXNJbnRlZ2VyOiBzaG93WmVyb0FzSW50ZWdlclByb3BlcnR5LnZhbHVlLFxyXG4gICAgICBzaG93SW50ZWdlcnNBc01hbnRpc3NhT25seTogc2hvd0ludGVnZXJzQXNNYW50aXNzYU9ubHlQcm9wZXJ0eS52YWx1ZSxcclxuXHJcbiAgICAgIC8vIGV4cG9uZW50XHJcbiAgICAgIGV4cG9uZW50OiAoIG51bGxFeHBvbmVudFByb3BlcnR5LnZhbHVlICkgPyBudWxsIDogZXhwb25lbnRQcm9wZXJ0eS52YWx1ZSxcclxuICAgICAgc2hvd1plcm9FeHBvbmVudDogc2hvd1plcm9FeHBvbmVudFByb3BlcnR5LnZhbHVlXHJcbiAgICB9ICk7XHJcbiAgICBzY2llbnRpZmljTm90YXRpb25Ob2RlUGFyZW50LmNoaWxkcmVuID0gWyBzY2llbnRpZmljTm90YXRpb25Ob2RlIF07XHJcbiAgfTtcclxuICBhcHBseSgpO1xyXG5cclxuICAvLyBQcmVzc2luZyB0aGlzIGJ1dHRvbiBjYWxscyBhcHBseSgpLlxyXG4gIGNvbnN0IGFwcGx5QnV0dG9uID0gbmV3IFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbigge1xyXG4gICAgY29udGVudDogbmV3IFRleHQoICdBcHBseSBcXHUyMTkyJywge1xyXG4gICAgICBmb250OiBuZXcgUGhldEZvbnQoIDIyIClcclxuICAgIH0gKSxcclxuICAgIGJhc2VDb2xvcjogUGhldENvbG9yU2NoZW1lLkJVVFRPTl9ZRUxMT1csXHJcbiAgICBsaXN0ZW5lcjogKCkgPT4gYXBwbHkoKSxcclxuXHJcbiAgICAvLyBEaXNhYmxlIHRoZSBidXR0b24gaWYgdGhlIGtleXBhZCBzaG93cyBubyB2YWx1ZS5cclxuICAgIGVuYWJsZWRQcm9wZXJ0eTogbmV3IERlcml2ZWRQcm9wZXJ0eSggWyBjb250cm9sUGFuZWwua2V5cGFkLnN0cmluZ1Byb3BlcnR5IF0sXHJcbiAgICAgICgga2V5cGFkU3RyaW5nOiBzdHJpbmcgKSA9PiAoIGtleXBhZFN0cmluZy5sZW5ndGggIT09IDAgKSApXHJcbiAgfSApO1xyXG5cclxuICAvLyBsYXlvdXRcclxuICByZXR1cm4gbmV3IEhCb3goIHtcclxuICAgIHNwYWNpbmc6IDYwLFxyXG4gICAgY2hpbGRyZW46IFsgY29udHJvbFBhbmVsLCBhcHBseUJ1dHRvbiwgc2NpZW50aWZpY05vdGF0aW9uTm9kZVBhcmVudCBdLFxyXG4gICAgbGVmdDogbGF5b3V0Qm91bmRzLmxlZnQgKyA0MCxcclxuICAgIGNlbnRlclk6IGxheW91dEJvdW5kcy5jZW50ZXJZXHJcbiAgfSApO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcyBpcyB0aGUgY29udHJvbCBwYW5lbCBmb3IgdGhpcyBkZW1vLiBJdCBjb250YWlucyBjb250cm9scyBmb3Igc2V0dGluZyBvcHRpb25zIHJlbGF0ZWQgdG8gU2NpZW50aWZpY05vdGF0aW9uTm9kZSxcclxuICogYW5kIGEga2V5cGFkIGZvciBlbnRlcmluZyB0aGUgdmFsdWUgdG8gYmUgZGlzcGxheWVkLlxyXG4gKi9cclxuY2xhc3MgQ29udHJvbFBhbmVsIGV4dGVuZHMgUGFuZWwge1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkga2V5cGFkOiBLZXlwYWQ7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggbWFudGlzc2FEZWNpbWFsUGxhY2VzUHJvcGVydHk6IE51bWJlclByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2hvd0ludGVnZXJzQXNNYW50aXNzYU9ubHlQcm9wZXJ0eTogUHJvcGVydHk8Ym9vbGVhbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICBzaG93WmVyb0FzSW50ZWdlclByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPixcclxuICAgICAgICAgICAgICAgICAgICAgIGV4cG9uZW50UHJvcGVydHk6IE51bWJlclByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbEV4cG9uZW50UHJvcGVydHk6IFByb3BlcnR5PGJvb2xlYW4+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2hvd1plcm9FeHBvbmVudFByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPiApIHtcclxuXHJcbiAgICBjb25zdCB0ZXh0T3B0aW9ucyA9IHtcclxuICAgICAgZm9udDogQ09OVFJPTF9GT05UXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG1hbnRpc3NhQ29udHJvbCA9IG5ldyBIQm94KCB7XHJcbiAgICAgIHNwYWNpbmc6IDEwLFxyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIG5ldyBOdW1iZXJTcGlubmVyKCBtYW50aXNzYURlY2ltYWxQbGFjZXNQcm9wZXJ0eSwgbmV3IFByb3BlcnR5KCBtYW50aXNzYURlY2ltYWxQbGFjZXNQcm9wZXJ0eS5yYW5nZSApICksXHJcbiAgICAgICAgbmV3IFRleHQoICdtYW50aXNzYURlY2ltYWxQbGFjZXMnLCB0ZXh0T3B0aW9ucyApXHJcbiAgICAgIF1cclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBzaG93SW50ZWdlcnNBc01hbnRpc3NhT25seUNoZWNrYm94ID0gbmV3IENoZWNrYm94KCBzaG93SW50ZWdlcnNBc01hbnRpc3NhT25seVByb3BlcnR5LCBuZXcgVGV4dCggJ3Nob3dJbnRlZ2Vyc0FzTWFudGlzc2FPbmx5JywgdGV4dE9wdGlvbnMgKSApO1xyXG5cclxuICAgIGNvbnN0IHNob3daZXJvQXNJbnRlZ2VyQ2hlY2tib3ggPSBuZXcgQ2hlY2tib3goIHNob3daZXJvQXNJbnRlZ2VyUHJvcGVydHksIG5ldyBUZXh0KCAnc2hvd1plcm9Bc0ludGVnZXInLCB0ZXh0T3B0aW9ucyApICk7XHJcblxyXG4gICAgY29uc3QgZXhwb25lbnRDb250cm9sID0gbmV3IEhCb3goIHtcclxuICAgICAgc3BhY2luZzogMTAsXHJcbiAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgbmV3IE51bWJlclNwaW5uZXIoIGV4cG9uZW50UHJvcGVydHksIG5ldyBQcm9wZXJ0eSggZXhwb25lbnRQcm9wZXJ0eS5yYW5nZSApICksXHJcbiAgICAgICAgbmV3IFRleHQoICdleHBvbmVudCcsIHRleHRPcHRpb25zIClcclxuICAgICAgXVxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IG51bGxFeHBvbmVudENoZWNrYm94ID0gbmV3IENoZWNrYm94KCBudWxsRXhwb25lbnRQcm9wZXJ0eSwgbmV3IFRleHQoICdleHBvbmVudDogbnVsbCcsIHRleHRPcHRpb25zICkgKTtcclxuICAgIG51bGxFeHBvbmVudFByb3BlcnR5LmxpbmsoIG51bGxFeHBvbmVudCA9PiB7XHJcbiAgICAgIGV4cG9uZW50Q29udHJvbC5lbmFibGVkID0gIW51bGxFeHBvbmVudDtcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBzaG93WmVyb0V4cG9uZW50Q2hlY2tib3ggPSBuZXcgQ2hlY2tib3goIHNob3daZXJvRXhwb25lbnRQcm9wZXJ0eSwgbmV3IFRleHQoICdzaG93WmVyb0V4cG9uZW50JywgdGV4dE9wdGlvbnMgKSApO1xyXG5cclxuICAgIC8vIGNvbnRyb2xzIGZvciBtYW50aXNzYSBvcHRpb25zXHJcbiAgICBjb25zdCBtYW50aXNzYUJveCA9IG5ldyBWQm94KCB7XHJcbiAgICAgIGFsaWduOiAnbGVmdCcsXHJcbiAgICAgIHNwYWNpbmc6IDIwLFxyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIG5ldyBUZXh0KCAnbWFudGlzc2Egb3B0aW9ucycsIHsgZm9udDogVElUTEVfRk9OVCB9ICksXHJcbiAgICAgICAgbWFudGlzc2FDb250cm9sLFxyXG4gICAgICAgIHNob3dJbnRlZ2Vyc0FzTWFudGlzc2FPbmx5Q2hlY2tib3gsXHJcbiAgICAgICAgc2hvd1plcm9Bc0ludGVnZXJDaGVja2JveFxyXG4gICAgICBdXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gY29udHJvbHMgZm9yIGV4cG9uZW50IG9wdGlvbnNcclxuICAgIGNvbnN0IGV4cG9uZW50Qm94ID0gbmV3IFZCb3goIHtcclxuICAgICAgYWxpZ246ICdsZWZ0JyxcclxuICAgICAgc3BhY2luZzogMjAsXHJcbiAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgbmV3IFRleHQoICdleHBvbmVudCBvcHRpb25zJywgeyBmb250OiBUSVRMRV9GT05UIH0gKSxcclxuICAgICAgICBleHBvbmVudENvbnRyb2wsXHJcbiAgICAgICAgbnVsbEV4cG9uZW50Q2hlY2tib3gsXHJcbiAgICAgICAgc2hvd1plcm9FeHBvbmVudENoZWNrYm94XHJcbiAgICAgIF1cclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBsZWZ0Q29udGVudCA9IG5ldyBWQm94KCB7XHJcbiAgICAgIGFsaWduOiAnbGVmdCcsXHJcbiAgICAgIHNwYWNpbmc6IDIwLFxyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIG1hbnRpc3NhQm94LFxyXG4gICAgICAgIG5ldyBIU2VwYXJhdG9yKCksXHJcbiAgICAgICAgZXhwb25lbnRCb3hcclxuICAgICAgXVxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IG1heERpZ2l0cyA9IG1hbnRpc3NhRGVjaW1hbFBsYWNlc1Byb3BlcnR5LnJhbmdlLm1heCArIDE7XHJcbiAgICBjb25zdCBrZXlwYWQgPSBuZXcgS2V5cGFkKCBLZXlwYWQuUG9zaXRpdmVEZWNpbWFsTGF5b3V0LCB7XHJcbiAgICAgIGFjY3VtdWxhdG9yT3B0aW9uczoge1xyXG4gICAgICAgIG1heERpZ2l0czogbWF4RGlnaXRzLFxyXG4gICAgICAgIG1heERpZ2l0c1JpZ2h0T2ZNYW50aXNzYTogbWF4RGlnaXRzXHJcbiAgICAgIH0sXHJcbiAgICAgIGJ1dHRvbldpZHRoOiAzNSxcclxuICAgICAgYnV0dG9uSGVpZ2h0OiAzNSxcclxuICAgICAgYnV0dG9uRm9udDogS0VZUEFEX0ZPTlRcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBrZXlwYWRWYWx1ZVRleHQgPSBuZXcgVGV4dCggJycsIHtcclxuICAgICAgZm9udDogS0VZUEFEX0ZPTlRcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBjbGVhckJ1dHRvbiA9IG5ldyBSZWN0YW5ndWxhclB1c2hCdXR0b24oIHtcclxuICAgICAgY29udGVudDogbmV3IFRleHQoICdDbGVhcicsIHsgZm9udDogS0VZUEFEX0ZPTlQgfSApLFxyXG4gICAgICBiYXNlQ29sb3I6ICd3aGl0ZScsXHJcbiAgICAgIGxpc3RlbmVyOiAoKSA9PiBrZXlwYWQuY2xlYXIoKSxcclxuXHJcbiAgICAgIC8vIERpc2FibGVkIGlmIHRoZXJlIGlzIG5vIHZhbHVlIHRvIGNsZWFyXHJcbiAgICAgIGVuYWJsZWRQcm9wZXJ0eTogbmV3IERlcml2ZWRQcm9wZXJ0eSggWyBrZXlwYWQuc3RyaW5nUHJvcGVydHkgXSxcclxuICAgICAgICAoIGtleXBhZFN0cmluZzogc3RyaW5nICkgPT4gKCBrZXlwYWRTdHJpbmcubGVuZ3RoICE9PSAwIClcclxuICAgICAgKVxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGtleXBhZEJveCA9IG5ldyBWQm94KCB7XHJcbiAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgc3BhY2luZzogMjAsXHJcbiAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAga2V5cGFkVmFsdWVUZXh0LFxyXG4gICAgICAgIGtleXBhZCxcclxuICAgICAgICBjbGVhckJ1dHRvblxyXG4gICAgICBdXHJcbiAgICB9ICk7XHJcblxyXG4gICAga2V5cGFkLnN0cmluZ1Byb3BlcnR5LmxpbmsoICgga2V5cGFkU3RyaW5nOiBzdHJpbmcgKSA9PiB7XHJcbiAgICAgIGlmICgga2V5cGFkU3RyaW5nLmxlbmd0aCA9PT0gMCApIHtcclxuICAgICAgICBrZXlwYWRWYWx1ZVRleHQuc3RyaW5nID0gJ25vIHZhbHVlJztcclxuICAgICAgICBrZXlwYWRWYWx1ZVRleHQuZmlsbCA9ICdyZWQnO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGtleXBhZFZhbHVlVGV4dC5zdHJpbmcgPSBrZXlwYWRTdHJpbmc7XHJcbiAgICAgICAga2V5cGFkVmFsdWVUZXh0LmZpbGwgPSAnYmxhY2snO1xyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgY29udGVudCA9IG5ldyBIQm94KCB7XHJcbiAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgc3BhY2luZzogMjAsXHJcbiAgICAgIGNoaWxkcmVuOiBbIGxlZnRDb250ZW50LCBuZXcgVlNlcGFyYXRvcigpLCBrZXlwYWRCb3ggXVxyXG4gICAgfSApO1xyXG5cclxuICAgIHN1cGVyKCBjb250ZW50LCB7XHJcbiAgICAgIHhNYXJnaW46IDIwLFxyXG4gICAgICB5TWFyZ2luOiAyMFxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMua2V5cGFkID0ga2V5cGFkO1xyXG4gIH1cclxufSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxJQUFJLEVBQUVDLFVBQVUsRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsVUFBVSxRQUFRLG1DQUFtQztBQUNsRyxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLFFBQVEsTUFBTSxnQ0FBZ0M7QUFDckQsT0FBT0MsYUFBYSxNQUFNLHFDQUFxQztBQUMvRCxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLFFBQVEsTUFBTSxtQkFBbUI7QUFDeEMsT0FBT0MsTUFBTSxNQUFNLHdCQUF3QjtBQUMzQyxPQUFPQyxzQkFBc0IsTUFBTSxpQ0FBaUM7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