// Copyright 2019-2022, University of Colorado Boulder

/**
 * PedigreeGraphNode displays the pedigree for an individual. Origin at bottom center.
 * Note that this graph is not a performance concern, so it is currently updated regardless of whether it's visible.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import optionize from '../../../../../phet-core/js/optionize.js';
import { Node, Rectangle, Text } from '../../../../../scenery/js/imports.js';
import naturalSelection from '../../../naturalSelection.js';
import NaturalSelectionStrings from '../../../NaturalSelectionStrings.js';
import NaturalSelectionColors from '../../NaturalSelectionColors.js';
import NaturalSelectionConstants from '../../NaturalSelectionConstants.js';
import PedigreeBranchNode from './PedigreeBranchNode.js';

// constants
const X_MARGIN = 5;
const Y_MARGIN = 5;
export default class PedigreeGraphNode extends Node {
  constructor(selectedBunnyProperty, bunnyImageMap, furAllelesVisibleProperty, earsAllelesVisibleProperty, teethAllelesVisibleProperty, providedOptions) {
    const options = optionize()({
      // SelfOptions
      graphWidth: 100,
      graphHeight: 100,
      // NodeOptions
      phetioVisiblePropertyInstrumented: false
    }, providedOptions);
    const backgroundNode = new Rectangle(0, 0, options.graphWidth, options.graphHeight, {
      cornerRadius: NaturalSelectionConstants.CORNER_RADIUS,
      fill: NaturalSelectionColors.PEDIGREE_GRAPH_FILL,
      stroke: NaturalSelectionColors.PANEL_STROKE
    });

    // 'Select a Bunny' is displayed when there is no selected bunny.
    const selectABunnyText = new Text(NaturalSelectionStrings.selectABunnyStringProperty, {
      font: NaturalSelectionConstants.INSTRUCTIONS_FONT,
      maxWidth: 0.5 * backgroundNode.width,
      tandem: options.tandem.createTandem('selectABunnyText')
    });
    selectABunnyText.boundsProperty.link(bounds => {
      selectABunnyText.centerX = backgroundNode.centerX;
      selectABunnyText.centerY = backgroundNode.top + backgroundNode.height / 6;
    });
    options.children = [backgroundNode, selectABunnyText];
    super(options);

    // The branch of the Pedigree tree that is currently displayed.
    let branchNode = null;

    // When a bunny is selected, display its pedigree. unlink is not necessary.
    selectedBunnyProperty.link(bunny => {
      selectABunnyText.visible = !bunny;
      if (branchNode) {
        branchNode.dispose();
        branchNode = null;
      }
      if (bunny) {
        // Create the graph
        branchNode = new PedigreeBranchNode(bunny, bunnyImageMap, NaturalSelectionConstants.PEDIGREE_TREE_DEPTH, selectedBunnyProperty, furAllelesVisibleProperty, earsAllelesVisibleProperty, teethAllelesVisibleProperty, {
          bunnyIsSelected: true,
          x: backgroundNode.centerX,
          bottom: backgroundNode.bottom - Y_MARGIN
        });
        this.addChild(branchNode);

        // Ensure that the graph fits inside the background
        const scale = Math.min((backgroundNode.width - 2 * X_MARGIN) / branchNode.width, (backgroundNode.height - 2 * Y_MARGIN) / branchNode.height);
        if (scale < 1) {
          branchNode.setScaleMagnitude(scale);
        }
      }
    });

    // Create a Studio link to the model Property that controls which bunny's pedigree is displayed
    this.addLinkedElement(selectedBunnyProperty, {
      tandem: options.tandem.createTandem('selectedBunnyProperty')
    });
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
}
naturalSelection.register('PedigreeGraphNode', PedigreeGraphNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcHRpb25pemUiLCJOb2RlIiwiUmVjdGFuZ2xlIiwiVGV4dCIsIm5hdHVyYWxTZWxlY3Rpb24iLCJOYXR1cmFsU2VsZWN0aW9uU3RyaW5ncyIsIk5hdHVyYWxTZWxlY3Rpb25Db2xvcnMiLCJOYXR1cmFsU2VsZWN0aW9uQ29uc3RhbnRzIiwiUGVkaWdyZWVCcmFuY2hOb2RlIiwiWF9NQVJHSU4iLCJZX01BUkdJTiIsIlBlZGlncmVlR3JhcGhOb2RlIiwiY29uc3RydWN0b3IiLCJzZWxlY3RlZEJ1bm55UHJvcGVydHkiLCJidW5ueUltYWdlTWFwIiwiZnVyQWxsZWxlc1Zpc2libGVQcm9wZXJ0eSIsImVhcnNBbGxlbGVzVmlzaWJsZVByb3BlcnR5IiwidGVldGhBbGxlbGVzVmlzaWJsZVByb3BlcnR5IiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsImdyYXBoV2lkdGgiLCJncmFwaEhlaWdodCIsInBoZXRpb1Zpc2libGVQcm9wZXJ0eUluc3RydW1lbnRlZCIsImJhY2tncm91bmROb2RlIiwiY29ybmVyUmFkaXVzIiwiQ09STkVSX1JBRElVUyIsImZpbGwiLCJQRURJR1JFRV9HUkFQSF9GSUxMIiwic3Ryb2tlIiwiUEFORUxfU1RST0tFIiwic2VsZWN0QUJ1bm55VGV4dCIsInNlbGVjdEFCdW5ueVN0cmluZ1Byb3BlcnR5IiwiZm9udCIsIklOU1RSVUNUSU9OU19GT05UIiwibWF4V2lkdGgiLCJ3aWR0aCIsInRhbmRlbSIsImNyZWF0ZVRhbmRlbSIsImJvdW5kc1Byb3BlcnR5IiwibGluayIsImJvdW5kcyIsImNlbnRlclgiLCJjZW50ZXJZIiwidG9wIiwiaGVpZ2h0IiwiY2hpbGRyZW4iLCJicmFuY2hOb2RlIiwiYnVubnkiLCJ2aXNpYmxlIiwiZGlzcG9zZSIsIlBFRElHUkVFX1RSRUVfREVQVEgiLCJidW5ueUlzU2VsZWN0ZWQiLCJ4IiwiYm90dG9tIiwiYWRkQ2hpbGQiLCJzY2FsZSIsIk1hdGgiLCJtaW4iLCJzZXRTY2FsZU1hZ25pdHVkZSIsImFkZExpbmtlZEVsZW1lbnQiLCJhc3NlcnQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlBlZGlncmVlR3JhcGhOb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5LTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFBlZGlncmVlR3JhcGhOb2RlIGRpc3BsYXlzIHRoZSBwZWRpZ3JlZSBmb3IgYW4gaW5kaXZpZHVhbC4gT3JpZ2luIGF0IGJvdHRvbSBjZW50ZXIuXHJcbiAqIE5vdGUgdGhhdCB0aGlzIGdyYXBoIGlzIG5vdCBhIHBlcmZvcm1hbmNlIGNvbmNlcm4sIHNvIGl0IGlzIGN1cnJlbnRseSB1cGRhdGVkIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBpdCdzIHZpc2libGUuXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgUGlja1JlcXVpcmVkIGZyb20gJy4uLy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy90eXBlcy9QaWNrUmVxdWlyZWQuanMnO1xyXG5pbXBvcnQgeyBOb2RlLCBOb2RlT3B0aW9ucywgUmVjdGFuZ2xlLCBUZXh0IH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IG5hdHVyYWxTZWxlY3Rpb24gZnJvbSAnLi4vLi4vLi4vbmF0dXJhbFNlbGVjdGlvbi5qcyc7XHJcbmltcG9ydCBOYXR1cmFsU2VsZWN0aW9uU3RyaW5ncyBmcm9tICcuLi8uLi8uLi9OYXR1cmFsU2VsZWN0aW9uU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBTZWxlY3RlZEJ1bm55UHJvcGVydHkgZnJvbSAnLi4vLi4vbW9kZWwvU2VsZWN0ZWRCdW5ueVByb3BlcnR5LmpzJztcclxuaW1wb3J0IE5hdHVyYWxTZWxlY3Rpb25Db2xvcnMgZnJvbSAnLi4vLi4vTmF0dXJhbFNlbGVjdGlvbkNvbG9ycy5qcyc7XHJcbmltcG9ydCBOYXR1cmFsU2VsZWN0aW9uQ29uc3RhbnRzIGZyb20gJy4uLy4uL05hdHVyYWxTZWxlY3Rpb25Db25zdGFudHMuanMnO1xyXG5pbXBvcnQgQnVubnlJbWFnZU1hcCBmcm9tICcuLi9CdW5ueUltYWdlTWFwLmpzJztcclxuaW1wb3J0IFBlZGlncmVlQnJhbmNoTm9kZSBmcm9tICcuL1BlZGlncmVlQnJhbmNoTm9kZS5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgWF9NQVJHSU4gPSA1O1xyXG5jb25zdCBZX01BUkdJTiA9IDU7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG4gIGdyYXBoV2lkdGg/OiBudW1iZXI7XHJcbiAgZ3JhcGhIZWlnaHQ/OiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIFBlZGlncmVlR3JhcGhOb2RlT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgUGlja1JlcXVpcmVkPE5vZGVPcHRpb25zLCAndGFuZGVtJz47XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQZWRpZ3JlZUdyYXBoTm9kZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHNlbGVjdGVkQnVubnlQcm9wZXJ0eTogU2VsZWN0ZWRCdW5ueVByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgYnVubnlJbWFnZU1hcDogQnVubnlJbWFnZU1hcCxcclxuICAgICAgICAgICAgICAgICAgICAgIGZ1ckFsbGVsZXNWaXNpYmxlUHJvcGVydHk6IFByb3BlcnR5PGJvb2xlYW4+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgZWFyc0FsbGVsZXNWaXNpYmxlUHJvcGVydHk6IFByb3BlcnR5PGJvb2xlYW4+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgdGVldGhBbGxlbGVzVmlzaWJsZVByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPixcclxuICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkT3B0aW9uczogUGVkaWdyZWVHcmFwaE5vZGVPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8UGVkaWdyZWVHcmFwaE5vZGVPcHRpb25zLCBTZWxmT3B0aW9ucywgTm9kZU9wdGlvbnM+KCkoIHtcclxuXHJcbiAgICAgIC8vIFNlbGZPcHRpb25zXHJcbiAgICAgIGdyYXBoV2lkdGg6IDEwMCxcclxuICAgICAgZ3JhcGhIZWlnaHQ6IDEwMCxcclxuXHJcbiAgICAgIC8vIE5vZGVPcHRpb25zXHJcbiAgICAgIHBoZXRpb1Zpc2libGVQcm9wZXJ0eUluc3RydW1lbnRlZDogZmFsc2VcclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIGNvbnN0IGJhY2tncm91bmROb2RlID0gbmV3IFJlY3RhbmdsZSggMCwgMCwgb3B0aW9ucy5ncmFwaFdpZHRoLCBvcHRpb25zLmdyYXBoSGVpZ2h0LCB7XHJcbiAgICAgIGNvcm5lclJhZGl1czogTmF0dXJhbFNlbGVjdGlvbkNvbnN0YW50cy5DT1JORVJfUkFESVVTLFxyXG4gICAgICBmaWxsOiBOYXR1cmFsU2VsZWN0aW9uQ29sb3JzLlBFRElHUkVFX0dSQVBIX0ZJTEwsXHJcbiAgICAgIHN0cm9rZTogTmF0dXJhbFNlbGVjdGlvbkNvbG9ycy5QQU5FTF9TVFJPS0VcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyAnU2VsZWN0IGEgQnVubnknIGlzIGRpc3BsYXllZCB3aGVuIHRoZXJlIGlzIG5vIHNlbGVjdGVkIGJ1bm55LlxyXG4gICAgY29uc3Qgc2VsZWN0QUJ1bm55VGV4dCA9IG5ldyBUZXh0KCBOYXR1cmFsU2VsZWN0aW9uU3RyaW5ncy5zZWxlY3RBQnVubnlTdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICBmb250OiBOYXR1cmFsU2VsZWN0aW9uQ29uc3RhbnRzLklOU1RSVUNUSU9OU19GT05ULFxyXG4gICAgICBtYXhXaWR0aDogMC41ICogYmFja2dyb3VuZE5vZGUud2lkdGgsXHJcbiAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnc2VsZWN0QUJ1bm55VGV4dCcgKVxyXG4gICAgfSApO1xyXG4gICAgc2VsZWN0QUJ1bm55VGV4dC5ib3VuZHNQcm9wZXJ0eS5saW5rKCBib3VuZHMgPT4ge1xyXG4gICAgICBzZWxlY3RBQnVubnlUZXh0LmNlbnRlclggPSBiYWNrZ3JvdW5kTm9kZS5jZW50ZXJYO1xyXG4gICAgICBzZWxlY3RBQnVubnlUZXh0LmNlbnRlclkgPSBiYWNrZ3JvdW5kTm9kZS50b3AgKyAoIGJhY2tncm91bmROb2RlLmhlaWdodCAvIDYgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICBvcHRpb25zLmNoaWxkcmVuID0gWyBiYWNrZ3JvdW5kTm9kZSwgc2VsZWN0QUJ1bm55VGV4dCBdO1xyXG5cclxuICAgIHN1cGVyKCBvcHRpb25zICk7XHJcblxyXG4gICAgLy8gVGhlIGJyYW5jaCBvZiB0aGUgUGVkaWdyZWUgdHJlZSB0aGF0IGlzIGN1cnJlbnRseSBkaXNwbGF5ZWQuXHJcbiAgICBsZXQgYnJhbmNoTm9kZTogUGVkaWdyZWVCcmFuY2hOb2RlIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgLy8gV2hlbiBhIGJ1bm55IGlzIHNlbGVjdGVkLCBkaXNwbGF5IGl0cyBwZWRpZ3JlZS4gdW5saW5rIGlzIG5vdCBuZWNlc3NhcnkuXHJcbiAgICBzZWxlY3RlZEJ1bm55UHJvcGVydHkubGluayggYnVubnkgPT4ge1xyXG4gICAgICBzZWxlY3RBQnVubnlUZXh0LnZpc2libGUgPSAhYnVubnk7XHJcblxyXG4gICAgICBpZiAoIGJyYW5jaE5vZGUgKSB7XHJcbiAgICAgICAgYnJhbmNoTm9kZS5kaXNwb3NlKCk7XHJcbiAgICAgICAgYnJhbmNoTm9kZSA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICggYnVubnkgKSB7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZ3JhcGhcclxuICAgICAgICBicmFuY2hOb2RlID0gbmV3IFBlZGlncmVlQnJhbmNoTm9kZSggYnVubnksIGJ1bm55SW1hZ2VNYXAsIE5hdHVyYWxTZWxlY3Rpb25Db25zdGFudHMuUEVESUdSRUVfVFJFRV9ERVBUSCxcclxuICAgICAgICAgIHNlbGVjdGVkQnVubnlQcm9wZXJ0eSwgZnVyQWxsZWxlc1Zpc2libGVQcm9wZXJ0eSwgZWFyc0FsbGVsZXNWaXNpYmxlUHJvcGVydHksIHRlZXRoQWxsZWxlc1Zpc2libGVQcm9wZXJ0eSwge1xyXG4gICAgICAgICAgICBidW5ueUlzU2VsZWN0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHg6IGJhY2tncm91bmROb2RlLmNlbnRlclgsXHJcbiAgICAgICAgICAgIGJvdHRvbTogYmFja2dyb3VuZE5vZGUuYm90dG9tIC0gWV9NQVJHSU5cclxuICAgICAgICAgIH0gKTtcclxuICAgICAgICB0aGlzLmFkZENoaWxkKCBicmFuY2hOb2RlICk7XHJcblxyXG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBncmFwaCBmaXRzIGluc2lkZSB0aGUgYmFja2dyb3VuZFxyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oXHJcbiAgICAgICAgICAoIGJhY2tncm91bmROb2RlLndpZHRoIC0gMiAqIFhfTUFSR0lOICkgLyBicmFuY2hOb2RlLndpZHRoLFxyXG4gICAgICAgICAgKCBiYWNrZ3JvdW5kTm9kZS5oZWlnaHQgLSAyICogWV9NQVJHSU4gKSAvIGJyYW5jaE5vZGUuaGVpZ2h0XHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoIHNjYWxlIDwgMSApIHtcclxuICAgICAgICAgIGJyYW5jaE5vZGUuc2V0U2NhbGVNYWduaXR1ZGUoIHNjYWxlICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgU3R1ZGlvIGxpbmsgdG8gdGhlIG1vZGVsIFByb3BlcnR5IHRoYXQgY29udHJvbHMgd2hpY2ggYnVubnkncyBwZWRpZ3JlZSBpcyBkaXNwbGF5ZWRcclxuICAgIHRoaXMuYWRkTGlua2VkRWxlbWVudCggc2VsZWN0ZWRCdW5ueVByb3BlcnR5LCB7XHJcbiAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnc2VsZWN0ZWRCdW5ueVByb3BlcnR5JyApXHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGZhbHNlLCAnZGlzcG9zZSBpcyBub3Qgc3VwcG9ydGVkLCBleGlzdHMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltJyApO1xyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxubmF0dXJhbFNlbGVjdGlvbi5yZWdpc3RlciggJ1BlZGlncmVlR3JhcGhOb2RlJywgUGVkaWdyZWVHcmFwaE5vZGUgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQSxPQUFPQSxTQUFTLE1BQU0sMENBQTBDO0FBRWhFLFNBQVNDLElBQUksRUFBZUMsU0FBUyxFQUFFQyxJQUFJLFFBQVEsc0NBQXNDO0FBQ3pGLE9BQU9DLGdCQUFnQixNQUFNLDhCQUE4QjtBQUMzRCxPQUFPQyx1QkFBdUIsTUFBTSxxQ0FBcUM7QUFFekUsT0FBT0Msc0JBQXNCLE1BQU0saUNBQWlDO0FBQ3BFLE9BQU9DLHlCQUF5QixNQUFNLG9DQUFvQztBQUUxRSxPQUFPQyxrQkFBa0IsTUFBTSx5QkFBeUI7O0FBRXhEO0FBQ0EsTUFBTUMsUUFBUSxHQUFHLENBQUM7QUFDbEIsTUFBTUMsUUFBUSxHQUFHLENBQUM7QUFTbEIsZUFBZSxNQUFNQyxpQkFBaUIsU0FBU1YsSUFBSSxDQUFDO0VBRTNDVyxXQUFXQSxDQUFFQyxxQkFBNEMsRUFDNUNDLGFB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