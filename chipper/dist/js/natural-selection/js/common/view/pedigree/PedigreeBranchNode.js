// Copyright 2020-2022, University of Colorado Boulder

/**
 * PedigreeBranchNode is a branch of the Pedigree graph. It connects a child bunny to 2 parent bunnies via a T shape:
 *
 *    father ----- mother
 *             |
 *          child
 *
 * The parents are in turn instances of PedigreeBranchNode, so this is a recursively-defined structure.  If the bunny
 * has no parents, or we have reached the desired depth of the tree, then only the bunny is shown.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import { Shape } from '../../../../../kite/js/imports.js';
import optionize from '../../../../../phet-core/js/optionize.js';
import { Node, Path } from '../../../../../scenery/js/imports.js';
import naturalSelection from '../../../naturalSelection.js';
import PedigreeBunnyNode from './PedigreeBunnyNode.js';

// constants
const PARENTS_SCALE = 0.9; // how much the parents are scaled relative to the child
const DEFAULT_X_SPACING = 156; // x spacing between parents
const DEFAULT_Y_SPACING = 68; // y spacing between child and parents
const X_SPACING_SCALE = 0.55; // how much x spacing is scale for each generation
const T_HEIGHT = 16; // the height of the T that connects child to parents
const T_X_OFFSET = 28; // x offset of the T from the parent bunny's origin
const T_Y_OFFSET = 14; // y offset of the T from the parent bunny's origin

export default class PedigreeBranchNode extends Node {
  constructor(bunny, bunnyImageMap, branchDepth, selectedBunnyProperty, furAllelesVisibleProperty, earsAllelesVisibleProperty, teethAllelesVisibleProperty, providedOptions) {
    const children = [];
    const options = optionize()({
      // SelfOptions
      bunnyIsSelected: false,
      xSpacing: DEFAULT_X_SPACING,
      ySpacing: DEFAULT_Y_SPACING
    }, providedOptions);
    const bunnyNode = new PedigreeBunnyNode(bunny, bunnyImageMap, furAllelesVisibleProperty, earsAllelesVisibleProperty, teethAllelesVisibleProperty, {
      bunnyIsSelected: selectedBunnyProperty.value === bunny
    });
    children.push(bunnyNode);
    let fatherNode;
    let motherNode;
    if (branchDepth > 1 && bunny.father && bunny.mother) {
      fatherNode = new PedigreeBranchNode(bunny.father, bunnyImageMap, branchDepth - 1, selectedBunnyProperty, furAllelesVisibleProperty, earsAllelesVisibleProperty, teethAllelesVisibleProperty, {
        xSpacing: X_SPACING_SCALE * options.xSpacing,
        scale: PARENTS_SCALE,
        x: bunnyNode.centerX - options.xSpacing,
        bottom: bunnyNode.bottom - options.ySpacing
      });
      children.push(fatherNode);
      motherNode = new PedigreeBranchNode(bunny.mother, bunnyImageMap, branchDepth - 1, selectedBunnyProperty, furAllelesVisibleProperty, earsAllelesVisibleProperty, teethAllelesVisibleProperty, {
        xSpacing: X_SPACING_SCALE * options.xSpacing,
        scale: PARENTS_SCALE,
        x: bunnyNode.centerX + options.xSpacing,
        bottom: bunnyNode.bottom - options.ySpacing
      });
      children.push(motherNode);
      const tShape = new Shape().moveTo(fatherNode.x + T_X_OFFSET, fatherNode.y - T_Y_OFFSET).lineTo(motherNode.x - T_X_OFFSET, fatherNode.y - T_Y_OFFSET).moveTo(bunnyNode.centerX, fatherNode.y - T_Y_OFFSET).lineTo(bunnyNode.centerX, fatherNode.y - T_Y_OFFSET + T_HEIGHT);
      const tPath = new Path(tShape, {
        lineWidth: 1,
        stroke: 'black'
      });
      children.push(tPath);
    }
    options.children = children;
    super(options);
    this.disposePedigreeBranchNode = () => {
      bunnyNode.dispose();
      fatherNode && fatherNode.dispose();
      motherNode && motherNode.dispose();
    };
  }
  dispose() {
    this.disposePedigreeBranchNode();
    super.dispose();
  }
}
naturalSelection.register('PedigreeBranchNode', PedigreeBranchNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTaGFwZSIsIm9wdGlvbml6ZSIsIk5vZGUiLCJQYXRoIiwibmF0dXJhbFNlbGVjdGlvbiIsIlBlZGlncmVlQnVubnlOb2RlIiwiUEFSRU5UU19TQ0FMRSIsIkRFRkFVTFRfWF9TUEFDSU5HIiwiREVGQVVMVF9ZX1NQQUNJTkciLCJYX1NQQUNJTkdfU0NBTEUiLCJUX0hFSUdIVCIsIlRfWF9PRkZTRVQiLCJUX1lfT0ZGU0VUIiwiUGVkaWdyZWVCcmFuY2hOb2RlIiwiY29uc3RydWN0b3IiLCJidW5ueSIsImJ1bm55SW1hZ2VNYXAiLCJicmFuY2hEZXB0aCIsInNlbGVjdGVkQnVubnlQcm9wZXJ0eSIsImZ1ckFsbGVsZXNWaXNpYmxlUHJvcGVydHkiLCJlYXJzQWxsZWxlc1Zpc2libGVQcm9wZXJ0eSIsInRlZXRoQWxsZWxlc1Zpc2libGVQcm9wZXJ0eSIsInByb3ZpZGVkT3B0aW9ucyIsImNoaWxkcmVuIiwib3B0aW9ucyIsImJ1bm55SXNTZWxlY3RlZCIsInhTcGFjaW5nIiwieVNwYWNpbmciLCJidW5ueU5vZGUiLCJ2YWx1ZSIsInB1c2giLCJmYXRoZXJOb2RlIiwibW90aGVyTm9kZSIsImZhdGhlciIsIm1vdGhlciIsInNjYWxlIiwieCIsImNlbnRlclgiLCJib3R0b20iLCJ0U2hhcGUiLCJtb3ZlVG8iLCJ5IiwibGluZVRvIiwidFBhdGgiLCJsaW5lV2lkdGgiLCJzdHJva2UiLCJkaXNwb3NlUGVkaWdyZWVCcmFuY2hOb2RlIiwiZGlzcG9zZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiUGVkaWdyZWVCcmFuY2hOb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIwLTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFBlZGlncmVlQnJhbmNoTm9kZSBpcyBhIGJyYW5jaCBvZiB0aGUgUGVkaWdyZWUgZ3JhcGguIEl0IGNvbm5lY3RzIGEgY2hpbGQgYnVubnkgdG8gMiBwYXJlbnQgYnVubmllcyB2aWEgYSBUIHNoYXBlOlxyXG4gKlxyXG4gKiAgICBmYXRoZXIgLS0tLS0gbW90aGVyXHJcbiAqICAgICAgICAgICAgIHxcclxuICogICAgICAgICAgY2hpbGRcclxuICpcclxuICogVGhlIHBhcmVudHMgYXJlIGluIHR1cm4gaW5zdGFuY2VzIG9mIFBlZGlncmVlQnJhbmNoTm9kZSwgc28gdGhpcyBpcyBhIHJlY3Vyc2l2ZWx5LWRlZmluZWQgc3RydWN0dXJlLiAgSWYgdGhlIGJ1bm55XHJcbiAqIGhhcyBubyBwYXJlbnRzLCBvciB3ZSBoYXZlIHJlYWNoZWQgdGhlIGRlc2lyZWQgZGVwdGggb2YgdGhlIHRyZWUsIHRoZW4gb25seSB0aGUgYnVubnkgaXMgc2hvd24uXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBvcHRpb25pemUgZnJvbSAnLi4vLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XHJcbmltcG9ydCB7IE5vZGUsIE5vZGVPcHRpb25zLCBOb2RlVHJhbnNmb3JtT3B0aW9ucywgUGF0aCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBuYXR1cmFsU2VsZWN0aW9uIGZyb20gJy4uLy4uLy4uL25hdHVyYWxTZWxlY3Rpb24uanMnO1xyXG5pbXBvcnQgQnVubnkgZnJvbSAnLi4vLi4vbW9kZWwvQnVubnkuanMnO1xyXG5pbXBvcnQgU2VsZWN0ZWRCdW5ueVByb3BlcnR5IGZyb20gJy4uLy4uL21vZGVsL1NlbGVjdGVkQnVubnlQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBCdW5ueUltYWdlTWFwIGZyb20gJy4uL0J1bm55SW1hZ2VNYXAuanMnO1xyXG5pbXBvcnQgUGVkaWdyZWVCdW5ueU5vZGUgZnJvbSAnLi9QZWRpZ3JlZUJ1bm55Tm9kZS5qcyc7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgUEFSRU5UU19TQ0FMRSA9IDAuOTsgLy8gaG93IG11Y2ggdGhlIHBhcmVudHMgYXJlIHNjYWxlZCByZWxhdGl2ZSB0byB0aGUgY2hpbGRcclxuY29uc3QgREVGQVVMVF9YX1NQQUNJTkcgPSAxNTY7IC8vIHggc3BhY2luZyBiZXR3ZWVuIHBhcmVudHNcclxuY29uc3QgREVGQVVMVF9ZX1NQQUNJTkcgPSA2ODsgLy8geSBzcGFjaW5nIGJldHdlZW4gY2hpbGQgYW5kIHBhcmVudHNcclxuY29uc3QgWF9TUEFDSU5HX1NDQUxFID0gMC41NTsgLy8gaG93IG11Y2ggeCBzcGFjaW5nIGlzIHNjYWxlIGZvciBlYWNoIGdlbmVyYXRpb25cclxuY29uc3QgVF9IRUlHSFQgPSAxNjsgLy8gdGhlIGhlaWdodCBvZiB0aGUgVCB0aGF0IGNvbm5lY3RzIGNoaWxkIHRvIHBhcmVudHNcclxuY29uc3QgVF9YX09GRlNFVCA9IDI4OyAvLyB4IG9mZnNldCBvZiB0aGUgVCBmcm9tIHRoZSBwYXJlbnQgYnVubnkncyBvcmlnaW5cclxuY29uc3QgVF9ZX09GRlNFVCA9IDE0OyAvLyB5IG9mZnNldCBvZiB0aGUgVCBmcm9tIHRoZSBwYXJlbnQgYnVubnkncyBvcmlnaW5cclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSB7XHJcbiAgYnVubnlJc1NlbGVjdGVkPzogYm9vbGVhbjtcclxuICB4U3BhY2luZz86IG51bWJlcjtcclxuICB5U3BhY2luZz86IG51bWJlcjtcclxufTtcclxuXHJcbnR5cGUgUGVkaWdyZWVCcmFuY2hOb2RlT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgTm9kZVRyYW5zZm9ybU9wdGlvbnM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQZWRpZ3JlZUJyYW5jaE5vZGUgZXh0ZW5kcyBOb2RlIHtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBkaXNwb3NlUGVkaWdyZWVCcmFuY2hOb2RlOiAoKSA9PiB2b2lkO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGJ1bm55OiBCdW5ueSwgYnVubnlJbWFnZU1hcDogQnVubnlJbWFnZU1hcCwgYnJhbmNoRGVwdGg6IG51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQnVubnlQcm9wZXJ0eTogU2VsZWN0ZWRCdW5ueVByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgZnVyQWxsZWxlc1Zpc2libGVQcm9wZXJ0eTogUHJvcGVydHk8Ym9vbGVhbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICBlYXJzQWxsZWxlc1Zpc2libGVQcm9wZXJ0eTogUHJvcGVydHk8Ym9vbGVhbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICB0ZWV0aEFsbGVsZXNWaXNpYmxlUHJvcGVydHk6IFByb3BlcnR5PGJvb2xlYW4+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRPcHRpb25zPzogUGVkaWdyZWVCcmFuY2hOb2RlT3B0aW9ucyApIHtcclxuXHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8UGVkaWdyZWVCcmFuY2hOb2RlT3B0aW9ucywgU2VsZk9wdGlvbnMsIE5vZGVPcHRpb25zPigpKCB7XHJcblxyXG4gICAgICAvLyBTZWxmT3B0aW9uc1xyXG4gICAgICBidW5ueUlzU2VsZWN0ZWQ6IGZhbHNlLFxyXG4gICAgICB4U3BhY2luZzogREVGQVVMVF9YX1NQQUNJTkcsXHJcbiAgICAgIHlTcGFjaW5nOiBERUZBVUxUX1lfU1BBQ0lOR1xyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgY29uc3QgYnVubnlOb2RlID0gbmV3IFBlZGlncmVlQnVubnlOb2RlKCBidW5ueSwgYnVubnlJbWFnZU1hcCxcclxuICAgICAgZnVyQWxsZWxlc1Zpc2libGVQcm9wZXJ0eSwgZWFyc0FsbGVsZXNWaXNpYmxlUHJvcGVydHksIHRlZXRoQWxsZWxlc1Zpc2libGVQcm9wZXJ0eSwge1xyXG4gICAgICAgIGJ1bm55SXNTZWxlY3RlZDogKCBzZWxlY3RlZEJ1bm55UHJvcGVydHkudmFsdWUgPT09IGJ1bm55IClcclxuICAgICAgfSApO1xyXG4gICAgY2hpbGRyZW4ucHVzaCggYnVubnlOb2RlICk7XHJcblxyXG4gICAgbGV0IGZhdGhlck5vZGU6IFBlZGlncmVlQnJhbmNoTm9kZTtcclxuICAgIGxldCBtb3RoZXJOb2RlOiBQZWRpZ3JlZUJyYW5jaE5vZGU7XHJcbiAgICBpZiAoIGJyYW5jaERlcHRoID4gMSAmJiBidW5ueS5mYXRoZXIgJiYgYnVubnkubW90aGVyICkge1xyXG5cclxuICAgICAgZmF0aGVyTm9kZSA9IG5ldyBQZWRpZ3JlZUJyYW5jaE5vZGUoIGJ1bm55LmZhdGhlciwgYnVubnlJbWFnZU1hcCwgYnJhbmNoRGVwdGggLSAxLCBzZWxlY3RlZEJ1bm55UHJvcGVydHksXHJcbiAgICAgICAgZnVyQWxsZWxlc1Zpc2libGVQcm9wZXJ0eSwgZWFyc0FsbGVsZXNWaXNpYmxlUHJvcGVydHksIHRlZXRoQWxsZWxlc1Zpc2libGVQcm9wZXJ0eSwge1xyXG4gICAgICAgICAgeFNwYWNpbmc6IFhfU1BBQ0lOR19TQ0FMRSAqIG9wdGlvbnMueFNwYWNpbmcsXHJcbiAgICAgICAgICBzY2FsZTogUEFSRU5UU19TQ0FMRSxcclxuICAgICAgICAgIHg6IGJ1bm55Tm9kZS5jZW50ZXJYIC0gb3B0aW9ucy54U3BhY2luZyxcclxuICAgICAgICAgIGJvdHRvbTogYnVubnlOb2RlLmJvdHRvbSAtIG9wdGlvbnMueVNwYWNpbmdcclxuICAgICAgICB9ICk7XHJcbiAgICAgIGNoaWxkcmVuLnB1c2goIGZhdGhlck5vZGUgKTtcclxuXHJcbiAgICAgIG1vdGhlck5vZGUgPSBuZXcgUGVkaWdyZWVCcmFuY2hOb2RlKCBidW5ueS5tb3RoZXIsIGJ1bm55SW1hZ2VNYXAsIGJyYW5jaERlcHRoIC0gMSwgc2VsZWN0ZWRCdW5ueVByb3BlcnR5LFxyXG4gICAgICAgIGZ1ckFsbGVsZXNWaXNpYmxlUHJvcGVydHksIGVhcnNBbGxlbGVzVmlzaWJsZVByb3BlcnR5LCB0ZWV0aEFsbGVsZXNWaXNpYmxlUHJvcGVydHksIHtcclxuICAgICAgICAgIHhTcGFjaW5nOiBYX1NQQUNJTkdfU0NBTEUgKiBvcHRpb25zLnhTcGFjaW5nLFxyXG4gICAgICAgICAgc2NhbGU6IFBBUkVOVFNfU0NBTEUsXHJcbiAgICAgICAgICB4OiBidW5ueU5vZGUuY2VudGVyWCArIG9wdGlvbnMueFNwYWNpbmcsXHJcbiAgICAgICAgICBib3R0b206IGJ1bm55Tm9kZS5ib3R0b20gLSBvcHRpb25zLnlTcGFjaW5nXHJcbiAgICAgICAgfSApO1xyXG4gICAgICBjaGlsZHJlbi5wdXNoKCBtb3RoZXJOb2RlICk7XHJcblxyXG4gICAgICBjb25zdCB0U2hhcGUgPSBuZXcgU2hhcGUoKVxyXG4gICAgICAgIC5tb3ZlVG8oIGZhdGhlck5vZGUueCArIFRfWF9PRkZTRVQsIGZhdGhlck5vZGUueSAtIFRfWV9PRkZTRVQgKVxyXG4gICAgICAgIC5saW5lVG8oIG1vdGhlck5vZGUueCAtIFRfWF9PRkZTRVQsIGZhdGhlck5vZGUueSAtIFRfWV9PRkZTRVQgKVxyXG4gICAgICAgIC5tb3ZlVG8oIGJ1bm55Tm9kZS5jZW50ZXJYLCBmYXRoZXJOb2RlLnkgLSBUX1lfT0ZGU0VUIClcclxuICAgICAgICAubGluZVRvKCBidW5ueU5vZGUuY2VudGVyWCwgZmF0aGVyTm9kZS55IC0gVF9ZX09GRlNFVCArIFRfSEVJR0hUICk7XHJcbiAgICAgIGNvbnN0IHRQYXRoID0gbmV3IFBhdGgoIHRTaGFwZSwge1xyXG4gICAgICAgIGxpbmVXaWR0aDogMSxcclxuICAgICAgICBzdHJva2U6ICdibGFjaydcclxuICAgICAgfSApO1xyXG4gICAgICBjaGlsZHJlbi5wdXNoKCB0UGF0aCApO1xyXG4gICAgfVxyXG5cclxuICAgIG9wdGlvbnMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuXHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG5cclxuICAgIHRoaXMuZGlzcG9zZVBlZGlncmVlQnJhbmNoTm9kZSA9ICgpID0+IHtcclxuICAgICAgYnVubnlOb2RlLmRpc3Bvc2UoKTtcclxuICAgICAgZmF0aGVyTm9kZSAmJiBmYXRoZXJOb2RlLmRpc3Bvc2UoKTtcclxuICAgICAgbW90aGVyTm9kZSAmJiBtb3RoZXJOb2RlLmRpc3Bvc2UoKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGlzcG9zZVBlZGlncmVlQnJhbmNoTm9kZSgpO1xyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxubmF0dXJhbFNlbGVjdGlvbi5yZWdpc3RlciggJ1BlZGlncmVlQnJhbmNoTm9kZScsIFBlZGlncmVlQnJhbmNoTm9kZSApOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBLFNBQVNBLEtBQUssUUFBUSxtQ0FBbUM7QUFDekQsT0FBT0MsU0FBUyxNQUFNLDBDQUEwQztBQUNoRSxTQUFTQyxJQUFJLEVBQXFDQyxJQUFJLFFBQVEsc0NBQXNDO0FBQ3BHLE9BQU9DLGdCQUFnQixNQUFNLDhCQUE4QjtBQUkzRCxPQUFPQyxpQkFBaUIsTUFBTSx3QkFBd0I7O0FBRXREO0FBQ0EsTUFBTUMsYUFBYSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQzNCLE1BQU1DLGlCQUFpQixHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQy9CLE1BQU1DLGlCQUFpQixHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQzlCLE1BQU1DLGVBQWUsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUM5QixNQUFNQyxRQUFRLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDckIsTUFBTUMsVUFBVSxHQUFH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