// Copyright 2019-2023, University of Colorado Boulder

/**
 * ProportionsPanel is the panel that contains controls for the 'Proportions' graph.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import { combineOptions, optionize4 } from '../../../../../phet-core/js/optionize.js';
import { HSeparator, Text, VBox } from '../../../../../scenery/js/imports.js';
import Checkbox from '../../../../../sun/js/Checkbox.js';
import naturalSelection from '../../../naturalSelection.js';
import NaturalSelectionStrings from '../../../NaturalSelectionStrings.js';
import NaturalSelectionColors from '../../NaturalSelectionColors.js';
import NaturalSelectionConstants from '../../NaturalSelectionConstants.js';
import NaturalSelectionPanel from '../NaturalSelectionPanel.js';
import ProportionsLegendNode from './ProportionsLegendNode.js';
export default class ProportionsPanel extends NaturalSelectionPanel {
  constructor(genePool, valuesVisibleProperty, providedOptions) {
    const options = optionize4()({}, NaturalSelectionConstants.PANEL_OPTIONS, {
      // NaturalSelectionPanelOptions
      fixedWidth: 100
    }, providedOptions);
    const legendNode = new ProportionsLegendNode(genePool, {
      tandem: options.tandem.createTandem('legendNode')
    });
    const separator = new HSeparator({
      stroke: NaturalSelectionColors.SEPARATOR_STROKE
    });

    // Values checkbox, shows/hides values on the bars
    const valuesCheckboxTandem = options.tandem.createTandem('valuesCheckbox');
    const valuesCheckboxLabelText = new Text(NaturalSelectionStrings.valuesStringProperty, {
      font: NaturalSelectionConstants.CHECKBOX_FONT,
      maxWidth: 100,
      // determined empirically
      tandem: valuesCheckboxTandem.createTandem('labelText')
    });
    const valuesCheckbox = new Checkbox(valuesVisibleProperty, valuesCheckboxLabelText, combineOptions({}, NaturalSelectionConstants.CHECKBOX_OPTIONS, {
      tandem: valuesCheckboxTandem
    }));
    const xDilation = 8;
    const yDilation = 6;
    valuesCheckbox.touchArea = valuesCheckbox.localBounds.dilatedXY(xDilation, yDilation);
    valuesCheckbox.mouseArea = valuesCheckbox.localBounds.dilatedXY(xDilation, yDilation);
    const content = new VBox(combineOptions({}, NaturalSelectionConstants.VBOX_OPTIONS, {
      preferredWidth: options.fixedWidth - 2 * options.xMargin,
      widthSizable: false,
      children: [legendNode, separator, valuesCheckbox]
    }));
    super(content, options);
    this.legendNode = legendNode;
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }

  /**
   * Sets visibility of the UI components related to a specific gene.
   */
  setGeneVisible(gene, visible) {
    this.legendNode.setGeneVisible(gene, visible);
  }
}
naturalSelection.register('ProportionsPanel', ProportionsPanel);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb21iaW5lT3B0aW9ucyIsIm9wdGlvbml6ZTQiLCJIU2VwYXJhdG9yIiwiVGV4dCIsIlZCb3giLCJDaGVja2JveCIsIm5hdHVyYWxTZWxlY3Rpb24iLCJOYXR1cmFsU2VsZWN0aW9uU3RyaW5ncyIsIk5hdHVyYWxTZWxlY3Rpb25Db2xvcnMiLCJOYXR1cmFsU2VsZWN0aW9uQ29uc3RhbnRzIiwiTmF0dXJhbFNlbGVjdGlvblBhbmVsIiwiUHJvcG9ydGlvbnNMZWdlbmROb2RlIiwiUHJvcG9ydGlvbnNQYW5lbCIsImNvbnN0cnVjdG9yIiwiZ2VuZVBvb2wiLCJ2YWx1ZXNWaXNpYmxlUHJvcGVydHkiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwiUEFORUxfT1BUSU9OUyIsImZpeGVkV2lkdGgiLCJsZWdlbmROb2RlIiwidGFuZGVtIiwiY3JlYXRlVGFuZGVtIiwic2VwYXJhdG9yIiwic3Ryb2tlIiwiU0VQQVJBVE9SX1NUUk9LRSIsInZhbHVlc0NoZWNrYm94VGFuZGVtIiwidmFsdWVzQ2hlY2tib3hMYWJlbFRleHQiLCJ2YWx1ZXNTdHJpbmdQcm9wZXJ0eSIsImZvbnQiLCJDSEVDS0JPWF9GT05UIiwibWF4V2lkdGgiLCJ2YWx1ZXNDaGVja2JveCIsIkNIRUNLQk9YX09QVElPTlMiLCJ4RGlsYXRpb24iLCJ5RGlsYXRpb24iLCJ0b3VjaEFyZWEiLCJsb2NhbEJvdW5kcyIsImRpbGF0ZWRYWSIsIm1vdXNlQXJlYSIsImNvbnRlbnQiLCJWQk9YX09QVElPTlMiLCJwcmVmZXJyZWRXaWR0aCIsInhNYXJnaW4iLCJ3aWR0aFNpemFibGUiLCJjaGlsZHJlbiIsImRpc3Bvc2UiLCJhc3NlcnQiLCJzZXRHZW5lVmlzaWJsZSIsImdlbmUiLCJ2aXNpYmxlIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJQcm9wb3J0aW9uc1BhbmVsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFByb3BvcnRpb25zUGFuZWwgaXMgdGhlIHBhbmVsIHRoYXQgY29udGFpbnMgY29udHJvbHMgZm9yIHRoZSAnUHJvcG9ydGlvbnMnIGdyYXBoLlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IHsgY29tYmluZU9wdGlvbnMsIEVtcHR5U2VsZk9wdGlvbnMsIG9wdGlvbml6ZTQgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuaW1wb3J0IFN0cmljdE9taXQgZnJvbSAnLi4vLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1N0cmljdE9taXQuanMnO1xyXG5pbXBvcnQgeyBIU2VwYXJhdG9yLCBUZXh0LCBWQm94LCBWQm94T3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBDaGVja2JveCwgeyBDaGVja2JveE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zdW4vanMvQ2hlY2tib3guanMnO1xyXG5pbXBvcnQgbmF0dXJhbFNlbGVjdGlvbiBmcm9tICcuLi8uLi8uLi9uYXR1cmFsU2VsZWN0aW9uLmpzJztcclxuaW1wb3J0IE5hdHVyYWxTZWxlY3Rpb25TdHJpbmdzIGZyb20gJy4uLy4uLy4uL05hdHVyYWxTZWxlY3Rpb25TdHJpbmdzLmpzJztcclxuaW1wb3J0IEdlbmVQb29sIGZyb20gJy4uLy4uL21vZGVsL0dlbmVQb29sLmpzJztcclxuaW1wb3J0IE5hdHVyYWxTZWxlY3Rpb25Db2xvcnMgZnJvbSAnLi4vLi4vTmF0dXJhbFNlbGVjdGlvbkNvbG9ycy5qcyc7XHJcbmltcG9ydCBOYXR1cmFsU2VsZWN0aW9uQ29uc3RhbnRzIGZyb20gJy4uLy4uL05hdHVyYWxTZWxlY3Rpb25Db25zdGFudHMuanMnO1xyXG5pbXBvcnQgTmF0dXJhbFNlbGVjdGlvblBhbmVsLCB7IE5hdHVyYWxTZWxlY3Rpb25QYW5lbE9wdGlvbnMgfSBmcm9tICcuLi9OYXR1cmFsU2VsZWN0aW9uUGFuZWwuanMnO1xyXG5pbXBvcnQgUHJvcG9ydGlvbnNMZWdlbmROb2RlIGZyb20gJy4vUHJvcG9ydGlvbnNMZWdlbmROb2RlLmpzJztcclxuaW1wb3J0IEdlbmUgZnJvbSAnLi4vLi4vbW9kZWwvR2VuZS5qcyc7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0gRW1wdHlTZWxmT3B0aW9ucztcclxuXHJcbnR5cGUgUHJvcG9ydGlvbnNQYW5lbE9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIE5hdHVyYWxTZWxlY3Rpb25QYW5lbE9wdGlvbnM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wb3J0aW9uc1BhbmVsIGV4dGVuZHMgTmF0dXJhbFNlbGVjdGlvblBhbmVsIHtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBsZWdlbmROb2RlOiBQcm9wb3J0aW9uc0xlZ2VuZE5vZGU7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggZ2VuZVBvb2w6IEdlbmVQb29sLCB2YWx1ZXNWaXNpYmxlUHJvcGVydHk6IFByb3BlcnR5PGJvb2xlYW4+LCBwcm92aWRlZE9wdGlvbnM6IFByb3BvcnRpb25zUGFuZWxPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU0PFByb3BvcnRpb25zUGFuZWxPcHRpb25zLCBTZWxmT3B0aW9ucywgU3RyaWN0T21pdDxOYXR1cmFsU2VsZWN0aW9uUGFuZWxPcHRpb25zLCAndGFuZGVtJz4+KCkoXHJcbiAgICAgIHt9LCBOYXR1cmFsU2VsZWN0aW9uQ29uc3RhbnRzLlBBTkVMX09QVElPTlMsIHtcclxuXHJcbiAgICAgICAgLy8gTmF0dXJhbFNlbGVjdGlvblBhbmVsT3B0aW9uc1xyXG4gICAgICAgIGZpeGVkV2lkdGg6IDEwMFxyXG4gICAgICB9LCBwcm92aWRlZE9wdGlvbnMgKTtcclxuXHJcbiAgICBjb25zdCBsZWdlbmROb2RlID0gbmV3IFByb3BvcnRpb25zTGVnZW5kTm9kZSggZ2VuZVBvb2wsIHtcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdsZWdlbmROb2RlJyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3Qgc2VwYXJhdG9yID0gbmV3IEhTZXBhcmF0b3IoIHtcclxuICAgICAgc3Ryb2tlOiBOYXR1cmFsU2VsZWN0aW9uQ29sb3JzLlNFUEFSQVRPUl9TVFJPS0VcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBWYWx1ZXMgY2hlY2tib3gsIHNob3dzL2hpZGVzIHZhbHVlcyBvbiB0aGUgYmFyc1xyXG4gICAgY29uc3QgdmFsdWVzQ2hlY2tib3hUYW5kZW0gPSBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICd2YWx1ZXNDaGVja2JveCcgKTtcclxuICAgIGNvbnN0IHZhbHVlc0NoZWNrYm94TGFiZWxUZXh0ID0gbmV3IFRleHQoIE5hdHVyYWxTZWxlY3Rpb25TdHJpbmdzLnZhbHVlc1N0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIGZvbnQ6IE5hdHVyYWxTZWxlY3Rpb25Db25zdGFudHMuQ0hFQ0tCT1hfRk9OVCxcclxuICAgICAgbWF4V2lkdGg6IDEwMCwgLy8gZGV0ZXJtaW5lZCBlbXBpcmljYWxseVxyXG4gICAgICB0YW5kZW06IHZhbHVlc0NoZWNrYm94VGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2xhYmVsVGV4dCcgKVxyXG4gICAgfSApO1xyXG4gICAgY29uc3QgdmFsdWVzQ2hlY2tib3ggPSBuZXcgQ2hlY2tib3goIHZhbHVlc1Zpc2libGVQcm9wZXJ0eSwgdmFsdWVzQ2hlY2tib3hMYWJlbFRleHQsXHJcbiAgICAgIGNvbWJpbmVPcHRpb25zPENoZWNrYm94T3B0aW9ucz4oIHt9LCBOYXR1cmFsU2VsZWN0aW9uQ29uc3RhbnRzLkNIRUNLQk9YX09QVElPTlMsIHtcclxuICAgICAgICB0YW5kZW06IHZhbHVlc0NoZWNrYm94VGFuZGVtXHJcbiAgICAgIH0gKSApO1xyXG4gICAgY29uc3QgeERpbGF0aW9uID0gODtcclxuICAgIGNvbnN0IHlEaWxhdGlvbiA9IDY7XHJcbiAgICB2YWx1ZXNDaGVja2JveC50b3VjaEFyZWEgPSB2YWx1ZXNDaGVja2JveC5sb2NhbEJvdW5kcy5kaWxhdGVkWFkoIHhEaWxhdGlvbiwgeURpbGF0aW9uICk7XHJcbiAgICB2YWx1ZXNDaGVja2JveC5tb3VzZUFyZWEgPSB2YWx1ZXNDaGVja2JveC5sb2NhbEJvdW5kcy5kaWxhdGVkWFkoIHhEaWxhdGlvbiwgeURpbGF0aW9uICk7XHJcblxyXG4gICAgY29uc3QgY29udGVudCA9IG5ldyBWQm94KCBjb21iaW5lT3B0aW9uczxWQm94T3B0aW9ucz4oIHt9LCBOYXR1cmFsU2VsZWN0aW9uQ29uc3RhbnRzLlZCT1hfT1BUSU9OUywge1xyXG4gICAgICBwcmVmZXJyZWRXaWR0aDogb3B0aW9ucy5maXhlZFdpZHRoISAtICggMiAqIG9wdGlvbnMueE1hcmdpbiApLFxyXG4gICAgICB3aWR0aFNpemFibGU6IGZhbHNlLFxyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIGxlZ2VuZE5vZGUsXHJcbiAgICAgICAgc2VwYXJhdG9yLFxyXG4gICAgICAgIHZhbHVlc0NoZWNrYm94XHJcbiAgICAgIF1cclxuICAgIH0gKSApO1xyXG5cclxuICAgIHN1cGVyKCBjb250ZW50LCBvcHRpb25zICk7XHJcblxyXG4gICAgdGhpcy5sZWdlbmROb2RlID0gbGVnZW5kTm9kZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBkaXNwb3NlKCk6IHZvaWQge1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggZmFsc2UsICdkaXNwb3NlIGlzIG5vdCBzdXBwb3J0ZWQsIGV4aXN0cyBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBzaW0nICk7XHJcbiAgICBzdXBlci5kaXNwb3NlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHZpc2liaWxpdHkgb2YgdGhlIFVJIGNvbXBvbmVudHMgcmVsYXRlZCB0byBhIHNwZWNpZmljIGdlbmUuXHJcbiAgICovXHJcbiAgcHVibGljIHNldEdlbmVWaXNpYmxlKCBnZW5lOiBHZW5lLCB2aXNpYmxlOiBib29sZWFuICk6IHZvaWQge1xyXG4gICAgdGhpcy5sZWdlbmROb2RlLnNldEdlbmVWaXNpYmxlKCBnZW5lLCB2aXNpYmxlICk7XHJcbiAgfVxyXG59XHJcblxyXG5uYXR1cmFsU2VsZWN0aW9uLnJlZ2lzdGVyKCAnUHJvcG9ydGlvbnNQYW5lbCcsIFByb3BvcnRpb25zUGFuZWwgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0EsU0FBU0EsY0FBYyxFQUFvQkMsVUFBVSxRQUFRLDBDQUEwQztBQUV2RyxTQUFTQyxVQUFVLEVBQUVDLElBQUksRUFBRUMsSUFBSSxRQUFxQixzQ0FBc0M7QUFDMUYsT0FBT0MsUUFBUSxNQUEyQixtQ0FBbUM7QUFDN0UsT0FBT0MsZ0JBQWdCLE1BQU0sOEJBQThCO0FBQzNELE9BQU9DLHVCQUF1QixNQUFNLHFDQUFxQztBQUV6RSxPQUFPQyxzQkFBc0IsTUFBTSxpQ0FBaUM7QUFDcEUsT0FBT0MseUJBQXlCLE1BQU0sb0NBQW9DO0FBQzFFLE9BQU9DLHFCQUFxQixNQUF3Qyw2QkFBNkI7QUFDakcsT0FBT0MscUJBQXFCLE1BQU0sNEJBQTRCO0FBTzlELGVBQWUsTUFBTUMsZ0JBQWdCLFNBQVNGLHFCQUFxQixDQUFDO0VBSTNERyxXQUFXQSxDQUFFQyxRQUFrQixFQUFFQyxxQkFBd0MsRUFBRUMsZUFBd0MsRUFBRztJQUUzSCxNQUFNQyxPQUFPLEdBQUdoQixVQUFVLENBQTJGLENBQUMsQ0FDcEgsQ0FBQyxDQUFDLEVBQUVRLHlCQUF5QixDQUFDUyxhQUFhLEVBQUU7TUFFM0M7TUFDQUMsVUFBVSxFQUFFO0lBQ2QsQ0FBQyxFQUFFSCxlQUFnQixDQUFDO0lBRXRCLE1BQU1JLFVBQVUsR0FBRyxJQUFJVCxxQkFBcUIsQ0FBRUcsUUFBUSxFQUFFO01BQ3RETyxNQUFNLEVBQUVKLE9BQU8sQ0FBQ0ksTUFBTSxDQUFDQyxZQUFZLENBQUUsWUFBYTtJQUNwRCxDQUFFLENBQUM7SUFFSCxNQUFNQyxTQUFTLEdBQUcsSUFBSXJCLFVBQVUsQ0FBRTtNQUNoQ3NCLE1BQU0sRUFBRWhCLHNCQUFzQixDQUFDaUI7SUFDakMsQ0FBRSxDQUFDOztJQUVIO0lBQ0EsTUFBTUMsb0JBQW9CLEdBQUdULE9BQU8sQ0FBQ0ksTUFBTSxDQUFDQyxZQUFZLENBQUUsZ0JBQWlCLENBQUM7SUFDNUUsTUFBTUssdUJBQXVCLEdBQUcsSUFBSXhCLElBQUksQ0FBRUksdUJBQXVCLENBQUNxQixvQkFBb0IsRUFBRTtNQUN0RkMsSUFBSSxFQUFFcEIseUJBQXlCLENBQUNxQixhQUFhO01BQzdDQyxRQUFRLEVBQUUsR0FBRztNQUFFO01BQ2ZWLE1BQU0sRUFBRUssb0JBQW9CLENBQUNKLFlBQVksQ0FBRSxXQUFZO0lBQ3pELENBQUUsQ0FBQztJQUNILE1BQU1VLGNBQWMsR0FBRyxJQUFJM0IsUUFBUSxDQUFFVSxxQkFBcUIsRUFBRVksdUJBQXVCLEVBQ2pGM0IsY0FBYyxDQUFtQixDQUFDLENBQUMsRUFBRVMseUJBQXlCLENBQUN3QixnQkFBZ0IsRUFBRTtNQUMvRVosTUFBTSxFQUFFSztJQUNWLENBQUUsQ0FBRSxDQUFDO0lBQ1AsTUFBTVEsU0FBUyxHQUFHLENBQUM7SUFDbkIsTUFBTUMsU0FBUyxHQUFHLENBQUM7SUFDbkJILGNBQWMsQ0FBQ0ksU0FBUyxHQUFHSixjQUFjLENBQUNLLFdBQVcsQ0FBQ0MsU0FBUyxDQUFFSixTQUFTLEVBQUVDLFNBQVUsQ0FBQztJQUN2RkgsY0FBYyxDQUFDTyxTQUFTLEdBQUdQLGNBQWMsQ0FBQ0ssV0FBVyxDQUFDQyxTQUFTLENBQUVKLFNBQVMsRUFBRUMsU0FBVSxDQUFDO0lBRXZGLE1BQU1LLE9BQU8sR0FBRyxJQUFJcEMsSUFBSSxDQUFFSixjQUFjLENBQWUsQ0FBQyxDQUFDLEVBQUVTLHlCQUF5QixDQUFDZ0MsWUFBWSxFQUFFO01BQ2pHQyxjQUFjLEVBQUV6QixPQUFPLENBQUNFLFVBQVUsR0FBTSxDQUFDLEdBQUdGLE9BQU8sQ0FBQzBCLE9BQVM7TUFDN0RDLFlBQVksRUFBRSxLQUFLO01BQ25CQyxRQUFRLEVBQUUsQ0FDUnpCLFVBQVUsRUFDVkcsU0FBUyxFQUNUUyxjQUFjO0lBRWxCLENBQUUsQ0FBRSxDQUFDO0lBRUwsS0FBSyxDQUFFUSxPQUFPLEVBQUV2QixPQUFRLENBQUM7SUFFekIsSUFBSSxDQUFDRyxVQUFVLEdBQUdBLFVBQVU7RUFDOUI7RUFFZ0IwQixPQUFPQSxDQUFBLEVBQVM7SUFDOUJDLE1BQU0sSUFBSUEsTUFBTSxDQUFFLEtBQUssRUFBRSw4REFBK0QsQ0FBQztJQUN6RixLQUFLLENBQUNELE9BQU8sQ0FBQyxDQUFDO0VBQ2pCOztFQUVBO0FBQ0Y7QUFDQTtFQUNTRSxjQUFjQSxDQUFFQyxJQUFVLEVBQUVDLE9BQWdCLEVBQVM7SUFDMUQsSUFBSSxDQUFDOUIsVUFBVSxDQUFDNEIsY0FBYyxDQUFFQyxJQUFJLEVBQUVDLE9BQVEsQ0FBQztFQUNqRDtBQUNGO0FBRUE1QyxnQkFBZ0IsQ0FBQzZDLFFBQVEsQ0FBRSxrQkFBa0IsRUFBRXZDLGdCQUFpQixDQUFDIn0=