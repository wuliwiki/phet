// Copyright 2020-2022, University of Colorado Boulder

/**
 * GenesVisibilityManager manages the visibility of UI components that are related to specific genes.
 * This is a PhET-iO only feature, available in Studio. Via a set of Properties, all UI components related to
 * a gene can be shown/hidden, allowing the PhET-iO client to quickly configure the sim.
 * See https://github.com/phetsims/natural-selection/issues/70
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import optionize from '../../../../phet-core/js/optionize.js';
import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
import naturalSelection from '../../naturalSelection.js';
export default class GenesVisibilityManager {
  // Properties used to configure the UI. For use in Studio only, and exist for the lifetime of the sim.

  constructor(genePool, addMutationsPanel, populationNode, proportionsNode, pedigreeNode, providedOptions) {
    const options = optionize()({
      // SelfOptions
      furVisible: true,
      earsVisible: true,
      teethVisible: true
    }, providedOptions);

    /**
     * Creates a Property that controls the visibility of all UI components related to a gene.
     */
    function createGeneVisibleProperty(gene, visible, options) {
      const property = new BooleanProperty(visible, options);

      // Set the visibility of UI components related to the gene. unlink is not necessary.
      property.link(visible => {
        addMutationsPanel.setGeneVisible(gene, visible);
        populationNode.setGeneVisible(gene, visible);
        proportionsNode.setGeneVisible(gene, visible);
        pedigreeNode.setGeneVisible(gene, visible);
      });
      return property;
    }
    const template = 'sets the visibility of all user-interface components related to {{name}} for this screen';
    this.furVisibleProperty = createGeneVisibleProperty(genePool.furGene, options.furVisible, {
      tandem: options.tandem.createTandem('furVisibleProperty'),
      phetioDocumentation: StringUtils.fillIn(template, {
        name: 'Fur'
      })
    });
    this.earsVisibleProperty = createGeneVisibleProperty(genePool.earsGene, options.earsVisible, {
      tandem: options.tandem.createTandem('earsVisibleProperty'),
      phetioDocumentation: StringUtils.fillIn(template, {
        name: 'Ears'
      })
    });
    this.teethVisibleProperty = createGeneVisibleProperty(genePool.teethGene, options.teethVisible, {
      tandem: options.tandem.createTandem('teethVisibleProperty'),
      phetioDocumentation: StringUtils.fillIn(template, {
        name: 'Teeth'
      })
    });
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
  }
}
naturalSelection.register('GenesVisibilityManager', GenesVisibilityManager);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJvcHRpb25pemUiLCJTdHJpbmdVdGlscyIsIm5hdHVyYWxTZWxlY3Rpb24iLCJHZW5lc1Zpc2liaWxpdHlNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJnZW5lUG9vbCIsImFkZE11dGF0aW9uc1BhbmVsIiwicG9wdWxhdGlvbk5vZGUiLCJwcm9wb3J0aW9uc05vZGUiLCJwZWRpZ3JlZU5vZGUiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwiZnVyVmlzaWJsZSIsImVhcnNWaXNpYmxlIiwidGVldGhWaXNpYmxlIiwiY3JlYXRlR2VuZVZpc2libGVQcm9wZXJ0eSIsImdlbmUiLCJ2aXNpYmxlIiwicHJvcGVydHkiLCJsaW5rIiwic2V0R2VuZVZpc2libGUiLCJ0ZW1wbGF0ZSIsImZ1clZpc2libGVQcm9wZXJ0eSIsImZ1ckdlbmUiLCJ0YW5kZW0iLCJjcmVhdGVUYW5kZW0iLCJwaGV0aW9Eb2N1bWVudGF0aW9uIiwiZmlsbEluIiwibmFtZSIsImVhcnNWaXNpYmxlUHJvcGVydHkiLCJlYXJzR2VuZSIsInRlZXRoVmlzaWJsZVByb3BlcnR5IiwidGVldGhHZW5lIiwiZGlzcG9zZSIsImFzc2VydCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiR2VuZXNWaXNpYmlsaXR5TWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMC0yMDIyLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBHZW5lc1Zpc2liaWxpdHlNYW5hZ2VyIG1hbmFnZXMgdGhlIHZpc2liaWxpdHkgb2YgVUkgY29tcG9uZW50cyB0aGF0IGFyZSByZWxhdGVkIHRvIHNwZWNpZmljIGdlbmVzLlxyXG4gKiBUaGlzIGlzIGEgUGhFVC1pTyBvbmx5IGZlYXR1cmUsIGF2YWlsYWJsZSBpbiBTdHVkaW8uIFZpYSBhIHNldCBvZiBQcm9wZXJ0aWVzLCBhbGwgVUkgY29tcG9uZW50cyByZWxhdGVkIHRvXHJcbiAqIGEgZ2VuZSBjYW4gYmUgc2hvd24vaGlkZGVuLCBhbGxvd2luZyB0aGUgUGhFVC1pTyBjbGllbnQgdG8gcXVpY2tseSBjb25maWd1cmUgdGhlIHNpbS5cclxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9uYXR1cmFsLXNlbGVjdGlvbi9pc3N1ZXMvNzBcclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgQm9vbGVhblByb3BlcnR5LCB7IEJvb2xlYW5Qcm9wZXJ0eU9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Jvb2xlYW5Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuaW1wb3J0IFBpY2tSZXF1aXJlZCBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvUGlja1JlcXVpcmVkLmpzJztcclxuaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvdXRpbC9TdHJpbmdVdGlscy5qcyc7XHJcbmltcG9ydCB7IFBoZXRpb09iamVjdE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi90YW5kZW0vanMvUGhldGlvT2JqZWN0LmpzJztcclxuaW1wb3J0IG5hdHVyYWxTZWxlY3Rpb24gZnJvbSAnLi4vLi4vbmF0dXJhbFNlbGVjdGlvbi5qcyc7XHJcbmltcG9ydCBHZW5lIGZyb20gJy4uL21vZGVsL0dlbmUuanMnO1xyXG5pbXBvcnQgR2VuZVBvb2wgZnJvbSAnLi4vbW9kZWwvR2VuZVBvb2wuanMnO1xyXG5pbXBvcnQgQWRkTXV0YXRpb25zUGFuZWwgZnJvbSAnLi9BZGRNdXRhdGlvbnNQYW5lbC5qcyc7XHJcbmltcG9ydCBQZWRpZ3JlZU5vZGUgZnJvbSAnLi9wZWRpZ3JlZS9QZWRpZ3JlZU5vZGUuanMnO1xyXG5pbXBvcnQgUG9wdWxhdGlvbk5vZGUgZnJvbSAnLi9wb3B1bGF0aW9uL1BvcHVsYXRpb25Ob2RlLmpzJztcclxuaW1wb3J0IFByb3BvcnRpb25zTm9kZSBmcm9tICcuL3Byb3BvcnRpb25zL1Byb3BvcnRpb25zTm9kZS5qcyc7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG5cclxuICAvLyB3aGV0aGVyIHRoZSB1c2VyLWludGVyZmFjZSBmb3IgdGhlc2UgZmVhdHVyZXMgaXMgdmlzaWJsZVxyXG4gIGZ1clZpc2libGU/OiBib29sZWFuO1xyXG4gIGVhcnNWaXNpYmxlPzogYm9vbGVhbjtcclxuICB0ZWV0aFZpc2libGU/OiBib29sZWFuO1xyXG59O1xyXG5cclxudHlwZSBHZW5lc1Zpc2liaWxpdHlNYW5hZ2VyT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgUGlja1JlcXVpcmVkPFBoZXRpb09iamVjdE9wdGlvbnMsICd0YW5kZW0nPjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdlbmVzVmlzaWJpbGl0eU1hbmFnZXIge1xyXG5cclxuICAvLyBQcm9wZXJ0aWVzIHVzZWQgdG8gY29uZmlndXJlIHRoZSBVSS4gRm9yIHVzZSBpbiBTdHVkaW8gb25seSwgYW5kIGV4aXN0IGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIHNpbS5cclxuICBwcml2YXRlIHJlYWRvbmx5IGZ1clZpc2libGVQcm9wZXJ0eTogUHJvcGVydHk8Ym9vbGVhbj47XHJcbiAgcHJpdmF0ZSByZWFkb25seSBlYXJzVmlzaWJsZVByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPjtcclxuICBwcml2YXRlIHJlYWRvbmx5IHRlZXRoVmlzaWJsZVByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPjtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBnZW5lUG9vbDogR2VuZVBvb2wsIGFkZE11dGF0aW9uc1BhbmVsOiBBZGRNdXRhdGlvbnNQYW5lbCwgcG9wdWxhdGlvbk5vZGU6IFBvcHVsYXRpb25Ob2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcG9ydGlvbnNOb2RlOiBQcm9wb3J0aW9uc05vZGUsIHBlZGlncmVlTm9kZTogUGVkaWdyZWVOb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRPcHRpb25zOiBHZW5lc1Zpc2liaWxpdHlNYW5hZ2VyT3B0aW9ucyApIHtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPEdlbmVzVmlzaWJpbGl0eU1hbmFnZXJPcHRpb25zLCBTZWxmT3B0aW9ucz4oKSgge1xyXG5cclxuICAgICAgLy8gU2VsZk9wdGlvbnNcclxuICAgICAgZnVyVmlzaWJsZTogdHJ1ZSxcclxuICAgICAgZWFyc1Zpc2libGU6IHRydWUsXHJcbiAgICAgIHRlZXRoVmlzaWJsZTogdHJ1ZVxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgUHJvcGVydHkgdGhhdCBjb250cm9scyB0aGUgdmlzaWJpbGl0eSBvZiBhbGwgVUkgY29tcG9uZW50cyByZWxhdGVkIHRvIGEgZ2VuZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlR2VuZVZpc2libGVQcm9wZXJ0eShcclxuICAgICAgZ2VuZTogR2VuZSwgdmlzaWJsZTogYm9vbGVhbixcclxuICAgICAgb3B0aW9uczogUGlja1JlcXVpcmVkPEJvb2xlYW5Qcm9wZXJ0eU9wdGlvbnMsICd0YW5kZW0nIHwgJ3BoZXRpb0RvY3VtZW50YXRpb24nPiApOiBQcm9wZXJ0eTxib29sZWFuPiB7XHJcblxyXG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIHZpc2libGUsIG9wdGlvbnMgKTtcclxuXHJcbiAgICAgIC8vIFNldCB0aGUgdmlzaWJpbGl0eSBvZiBVSSBjb21wb25lbnRzIHJlbGF0ZWQgdG8gdGhlIGdlbmUuIHVubGluayBpcyBub3QgbmVjZXNzYXJ5LlxyXG4gICAgICBwcm9wZXJ0eS5saW5rKCB2aXNpYmxlID0+IHtcclxuICAgICAgICBhZGRNdXRhdGlvbnNQYW5lbC5zZXRHZW5lVmlzaWJsZSggZ2VuZSwgdmlzaWJsZSApO1xyXG4gICAgICAgIHBvcHVsYXRpb25Ob2RlLnNldEdlbmVWaXNpYmxlKCBnZW5lLCB2aXNpYmxlICk7XHJcbiAgICAgICAgcHJvcG9ydGlvbnNOb2RlLnNldEdlbmVWaXNpYmxlKCBnZW5lLCB2aXNpYmxlICk7XHJcbiAgICAgICAgcGVkaWdyZWVOb2RlLnNldEdlbmVWaXNpYmxlKCBnZW5lLCB2aXNpYmxlICk7XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAgIHJldHVybiBwcm9wZXJ0eTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZW1wbGF0ZSA9ICdzZXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFsbCB1c2VyLWludGVyZmFjZSBjb21wb25lbnRzIHJlbGF0ZWQgdG8ge3tuYW1lfX0gZm9yIHRoaXMgc2NyZWVuJztcclxuXHJcbiAgICB0aGlzLmZ1clZpc2libGVQcm9wZXJ0eSA9IGNyZWF0ZUdlbmVWaXNpYmxlUHJvcGVydHkoIGdlbmVQb29sLmZ1ckdlbmUsIG9wdGlvbnMuZnVyVmlzaWJsZSwge1xyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2Z1clZpc2libGVQcm9wZXJ0eScgKSxcclxuICAgICAgcGhldGlvRG9jdW1lbnRhdGlvbjogU3RyaW5nVXRpbHMuZmlsbEluKCB0ZW1wbGF0ZSwgeyBuYW1lOiAnRnVyJyB9IClcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLmVhcnNWaXNpYmxlUHJvcGVydHkgPSBjcmVhdGVHZW5lVmlzaWJsZVByb3BlcnR5KCBnZW5lUG9vbC5lYXJzR2VuZSwgb3B0aW9ucy5lYXJzVmlzaWJsZSwge1xyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2VhcnNWaXNpYmxlUHJvcGVydHknICksXHJcbiAgICAgIHBoZXRpb0RvY3VtZW50YXRpb246IFN0cmluZ1V0aWxzLmZpbGxJbiggdGVtcGxhdGUsIHsgbmFtZTogJ0VhcnMnIH0gKVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMudGVldGhWaXNpYmxlUHJvcGVydHkgPSBjcmVhdGVHZW5lVmlzaWJsZVByb3BlcnR5KCBnZW5lUG9vbC50ZWV0aEdlbmUsIG9wdGlvbnMudGVldGhWaXNpYmxlLCB7XHJcbiAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAndGVldGhWaXNpYmxlUHJvcGVydHknICksXHJcbiAgICAgIHBoZXRpb0RvY3VtZW50YXRpb246IFN0cmluZ1V0aWxzLmZpbGxJbiggdGVtcGxhdGUsIHsgbmFtZTogJ1RlZXRoJyB9IClcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggZmFsc2UsICdkaXNwb3NlIGlzIG5vdCBzdXBwb3J0ZWQsIGV4aXN0cyBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBzaW0nICk7XHJcbiAgfVxyXG59XHJcblxyXG5uYXR1cmFsU2VsZWN0aW9uLnJlZ2lzdGVyKCAnR2VuZXNWaXNpYmlsaXR5TWFuYWdlcicsIEdlbmVzVmlzaWJpbGl0eU1hbmFnZXIgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsZUFBZSxNQUFrQyx3Q0FBd0M7QUFFaEcsT0FBT0MsU0FBUyxNQUFNLHVDQUF1QztBQUU3RCxPQUFPQyxXQUFXLE1BQU0sK0NBQStDO0FBRXZFLE9BQU9DLGdCQUFnQixNQUFNLDJCQUEyQjtBQWtCeEQsZUFBZSxNQUFNQyxzQkFBc0IsQ0FBQztFQUUxQzs7RUFLT0MsV0FBV0EsQ0FBRUMsUUFBa0IsRUFBRUMsaUJBQW9DLEVBQUVDLGNBQThCLEVBQ3hGQyxlQUFnQyxFQUFFQyxZQUEwQixFQUM1REMsZUFBOEMsRUFBRztJQUVuRSxNQUFNQyxPQUFPLEdBQUdYLFNBQVMsQ0FBNkMsQ0FBQyxDQUFFO01BRXZFO01BQ0FZLFVBQVUsRUFBRSxJQUFJO01BQ2hCQyxXQUFXLEVBQUUsSUFBSTtNQUNqQkMsWUFBWSxFQUFFO0lBQ2hCLENBQUMsRUFBRUosZUFBZ0IsQ0FBQzs7SUFFcEI7QUFDSjtBQUNBO0lBQ0ksU0FBU0sseUJBQXlCQSxDQUNoQ0MsSUFBVSxFQUFFQyxPQUFnQixFQUM1Qk4sT0FBK0UsRUFBc0I7TUFFckcsTUFBTU8sUUFBUSxHQUFHLElBQUluQixlQUFlLENBQUVrQixPQUFPLEVBQUVOLE9BQVEsQ0FBQzs7TUFFeEQ7TUFDQU8sUUFBUSxDQUFDQyxJQUFJLENBQUVGLE9BQU8sSUFBSTtRQUN4QlgsaUJBQWlCLENBQUNjLGNBQWMsQ0FBRUosSUFBSSxFQUFFQyxPQUFRLENBQUM7UUFDakRWLGNBQWMsQ0FBQ2EsY0FBYyxDQUFFSixJQUFJLEVBQUVDLE9BQVEsQ0FBQztRQUM5Q1QsZUFBZSxDQUFDWSxjQUFjLENBQUVKLElBQUksRUFBRUMsT0FBUSxDQUFDO1FBQy9DUixZQUFZLENBQUNXLGNBQWMsQ0FBRUosSUFBSSxFQUFFQyxPQUFRLENBQUM7TUFDOUMsQ0FBRSxDQUFDO01BRUgsT0FBT0MsUUFBUTtJQUNqQjtJQUVBLE1BQU1HLFFBQVEsR0FBRywwRkFBMEY7SUFFM0csSUFBSSxDQUFDQyxrQkFBa0IsR0FBR1AseUJBQXlCLENBQUVWLFFBQVEsQ0FBQ2tCLE9BQU8sRUFBRVosT0FBTyxDQUFDQyxVQUFVLEVBQUU7TUFDekZZLE1BQU0sRUFBRWIsT0FBTyxDQUFDYSxNQUFNLENBQUNDLFlBQVksQ0FBRSxvQkFBcUIsQ0FBQztNQUMzREMsbUJBQW1CLEVBQUV6QixXQUFXLENBQUMwQixNQUFNLENBQUVOLFFBQVEsRUFBRTtRQUFFTyxJQUFJLEVBQUU7TUFBTSxDQUFFO0lBQ3JFLENBQUUsQ0FBQztJQUVILElBQUksQ0FBQ0MsbUJBQW1CLEdBQUdkLHlCQUF5QixDQUFFVixRQUFRLENBQUN5QixRQUFRLEVBQUVuQixPQUFPLENBQUNFLFdBQVcsRUFBRTtNQUM1RlcsTUFBTSxFQUFFYixPQUFPLENBQUNhLE1BQU0sQ0FBQ0MsWUFBWSxDQUFFLHFCQUFzQixDQUFDO01BQzVEQyxtQkFBbUIsRUFBRXpCLFdBQVcsQ0FBQzBCLE1BQU0sQ0FBRU4sUUFBUSxFQUFFO1FBQUVPLElBQUksRUFBRTtNQUFPLENBQUU7SUFDdEUsQ0FBRSxDQUFDO0lBRUgsSUFBSSxDQUFDRyxvQkFBb0IsR0FBR2hCLHlCQUF5QixDQUFFVixRQUFRLENBQUMyQixTQUFTLEVBQUVyQixPQUFPLENBQUNHLFlBQVksRUFBRTtNQUMvRlUsTUFBTSxFQUFFYixPQUFPLENBQUNhLE1BQU0sQ0FBQ0MsWUFBWSxDQUFFLHNCQUF1QixDQUFDO01BQzdEQyxtQkFBbUIsRUFBRXpCLFdBQVcsQ0FBQzBCLE1BQU0sQ0FBRU4sUUFBUSxFQUFFO1FBQUVPLElBQUksRUFBRTtNQUFRLENBQUU7SUFDdkUsQ0FBRSxDQUFDO0VBQ0w7RUFFT0ssT0FBT0EsQ0FBQSxFQUFTO0lBQ3JCQyxNQUFNLElBQUlBLE1BQU0sQ0FBRSxLQUFLLEVBQUUsOERBQStELENBQUM7RUFDM0Y7QUFDRjtBQUVBaEMsZ0JBQWdCLENBQUNpQyxRQUFRLENBQUUsd0JBQXdCLEVBQUVoQyxzQkFBdUIsQ0FBQyJ9