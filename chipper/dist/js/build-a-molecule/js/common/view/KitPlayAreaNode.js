// Copyright 2020-2021, University of Colorado Boulder

/**
 * Contains all of the atoms in the center of the screen. These are atoms that have been removed from a kit and not placed
 * in the collection area.
 *
 * @author Denzell Barnett (PhET Interactive Simulations)
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import Property from '../../../../axon/js/Property.js';
import { Node } from '../../../../scenery/js/imports.js';
import buildAMolecule from '../../buildAMolecule.js';
import MoleculeBondContainerNode from './MoleculeBondContainerNode.js';
class KitPlayAreaNode extends Node {
  /**
   * @param {Array.<Kit>} kits
   */
  constructor(kits) {
    super();

    // @public {Property.<Array[Kit]>} Kits included in this play area
    this.kitsProperty = new Property(kits);

    // @public {Kit|null} Current kit set when atomNode is dragged
    this.currentKit = null;

    // @public {Node} Layer that contains the buttons and name of the molecule
    this.metadataLayer = new Node();

    // @public {Node} Layer that contains the atoms
    this.atomLayer = new Node();

    // @private {Node} Layer that contains the cut targets used for breaking bonds
    this.moleculeBondContainerLayer = new Node();

    // @public {Object.<atom.id:number, AtomNode}
    this.atomNodeMap = {};

    // @public {Object.<moleculeId:number,MoleculeControlsHBox>}
    this.metadataMap = {};

    // @private {Object.<moleculeId, MoleculeBondContainerNode>}
    this.bondMap = {};

    // @private {Object.<kitId:number, activePropertyListener>}
    this.kitActivePropertyListenerMap = {};

    // Every kit maps the visibility of its atoms in the play area to its active property. Active kits
    // have visible atoms.
    this.kitsProperty.link((kits, oldKits) => {
      // Unlink the active property listeners for old kits
      oldKits && oldKits.forEach(oldKit => {
        oldKit.activeProperty.unlink(this.kitActivePropertyListenerMap[oldKit.id]);
        delete this.kitActivePropertyListenerMap[oldKit.id];
      });
      kits.forEach(kit => {
        // Link the active property listener to this kit
        const activePropertyListener = () => {
          this.atomLayer.children.forEach(atomNode => {
            // Check if the atom is in the kit's play area and toggle its visibility.
            atomNode.visible = kit.atomsInPlayArea.includes(atomNode.atom);
          });
          this.metadataLayer.children.forEach(metadataNode => {
            // Check if the metadata molecule is a part of the active kit molecules  and toggle its visibility.
            metadataNode.visible = _.includes(kit.molecules, metadataNode.molecule);
          });
        };
        kit.activeProperty.link(activePropertyListener);
        this.kitActivePropertyListenerMap[kit.id] = activePropertyListener;
      });
    });
    this.addChild(this.atomLayer);
    this.addChild(this.metadataLayer);
    this.addChild(this.moleculeBondContainerLayer);
  }

  /**
   * Add molecule bond nodes to the kit play area and its map.
   * @param {Molecule} molecule
   *
   * @public
   */
  addMoleculeBondNodes(molecule) {
    const moleculeBondContainerNode = new MoleculeBondContainerNode(this.currentKit, molecule);
    this.moleculeBondContainerLayer.addChild(moleculeBondContainerNode);
    this.bondMap[molecule.moleculeId] = moleculeBondContainerNode;
  }

  /**
   * Remove molecule bond nodes to the kit play area and its map.
   * @param {Molecule} molecule
   *
   * @public
   */
  removeMoleculeBondNodes(molecule) {
    const moleculeBondContainerNode = this.bondMap[molecule.moleculeId];
    this.moleculeBondContainerLayer.removeChild(moleculeBondContainerNode);
    moleculeBondContainerNode.dispose();
    delete this.bondMap[molecule.moleculeId];
  }

  /**
   * Resets the kit of play area.
   *
   * @public
   */
  resetPlayAreaKit() {
    this.currentKit.reset();
  }
}
buildAMolecule.register('KitPlayAreaNode', KitPlayAreaNode);
export default KitPlayAreaNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIk5vZGUiLCJidWlsZEFNb2xlY3VsZSIsIk1vbGVjdWxlQm9uZENvbnRhaW5lck5vZGUiLCJLaXRQbGF5QXJlYU5vZGUiLCJjb25zdHJ1Y3RvciIsImtpdHMiLCJraXRzUHJvcGVydHkiLCJjdXJyZW50S2l0IiwibWV0YWRhdGFMYXllciIsImF0b21MYXllciIsIm1vbGVjdWxlQm9uZENvbnRhaW5lckxheWVyIiwiYXRvbU5vZGVNYXAiLCJtZXRhZGF0YU1hcCIsImJvbmRNYXAiLCJraXRBY3RpdmVQcm9wZXJ0eUxpc3RlbmVyTWFwIiwibGluayIsIm9sZEtpdHMiLCJmb3JFYWNoIiwib2xkS2l0IiwiYWN0aXZlUHJvcGVydHkiLCJ1bmxpbmsiLCJpZCIsImtpdCIsImFjdGl2ZVByb3BlcnR5TGlzdGVuZXIiLCJjaGlsZHJlbiIsImF0b21Ob2RlIiwidmlzaWJsZSIsImF0b21zSW5QbGF5QXJlYSIsImluY2x1ZGVzIiwiYXRvbSIsIm1ldGFkYXRhTm9kZSIsIl8iLCJtb2xlY3VsZXMiLCJtb2xlY3VsZSIsImFkZENoaWxkIiwiYWRkTW9sZWN1bGVCb25kTm9kZXMiLCJtb2xlY3VsZUJvbmRDb250YWluZXJOb2RlIiwibW9sZWN1bGVJZCIsInJlbW92ZU1vbGVjdWxlQm9uZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJkaXNwb3NlIiwicmVzZXRQbGF5QXJlYUtpdCIsInJlc2V0IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJLaXRQbGF5QXJlYU5vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjAtMjAyMSwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQ29udGFpbnMgYWxsIG9mIHRoZSBhdG9tcyBpbiB0aGUgY2VudGVyIG9mIHRoZSBzY3JlZW4uIFRoZXNlIGFyZSBhdG9tcyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkIGZyb20gYSBraXQgYW5kIG5vdCBwbGFjZWRcclxuICogaW4gdGhlIGNvbGxlY3Rpb24gYXJlYS5cclxuICpcclxuICogQGF1dGhvciBEZW56ZWxsIEJhcm5ldHQgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgSm9uYXRoYW4gT2xzb24gPGpvbmF0aGFuLm9sc29uQGNvbG9yYWRvLmVkdT5cclxuICovXHJcblxyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCB7IE5vZGUgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgYnVpbGRBTW9sZWN1bGUgZnJvbSAnLi4vLi4vYnVpbGRBTW9sZWN1bGUuanMnO1xyXG5pbXBvcnQgTW9sZWN1bGVCb25kQ29udGFpbmVyTm9kZSBmcm9tICcuL01vbGVjdWxlQm9uZENvbnRhaW5lck5vZGUuanMnO1xyXG5cclxuY2xhc3MgS2l0UGxheUFyZWFOb2RlIGV4dGVuZHMgTm9kZSB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtBcnJheS48S2l0Pn0ga2l0c1xyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBraXRzICkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICAvLyBAcHVibGljIHtQcm9wZXJ0eS48QXJyYXlbS2l0XT59IEtpdHMgaW5jbHVkZWQgaW4gdGhpcyBwbGF5IGFyZWFcclxuICAgIHRoaXMua2l0c1Byb3BlcnR5ID0gbmV3IFByb3BlcnR5KCBraXRzICk7XHJcblxyXG4gICAgLy8gQHB1YmxpYyB7S2l0fG51bGx9IEN1cnJlbnQga2l0IHNldCB3aGVuIGF0b21Ob2RlIGlzIGRyYWdnZWRcclxuICAgIHRoaXMuY3VycmVudEtpdCA9IG51bGw7XHJcblxyXG4gICAgLy8gQHB1YmxpYyB7Tm9kZX0gTGF5ZXIgdGhhdCBjb250YWlucyB0aGUgYnV0dG9ucyBhbmQgbmFtZSBvZiB0aGUgbW9sZWN1bGVcclxuICAgIHRoaXMubWV0YWRhdGFMYXllciA9IG5ldyBOb2RlKCk7XHJcblxyXG4gICAgLy8gQHB1YmxpYyB7Tm9kZX0gTGF5ZXIgdGhhdCBjb250YWlucyB0aGUgYXRvbXNcclxuICAgIHRoaXMuYXRvbUxheWVyID0gbmV3IE5vZGUoKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSB7Tm9kZX0gTGF5ZXIgdGhhdCBjb250YWlucyB0aGUgY3V0IHRhcmdldHMgdXNlZCBmb3IgYnJlYWtpbmcgYm9uZHNcclxuICAgIHRoaXMubW9sZWN1bGVCb25kQ29udGFpbmVyTGF5ZXIgPSBuZXcgTm9kZSgpO1xyXG5cclxuICAgIC8vIEBwdWJsaWMge09iamVjdC48YXRvbS5pZDpudW1iZXIsIEF0b21Ob2RlfVxyXG4gICAgdGhpcy5hdG9tTm9kZU1hcCA9IHt9O1xyXG5cclxuICAgIC8vIEBwdWJsaWMge09iamVjdC48bW9sZWN1bGVJZDpudW1iZXIsTW9sZWN1bGVDb250cm9sc0hCb3g+fVxyXG4gICAgdGhpcy5tZXRhZGF0YU1hcCA9IHt9O1xyXG5cclxuICAgIC8vIEBwcml2YXRlIHtPYmplY3QuPG1vbGVjdWxlSWQsIE1vbGVjdWxlQm9uZENvbnRhaW5lck5vZGU+fVxyXG4gICAgdGhpcy5ib25kTWFwID0ge307XHJcblxyXG4gICAgLy8gQHByaXZhdGUge09iamVjdC48a2l0SWQ6bnVtYmVyLCBhY3RpdmVQcm9wZXJ0eUxpc3RlbmVyPn1cclxuICAgIHRoaXMua2l0QWN0aXZlUHJvcGVydHlMaXN0ZW5lck1hcCA9IHt9O1xyXG5cclxuICAgIC8vIEV2ZXJ5IGtpdCBtYXBzIHRoZSB2aXNpYmlsaXR5IG9mIGl0cyBhdG9tcyBpbiB0aGUgcGxheSBhcmVhIHRvIGl0cyBhY3RpdmUgcHJvcGVydHkuIEFjdGl2ZSBraXRzXHJcbiAgICAvLyBoYXZlIHZpc2libGUgYXRvbXMuXHJcbiAgICB0aGlzLmtpdHNQcm9wZXJ0eS5saW5rKCAoIGtpdHMsIG9sZEtpdHMgKSA9PiB7XHJcblxyXG4gICAgICAvLyBVbmxpbmsgdGhlIGFjdGl2ZSBwcm9wZXJ0eSBsaXN0ZW5lcnMgZm9yIG9sZCBraXRzXHJcbiAgICAgIG9sZEtpdHMgJiYgb2xkS2l0cy5mb3JFYWNoKCBvbGRLaXQgPT4ge1xyXG4gICAgICAgIG9sZEtpdC5hY3RpdmVQcm9wZXJ0eS51bmxpbmsoIHRoaXMua2l0QWN0aXZlUHJvcGVydHlMaXN0ZW5lck1hcFsgb2xkS2l0LmlkIF0gKTtcclxuICAgICAgICBkZWxldGUgdGhpcy5raXRBY3RpdmVQcm9wZXJ0eUxpc3RlbmVyTWFwWyBvbGRLaXQuaWQgXTtcclxuICAgICAgfSApO1xyXG4gICAgICBraXRzLmZvckVhY2goIGtpdCA9PiB7XHJcblxyXG4gICAgICAgIC8vIExpbmsgdGhlIGFjdGl2ZSBwcm9wZXJ0eSBsaXN0ZW5lciB0byB0aGlzIGtpdFxyXG4gICAgICAgIGNvbnN0IGFjdGl2ZVByb3BlcnR5TGlzdGVuZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmF0b21MYXllci5jaGlsZHJlbi5mb3JFYWNoKCBhdG9tTm9kZSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgYXRvbSBpcyBpbiB0aGUga2l0J3MgcGxheSBhcmVhIGFuZCB0b2dnbGUgaXRzIHZpc2liaWxpdHkuXHJcbiAgICAgICAgICAgIGF0b21Ob2RlLnZpc2libGUgPSBraXQuYXRvbXNJblBsYXlBcmVhLmluY2x1ZGVzKCBhdG9tTm9kZS5hdG9tICk7XHJcbiAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICB0aGlzLm1ldGFkYXRhTGF5ZXIuY2hpbGRyZW4uZm9yRWFjaCggbWV0YWRhdGFOb2RlID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBtZXRhZGF0YSBtb2xlY3VsZSBpcyBhIHBhcnQgb2YgdGhlIGFjdGl2ZSBraXQgbW9sZWN1bGVzICBhbmQgdG9nZ2xlIGl0cyB2aXNpYmlsaXR5LlxyXG4gICAgICAgICAgICBtZXRhZGF0YU5vZGUudmlzaWJsZSA9IF8uaW5jbHVkZXMoIGtpdC5tb2xlY3VsZXMsIG1ldGFkYXRhTm9kZS5tb2xlY3VsZSApO1xyXG4gICAgICAgICAgfSApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAga2l0LmFjdGl2ZVByb3BlcnR5LmxpbmsoIGFjdGl2ZVByb3BlcnR5TGlzdGVuZXIgKTtcclxuICAgICAgICB0aGlzLmtpdEFjdGl2ZVByb3BlcnR5TGlzdGVuZXJNYXBbIGtpdC5pZCBdID0gYWN0aXZlUHJvcGVydHlMaXN0ZW5lcjtcclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5hdG9tTGF5ZXIgKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHRoaXMubWV0YWRhdGFMYXllciApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5tb2xlY3VsZUJvbmRDb250YWluZXJMYXllciApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIG1vbGVjdWxlIGJvbmQgbm9kZXMgdG8gdGhlIGtpdCBwbGF5IGFyZWEgYW5kIGl0cyBtYXAuXHJcbiAgICogQHBhcmFtIHtNb2xlY3VsZX0gbW9sZWN1bGVcclxuICAgKlxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBhZGRNb2xlY3VsZUJvbmROb2RlcyggbW9sZWN1bGUgKSB7XHJcbiAgICBjb25zdCBtb2xlY3VsZUJvbmRDb250YWluZXJOb2RlID0gbmV3IE1vbGVjdWxlQm9uZENvbnRhaW5lck5vZGUoIHRoaXMuY3VycmVudEtpdCwgbW9sZWN1bGUgKTtcclxuICAgIHRoaXMubW9sZWN1bGVCb25kQ29udGFpbmVyTGF5ZXIuYWRkQ2hpbGQoIG1vbGVjdWxlQm9uZENvbnRhaW5lck5vZGUgKTtcclxuICAgIHRoaXMuYm9uZE1hcFsgbW9sZWN1bGUubW9sZWN1bGVJZCBdID0gbW9sZWN1bGVCb25kQ29udGFpbmVyTm9kZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBtb2xlY3VsZSBib25kIG5vZGVzIHRvIHRoZSBraXQgcGxheSBhcmVhIGFuZCBpdHMgbWFwLlxyXG4gICAqIEBwYXJhbSB7TW9sZWN1bGV9IG1vbGVjdWxlXHJcbiAgICpcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgcmVtb3ZlTW9sZWN1bGVCb25kTm9kZXMoIG1vbGVjdWxlICkge1xyXG4gICAgY29uc3QgbW9sZWN1bGVCb25kQ29udGFpbmVyTm9kZSA9IHRoaXMuYm9uZE1hcFsgbW9sZWN1bGUubW9sZWN1bGVJZCBdO1xyXG4gICAgdGhpcy5tb2xlY3VsZUJvbmRDb250YWluZXJMYXllci5yZW1vdmVDaGlsZCggbW9sZWN1bGVCb25kQ29udGFpbmVyTm9kZSApO1xyXG4gICAgbW9sZWN1bGVCb25kQ29udGFpbmVyTm9kZS5kaXNwb3NlKCk7XHJcbiAgICBkZWxldGUgdGhpcy5ib25kTWFwWyBtb2xlY3VsZS5tb2xlY3VsZUlkIF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXNldHMgdGhlIGtpdCBvZiBwbGF5IGFyZWEuXHJcbiAgICpcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgcmVzZXRQbGF5QXJlYUtpdCgpIHtcclxuICAgIHRoaXMuY3VycmVudEtpdC5yZXNldCgpO1xyXG4gIH1cclxufVxyXG5cclxuYnVpbGRBTW9sZWN1bGUucmVnaXN0ZXIoICdLaXRQbGF5QXJlYU5vZGUnLCBLaXRQbGF5QXJlYU5vZGUgKTtcclxuZXhwb3J0IGRlZmF1bHQgS2l0UGxheUFyZWFOb2RlOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsUUFBUSxNQUFNLGlDQUFpQztBQUN0RCxTQUFTQyxJQUFJLFFBQVEsbUNBQW1DO0FBQ3hELE9BQU9DLGNBQWMsTUFBTSx5QkFBeUI7QUFDcEQsT0FBT0MseUJBQXlCLE1BQU0sZ0NBQWdDO0FBRXRFLE1BQU1DLGVBQWUsU0FBU0gsSUFBSSxDQUFDO0VBQ2pDO0FBQ0Y7QUFDQTtFQUNFSSxXQUFXQSxDQUFFQyxJQUFJLEVBQUc7SUFDbEIsS0FBSyxDQUFDLENBQUM7O0lBRVA7SUFDQSxJQUFJ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