// Copyright 2014-2022, University of Colorado Boulder

/**
 * SceneFactory enumerates and declares the possible modes in the GravityAndOrbitsModel, such as 'Star + Planet' scene.
 * Models (and the bodies they contain) are created in SceneFactory.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 * @author Aaron Davis (PhET Interactive Simulations)
 */

import Utils from '../../../dot/js/Utils.js';
import Vector2 from '../../../dot/js/Vector2.js';
import StringUtils from '../../../phetcommon/js/util/StringUtils.js';
import { Color, HBox, Image, Line } from '../../../scenery/js/imports.js';
import earth_png from '../../mipmaps/earth_png.js';
import moonGeneric_png from '../../mipmaps/moonGeneric_png.js';
import moon_png from '../../mipmaps/moon_png.js';
import planetGeneric_png from '../../mipmaps/planetGeneric_png.js';
import spaceStation_png from '../../mipmaps/spaceStation_png.js';
import sun_png from '../../mipmaps/sun_png.js';
import gravityAndOrbits from '../gravityAndOrbits.js';
import GravityAndOrbitsStrings from '../GravityAndOrbitsStrings.js';
import GravityAndOrbitsConstants from './GravityAndOrbitsConstants.js';
import GravityAndOrbitsScene from './GravityAndOrbitsScene.js';
import Body from './model/Body.js';
import BodyConfiguration from './model/BodyConfiguration.js';
import GravityAndOrbitsClock from './model/GravityAndOrbitsClock.js';
import ModeConfig from './model/ModeConfig.js';
import Pair from './model/Pair.js';
import { ImageRenderer, SwitchableBodyRenderer } from './view/BodyRenderer.js';
import EarthMassReadoutNode from './view/EarthMassReadoutNode.js';
import SpaceStationMassReadoutNode from './view/SpaceStationMassReadoutNode.js';
import VectorNode from './view/VectorNode.js';
import optionize from '../../../phet-core/js/optionize.js';
import DerivedProperty from '../../../axon/js/DerivedProperty.js';
import StringIO from '../../../tandem/js/types/StringIO.js';

// These constants are only used in SceneFactory, and SceneFactory is used to create the specific model instantiations,
// so we keep them here instead of the model.
const SUN_RADIUS = 6.957E8; // m
const SUN_MASS = 1.989E30; // kg
const EARTH_RADIUS = 6.371E6;
const EARTH_MASS = GravityAndOrbitsConstants.EARTH_MASS;
const EARTH_PERIHELION = 147098074E3; // m, distance from the sun at the closest point
const EARTH_ORBITAL_SPEED_AT_PERIHELION = 30300; // m/s
const MOON_MASS = 7.346E22;
const MOON_RADIUS = 1727.4E3;
const MOON_SPEED_AT_PERIGEE = -1082; // m/s
const MOON_PERIGEE = 363300E3; // km, distance from earth at closet point
const MOON_X = EARTH_PERIHELION;
const MOON_Y = MOON_PERIGEE;

// see http://en.wikipedia.org/wiki/International_Space_Station
const SPACE_STATION_RADIUS = 91 / 2;
const SPACE_STATION_MASS = GravityAndOrbitsConstants.SPACE_STATION_MASS;
const SPACE_STATION_SPEED = 7706;
const SPACE_STATION_PERIGEE = 347000;

// orbital period of the space station, in seconds
// orbit determined to be 91.4 days, by inspection
const SPACE_STATION_ORBITAL_PERIOD = 91.4 * 60;
const SECONDS_PER_MINUTE = 60;
const FORCE_SCALE = VectorNode.FORCE_SCALE;
const DEFAULT_DT = GravityAndOrbitsClock.DEFAULT_DT;
class SceneFactory {
  constructor(model, planetStar, sunEarthMoon, earthMoon, earthSpaceStation, modelTandem, viewTandem, providedOptions) {
    const options = optionize()({
      adjustMoonPathLength: false,
      // increase the moon path so that it matches other traces at default settings
      adjustMoonOrbit: false
    }, providedOptions);
    this.scenes = []; // in the java version this class extended ArrayList, but here we have an array field

    planetStar.center();
    sunEarthMoon.center();
    earthMoon.center();
    earthSpaceStation.center();
    const readoutInEarthMasses = (bodyNode, visibleProperty) => new EarthMassReadoutNode(bodyNode, visibleProperty);

    // Create the actual modes (GravityAndOrbitsModes) from the specifications passed in (ModeConfigs).
    const SUN_MODES_VELOCITY_SCALE = 4.48E6;
    const starPlanetSceneTandem = modelTandem.createTandem('starPlanetScene');
    const star0 = new Star(model, planetStar.sun, starPlanetSceneTandem.createTandem('star'), {
      maxPathLength: 345608942000 // in km
    });

    const planet0 = new Planet(model, planetStar.planet, starPlanetSceneTandem.createTandem('planet'));
    this.scenes.push(new GravityAndOrbitsScene(model, planetStar, scaledDays, this.createIconImage(true, true, false, false), SUN_MODES_VELOCITY_SCALE, readoutInEarthMasses, planetStar.planet.x / 2, starPlanetSceneTandem, viewTandem.createTandem(GravityAndOrbitsConstants.PLAY_AREA_TANDEM_NAME).createTandem('starPlanetSceneView'), [star0, planet0], [new Pair(star0, planet0, starPlanetSceneTandem.createTandem('starPlanetPair'))]));

    // increase moon path length so that it fades away with other bodies in model coordinates (at default orbit)
    const pathLengthBuffer = options.adjustMoonPathLength ? sunEarthMoon.moon.x / 2 : 0;
    const starPlanetMoonSceneTandem = modelTandem.createTandem('starPlanetMoonScene');
    const star1 = new Star(model, sunEarthMoon.sun, starPlanetMoonSceneTandem.createTandem('star'), {
      maxPathLength: 345608942000 // in km
    });

    const planet1 = new Planet(model, sunEarthMoon.planet, starPlanetMoonSceneTandem.createTandem('planet'), {
      touchDilation: 2
    });
    const moon1 = new Moon(model, false,
    // no room for the slider
    false,
    // so it doesn't intersect with earth mass readout
    sunEarthMoon.moon, starPlanetMoonSceneTandem.createTandem('moon'), {
      pathLengthBuffer: pathLengthBuffer,
      touchDilation: 5
    });
    this.scenes.push(new GravityAndOrbitsScene(model, sunEarthMoon, scaledDays, this.createIconImage(true, true, true, false), SUN_MODES_VELOCITY_SCALE, readoutInEarthMasses, sunEarthMoon.planet.x / 2, starPlanetMoonSceneTandem, viewTandem.createTandem(GravityAndOrbitsConstants.PLAY_AREA_TANDEM_NAME).createTandem('starPlanetMoonSceneView'), [star1, planet1, moon1], [new Pair(star1, planet1, starPlanetMoonSceneTandem.createTandem('starPlanetPair')), new Pair(star1, moon1, starPlanetMoonSceneTandem.createTandem('starMoonPair')), new Pair(planet1, moon1, starPlanetMoonSceneTandem.createTandem('planetMoonPair'))], {
      adjustMoonOrbit: options.adjustMoonOrbit
    }));
    const planetMoonSceneTandem = modelTandem.createTandem('planetMoonScene');
    const planet2 = new Planet(model, earthMoon.planet, planetMoonSceneTandem.createTandem('planet'), {
      orbitalCenter: new Vector2(earthMoon.planet.x, earthMoon.planet.y)
    });
    const moon2 = new Moon(model, true, true, earthMoon.moon, planetMoonSceneTandem.createTandem('moon'), {
      orbitalCenter: new Vector2(earthMoon.planet.x, earthMoon.planet.y),
      rotationPeriod: earthMoon.moon.rotationPeriod
    });
    this.scenes.push(new GravityAndOrbitsScene(model, earthMoon, scaledDays, this.createIconImage(false, true, true, false), SUN_MODES_VELOCITY_SCALE * 0.06, readoutInEarthMasses, earthMoon.moon.y / 2, planetMoonSceneTandem, viewTandem.createTandem(GravityAndOrbitsConstants.PLAY_AREA_TANDEM_NAME).createTandem('planetMoonSceneView'), [planet2, moon2], [new Pair(planet2, moon2, planetMoonSceneTandem.createTandem('planetMoonPair'))], {
      gridCenter: new Vector2(earthMoon.planet.x, 0)
    }));
    const spaceStationMassReadoutFactory = (bodyNode, visibleProperty) => new SpaceStationMassReadoutNode(bodyNode, visibleProperty);
    const planetSatelliteSceneTandem = modelTandem.createTandem('planetSatelliteScene');
    const planet3 = new Planet(model, earthSpaceStation.planet, planetSatelliteSceneTandem.createTandem('planet'), {
      maxPathLength: 35879455,
      // in km
      touchDilation: 0
    });
    const satellite3 = new Satellite(model, earthSpaceStation, planetSatelliteSceneTandem.createTandem('satellite'), {
      rotationPeriod: earthSpaceStation.satellite.rotationPeriod
    });
    this.scenes.push(new GravityAndOrbitsScene(model, earthSpaceStation, formatMinutes, this.createIconImage(false, true, false, true), SUN_MODES_VELOCITY_SCALE / 10000, spaceStationMassReadoutFactory, earthSpaceStation.satellite.x - earthSpaceStation.planet.x, planetSatelliteSceneTandem, viewTandem.createTandem(GravityAndOrbitsConstants.PLAY_AREA_TANDEM_NAME).createTandem('planetSatelliteSceneView'), [planet3, satellite3], [new Pair(planet3, satellite3, planetSatelliteSceneTandem.createTandem('planetSatellitePair'))], {
      gridCenter: new Vector2(earthSpaceStation.planet.x, 0)
    }));
  }

  /**
   * Creates an image that can be used for the scene icon, showing the nodes of each body in the mode.
   */
  createIconImage(sun, earth, moon, spaceStation) {
    const children = [new Image(sun_png, {
      visible: sun
    }), new Image(earth_png, {
      visible: earth
    }), new Image(moon_png, {
      visible: moon
    }), new Image(spaceStation_png, {
      visible: spaceStation
    })];
    for (let i = 0; i < children.length; i++) {
      children[i].setScaleMagnitude(25 / children[i].width);
    }
    return new HBox({
      children: children,
      spacing: 20,
      excludeInvisibleChildrenFromBounds: false
    });
  }
}
class SunEarthModeConfig extends ModeConfig {
  constructor() {
    super(1.25);
    this.sun = new BodyConfiguration(SUN_MASS, SUN_RADIUS, 0, 0, 0, 0);
    this.planet = new BodyConfiguration(EARTH_MASS, EARTH_RADIUS, EARTH_PERIHELION, 0, 0, EARTH_ORBITAL_SPEED_AT_PERIHELION);
    this.initialMeasuringTapePosition = new Line((this.sun.x + this.planet.x) / 3, -this.planet.x / 2, (this.sun.x + this.planet.x) / 3 + 80000000 * 1000, -this.planet.x / 2);
    this.forceScale = FORCE_SCALE * 120;
  }
  getBodies() {
    return [this.sun, this.planet];
  }
}

// static class: SunEarthMoonModeConfig
class SunEarthMoonModeConfig extends ModeConfig {
  constructor() {
    super(1.25);
    this.sun = new BodyConfiguration(SUN_MASS, SUN_RADIUS, 0, 0, 0, 0);
    this.planet = new BodyConfiguration(EARTH_MASS, EARTH_RADIUS, EARTH_PERIHELION, 0, 0, EARTH_ORBITAL_SPEED_AT_PERIHELION);
    this.moon = new BodyConfiguration(MOON_MASS, MOON_RADIUS, MOON_X, MOON_Y, MOON_SPEED_AT_PERIGEE, EARTH_ORBITAL_SPEED_AT_PERIHELION);
    this.initialMeasuringTapePosition = new Line((this.sun.x + this.planet.x) / 3, -this.planet.x / 2, (this.sun.x + this.planet.x) / 3 + 80000000 * 1000, -this.planet.x / 2);
    this.forceScale = FORCE_SCALE * 120;
  }
  getBodies() {
    return [this.sun, this.planet, this.moon];
  }
}
class PlanetMoonModeConfig extends ModeConfig {
  /**
   * Configuration for the Earth+Moon system.
   */
  constructor(providedOptions) {
    const options = optionize()({
      moonRotationPeriod: null // rotation period for the moon in seconds, null means no rotation
    }, providedOptions);
    super(400);

    // We want to center the overall motion of the system, but specify the relative speed of the moon to be
    // equal to MOON_SPEED_AT_PERIGEE
    const planetVelocityX = MOON_MASS * 1082 / (EARTH_MASS + MOON_MASS);
    const moonVelocityX = planetVelocityX - Math.abs(MOON_SPEED_AT_PERIGEE);
    this.planet = new BodyConfiguration(EARTH_MASS, EARTH_RADIUS, EARTH_PERIHELION, 0, planetVelocityX, 0);
    this.moon = new BodyConfiguration(MOON_MASS, MOON_RADIUS, MOON_X, MOON_Y, moonVelocityX, 0, {
      rotationPeriod: options.moonRotationPeriod || null
    });
    this.initialMeasuringTapePosition = new Line(this.planet.x + this.planet.radius * 2, -this.moon.y * 0.7, this.planet.x + this.planet.radius * 2 + 150000 * 1000, -this.moon.y * 0.7);
    this.forceScale = FORCE_SCALE * 45;
    this.dt = DEFAULT_DT / 3; // actual days
  }

  getBodies() {
    return [this.planet, this.moon];
  }
}
class EarthSpaceStationModeConfig extends ModeConfig {
  /**
   * @param [spaceStationRotationPeriod] - in seconds
   */
  constructor(spaceStationRotationPeriod = SPACE_STATION_ORBITAL_PERIOD) {
    super(21600);
    this.planet = new BodyConfiguration(EARTH_MASS, EARTH_RADIUS, 0, 0, 0, 0);
    this.satellite = new BodyConfiguration(SPACE_STATION_MASS, SPACE_STATION_RADIUS, SPACE_STATION_PERIGEE + EARTH_RADIUS + SPACE_STATION_RADIUS, 0, 0, SPACE_STATION_SPEED, {
      rotationPeriod: spaceStationRotationPeriod
    });

    // Sampled at runtime from MeasuringTape
    const x0 = 3162119;
    this.initialMeasuringTapePosition = new Line(x0, 7680496, x0 + 3000 * 1000, 7680496);
    this.forceScale = FORCE_SCALE * 3E13;
    this.dt = DEFAULT_DT * 9E-4;
  }
  getBodies() {
    return [this.planet, this.satellite];
  }
}

/**
 * Creates a BodyRenderer that just shows the specified image
 */
const getImageRenderer = image => {
  return (body, viewDiameter) => new ImageRenderer(body, viewDiameter, image);
};

/**
 * Creates a BodyRenderer that shows an image when at the targetMass, otherwise shows a shaded sphere
 */
const getSwitchableRenderer = (image1, image2, targetMass) => {
  // the mass for which to use the image
  return (body, viewDiameter) => new SwitchableBodyRenderer(body, targetMass, new ImageRenderer(body, viewDiameter, image1), new ImageRenderer(body, viewDiameter, image2));
};

/**
 * Have to artificially scale up the time readout so that Sun/Earth/Moon scene has a stable orbit with correct periods
 */
const scaledDays = (timeProperty, tandem) => {
  return new DerivedProperty([timeProperty, GravityAndOrbitsStrings.earthDaysStringProperty, GravityAndOrbitsStrings.pattern['0value']['1unitsStringProperty']], (time, earthDaysString, patternString) => {
    const value = time / GravityAndOrbitsClock.SECONDS_PER_DAY;
    const fixedValue = Utils.toFixed(value, 0);
    return StringUtils.format(patternString, fixedValue, earthDaysString);
  }, {
    tandem: tandem,
    phetioValueType: StringIO
  });
};

/**
 * Create a function that converts SI (seconds) to a string indicating elapsed minutes, used in formatting the
 * elapsed clock readout
 */
const formatMinutes = (timeProperty, tandem) => {
  return new DerivedProperty([timeProperty, GravityAndOrbitsStrings.earthMinutesStringProperty, GravityAndOrbitsStrings.pattern['0value']['1unitsStringProperty']], (time, earthMinutesString, patternString) => {
    const value = time / SECONDS_PER_MINUTE;
    const fixedValue = Utils.toFixed(value, 0);
    return StringUtils.format(patternString, fixedValue, earthMinutesString);
  }, {
    tandem: tandem,
    phetioValueType: StringIO
  });
};
class Satellite extends Body {
  constructor(model, earthSpaceStation, tandem, options) {
    super('satellite', earthSpaceStation.satellite, Color.gray, Color.white, getImageRenderer(spaceStation_png), -Math.PI / 4, earthSpaceStation.satellite.mass, GravityAndOrbitsStrings.spaceStationStringProperty, model, tandem, options);
  }
}
class Moon extends Body {
  constructor(model, massSettable, massReadoutBelow, bodyConfiguration, tandem, providedOptions) {
    const options = optionize()({
      // eslint-disable-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-explicit-any
      pathLengthBuffer: 0,
      // adjustment to moon path length so that it matches other traces at default settings
      massSettable: massSettable,
      massReadoutBelow: massReadoutBelow,
      rotationPeriod: null // rotation period in seconds, null means no rotation
    }, providedOptions);
    super('moon', bodyConfiguration, Color.magenta, Color.white, getSwitchableRenderer(moon_png, moonGeneric_png, bodyConfiguration.mass), -3 * Math.PI / 4, bodyConfiguration.mass, GravityAndOrbitsStrings.ourMoonStringProperty, model, tandem, options);
  }
}
class Planet extends Body {
  /**
   * @param model
   * @param bodyConfiguration
   * @param tandem
   * @param [providedOptions]
   */
  constructor(model, bodyConfiguration, tandem, providedOptions) {
    super('planet', bodyConfiguration, Color.gray, Color.lightGray, getSwitchableRenderer(earth_png, planetGeneric_png, bodyConfiguration.mass), -Math.PI / 4, bodyConfiguration.mass, GravityAndOrbitsStrings.earthStringProperty, model, tandem, providedOptions);
  }
}
class Star extends Body {
  constructor(model, bodyConfiguration, tandem, options) {
    super('star', bodyConfiguration, Color.yellow, Color.white, getImageRenderer(sun_png), -Math.PI / 4, bodyConfiguration.mass, GravityAndOrbitsStrings.ourSunStringProperty, model, tandem, options);
  }
}
SceneFactory.SunEarthModeConfig = SunEarthModeConfig;
SceneFactory.SunEarthMoonModeConfig = SunEarthMoonModeConfig;
SceneFactory.PlanetMoonModeConfig = PlanetMoonModeConfig;
SceneFactory.EarthSpaceStationModeConfig = EarthSpaceStationModeConfig;
gravityAndOrbits.register('SceneFactory', SceneFactory);
export default SceneFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVdGlscyIsIlZlY3RvcjIiLCJTdHJpbmdVdGlscyIsIkNvbG9yIiwiSEJveCIsIkltYWdlIiwiTGluZSIsImVhcnRoX3BuZyIsIm1vb25HZW5lcmljX3BuZyIsIm1vb25fcG5nIiwicGxhbmV0R2VuZXJpY19wbmciLCJzcGFjZVN0YXRpb25fcG5nIiwic3VuX3BuZyIsImdyYXZpdHlBbmRPcmJpdHMiLCJHcmF2aXR5QW5kT3JiaXRzU3RyaW5ncyIsIkdyYXZpdHlBbmRPcmJpdHNDb25zdGFudHMiLCJHcmF2aXR5QW5kT3JiaXRzU2NlbmUiLCJCb2R5IiwiQm9keUNvbmZpZ3VyYXRpb24iLCJHcmF2aXR5QW5kT3JiaXRzQ2xvY2siLCJNb2RlQ29uZmlnIiwiUGFpciIsIkltYWdlUmVuZGVyZXIiLCJTd2l0Y2hhYmxlQm9keVJlbmRlcmVyIiwiRWFydGhNYXNzUmVhZG91dE5vZGUiLCJTcGFjZVN0YXRpb25NYXNzUmVhZG91dE5vZGUiLCJWZWN0b3JOb2RlIiwib3B0aW9uaXplIiwiRGVyaXZlZFByb3BlcnR5IiwiU3RyaW5nSU8iLCJTVU5fUkFESVVTIiwiU1VOX01BU1MiLCJFQVJUSF9SQURJVVMiLCJFQVJUSF9NQVNTIiwiRUFSVEhfUEVSSUhFTElPTiIsIkVBUlRIX09SQklUQUxfU1BFRURfQVRfUEVSSUhFTElPTiIsIk1PT05fTUFTUyIsIk1PT05fUkFESVVTIiwiTU9PTl9TUEVFRF9BVF9QRVJJR0VFIiwiTU9PTl9QRVJJR0VFIiwiTU9PTl9YIiwiTU9PTl9ZIiwiU1BBQ0VfU1RBVElPTl9SQURJVVMiLCJTUEFDRV9TVEFUSU9OX01BU1MiLCJTUEFDRV9TVEFUSU9OX1NQRUVEIiwiU1BBQ0VfU1RBVElPTl9QRVJJR0VFIiwiU1BBQ0VfU1RBVElPTl9PUkJJVEFMX1BFUklPRCIsIlNFQ09ORFNfUEVSX01JTlVURSIsIkZPUkNFX1NDQUxFIiwiREVGQVVMVF9EVCIsIlNjZW5lRmFjdG9yeSIsImNvbnN0cnVjdG9yIiwibW9kZWwiLCJwbGFuZXRTdGFyIiwic3VuRWFydGhNb29uIiwiZWFydGhNb29uIiwiZWFydGhTcGFjZVN0YXRpb24iLCJtb2RlbFRhbmRlbSIsInZpZXdUYW5kZW0iLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwiYWRqdXN0TW9vblBhdGhMZW5ndGgiLCJhZGp1c3RNb29uT3JiaXQiLCJzY2VuZXMiLCJjZW50ZXIiLCJyZWFkb3V0SW5FYXJ0aE1hc3NlcyIsImJvZHlOb2RlIiwidmlzaWJsZVByb3BlcnR5IiwiU1VOX01PREVTX1ZFTE9DSVRZX1NDQUxFIiwic3RhclBsYW5ldFNjZW5lVGFuZGVtIiwiY3JlYXRlVGFuZGVtIiwic3RhcjAiLCJTdGFyIiwic3VuIiwibWF4UGF0aExlbmd0aCIsInBsYW5ldDAiLCJQbGFuZXQiLCJwbGFuZXQiLCJwdXNoIiwic2NhbGVkRGF5cyIsImNyZWF0ZUljb25JbWFnZSIsIngiLCJQTEFZX0FSRUFfVEFOREVNX05BTUUiLCJwYXRoTGVuZ3RoQnVmZmVyIiwibW9vbiIsInN0YXJQbGFuZXRNb29uU2NlbmVUYW5kZW0iLCJzdGFyMSIsInBsYW5ldDEiLCJ0b3VjaERpbGF0aW9uIiwibW9vbjEiLCJNb29uIiwicGxhbmV0TW9vblNjZW5lVGFuZGVtIiwicGxhbmV0MiIsIm9yYml0YWxDZW50ZXIiLCJ5IiwibW9vbjIiLCJyb3RhdGlvblBlcmlvZCIsImdyaWRDZW50ZXIiLCJzcGFjZVN0YXRpb25NYXNzUmVhZG91dEZhY3RvcnkiLCJwbGFuZXRTYXRlbGxpdGVTY2VuZVRhbmRlbSIsInBsYW5ldDMiLCJzYXRlbGxpdGUzIiwiU2F0ZWxsaXRlIiwic2F0ZWxsaXRlIiwiZm9ybWF0TWludXRlcyIsImVhcnRoIiwic3BhY2VTdGF0aW9uIiwiY2hpbGRyZW4iLCJ2aXNpYmxlIiwiaSIsImxlbmd0aCIsInNldFNjYWxlTWFnbml0dWRlIiwid2lkdGgiLCJzcGFjaW5nIiwiZXhjbHVkZUludmlzaWJsZUNoaWxkcmVuRnJvbUJvdW5kcyIsIlN1bkVhcnRoTW9kZUNvbmZpZyIsImluaXRpYWxNZWFzdXJpbmdUYXBlUG9zaXRpb24iLCJmb3JjZVNjYWxlIiwiZ2V0Qm9kaWVzIiwiU3VuRWFydGhNb29uTW9kZUNvbmZpZyIsIlBsYW5ldE1vb25Nb2RlQ29uZmlnIiwibW9vblJvdGF0aW9uUGVyaW9kIiwicGxhbmV0VmVsb2NpdHlYIiwibW9vblZlbG9jaXR5WCIsIk1hdGgiLCJhYnMiLCJyYWRpdXMiLCJkdCIsIkVhcnRoU3BhY2VTdGF0aW9uTW9kZUNvbmZpZyIsInNwYWNlU3RhdGlvblJvdGF0aW9uUGVyaW9kIiwieDAiLCJnZXRJbWFnZVJlbmRlcmVyIiwiaW1hZ2UiLCJib2R5Iiwidmlld0RpYW1ldGVyIiwiZ2V0U3dpdGNoYWJsZVJlbmRlcmVyIiwiaW1hZ2UxIiwiaW1hZ2UyIiwidGFyZ2V0TWFzcyIsInRpbWVQcm9wZXJ0eSIsInRhbmRlbSIsImVhcnRoRGF5c1N0cmluZ1Byb3BlcnR5IiwicGF0dGVybiIsInRpbWUiLCJlYXJ0aERheXNTdHJpbmciLCJwYXR0ZXJuU3RyaW5nIiwidmFsdWUiLCJTRUNPTkRTX1BFUl9EQVkiLCJmaXhlZFZhbHVlIiwidG9GaXhlZCIsImZvcm1hdCIsInBoZXRpb1ZhbHVlVHlwZSIsImVhcnRoTWludXRlc1N0cmluZ1Byb3BlcnR5IiwiZWFydGhNaW51dGVzU3RyaW5nIiwiZ3JheSIsIndoaXRlIiwiUEkiLCJtYXNzIiwic3BhY2VTdGF0aW9uU3RyaW5nUHJvcGVydHkiLCJtYXNzU2V0dGFibGUiLCJtYXNzUmVhZG91dEJlbG93IiwiYm9keUNvbmZpZ3VyYXRpb24iLCJtYWdlbnRhIiwib3VyTW9vblN0cmluZ1Byb3BlcnR5IiwibGlnaHRHcmF5IiwiZWFydGhTdHJpbmdQcm9wZXJ0eSIsInllbGxvdyIsIm91clN1blN0cmluZ1Byb3BlcnR5IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJTY2VuZUZhY3RvcnkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTQtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU2NlbmVGYWN0b3J5IGVudW1lcmF0ZXMgYW5kIGRlY2xhcmVzIHRoZSBwb3NzaWJsZSBtb2RlcyBpbiB0aGUgR3Jhdml0eUFuZE9yYml0c01vZGVsLCBzdWNoIGFzICdTdGFyICsgUGxhbmV0JyBzY2VuZS5cclxuICogTW9kZWxzIChhbmQgdGhlIGJvZGllcyB0aGV5IGNvbnRhaW4pIGFyZSBjcmVhdGVkIGluIFNjZW5lRmFjdG9yeS5cclxuICpcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICogQGF1dGhvciBBYXJvbiBEYXZpcyAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgU3RyaW5nVXRpbHMgZnJvbSAnLi4vLi4vLi4vcGhldGNvbW1vbi9qcy91dGlsL1N0cmluZ1V0aWxzLmpzJztcclxuaW1wb3J0IHsgQ29sb3IsIEhCb3gsIEltYWdlLCBMaW5lLCBNaXBtYXAsIE5vZGUgfSBmcm9tICcuLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgZWFydGhfcG5nIGZyb20gJy4uLy4uL21pcG1hcHMvZWFydGhfcG5nLmpzJztcclxuaW1wb3J0IG1vb25HZW5lcmljX3BuZyBmcm9tICcuLi8uLi9taXBtYXBzL21vb25HZW5lcmljX3BuZy5qcyc7XHJcbmltcG9ydCBtb29uX3BuZyBmcm9tICcuLi8uLi9taXBtYXBzL21vb25fcG5nLmpzJztcclxuaW1wb3J0IHBsYW5ldEdlbmVyaWNfcG5nIGZyb20gJy4uLy4uL21pcG1hcHMvcGxhbmV0R2VuZXJpY19wbmcuanMnO1xyXG5pbXBvcnQgc3BhY2VTdGF0aW9uX3BuZyBmcm9tICcuLi8uLi9taXBtYXBzL3NwYWNlU3RhdGlvbl9wbmcuanMnO1xyXG5pbXBvcnQgc3VuX3BuZyBmcm9tICcuLi8uLi9taXBtYXBzL3N1bl9wbmcuanMnO1xyXG5pbXBvcnQgZ3Jhdml0eUFuZE9yYml0cyBmcm9tICcuLi9ncmF2aXR5QW5kT3JiaXRzLmpzJztcclxuaW1wb3J0IEdyYXZpdHlBbmRPcmJpdHNTdHJpbmdzIGZyb20gJy4uL0dyYXZpdHlBbmRPcmJpdHNTdHJpbmdzLmpzJztcclxuaW1wb3J0IEdyYXZpdHlBbmRPcmJpdHNDb25zdGFudHMgZnJvbSAnLi9HcmF2aXR5QW5kT3JiaXRzQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IEdyYXZpdHlBbmRPcmJpdHNTY2VuZSBmcm9tICcuL0dyYXZpdHlBbmRPcmJpdHNTY2VuZS5qcyc7XHJcbmltcG9ydCBCb2R5LCB7IEJvZHlPcHRpb25zIH0gZnJvbSAnLi9tb2RlbC9Cb2R5LmpzJztcclxuaW1wb3J0IEJvZHlDb25maWd1cmF0aW9uIGZyb20gJy4vbW9kZWwvQm9keUNvbmZpZ3VyYXRpb24uanMnO1xyXG5pbXBvcnQgR3Jhdml0eUFuZE9yYml0c0Nsb2NrIGZyb20gJy4vbW9kZWwvR3Jhdml0eUFuZE9yYml0c0Nsb2NrLmpzJztcclxuaW1wb3J0IE1vZGVDb25maWcgZnJvbSAnLi9tb2RlbC9Nb2RlQ29uZmlnLmpzJztcclxuaW1wb3J0IFBhaXIgZnJvbSAnLi9tb2RlbC9QYWlyLmpzJztcclxuaW1wb3J0IHsgSW1hZ2VSZW5kZXJlciwgU3dpdGNoYWJsZUJvZHlSZW5kZXJlciB9IGZyb20gJy4vdmlldy9Cb2R5UmVuZGVyZXIuanMnO1xyXG5pbXBvcnQgRWFydGhNYXNzUmVhZG91dE5vZGUgZnJvbSAnLi92aWV3L0VhcnRoTWFzc1JlYWRvdXROb2RlLmpzJztcclxuaW1wb3J0IFNwYWNlU3RhdGlvbk1hc3NSZWFkb3V0Tm9kZSBmcm9tICcuL3ZpZXcvU3BhY2VTdGF0aW9uTWFzc1JlYWRvdXROb2RlLmpzJztcclxuaW1wb3J0IFZlY3Rvck5vZGUgZnJvbSAnLi92aWV3L1ZlY3Rvck5vZGUuanMnO1xyXG5pbXBvcnQgR3Jhdml0eUFuZE9yYml0c01vZGVsIGZyb20gJy4vbW9kZWwvR3Jhdml0eUFuZE9yYml0c01vZGVsLmpzJztcclxuaW1wb3J0IFRhbmRlbSBmcm9tICcuLi8uLi8uLi90YW5kZW0vanMvVGFuZGVtLmpzJztcclxuaW1wb3J0IEJvZHlOb2RlIGZyb20gJy4vdmlldy9Cb2R5Tm9kZS5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuaW1wb3J0IFRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi9heG9uL2pzL1RQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgU3RyaW5nSU8gZnJvbSAnLi4vLi4vLi4vdGFuZGVtL2pzL3R5cGVzL1N0cmluZ0lPLmpzJztcclxuXHJcbi8vIFRoZXNlIGNvbnN0YW50cyBhcmUgb25seSB1c2VkIGluIFNjZW5lRmFjdG9yeSwgYW5kIFNjZW5lRmFjdG9yeSBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgc3BlY2lmaWMgbW9kZWwgaW5zdGFudGlhdGlvbnMsXHJcbi8vIHNvIHdlIGtlZXAgdGhlbSBoZXJlIGluc3RlYWQgb2YgdGhlIG1vZGVsLlxyXG5jb25zdCBTVU5fUkFESVVTID0gNi45NTdFODsgLy8gbVxyXG5jb25zdCBTVU5fTUFTUyA9IDEuOTg5RTMwOyAvLyBrZ1xyXG5jb25zdCBFQVJUSF9SQURJVVMgPSA2LjM3MUU2O1xyXG5jb25zdCBFQVJUSF9NQVNTID0gR3Jhdml0eUFuZE9yYml0c0NvbnN0YW50cy5FQVJUSF9NQVNTO1xyXG5jb25zdCBFQVJUSF9QRVJJSEVMSU9OID0gMTQ3MDk4MDc0RTM7IC8vIG0sIGRpc3RhbmNlIGZyb20gdGhlIHN1biBhdCB0aGUgY2xvc2VzdCBwb2ludFxyXG5jb25zdCBFQVJUSF9PUkJJVEFMX1NQRUVEX0FUX1BFUklIRUxJT04gPSAzMDMwMDsgLy8gbS9zXHJcbmNvbnN0IE1PT05fTUFTUyA9IDcuMzQ2RTIyO1xyXG5jb25zdCBNT09OX1JBRElVUyA9IDE3MjcuNEUzO1xyXG5jb25zdCBNT09OX1NQRUVEX0FUX1BFUklHRUUgPSAtMTA4MjsgLy8gbS9zXHJcbmNvbnN0IE1PT05fUEVSSUdFRSA9IDM2MzMwMEUzOyAvLyBrbSwgZGlzdGFuY2UgZnJvbSBlYXJ0aCBhdCBjbG9zZXQgcG9pbnRcclxuY29uc3QgTU9PTl9YID0gRUFSVEhfUEVSSUhFTElPTjtcclxuY29uc3QgTU9PTl9ZID0gTU9PTl9QRVJJR0VFO1xyXG5cclxuLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSW50ZXJuYXRpb25hbF9TcGFjZV9TdGF0aW9uXHJcbmNvbnN0IFNQQUNFX1NUQVRJT05fUkFESVVTID0gOTEgLyAyO1xyXG5jb25zdCBTUEFDRV9TVEFUSU9OX01BU1MgPSBHcmF2aXR5QW5kT3JiaXRzQ29uc3RhbnRzLlNQQUNFX1NUQVRJT05fTUFTUztcclxuY29uc3QgU1BBQ0VfU1RBVElPTl9TUEVFRCA9IDc3MDY7XHJcbmNvbnN0IFNQQUNFX1NUQVRJT05fUEVSSUdFRSA9IDM0NzAwMDtcclxuXHJcbi8vIG9yYml0YWwgcGVyaW9kIG9mIHRoZSBzcGFjZSBzdGF0aW9uLCBpbiBzZWNvbmRzXHJcbi8vIG9yYml0IGRldGVybWluZWQgdG8gYmUgOTEuNCBkYXlzLCBieSBpbnNwZWN0aW9uXHJcbmNvbnN0IFNQQUNFX1NUQVRJT05fT1JCSVRBTF9QRVJJT0QgPSA5MS40ICogNjA7XHJcblxyXG5jb25zdCBTRUNPTkRTX1BFUl9NSU5VVEUgPSA2MDtcclxuY29uc3QgRk9SQ0VfU0NBTEUgPSBWZWN0b3JOb2RlLkZPUkNFX1NDQUxFO1xyXG5jb25zdCBERUZBVUxUX0RUID0gR3Jhdml0eUFuZE9yYml0c0Nsb2NrLkRFRkFVTFRfRFQ7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG4gIGFkanVzdE1vb25QYXRoTGVuZ3RoPzogYm9vbGVhbjtcclxuICBhZGp1c3RNb29uT3JiaXQ/OiBib29sZWFuO1xyXG59O1xyXG5cclxudHlwZSBTY2VuZUZhY3RvcnlPcHRpb25zID0gU2VsZk9wdGlvbnM7XHJcblxyXG5jbGFzcyBTY2VuZUZhY3Rvcnkge1xyXG4gIHB1YmxpYyByZWFkb25seSBzY2VuZXM6IEdyYXZpdHlBbmRPcmJpdHNTY2VuZVtdO1xyXG4gIHB1YmxpYyBzdGF0aWMgU3VuRWFydGhNb2RlQ29uZmlnOiB0eXBlb2YgU3VuRWFydGhNb2RlQ29uZmlnO1xyXG4gIHB1YmxpYyBzdGF0aWMgU3VuRWFydGhNb29uTW9kZUNvbmZpZzogdHlwZW9mIFN1bkVhcnRoTW9vbk1vZGVDb25maWc7XHJcbiAgcHVibGljIHN0YXRpYyBQbGFuZXRNb29uTW9kZUNvbmZpZzogdHlwZW9mIFBsYW5ldE1vb25Nb2RlQ29uZmlnO1xyXG4gIHB1YmxpYyBzdGF0aWMgRWFydGhTcGFjZVN0YXRpb25Nb2RlQ29uZmlnOiB0eXBlb2YgRWFydGhTcGFjZVN0YXRpb25Nb2RlQ29uZmlnO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIG1vZGVsOiBHcmF2aXR5QW5kT3JiaXRzTW9kZWwsIHBsYW5ldFN0YXI6IFN1bkVhcnRoTW9kZUNvbmZpZywgc3VuRWFydGhNb29uOiBTdW5FYXJ0aE1vb25Nb2RlQ29uZmlnLCBlYXJ0aE1vb246IFBsYW5ldE1vb25Nb2RlQ29uZmlnLCBlYXJ0aFNwYWNlU3RhdGlvbjogRWFydGhTcGFjZVN0YXRpb25Nb2RlQ29uZmlnLCBtb2RlbFRhbmRlbTogVGFuZGVtLCB2aWV3VGFuZGVtOiBUYW5kZW0sIHByb3ZpZGVkT3B0aW9ucz86IFNjZW5lRmFjdG9yeU9wdGlvbnMgKSB7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxTY2VuZUZhY3RvcnlPcHRpb25zLCBTZWxmT3B0aW9ucz4oKSgge1xyXG4gICAgICBhZGp1c3RNb29uUGF0aExlbmd0aDogZmFsc2UsIC8vIGluY3JlYXNlIHRoZSBtb29uIHBhdGggc28gdGhhdCBpdCBtYXRjaGVzIG90aGVyIHRyYWNlcyBhdCBkZWZhdWx0IHNldHRpbmdzXHJcbiAgICAgIGFkanVzdE1vb25PcmJpdDogZmFsc2VcclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIHRoaXMuc2NlbmVzID0gW107IC8vIGluIHRoZSBqYXZhIHZlcnNpb24gdGhpcyBjbGFzcyBleHRlbmRlZCBBcnJheUxpc3QsIGJ1dCBoZXJlIHdlIGhhdmUgYW4gYXJyYXkgZmllbGRcclxuXHJcbiAgICBwbGFuZXRTdGFyLmNlbnRlcigpO1xyXG4gICAgc3VuRWFydGhNb29uLmNlbnRlcigpO1xyXG4gICAgZWFydGhNb29uLmNlbnRlcigpO1xyXG4gICAgZWFydGhTcGFjZVN0YXRpb24uY2VudGVyKCk7XHJcblxyXG4gICAgY29uc3QgcmVhZG91dEluRWFydGhNYXNzZXMgPSAoIGJvZHlOb2RlOiBCb2R5Tm9kZSwgdmlzaWJsZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPiApID0+IG5ldyBFYXJ0aE1hc3NSZWFkb3V0Tm9kZSggYm9keU5vZGUsIHZpc2libGVQcm9wZXJ0eSApO1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgYWN0dWFsIG1vZGVzIChHcmF2aXR5QW5kT3JiaXRzTW9kZXMpIGZyb20gdGhlIHNwZWNpZmljYXRpb25zIHBhc3NlZCBpbiAoTW9kZUNvbmZpZ3MpLlxyXG4gICAgY29uc3QgU1VOX01PREVTX1ZFTE9DSVRZX1NDQUxFID0gNC40OEU2O1xyXG4gICAgY29uc3Qgc3RhclBsYW5ldFNjZW5lVGFuZGVtID0gbW9kZWxUYW5kZW0uY3JlYXRlVGFuZGVtKCAnc3RhclBsYW5ldFNjZW5lJyApO1xyXG5cclxuICAgIGNvbnN0IHN0YXIwID0gbmV3IFN0YXIoIG1vZGVsLCBwbGFuZXRTdGFyLnN1biwgc3RhclBsYW5ldFNjZW5lVGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3N0YXInICksIHtcclxuICAgICAgbWF4UGF0aExlbmd0aDogMzQ1NjA4OTQyMDAwIC8vIGluIGttXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCBwbGFuZXQwID0gbmV3IFBsYW5ldCggbW9kZWwsIHBsYW5ldFN0YXIucGxhbmV0LCBzdGFyUGxhbmV0U2NlbmVUYW5kZW0uY3JlYXRlVGFuZGVtKCAncGxhbmV0JyApICk7XHJcblxyXG4gICAgdGhpcy5zY2VuZXMucHVzaCggbmV3IEdyYXZpdHlBbmRPcmJpdHNTY2VuZShcclxuICAgICAgbW9kZWwsXHJcbiAgICAgIHBsYW5ldFN0YXIsXHJcbiAgICAgIHNjYWxlZERheXMsXHJcbiAgICAgIHRoaXMuY3JlYXRlSWNvbkltYWdlKCB0cnVlLCB0cnVlLCBmYWxzZSwgZmFsc2UgKSxcclxuICAgICAgU1VOX01PREVTX1ZFTE9DSVRZX1NDQUxFLFxyXG4gICAgICByZWFkb3V0SW5FYXJ0aE1hc3NlcyxcclxuICAgICAgcGxhbmV0U3Rhci5wbGFuZXQueCAvIDIsXHJcbiAgICAgIHN0YXJQbGFuZXRTY2VuZVRhbmRlbSxcclxuICAgICAgdmlld1RhbmRlbS5jcmVhdGVUYW5kZW0oIEdyYXZpdHlBbmRPcmJpdHNDb25zdGFudHMuUExBWV9BUkVBX1RBTkRFTV9OQU1FICkuY3JlYXRlVGFuZGVtKCAnc3RhclBsYW5ldFNjZW5lVmlldycgKSxcclxuICAgICAgWyBzdGFyMCwgcGxhbmV0MCBdLFxyXG4gICAgICBbIG5ldyBQYWlyKCBzdGFyMCwgcGxhbmV0MCwgc3RhclBsYW5ldFNjZW5lVGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3N0YXJQbGFuZXRQYWlyJyApICkgXSApXHJcbiAgICApO1xyXG5cclxuICAgIC8vIGluY3JlYXNlIG1vb24gcGF0aCBsZW5ndGggc28gdGhhdCBpdCBmYWRlcyBhd2F5IHdpdGggb3RoZXIgYm9kaWVzIGluIG1vZGVsIGNvb3JkaW5hdGVzIChhdCBkZWZhdWx0IG9yYml0KVxyXG4gICAgY29uc3QgcGF0aExlbmd0aEJ1ZmZlciA9IG9wdGlvbnMuYWRqdXN0TW9vblBhdGhMZW5ndGggPyBzdW5FYXJ0aE1vb24ubW9vbi54IC8gMiA6IDA7XHJcbiAgICBjb25zdCBzdGFyUGxhbmV0TW9vblNjZW5lVGFuZGVtID0gbW9kZWxUYW5kZW0uY3JlYXRlVGFuZGVtKCAnc3RhclBsYW5ldE1vb25TY2VuZScgKTtcclxuICAgIGNvbnN0IHN0YXIxID0gbmV3IFN0YXIoIG1vZGVsLCBzdW5FYXJ0aE1vb24uc3VuLCBzdGFyUGxhbmV0TW9vblNjZW5lVGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3N0YXInICksIHtcclxuICAgICAgbWF4UGF0aExlbmd0aDogMzQ1NjA4OTQyMDAwIC8vIGluIGttXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCBwbGFuZXQxID0gbmV3IFBsYW5ldCggbW9kZWwsIHN1bkVhcnRoTW9vbi5wbGFuZXQsIHN0YXJQbGFuZXRNb29uU2NlbmVUYW5kZW0uY3JlYXRlVGFuZGVtKCAncGxhbmV0JyApLCB7XHJcbiAgICAgIHRvdWNoRGlsYXRpb246IDJcclxuICAgIH0gKTtcclxuICAgIGNvbnN0IG1vb24xID0gbmV3IE1vb24oIG1vZGVsLFxyXG4gICAgICBmYWxzZSwgLy8gbm8gcm9vbSBmb3IgdGhlIHNsaWRlclxyXG4gICAgICBmYWxzZSwgLy8gc28gaXQgZG9lc24ndCBpbnRlcnNlY3Qgd2l0aCBlYXJ0aCBtYXNzIHJlYWRvdXRcclxuICAgICAgc3VuRWFydGhNb29uLm1vb24sXHJcbiAgICAgIHN0YXJQbGFuZXRNb29uU2NlbmVUYW5kZW0uY3JlYXRlVGFuZGVtKCAnbW9vbicgKSwge1xyXG4gICAgICAgIHBhdGhMZW5ndGhCdWZmZXI6IHBhdGhMZW5ndGhCdWZmZXIsXHJcbiAgICAgICAgdG91Y2hEaWxhdGlvbjogNVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgdGhpcy5zY2VuZXMucHVzaCggbmV3IEdyYXZpdHlBbmRPcmJpdHNTY2VuZShcclxuICAgICAgbW9kZWwsXHJcbiAgICAgIHN1bkVhcnRoTW9vbixcclxuICAgICAgc2NhbGVkRGF5cyxcclxuICAgICAgdGhpcy5jcmVhdGVJY29uSW1hZ2UoIHRydWUsIHRydWUsIHRydWUsIGZhbHNlICksXHJcbiAgICAgIFNVTl9NT0RFU19WRUxPQ0lUWV9TQ0FMRSxcclxuICAgICAgcmVhZG91dEluRWFydGhNYXNzZXMsXHJcbiAgICAgIHN1bkVhcnRoTW9vbi5wbGFuZXQueCAvIDIsXHJcbiAgICAgIHN0YXJQbGFuZXRNb29uU2NlbmVUYW5kZW0sXHJcbiAgICAgIHZpZXdUYW5kZW0uY3JlYXRlVGFuZGVtKCBHcmF2aXR5QW5kT3JiaXRzQ29uc3RhbnRzLlBMQVlfQVJFQV9UQU5ERU1fTkFNRSApLmNyZWF0ZVRhbmRlbSggJ3N0YXJQbGFuZXRNb29uU2NlbmVWaWV3JyApLFxyXG4gICAgICBbIHN0YXIxLCBwbGFuZXQxLCBtb29uMSBdLCBbXHJcbiAgICAgICAgbmV3IFBhaXIoIHN0YXIxLCBwbGFuZXQxLCBzdGFyUGxhbmV0TW9vblNjZW5lVGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3N0YXJQbGFuZXRQYWlyJyApICksXHJcbiAgICAgICAgbmV3IFBhaXIoIHN0YXIxLCBtb29uMSwgc3RhclBsYW5ldE1vb25TY2VuZVRhbmRlbS5jcmVhdGVUYW5kZW0oICdzdGFyTW9vblBhaXInICkgKSxcclxuICAgICAgICBuZXcgUGFpciggcGxhbmV0MSwgbW9vbjEsIHN0YXJQbGFuZXRNb29uU2NlbmVUYW5kZW0uY3JlYXRlVGFuZGVtKCAncGxhbmV0TW9vblBhaXInICkgKVxyXG4gICAgICBdLCB7XHJcbiAgICAgICAgYWRqdXN0TW9vbk9yYml0OiBvcHRpb25zLmFkanVzdE1vb25PcmJpdFxyXG4gICAgICB9ICkgKTtcclxuXHJcbiAgICBjb25zdCBwbGFuZXRNb29uU2NlbmVUYW5kZW0gPSBtb2RlbFRhbmRlbS5jcmVhdGVUYW5kZW0oICdwbGFuZXRNb29uU2NlbmUnICk7XHJcbiAgICBjb25zdCBwbGFuZXQyID0gbmV3IFBsYW5ldCggbW9kZWwsIGVhcnRoTW9vbi5wbGFuZXQsIHBsYW5ldE1vb25TY2VuZVRhbmRlbS5jcmVhdGVUYW5kZW0oICdwbGFuZXQnICksIHtcclxuICAgICAgb3JiaXRhbENlbnRlcjogbmV3IFZlY3RvcjIoIGVhcnRoTW9vbi5wbGFuZXQueCwgZWFydGhNb29uLnBsYW5ldC55IClcclxuICAgIH0gKTtcclxuICAgIGNvbnN0IG1vb24yID0gbmV3IE1vb24oIG1vZGVsLCB0cnVlLCB0cnVlLCBlYXJ0aE1vb24ubW9vbiwgcGxhbmV0TW9vblNjZW5lVGFuZGVtLmNyZWF0ZVRhbmRlbSggJ21vb24nICksIHtcclxuICAgICAgb3JiaXRhbENlbnRlcjogbmV3IFZlY3RvcjIoIGVhcnRoTW9vbi5wbGFuZXQueCwgZWFydGhNb29uLnBsYW5ldC55ICksXHJcbiAgICAgIHJvdGF0aW9uUGVyaW9kOiBlYXJ0aE1vb24ubW9vbi5yb3RhdGlvblBlcmlvZFxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5zY2VuZXMucHVzaCggbmV3IEdyYXZpdHlBbmRPcmJpdHNTY2VuZShcclxuICAgICAgbW9kZWwsXHJcbiAgICAgIGVhcnRoTW9vbixcclxuICAgICAgc2NhbGVkRGF5cyxcclxuICAgICAgdGhpcy5jcmVhdGVJY29uSW1hZ2UoIGZhbHNlLCB0cnVlLCB0cnVlLCBmYWxzZSApLFxyXG4gICAgICBTVU5fTU9ERVNfVkVMT0NJVFlfU0NBTEUgKiAwLjA2LFxyXG4gICAgICByZWFkb3V0SW5FYXJ0aE1hc3NlcyxcclxuICAgICAgZWFydGhNb29uLm1vb24ueSAvIDIsXHJcbiAgICAgIHBsYW5ldE1vb25TY2VuZVRhbmRlbSxcclxuICAgICAgdmlld1RhbmRlbS5jcmVhdGVUYW5kZW0oIEdyYXZpdHlBbmRPcmJpdHNDb25zdGFudHMuUExBWV9BUkVBX1RBTkRFTV9OQU1FICkuY3JlYXRlVGFuZGVtKCAncGxhbmV0TW9vblNjZW5lVmlldycgKSxcclxuICAgICAgWyBwbGFuZXQyLCBtb29uMiBdLFxyXG4gICAgICBbIG5ldyBQYWlyKCBwbGFuZXQyLCBtb29uMiwgcGxhbmV0TW9vblNjZW5lVGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3BsYW5ldE1vb25QYWlyJyApICkgXSwge1xyXG4gICAgICAgIGdyaWRDZW50ZXI6IG5ldyBWZWN0b3IyKCBlYXJ0aE1vb24ucGxhbmV0LngsIDAgKVxyXG4gICAgICB9ICkgKTtcclxuXHJcbiAgICBjb25zdCBzcGFjZVN0YXRpb25NYXNzUmVhZG91dEZhY3RvcnkgPSAoIGJvZHlOb2RlOiBCb2R5Tm9kZSwgdmlzaWJsZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPiApID0+IG5ldyBTcGFjZVN0YXRpb25NYXNzUmVhZG91dE5vZGUoIGJvZHlOb2RlLCB2aXNpYmxlUHJvcGVydHkgKTtcclxuICAgIGNvbnN0IHBsYW5ldFNhdGVsbGl0ZVNjZW5lVGFuZGVtID0gbW9kZWxUYW5kZW0uY3JlYXRlVGFuZGVtKCAncGxhbmV0U2F0ZWxsaXRlU2NlbmUnICk7XHJcbiAgICBjb25zdCBwbGFuZXQzID0gbmV3IFBsYW5ldCggbW9kZWwsIGVhcnRoU3BhY2VTdGF0aW9uLnBsYW5ldCwgcGxhbmV0U2F0ZWxsaXRlU2NlbmVUYW5kZW0uY3JlYXRlVGFuZGVtKCAncGxhbmV0JyApLCB7XHJcbiAgICAgIG1heFBhdGhMZW5ndGg6IDM1ODc5NDU1LCAvLyBpbiBrbVxyXG4gICAgICB0b3VjaERpbGF0aW9uOiAwXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCBzYXRlbGxpdGUzID0gbmV3IFNhdGVsbGl0ZSggbW9kZWwsIGVhcnRoU3BhY2VTdGF0aW9uLCBwbGFuZXRTYXRlbGxpdGVTY2VuZVRhbmRlbS5jcmVhdGVUYW5kZW0oICdzYXRlbGxpdGUnICksIHtcclxuICAgICAgcm90YXRpb25QZXJpb2Q6IGVhcnRoU3BhY2VTdGF0aW9uLnNhdGVsbGl0ZS5yb3RhdGlvblBlcmlvZFxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5zY2VuZXMucHVzaCggbmV3IEdyYXZpdHlBbmRPcmJpdHNTY2VuZShcclxuICAgICAgbW9kZWwsXHJcbiAgICAgIGVhcnRoU3BhY2VTdGF0aW9uLFxyXG4gICAgICBmb3JtYXRNaW51dGVzLFxyXG4gICAgICB0aGlzLmNyZWF0ZUljb25JbWFnZSggZmFsc2UsIHRydWUsIGZhbHNlLCB0cnVlICksXHJcbiAgICAgIFNVTl9NT0RFU19WRUxPQ0lUWV9TQ0FMRSAvIDEwMDAwLFxyXG4gICAgICBzcGFjZVN0YXRpb25NYXNzUmVhZG91dEZhY3RvcnksXHJcbiAgICAgIGVhcnRoU3BhY2VTdGF0aW9uLnNhdGVsbGl0ZS54IC0gZWFydGhTcGFjZVN0YXRpb24ucGxhbmV0LngsXHJcbiAgICAgIHBsYW5ldFNhdGVsbGl0ZVNjZW5lVGFuZGVtLFxyXG4gICAgICB2aWV3VGFuZGVtLmNyZWF0ZVRhbmRlbSggR3Jhdml0eUFuZE9yYml0c0NvbnN0YW50cy5QTEFZX0FSRUFfVEFOREVNX05BTUUgKS5jcmVhdGVUYW5kZW0oICdwbGFuZXRTYXRlbGxpdGVTY2VuZVZpZXcnICksXHJcbiAgICAgIFsgcGxhbmV0Mywgc2F0ZWxsaXRlMyBdLFxyXG4gICAgICBbIG5ldyBQYWlyKCBwbGFuZXQzLCBzYXRlbGxpdGUzLCBwbGFuZXRTYXRlbGxpdGVTY2VuZVRhbmRlbS5jcmVhdGVUYW5kZW0oICdwbGFuZXRTYXRlbGxpdGVQYWlyJyApICkgXSwge1xyXG4gICAgICAgIGdyaWRDZW50ZXI6IG5ldyBWZWN0b3IyKCBlYXJ0aFNwYWNlU3RhdGlvbi5wbGFuZXQueCwgMCApXHJcbiAgICAgIH0gKSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhbiBpbWFnZSB0aGF0IGNhbiBiZSB1c2VkIGZvciB0aGUgc2NlbmUgaWNvbiwgc2hvd2luZyB0aGUgbm9kZXMgb2YgZWFjaCBib2R5IGluIHRoZSBtb2RlLlxyXG4gICAqL1xyXG4gIHByaXZhdGUgY3JlYXRlSWNvbkltYWdlKCBzdW46IGJvb2xlYW4sIGVhcnRoOiBib29sZWFuLCBtb29uOiBib29sZWFuLCBzcGFjZVN0YXRpb246IGJvb2xlYW4gKTogTm9kZSB7XHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtcclxuICAgICAgbmV3IEltYWdlKCBzdW5fcG5nLCB7IHZpc2libGU6IHN1biB9ICksXHJcbiAgICAgIG5ldyBJbWFnZSggZWFydGhfcG5nLCB7IHZpc2libGU6IGVhcnRoIH0gKSxcclxuICAgICAgbmV3IEltYWdlKCBtb29uX3BuZywgeyB2aXNpYmxlOiBtb29uIH0gKSxcclxuICAgICAgbmV3IEltYWdlKCBzcGFjZVN0YXRpb25fcG5nLCB7IHZpc2libGU6IHNwYWNlU3RhdGlvbiB9IClcclxuICAgIF07XHJcblxyXG4gICAgZm9yICggbGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgIGNoaWxkcmVuWyBpIF0uc2V0U2NhbGVNYWduaXR1ZGUoIDI1IC8gY2hpbGRyZW5bIGkgXS53aWR0aCApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgSEJveCggeyBjaGlsZHJlbjogY2hpbGRyZW4sIHNwYWNpbmc6IDIwLCBleGNsdWRlSW52aXNpYmxlQ2hpbGRyZW5Gcm9tQm91bmRzOiBmYWxzZSB9ICk7XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBTdW5FYXJ0aE1vZGVDb25maWcgZXh0ZW5kcyBNb2RlQ29uZmlnIHtcclxuICBwdWJsaWMgcmVhZG9ubHkgc3VuOiBCb2R5Q29uZmlndXJhdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgcGxhbmV0OiBCb2R5Q29uZmlndXJhdGlvbjtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIHN1cGVyKCAxLjI1ICk7XHJcblxyXG4gICAgdGhpcy5zdW4gPSBuZXcgQm9keUNvbmZpZ3VyYXRpb24oIFNVTl9NQVNTLCBTVU5fUkFESVVTLCAwLCAwLCAwLCAwICk7XHJcbiAgICB0aGlzLnBsYW5ldCA9IG5ldyBCb2R5Q29uZmlndXJhdGlvbihcclxuICAgICAgRUFSVEhfTUFTUywgRUFSVEhfUkFESVVTLCBFQVJUSF9QRVJJSEVMSU9OLCAwLCAwLCBFQVJUSF9PUkJJVEFMX1NQRUVEX0FUX1BFUklIRUxJT04gKTtcclxuICAgIHRoaXMuaW5pdGlhbE1lYXN1cmluZ1RhcGVQb3NpdGlvbiA9IG5ldyBMaW5lKFxyXG4gICAgICAoIHRoaXMuc3VuLnggKyB0aGlzLnBsYW5ldC54ICkgLyAzLFxyXG4gICAgICAtdGhpcy5wbGFuZXQueCAvIDIsXHJcbiAgICAgICggdGhpcy5zdW4ueCArIHRoaXMucGxhbmV0LnggKSAvIDMgKyA4MDAwMDAwMCAqIDEwMDAsXHJcbiAgICAgIC10aGlzLnBsYW5ldC54IC8gMiApO1xyXG4gICAgdGhpcy5mb3JjZVNjYWxlID0gRk9SQ0VfU0NBTEUgKiAxMjA7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgZ2V0Qm9kaWVzKCk6IEJvZHlDb25maWd1cmF0aW9uW10ge1xyXG4gICAgcmV0dXJuIFsgdGhpcy5zdW4sIHRoaXMucGxhbmV0IF07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBzdGF0aWMgY2xhc3M6IFN1bkVhcnRoTW9vbk1vZGVDb25maWdcclxuY2xhc3MgU3VuRWFydGhNb29uTW9kZUNvbmZpZyBleHRlbmRzIE1vZGVDb25maWcge1xyXG4gIHB1YmxpYyByZWFkb25seSBzdW46IEJvZHlDb25maWd1cmF0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBwbGFuZXQ6IEJvZHlDb25maWd1cmF0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBtb29uOiBCb2R5Q29uZmlndXJhdGlvbjtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIHN1cGVyKCAxLjI1ICk7XHJcbiAgICB0aGlzLnN1biA9IG5ldyBCb2R5Q29uZmlndXJhdGlvbiggU1VOX01BU1MsIFNVTl9SQURJVVMsIDAsIDAsIDAsIDAgKTtcclxuICAgIHRoaXMucGxhbmV0ID0gbmV3IEJvZHlDb25maWd1cmF0aW9uKFxyXG4gICAgICBFQVJUSF9NQVNTLCBFQVJUSF9SQURJVVMsIEVBUlRIX1BFUklIRUxJT04sIDAsIDAsIEVBUlRIX09SQklUQUxfU1BFRURfQVRfUEVSSUhFTElPTiApO1xyXG4gICAgdGhpcy5tb29uID0gbmV3IEJvZHlDb25maWd1cmF0aW9uKFxyXG4gICAgICBNT09OX01BU1MsIE1PT05fUkFESVVTLCBNT09OX1gsIE1PT05fWSwgTU9PTl9TUEVFRF9BVF9QRVJJR0VFLCBFQVJUSF9PUkJJVEFMX1NQRUVEX0FUX1BFUklIRUxJT04gKTtcclxuICAgIHRoaXMuaW5pdGlhbE1lYXN1cmluZ1RhcGVQb3NpdGlvbiA9IG5ldyBMaW5lKFxyXG4gICAgICAoIHRoaXMuc3VuLnggKyB0aGlzLnBsYW5ldC54ICkgLyAzLFxyXG4gICAgICAtdGhpcy5wbGFuZXQueCAvIDIsXHJcbiAgICAgICggdGhpcy5zdW4ueCArIHRoaXMucGxhbmV0LnggKSAvIDMgKyA4MDAwMDAwMCAqIDEwMDAsXHJcbiAgICAgIC10aGlzLnBsYW5ldC54IC8gMiApO1xyXG4gICAgdGhpcy5mb3JjZVNjYWxlID0gRk9SQ0VfU0NBTEUgKiAxMjA7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgZ2V0Qm9kaWVzKCk6IEJvZHlDb25maWd1cmF0aW9uW10ge1xyXG4gICAgcmV0dXJuIFsgdGhpcy5zdW4sIHRoaXMucGxhbmV0LCB0aGlzLm1vb24gXTtcclxuICB9XHJcbn1cclxuXHJcbnR5cGUgUGxhbmV0TW9vbk1vZGVDb25maWdTZWxmT3B0aW9ucyA9IHtcclxuICBtb29uUm90YXRpb25QZXJpb2Q/OiBudW1iZXIgfCBudWxsO1xyXG59O1xyXG5cclxudHlwZSBQbGFuZXRNb29uTW9kZUNvbmZpZ09wdGlvbnMgPSBQbGFuZXRNb29uTW9kZUNvbmZpZ1NlbGZPcHRpb25zO1xyXG5cclxuY2xhc3MgUGxhbmV0TW9vbk1vZGVDb25maWcgZXh0ZW5kcyBNb2RlQ29uZmlnIHtcclxuICBwdWJsaWMgcmVhZG9ubHkgcGxhbmV0OiBCb2R5Q29uZmlndXJhdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgbW9vbjogQm9keUNvbmZpZ3VyYXRpb247XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBFYXJ0aCtNb29uIHN5c3RlbS5cclxuICAgKi9cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHByb3ZpZGVkT3B0aW9ucz86IFBsYW5ldE1vb25Nb2RlQ29uZmlnT3B0aW9ucyApIHtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPFBsYW5ldE1vb25Nb2RlQ29uZmlnT3B0aW9ucywgUGxhbmV0TW9vbk1vZGVDb25maWdTZWxmT3B0aW9ucz4oKSgge1xyXG4gICAgICBtb29uUm90YXRpb25QZXJpb2Q6IG51bGwgLy8gcm90YXRpb24gcGVyaW9kIGZvciB0aGUgbW9vbiBpbiBzZWNvbmRzLCBudWxsIG1lYW5zIG5vIHJvdGF0aW9uXHJcbiAgICB9LCBwcm92aWRlZE9wdGlvbnMgKTtcclxuXHJcbiAgICBzdXBlciggNDAwICk7XHJcblxyXG4gICAgLy8gV2Ugd2FudCB0byBjZW50ZXIgdGhlIG92ZXJhbGwgbW90aW9uIG9mIHRoZSBzeXN0ZW0sIGJ1dCBzcGVjaWZ5IHRoZSByZWxhdGl2ZSBzcGVlZCBvZiB0aGUgbW9vbiB0byBiZVxyXG4gICAgLy8gZXF1YWwgdG8gTU9PTl9TUEVFRF9BVF9QRVJJR0VFXHJcbiAgICBjb25zdCBwbGFuZXRWZWxvY2l0eVggPSBNT09OX01BU1MgKiAxMDgyIC8gKCBFQVJUSF9NQVNTICsgTU9PTl9NQVNTICk7XHJcbiAgICBjb25zdCBtb29uVmVsb2NpdHlYID0gcGxhbmV0VmVsb2NpdHlYIC0gTWF0aC5hYnMoIE1PT05fU1BFRURfQVRfUEVSSUdFRSApO1xyXG5cclxuICAgIHRoaXMucGxhbmV0ID0gbmV3IEJvZHlDb25maWd1cmF0aW9uKCBFQVJUSF9NQVNTLCBFQVJUSF9SQURJVVMsIEVBUlRIX1BFUklIRUxJT04sIDAsIHBsYW5ldFZlbG9jaXR5WCwgMCApO1xyXG4gICAgdGhpcy5tb29uID0gbmV3IEJvZHlDb25maWd1cmF0aW9uKCBNT09OX01BU1MsIE1PT05fUkFESVVTLCBNT09OX1gsIE1PT05fWSwgbW9vblZlbG9jaXR5WCwgMCwge1xyXG4gICAgICByb3RhdGlvblBlcmlvZDogb3B0aW9ucy5tb29uUm90YXRpb25QZXJpb2QgfHwgbnVsbFxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5pbml0aWFsTWVhc3VyaW5nVGFwZVBvc2l0aW9uID0gbmV3IExpbmUoXHJcbiAgICAgIHRoaXMucGxhbmV0LnggKyB0aGlzLnBsYW5ldC5yYWRpdXMgKiAyLFxyXG4gICAgICAtdGhpcy5tb29uLnkgKiAwLjcsXHJcbiAgICAgIHRoaXMucGxhbmV0LnggKyB0aGlzLnBsYW5ldC5yYWRpdXMgKiAyICsgMTUwMDAwICogMTAwMCxcclxuICAgICAgLXRoaXMubW9vbi55ICogMC43ICk7XHJcbiAgICB0aGlzLmZvcmNlU2NhbGUgPSBGT1JDRV9TQ0FMRSAqIDQ1O1xyXG4gICAgdGhpcy5kdCA9IERFRkFVTFRfRFQgLyAzOyAgLy8gYWN0dWFsIGRheXNcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBnZXRCb2RpZXMoKTogQm9keUNvbmZpZ3VyYXRpb25bXSB7XHJcbiAgICByZXR1cm4gWyB0aGlzLnBsYW5ldCwgdGhpcy5tb29uIF07XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBFYXJ0aFNwYWNlU3RhdGlvbk1vZGVDb25maWcgZXh0ZW5kcyBNb2RlQ29uZmlnIHtcclxuICBwdWJsaWMgcmVhZG9ubHkgcGxhbmV0OiBCb2R5Q29uZmlndXJhdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgc2F0ZWxsaXRlOiBCb2R5Q29uZmlndXJhdGlvbjtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIFtzcGFjZVN0YXRpb25Sb3RhdGlvblBlcmlvZF0gLSBpbiBzZWNvbmRzXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBzcGFjZVN0YXRpb25Sb3RhdGlvblBlcmlvZCA9IFNQQUNFX1NUQVRJT05fT1JCSVRBTF9QRVJJT0QgKSB7XHJcblxyXG4gICAgc3VwZXIoIDIxNjAwICk7XHJcblxyXG4gICAgdGhpcy5wbGFuZXQgPSBuZXcgQm9keUNvbmZpZ3VyYXRpb24oIEVBUlRIX01BU1MsIEVBUlRIX1JBRElVUywgMCwgMCwgMCwgMCApO1xyXG4gICAgdGhpcy5zYXRlbGxpdGUgPSBuZXcgQm9keUNvbmZpZ3VyYXRpb24oIFNQQUNFX1NUQVRJT05fTUFTUywgU1BBQ0VfU1RBVElPTl9SQURJVVMsXHJcbiAgICAgIFNQQUNFX1NUQVRJT05fUEVSSUdFRSArIEVBUlRIX1JBRElVUyArIFNQQUNFX1NUQVRJT05fUkFESVVTLCAwLCAwLCBTUEFDRV9TVEFUSU9OX1NQRUVELCB7XHJcbiAgICAgICAgcm90YXRpb25QZXJpb2Q6IHNwYWNlU3RhdGlvblJvdGF0aW9uUGVyaW9kXHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAvLyBTYW1wbGVkIGF0IHJ1bnRpbWUgZnJvbSBNZWFzdXJpbmdUYXBlXHJcbiAgICBjb25zdCB4MCA9IDMxNjIxMTk7XHJcbiAgICB0aGlzLmluaXRpYWxNZWFzdXJpbmdUYXBlUG9zaXRpb24gPSBuZXcgTGluZSggeDAsIDc2ODA0OTYsIHgwICsgMzAwMCAqIDEwMDAsIDc2ODA0OTYgKTtcclxuICAgIHRoaXMuZm9yY2VTY2FsZSA9IEZPUkNFX1NDQUxFICogM0UxMztcclxuICAgIHRoaXMuZHQgPSBERUZBVUxUX0RUICogOUUtNDtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBnZXRCb2RpZXMoKTogQm9keUNvbmZpZ3VyYXRpb25bXSB7XHJcbiAgICByZXR1cm4gWyB0aGlzLnBsYW5ldCwgdGhpcy5zYXRlbGxpdGUgXTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgQm9keVJlbmRlcmVyIHRoYXQganVzdCBzaG93cyB0aGUgc3BlY2lmaWVkIGltYWdlXHJcbiAqL1xyXG5jb25zdCBnZXRJbWFnZVJlbmRlcmVyID0gKCBpbWFnZTogTWlwbWFwICkgPT4ge1xyXG4gIHJldHVybiAoIGJvZHk6IEJvZHksIHZpZXdEaWFtZXRlcjogbnVtYmVyICkgPT4gbmV3IEltYWdlUmVuZGVyZXIoIGJvZHksIHZpZXdEaWFtZXRlciwgaW1hZ2UgKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgQm9keVJlbmRlcmVyIHRoYXQgc2hvd3MgYW4gaW1hZ2Ugd2hlbiBhdCB0aGUgdGFyZ2V0TWFzcywgb3RoZXJ3aXNlIHNob3dzIGEgc2hhZGVkIHNwaGVyZVxyXG4gKi9cclxuY29uc3QgZ2V0U3dpdGNoYWJsZVJlbmRlcmVyID0gKCBpbWFnZTE6IE1pcG1hcCwgaW1hZ2UyOiBNaXBtYXAsIHRhcmdldE1hc3M6IG51bWJlciApID0+IHtcclxuXHJcbiAgLy8gdGhlIG1hc3MgZm9yIHdoaWNoIHRvIHVzZSB0aGUgaW1hZ2VcclxuICByZXR1cm4gKCBib2R5OiBCb2R5LCB2aWV3RGlhbWV0ZXI6IG51bWJlciApID0+IG5ldyBTd2l0Y2hhYmxlQm9keVJlbmRlcmVyKFxyXG4gICAgYm9keSxcclxuICAgIHRhcmdldE1hc3MsXHJcbiAgICBuZXcgSW1hZ2VSZW5kZXJlciggYm9keSwgdmlld0RpYW1ldGVyLCBpbWFnZTEgKSwgbmV3IEltYWdlUmVuZGVyZXIoIGJvZHksIHZpZXdEaWFtZXRlciwgaW1hZ2UyICkgKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBIYXZlIHRvIGFydGlmaWNpYWxseSBzY2FsZSB1cCB0aGUgdGltZSByZWFkb3V0IHNvIHRoYXQgU3VuL0VhcnRoL01vb24gc2NlbmUgaGFzIGEgc3RhYmxlIG9yYml0IHdpdGggY29ycmVjdCBwZXJpb2RzXHJcbiAqL1xyXG5jb25zdCBzY2FsZWREYXlzID0gKCB0aW1lUHJvcGVydHk6IFRQcm9wZXJ0eTxudW1iZXI+LCB0YW5kZW06IFRhbmRlbSApID0+IHtcclxuICByZXR1cm4gbmV3IERlcml2ZWRQcm9wZXJ0eSggW1xyXG4gICAgdGltZVByb3BlcnR5LFxyXG4gICAgR3Jhdml0eUFuZE9yYml0c1N0cmluZ3MuZWFydGhEYXlzU3RyaW5nUHJvcGVydHksXHJcbiAgICBHcmF2aXR5QW5kT3JiaXRzU3RyaW5ncy5wYXR0ZXJuWyAnMHZhbHVlJyBdWyAnMXVuaXRzU3RyaW5nUHJvcGVydHknIF1cclxuICBdLCAoIHRpbWUsIGVhcnRoRGF5c1N0cmluZywgcGF0dGVyblN0cmluZyApID0+IHtcclxuICAgIGNvbnN0IHZhbHVlID0gKCB0aW1lIC8gR3Jhdml0eUFuZE9yYml0c0Nsb2NrLlNFQ09ORFNfUEVSX0RBWSApO1xyXG4gICAgY29uc3QgZml4ZWRWYWx1ZSA9IFV0aWxzLnRvRml4ZWQoIHZhbHVlLCAwICk7XHJcbiAgICByZXR1cm4gU3RyaW5nVXRpbHMuZm9ybWF0KCBwYXR0ZXJuU3RyaW5nLCBmaXhlZFZhbHVlLCBlYXJ0aERheXNTdHJpbmcgKTtcclxuICB9LCB7XHJcbiAgICB0YW5kZW06IHRhbmRlbSxcclxuICAgIHBoZXRpb1ZhbHVlVHlwZTogU3RyaW5nSU9cclxuICB9ICk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ3JlYXRlIGEgZnVuY3Rpb24gdGhhdCBjb252ZXJ0cyBTSSAoc2Vjb25kcykgdG8gYSBzdHJpbmcgaW5kaWNhdGluZyBlbGFwc2VkIG1pbnV0ZXMsIHVzZWQgaW4gZm9ybWF0dGluZyB0aGVcclxuICogZWxhcHNlZCBjbG9jayByZWFkb3V0XHJcbiAqL1xyXG5jb25zdCBmb3JtYXRNaW51dGVzID0gKCB0aW1lUHJvcGVydHk6IFRQcm9wZXJ0eTxudW1iZXI+LCB0YW5kZW06IFRhbmRlbSApID0+IHtcclxuICByZXR1cm4gbmV3IERlcml2ZWRQcm9wZXJ0eSggW1xyXG4gICAgdGltZVByb3BlcnR5LFxyXG4gICAgR3Jhdml0eUFuZE9yYml0c1N0cmluZ3MuZWFydGhNaW51dGVzU3RyaW5nUHJvcGVydHksXHJcbiAgICBHcmF2aXR5QW5kT3JiaXRzU3RyaW5ncy5wYXR0ZXJuWyAnMHZhbHVlJyBdWyAnMXVuaXRzU3RyaW5nUHJvcGVydHknIF1cclxuICBdLCAoIHRpbWUsIGVhcnRoTWludXRlc1N0cmluZywgcGF0dGVyblN0cmluZyApID0+IHtcclxuICAgIGNvbnN0IHZhbHVlID0gKCB0aW1lIC8gU0VDT05EU19QRVJfTUlOVVRFICk7XHJcbiAgICBjb25zdCBmaXhlZFZhbHVlID0gVXRpbHMudG9GaXhlZCggdmFsdWUsIDAgKTtcclxuICAgIHJldHVybiBTdHJpbmdVdGlscy5mb3JtYXQoIHBhdHRlcm5TdHJpbmcsIGZpeGVkVmFsdWUsIGVhcnRoTWludXRlc1N0cmluZyApO1xyXG4gIH0sIHtcclxuICAgIHRhbmRlbTogdGFuZGVtLFxyXG4gICAgcGhldGlvVmFsdWVUeXBlOiBTdHJpbmdJT1xyXG4gIH0gKTtcclxufTtcclxuXHJcbmNsYXNzIFNhdGVsbGl0ZSBleHRlbmRzIEJvZHkge1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIG1vZGVsOiBHcmF2aXR5QW5kT3JiaXRzTW9kZWwsIGVhcnRoU3BhY2VTdGF0aW9uOiBFYXJ0aFNwYWNlU3RhdGlvbk1vZGVDb25maWcsIHRhbmRlbTogVGFuZGVtLCBvcHRpb25zPzogQm9keU9wdGlvbnMgKSB7XHJcbiAgICBzdXBlcihcclxuICAgICAgJ3NhdGVsbGl0ZScsXHJcbiAgICAgIGVhcnRoU3BhY2VTdGF0aW9uLnNhdGVsbGl0ZSxcclxuICAgICAgQ29sb3IuZ3JheSxcclxuICAgICAgQ29sb3Iud2hpdGUsXHJcbiAgICAgIGdldEltYWdlUmVuZGVyZXIoIHNwYWNlU3RhdGlvbl9wbmcgKSxcclxuICAgICAgLU1hdGguUEkgLyA0LFxyXG4gICAgICBlYXJ0aFNwYWNlU3RhdGlvbi5zYXRlbGxpdGUubWFzcyxcclxuICAgICAgR3Jhdml0eUFuZE9yYml0c1N0cmluZ3Muc3BhY2VTdGF0aW9uU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIG1vZGVsLFxyXG4gICAgICB0YW5kZW0sXHJcbiAgICAgIG9wdGlvbnNcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBNb29uIGV4dGVuZHMgQm9keSB7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggbW9kZWw6IEdyYXZpdHlBbmRPcmJpdHNNb2RlbCwgbWFzc1NldHRhYmxlOiBib29sZWFuLCBtYXNzUmVhZG91dEJlbG93OiBib29sZWFuLCBib2R5Q29uZmlndXJhdGlvbjogQm9keUNvbmZpZ3VyYXRpb24sIHRhbmRlbTogVGFuZGVtLCBwcm92aWRlZE9wdGlvbnM/OiBCb2R5T3B0aW9ucyApIHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8Qm9keU9wdGlvbnMsIGFueSwgYW55PigpKCB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICBwYXRoTGVuZ3RoQnVmZmVyOiAwLCAvLyBhZGp1c3RtZW50IHRvIG1vb24gcGF0aCBsZW5ndGggc28gdGhhdCBpdCBtYXRjaGVzIG90aGVyIHRyYWNlcyBhdCBkZWZhdWx0IHNldHRpbmdzXHJcbiAgICAgIG1hc3NTZXR0YWJsZTogbWFzc1NldHRhYmxlLFxyXG4gICAgICBtYXNzUmVhZG91dEJlbG93OiBtYXNzUmVhZG91dEJlbG93LFxyXG4gICAgICByb3RhdGlvblBlcmlvZDogbnVsbCAvLyByb3RhdGlvbiBwZXJpb2QgaW4gc2Vjb25kcywgbnVsbCBtZWFucyBubyByb3RhdGlvblxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgc3VwZXIoXHJcbiAgICAgICdtb29uJyxcclxuICAgICAgYm9keUNvbmZpZ3VyYXRpb24sXHJcbiAgICAgIENvbG9yLm1hZ2VudGEsXHJcbiAgICAgIENvbG9yLndoaXRlLFxyXG4gICAgICBnZXRTd2l0Y2hhYmxlUmVuZGVyZXIoIG1vb25fcG5nLCBtb29uR2VuZXJpY19wbmcsIGJvZHlDb25maWd1cmF0aW9uLm1hc3MgKSxcclxuICAgICAgLTMgKiBNYXRoLlBJIC8gNCxcclxuICAgICAgYm9keUNvbmZpZ3VyYXRpb24ubWFzcyxcclxuICAgICAgR3Jhdml0eUFuZE9yYml0c1N0cmluZ3Mub3VyTW9vblN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBtb2RlbCxcclxuICAgICAgdGFuZGVtLFxyXG4gICAgICBvcHRpb25zXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxudHlwZSBQbGFuZXRPcHRpb25zID0gQm9keU9wdGlvbnM7XHJcblxyXG5jbGFzcyBQbGFuZXQgZXh0ZW5kcyBCb2R5IHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIG1vZGVsXHJcbiAgICogQHBhcmFtIGJvZHlDb25maWd1cmF0aW9uXHJcbiAgICogQHBhcmFtIHRhbmRlbVxyXG4gICAqIEBwYXJhbSBbcHJvdmlkZWRPcHRpb25zXVxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggbW9kZWw6IEdyYXZpdHlBbmRPcmJpdHNNb2RlbCwgYm9keUNvbmZpZ3VyYXRpb246IEJvZHlDb25maWd1cmF0aW9uLCB0YW5kZW06IFRhbmRlbSwgcHJvdmlkZWRPcHRpb25zPzogUGxhbmV0T3B0aW9ucyApIHtcclxuICAgIHN1cGVyKFxyXG4gICAgICAncGxhbmV0JyxcclxuICAgICAgYm9keUNvbmZpZ3VyYXRpb24sXHJcbiAgICAgIENvbG9yLmdyYXksXHJcbiAgICAgIENvbG9yLmxpZ2h0R3JheSxcclxuICAgICAgZ2V0U3dpdGNoYWJsZVJlbmRlcmVyKCBlYXJ0aF9wbmcsIHBsYW5ldEdlbmVyaWNfcG5nLCBib2R5Q29uZmlndXJhdGlvbi5tYXNzICksXHJcbiAgICAgIC1NYXRoLlBJIC8gNCxcclxuICAgICAgYm9keUNvbmZpZ3VyYXRpb24ubWFzcyxcclxuICAgICAgR3Jhdml0eUFuZE9yYml0c1N0cmluZ3MuZWFydGhTdHJpbmdQcm9wZXJ0eSxcclxuICAgICAgbW9kZWwsXHJcbiAgICAgIHRhbmRlbSxcclxuICAgICAgcHJvdmlkZWRPcHRpb25zXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgU3RhciBleHRlbmRzIEJvZHkge1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIG1vZGVsOiBHcmF2aXR5QW5kT3JiaXRzTW9kZWwsIGJvZHlDb25maWd1cmF0aW9uOiBCb2R5Q29uZmlndXJhdGlvbiwgdGFuZGVtOiBUYW5kZW0sIG9wdGlvbnM/OiBCb2R5T3B0aW9ucyApIHtcclxuICAgIHN1cGVyKFxyXG4gICAgICAnc3RhcicsXHJcbiAgICAgIGJvZHlDb25maWd1cmF0aW9uLFxyXG4gICAgICBDb2xvci55ZWxsb3csXHJcbiAgICAgIENvbG9yLndoaXRlLFxyXG4gICAgICBnZXRJbWFnZVJlbmRlcmVyKCBzdW5fcG5nICksXHJcbiAgICAgIC1NYXRoLlBJIC8gNCxcclxuICAgICAgYm9keUNvbmZpZ3VyYXRpb24ubWFzcyxcclxuICAgICAgR3Jhdml0eUFuZE9yYml0c1N0cmluZ3Mub3VyU3VuU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIG1vZGVsLFxyXG4gICAgICB0YW5kZW0sXHJcbiAgICAgIG9wdGlvbnNcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5TY2VuZUZhY3RvcnkuU3VuRWFydGhNb2RlQ29uZmlnID0gU3VuRWFydGhNb2RlQ29uZmlnO1xyXG5TY2VuZUZhY3RvcnkuU3VuRWFydGhNb29uTW9kZUNvbmZpZyA9IFN1bkVhcnRoTW9vbk1vZGVDb25maWc7XHJcblNjZW5lRmFjdG9yeS5QbGFuZXRNb29uTW9kZUNvbmZpZyA9IFBsYW5ldE1vb25Nb2RlQ29uZmlnO1xyXG5TY2VuZUZhY3RvcnkuRWFydGhTcGFjZVN0YXRpb25Nb2RlQ29uZmlnID0gRWFydGhTcGFjZVN0YXRpb25Nb2RlQ29uZmlnO1xyXG5cclxuZ3Jhdml0eUFuZE9yYml0cy5yZWdpc3RlciggJ1NjZW5lRmFjdG9yeScsIFNjZW5lRmFjdG9yeSApO1xyXG5leHBvcnQgZGVmYXVsdCBTY2VuZUZhY3Rvcnk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsS0FBSyxNQUFNLDBCQUEwQjtBQUM1QyxPQUFPQyxPQUFPLE1BQU0sNEJB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