// Copyright 2013-2022, University of Colorado Boulder

/**
 * Visual representation of speed control buttons.
 *
 * @author Andrey Zelenkov (Mlearner)
 * @author Sam Reid (PhET Interactive Simulations)
 * @author Aaron Davis (PhET Interactive Simulations)
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import RestartButton from '../../../../scenery-phet/js/buttons/RestartButton.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import TimeControlNode from '../../../../scenery-phet/js/TimeControlNode.js';
import TimeSpeed from '../../../../scenery-phet/js/TimeSpeed.js';
import gravityAndOrbits from '../../gravityAndOrbits.js';
import GravityAndOrbitsColors from '../GravityAndOrbitsColors.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import animationFrameTimer from '../../../../axon/js/animationFrameTimer.js';
// constants
const PLAY_PAUSE_BUTTON_RADIUS = 34;
const STEP_BUTTON_RADIUS = 23;
const PUSH_BUTTON_SPACING = 8;
class GravityAndOrbitsTimeControlNode extends TimeControlNode {
  constructor(model, providedOptions) {
    super(model.isPlayingProperty, {
      timeSpeedProperty: model.timeSpeedProperty,
      timeSpeeds: [TimeSpeed.FAST, TimeSpeed.NORMAL, TimeSpeed.SLOW],
      playPauseStepButtonOptions: {
        playPauseStepXSpacing: PUSH_BUTTON_SPACING,
        playPauseButtonOptions: {
          radius: PLAY_PAUSE_BUTTON_RADIUS,
          touchAreaDilation: 3
        },
        stepForwardButtonOptions: {
          radius: STEP_BUTTON_RADIUS,
          listener: () => model.sceneProperty.value.getClock().stepClockWhilePaused()
        }
      },
      speedRadioButtonGroupOnLeft: true,
      speedRadioButtonGroupOptions: {
        labelOptions: {
          font: new PhetFont(20),
          fill: GravityAndOrbitsColors.foregroundProperty,
          maxWidth: 200
        }
      },
      tandem: providedOptions.tandem
    });

    // Enable/disable the rewind button based on whether any Property in that scene has changed.
    const dependencies = [model.sceneProperty];
    model.getScenes().forEach(scene => {
      scene.getBodies().forEach(body => {
        body.getRewindableProperties().forEach(property => {
          dependencies.push(property.differentProperty);
          dependencies.push(property);
        });
      });
    });
    const anyPropertyDifferentProperty = DerivedProperty.deriveAny(dependencies, (...args) => {
      let changed = false;
      model.sceneProperty.value.getBodies().forEach(body => {
        body.getRewindableProperties().forEach(property => {
          // Make sure there are no stale values of differentProperty
          property.updateDifferentProperty();
          changed = changed || property.differentProperty.value;
        });
      });
      return changed;
    });
    const restartButton = new RestartButton({
      enabledProperty: anyPropertyDifferentProperty,
      radius: STEP_BUTTON_RADIUS,
      xMargin: 9.5,
      yMargin: 9.5,
      listener: () => model.sceneProperty.value.rewind(),
      center: this.getPlayPauseButtonCenter().minusXY(PLAY_PAUSE_BUTTON_RADIUS + STEP_BUTTON_RADIUS + PUSH_BUTTON_SPACING, 0),
      tandem: providedOptions.tandem.createTandem('restartButton')
    });
    this.addChild(restartButton);

    // Update the enabled property
    Tandem.PHET_IO_ENABLED && phet.phetio.phetioEngine.phetioStateEngine.stateSetEmitter.addListener(() => {
      anyPropertyDifferentProperty.recomputeDerivation();

      // For unknown reasons, we have to wait for this frame to completely resolve before this will work.
      // See https://github.com/phetsims/gravity-and-orbits/issues/459
      animationFrameTimer.runOnNextTick(() => anyPropertyDifferentProperty.recomputeDerivation());
    });
  }
}
gravityAndOrbits.register('GravityAndOrbitsTimeControlNode', GravityAndOrbitsTimeControlNode);
export default GravityAndOrbitsTimeControlNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJSZXN0YXJ0QnV0dG9uIiwiUGhldEZvbnQiLCJUaW1lQ29udHJvbE5vZGUiLCJUaW1lU3BlZWQiLCJncmF2aXR5QW5kT3JiaXRzIiwiR3Jhdml0eUFuZE9yYml0c0NvbG9ycyIsIlRhbmRlbSIsImFuaW1hdGlvbkZyYW1lVGltZXIiLCJQTEFZX1BBVVNFX0JVVFRPTl9SQURJVVMiLCJTVEVQX0JVVFRPTl9SQURJVVMiLCJQVVNIX0JVVFRPTl9TUEFDSU5HIiwiR3Jhdml0eUFuZE9yYml0c1RpbWVDb250cm9sTm9kZSIsImNvbnN0cnVjdG9yIiwibW9kZWwiLCJwcm92aWRlZE9wdGlvbnMiLCJpc1BsYXlpbmdQcm9wZXJ0eSIsInRpbWVTcGVlZFByb3BlcnR5IiwidGltZVNwZWVkcyIsIkZBU1QiLCJOT1JNQUwiLCJTTE9XIiwicGxheVBhdXNlU3RlcEJ1dHRvbk9wdGlvbnMiLCJwbGF5UGF1c2VTdGVwWFNwYWNpbmciLCJwbGF5UGF1c2VCdXR0b25PcHRpb25zIiwicmFkaXVzIiwidG91Y2hBcmVhRGlsYXRpb24iLCJzdGVwRm9yd2FyZEJ1dHRvbk9wdGlvbnMiLCJsaXN0ZW5lciIsInNjZW5lUHJvcGVydHkiLCJ2YWx1ZSIsImdldENsb2NrIiwic3RlcENsb2NrV2hpbGVQYXVzZWQiLCJzcGVlZFJhZGlvQnV0dG9uR3JvdXBPbkxlZnQiLCJzcGVlZFJhZGlvQnV0dG9uR3JvdXBPcHRpb25zIiwibGFiZWxPcHRpb25zIiwiZm9udCIsImZpbGwiLCJmb3JlZ3JvdW5kUHJvcGVydHkiLCJtYXhXaWR0aCIsInRhbmRlbSIsImRlcGVuZGVuY2llcyIsImdldFNjZW5lcyIsImZvckVhY2giLCJzY2VuZSIsImdldEJvZGllcyIsImJvZHkiLCJnZXRSZXdpbmRhYmxlUHJvcGVydGllcyIsInByb3BlcnR5IiwicHVzaCIsImRpZmZlcmVudFByb3BlcnR5IiwiYW55UHJvcGVydHlEaWZmZXJlbnRQcm9wZXJ0eSIsImRlcml2ZUFueSIsImFyZ3MiLCJjaGFuZ2VkIiwidXBkYXRlRGlmZmVyZW50UHJvcGVydHkiLCJyZXN0YXJ0QnV0dG9uIiwiZW5hYmxlZFByb3BlcnR5IiwieE1hcmdpbiIsInlNYXJnaW4iLCJyZXdpbmQiLCJjZW50ZXIiLCJnZXRQbGF5UGF1c2VCdXR0b25DZW50ZXIiLCJtaW51c1hZIiwiY3JlYXRlVGFuZGVtIiwiYWRkQ2hpbGQiLCJQSEVUX0lPX0VOQUJMRUQiLCJwaGV0IiwicGhldGlvIiwicGhldGlvRW5naW5lIiwicGhldGlvU3RhdGVFbmdpbmUiLCJzdGF0ZVNldEVtaXR0ZXIiLCJhZGRMaXN0ZW5lciIsInJlY29tcHV0ZURlcml2YXRpb24iLCJydW5Pbk5leHRUaWNrIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJHcmF2aXR5QW5kT3JiaXRzVGltZUNvbnRyb2xOb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDEzLTIwMjIsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFZpc3VhbCByZXByZXNlbnRhdGlvbiBvZiBzcGVlZCBjb250cm9sIGJ1dHRvbnMuXHJcbiAqXHJcbiAqIEBhdXRob3IgQW5kcmV5IFplbGVua292IChNbGVhcm5lcilcclxuICogQGF1dGhvciBTYW0gUmVpZCAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICogQGF1dGhvciBBYXJvbiBEYXZpcyAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICogQGF1dGhvciBKZXNzZSBHcmVlbmJlcmcgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IERlcml2ZWRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Rlcml2ZWRQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBSZXN0YXJ0QnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9idXR0b25zL1Jlc3RhcnRCdXR0b24uanMnO1xyXG5pbXBvcnQgUGhldEZvbnQgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1BoZXRGb250LmpzJztcclxuaW1wb3J0IFRpbWVDb250cm9sTm9kZSwgeyBUaW1lQ29udHJvbE5vZGVPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1RpbWVDb250cm9sTm9kZS5qcyc7XHJcbmltcG9ydCBUaW1lU3BlZWQgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1RpbWVTcGVlZC5qcyc7XHJcbmltcG9ydCBncmF2aXR5QW5kT3JiaXRzIGZyb20gJy4uLy4uL2dyYXZpdHlBbmRPcmJpdHMuanMnO1xyXG5pbXBvcnQgR3Jhdml0eUFuZE9yYml0c0NvbG9ycyBmcm9tICcuLi9HcmF2aXR5QW5kT3JiaXRzQ29sb3JzLmpzJztcclxuaW1wb3J0IEJvZHkgZnJvbSAnLi4vbW9kZWwvQm9keS5qcyc7XHJcbmltcG9ydCBHcmF2aXR5QW5kT3JiaXRzTW9kZWwgZnJvbSAnLi4vbW9kZWwvR3Jhdml0eUFuZE9yYml0c01vZGVsLmpzJztcclxuaW1wb3J0IFJld2luZGFibGVQcm9wZXJ0eSBmcm9tICcuLi9tb2RlbC9SZXdpbmRhYmxlUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgR3Jhdml0eUFuZE9yYml0c1NjZW5lIGZyb20gJy4uL0dyYXZpdHlBbmRPcmJpdHNTY2VuZS5qcyc7XHJcbmltcG9ydCBQaWNrUmVxdWlyZWQgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1BpY2tSZXF1aXJlZC5qcyc7XHJcbmltcG9ydCB7IEVtcHR5U2VsZk9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuaW1wb3J0IEludGVudGlvbmFsQW55IGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy90eXBlcy9JbnRlbnRpb25hbEFueS5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBhbmltYXRpb25GcmFtZVRpbWVyIGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvYW5pbWF0aW9uRnJhbWVUaW1lci5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBQTEFZX1BBVVNFX0JVVFRPTl9SQURJVVMgPSAzNDtcclxuY29uc3QgU1RFUF9CVVRUT05fUkFESVVTID0gMjM7XHJcbmNvbnN0IFBVU0hfQlVUVE9OX1NQQUNJTkcgPSA4O1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IEVtcHR5U2VsZk9wdGlvbnM7XHJcblxyXG50eXBlIEdyYXZpdHlBbmRPcmJpdHNUaW1lQ29udHJvbE5vZGVPcHRpb25zID0gU2VsZk9wdGlvbnMgJiBQaWNrUmVxdWlyZWQ8VGltZUNvbnRyb2xOb2RlT3B0aW9ucywgJ3RhbmRlbSc+O1xyXG5cclxuY2xhc3MgR3Jhdml0eUFuZE9yYml0c1RpbWVDb250cm9sTm9kZSBleHRlbmRzIFRpbWVDb250cm9sTm9kZSB7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggbW9kZWw6IEdyYXZpdHlBbmRPcmJpdHNNb2RlbCwgcHJvdmlkZWRPcHRpb25zOiBHcmF2aXR5QW5kT3JiaXRzVGltZUNvbnRyb2xOb2RlT3B0aW9ucyApIHtcclxuXHJcbiAgICBzdXBlciggbW9kZWwuaXNQbGF5aW5nUHJvcGVydHksIHtcclxuICAgICAgdGltZVNwZWVkUHJvcGVydHk6IG1vZGVsLnRpbWVTcGVlZFByb3BlcnR5LFxyXG4gICAgICB0aW1lU3BlZWRzOiBbIFRpbWVTcGVlZC5GQVNULCBUaW1lU3BlZWQuTk9STUFMLCBUaW1lU3BlZWQuU0xPVyBdLFxyXG4gICAgICBwbGF5UGF1c2VTdGVwQnV0dG9uT3B0aW9uczoge1xyXG4gICAgICAgIHBsYXlQYXVzZVN0ZXBYU3BhY2luZzogUFVTSF9CVVRUT05fU1BBQ0lORyxcclxuICAgICAgICBwbGF5UGF1c2VCdXR0b25PcHRpb25zOiB7XHJcbiAgICAgICAgICByYWRpdXM6IFBMQVlfUEFVU0VfQlVUVE9OX1JBRElVUyxcclxuICAgICAgICAgIHRvdWNoQXJlYURpbGF0aW9uOiAzXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGVwRm9yd2FyZEJ1dHRvbk9wdGlvbnM6IHtcclxuICAgICAgICAgIHJhZGl1czogU1RFUF9CVVRUT05fUkFESVVTLFxyXG4gICAgICAgICAgbGlzdGVuZXI6ICgpID0+IG1vZGVsLnNjZW5lUHJvcGVydHkudmFsdWUuZ2V0Q2xvY2soKS5zdGVwQ2xvY2tXaGlsZVBhdXNlZCgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBzcGVlZFJhZGlvQnV0dG9uR3JvdXBPbkxlZnQ6IHRydWUsXHJcbiAgICAgIHNwZWVkUmFkaW9CdXR0b25Hcm91cE9wdGlvbnM6IHtcclxuICAgICAgICBsYWJlbE9wdGlvbnM6IHtcclxuICAgICAgICAgIGZvbnQ6IG5ldyBQaGV0Rm9udCggMjAgKSxcclxuICAgICAgICAgIGZpbGw6IEdyYXZpdHlBbmRPcmJpdHNDb2xvcnMuZm9yZWdyb3VuZFByb3BlcnR5LFxyXG4gICAgICAgICAgbWF4V2lkdGg6IDIwMFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgdGFuZGVtOiBwcm92aWRlZE9wdGlvbnMudGFuZGVtXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gRW5hYmxlL2Rpc2FibGUgdGhlIHJld2luZCBidXR0b24gYmFzZWQgb24gd2hldGhlciBhbnkgUHJvcGVydHkgaW4gdGhhdCBzY2VuZSBoYXMgY2hhbmdlZC5cclxuICAgIGNvbnN0IGRlcGVuZGVuY2llczogUHJvcGVydHk8SW50ZW50aW9uYWxBbnk+W10gPSBbIG1vZGVsLnNjZW5lUHJvcGVydHkgXTtcclxuICAgIG1vZGVsLmdldFNjZW5lcygpLmZvckVhY2goIHNjZW5lID0+IHtcclxuICAgICAgc2NlbmUuZ2V0Qm9kaWVzKCkuZm9yRWFjaCggYm9keSA9PiB7XHJcbiAgICAgICAgYm9keS5nZXRSZXdpbmRhYmxlUHJvcGVydGllcygpLmZvckVhY2goICggcHJvcGVydHk6IFJld2luZGFibGVQcm9wZXJ0eTxJbnRlbnRpb25hbEFueT4gKSA9PiB7XHJcbiAgICAgICAgICBkZXBlbmRlbmNpZXMucHVzaCggcHJvcGVydHkuZGlmZmVyZW50UHJvcGVydHkgKTtcclxuICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKCBwcm9wZXJ0eSApO1xyXG4gICAgICAgIH0gKTtcclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGFueVByb3BlcnR5RGlmZmVyZW50UHJvcGVydHkgPSBEZXJpdmVkUHJvcGVydHkuZGVyaXZlQW55KCBkZXBlbmRlbmNpZXMsICggLi4uYXJnczogR3Jhdml0eUFuZE9yYml0c1NjZW5lW10gKSA9PiB7XHJcbiAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgIG1vZGVsLnNjZW5lUHJvcGVydHkudmFsdWUuZ2V0Qm9kaWVzKCkuZm9yRWFjaCggKCBib2R5OiBCb2R5ICkgPT4ge1xyXG5cclxuICAgICAgICBib2R5LmdldFJld2luZGFibGVQcm9wZXJ0aWVzKCkuZm9yRWFjaCggcHJvcGVydHkgPT4ge1xyXG5cclxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGVyZSBhcmUgbm8gc3RhbGUgdmFsdWVzIG9mIGRpZmZlcmVudFByb3BlcnR5XHJcbiAgICAgICAgICBwcm9wZXJ0eS51cGRhdGVEaWZmZXJlbnRQcm9wZXJ0eSgpO1xyXG5cclxuICAgICAgICAgIGNoYW5nZWQgPSBjaGFuZ2VkIHx8IHByb3BlcnR5LmRpZmZlcmVudFByb3BlcnR5LnZhbHVlO1xyXG4gICAgICAgIH0gKTtcclxuICAgICAgfSApO1xyXG4gICAgICByZXR1cm4gY2hhbmdlZDtcclxuICAgIH0gKTtcclxuXHJcblxyXG4gICAgY29uc3QgcmVzdGFydEJ1dHRvbiA9IG5ldyBSZXN0YXJ0QnV0dG9uKCB7XHJcbiAgICAgIGVuYWJsZWRQcm9wZXJ0eTogYW55UHJvcGVydHlEaWZmZXJlbnRQcm9wZXJ0eSxcclxuICAgICAgcmFkaXVzOiBTVEVQX0JVVFRPTl9SQURJVVMsXHJcbiAgICAgIHhNYXJnaW46IDkuNSxcclxuICAgICAgeU1hcmdpbjogOS41LFxyXG4gICAgICBsaXN0ZW5lcjogKCkgPT4gbW9kZWwuc2NlbmVQcm9wZXJ0eS52YWx1ZS5yZXdpbmQoKSxcclxuICAgICAgY2VudGVyOiB0aGlzLmdldFBsYXlQYXVzZUJ1dHRvbkNlbnRlcigpLm1pbnVzWFkoIFBMQVlfUEFVU0VfQlVUVE9OX1JBRElVUyArIFNURVBfQlVUVE9OX1JBRElVUyArIFBVU0hfQlVUVE9OX1NQQUNJTkcsIDAgKSxcclxuICAgICAgdGFuZGVtOiBwcm92aWRlZE9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3Jlc3RhcnRCdXR0b24nIClcclxuICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHJlc3RhcnRCdXR0b24gKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIGVuYWJsZWQgcHJvcGVydHlcclxuICAgIFRhbmRlbS5QSEVUX0lPX0VOQUJMRUQgJiYgcGhldC5waGV0aW8ucGhldGlvRW5naW5lLnBoZXRpb1N0YXRlRW5naW5lLnN0YXRlU2V0RW1pdHRlci5hZGRMaXN0ZW5lciggKCkgPT4ge1xyXG5cclxuICAgICAgYW55UHJvcGVydHlEaWZmZXJlbnRQcm9wZXJ0eS5yZWNvbXB1dGVEZXJpdmF0aW9uKCk7XHJcblxyXG4gICAgICAvLyBGb3IgdW5rbm93biByZWFzb25zLCB3ZSBoYXZlIHRvIHdhaXQgZm9yIHRoaXMgZnJhbWUgdG8gY29tcGxldGVseSByZXNvbHZlIGJlZm9yZSB0aGlzIHdpbGwgd29yay5cclxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9ncmF2aXR5LWFuZC1vcmJpdHMvaXNzdWVzLzQ1OVxyXG4gICAgICBhbmltYXRpb25GcmFtZVRpbWVyLnJ1bk9uTmV4dFRpY2soICgpID0+IGFueVByb3BlcnR5RGlmZmVyZW50UHJvcGVydHkucmVjb21wdXRlRGVyaXZhdGlvbigpICk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG59XHJcblxyXG5ncmF2aXR5QW5kT3JiaXRzLnJlZ2lzdGVyKCAnR3Jhdml0eUFuZE9yYml0c1RpbWVDb250cm9sTm9kZScsIEdyYXZpdHlBbmRPcmJpdHNUaW1lQ29udHJvbE5vZGUgKTtcclxuZXhwb3J0IGRlZmF1bHQgR3Jhdml0eUFuZE9yYml0c1RpbWVDb250cm9sTm9kZTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsZUFBZSxNQUFNLHdDQUF3QztBQUNwRSxPQUFPQyxhQUFhLE1BQU0sc0RBQXNEO0FBQ2hGLE9BQU9DLFFBQVEsTUFBTSx5Q0FBeUM7QUFDOUQsT0FBT0MsZUFBZSxNQUFrQyxnREFBZ0Q7QUFDeEcsT0FBT0MsU0FBUyxNQUFNLDBDQUEwQztBQUNoRSxPQUFPQyxnQkFBZ0IsTUFBTSwyQkFBMkI7QUFDeEQsT0FBT0Msc0JBQXNCLE1BQU0sOEJBQThCO0FBUWpFLE9BQU9DLE1BQU0sTUFBTSxpQ0FBaUM7QUFDcEQsT0FBT0MsbUJBQW1CLE1BQU0sNENBQTRDO0FBRzVFO0FBQ0EsTUFBTUMsd0JBQXdCLEdBQUcsRUFBRTtBQUNuQyxNQUFNQyxrQkFBa0IsR0FBRyxFQUFFO0FBQzdCLE1BQU1DLG1CQUFtQixHQUFHLENBQUM7QUFNN0IsTUFBTUMsK0JBQStCLFNBQVNULGVBQWUsQ0FBQztFQUVyRFUsV0FBV0EsQ0FBRUMsS0FBNEIsRUFBRUMsZUFBdUQsRUFBRztJQUUxRyxLQUFLLENBQUVELEtBQUssQ0FBQ0UsaUJBQWlCLEVBQUU7TUFDOUJDLGlCQUFpQixFQUFFSCxLQUFLLENBQUNHLGlCQUFpQjtNQUMxQ0MsVUFBVSxFQUFFLENBQUVkLFNBQVMsQ0FBQ2UsSUFBSSxFQUFFZixTQUFTLENBQUNnQixNQUFNLEVBQUVoQixTQUFT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