// Copyright 2014-2023, University of Colorado Boulder

/**
 * Node that looks like an edit box and that is used to either display a fixed value or to show what the user has
 * entered, depending on the particular challenge being presented to the user.  It has the capability to display a
 * blinking cursor, which is generally used when this node is being used to show user-entered values.
 *
 * @author Andrey Zelenkov (MLearner)
 */

import stepTimer from '../../../../axon/js/stepTimer.js';
import { HBox, Node, Rectangle, Text } from '../../../../scenery/js/imports.js';
import arithmetic from '../../arithmetic.js';
import ArithmeticStrings from '../../ArithmeticStrings.js';
import ArithmeticConstants from '../ArithmeticConstants.js';
const unknownValueIndicatorString = ArithmeticStrings.unknownValueIndicator;

// constants
const INTERACTIVE_FILL = 'white';
const NON_INTERACTIVE_FILL = '#dddddd';
const MIN_X_MARGIN = 5;
const CURSOR_HEIGHT = new Text('8', {
  font: ArithmeticConstants.EQUATION_FONT_TEXT
}).height * 0.7;

// convenience function to avoid duplicated code
const updateBoxPosition = (box, inputSize) => {
  box.centerX = inputSize.width / 2;
  box.centerY = inputSize.height / 2;
};
class EquationInputNode extends Node {
  /**
   * @param {Property} valueProperty for observing and changing by input
   * @param {Dimension2} size - Dimensions of this input component.
   *
   */
  constructor(valueProperty, size) {
    super();

    // @private - create text and save reference for use in public methods
    this.inputText = new Text(unknownValueIndicatorString, {
      font: ArithmeticConstants.EQUATION_FONT_TEXT,
      maxWidth: size.width - 2 * MIN_X_MARGIN
    });

    // @private - create cursor and save reference for use in public methods
    this.textCursor = new Rectangle(0, 2, 1, CURSOR_HEIGHT, {
      fill: 'black'
    });
    this.cursorContainer = new Node({
      children: [this.textCursor]
    });

    // @private - save reference to input size value for use in public methods
    this.inputSize = size;

    // update text when the value changes
    valueProperty.lazyLink(value => {
      this.inputText.setString(isNaN(value) ? '' : value);
      updateBoxPosition(this._box, size);
    });

    // set up blinking of cursor
    stepTimer.setInterval(() => {
      this.textCursor.visible = !this.textCursor.visible;
    }, ArithmeticConstants.CURSOR_BLINK_INTERVAL);

    // @private - background of this input box
    this.background = new Rectangle(0, 0, size.width, size.height, 5, 5, {
      fill: NON_INTERACTIVE_FILL
    });
    this.addChild(this.background);

    // @private - horizontal box containing the input text and the cursor
    this._box = new HBox({
      children: [this.inputText, new Node({
        children: [this.cursorContainer]
      })],
      centerX: size.width / 2,
      centerY: size.height / 2
    });
    this.addChild(this._box);

    // unfocused state by default
    this.setFocus(false);
  }

  /**
   * Clear the textual value shown in this node.  This is done regardless of the value of the value property that is
   * being monitored by this node.
   * @public
   */
  clear() {
    this.inputText.setString('');
    updateBoxPosition(this._box, this.inputSize);
  }

  /**
   * Set or remove focus, which for this component simply turns the blinking cursor on or off.
   * @param {boolean} focus
   * @public
   */
  setFocus(focus) {
    this.cursorContainer.visible = focus;
  }

  /**
   * Set the appearance of this node to indicate to the user that it is interactive, meaning that their actions are
   * going to change its value.
   * @param {boolean} interactive
   * @public
   */
  setInteractiveAppearance(interactive) {
    this.background.fill = interactive ? INTERACTIVE_FILL : NON_INTERACTIVE_FILL;
  }

  /**
   * Set the textual value of this node to a 'placeholder' value (a question mark at the time of this writing).
   * @public
   */
  setPlaceholder() {
    this.inputText.setString(unknownValueIndicatorString);
    updateBoxPosition(this._box, this.inputSize);
  }
}
arithmetic.register('EquationInputNode', EquationInputNode);
export default EquationInputNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdGVwVGltZXIiLCJIQm94IiwiTm9kZSIsIlJlY3RhbmdsZSIsIlRleHQiLCJhcml0aG1ldGljIiwiQXJpdGhtZXRpY1N0cmluZ3MiLCJBcml0aG1ldGljQ29uc3RhbnRzIiwidW5rbm93blZhbHVlSW5kaWNhdG9yU3RyaW5nIiwidW5rbm93blZhbHVlSW5kaWNhdG9yIiwiSU5URVJBQ1RJVkVfRklMTCIsIk5PTl9JTlRFUkFDVElWRV9GSUxMIiwiTUlOX1hfTUFSR0lOIiwiQ1VSU09SX0hFSUdIVCIsImZvbnQiLCJFUVVBVElPTl9GT05UX1RFWFQiLCJoZWlnaHQiLCJ1cGRhdGVCb3hQb3NpdGlvbiIsImJveCIsImlucHV0U2l6ZSIsImNlbnRlclgiLCJ3aWR0aCIsImNlbnRlclkiLCJFcXVhdGlvbklucHV0Tm9kZSIsImNvbnN0cnVjdG9yIiwidmFsdWVQcm9wZXJ0eSIsInNpemUiLCJpbnB1dFRleHQiLCJtYXhXaWR0aCIsInRleHRDdXJzb3IiLCJmaWxsIiwiY3Vyc29yQ29udGFpbmVyIiwiY2hpbGRyZW4iLCJsYXp5TGluayIsInZhbHVlIiwic2V0U3RyaW5nIiwiaXNOYU4iLCJfYm94Iiwic2V0SW50ZXJ2YWwiLCJ2aXNpYmxlIiwiQ1VSU09SX0JMSU5LX0lOVEVSVkFMIiwiYmFja2dyb3VuZCIsImFkZENoaWxkIiwic2V0Rm9jdXMiLCJjbGVhciIsImZvY3VzIiwic2V0SW50ZXJhY3RpdmVBcHBlYXJhbmNlIiwiaW50ZXJhY3RpdmUiLCJzZXRQbGFjZWhvbGRlciIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiRXF1YXRpb25JbnB1dE5vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTQtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogTm9kZSB0aGF0IGxvb2tzIGxpa2UgYW4gZWRpdCBib3ggYW5kIHRoYXQgaXMgdXNlZCB0byBlaXRoZXIgZGlzcGxheSBhIGZpeGVkIHZhbHVlIG9yIHRvIHNob3cgd2hhdCB0aGUgdXNlciBoYXNcclxuICogZW50ZXJlZCwgZGVwZW5kaW5nIG9uIHRoZSBwYXJ0aWN1bGFyIGNoYWxsZW5nZSBiZWluZyBwcmVzZW50ZWQgdG8gdGhlIHVzZXIuICBJdCBoYXMgdGhlIGNhcGFiaWxpdHkgdG8gZGlzcGxheSBhXHJcbiAqIGJsaW5raW5nIGN1cnNvciwgd2hpY2ggaXMgZ2VuZXJhbGx5IHVzZWQgd2hlbiB0aGlzIG5vZGUgaXMgYmVpbmcgdXNlZCB0byBzaG93IHVzZXItZW50ZXJlZCB2YWx1ZXMuXHJcbiAqXHJcbiAqIEBhdXRob3IgQW5kcmV5IFplbGVua292IChNTGVhcm5lcilcclxuICovXHJcblxyXG5pbXBvcnQgc3RlcFRpbWVyIGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvc3RlcFRpbWVyLmpzJztcclxuaW1wb3J0IHsgSEJveCwgTm9kZSwgUmVjdGFuZ2xlLCBUZXh0IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IGFyaXRobWV0aWMgZnJvbSAnLi4vLi4vYXJpdGhtZXRpYy5qcyc7XHJcbmltcG9ydCBBcml0aG1ldGljU3RyaW5ncyBmcm9tICcuLi8uLi9Bcml0aG1ldGljU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBBcml0aG1ldGljQ29uc3RhbnRzIGZyb20gJy4uL0FyaXRobWV0aWNDb25zdGFudHMuanMnO1xyXG5cclxuY29uc3QgdW5rbm93blZhbHVlSW5kaWNhdG9yU3RyaW5nID0gQXJpdGhtZXRpY1N0cmluZ3MudW5rbm93blZhbHVlSW5kaWNhdG9yO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IElOVEVSQUNUSVZFX0ZJTEwgPSAnd2hpdGUnO1xyXG5jb25zdCBOT05fSU5URVJBQ1RJVkVfRklMTCA9ICcjZGRkZGRkJztcclxuY29uc3QgTUlOX1hfTUFSR0lOID0gNTtcclxuY29uc3QgQ1VSU09SX0hFSUdIVCA9IG5ldyBUZXh0KCAnOCcsIHsgZm9udDogQXJpdGhtZXRpY0NvbnN0YW50cy5FUVVBVElPTl9GT05UX1RFWFQgfSApLmhlaWdodCAqIDAuNztcclxuXHJcbi8vIGNvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIGF2b2lkIGR1cGxpY2F0ZWQgY29kZVxyXG5jb25zdCB1cGRhdGVCb3hQb3NpdGlvbiA9ICggYm94LCBpbnB1dFNpemUgKSA9PiB7XHJcbiAgYm94LmNlbnRlclggPSBpbnB1dFNpemUud2lkdGggLyAyO1xyXG4gIGJveC5jZW50ZXJZID0gaW5wdXRTaXplLmhlaWdodCAvIDI7XHJcbn07XHJcblxyXG5jbGFzcyBFcXVhdGlvbklucHV0Tm9kZSBleHRlbmRzIE5vZGUge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHl9IHZhbHVlUHJvcGVydHkgZm9yIG9ic2VydmluZyBhbmQgY2hhbmdpbmcgYnkgaW5wdXRcclxuICAgKiBAcGFyYW0ge0RpbWVuc2lvbjJ9IHNpemUgLSBEaW1lbnNpb25zIG9mIHRoaXMgaW5wdXQgY29tcG9uZW50LlxyXG4gICAqXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIHZhbHVlUHJvcGVydHksIHNpemUgKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIC8vIEBwcml2YXRlIC0gY3JlYXRlIHRleHQgYW5kIHNhdmUgcmVmZXJlbmNlIGZvciB1c2UgaW4gcHVibGljIG1ldGhvZHNcclxuICAgIHRoaXMuaW5wdXRUZXh0ID0gbmV3IFRleHQoIHVua25vd25WYWx1ZUluZGljYXRvclN0cmluZywge1xyXG4gICAgICBmb250OiBBcml0aG1ldGljQ29uc3RhbnRzLkVRVUFUSU9OX0ZPTlRfVEVYVCxcclxuICAgICAgbWF4V2lkdGg6IHNpemUud2lkdGggLSAyICogTUlOX1hfTUFSR0lOXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQHByaXZhdGUgLSBjcmVhdGUgY3Vyc29yIGFuZCBzYXZlIHJlZmVyZW5jZSBmb3IgdXNlIGluIHB1YmxpYyBtZXRob2RzXHJcbiAgICB0aGlzLnRleHRDdXJzb3IgPSBuZXcgUmVjdGFuZ2xlKCAwLCAyLCAxLCBDVVJTT1JfSEVJR0hULCB7IGZpbGw6ICdibGFjaycgfSApO1xyXG4gICAgdGhpcy5jdXJzb3JDb250YWluZXIgPSBuZXcgTm9kZSggeyBjaGlsZHJlbjogWyB0aGlzLnRleHRDdXJzb3IgXSB9ICk7XHJcblxyXG4gICAgLy8gQHByaXZhdGUgLSBzYXZlIHJlZmVyZW5jZSB0byBpbnB1dCBzaXplIHZhbHVlIGZvciB1c2UgaW4gcHVibGljIG1ldGhvZHNcclxuICAgIHRoaXMuaW5wdXRTaXplID0gc2l6ZTtcclxuXHJcbiAgICAvLyB1cGRhdGUgdGV4dCB3aGVuIHRoZSB2YWx1ZSBjaGFuZ2VzXHJcbiAgICB2YWx1ZVByb3BlcnR5LmxhenlMaW5rKCB2YWx1ZSA9PiB7XHJcbiAgICAgIHRoaXMuaW5wdXRUZXh0LnNldFN0cmluZyggaXNOYU4oIHZhbHVlICkgPyAnJyA6IHZhbHVlICk7XHJcbiAgICAgIHVwZGF0ZUJveFBvc2l0aW9uKCB0aGlzLl9ib3gsIHNpemUgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBzZXQgdXAgYmxpbmtpbmcgb2YgY3Vyc29yXHJcbiAgICBzdGVwVGltZXIuc2V0SW50ZXJ2YWwoICgpID0+IHtcclxuICAgICAgdGhpcy50ZXh0Q3Vyc29yLnZpc2libGUgPSAhdGhpcy50ZXh0Q3Vyc29yLnZpc2libGU7XHJcbiAgICB9LCBBcml0aG1ldGljQ29uc3RhbnRzLkNVUlNPUl9CTElOS19JTlRFUlZBTCApO1xyXG5cclxuICAgIC8vIEBwcml2YXRlIC0gYmFja2dyb3VuZCBvZiB0aGlzIGlucHV0IGJveFxyXG4gICAgdGhpcy5iYWNrZ3JvdW5kID0gbmV3IFJlY3RhbmdsZSggMCwgMCwgc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQsIDUsIDUsIHsgZmlsbDogTk9OX0lOVEVSQUNUSVZFX0ZJTEwgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5iYWNrZ3JvdW5kICk7XHJcblxyXG4gICAgLy8gQHByaXZhdGUgLSBob3Jpem9udGFsIGJveCBjb250YWluaW5nIHRoZSBpbnB1dCB0ZXh0IGFuZCB0aGUgY3Vyc29yXHJcbiAgICB0aGlzLl9ib3ggPSBuZXcgSEJveCgge1xyXG4gICAgICBjaGlsZHJlbjogWyB0aGlzLmlucHV0VGV4dCwgbmV3IE5vZGUoIHsgY2hpbGRyZW46IFsgdGhpcy5jdXJzb3JDb250YWluZXIgXSB9ICkgXSxcclxuICAgICAgY2VudGVyWDogc2l6ZS53aWR0aCAvIDIsXHJcbiAgICAgIGNlbnRlclk6IHNpemUuaGVpZ2h0IC8gMlxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5fYm94ICk7XHJcblxyXG4gICAgLy8gdW5mb2N1c2VkIHN0YXRlIGJ5IGRlZmF1bHRcclxuICAgIHRoaXMuc2V0Rm9jdXMoIGZhbHNlICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbGVhciB0aGUgdGV4dHVhbCB2YWx1ZSBzaG93biBpbiB0aGlzIG5vZGUuICBUaGlzIGlzIGRvbmUgcmVnYXJkbGVzcyBvZiB0aGUgdmFsdWUgb2YgdGhlIHZhbHVlIHByb3BlcnR5IHRoYXQgaXNcclxuICAgKiBiZWluZyBtb25pdG9yZWQgYnkgdGhpcyBub2RlLlxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMuaW5wdXRUZXh0LnNldFN0cmluZyggJycgKTtcclxuICAgIHVwZGF0ZUJveFBvc2l0aW9uKCB0aGlzLl9ib3gsIHRoaXMuaW5wdXRTaXplICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgb3IgcmVtb3ZlIGZvY3VzLCB3aGljaCBmb3IgdGhpcyBjb21wb25lbnQgc2ltcGx5IHR1cm5zIHRoZSBibGlua2luZyBjdXJzb3Igb24gb3Igb2ZmLlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9jdXNcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgc2V0Rm9jdXMoIGZvY3VzICkge1xyXG4gICAgdGhpcy5jdXJzb3JDb250YWluZXIudmlzaWJsZSA9IGZvY3VzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSBhcHBlYXJhbmNlIG9mIHRoaXMgbm9kZSB0byBpbmRpY2F0ZSB0byB0aGUgdXNlciB0aGF0IGl0IGlzIGludGVyYWN0aXZlLCBtZWFuaW5nIHRoYXQgdGhlaXIgYWN0aW9ucyBhcmVcclxuICAgKiBnb2luZyB0byBjaGFuZ2UgaXRzIHZhbHVlLlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW50ZXJhY3RpdmVcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgc2V0SW50ZXJhY3RpdmVBcHBlYXJhbmNlKCBpbnRlcmFjdGl2ZSApIHtcclxuICAgIHRoaXMuYmFja2dyb3VuZC5maWxsID0gaW50ZXJhY3RpdmUgPyBJTlRFUkFDVElWRV9GSUxMIDogTk9OX0lOVEVSQUNUSVZFX0ZJTEw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHRleHR1YWwgdmFsdWUgb2YgdGhpcyBub2RlIHRvIGEgJ3BsYWNlaG9sZGVyJyB2YWx1ZSAoYSBxdWVzdGlvbiBtYXJrIGF0IHRoZSB0aW1lIG9mIHRoaXMgd3JpdGluZykuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqL1xyXG4gIHNldFBsYWNlaG9sZGVyKCkge1xyXG4gICAgdGhpcy5pbnB1dFRleHQuc2V0U3RyaW5nKCB1bmtub3duVmFsdWVJbmRpY2F0b3JTdHJpbmcgKTtcclxuICAgIHVwZGF0ZUJveFBvc2l0aW9uKCB0aGlzLl9ib3gsIHRoaXMuaW5wdXRTaXplICk7XHJcbiAgfVxyXG59XHJcblxyXG5hcml0aG1ldGljLnJlZ2lzdGVyKCAnRXF1YXRpb25JbnB1dE5vZGUnLCBFcXVhdGlvbklucHV0Tm9kZSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRXF1YXRpb25JbnB1dE5vZGU7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxTQUFTLE1BQU0sa0NBQWtDO0FBQ3hELFNBQVND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