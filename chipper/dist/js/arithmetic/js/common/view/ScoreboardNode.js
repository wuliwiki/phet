// Copyright 2014-2023, University of Colorado Boulder

/**
 * Control panel node. Contains refresh button, sound and timer toggle buttons.
 *
 * @author Andrey Zelenkov (MLearner)
 * @author John Blanco
 */

import merge from '../../../../phet-core/js/merge.js';
import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
import RefreshButton from '../../../../scenery-phet/js/buttons/RefreshButton.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { Node, Text, VBox } from '../../../../scenery/js/imports.js';
import Panel from '../../../../sun/js/Panel.js';
import GameTimer from '../../../../vegas/js/GameTimer.js';
import VegasStrings from '../../../../vegas/js/VegasStrings.js';
import arithmetic from '../../arithmetic.js';
import ArithmeticStrings from '../../ArithmeticStrings.js';
import GameState from '../model/GameState.js';
const labelScorePatternString = VegasStrings.label.scorePattern;
const labelTimeString = VegasStrings.label.time;
const patternLevel0LevelNumberString = ArithmeticStrings.pattern.level['0levelNumber'];

// constants
const FONT = new PhetFont({
  size: 18
});
const FONT_BOLD = new PhetFont({
  size: 18,
  weight: 'bold'
});
const PANEL_OPTIONS = {
  fill: '#dddddd',
  lineWidth: 0.5,
  xMargin: 23,
  yMargin: 23,
  cornerRadius: 5,
  align: 'center'
};
const SPACING = 16;
class ScoreboardNode extends Node {
  /**
   * @param {Property} levelNumberProperty - property for level displaying label.
   * @param {Property} stateProperty - State of game property.
   * @param {Array.<LevelModel>} levelModels - Array of properties for score counter component.
   * @param {Property} timerEnabledProperty - Time enabling flag.
   * @param {Function} refreshLevelCallback - Callback listener for refresh level button.
   * @param {Object} [options] - optional parameters that control the appearance and behavior of the panel
   */
  constructor(levelNumberProperty, stateProperty, levelModels, timerEnabledProperty, refreshLevelCallback, options) {
    options = merge({
      title: ''
    }, options);
    const levelText = new Text(StringUtils.format(patternLevel0LevelNumberString, ''), {
      font: FONT_BOLD
    });
    const scoreText = new Text(StringUtils.format(labelScorePatternString, '0'), {
      font: FONT
    });
    const timeText = new Text(StringUtils.format(labelTimeString, GameTimer.formatTime(0)), {
      font: FONT
    });
    const panelOptions = merge({}, PANEL_OPTIONS, options);
    super();

    // add control panel components
    const vBox = new VBox({
      spacing: SPACING,
      children: [new Text(options.title, {
        font: FONT_BOLD
      }), levelText, scoreText, timeText,
      // add refresh button
      new RefreshButton({
        iconScale: 0.6,
        xMargin: 14,
        yMargin: 7,
        listener: refreshLevelCallback
      })]
    });
    this.addChild(new Panel(vBox, panelOptions));

    // add observers
    const updateScore = score => {
      scoreText.string = StringUtils.format(labelScorePatternString, score.toString());
    };
    const updateTime = time => {
      timeText.string = StringUtils.format(labelTimeString, GameTimer.formatTime(time));
    };
    levelNumberProperty.lazyLink((levelNew, levelPrevious) => {
      if (levelNew !== null) {
        levelText.string = StringUtils.format(patternLevel0LevelNumberString, (levelNew + 1).toString());
      } else {
        levelText.string = '';
      }

      // unlink observers for previous level
      if (levelModels[levelPrevious]) {
        levelModels[levelPrevious].currentScoreProperty.unlink(updateScore);
        levelModels[levelPrevious].gameTimer.elapsedTimeProperty.unlink(updateTime);
      }

      // link observers for new level
      if (stateProperty.value === GameState.SELECTING_LEVEL && levelModels[levelNew]) {
        levelModels[levelNew].currentScoreProperty.link(updateScore);
        levelModels[levelNew].gameTimer.elapsedTimeProperty.link(updateTime);
      }
    });

    // add/remove time readout
    timerEnabledProperty.link(isTimerEnabled => {
      if (isTimerEnabled) {
        vBox.insertChild(2, timeText); // 2 - index of initial place for time
      } else {
        vBox.removeChild(timeText);
      }
    });
  }
}
arithmetic.register('ScoreboardNode', ScoreboardNode);
export default ScoreboardNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZXJnZSIsIlN0cmluZ1V0aWxzIiwiUmVmcmVzaEJ1dHRvbiIsIlBoZXRGb250IiwiTm9kZSIsIlRleHQiLCJWQm94IiwiUGFuZWwiLCJHYW1lVGltZXIiLCJWZWdhc1N0cmluZ3MiLCJhcml0aG1ldGljIiwiQXJpdGhtZXRpY1N0cmluZ3MiLCJHYW1lU3RhdGUiLCJsYWJlbFNjb3JlUGF0dGVyblN0cmluZyIsImxhYmVsIiwic2NvcmVQYXR0ZXJuIiwibGFiZWxUaW1lU3RyaW5nIiwidGltZSIsInBhdHRlcm5MZXZlbDBMZXZlbE51bWJlclN0cmluZyIsInBhdHRlcm4iLCJsZXZlbCIsIkZPTlQiLCJzaXplIiwiRk9OVF9CT0xEIiwid2VpZ2h0IiwiUEFORUxfT1BUSU9OUyIsImZpbGwiLCJsaW5lV2lkdGgiLCJ4TWFyZ2luIiwieU1hcmdpbiIsImNvcm5lclJhZGl1cyIsImFsaWduIiwiU1BBQ0lORyIsIlNjb3JlYm9hcmROb2RlIiwiY29uc3RydWN0b3IiLCJsZXZlbE51bWJlclByb3BlcnR5Iiwic3RhdGVQcm9wZXJ0eSIsImxldmVsTW9kZWxzIiwidGltZXJFbmFibGVkUHJvcGVydHkiLCJyZWZyZXNoTGV2ZWxDYWxsYmFjayIsIm9wdGlvbnMiLCJ0aXRsZSIsImxldmVsVGV4dCIsImZvcm1hdCIsImZvbnQiLCJzY29yZVRleHQiLCJ0aW1lVGV4dCIsImZvcm1hdFRpbWUiLCJwYW5lbE9wdGlvbnMiLCJ2Qm94Iiwic3BhY2luZyIsImNoaWxkcmVuIiwiaWNvblNjYWxlIiwibGlzdGVuZXIiLCJhZGRDaGlsZCIsInVwZGF0ZVNjb3JlIiwic2NvcmUiLCJzdHJpbmciLCJ0b1N0cmluZyIsInVwZGF0ZVRpbWUiLCJsYXp5TGluayIsImxldmVsTmV3IiwibGV2ZWxQcmV2aW91cyIsImN1cnJlbnRTY29yZVByb3BlcnR5IiwidW5saW5rIiwiZ2FtZVRpbWVyIiwiZWxhcHNlZFRpbWVQcm9wZXJ0eSIsInZhbHVlIiwiU0VMRUNUSU5HX0xFVkVMIiwibGluayIsImlzVGltZXJFbmFibGVkIiwiaW5zZXJ0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiU2NvcmVib2FyZE5vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTQtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQ29udHJvbCBwYW5lbCBub2RlLiBDb250YWlucyByZWZyZXNoIGJ1dHRvbiwgc291bmQgYW5kIHRpbWVyIHRvZ2dsZSBidXR0b25zLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEFuZHJleSBaZWxlbmtvdiAoTUxlYXJuZXIpXHJcbiAqIEBhdXRob3IgSm9obiBCbGFuY29cclxuICovXHJcblxyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvdXRpbC9TdHJpbmdVdGlscy5qcyc7XHJcbmltcG9ydCBSZWZyZXNoQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9idXR0b25zL1JlZnJlc2hCdXR0b24uanMnO1xyXG5pbXBvcnQgUGhldEZvbnQgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1BoZXRGb250LmpzJztcclxuaW1wb3J0IHsgTm9kZSwgVGV4dCwgVkJveCB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBQYW5lbCBmcm9tICcuLi8uLi8uLi8uLi9zdW4vanMvUGFuZWwuanMnO1xyXG5pbXBvcnQgR2FtZVRpbWVyIGZyb20gJy4uLy4uLy4uLy4uL3ZlZ2FzL2pzL0dhbWVUaW1lci5qcyc7XHJcbmltcG9ydCBWZWdhc1N0cmluZ3MgZnJvbSAnLi4vLi4vLi4vLi4vdmVnYXMvanMvVmVnYXNTdHJpbmdzLmpzJztcclxuaW1wb3J0IGFyaXRobWV0aWMgZnJvbSAnLi4vLi4vYXJpdGhtZXRpYy5qcyc7XHJcbmltcG9ydCBBcml0aG1ldGljU3RyaW5ncyBmcm9tICcuLi8uLi9Bcml0aG1ldGljU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBHYW1lU3RhdGUgZnJvbSAnLi4vbW9kZWwvR2FtZVN0YXRlLmpzJztcclxuXHJcbmNvbnN0IGxhYmVsU2NvcmVQYXR0ZXJuU3RyaW5nID0gVmVnYXNTdHJpbmdzLmxhYmVsLnNjb3JlUGF0dGVybjtcclxuY29uc3QgbGFiZWxUaW1lU3RyaW5nID0gVmVnYXNTdHJpbmdzLmxhYmVsLnRpbWU7XHJcbmNvbnN0IHBhdHRlcm5MZXZlbDBMZXZlbE51bWJlclN0cmluZyA9IEFyaXRobWV0aWNTdHJpbmdzLnBhdHRlcm4ubGV2ZWxbICcwbGV2ZWxOdW1iZXInIF07XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgRk9OVCA9IG5ldyBQaGV0Rm9udCggeyBzaXplOiAxOCB9ICk7XHJcbmNvbnN0IEZPTlRfQk9MRCA9IG5ldyBQaGV0Rm9udCggeyBzaXplOiAxOCwgd2VpZ2h0OiAnYm9sZCcgfSApO1xyXG5jb25zdCBQQU5FTF9PUFRJT05TID0ge1xyXG4gIGZpbGw6ICcjZGRkZGRkJyxcclxuICBsaW5lV2lkdGg6IDAuNSxcclxuICB4TWFyZ2luOiAyMyxcclxuICB5TWFyZ2luOiAyMyxcclxuICBjb3JuZXJSYWRpdXM6IDUsXHJcbiAgYWxpZ246ICdjZW50ZXInXHJcbn07XHJcbmNvbnN0IFNQQUNJTkcgPSAxNjtcclxuXHJcbmNsYXNzIFNjb3JlYm9hcmROb2RlIGV4dGVuZHMgTm9kZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHl9IGxldmVsTnVtYmVyUHJvcGVydHkgLSBwcm9wZXJ0eSBmb3IgbGV2ZWwgZGlzcGxheWluZyBsYWJlbC5cclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5fSBzdGF0ZVByb3BlcnR5IC0gU3RhdGUgb2YgZ2FtZSBwcm9wZXJ0eS5cclxuICAgKiBAcGFyYW0ge0FycmF5LjxMZXZlbE1vZGVsPn0gbGV2ZWxNb2RlbHMgLSBBcnJheSBvZiBwcm9wZXJ0aWVzIGZvciBzY29yZSBjb3VudGVyIGNvbXBvbmVudC5cclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5fSB0aW1lckVuYWJsZWRQcm9wZXJ0eSAtIFRpbWUgZW5hYmxpbmcgZmxhZy5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZyZXNoTGV2ZWxDYWxsYmFjayAtIENhbGxiYWNrIGxpc3RlbmVyIGZvciByZWZyZXNoIGxldmVsIGJ1dHRvbi5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gb3B0aW9uYWwgcGFyYW1ldGVycyB0aGF0IGNvbnRyb2wgdGhlIGFwcGVhcmFuY2UgYW5kIGJlaGF2aW9yIG9mIHRoZSBwYW5lbFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBsZXZlbE51bWJlclByb3BlcnR5LCBzdGF0ZVByb3BlcnR5LCBsZXZlbE1vZGVscywgdGltZXJFbmFibGVkUHJvcGVydHksIHJlZnJlc2hMZXZlbENhbGxiYWNrLCBvcHRpb25zICkge1xyXG5cclxuICAgIG9wdGlvbnMgPSBtZXJnZSgge1xyXG4gICAgICB0aXRsZTogJydcclxuICAgIH0sIG9wdGlvbnMgKTtcclxuICAgIGNvbnN0IGxldmVsVGV4dCA9IG5ldyBUZXh0KCBTdHJpbmdVdGlscy5mb3JtYXQoIHBhdHRlcm5MZXZlbDBMZXZlbE51bWJlclN0cmluZywgJycgKSwgeyBmb250OiBGT05UX0JPTEQgfSApO1xyXG4gICAgY29uc3Qgc2NvcmVUZXh0ID0gbmV3IFRleHQoIFN0cmluZ1V0aWxzLmZvcm1hdCggbGFiZWxTY29yZVBhdHRlcm5TdHJpbmcsICcwJyApLCB7IGZvbnQ6IEZPTlQgfSApO1xyXG4gICAgY29uc3QgdGltZVRleHQgPSBuZXcgVGV4dCggU3RyaW5nVXRpbHMuZm9ybWF0KCBsYWJlbFRpbWVTdHJpbmcsIEdhbWVUaW1lci5mb3JtYXRUaW1lKCAwICkgKSwgeyBmb250OiBGT05UIH0gKTtcclxuXHJcbiAgICBjb25zdCBwYW5lbE9wdGlvbnMgPSBtZXJnZSgge30sIFBBTkVMX09QVElPTlMsIG9wdGlvbnMgKTtcclxuXHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIC8vIGFkZCBjb250cm9sIHBhbmVsIGNvbXBvbmVudHNcclxuICAgIGNvbnN0IHZCb3ggPSBuZXcgVkJveCgge1xyXG4gICAgICBzcGFjaW5nOiBTUEFDSU5HLFxyXG4gICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgIG5ldyBUZXh0KCBvcHRpb25zLnRpdGxlLCB7IGZvbnQ6IEZPTlRfQk9MRCB9ICksXHJcbiAgICAgICAgbGV2ZWxUZXh0LFxyXG4gICAgICAgIHNjb3JlVGV4dCxcclxuICAgICAgICB0aW1lVGV4dCxcclxuICAgICAgICAvLyBhZGQgcmVmcmVzaCBidXR0b25cclxuICAgICAgICBuZXcgUmVmcmVzaEJ1dHRvbigge1xyXG4gICAgICAgICAgaWNvblNjYWxlOiAwLjYsXHJcbiAgICAgICAgICB4TWFyZ2luOiAxNCxcclxuICAgICAgICAgIHlNYXJnaW46IDcsXHJcbiAgICAgICAgICBsaXN0ZW5lcjogcmVmcmVzaExldmVsQ2FsbGJhY2tcclxuICAgICAgICB9IClcclxuICAgICAgXVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggbmV3IFBhbmVsKCB2Qm94LCBwYW5lbE9wdGlvbnMgKSApO1xyXG5cclxuICAgIC8vIGFkZCBvYnNlcnZlcnNcclxuICAgIGNvbnN0IHVwZGF0ZVNjb3JlID0gc2NvcmUgPT4ge1xyXG4gICAgICBzY29yZVRleHQuc3RyaW5nID0gU3RyaW5nVXRpbHMuZm9ybWF0KCBsYWJlbFNjb3JlUGF0dGVyblN0cmluZywgc2NvcmUudG9TdHJpbmcoKSApO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVUaW1lID0gdGltZSA9PiB7XHJcbiAgICAgIHRpbWVUZXh0LnN0cmluZyA9IFN0cmluZ1V0aWxzLmZvcm1hdCggbGFiZWxUaW1lU3RyaW5nLCBHYW1lVGltZXIuZm9ybWF0VGltZSggdGltZSApICk7XHJcbiAgICB9O1xyXG5cclxuICAgIGxldmVsTnVtYmVyUHJvcGVydHkubGF6eUxpbmsoICggbGV2ZWxOZXcsIGxldmVsUHJldmlvdXMgKSA9PiB7XHJcbiAgICAgIGlmICggbGV2ZWxOZXcgIT09IG51bGwgKSB7XHJcbiAgICAgICAgbGV2ZWxUZXh0LnN0cmluZyA9IFN0cmluZ1V0aWxzLmZvcm1hdCggcGF0dGVybkxldmVsMExldmVsTnVtYmVyU3RyaW5nLCAoIGxldmVsTmV3ICsgMSApLnRvU3RyaW5nKCkgKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBsZXZlbFRleHQuc3RyaW5nID0gJyc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHVubGluayBvYnNlcnZlcnMgZm9yIHByZXZpb3VzIGxldmVsXHJcbiAgICAgIGlmICggbGV2ZWxNb2RlbHNbIGxldmVsUHJldmlvdXMgXSApIHtcclxuICAgICAgICBsZXZlbE1vZGVsc1sgbGV2ZWxQcmV2aW91cyBdLmN1cnJlbnRTY29yZVByb3BlcnR5LnVubGluayggdXBkYXRlU2NvcmUgKTtcclxuICAgICAgICBsZXZlbE1vZGVsc1sgbGV2ZWxQcmV2aW91cyBdLmdhbWVUaW1lci5lbGFwc2VkVGltZVByb3BlcnR5LnVubGluayggdXBkYXRlVGltZSApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBsaW5rIG9ic2VydmVycyBmb3IgbmV3IGxldmVsXHJcbiAgICAgIGlmICggc3RhdGVQcm9wZXJ0eS52YWx1ZSA9PT0gR2FtZVN0YXRlLlNFTEVDVElOR19MRVZFTCAmJiBsZXZlbE1vZGVsc1sgbGV2ZWxOZXcgXSApIHtcclxuICAgICAgICBsZXZlbE1vZGVsc1sgbGV2ZWxOZXcgXS5jdXJyZW50U2NvcmVQcm9wZXJ0eS5saW5rKCB1cGRhdGVTY29yZSApO1xyXG4gICAgICAgIGxldmVsTW9kZWxzWyBsZXZlbE5ldyBdLmdhbWVUaW1lci5lbGFwc2VkVGltZVByb3BlcnR5LmxpbmsoIHVwZGF0ZVRpbWUgKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGFkZC9yZW1vdmUgdGltZSByZWFkb3V0XHJcbiAgICB0aW1lckVuYWJsZWRQcm9wZXJ0eS5saW5rKCBpc1RpbWVyRW5hYmxlZCA9PiB7XHJcbiAgICAgIGlmICggaXNUaW1lckVuYWJsZWQgKSB7XHJcbiAgICAgICAgdkJveC5pbnNlcnRDaGlsZCggMiwgdGltZVRleHQgKTsgLy8gMiAtIGluZGV4IG9mIGluaXRpYWwgcGxhY2UgZm9yIHRpbWVcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICB2Qm94LnJlbW92ZUNoaWxkKCB0aW1lVGV4dCApO1xyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcbiAgfVxyXG59XHJcblxyXG5hcml0aG1ldGljLnJlZ2lzdGVyKCAnU2NvcmVib2FyZE5vZGUnLCBTY29yZWJvYXJkTm9kZSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NvcmVib2FyZE5vZGU7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsS0FBSyxNQUFNLG1DQUFtQztBQUNyRCxPQUFPQyxXQUFXLE1BQU0sK0NBQStDO0FBQ3ZFLE9BQU9DLGFBQWEsTUFBTSxzREFBc0Q7QUFDaEYsT0FBT0MsUUFBUSxNQUFNLHlDQUF5QztBQUM5RCxTQUFTQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxRQUFRLG1DQUFtQztBQUNwRSxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLFNBQVMsTUFBTSxtQ0FBbUM7QUFDekQsT0FBT0MsWUFBWSxNQUFNLHNDQUFzQztBQUMvRCxPQUFPQyxVQUFVLE1BQU0scUJBQXFCO0FBQzVDLE9BQU9DLGlCQUFpQixNQUFNLDRCQUE0QjtBQUMxRCxPQUFPQyxTQUFTLE1BQU0sdUJBQXVCO0FBRTdDLE1BQU1DLHVCQUF1QixHQUFHSixZQUFZLENBQUNLLEtBQUssQ0FBQ0MsWUFBWTtBQUMvRCxNQUFNQyxlQUFlLEdBQUdQLFlBQVksQ0FBQ0ssS0FBSyxDQUFDRyxJQUFJO0FBQy9DLE1BQU1DLDhCQUE4QixHQUFHUCxpQkFBaUIsQ0FBQ1EsT0FBTyxDQUFDQyxLQUFLLENBQUUsY0FBYyxDQUFFOztBQUV4RjtBQUNBLE1BQU1DLElBQUksR0FBRyxJQUFJbEIsUUFBUSxDQUFFO0VBQUVtQixJQUFJLEVBQUU7QUFBRyxDQUFFLENBQUM7QUFDekMsTUFBTUMsU0FBUyxHQUFHLElBQUlwQixRQUFRLENBQUU7RUFBRW1CLElBQUksRUFBRSxFQUFFO0VBQUVFLE1BQU0sRUFBRTtBQUFPLENBQUUsQ0FBQztBQUM5RCxNQUFNQyxhQUFhLEdBQUc7RUFDcEJDLElBQUksRUFBRSxTQUFTO0VBQ2ZDLFNBQVMsRUFBRSxHQUFHO0VBQ2RDLE9BQU8sRUFBRSxFQUFFO0VBQ1hDLE9BQU8sRUFBRSxFQUFFO0VBQ1hDLFlBQVksRUFBRSxDQUFDO0VBQ2ZDLEtBQUssRUFBRTtBQUNULENBQUM7QUFDRCxNQUFNQyxPQUFPLEdBQUcsRUFBRTtBQUVsQixNQUFNQyxjQUFjLFNBQVM3QixJQUFJLENBQUM7RUFFaEM7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFOEIsV0FBV0EsQ0FBRUMsbUJBQW1CLEVBQUVDLGFBQWEsRUFBRUMsV0FBVyxFQUFFQyxvQkFBb0IsRUFBRUMsb0JBQW9CLEVBQUVDLE9BQU8sRUFBRztJQUVsSEEsT0FBTyxHQUFHeEMsS0FBSyxDQUFFO01BQ2Z5QyxLQUFLLEVBQUU7SUFDVCxDQUFDLEVBQUVELE9BQVEsQ0FBQztJQUNaLE1BQU1FLFNBQVMsR0FBRyxJQUFJckMsSUFBSSxDQUFFSixXQUFXLENBQUMwQyxNQUFNLENBQUV6Qiw4QkFBOEIsRUFBRSxFQUFHLENBQUMsRUFBRTtNQUFFMEIsSUFBSSxFQUFFckI7SUFBVSxDQUFFLENBQUM7SUFDM0csTUFBTXNCLFNBQVMsR0FBRyxJQUFJeEMsSUFBSSxDQUFFSixXQUFXLENBQUMwQyxNQUFNLENBQUU5Qix1QkFBdUIsRUFBRSxHQUFJLENBQUMsRUFBRTtNQUFFK0IsSUFBSSxFQUFFdkI7SUFBSyxDQUFFLENBQUM7SUFDaEcsTUFBTXlCLFFBQVEsR0FBRyxJQUFJekMsSUFBSSxDQUFFSixXQUFXLENBQUMwQyxNQUFNLENBQUUzQixlQUFlLEVBQUVSLFNBQVMsQ0FBQ3VDLFVBQVUsQ0FBRSxDQUFFLENBQUUsQ0FBQyxFQUFFO01BQUVILElBQUksRUFBRXZCO0lBQUssQ0FBRSxDQUFDO0lBRTdHLE1BQU0yQixZQUFZLEdBQUdoRCxLQUFLLENBQUUsQ0FBQyxDQUFDLEVBQUV5QixhQUFhLEVBQUVlLE9BQVEsQ0FBQztJQUV4RCxLQUFLLENBQUMsQ0FBQzs7SUFFUDtJQUNBLE1BQU1TLElBQUksR0FBRyxJQUFJM0MsSUFBSSxDQUFFO01BQ3JCNEMsT0FBTyxFQUFFbEIsT0FBTztNQUNoQm1CLFFBQVEsRUFBRSxDQUNSLElBQUk5QyxJQUFJLENBQUVtQyxPQUFPLENBQUNDLEtBQUssRUFBRTtRQUFFRyxJQUFJLEVBQUVyQjtNQUFVLENBQUUsQ0FBQyxFQUM5Q21CLFNBQVMsRUFDVEcsU0FBUyxFQUNUQyxRQUFRO01BQ1I7TUFDQSxJQUFJNUMsYUFBYSxDQUFFO1FBQ2pCa0QsU0FBUyxFQUFFLEdBQUc7UUFDZHhCLE9BQU8sRUFBRSxFQUFFO1FBQ1hDLE9BQU8sRUFBRSxDQUFDO1FBQ1Z3QixRQUFRLEVBQUVkO01BQ1osQ0FBRSxDQUFDO0lBRVAsQ0FBRSxDQUFDO0lBQ0gsSUFBSSxDQUFDZSxRQUFRLENBQUUsSUFBSS9DLEtBQUssQ0FBRTBDLElBQUksRUFBRUQsWUFBYSxDQUFFLENBQUM7O0lBRWhEO0lBQ0EsTUFBTU8sV0FBVyxHQUFHQyxLQUFLLElBQUk7TUFDM0JYLFNBQVMsQ0FBQ1ksTUFBTSxHQUFHeEQsV0FBVyxDQUFDMEMsTUFBTSxDQUFFOUIsdUJBQXVCLEVBQUUyQyxLQUFLLENBQUNFLFFBQVEsQ0FBQyxDQUFFLENBQUM7SUFDcEYsQ0FBQztJQUVELE1BQU1DLFVBQVUsR0FBRzFDLElBQUksSUFBSTtNQUN6QjZCLFFBQVEsQ0FBQ1csTUFBTSxHQUFHeEQsV0FBVyxDQUFDMEMsTUFBTSxDQUFFM0IsZUFBZSxFQUFFUixTQUFTLENBQUN1QyxVQUFVLENBQUU5QixJQUFLLENBQUUsQ0FBQztJQUN2RixDQUFDO0lBRURrQixtQkFBbUIsQ0FBQ3lCLFFBQVEsQ0FBRSxDQUFFQyxRQUFRLEVBQUVDLGFBQWEsS0FBTTtNQUMzRCxJQUFLRCxRQUFRLEtBQUssSUFBSSxFQUFHO1FBQ3ZCbkIsU0FBUyxDQUFDZSxNQUFNLEdBQUd4RCxXQUFXLENBQUMwQyxNQUFNLENBQUV6Qiw4QkFBOEIsRUFBRSxDQUFFMkMsUUFBUSxHQUFHLENBQUMsRUFBR0gsUUFBUSxDQUFDLENBQUUsQ0FBQztNQUN0RyxDQUFDLE1BQ0k7UUFDSGhCLFNBQVMsQ0FBQ2UsTUFBTSxHQUFHLEVBQUU7TUFDdkI7O01BRUE7TUFDQSxJQUFLcEIsV0FBVyxDQUFFeUIsYUFBYSxDQUFFLEVBQUc7UUFDbEN6QixXQUFXLENBQUV5QixhQUFhLENBQUUsQ0FBQ0Msb0JBQW9CLENBQUNDLE1BQU0sQ0FBRVQsV0FBWSxDQUFDO1FBQ3ZFbEIsV0FBVyxDQUFFeUIsYUFBYSxDQUFFLENBQUNHLFNBQVMsQ0FBQ0MsbUJBQW1CLENBQUNGLE1BQU0sQ0FBRUwsVUFBVyxDQUFDO01BQ2pGOztNQUVBO01BQ0EsSUFBS3ZCLGFBQWEsQ0FBQytCLEtBQUssS0FBS3ZELFNBQVMsQ0FBQ3dELGVBQWUsSUFBSS9CLFdBQVcsQ0FBRXdCLFFBQVEsQ0FBRSxFQUFHO1FBQ2xGeEIsV0FBVyxDQUFFd0IsUUFBUSxDQUFFLENBQUNFLG9CQUFvQixDQUFDTSxJQUFJLENBQUVkLFdBQVksQ0FBQztRQUNoRWxCLFdBQVcsQ0FBRXdCLFFBQVEsQ0FBRSxDQUFDSSxTQUFTLENBQUNDLG1CQUFtQixDQUFDRyxJQUFJLENBQUVWLFVBQVcsQ0FBQztNQUMxRTtJQUNGLENBQUUsQ0FBQzs7SUFFSDtJQUNBckIsb0JBQW9CLENBQUMrQixJQUFJLENBQUVDLGNBQWMsSUFBSTtNQUMzQyxJQUFLQSxjQUFjLEVBQUc7UUFDcEJyQixJQUFJLENBQUNzQixXQUFXLENBQUUsQ0FBQyxFQUFFekIsUUFBUyxDQUFDLENBQUMsQ0FBQztNQUNuQyxDQUFDLE1BQ0k7UUFDSEcsSUFBSSxDQUFDdUIsV0FBVyxDQUFFMUIsUUFBUyxDQUFDO01BQzlCO0lBQ0YsQ0FBRSxDQUFDO0VBQ0w7QUFDRjtBQUVBcEMsVUFBVSxDQUFDK0QsUUFBUSxDQUFFLGdCQUFnQixFQUFFeEMsY0FBZSxDQUFDO0FBRXZELGVBQWVBLGNBQWMifQ==