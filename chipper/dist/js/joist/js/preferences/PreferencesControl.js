// Copyright 2021-2023, University of Colorado Boulder

/**
 * A ToggleSwitch decorated with a visual label and description with layout for each. To be used in the
 * PreferencesDialog.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 * @author Marla Schulz (PhET Interactive Simulations)
 */

import optionize from '../../../phet-core/js/optionize.js';
import { GridBox, SceneryConstants } from '../../../scenery/js/imports.js';
import joist from '../joist.js';
// Layout using GridBox and layoutOptions will accomplish the following when all components are available.
// [[labelNode]]         [[ToggleSwitch]]
// [[descriptionNode                   ]]
class PreferencesControl extends GridBox {
  constructor(providedOptions) {
    const options = optionize()({
      headingControl: false,
      labelSpacing: 10,
      valueLabelXSpacing: 8,
      ySpacing: 5,
      nestedContent: [],
      grow: 1,
      layoutOptions: {
        stretch: !providedOptions?.headingControl
      }
    }, providedOptions);
    super(options);
    if (options.controlNode) {
      assert && assert(options.controlNode.layoutOptions === null, 'PreferencesControl will control layout');
      this.enabledProperty.link(enabled => {
        options.controlNode.enabled = enabled;
      });
      options.controlNode.layoutOptions = {
        row: 0,
        column: 1,
        xAlign: 'right'
      };
      this.addChild(options.controlNode);
    }
    if (options.labelNode) {
      assert && assert(options.labelNode.layoutOptions === null, 'PreferencesControl will control layout');
      options.labelNode.layoutOptions = {
        row: 0,
        column: 0,
        xAlign: 'left',
        rightMargin: options.labelSpacing
      };
      this.addChild(options.labelNode);
    }

    // descriptionNode will be in the second row if a labelNode is provided.
    if (options.descriptionNode && options.labelNode) {
      assert && assert(options.descriptionNode.layoutOptions === null, 'PreferencesControl will control layout');
      options.descriptionNode.layoutOptions = {
        row: 1,
        column: 0,
        horizontalSpan: 2,
        xAlign: 'left'
      };
      this.addChild(options.descriptionNode);
    }

    // descriptionNode will be in the first row if labelNode is not provided.
    else if (options.descriptionNode) {
      assert && assert(options.descriptionNode.layoutOptions === null, 'PreferencesControl will control layout');
      options.descriptionNode.layoutOptions = {
        row: 0,
        column: 0,
        xAlign: 'left'
      };
      this.addChild(options.descriptionNode);
    }

    // This component manages disabledOpacity, we don't want it to compound over subcomponents.
    this.disabledOpacity = SceneryConstants.DISABLED_OPACITY;
  }
}
joist.register('PreferencesControl', PreferencesControl);
export default PreferencesControl;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcHRpb25pemUiLCJHcmlkQm94IiwiU2NlbmVyeUNvbnN0YW50cyIsImpvaXN0IiwiUHJlZmVyZW5jZXNDb250cm9sIiwiY29uc3RydWN0b3IiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwiaGVhZGluZ0NvbnRyb2wiLCJsYWJlbFNwYWNpbmciLCJ2YWx1ZUxhYmVsWFNwYWNpbmciLCJ5U3BhY2luZyIsIm5lc3RlZENvbnRlbnQiLCJncm93IiwibGF5b3V0T3B0aW9ucyIsInN0cmV0Y2giLCJjb250cm9sTm9kZSIsImFzc2VydCIsImVuYWJsZWRQcm9wZXJ0eSIsImxpbmsiLCJlbmFibGVkIiwicm93IiwiY29sdW1uIiwieEFsaWduIiwiYWRkQ2hpbGQiLCJsYWJlbE5vZGUiLCJyaWdodE1hcmdpbiIsImRlc2NyaXB0aW9uTm9kZSIsImhvcml6b250YWxTcGFuIiwiZGlzYWJsZWRPcGFjaXR5IiwiRElTQUJMRURfT1BBQ0lUWSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiUHJlZmVyZW5jZXNDb250cm9sLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEEgVG9nZ2xlU3dpdGNoIGRlY29yYXRlZCB3aXRoIGEgdmlzdWFsIGxhYmVsIGFuZCBkZXNjcmlwdGlvbiB3aXRoIGxheW91dCBmb3IgZWFjaC4gVG8gYmUgdXNlZCBpbiB0aGVcclxuICogUHJlZmVyZW5jZXNEaWFsb2cuXHJcbiAqXHJcbiAqIEBhdXRob3IgSmVzc2UgR3JlZW5iZXJnIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKiBAYXV0aG9yIE1hcmxhIFNjaHVseiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgU3RyaWN0T21pdCBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvU3RyaWN0T21pdC5qcyc7XHJcbmltcG9ydCB7IEdyaWRCb3gsIEdyaWRCb3hPcHRpb25zLCBOb2RlLCBTY2VuZXJ5Q29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IGpvaXN0IGZyb20gJy4uL2pvaXN0LmpzJztcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSB7XHJcblxyXG4gIC8vIGlmIHByb3ZpZGVkLCBhIGxhYmVsIE5vZGUgdG8gdGhlIGxlZnQgb2YgdGhlIHRvZ2dsZSBzd2l0Y2ggY29udHJvbFxyXG4gIGxhYmVsTm9kZT86IE5vZGU7XHJcblxyXG4gIC8vIGhvcml6b250YWwgc3BhY2luZyBiZXR3ZWVuIGxhYmVsIGZvciB0aGUgY29tcG9uZW50IGFuZCB0b2dnbGUgc3dpdGNoIElGIHRoZXJlIGlzIG5vIGRlc2NyaXB0aW9uTm9kZS5cclxuICAvLyBJZiBhIGRlc2NyaXB0aW9uTm9kZSBpcyBwcm92aWRlZCwgbGF5b3V0IG9mIHRoZSBsYWJlbE5vZGUgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgZGVzY3JpcHRpb24uXHJcbiAgbGFiZWxTcGFjaW5nPzogbnVtYmVyO1xyXG5cclxuICAvLyBob3Jpem9udGFsIHNwYWNpbmcgYmV0d2VlbiB0aGUgdG9nZ2xlIHN3aXRjaCBhbmQgbGVmdC9yaWdodCB2YWx1ZSBsYWJlbHNcclxuICB2YWx1ZUxhYmVsWFNwYWNpbmc/OiBudW1iZXI7XHJcblxyXG4gIC8vIGlmIHByb3ZpZGVkLCBhIE5vZGUgdW5kZXIgdGhlIFRvZ2dsZVN3aXRjaCBhbmQgbGFiZWwgdGhhdCBpcyBtZWFudCB0byBkZXNjcmliZSB0aGUgcHVycG9zZSBvZiB0aGUgc3dpdGNoXHJcbiAgZGVzY3JpcHRpb25Ob2RlPzogTm9kZTtcclxuXHJcbiAgLy8gdmVydGljYWwgc3BhY2luZyBiZXR3ZWVuIFRvZ2dsZVN3aXRjaCBhbmQgZGVzY3JpcHRpb24gTm9kZVxyXG4gIHlTcGFjaW5nPzogbnVtYmVyO1xyXG5cclxuICBjb250cm9sTm9kZT86IE5vZGU7XHJcblxyXG4gIG5lc3RlZENvbnRlbnQ/OiBBcnJheTxOb2RlPjtcclxuXHJcbiAgaGVhZGluZ0NvbnRyb2w/OiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgUHJlZmVyZW5jZXNDb250cm9sT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgR3JpZEJveE9wdGlvbnM7XHJcblxyXG4vLyBMYXlvdXQgdXNpbmcgR3JpZEJveCBhbmQgbGF5b3V0T3B0aW9ucyB3aWxsIGFjY29tcGxpc2ggdGhlIGZvbGxvd2luZyB3aGVuIGFsbCBjb21wb25lbnRzIGFyZSBhdmFpbGFibGUuXHJcbi8vIFtbbGFiZWxOb2RlXV0gICAgICAgICBbW1RvZ2dsZVN3aXRjaF1dXHJcbi8vIFtbZGVzY3JpcHRpb25Ob2RlICAgICAgICAgICAgICAgICAgIF1dXHJcbmNsYXNzIFByZWZlcmVuY2VzQ29udHJvbCBleHRlbmRzIEdyaWRCb3gge1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHByb3ZpZGVkT3B0aW9ucz86IFByZWZlcmVuY2VzQ29udHJvbE9wdGlvbnMgKSB7XHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPFByZWZlcmVuY2VzQ29udHJvbE9wdGlvbnMsIFN0cmljdE9taXQ8U2VsZk9wdGlvbnMsICdsYWJlbE5vZGUnIHwgJ2Rlc2NyaXB0aW9uTm9kZScgfCAnY29udHJvbE5vZGUnPiwgR3JpZEJveE9wdGlvbnM+KCkoIHtcclxuICAgICAgaGVhZGluZ0NvbnRyb2w6IGZhbHNlLFxyXG4gICAgICBsYWJlbFNwYWNpbmc6IDEwLFxyXG4gICAgICB2YWx1ZUxhYmVsWFNwYWNpbmc6IDgsXHJcbiAgICAgIHlTcGFjaW5nOiA1LFxyXG4gICAgICBuZXN0ZWRDb250ZW50OiBbXSxcclxuICAgICAgZ3JvdzogMSxcclxuICAgICAgbGF5b3V0T3B0aW9uczoge1xyXG4gICAgICAgIHN0cmV0Y2g6ICFwcm92aWRlZE9wdGlvbnM/LmhlYWRpbmdDb250cm9sXHJcbiAgICAgIH1cclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIHN1cGVyKCBvcHRpb25zICk7XHJcblxyXG4gICAgaWYgKCBvcHRpb25zLmNvbnRyb2xOb2RlICkge1xyXG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCBvcHRpb25zLmNvbnRyb2xOb2RlLmxheW91dE9wdGlvbnMgPT09IG51bGwsICdQcmVmZXJlbmNlc0NvbnRyb2wgd2lsbCBjb250cm9sIGxheW91dCcgKTtcclxuICAgICAgdGhpcy5lbmFibGVkUHJvcGVydHkubGluayggZW5hYmxlZCA9PiB7XHJcbiAgICAgICAgb3B0aW9ucy5jb250cm9sTm9kZSEuZW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAgIG9wdGlvbnMuY29udHJvbE5vZGUubGF5b3V0T3B0aW9ucyA9IHtcclxuICAgICAgICByb3c6IDAsXHJcbiAgICAgICAgY29sdW1uOiAxLFxyXG4gICAgICAgIHhBbGlnbjogJ3JpZ2h0J1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5hZGRDaGlsZCggb3B0aW9ucy5jb250cm9sTm9kZSApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggb3B0aW9ucy5sYWJlbE5vZGUgKSB7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMubGFiZWxOb2RlLmxheW91dE9wdGlvbnMgPT09IG51bGwsICdQcmVmZXJlbmNlc0NvbnRyb2wgd2lsbCBjb250cm9sIGxheW91dCcgKTtcclxuICAgICAgb3B0aW9ucy5sYWJlbE5vZGUubGF5b3V0T3B0aW9ucyA9IHtcclxuICAgICAgICByb3c6IDAsXHJcbiAgICAgICAgY29sdW1uOiAwLFxyXG4gICAgICAgIHhBbGlnbjogJ2xlZnQnLFxyXG4gICAgICAgIHJpZ2h0TWFyZ2luOiBvcHRpb25zLmxhYmVsU3BhY2luZ1xyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLmFkZENoaWxkKCBvcHRpb25zLmxhYmVsTm9kZSApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGRlc2NyaXB0aW9uTm9kZSB3aWxsIGJlIGluIHRoZSBzZWNvbmQgcm93IGlmIGEgbGFiZWxOb2RlIGlzIHByb3ZpZGVkLlxyXG4gICAgaWYgKCBvcHRpb25zLmRlc2NyaXB0aW9uTm9kZSAmJiBvcHRpb25zLmxhYmVsTm9kZSApIHtcclxuICAgICAgYXNzZXJ0ICYmIGFzc2VydCggb3B0aW9ucy5kZXNjcmlwdGlvbk5vZGUubGF5b3V0T3B0aW9ucyA9PT0gbnVsbCwgJ1ByZWZlcmVuY2VzQ29udHJvbCB3aWxsIGNvbnRyb2wgbGF5b3V0JyApO1xyXG4gICAgICBvcHRpb25zLmRlc2NyaXB0aW9uTm9kZS5sYXlvdXRPcHRpb25zID0ge1xyXG4gICAgICAgIHJvdzogMSxcclxuICAgICAgICBjb2x1bW46IDAsXHJcbiAgICAgICAgaG9yaXpvbnRhbFNwYW46IDIsXHJcbiAgICAgICAgeEFsaWduOiAnbGVmdCdcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5hZGRDaGlsZCggb3B0aW9ucy5kZXNjcmlwdGlvbk5vZGUgKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gZGVzY3JpcHRpb25Ob2RlIHdpbGwgYmUgaW4gdGhlIGZpcnN0IHJvdyBpZiBsYWJlbE5vZGUgaXMgbm90IHByb3ZpZGVkLlxyXG4gICAgZWxzZSBpZiAoIG9wdGlvbnMuZGVzY3JpcHRpb25Ob2RlICkge1xyXG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCBvcHRpb25zLmRlc2NyaXB0aW9uTm9kZS5sYXlvdXRPcHRpb25zID09PSBudWxsLCAnUHJlZmVyZW5jZXNDb250cm9sIHdpbGwgY29udHJvbCBsYXlvdXQnICk7XHJcbiAgICAgIG9wdGlvbnMuZGVzY3JpcHRpb25Ob2RlLmxheW91dE9wdGlvbnMgPSB7XHJcbiAgICAgICAgcm93OiAwLFxyXG4gICAgICAgIGNvbHVtbjogMCxcclxuICAgICAgICB4QWxpZ246ICdsZWZ0J1xyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLmFkZENoaWxkKCBvcHRpb25zLmRlc2NyaXB0aW9uTm9kZSApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoaXMgY29tcG9uZW50IG1hbmFnZXMgZGlzYWJsZWRPcGFjaXR5LCB3ZSBkb24ndCB3YW50IGl0IHRvIGNvbXBvdW5kIG92ZXIgc3ViY29tcG9uZW50cy5cclxuICAgIHRoaXMuZGlzYWJsZWRPcGFjaXR5ID0gU2NlbmVyeUNvbnN0YW50cy5ESVNBQkxFRF9PUEFDSVRZO1xyXG4gIH1cclxufVxyXG5cclxuam9pc3QucmVnaXN0ZXIoICdQcmVmZXJlbmNlc0NvbnRyb2wnLCBQcmVmZXJlbmNlc0NvbnRyb2wgKTtcclxuZXhwb3J0IGRlZmF1bHQgUHJlZmVyZW5jZXNDb250cm9sO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFNBQVMsTUFBTSxvQ0FBb0M7QUFFMUQsU0FBU0MsT0FBTyxFQUF3QkMsZ0JBQWdCLFFBQVEsZ0NBQWdDO0FBQ2hHLE9BQU9DLEtBQUssTUFBTSxhQUFhO0FBNkIvQjtBQUNBO0FBQ0E7QUFDQSxNQUFNQyxrQkFBa0IsU0FBU0gsT0FBTyxDQUFDO0VBRWhDSSxXQUFXQSxDQUFFQyxlQUEyQyxFQUFHO0lBQ2hFLE1BQU1DLE9BQU8sR0FBR1AsU0FBUyxDQUFzSCxDQUFDLENBQUU7TUFDaEpRLGNBQWMsRUFBRSxLQUFLO01BQ3JCQyxZQUFZLEVBQUUsRUFBRTtNQUNoQkMsa0JBQWtCLEVBQUUsQ0FBQztNQUNyQkMsUUFBUSxFQUFFLENBQUM7TUFDWEMsYUFBYSxFQUFFLEVBQUU7TUFDakJDLElBQUksRUFBRSxDQUFDO01BQ1BDLGFBQWEsRUFBRTtRQUNiQyxPQUFPLEVBQUUsQ0FBQ1QsZUFBZSxFQUFFRTtNQUM3QjtJQUNGLENBQUMsRUFBRUYsZUFBZ0IsQ0FBQztJQUVwQixLQUFLLENBQUVDLE9BQVEsQ0FBQztJQUVoQixJQUFLQSxPQUFPLENBQUNTLFdBQVcsRUFBRztNQUN6QkMsTUFBTSxJQUFJQSxNQUFNLENBQUVWLE9BQU8sQ0FBQ1MsV0FBVyxDQUFDRixhQUFhLEtBQUssSUFBSSxFQUFFLHdDQUF5QyxDQUFDO01BQ3hHLElBQUksQ0FBQ0ksZUFBZSxDQUFDQyxJQUFJLENBQUVDLE9BQU8sSUFBSTtRQUNwQ2IsT0FBTyxDQUFDUyxXQUFXLENBQUVJLE9BQU8sR0FBR0EsT0FBTztNQUN4QyxDQUFFLENBQUM7TUFFSGIsT0FBTyxDQUFDUyxXQUFXLENBQUNGLGFBQWEsR0FBRztRQUNsQ08sR0FBRyxFQUFFLENBQUM7UUFDTkMsTUFBTSxFQUFFLENBQUM7UUFDVEMsTUFBTSxFQUFFO01BQ1YsQ0FBQztNQUVELElBQUksQ0FBQ0MsUUFBUSxDQUFFakIsT0FBTyxDQUFDUyxXQUFZLENBQUM7SUFDdEM7SUFFQSxJQUFLVCxPQUFPLENBQUNrQixTQUFTLEVBQUc7TUFDdkJSLE1BQU0sSUFBSUEsTUFBTSxDQUFFVixPQUFPLENBQUNrQixTQUFTLENBQUNYLGFBQWEsS0FBSyxJQUFJLEVBQUUsd0NBQXlDLENBQUM7TUFDdEdQLE9BQU8sQ0FBQ2tCLFNBQVMsQ0FBQ1gsYUFBYSxHQUFHO1FBQ2hDTyxHQUFHLEVBQUUsQ0FBQztRQUNOQyxNQUFNLEVBQUUsQ0FBQztRQUNUQyxNQUFNLEVBQUUsTUFBTTtRQUNkRyxXQUFXLEVBQUVuQixPQUFPLENBQUNFO01BQ3ZCLENBQUM7TUFDRCxJQUFJLENBQUNlLFFBQVEsQ0FBRWpCLE9BQU8sQ0FBQ2tCLFNBQVUsQ0FBQztJQUNwQzs7SUFFQTtJQUNBLElBQUtsQixPQUFPLENBQUNvQixlQUFlLElBQUlwQixPQUFPLENBQUNrQixTQUFTLEVBQUc7TUFDbERSLE1BQU0sSUFBSUEsTUFBTSxDQUFFVixPQUFPLENBQUNvQixlQUFlLENBQUNiLGFBQWEsS0FBSyxJQUFJLEVBQUUsd0NBQXlDLENBQUM7TUFDNUdQLE9BQU8sQ0FBQ29CLGVBQWUsQ0FBQ2IsYUFBYSxHQUFHO1FBQ3RDTyxHQUFHLEVBQUUsQ0FBQztRQUNOQyxNQUFNLEVBQUUsQ0FBQztRQUNUTSxjQUFjLEVBQUUsQ0FBQztRQUNqQkwsTUFBTSxFQUFFO01BQ1YsQ0FBQztNQUNELElBQUksQ0FBQ0MsUUFBUSxDQUFFakIsT0FBTyxDQUFDb0IsZUFBZ0IsQ0FBQztJQUMxQzs7SUFHQTtJQUFBLEtBQ0ssSUFBS3BCLE9BQU8sQ0FBQ29CLGVBQWUsRUFBRztNQUNsQ1YsTUFBTSxJQUFJQSxNQUFNLENBQUVWLE9BQU8sQ0FBQ29CLGVBQWUsQ0FBQ2IsYUFBYSxLQUFLLElBQUksRUFBRSx3Q0FBeUMsQ0FBQztNQUM1R1AsT0FBTyxDQUFDb0IsZUFBZSxDQUFDYixhQUFhLEdBQUc7UUFDdENPLEdBQUcsRUFBRSxDQUFDO1FBQ05DLE1BQU0sRUFBRSxDQUFDO1FBQ1RDLE1BQU0sRUFBRTtNQUNWLENBQUM7TUFDRCxJQUFJLENBQUNDLFFBQVEsQ0FBRWpCLE9BQU8sQ0FBQ29CLGVBQWdCLENBQUM7SUFDMUM7O0lBRUE7SUFDQSxJQUFJLENBQUNFLGVBQWUsR0FBRzNCLGdCQUFnQixDQUFDNEIsZ0JBQWdCO0VBQzFEO0FBQ0Y7QUFFQTNCLEtBQUssQ0FBQzRCLFFBQVEsQ0FBRSxvQkFBb0IsRUFBRTNCLGtCQUFtQixDQUFDO0FBQzFELGVBQWVBLGtCQUFrQiJ9