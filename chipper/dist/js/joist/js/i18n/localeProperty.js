// Copyright 2022-2023, University of Colorado Boulder

/**
 * A universal locale Property that is accessible independently of the running Sim instance.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import Property from '../../../axon/js/Property.js';
import StringUtils from '../../../phetcommon/js/util/StringUtils.js';
import { globalKeyStateTracker, KeyboardUtils } from '../../../scenery/js/imports.js';
import Tandem from '../../../tandem/js/Tandem.js';
import StringIO from '../../../tandem/js/types/StringIO.js';
import joist from '../joist.js';
const FALLBACK_LOCALE = 'en';
// All available locales for the runtime
export const availableRuntimeLocales = _.sortBy(Object.keys(phet.chipper.strings), locale => {
  return StringUtils.localeToLocalizedName(locale).toLowerCase();
});

// Start only with a valid locale, see https://github.com/phetsims/phet-io/issues/1882
const isLocaleValid = locale => {
  return !!(locale && availableRuntimeLocales.includes(locale));
};

// We might use a partial locale (e.g. 'en' instead of 'en_US'), so grab this if it exists. It might be the same as
// phet.chipper.locale (that's OK).
const partialLocale = typeof phet.chipper.locale === 'string' ? phet.chipper.locale.slice(0, 2) : undefined;

// Get the "most" valid locale, see https://github.com/phetsims/phet-io/issues/1882
// 'ar_SA' would try 'ar_SA', 'ar', and 'en' (result: ar_SA)
// 'ar_QP' would try 'ar_QP', 'ar', and 'en' (result: ar)
// 'zx_ZX' would try 'zx_ZX', 'zx', and 'en' (result: en)
// NOTE: If the locale doesn't actually have any strings: THAT IS OK! Our string system will use the appropriate
// fallback strings.
const validInitialLocale = isLocaleValid(phet.chipper.locale) ? phet.chipper.locale : isLocaleValid(partialLocale) ? partialLocale : FALLBACK_LOCALE;

// Just in case we had an invalid locale, remap phet.chipper.locale to the "corrected" value
phet.chipper.locale = validInitialLocale;
class LocaleProperty extends Property {
  unguardedSet(value) {
    if (availableRuntimeLocales.includes(value)) {
      super.unguardedSet(value);
    } else {
      assert && assert(false, 'Unsupported locale: ' + value);

      // Do not try to set if the value was invalid
    }
  }
}

const localeProperty = new LocaleProperty(validInitialLocale, {
  tandem: Tandem.GENERAL_MODEL.createTandem('localeProperty'),
  phetioFeatured: true,
  phetioValueType: StringIO,
  validValues: availableRuntimeLocales,
  phetioDocumentation: 'Specifies language currently displayed in the simulation'
});
if (phet.chipper.queryParameters.keyboardLocaleSwitcher) {
  // DUPLICATION ALERT: don't change these without consulting PHET_IO_WRAPPERS/Client.wireUpKeyboardLocaleSwitcher()
  const FORWARD_KEY = KeyboardUtils.KEY_I;
  const BACKWARD_KEY = KeyboardUtils.KEY_U;
  globalKeyStateTracker.keydownEmitter.addListener(event => {
    const bump = delta => {
      // Ctrl + u in Chrome on Windows is "view source" in a new tab
      event.preventDefault();
      const index = availableRuntimeLocales.indexOf(localeProperty.value);
      const nextIndex = (index + delta + availableRuntimeLocales.length) % availableRuntimeLocales.length;
      localeProperty.value = availableRuntimeLocales[nextIndex];

      // Indicate the new locale on the console
      console.log(localeProperty.value);
    };
    if (event.ctrlKey && !event.shiftKey && !event.metaKey && !event.altKey) {
      if (KeyboardUtils.isKeyEvent(event, FORWARD_KEY)) {
        bump(+1);
      } else if (KeyboardUtils.isKeyEvent(event, BACKWARD_KEY)) {
        bump(-1);
      }
    }
  });
}
joist.register('localeProperty', localeProperty);
export default localeProperty;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIlN0cmluZ1V0aWxzIiwiZ2xvYmFsS2V5U3RhdGVUcmFja2VyIiwiS2V5Ym9hcmRVdGlscyIsIlRhbmRlbSIsIlN0cmluZ0lPIiwiam9pc3QiLCJGQUxMQkFDS19MT0NBTEUiLCJhdmFpbGFibGVSdW50aW1lTG9jYWxlcyIsIl8iLCJzb3J0QnkiLCJPYmplY3QiLCJrZXlzIiwicGhldCIsImNoaXBwZXIiLCJzdHJpbmdzIiwibG9jYWxlIiwibG9jYWxlVG9Mb2NhbGl6ZWROYW1lIiwidG9Mb3dlckNhc2UiLCJpc0xvY2FsZVZhbGlkIiwiaW5jbHVkZXMiLCJwYXJ0aWFsTG9jYWxlIiwic2xpY2UiLCJ1bmRlZmluZWQiLCJ2YWxpZEluaXRpYWxMb2NhbGUiLCJMb2NhbGVQcm9wZXJ0eSIsInVuZ3VhcmRlZFNldCIsInZhbHVlIiwiYXNzZXJ0IiwibG9jYWxlUHJvcGVydHkiLCJ0YW5kZW0iLCJHRU5FUkFMX01PREVMIiwiY3JlYXRlVGFuZGVtIiwicGhldGlvRmVhdHVyZWQiLCJwaGV0aW9WYWx1ZVR5cGUiLCJ2YWxpZFZhbHVlcyIsInBoZXRpb0RvY3VtZW50YXRpb24iLCJxdWVyeVBhcmFtZXRlcnMiLCJrZXlib2FyZExvY2FsZVN3aXRjaGVyIiwiRk9SV0FSRF9LRVkiLCJLRVlfSSIsIkJBQ0tXQVJEX0tFWSIsIktFWV9VIiwia2V5ZG93bkVtaXR0ZXIiLCJhZGRMaXN0ZW5lciIsImV2ZW50IiwiYnVtcCIsImRlbHRhIiwicHJldmVudERlZmF1bHQiLCJpbmRleCIsImluZGV4T2YiLCJuZXh0SW5kZXgiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwiY3RybEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsImFsdEtleSIsImlzS2V5RXZlbnQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbImxvY2FsZVByb3BlcnR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIyLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEEgdW5pdmVyc2FsIGxvY2FsZSBQcm9wZXJ0eSB0aGF0IGlzIGFjY2Vzc2libGUgaW5kZXBlbmRlbnRseSBvZiB0aGUgcnVubmluZyBTaW0gaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBhdXRob3IgSm9uYXRoYW4gT2xzb24gPGpvbmF0aGFuLm9sc29uQGNvbG9yYWRvLmVkdT5cclxuICovXHJcblxyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBsb2NhbGVJbmZvTW9kdWxlIGZyb20gJy4uLy4uLy4uL2NoaXBwZXIvanMvZGF0YS9sb2NhbGVJbmZvTW9kdWxlLmpzJztcclxuaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uLy4uLy4uL3BoZXRjb21tb24vanMvdXRpbC9TdHJpbmdVdGlscy5qcyc7XHJcbmltcG9ydCB7IGdsb2JhbEtleVN0YXRlVHJhY2tlciwgS2V5Ym9hcmRVdGlscyB9IGZyb20gJy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBTdHJpbmdJTyBmcm9tICcuLi8uLi8uLi90YW5kZW0vanMvdHlwZXMvU3RyaW5nSU8uanMnO1xyXG5pbXBvcnQgam9pc3QgZnJvbSAnLi4vam9pc3QuanMnO1xyXG5cclxuY29uc3QgRkFMTEJBQ0tfTE9DQUxFID0gJ2VuJztcclxuXHJcbmV4cG9ydCB0eXBlIExvY2FsZSA9IGtleW9mIHR5cGVvZiBsb2NhbGVJbmZvTW9kdWxlO1xyXG5cclxuLy8gQWxsIGF2YWlsYWJsZSBsb2NhbGVzIGZvciB0aGUgcnVudGltZVxyXG5leHBvcnQgY29uc3QgYXZhaWxhYmxlUnVudGltZUxvY2FsZXMgPSBfLnNvcnRCeSggT2JqZWN0LmtleXMoIHBoZXQuY2hpcHBlci5zdHJpbmdzICksIGxvY2FsZSA9PiB7XHJcbiAgcmV0dXJuIFN0cmluZ1V0aWxzLmxvY2FsZVRvTG9jYWxpemVkTmFtZSggbG9jYWxlICkudG9Mb3dlckNhc2UoKTtcclxufSApIGFzIExvY2FsZVtdO1xyXG5cclxuLy8gU3RhcnQgb25seSB3aXRoIGEgdmFsaWQgbG9jYWxlLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3BoZXQtaW8vaXNzdWVzLzE4ODJcclxuY29uc3QgaXNMb2NhbGVWYWxpZCA9ICggbG9jYWxlPzogTG9jYWxlICk6IGJvb2xlYW4gPT4ge1xyXG4gIHJldHVybiAhISggbG9jYWxlICYmIGF2YWlsYWJsZVJ1bnRpbWVMb2NhbGVzLmluY2x1ZGVzKCBsb2NhbGUgKSApO1xyXG59O1xyXG5cclxuLy8gV2UgbWlnaHQgdXNlIGEgcGFydGlhbCBsb2NhbGUgKGUuZy4gJ2VuJyBpbnN0ZWFkIG9mICdlbl9VUycpLCBzbyBncmFiIHRoaXMgaWYgaXQgZXhpc3RzLiBJdCBtaWdodCBiZSB0aGUgc2FtZSBhc1xyXG4vLyBwaGV0LmNoaXBwZXIubG9jYWxlICh0aGF0J3MgT0spLlxyXG5jb25zdCBwYXJ0aWFsTG9jYWxlID0gdHlwZW9mIHBoZXQuY2hpcHBlci5sb2NhbGUgPT09ICdzdHJpbmcnID8gcGhldC5jaGlwcGVyLmxvY2FsZS5zbGljZSggMCwgMiApIDogdW5kZWZpbmVkO1xyXG5cclxuLy8gR2V0IHRoZSBcIm1vc3RcIiB2YWxpZCBsb2NhbGUsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcGhldC1pby9pc3N1ZXMvMTg4MlxyXG4vLyAnYXJfU0EnIHdvdWxkIHRyeSAnYXJfU0EnLCAnYXInLCBhbmQgJ2VuJyAocmVzdWx0OiBhcl9TQSlcclxuLy8gJ2FyX1FQJyB3b3VsZCB0cnkgJ2FyX1FQJywgJ2FyJywgYW5kICdlbicgKHJlc3VsdDogYXIpXHJcbi8vICd6eF9aWCcgd291bGQgdHJ5ICd6eF9aWCcsICd6eCcsIGFuZCAnZW4nIChyZXN1bHQ6IGVuKVxyXG4vLyBOT1RFOiBJZiB0aGUgbG9jYWxlIGRvZXNuJ3QgYWN0dWFsbHkgaGF2ZSBhbnkgc3RyaW5nczogVEhBVCBJUyBPSyEgT3VyIHN0cmluZyBzeXN0ZW0gd2lsbCB1c2UgdGhlIGFwcHJvcHJpYXRlXHJcbi8vIGZhbGxiYWNrIHN0cmluZ3MuXHJcbmNvbnN0IHZhbGlkSW5pdGlhbExvY2FsZSA9IGlzTG9jYWxlVmFsaWQoIHBoZXQuY2hpcHBlci5sb2NhbGUgKSA/IHBoZXQuY2hpcHBlci5sb2NhbGUgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBpc0xvY2FsZVZhbGlkKCBwYXJ0aWFsTG9jYWxlICkgPyBwYXJ0aWFsTG9jYWxlIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgRkFMTEJBQ0tfTE9DQUxFO1xyXG5cclxuLy8gSnVzdCBpbiBjYXNlIHdlIGhhZCBhbiBpbnZhbGlkIGxvY2FsZSwgcmVtYXAgcGhldC5jaGlwcGVyLmxvY2FsZSB0byB0aGUgXCJjb3JyZWN0ZWRcIiB2YWx1ZVxyXG5waGV0LmNoaXBwZXIubG9jYWxlID0gdmFsaWRJbml0aWFsTG9jYWxlO1xyXG5cclxuY2xhc3MgTG9jYWxlUHJvcGVydHkgZXh0ZW5kcyBQcm9wZXJ0eTxMb2NhbGU+IHtcclxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgdW5ndWFyZGVkU2V0KCB2YWx1ZTogTG9jYWxlICk6IHZvaWQge1xyXG4gICAgaWYgKCBhdmFpbGFibGVSdW50aW1lTG9jYWxlcy5pbmNsdWRlcyggdmFsdWUgKSApIHtcclxuICAgICAgc3VwZXIudW5ndWFyZGVkU2V0KCB2YWx1ZSApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIGZhbHNlLCAnVW5zdXBwb3J0ZWQgbG9jYWxlOiAnICsgdmFsdWUgKTtcclxuXHJcbiAgICAgIC8vIERvIG5vdCB0cnkgdG8gc2V0IGlmIHRoZSB2YWx1ZSB3YXMgaW52YWxpZFxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbG9jYWxlUHJvcGVydHkgPSBuZXcgTG9jYWxlUHJvcGVydHkoIHZhbGlkSW5pdGlhbExvY2FsZSwge1xyXG4gIHRhbmRlbTogVGFuZGVtLkdFTkVSQUxfTU9ERUwuY3JlYXRlVGFuZGVtKCAnbG9jYWxlUHJvcGVydHknICksXHJcbiAgcGhldGlvRmVhdHVyZWQ6IHRydWUsXHJcbiAgcGhldGlvVmFsdWVUeXBlOiBTdHJpbmdJTyxcclxuICB2YWxpZFZhbHVlczogYXZhaWxhYmxlUnVudGltZUxvY2FsZXMsXHJcbiAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ1NwZWNpZmllcyBsYW5ndWFnZSBjdXJyZW50bHkgZGlzcGxheWVkIGluIHRoZSBzaW11bGF0aW9uJ1xyXG59ICk7XHJcblxyXG5pZiAoIHBoZXQuY2hpcHBlci5xdWVyeVBhcmFtZXRlcnMua2V5Ym9hcmRMb2NhbGVTd2l0Y2hlciApIHtcclxuXHJcbiAgLy8gRFVQTElDQVRJT04gQUxFUlQ6IGRvbid0IGNoYW5nZSB0aGVzZSB3aXRob3V0IGNvbnN1bHRpbmcgUEhFVF9JT19XUkFQUEVSUy9DbGllbnQud2lyZVVwS2V5Ym9hcmRMb2NhbGVTd2l0Y2hlcigpXHJcbiAgY29uc3QgRk9SV0FSRF9LRVkgPSBLZXlib2FyZFV0aWxzLktFWV9JO1xyXG4gIGNvbnN0IEJBQ0tXQVJEX0tFWSA9IEtleWJvYXJkVXRpbHMuS0VZX1U7XHJcblxyXG4gIGdsb2JhbEtleVN0YXRlVHJhY2tlci5rZXlkb3duRW1pdHRlci5hZGRMaXN0ZW5lciggKCBldmVudDogS2V5Ym9hcmRFdmVudCApID0+IHtcclxuXHJcbiAgICBjb25zdCBidW1wID0gKCBkZWx0YTogbnVtYmVyICkgPT4ge1xyXG5cclxuICAgICAgLy8gQ3RybCArIHUgaW4gQ2hyb21lIG9uIFdpbmRvd3MgaXMgXCJ2aWV3IHNvdXJjZVwiIGluIGEgbmV3IHRhYlxyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgY29uc3QgaW5kZXggPSBhdmFpbGFibGVSdW50aW1lTG9jYWxlcy5pbmRleE9mKCBsb2NhbGVQcm9wZXJ0eS52YWx1ZSApO1xyXG4gICAgICBjb25zdCBuZXh0SW5kZXggPSAoIGluZGV4ICsgZGVsdGEgKyBhdmFpbGFibGVSdW50aW1lTG9jYWxlcy5sZW5ndGggKSAlIGF2YWlsYWJsZVJ1bnRpbWVMb2NhbGVzLmxlbmd0aDtcclxuICAgICAgbG9jYWxlUHJvcGVydHkudmFsdWUgPSBhdmFpbGFibGVSdW50aW1lTG9jYWxlc1sgbmV4dEluZGV4IF07XHJcblxyXG4gICAgICAvLyBJbmRpY2F0ZSB0aGUgbmV3IGxvY2FsZSBvbiB0aGUgY29uc29sZVxyXG4gICAgICBjb25zb2xlLmxvZyggbG9jYWxlUHJvcGVydHkudmFsdWUgKTtcclxuICAgIH07XHJcblxyXG4gICAgaWYgKCBldmVudC5jdHJsS2V5ICYmICFldmVudC5zaGlmdEtleSAmJiAhZXZlbnQubWV0YUtleSAmJiAhZXZlbnQuYWx0S2V5ICkge1xyXG4gICAgICBpZiAoIEtleWJvYXJkVXRpbHMuaXNLZXlFdmVudCggZXZlbnQsIEZPUldBUkRfS0VZICkgKSB7XHJcbiAgICAgICAgYnVtcCggKzEgKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICggS2V5Ym9hcmRVdGlscy5pc0tleUV2ZW50KCBldmVudCwgQkFDS1dBUkRfS0VZICkgKSB7XHJcbiAgICAgICAgYnVtcCggLTEgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gKTtcclxufVxyXG5cclxuam9pc3QucmVnaXN0ZXIoICdsb2NhbGVQcm9wZXJ0eScsIGxvY2FsZVByb3BlcnR5ICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBsb2NhbGVQcm9wZXJ0eTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFFBQVEsTUFBTSw4QkFBOEI7QUFFbkQsT0FBT0MsV0FBVyxNQUFNLDRDQUE0QztBQUNwRSxTQUFTQyxxQkFBcUIsRUFBRUMsYUFBYSxRQUFRLGdDQUFnQztBQUNyRixPQUFPQyxNQUFNLE1BQU0sOEJBQThCO0FBQ2pELE9BQU9D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