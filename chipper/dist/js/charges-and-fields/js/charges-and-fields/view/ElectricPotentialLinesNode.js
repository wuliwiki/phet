// Copyright 2015-2022, University of Colorado Boulder

/**
 * Scenery Node responsible for layering ElectricPotentialLineView related Nodes.
 * @author Martin Veillette (Berea College)
 */

import { Node } from '../../../../scenery/js/imports.js';
import PhetioGroup from '../../../../tandem/js/PhetioGroup.js';
import IOType from '../../../../tandem/js/types/IOType.js';
import chargesAndFields from '../../chargesAndFields.js';
import ElectricPotentialLineView from './ElectricPotentialLineView.js';

// if set to true will show the (model and view) positions use in the calculation of the electric potential lines
const IS_DEBUG = phet.chipper.queryParameters.dev;
class ElectricPotentialLinesNode extends Node {
  /**
   * @param {ObservableArrayDef.<ElectricPotentialLine>} electricPotentialLineGroup - array of models of electricPotentialLine
   * @param {ModelViewTransform2} modelViewTransform
   * @param {Property.<boolean>} areValuesVisibleProperty - control the visibility of the voltage labels
   * @param {Tandem} tandem
   */
  constructor(electricPotentialLineGroup, modelViewTransform, areValuesVisibleProperty, tandem) {
    // call the super constructor
    super({
      tandem: tandem
    });

    // Create and add the parent node for all the lines (paths)
    const pathsNode = new Node();
    this.addChild(pathsNode);

    // Create and add the parent node for the circles (used in DEBUG mode)
    let circlesNode;
    if (IS_DEBUG) {
      circlesNode = new Node();
      this.addChild(circlesNode);
    }

    // Create and add the parent node for the label nodes
    const labelsNode = new Node();
    this.addChild(labelsNode);
    const electricPotentialLineViewGroup = new PhetioGroup((tandem, electricPotentialLine) => {
      return new ElectricPotentialLineView(electricPotentialLine, modelViewTransform, tandem);
    }, () => [electricPotentialLineGroup.archetype], {
      tandem: tandem.createTandem('electricPotentialLineViewGroup'),
      phetioType: PhetioGroup.PhetioGroupIO(IOType.ObjectIO),
      // These elements are not created by the PhET-IO state engine, they can just listen to the model for supporting
      // state in the same way they do for sim logic.
      supportsDynamicState: false
    });
    this.electricPotentialLineViews = electricPotentialLineViewGroup;

    // Monitor the electricPotentialLineArray and create a path and label for each electricPotentialLine
    electricPotentialLineGroup.elementCreatedEmitter.addListener(function updateView(electricPotentialLine) {
      const electricPotentialLineView = electricPotentialLineViewGroup.createCorrespondingGroupElement(electricPotentialLine.tandem.name, electricPotentialLine);
      pathsNode.addChild(electricPotentialLineView.path);
      labelsNode.addChild(electricPotentialLineView.voltageLabel);

      // add the circles and text
      if (IS_DEBUG) {
        circlesNode.addChild(electricPotentialLineView.circles);
      }
      const modelDisposeListener = () => electricPotentialLineViewGroup.disposeElement(electricPotentialLineView);
      electricPotentialLine.disposeEmitter.addListener(modelDisposeListener);

      // try again next time we changed
      electricPotentialLine.chargeChangedEmitter.addListener(function chargeChangedListener() {
        // tear down and recreate the view on change
        modelDisposeListener();
        updateView(electricPotentialLine);
        electricPotentialLine.disposeEmitter.removeListener(modelDisposeListener);
        electricPotentialLine.chargeChangedEmitter.removeListener(chargeChangedListener);
      });
    });

    // Control the visibility of the value (voltage) labels
    // no need to unlink present for the lifetime of the sim
    areValuesVisibleProperty.linkAttribute(labelsNode, 'visible');
  }
}
chargesAndFields.register('ElectricPotentialLinesNode', ElectricPotentialLinesNode);
export default ElectricPotentialLinesNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJOb2RlIiwiUGhldGlvR3JvdXAiLCJJT1R5cGUiLCJjaGFyZ2VzQW5kRmllbGRzIiwiRWxlY3RyaWNQb3RlbnRpYWxMaW5lVmlldyIsIklTX0RFQlVHIiwicGhldCIsImNoaXBwZXIiLCJxdWVyeVBhcmFtZXRlcnMiLCJkZXYiLCJFbGVjdHJpY1BvdGVudGlhbExpbmVzTm9kZSIsImNvbnN0cnVjdG9yIiwiZWxlY3RyaWNQb3RlbnRpYWxMaW5lR3JvdXAiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJhcmVWYWx1ZXNWaXNpYmxlUHJvcGVydHkiLCJ0YW5kZW0iLCJwYXRoc05vZGUiLCJhZGRDaGlsZCIsImNpcmNsZXNOb2RlIiwibGFiZWxzTm9kZSIsImVsZWN0cmljUG90ZW50aWFsTGluZVZpZXdHcm91cCIsImVsZWN0cmljUG90ZW50aWFsTGluZSIsImFyY2hldHlwZSIsImNyZWF0ZVRhbmRlbSIsInBoZXRpb1R5cGUiLCJQaGV0aW9Hcm91cElPIiwiT2JqZWN0SU8iLCJzdXBwb3J0c0R5bmFtaWNTdGF0ZSIsImVsZWN0cmljUG90ZW50aWFsTGluZVZpZXdzIiwiZWxlbWVudENyZWF0ZWRFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJ1cGRhdGVWaWV3IiwiZWxlY3RyaWNQb3RlbnRpYWxMaW5lVmlldyIsImNyZWF0ZUNvcnJlc3BvbmRpbmdHcm91cEVsZW1lbnQiLCJuYW1lIiwicGF0aCIsInZvbHRhZ2VMYWJlbCIsImNpcmNsZXMiLCJtb2RlbERpc3Bvc2VMaXN0ZW5lciIsImRpc3Bvc2VFbGVtZW50IiwiZGlzcG9zZUVtaXR0ZXIiLCJjaGFyZ2VDaGFuZ2VkRW1pdHRlciIsImNoYXJnZUNoYW5nZWRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwibGlua0F0dHJpYnV0ZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiRWxlY3RyaWNQb3RlbnRpYWxMaW5lc05vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTUtMjAyMiwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogU2NlbmVyeSBOb2RlIHJlc3BvbnNpYmxlIGZvciBsYXllcmluZyBFbGVjdHJpY1BvdGVudGlhbExpbmVWaWV3IHJlbGF0ZWQgTm9kZXMuXHJcbiAqIEBhdXRob3IgTWFydGluIFZlaWxsZXR0ZSAoQmVyZWEgQ29sbGVnZSlcclxuICovXHJcblxyXG5pbXBvcnQgeyBOb2RlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFBoZXRpb0dyb3VwIGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9QaGV0aW9Hcm91cC5qcyc7XHJcbmltcG9ydCBJT1R5cGUgZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL3R5cGVzL0lPVHlwZS5qcyc7XHJcbmltcG9ydCBjaGFyZ2VzQW5kRmllbGRzIGZyb20gJy4uLy4uL2NoYXJnZXNBbmRGaWVsZHMuanMnO1xyXG5pbXBvcnQgRWxlY3RyaWNQb3RlbnRpYWxMaW5lVmlldyBmcm9tICcuL0VsZWN0cmljUG90ZW50aWFsTGluZVZpZXcuanMnO1xyXG5cclxuLy8gaWYgc2V0IHRvIHRydWUgd2lsbCBzaG93IHRoZSAobW9kZWwgYW5kIHZpZXcpIHBvc2l0aW9ucyB1c2UgaW4gdGhlIGNhbGN1bGF0aW9uIG9mIHRoZSBlbGVjdHJpYyBwb3RlbnRpYWwgbGluZXNcclxuY29uc3QgSVNfREVCVUcgPSBwaGV0LmNoaXBwZXIucXVlcnlQYXJhbWV0ZXJzLmRldjtcclxuXHJcbmNsYXNzIEVsZWN0cmljUG90ZW50aWFsTGluZXNOb2RlIGV4dGVuZHMgTm9kZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7T2JzZXJ2YWJsZUFycmF5RGVmLjxFbGVjdHJpY1BvdGVudGlhbExpbmU+fSBlbGVjdHJpY1BvdGVudGlhbExpbmVHcm91cCAtIGFycmF5IG9mIG1vZGVscyBvZiBlbGVjdHJpY1BvdGVudGlhbExpbmVcclxuICAgKiBAcGFyYW0ge01vZGVsVmlld1RyYW5zZm9ybTJ9IG1vZGVsVmlld1RyYW5zZm9ybVxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPGJvb2xlYW4+fSBhcmVWYWx1ZXNWaXNpYmxlUHJvcGVydHkgLSBjb250cm9sIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSB2b2x0YWdlIGxhYmVsc1xyXG4gICAqIEBwYXJhbSB7VGFuZGVtfSB0YW5kZW1cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggZWxlY3RyaWNQb3RlbnRpYWxMaW5lR3JvdXAsIG1vZGVsVmlld1RyYW5zZm9ybSwgYXJlVmFsdWVzVmlzaWJsZVByb3BlcnR5LCB0YW5kZW0gKSB7XHJcblxyXG4gICAgLy8gY2FsbCB0aGUgc3VwZXIgY29uc3RydWN0b3JcclxuICAgIHN1cGVyKCB7IHRhbmRlbTogdGFuZGVtIH0gKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYW5kIGFkZCB0aGUgcGFyZW50IG5vZGUgZm9yIGFsbCB0aGUgbGluZXMgKHBhdGhzKVxyXG4gICAgY29uc3QgcGF0aHNOb2RlID0gbmV3IE5vZGUoKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIHBhdGhzTm9kZSApO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhbmQgYWRkIHRoZSBwYXJlbnQgbm9kZSBmb3IgdGhlIGNpcmNsZXMgKHVzZWQgaW4gREVCVUcgbW9kZSlcclxuICAgIGxldCBjaXJjbGVzTm9kZTtcclxuICAgIGlmICggSVNfREVCVUcgKSB7XHJcbiAgICAgIGNpcmNsZXNOb2RlID0gbmV3IE5vZGUoKTtcclxuICAgICAgdGhpcy5hZGRDaGlsZCggY2lyY2xlc05vZGUgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgYW5kIGFkZCB0aGUgcGFyZW50IG5vZGUgZm9yIHRoZSBsYWJlbCBub2Rlc1xyXG4gICAgY29uc3QgbGFiZWxzTm9kZSA9IG5ldyBOb2RlKCk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBsYWJlbHNOb2RlICk7XHJcblxyXG4gICAgY29uc3QgZWxlY3RyaWNQb3RlbnRpYWxMaW5lVmlld0dyb3VwID0gbmV3IFBoZXRpb0dyb3VwKCAoIHRhbmRlbSwgZWxlY3RyaWNQb3RlbnRpYWxMaW5lICkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IEVsZWN0cmljUG90ZW50aWFsTGluZVZpZXcoIGVsZWN0cmljUG90ZW50aWFsTGluZSwgbW9kZWxWaWV3VHJhbnNmb3JtLCB0YW5kZW0gKTtcclxuICAgIH0sICgpID0+IFsgZWxlY3RyaWNQb3RlbnRpYWxMaW5lR3JvdXAuYXJjaGV0eXBlIF0sIHtcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnZWxlY3RyaWNQb3RlbnRpYWxMaW5lVmlld0dyb3VwJyApLFxyXG4gICAgICBwaGV0aW9UeXBlOiBQaGV0aW9Hcm91cC5QaGV0aW9Hcm91cElPKCBJT1R5cGUuT2JqZWN0SU8gKSxcclxuXHJcbiAgICAgIC8vIFRoZXNlIGVsZW1lbnRzIGFyZSBub3QgY3JlYXRlZCBieSB0aGUgUGhFVC1JTyBzdGF0ZSBlbmdpbmUsIHRoZXkgY2FuIGp1c3QgbGlzdGVuIHRvIHRoZSBtb2RlbCBmb3Igc3VwcG9ydGluZ1xyXG4gICAgICAvLyBzdGF0ZSBpbiB0aGUgc2FtZSB3YXkgdGhleSBkbyBmb3Igc2ltIGxvZ2ljLlxyXG4gICAgICBzdXBwb3J0c0R5bmFtaWNTdGF0ZTogZmFsc2VcclxuICAgIH0gKTtcclxuICAgIHRoaXMuZWxlY3RyaWNQb3RlbnRpYWxMaW5lVmlld3MgPSBlbGVjdHJpY1BvdGVudGlhbExpbmVWaWV3R3JvdXA7XHJcblxyXG4gICAgLy8gTW9uaXRvciB0aGUgZWxlY3RyaWNQb3RlbnRpYWxMaW5lQXJyYXkgYW5kIGNyZWF0ZSBhIHBhdGggYW5kIGxhYmVsIGZvciBlYWNoIGVsZWN0cmljUG90ZW50aWFsTGluZVxyXG4gICAgZWxlY3RyaWNQb3RlbnRpYWxMaW5lR3JvdXAuZWxlbWVudENyZWF0ZWRFbWl0dGVyLmFkZExpc3RlbmVyKCBmdW5jdGlvbiB1cGRhdGVWaWV3KCBlbGVjdHJpY1BvdGVudGlhbExpbmUgKSB7XHJcbiAgICAgIGNvbnN0IGVsZWN0cmljUG90ZW50aWFsTGluZVZpZXcgPSBlbGVjdHJpY1BvdGVudGlhbExpbmVWaWV3R3JvdXAuY3JlYXRlQ29ycmVzcG9uZGluZ0dyb3VwRWxlbWVudChcclxuICAgICAgICBlbGVjdHJpY1BvdGVudGlhbExpbmUudGFuZGVtLm5hbWUsIGVsZWN0cmljUG90ZW50aWFsTGluZSApO1xyXG5cclxuICAgICAgcGF0aHNOb2RlLmFkZENoaWxkKCBlbGVjdHJpY1BvdGVudGlhbExpbmVWaWV3LnBhdGggKTtcclxuICAgICAgbGFiZWxzTm9kZS5hZGRDaGlsZCggZWxlY3RyaWNQb3RlbnRpYWxMaW5lVmlldy52b2x0YWdlTGFiZWwgKTtcclxuXHJcbiAgICAgIC8vIGFkZCB0aGUgY2lyY2xlcyBhbmQgdGV4dFxyXG4gICAgICBpZiAoIElTX0RFQlVHICkge1xyXG4gICAgICAgIGNpcmNsZXNOb2RlLmFkZENoaWxkKCBlbGVjdHJpY1BvdGVudGlhbExpbmVWaWV3LmNpcmNsZXMgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbW9kZWxEaXNwb3NlTGlzdGVuZXIgPSAoKSA9PiBlbGVjdHJpY1BvdGVudGlhbExpbmVWaWV3R3JvdXAuZGlzcG9zZUVsZW1lbnQoIGVsZWN0cmljUG90ZW50aWFsTGluZVZpZXcgKTtcclxuICAgICAgZWxlY3RyaWNQb3RlbnRpYWxMaW5lLmRpc3Bvc2VFbWl0dGVyLmFkZExpc3RlbmVyKCBtb2RlbERpc3Bvc2VMaXN0ZW5lciApO1xyXG5cclxuICAgICAgLy8gdHJ5IGFnYWluIG5leHQgdGltZSB3ZSBjaGFuZ2VkXHJcbiAgICAgIGVsZWN0cmljUG90ZW50aWFsTGluZS5jaGFyZ2VDaGFuZ2VkRW1pdHRlci5hZGRMaXN0ZW5lciggZnVuY3Rpb24gY2hhcmdlQ2hhbmdlZExpc3RlbmVyKCkge1xyXG5cclxuICAgICAgICAvLyB0ZWFyIGRvd24gYW5kIHJlY3JlYXRlIHRoZSB2aWV3IG9uIGNoYW5nZVxyXG4gICAgICAgIG1vZGVsRGlzcG9zZUxpc3RlbmVyKCk7XHJcbiAgICAgICAgdXBkYXRlVmlldyggZWxlY3RyaWNQb3RlbnRpYWxMaW5lICk7XHJcblxyXG4gICAgICAgIGVsZWN0cmljUG90ZW50aWFsTGluZS5kaXNwb3NlRW1pdHRlci5yZW1vdmVMaXN0ZW5lciggbW9kZWxEaXNwb3NlTGlzdGVuZXIgKTtcclxuICAgICAgICBlbGVjdHJpY1BvdGVudGlhbExpbmUuY2hhcmdlQ2hhbmdlZEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoIGNoYXJnZUNoYW5nZWRMaXN0ZW5lciApO1xyXG4gICAgICB9ICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQ29udHJvbCB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgdmFsdWUgKHZvbHRhZ2UpIGxhYmVsc1xyXG4gICAgLy8gbm8gbmVlZCB0byB1bmxpbmsgcHJlc2VudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBzaW1cclxuICAgIGFyZVZhbHVlc1Zpc2libGVQcm9wZXJ0eS5saW5rQXR0cmlidXRlKCBsYWJlbHNOb2RlLCAndmlzaWJsZScgKTtcclxuICB9XHJcbn1cclxuXHJcbmNoYXJnZXNBbmRGaWVsZHMucmVnaXN0ZXIoICdFbGVjdHJpY1BvdGVudGlhbExpbmVzTm9kZScsIEVsZWN0cmljUG90ZW50aWFsTGluZXNOb2RlICk7XHJcbmV4cG9ydCBkZWZhdWx0IEVsZWN0cmljUG90ZW50aWFsTGluZXNOb2RlOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBU0EsSUFBSSxRQUFRLG1DQUFtQztBQUN4RCxPQUFPQyxXQUFXLE1BQU0sc0NBQXNDO0FBQzlELE9BQU9DLE1BQU0sTUFBTSx1Q0FBdUM7QUFDMUQsT0FBT0MsZ0JBQWdCLE1BQU0sMkJBQTJCO0FBQ3hELE9BQU9DLHlCQUF5QixNQUFNLGdDQUFnQzs7QUFFdEU7QUFDQSxNQUFNQyxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxlQUFlLENBQUNDLEdBQUc7QUFFakQsTUFBTUMsMEJB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