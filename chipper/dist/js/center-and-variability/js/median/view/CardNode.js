// Copyright 2022-2023, University of Colorado Boulder

/**
 * Draggable node that shows a single number on a card.  The number can change if the corresponding ball is dragged.
 *
 * @author Chris Klusendorf (PhET Interactive Simulations)
 * @author Sam Reid (PhET Interactive Simulations)
 */

import centerAndVariability from '../../centerAndVariability.js';
import { DragListener, Node, Rectangle, Text } from '../../../../scenery/js/imports.js';
import optionize from '../../../../phet-core/js/optionize.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import Vector2Property from '../../../../dot/js/Vector2Property.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import Animation from '../../../../twixt/js/Animation.js';
import Easing from '../../../../twixt/js/Easing.js';
import Emitter from '../../../../axon/js/Emitter.js';
export default class CardNode extends Node {
  // Emit how far the card has been dragged for purposes of hiding the drag indicator arrow when the user
  // has dragged a sufficient amount
  dragDistanceEmitter = new Emitter({
    parameters: [{
      valueType: 'number'
    }]
  });
  animation = null;
  animationTo = null;
  static CARD_WIDTH = 43;
  constructor(cardModel, position, getDragRange, providedOptions) {
    const cornerRadius = 10;
    const rectangle = new Rectangle(0, 0, CardNode.CARD_WIDTH, CardNode.CARD_WIDTH, cornerRadius, cornerRadius, {
      stroke: 'black',
      lineWidth: 1,
      fill: 'white'
    });
    const text = new Text('', {
      font: new PhetFont(24)
    });
    const options = optionize()({
      children: [rectangle, text],
      cursor: 'pointer',
      phetioDynamicElement: true
    }, providedOptions);
    super(options);
    cardModel.soccerBall.valueProperty.link(value => {
      text.string = value === null ? '' : value + '';
      text.center = rectangle.center;
      this.visible = value !== null;
    });
    this.positionProperty = new Vector2Property(position, {
      tandem: options.tandem.createTandem('positionProperty'),
      valueComparisonStrategy: 'equalsFunction'
    });
    this.soccerBall = cardModel.soccerBall;
    this.positionProperty.link(position => {
      const range = getDragRange();
      this.translation = new Vector2(range.constrainValue(position.x), 0);
    });
    this.dragListener = new DragListener({
      tandem: options.tandem.createTandem('dragListener'),
      positionProperty: this.positionProperty,
      start: () => {
        this.moveToFront();
      },
      // TODO-UX: This emits for dragging the leftmost card to the left, see https://github.com/phetsims/center-and-variability/issues/111
      drag: (event, listener) => this.dragDistanceEmitter.emit(Math.abs(listener.modelDelta.x))
    });
    this.addInputListener(this.dragListener);
    this.soccerBall.dragStartedEmitter.addListener(() => this.moveToFront());
  }
  animateTo(destination, duration, callback = _.noop) {
    if (this.animation) {
      assert && assert(!!this.animationTo, 'animationTo should be defined when animation is defined');
      if (destination.equals(this.animationTo)) {
        // Already moving to the desired destination.
        // TODO: should this callback be called from the finishEmitter of the existing animation?
        callback();
        return;
      } else {
        this.animation.stop();
      }
    } else {
      if (destination.equals(this.positionProperty.value)) {
        // Already at the desired destination.
        callback();
        return;
      }
    }
    this.animation = new Animation({
      duration: duration,
      targets: [{
        property: this.positionProperty,
        to: destination,
        easing: Easing.QUADRATIC_IN_OUT
      }]
    });
    this.animationTo = destination;
    this.animation.endedEmitter.addListener(() => {
      callback();
      this.animation = null;
      this.animationTo = null;
    });
    this.animation.start();
  }
}
centerAndVariability.register('CardNode', CardNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjZW50ZXJBbmRWYXJpYWJpbGl0eSIsIkRyYWdMaXN0ZW5lciIsIk5vZGUiLCJSZWN0YW5nbGUiLCJUZXh0Iiwib3B0aW9uaXplIiwiUGhldEZvbnQiLCJWZWN0b3IyUHJvcGVydHkiLCJWZWN0b3IyIiwiQW5pbWF0aW9uIiwiRWFzaW5nIiwiRW1pdHRlciIsIkNhcmROb2RlIiwiZHJhZ0Rpc3RhbmNlRW1pdHRlciIsInBhcmFtZXRlcnMiLCJ2YWx1ZVR5cGUiLCJhbmltYXRpb24iLCJhbmltYXRpb25UbyIsIkNBUkRfV0lEVEgiLCJjb25zdHJ1Y3RvciIsImNhcmRNb2RlbCIsInBvc2l0aW9uIiwiZ2V0RHJhZ1JhbmdlIiwicHJvdmlkZWRPcHRpb25zIiwiY29ybmVyUmFkaXVzIiwicmVjdGFuZ2xlIiwic3Ryb2tlIiwibGluZVdpZHRoIiwiZmlsbCIsInRleHQiLCJmb250Iiwib3B0aW9ucyIsImNoaWxkcmVuIiwiY3Vyc29yIiwicGhldGlvRHluYW1pY0VsZW1lbnQiLCJzb2NjZXJCYWxsIiwidmFsdWVQcm9wZXJ0eSIsImxpbmsiLCJ2YWx1ZSIsInN0cmluZyIsImNlbnRlciIsInZpc2libGUiLCJwb3NpdGlvblByb3BlcnR5IiwidGFuZGVtIiwiY3JlYXRlVGFuZGVtIiwidmFsdWVDb21wYXJpc29uU3RyYXRlZ3kiLCJyYW5nZSIsInRyYW5zbGF0aW9uIiwiY29uc3RyYWluVmFsdWUiLCJ4IiwiZHJhZ0xpc3RlbmVyIiwic3RhcnQiLCJtb3ZlVG9Gcm9udCIsImRyYWciLCJldmVudCIsImxpc3RlbmVyIiwiZW1pdCIsIk1hdGgiLCJhYnMiLCJtb2RlbERlbHRhIiwiYWRkSW5wdXRMaXN0ZW5lciIsImRyYWdTdGFydGVkRW1pdHRlciIsImFkZExpc3RlbmVyIiwiYW5pbWF0ZVRvIiwiZGVzdGluYXRpb24iLCJkdXJhdGlvbiIsImNhbGxiYWNrIiwiXyIsIm5vb3AiLCJhc3NlcnQiLCJlcXVhbHMiLCJzdG9wIiwidGFyZ2V0cyIsInByb3BlcnR5IiwidG8iLCJlYXNpbmciLCJRVUFEUkFUSUNfSU5fT1VUIiwiZW5kZWRFbWl0dGVyIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJDYXJkTm9kZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMi0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBEcmFnZ2FibGUgbm9kZSB0aGF0IHNob3dzIGEgc2luZ2xlIG51bWJlciBvbiBhIGNhcmQuICBUaGUgbnVtYmVyIGNhbiBjaGFuZ2UgaWYgdGhlIGNvcnJlc3BvbmRpbmcgYmFsbCBpcyBkcmFnZ2VkLlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIEtsdXNlbmRvcmYgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgU2FtIFJlaWQgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IGNlbnRlckFuZFZhcmlhYmlsaXR5IGZyb20gJy4uLy4uL2NlbnRlckFuZFZhcmlhYmlsaXR5LmpzJztcclxuaW1wb3J0IHsgRHJhZ0xpc3RlbmVyLCBOb2RlLCBOb2RlT3B0aW9ucywgUmVjdGFuZ2xlLCBUZXh0IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSwgeyBFbXB0eVNlbGZPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XHJcbmltcG9ydCBQaGV0Rm9udCBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvUGhldEZvbnQuanMnO1xyXG5pbXBvcnQgU29jY2VyQmFsbCBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvU29jY2VyQmFsbC5qcyc7XHJcbmltcG9ydCBWZWN0b3IyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBWZWN0b3IyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyLmpzJztcclxuaW1wb3J0IEFuaW1hdGlvbiBmcm9tICcuLi8uLi8uLi8uLi90d2l4dC9qcy9BbmltYXRpb24uanMnO1xyXG5pbXBvcnQgUmFuZ2UgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1JhbmdlLmpzJztcclxuaW1wb3J0IEVhc2luZyBmcm9tICcuLi8uLi8uLi8uLi90d2l4dC9qcy9FYXNpbmcuanMnO1xyXG5pbXBvcnQgQ2FyZE1vZGVsIGZyb20gJy4uL21vZGVsL0NhcmRNb2RlbC5qcyc7XHJcbmltcG9ydCBFbWl0dGVyIGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvRW1pdHRlci5qcyc7XHJcbmltcG9ydCBQaWNrUmVxdWlyZWQgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1BpY2tSZXF1aXJlZC5qcyc7XHJcbmltcG9ydCBURW1pdHRlciBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RFbWl0dGVyLmpzJztcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSBFbXB0eVNlbGZPcHRpb25zO1xyXG5leHBvcnQgdHlwZSBDYXJkTm9kZU9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIE5vZGVPcHRpb25zICYgUGlja1JlcXVpcmVkPE5vZGVPcHRpb25zLCAndGFuZGVtJz47XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkTm9kZSBleHRlbmRzIE5vZGUge1xyXG4gIHB1YmxpYyByZWFkb25seSBwb3NpdGlvblByb3BlcnR5OiBWZWN0b3IyUHJvcGVydHk7XHJcbiAgcHVibGljIHJlYWRvbmx5IGRyYWdMaXN0ZW5lcjogRHJhZ0xpc3RlbmVyO1xyXG5cclxuICAvLyBFbWl0IGhvdyBmYXIgdGhlIGNhcmQgaGFzIGJlZW4gZHJhZ2dlZCBmb3IgcHVycG9zZXMgb2YgaGlkaW5nIHRoZSBkcmFnIGluZGljYXRvciBhcnJvdyB3aGVuIHRoZSB1c2VyXHJcbiAgLy8gaGFzIGRyYWdnZWQgYSBzdWZmaWNpZW50IGFtb3VudFxyXG4gIHB1YmxpYyByZWFkb25seSBkcmFnRGlzdGFuY2VFbWl0dGVyOiBURW1pdHRlcjxbIG51bWJlciBdPiA9IG5ldyBFbWl0dGVyPFsgbnVtYmVyIF0+KCB7XHJcbiAgICBwYXJhbWV0ZXJzOiBbIHsgdmFsdWVUeXBlOiAnbnVtYmVyJyB9IF1cclxuICB9ICk7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBzb2NjZXJCYWxsOiBTb2NjZXJCYWxsO1xyXG4gIHB1YmxpYyBhbmltYXRpb246IEFuaW1hdGlvbiB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgYW5pbWF0aW9uVG86IFZlY3RvcjIgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBDQVJEX1dJRFRIID0gNDM7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggY2FyZE1vZGVsOiBDYXJkTW9kZWwsIHBvc2l0aW9uOiBWZWN0b3IyLCBnZXREcmFnUmFuZ2U6ICgpID0+IFJhbmdlLCBwcm92aWRlZE9wdGlvbnM6IENhcmROb2RlT3B0aW9ucyApIHtcclxuXHJcbiAgICBjb25zdCBjb3JuZXJSYWRpdXMgPSAxMDtcclxuICAgIGNvbnN0IHJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoIDAsIDAsIENhcmROb2RlLkNBUkRfV0lEVEgsIENhcmROb2RlLkNBUkRfV0lEVEgsIGNvcm5lclJhZGl1cywgY29ybmVyUmFkaXVzLCB7XHJcbiAgICAgIHN0cm9rZTogJ2JsYWNrJyxcclxuICAgICAgbGluZVdpZHRoOiAxLFxyXG4gICAgICBmaWxsOiAnd2hpdGUnXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCB0ZXh0ID0gbmV3IFRleHQoICcnLCB7XHJcbiAgICAgIGZvbnQ6IG5ldyBQaGV0Rm9udCggMjQgKVxyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8Q2FyZE5vZGVPcHRpb25zLCBTZWxmT3B0aW9ucywgTm9kZU9wdGlvbnM+KCkoIHtcclxuICAgICAgY2hpbGRyZW46IFsgcmVjdGFuZ2xlLCB0ZXh0IF0sXHJcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICBwaGV0aW9EeW5hbWljRWxlbWVudDogdHJ1ZVxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcbiAgICBjYXJkTW9kZWwuc29jY2VyQmFsbC52YWx1ZVByb3BlcnR5LmxpbmsoIHZhbHVlID0+IHtcclxuICAgICAgdGV4dC5zdHJpbmcgPSB2YWx1ZSA9PT0gbnVsbCA/ICcnIDogdmFsdWUgKyAnJztcclxuICAgICAgdGV4dC5jZW50ZXIgPSByZWN0YW5nbGUuY2VudGVyO1xyXG4gICAgICB0aGlzLnZpc2libGUgPSB2YWx1ZSAhPT0gbnVsbDtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnBvc2l0aW9uUHJvcGVydHkgPSBuZXcgVmVjdG9yMlByb3BlcnR5KCBwb3NpdGlvbiwge1xyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3Bvc2l0aW9uUHJvcGVydHknICksXHJcbiAgICAgIHZhbHVlQ29tcGFyaXNvblN0cmF0ZWd5OiAnZXF1YWxzRnVuY3Rpb24nXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5zb2NjZXJCYWxsID0gY2FyZE1vZGVsLnNvY2NlckJhbGw7XHJcblxyXG4gICAgdGhpcy5wb3NpdGlvblByb3BlcnR5LmxpbmsoIHBvc2l0aW9uID0+IHtcclxuICAgICAgY29uc3QgcmFuZ2UgPSBnZXREcmFnUmFuZ2UoKTtcclxuICAgICAgdGhpcy50cmFuc2xhdGlvbiA9IG5ldyBWZWN0b3IyKCByYW5nZS5jb25zdHJhaW5WYWx1ZSggcG9zaXRpb24ueCApLCAwICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5kcmFnTGlzdGVuZXIgPSBuZXcgRHJhZ0xpc3RlbmVyKCB7XHJcbiAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnZHJhZ0xpc3RlbmVyJyApLFxyXG4gICAgICBwb3NpdGlvblByb3BlcnR5OiB0aGlzLnBvc2l0aW9uUHJvcGVydHksXHJcbiAgICAgIHN0YXJ0OiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tb3ZlVG9Gcm9udCgpO1xyXG4gICAgICB9LFxyXG4gICAgICAvLyBUT0RPLVVYOiBUaGlzIGVtaXRzIGZvciBkcmFnZ2luZyB0aGUgbGVmdG1vc3QgY2FyZCB0byB0aGUgbGVmdCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9jZW50ZXItYW5kLXZhcmlhYmlsaXR5L2lzc3Vlcy8xMTFcclxuICAgICAgZHJhZzogKCBldmVudCwgbGlzdGVuZXIgKSA9PiB0aGlzLmRyYWdEaXN0YW5jZUVtaXR0ZXIuZW1pdCggTWF0aC5hYnMoIGxpc3RlbmVyLm1vZGVsRGVsdGEueCApIClcclxuICAgIH0gKTtcclxuICAgIHRoaXMuYWRkSW5wdXRMaXN0ZW5lciggdGhpcy5kcmFnTGlzdGVuZXIgKTtcclxuXHJcbiAgICB0aGlzLnNvY2NlckJhbGwuZHJhZ1N0YXJ0ZWRFbWl0dGVyLmFkZExpc3RlbmVyKCAoKSA9PiB0aGlzLm1vdmVUb0Zyb250KCkgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhbmltYXRlVG8oIGRlc3RpbmF0aW9uOiBWZWN0b3IyLCBkdXJhdGlvbjogbnVtYmVyLCBjYWxsYmFjayA9IF8ubm9vcCApOiB2b2lkIHtcclxuXHJcbiAgICBpZiAoIHRoaXMuYW5pbWF0aW9uICkge1xyXG5cclxuICAgICAgYXNzZXJ0ICYmIGFzc2VydCggISF0aGlzLmFuaW1hdGlvblRvLCAnYW5pbWF0aW9uVG8gc2hvdWxkIGJlIGRlZmluZWQgd2hlbiBhbmltYXRpb24gaXMgZGVmaW5lZCcgKTtcclxuXHJcbiAgICAgIGlmICggZGVzdGluYXRpb24uZXF1YWxzKCB0aGlzLmFuaW1hdGlvblRvISApICkge1xyXG5cclxuICAgICAgICAvLyBBbHJlYWR5IG1vdmluZyB0byB0aGUgZGVzaXJlZCBkZXN0aW5hdGlvbi5cclxuICAgICAgICAvLyBUT0RPOiBzaG91bGQgdGhpcyBjYWxsYmFjayBiZSBjYWxsZWQgZnJvbSB0aGUgZmluaXNoRW1pdHRlciBvZiB0aGUgZXhpc3RpbmcgYW5pbWF0aW9uP1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLnN0b3AoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGlmICggZGVzdGluYXRpb24uZXF1YWxzKCB0aGlzLnBvc2l0aW9uUHJvcGVydHkudmFsdWUgKSApIHtcclxuXHJcbiAgICAgICAgLy8gQWxyZWFkeSBhdCB0aGUgZGVzaXJlZCBkZXN0aW5hdGlvbi5cclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbigge1xyXG4gICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgIHRhcmdldHM6IFsge1xyXG4gICAgICAgIHByb3BlcnR5OiB0aGlzLnBvc2l0aW9uUHJvcGVydHksXHJcbiAgICAgICAgdG86IGRlc3RpbmF0aW9uLFxyXG4gICAgICAgIGVhc2luZzogRWFzaW5nLlFVQURSQVRJQ19JTl9PVVRcclxuICAgICAgfSBdXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFuaW1hdGlvblRvID0gZGVzdGluYXRpb247XHJcblxyXG4gICAgdGhpcy5hbmltYXRpb24uZW5kZWRFbWl0dGVyLmFkZExpc3RlbmVyKCAoKSA9PiB7XHJcbiAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uID0gbnVsbDtcclxuICAgICAgdGhpcy5hbmltYXRpb25UbyA9IG51bGw7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5hbmltYXRpb24uc3RhcnQoKTtcclxuICB9XHJcbn1cclxuXHJcbmNlbnRlckFuZFZhcmlhYmlsaXR5LnJlZ2lzdGVyKCAnQ2FyZE5vZGUnLCBDYXJkTm9kZSApOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLG9CQUFvQixNQUFNLCtCQUErQjtBQUNoRSxTQUFTQyxZQUFZLEVBQUVDLElBQUksRUFBZUMsU0FBUyxFQUFFQyxJQUFJLFFBQVEsbUNBQW1DO0FBQ3BHLE9BQU9DLFNBQVMsTUFBNEIsdUNBQXVDO0FBQ25GLE9BQU9DLFFBQVEsTUFBTSx5Q0FBeUM7QUFFOUQsT0FBT0MsZUFBZSxNQUFNLHVDQUF1QztBQUNuRSxPQUFPQyxPQUFPLE1BQU0sK0JBQStCO0FBQ25ELE9BQU9DLFNBQVMsTUFBTSxtQ0FBbUM7QUFFekQsT0FBT0MsTUFBTSxNQUFNLGdDQUFnQztBQUVuRCxPQUFPQyxPQUFPLE1BQU0sZ0NBQWdDO0FBT3BELGVBQWUsTUFBTUMsUUFBUSxTQUFTVixJQUFJLENBQUM7RUFJekM7RUFDQTtFQUNnQlcsbUJBQW1CLEdBQXlCLElBQUlGLE9BQU8sQ0FBYztJQUNuRkcsVUFBVSxFQUFFLENBQUU7TUFBRUMsU0FBUyxFQUFFO0lBQVMsQ0FBQztFQUN2QyxDQUFFLENBQUM7RUFHSUMsU0FBUyxHQUFxQixJQUFJO0VBQ2pDQyxXQUFXLEdBQW1CLElBQUk7RUFFMUMsT0FBdUJDLFVBQVUsR0FBRyxFQUFFO0VBRS9CQyxXQUFXQSxDQUFFQyxTQUFvQixFQUFFQyxRQUFpQixFQUFFQyxZQUF5QixFQUFFQyxlQUFnQyxFQUFHO0lBRXpILE1BQU1DLFlBQVksR0FBRyxFQUFFO0lBQ3ZCLE1BQU1DLFNBQVMsR0FBRyxJQUFJdEIsU0FBUyxDQUFFLENBQUMsRUFBRSxDQUFDLEVBQUVTLFFBQVEsQ0FBQ00sVUFBVSxFQUFFTixRQUFRLENBQUNNLFVBQVUsRUFBRU0sWUFBWSxFQUFFQSxZQUFZLEVBQUU7TUFDM0dFLE1BQU0sRUFBRSxPQUFPO01BQ2ZDLFNBQVMsRUFBRSxDQUFDO01BQ1pD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