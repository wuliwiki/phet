// Copyright 2023, University of Colorado Boulder

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import { HBox, HSeparator, Text, VBox } from '../../../../scenery/js/imports.js';
import CenterAndVariabilityStrings from '../../CenterAndVariabilityStrings.js';
import PatternStringProperty from '../../../../axon/js/PatternStringProperty.js';
import centerAndVariability from '../../centerAndVariability.js';
import Utils from '../../../../dot/js/Utils.js';
import CAVConstants from '../../common/CAVConstants.js';
import MADNode from './MADNode.js';
import MathSymbols from '../../../../scenery-phet/js/MathSymbols.js';
export default class MADInfoNode extends VBox {
  constructor(model, sceneModel, options) {
    // TODO: The design calls for a depiction of the mean location.  This is not yet implemented.
    const hasEnoughDataProperty = new DerivedProperty([sceneModel.numberOfDataPointsProperty], numberOfDataPoints => numberOfDataPoints >= 1);
    const numeratorText = new Text('', {
      fontSize: 16
    });
    const denominatorText = new Text('', {
      fontSize: 16
    });
    const resultNumeratorText = new Text('', {
      fontSize: 16
    });
    const resultDenominatorText = new Text('', {
      fontSize: 16
    });
    sceneModel.objectChangedEmitter.addListener(() => {
      const values = sceneModel.getSortedLandedObjects().map(landedObject => landedObject.valueProperty.value);
      const mads = values.map(value => Math.abs(value - sceneModel.meanValueProperty.value));
      const madStrings = mads.map(mad => Utils.toFixed(mad, 1));
      numeratorText.string = madStrings.join(' + ');
      denominatorText.string = values.length.toString();

      // TODO: Due to rounding, these values could not add up correctly, see https://github.com/phetsims/center-and-variability/issues/169
      const sum = _.reduce(mads, (sum, mad) => sum + mad, 0);
      resultNumeratorText.string = Utils.toFixed(sum, 1);
      resultDenominatorText.string = values.length.toString();
    });
    const calculationFraction = new VBox({
      children: [numeratorText, new HSeparator(), denominatorText],
      align: 'center'
    });
    const resultFraction = new VBox({
      children: [resultNumeratorText, new HSeparator(), resultDenominatorText],
      align: 'center'
    });
    super({
      align: 'left',
      spacing: 6,
      children: [new Text(CenterAndVariabilityStrings.meanAbsoluteDeviationMADStringProperty, {
        fontSize: 25,
        maxWidth: CAVConstants.INFO_DIALOG_MAX_TEXT_WIDTH,
        layoutOptions: {
          bottomMargin: 10
        }
      }), new Text(CenterAndVariabilityStrings.madDescriptionStringProperty, {
        fontSize: 18,
        maxWidth: CAVConstants.INFO_DIALOG_MAX_TEXT_WIDTH,
        layoutOptions: {
          bottomMargin: 10
        }
      }), new HBox({
        spacing: 10,
        children: [new Text(CenterAndVariabilityStrings.madEqualsStringProperty, {
          fontSize: 18
        }), calculationFraction, new Text(MathSymbols.EQUAL_TO, {
          fontSize: 18
        }), resultFraction],
        visibleProperty: hasEnoughDataProperty
      }), new Text(new PatternStringProperty(CenterAndVariabilityStrings.madCalculationResultPatternStringProperty, {
        mad: new DerivedProperty([sceneModel.madValueProperty], madValue => madValue === null ? null : Utils.toFixed(madValue, 1))
      }), {
        fontSize: 18,
        visibleProperty: hasEnoughDataProperty,
        maxWidth: CAVConstants.INFO_DIALOG_MAX_TEXT_WIDTH,
        layoutOptions: {
          bottomMargin: 10
        }
      }), new MADNode(model, sceneModel, {
        parentContext: 'info',
        tandem: options.tandem.createTandem('madNode')
      })]
    });
  }
}
centerAndVariability.register('MADInfoNode', MADInfoNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJIQm94IiwiSFNlcGFyYXRvciIsIlRleHQiLCJWQm94IiwiQ2VudGVyQW5kVmFyaWFiaWxpdHlTdHJpbmdzIiwiUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwiY2VudGVyQW5kVmFyaWFiaWxpdHkiLCJVdGlscyIsIkNBVkNvbnN0YW50cyIsIk1BRE5vZGUiLCJNYXRoU3ltYm9scyIsIk1BREluZm9Ob2RlIiwiY29uc3RydWN0b3IiLCJtb2RlbCIsInNjZW5lTW9kZWwiLCJvcHRpb25zIiwiaGFzRW5vdWdoRGF0YVByb3BlcnR5IiwibnVtYmVyT2ZEYXRhUG9pbnRzUHJvcGVydHkiLCJudW1iZXJPZkRhdGFQb2ludHMiLCJudW1lcmF0b3JUZXh0IiwiZm9udFNpemUiLCJkZW5vbWluYXRvclRleHQiLCJyZXN1bHROdW1lcmF0b3JUZXh0IiwicmVzdWx0RGVub21pbmF0b3JUZXh0Iiwib2JqZWN0Q2hhbmdlZEVtaXR0ZXIiLCJhZGRMaXN0ZW5lciIsInZhbHVlcyIsImdldFNvcnRlZExhbmRlZE9iamVjdHMiLCJtYXAiLCJsYW5kZWRPYmplY3QiLCJ2YWx1ZVByb3BlcnR5IiwidmFsdWUiLCJtYWRzIiwiTWF0aCIsImFicyIsIm1lYW5WYWx1ZVByb3BlcnR5IiwibWFkU3RyaW5ncyIsIm1hZCIsInRvRml4ZWQiLCJzdHJpbmciLCJqb2luIiwibGVuZ3RoIiwidG9TdHJpbmciLCJzdW0iLCJfIiwicmVkdWNlIiwiY2FsY3VsYXRpb25GcmFjdGlvbiIsImNoaWxkcmVuIiwiYWxpZ24iLCJyZXN1bHRGcmFjdGlvbiIsInNwYWNpbmciLCJtZWFuQWJzb2x1dGVEZXZpYXRpb25NQURTdHJpbmdQcm9wZXJ0eSIsIm1heFdpZHRoIiwiSU5GT19ESUFMT0dfTUFYX1RFWFRfV0lEVEgiLCJsYXlvdXRPcHRpb25zIiwiYm90dG9tTWFyZ2luIiwibWFkRGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eSIsIm1hZEVxdWFsc1N0cmluZ1Byb3BlcnR5IiwiRVFVQUxfVE8iLCJ2aXNpYmxlUHJvcGVydHkiLCJtYWRDYWxjdWxhdGlvblJlc3VsdFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsIm1hZFZhbHVlUHJvcGVydHkiLCJtYWRWYWx1ZSIsInBhcmVudENvbnRleHQiLCJ0YW5kZW0iLCJjcmVhdGVUYW5kZW0iLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIk1BREluZm9Ob2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgeyBIQm94LCBIU2VwYXJhdG9yLCBUZXh0LCBWQm94IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IENlbnRlckFuZFZhcmlhYmlsaXR5U3RyaW5ncyBmcm9tICcuLi8uLi9DZW50ZXJBbmRWYXJpYWJpbGl0eVN0cmluZ3MuanMnO1xyXG5pbXBvcnQgUGF0dGVyblN0cmluZ1Byb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUGF0dGVyblN0cmluZ1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IFZhcmlhYmlsaXR5TW9kZWwgZnJvbSAnLi4vbW9kZWwvVmFyaWFiaWxpdHlNb2RlbC5qcyc7XHJcbmltcG9ydCBQaWNrUmVxdWlyZWQgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1BpY2tSZXF1aXJlZC5qcyc7XHJcbmltcG9ydCBQaGV0aW9PYmplY3QgZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1BoZXRpb09iamVjdC5qcyc7XHJcbmltcG9ydCBjZW50ZXJBbmRWYXJpYWJpbGl0eSBmcm9tICcuLi8uLi9jZW50ZXJBbmRWYXJpYWJpbGl0eS5qcyc7XHJcbmltcG9ydCBVdGlscyBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVXRpbHMuanMnO1xyXG5pbXBvcnQgQ0FWQ29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9DQVZDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgTUFETm9kZSBmcm9tICcuL01BRE5vZGUuanMnO1xyXG5pbXBvcnQgTWF0aFN5bWJvbHMgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL01hdGhTeW1ib2xzLmpzJztcclxuaW1wb3J0IFZhcmlhYmlsaXR5U2NlbmVNb2RlbCBmcm9tICcuLi9tb2RlbC9WYXJpYWJpbGl0eVNjZW5lTW9kZWwuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTUFESW5mb05vZGUgZXh0ZW5kcyBWQm94IHtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoIG1vZGVsOiBWYXJpYWJpbGl0eU1vZGVsLCBzY2VuZU1vZGVsOiBWYXJpYWJpbGl0eVNjZW5lTW9kZWwsIG9wdGlvbnM6IFBpY2tSZXF1aXJlZDxQaGV0aW9PYmplY3QsICd0YW5kZW0nPiApIHtcclxuXHJcbiAgICAvLyBUT0RPOiBUaGUgZGVzaWduIGNhbGxzIGZvciBhIGRlcGljdGlvbiBvZiB0aGUgbWVhbiBsb2NhdGlvbi4gIFRoaXMgaXMgbm90IHlldCBpbXBsZW1lbnRlZC5cclxuICAgIGNvbnN0IGhhc0Vub3VnaERhdGFQcm9wZXJ0eSA9IG5ldyBEZXJpdmVkUHJvcGVydHkoIFsgc2NlbmVNb2RlbC5udW1iZXJPZkRhdGFQb2ludHNQcm9wZXJ0eSBdLCBudW1iZXJPZkRhdGFQb2ludHMgPT4gbnVtYmVyT2ZEYXRhUG9pbnRzID49IDEgKTtcclxuXHJcbiAgICBjb25zdCBudW1lcmF0b3JUZXh0ID0gbmV3IFRleHQoICcnLCB7IGZvbnRTaXplOiAxNiB9ICk7XHJcbiAgICBjb25zdCBkZW5vbWluYXRvclRleHQgPSBuZXcgVGV4dCggJycsIHsgZm9udFNpemU6IDE2IH0gKTtcclxuXHJcbiAgICBjb25zdCByZXN1bHROdW1lcmF0b3JUZXh0ID0gbmV3IFRleHQoICcnLCB7IGZvbnRTaXplOiAxNiB9ICk7XHJcbiAgICBjb25zdCByZXN1bHREZW5vbWluYXRvclRleHQgPSBuZXcgVGV4dCggJycsIHsgZm9udFNpemU6IDE2IH0gKTtcclxuXHJcbiAgICBzY2VuZU1vZGVsLm9iamVjdENoYW5nZWRFbWl0dGVyLmFkZExpc3RlbmVyKCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHZhbHVlcyA9IHNjZW5lTW9kZWwuZ2V0U29ydGVkTGFuZGVkT2JqZWN0cygpLm1hcCggbGFuZGVkT2JqZWN0ID0+IGxhbmRlZE9iamVjdC52YWx1ZVByb3BlcnR5LnZhbHVlISApO1xyXG4gICAgICBjb25zdCBtYWRzID0gdmFsdWVzLm1hcCggdmFsdWUgPT4gTWF0aC5hYnMoIHZhbHVlIC0gc2NlbmVNb2RlbC5tZWFuVmFsdWVQcm9wZXJ0eS52YWx1ZSEgKSApO1xyXG4gICAgICBjb25zdCBtYWRTdHJpbmdzID0gbWFkcy5tYXAoIG1hZCA9PiBVdGlscy50b0ZpeGVkKCBtYWQsIDEgKSApO1xyXG4gICAgICBudW1lcmF0b3JUZXh0LnN0cmluZyA9IG1hZFN0cmluZ3Muam9pbiggJyArICcgKTtcclxuICAgICAgZGVub21pbmF0b3JUZXh0LnN0cmluZyA9IHZhbHVlcy5sZW5ndGgudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgIC8vIFRPRE86IER1ZSB0byByb3VuZGluZywgdGhlc2UgdmFsdWVzIGNvdWxkIG5vdCBhZGQgdXAgY29ycmVjdGx5LCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL2NlbnRlci1hbmQtdmFyaWFiaWxpdHkvaXNzdWVzLzE2OVxyXG4gICAgICBjb25zdCBzdW0gPSBfLnJlZHVjZSggbWFkcywgKCBzdW0sIG1hZCApID0+IHN1bSArIG1hZCwgMCApO1xyXG4gICAgICByZXN1bHROdW1lcmF0b3JUZXh0LnN0cmluZyA9IFV0aWxzLnRvRml4ZWQoIHN1bSwgMSApO1xyXG4gICAgICByZXN1bHREZW5vbWluYXRvclRleHQuc3RyaW5nID0gdmFsdWVzLmxlbmd0aC50b1N0cmluZygpO1xyXG4gICAgfSApO1xyXG5cclxuICAgIGNvbnN0IGNhbGN1bGF0aW9uRnJhY3Rpb24gPSBuZXcgVkJveCgge1xyXG4gICAgICBjaGlsZHJlbjogWyBudW1lcmF0b3JUZXh0LCBuZXcgSFNlcGFyYXRvcigpLCBkZW5vbWluYXRvclRleHQgXSxcclxuICAgICAgYWxpZ246ICdjZW50ZXInXHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0RnJhY3Rpb24gPSBuZXcgVkJveCgge1xyXG4gICAgICBjaGlsZHJlbjogWyByZXN1bHROdW1lcmF0b3JUZXh0LCBuZXcgSFNlcGFyYXRvcigpLCByZXN1bHREZW5vbWluYXRvclRleHQgXSxcclxuICAgICAgYWxpZ246ICdjZW50ZXInXHJcbiAgICB9ICk7XHJcblxyXG4gICAgc3VwZXIoIHtcclxuICAgICAgYWxpZ246ICdsZWZ0JyxcclxuICAgICAgc3BhY2luZzogNixcclxuICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICBuZXcgVGV4dCggQ2VudGVyQW5kVmFyaWFiaWxpdHlTdHJpbmdzLm1lYW5BYnNvbHV0ZURldmlhdGlvbk1BRFN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgICBmb250U2l6ZTogMjUsXHJcbiAgICAgICAgICBtYXhXaWR0aDogQ0FWQ29uc3RhbnRzLklORk9fRElBTE9HX01BWF9URVhUX1dJRFRILFxyXG4gICAgICAgICAgbGF5b3V0T3B0aW9uczogeyBib3R0b21NYXJnaW46IDEwIH1cclxuICAgICAgICB9ICksXHJcbiAgICAgICAgbmV3IFRleHQoIENlbnRlckFuZFZhcmlhYmlsaXR5U3RyaW5ncy5tYWREZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgICBmb250U2l6ZTogMTgsXHJcbiAgICAgICAgICBtYXhXaWR0aDogQ0FWQ29uc3RhbnRzLklORk9fRElBTE9HX01BWF9URVhUX1dJRFRILFxyXG4gICAgICAgICAgbGF5b3V0T3B0aW9uczogeyBib3R0b21NYXJnaW46IDEwIH1cclxuICAgICAgICB9ICksXHJcbiAgICAgICAgbmV3IEhCb3goIHtcclxuICAgICAgICAgIHNwYWNpbmc6IDEwLFxyXG4gICAgICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICAgICAgbmV3IFRleHQoIENlbnRlckFuZFZhcmlhYmlsaXR5U3RyaW5ncy5tYWRFcXVhbHNTdHJpbmdQcm9wZXJ0eSwgeyBmb250U2l6ZTogMTggfSApLFxyXG4gICAgICAgICAgICBjYWxjdWxhdGlvbkZyYWN0aW9uLFxyXG4gICAgICAgICAgICBuZXcgVGV4dCggTWF0aFN5bWJvbHMuRVFVQUxfVE8sIHsgZm9udFNpemU6IDE4IH0gKSxcclxuICAgICAgICAgICAgcmVzdWx0RnJhY3Rpb25cclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICB2aXNpYmxlUHJvcGVydHk6IGhhc0Vub3VnaERhdGFQcm9wZXJ0eVxyXG4gICAgICAgIH0gKSxcclxuXHJcbiAgICAgICAgbmV3IFRleHQoIG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIENlbnRlckFuZFZhcmlhYmlsaXR5U3RyaW5ncy5tYWRDYWxjdWxhdGlvblJlc3VsdFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICAgICAgbWFkOiBuZXcgRGVyaXZlZFByb3BlcnR5KCBbIHNjZW5lTW9kZWwubWFkVmFsdWVQcm9wZXJ0eSBdLCBtYWRWYWx1ZSA9PiBtYWRWYWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBVdGlscy50b0ZpeGVkKCBtYWRWYWx1ZSwgMSApIClcclxuICAgICAgICB9ICksIHsgZm9udFNpemU6IDE4LCB2aXNpYmxlUHJvcGVydHk6IGhhc0Vub3VnaERhdGFQcm9wZXJ0eSwgbWF4V2lkdGg6IENBVkNvbnN0YW50cy5JTkZPX0RJQUxPR19NQVhfVEVYVF9XSURUSCwgbGF5b3V0T3B0aW9uczogeyBib3R0b21NYXJnaW46IDEwIH0gfSApLFxyXG5cclxuICAgICAgICBuZXcgTUFETm9kZSggbW9kZWwsIHNjZW5lTW9kZWwsIHtcclxuICAgICAgICAgIHBhcmVudENvbnRleHQ6ICdpbmZvJyxcclxuICAgICAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnbWFkTm9kZScgKVxyXG4gICAgICAgIH0gKVxyXG4gICAgICBdXHJcbiAgICB9ICk7XHJcbiAgfVxyXG59XHJcblxyXG5jZW50ZXJBbmRWYXJpYWJpbGl0eS5yZWdpc3RlciggJ01BREluZm9Ob2RlJywgTUFESW5mb05vZGUgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLE9BQU9BLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsU0FBU0MsSUFBSSxFQUFFQyxVQUFVLEVBQUVDLElBQUksRUFBRUMsSUFBSSxRQUFRLG1DQUFtQztBQUNoRixPQUFPQywyQkFBMkIsTUFBTSxzQ0FBc0M7QUFDOUUsT0FBT0MscUJBQXFCLE1BQU0sOENBQThDO0FBSWhGLE9BQU9DLG9CQUFvQixNQUFNLCtCQUErQjtBQUNoRSxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLFlBQVksTUFBTSw4QkFBOEI7QUFDdkQsT0FBT0MsT0FBTyxNQUFNLGNBQWM7QUFDbEMsT0FBT0MsV0FBVyxNQUFNLDRDQUE0QztBQUdwRSxlQUFlLE1BQU1DLFdBQVcsU0FBU1IsSUFBSSxDQUFDO0VBQ3JDUyxXQUFXQSxDQUFFQyxLQUF1QixFQUFFQyxVQUFpQyxFQUFFQyxPQUE2QyxFQUFHO0lBRTlIO0lBQ0EsTUFBTUMscUJBQXFCLEdBQUcsSUFBSWpCLGVBQWUsQ0FBRSxDQUFFZSxVQUFVLENBQUNHLDBCQUEwQixDQUFFLEVBQUVDLGtCQUFrQixJQUFJQSxrQkFBa0IsSUFBSSxDQUFFLENBQUM7SUFFN0ksTUFBTUMsYUFBYSxHQUFHLElBQUlqQixJQUFJLENBQUUsRUFBRSxFQUFFO01BQUVrQixRQUFRLEVBQUU7SUFBRyxDQUFFLENBQUM7SUFDdEQsTUFBTUMsZUFBZSxHQUFHLElBQUluQixJQUFJLENBQUUsRUFBRSxFQUFFO01BQUVrQixRQUFRLEVBQUU7SUFBRyxDQUFFLENBQUM7SUFFeEQsTUFBTUUsbUJBQW1C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