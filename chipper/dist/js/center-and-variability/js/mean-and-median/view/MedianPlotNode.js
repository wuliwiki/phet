// Copyright 2023, University of Colorado Boulder

/**
 * Shows the dot plot or line plot on the "Mean & Median" Screen, including the legends/readouts to the left.
 * The plot is non-interactive.
 *
 * @author Chris Klusendorf (PhET Interactive Simulations)
 * @author Sam Reid (PhET Interactive Simulations)
 */

import centerAndVariability from '../../centerAndVariability.js';
import MedianBarNode from '../../common/view/MedianBarNode.js';
import CAVPlotNode from '../../common/view/CAVPlotNode.js';
import MeanAndMedianModel from '../model/MeanAndMedianModel.js';
import CAVObjectType from '../../common/model/CAVObjectType.js';
// Prevent the median bar node from going off the top of the accordion box
const MARGIN_TO_TOP_OF_ACCORDION_BOX = 4;
export default class MedianPlotNode extends CAVPlotNode {
  medianBarNode = new MedianBarNode({
    notchDirection: 'down',
    barStyle: 'continuous'
  });
  constructor(model, sceneModel, providedOptions) {
    super(model, sceneModel, {
      dataPointFill: 'black',
      ...providedOptions
    });
    this.addChild(this.medianBarNode);
    const modelViewTransform = this.modelViewTransform;
    const updateMedianBarNode = () => {
      const sortedDots = _.sortBy(sceneModel.getActiveSoccerBalls().filter(soccerBall => soccerBall.valueProperty.value !== null), object => object.valueProperty.value);
      const leftmostSoccerBall = sortedDots[0];
      const medianValue = sceneModel.medianValueProperty.value;
      const MARGIN_Y = 5;

      // Only redraw the shape if the feature is selected and the data is sorted, and there is at least one card
      if (model.isShowingTopMedianProperty.value && leftmostSoccerBall && medianValue !== null) {
        const highestDot = _.maxBy(sortedDots, object => object.positionProperty.value.y);
        const dotRadius = Math.abs(modelViewTransform.modelToViewDeltaY(CAVObjectType.SOCCER_BALL.radius));

        // assumes all of the dots have the same radius. Also move up based on the notch height
        const barY = Math.max(modelViewTransform.modelToViewY(highestDot.positionProperty.value.y) - dotRadius - MARGIN_Y - MedianBarNode.NOTCH_HEIGHT, MARGIN_TO_TOP_OF_ACCORDION_BOX);
        const rightmostDot = sortedDots[sortedDots.length - 1];
        assert && assert(leftmostSoccerBall.valueProperty.value !== null);
        const left = modelViewTransform.modelToViewX(leftmostSoccerBall.valueProperty.value);
        assert && assert(rightmostDot.valueProperty.value !== null);
        const right = modelViewTransform.modelToViewX(rightmostDot.valueProperty.value);
        assert && assert(medianValue !== null);
        const medianPositionX = modelViewTransform.modelToViewX(medianValue);
        this.medianBarNode.setMedianBarShape(barY, left, medianPositionX, right, model.isMedianAnimationCompleteProperty.value);
      } else {
        this.medianBarNode.clear();
      }
    };
    sceneModel.objectChangedEmitter.addListener(updateMedianBarNode);
    model.isShowingTopMedianProperty.link(updateMedianBarNode);
    if (model instanceof MeanAndMedianModel) {
      model.isMedianAnimationCompleteProperty.link(updateMedianBarNode);
    }
  }
}
centerAndVariability.register('MedianPlotNode', MedianPlotNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjZW50ZXJBbmRWYXJpYWJpbGl0eSIsIk1lZGlhbkJhck5vZGUiLCJDQVZQbG90Tm9kZSIsIk1lYW5BbmRNZWRpYW5Nb2RlbCIsIkNBVk9iamVjdFR5cGUiLCJNQVJHSU5fVE9fVE9QX09GX0FDQ09SRElPTl9CT1giLCJNZWRpYW5QbG90Tm9kZSIsIm1lZGlhbkJhck5vZGUiLCJub3RjaERpcmVjdGlvbiIsImJhclN0eWxlIiwiY29uc3RydWN0b3IiLCJtb2RlbCIsInNjZW5lTW9kZWwiLCJwcm92aWRlZE9wdGlvbnMiLCJkYXRhUG9pbnRGaWxsIiwiYWRkQ2hpbGQiLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJ1cGRhdGVNZWRpYW5CYXJOb2RlIiwic29ydGVkRG90cyIsIl8iLCJzb3J0QnkiLCJnZXRBY3RpdmVTb2NjZXJCYWxscyIsImZpbHRlciIsInNvY2NlckJhbGwiLCJ2YWx1ZVByb3BlcnR5IiwidmFsdWUiLCJvYmplY3QiLCJsZWZ0bW9zdFNvY2NlckJhbGwiLCJtZWRpYW5WYWx1ZSIsIm1lZGlhblZhbHVlUHJvcGVydHkiLCJNQVJHSU5fWSIsImlzU2hvd2luZ1RvcE1lZGlhblByb3BlcnR5IiwiaGlnaGVzdERvdCIsIm1heEJ5IiwicG9zaXRpb25Qcm9wZXJ0eSIsInkiLCJkb3RSYWRpdXMiLCJNYXRoIiwiYWJzIiwibW9kZWxUb1ZpZXdEZWx0YVkiLCJTT0NDRVJfQkFMTCIsInJhZGl1cyIsImJhclkiLCJtYXgiLCJtb2RlbFRvVmlld1kiLCJOT1RDSF9IRUlHSFQiLCJyaWdodG1vc3REb3QiLCJsZW5ndGgiLCJhc3NlcnQiLCJsZWZ0IiwibW9kZWxUb1ZpZXdYIiwicmlnaHQiLCJtZWRpYW5Qb3NpdGlvblgiLCJzZXRNZWRpYW5CYXJTaGFwZSIsImlzTWVkaWFuQW5pbWF0aW9uQ29tcGxldGVQcm9wZXJ0eSIsImNsZWFyIiwib2JqZWN0Q2hhbmdlZEVtaXR0ZXIiLCJhZGRMaXN0ZW5lciIsImxpbmsiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIk1lZGlhblBsb3ROb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBTaG93cyB0aGUgZG90IHBsb3Qgb3IgbGluZSBwbG90IG9uIHRoZSBcIk1lYW4gJiBNZWRpYW5cIiBTY3JlZW4sIGluY2x1ZGluZyB0aGUgbGVnZW5kcy9yZWFkb3V0cyB0byB0aGUgbGVmdC5cclxuICogVGhlIHBsb3QgaXMgbm9uLWludGVyYWN0aXZlLlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIEtsdXNlbmRvcmYgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgU2FtIFJlaWQgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IGNlbnRlckFuZFZhcmlhYmlsaXR5IGZyb20gJy4uLy4uL2NlbnRlckFuZFZhcmlhYmlsaXR5LmpzJztcclxuaW1wb3J0IHsgTm9kZU9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgQ0FWU2NlbmVNb2RlbCBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvQ0FWU2NlbmVNb2RlbC5qcyc7XHJcbmltcG9ydCBNZWRpYW5CYXJOb2RlIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L01lZGlhbkJhck5vZGUuanMnO1xyXG5pbXBvcnQgUGlja1JlcXVpcmVkIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy90eXBlcy9QaWNrUmVxdWlyZWQuanMnO1xyXG5pbXBvcnQgQ0FWUGxvdE5vZGUgZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXcvQ0FWUGxvdE5vZGUuanMnO1xyXG5pbXBvcnQgTWVhbkFuZE1lZGlhbk1vZGVsIGZyb20gJy4uL21vZGVsL01lYW5BbmRNZWRpYW5Nb2RlbC5qcyc7XHJcbmltcG9ydCBDQVZPYmplY3RUeXBlIGZyb20gJy4uLy4uL2NvbW1vbi9tb2RlbC9DQVZPYmplY3RUeXBlLmpzJztcclxuXHJcbmV4cG9ydCB0eXBlIENBVlBsb3RPcHRpb25zID0gTm9kZU9wdGlvbnMgJiBQaWNrUmVxdWlyZWQ8Tm9kZU9wdGlvbnMsICd0YW5kZW0nPjtcclxuXHJcbi8vIFByZXZlbnQgdGhlIG1lZGlhbiBiYXIgbm9kZSBmcm9tIGdvaW5nIG9mZiB0aGUgdG9wIG9mIHRoZSBhY2NvcmRpb24gYm94XHJcbmNvbnN0IE1BUkdJTl9UT19UT1BfT0ZfQUNDT1JESU9OX0JPWCA9IDQ7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZWRpYW5QbG90Tm9kZSBleHRlbmRzIENBVlBsb3ROb2RlIHtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBtZWRpYW5CYXJOb2RlID0gbmV3IE1lZGlhbkJhck5vZGUoIHtcclxuICAgIG5vdGNoRGlyZWN0aW9uOiAnZG93bicsXHJcbiAgICBiYXJTdHlsZTogJ2NvbnRpbnVvdXMnXHJcbiAgfSApO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIG1vZGVsOiBNZWFuQW5kTWVkaWFuTW9kZWwsIHNjZW5lTW9kZWw6IENBVlNjZW5lTW9kZWwsIHByb3ZpZGVkT3B0aW9uczogQ0FWUGxvdE9wdGlvbnMgKSB7XHJcbiAgICBzdXBlciggbW9kZWwsIHNjZW5lTW9kZWwsIHtcclxuICAgICAgZGF0YVBvaW50RmlsbDogJ2JsYWNrJyxcclxuICAgICAgLi4ucHJvdmlkZWRPcHRpb25zXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5tZWRpYW5CYXJOb2RlICk7XHJcblxyXG4gICAgY29uc3QgbW9kZWxWaWV3VHJhbnNmb3JtID0gdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm07XHJcblxyXG4gICAgY29uc3QgdXBkYXRlTWVkaWFuQmFyTm9kZSA9ICgpID0+IHtcclxuXHJcbiAgICAgIGNvbnN0IHNvcnRlZERvdHMgPSBfLnNvcnRCeSggc2NlbmVNb2RlbC5nZXRBY3RpdmVTb2NjZXJCYWxscygpLmZpbHRlciggc29jY2VyQmFsbCA9PiBzb2NjZXJCYWxsLnZhbHVlUHJvcGVydHkudmFsdWUgIT09IG51bGwgKSxcclxuICAgICAgICBvYmplY3QgPT4gb2JqZWN0LnZhbHVlUHJvcGVydHkudmFsdWUgKTtcclxuICAgICAgY29uc3QgbGVmdG1vc3RTb2NjZXJCYWxsID0gc29ydGVkRG90c1sgMCBdO1xyXG5cclxuICAgICAgY29uc3QgbWVkaWFuVmFsdWUgPSBzY2VuZU1vZGVsLm1lZGlhblZhbHVlUHJvcGVydHkudmFsdWU7XHJcblxyXG4gICAgICBjb25zdCBNQVJHSU5fWSA9IDU7XHJcblxyXG4gICAgICAvLyBPbmx5IHJlZHJhdyB0aGUgc2hhcGUgaWYgdGhlIGZlYXR1cmUgaXMgc2VsZWN0ZWQgYW5kIHRoZSBkYXRhIGlzIHNvcnRlZCwgYW5kIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBjYXJkXHJcbiAgICAgIGlmICggbW9kZWwuaXNTaG93aW5nVG9wTWVkaWFuUHJvcGVydHkudmFsdWUgJiYgbGVmdG1vc3RTb2NjZXJCYWxsICYmIG1lZGlhblZhbHVlICE9PSBudWxsICkge1xyXG4gICAgICAgIGNvbnN0IGhpZ2hlc3REb3QgPSBfLm1heEJ5KCBzb3J0ZWREb3RzLCBvYmplY3QgPT4gb2JqZWN0LnBvc2l0aW9uUHJvcGVydHkudmFsdWUueSApO1xyXG4gICAgICAgIGNvbnN0IGRvdFJhZGl1cyA9IE1hdGguYWJzKCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdEZWx0YVkoIENBVk9iamVjdFR5cGUuU09DQ0VSX0JBTEwucmFkaXVzICkgKTtcclxuXHJcbiAgICAgICAgLy8gYXNzdW1lcyBhbGwgb2YgdGhlIGRvdHMgaGF2ZSB0aGUgc2FtZSByYWRpdXMuIEFsc28gbW92ZSB1cCBiYXNlZCBvbiB0aGUgbm90Y2ggaGVpZ2h0XHJcbiAgICAgICAgY29uc3QgYmFyWSA9IE1hdGgubWF4KCBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdZKCBoaWdoZXN0RG90IS5wb3NpdGlvblByb3BlcnR5LnZhbHVlLnkgKSAtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RSYWRpdXMgLSBNQVJHSU5fWSAtIE1lZGlhbkJhck5vZGUuTk9UQ0hfSEVJR0hULCBNQVJHSU5fVE9fVE9QX09GX0FDQ09SRElPTl9CT1ggKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmlnaHRtb3N0RG90ID0gc29ydGVkRG90c1sgc29ydGVkRG90cy5sZW5ndGggLSAxIF07XHJcbiAgICAgICAgYXNzZXJ0ICYmIGFzc2VydCggbGVmdG1vc3RTb2NjZXJCYWxsLnZhbHVlUHJvcGVydHkudmFsdWUgIT09IG51bGwgKTtcclxuICAgICAgICBjb25zdCBsZWZ0ID0gbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggbGVmdG1vc3RTb2NjZXJCYWxsLnZhbHVlUHJvcGVydHkudmFsdWUhICk7XHJcbiAgICAgICAgYXNzZXJ0ICYmIGFzc2VydCggcmlnaHRtb3N0RG90LnZhbHVlUHJvcGVydHkudmFsdWUgIT09IG51bGwgKTtcclxuICAgICAgICBjb25zdCByaWdodCA9IG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1goIHJpZ2h0bW9zdERvdC52YWx1ZVByb3BlcnR5LnZhbHVlISApO1xyXG4gICAgICAgIGFzc2VydCAmJiBhc3NlcnQoIG1lZGlhblZhbHVlICE9PSBudWxsICk7XHJcbiAgICAgICAgY29uc3QgbWVkaWFuUG9zaXRpb25YID0gbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3WCggbWVkaWFuVmFsdWUgKTtcclxuXHJcbiAgICAgICAgdGhpcy5tZWRpYW5CYXJOb2RlLnNldE1lZGlhbkJhclNoYXBlKCBiYXJZLCBsZWZ0LCBtZWRpYW5Qb3NpdGlvblgsIHJpZ2h0LCBtb2RlbC5pc01lZGlhbkFuaW1hdGlvbkNvbXBsZXRlUHJvcGVydHkudmFsdWUgKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICB0aGlzLm1lZGlhbkJhck5vZGUuY2xlYXIoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHNjZW5lTW9kZWwub2JqZWN0Q2hhbmdlZEVtaXR0ZXIuYWRkTGlzdGVuZXIoIHVwZGF0ZU1lZGlhbkJhck5vZGUgKTtcclxuICAgIG1vZGVsLmlzU2hvd2luZ1RvcE1lZGlhblByb3BlcnR5LmxpbmsoIHVwZGF0ZU1lZGlhbkJhck5vZGUgKTtcclxuICAgIGlmICggbW9kZWwgaW5zdGFuY2VvZiBNZWFuQW5kTWVkaWFuTW9kZWwgKSB7XHJcbiAgICAgIG1vZGVsLmlzTWVkaWFuQW5pbWF0aW9uQ29tcGxldGVQcm9wZXJ0eS5saW5rKCB1cGRhdGVNZWRpYW5CYXJOb2RlICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5jZW50ZXJBbmRWYXJpYWJpbGl0eS5yZWdpc3RlciggJ01lZGlhblBsb3ROb2RlJywgTWVkaWFuUGxvdE5vZGUgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLG9CQUFvQixNQUFNLCtCQUErQjtBQUdoRSxPQUFPQyxhQUFhLE1BQU0sb0NBQW9DO0FBRTlELE9BQU9DLFdBQVcsTUFBTSxrQ0FBa0M7QUFDMUQsT0FBT0Msa0JBQWtCLE1BQU0sZ0NBQWdDO0FBQy9ELE9BQU9DLGFBQWEsTUFBTSxxQ0FBcUM7QUFJL0Q7QUFDQSxNQUFNQyw4QkFBOEIsR0FBRyxDQUFDO0FBRXhDLGVBQWUsTUFBTUMsY0FBYyxTQUFTSixXQUFXLENBQUM7RUFFckNLLGFBQWEsR0FBRyxJQUFJTixhQUFhLENBQUU7SUFDbERPLGNBQWMsRUFBRSxNQUFNO0lBQ3RCQyxRQUFRLEVBQUU7RUFDWixDQUFFLENBQUM7RUFFSUMsV0FBV0EsQ0FBRUMsS0FBeUIsRUFBRUMsVUFBeUIsRUFBRUMsZUFBK0IsRUFBRztJQUMxRyxLQUFLLENBQUVGLEtBQUssRUFBRUMsVUFBVSxFQUFFO01BQ3hCRSxhQUFhLEVBQUUsT0FBTztNQUN0QixHQUFHRDtJQUNMLENBQUUsQ0FBQztJQUVI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