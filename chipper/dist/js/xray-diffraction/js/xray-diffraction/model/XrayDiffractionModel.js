// Copyright 2020-2021, University of Colorado Boulder

/**
 * @author Todd Holden (https://tholden79.wixsite.com/mysite2)
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import Property from '../../../../axon/js/Property.js';
import TinyEmitter from '../../../../axon/js/TinyEmitter.js';
import Utils from '../../../../dot/js/Utils.js';
import Vector3 from '../../../../dot/js/Vector3.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import xrayDiffraction from '../../xrayDiffraction.js';
import Lattice from './Lattice.js';

/**
 * @constructor
 */
class XrayDiffractionModel {
  /**
   * @param {Tandem} tandem
   */
  constructor(tandem) {
    assert && assert(tandem instanceof Tandem, 'invalid tandem');

    // @protected - used to signal when a sim step has occurred
    this.stepEmitter = new TinyEmitter();

    // @private - these are the parameters set by the simulation's control panel
    // Default initial values are sometimes arbitrary, but chosen as noted below
    this.lattice = new Lattice(new Vector3(3.82, 3.89, 7.8), 0); // lattice constants for YBCO (High-Tc superconductor in Angstrom)
    this.sourceAngleProperty = new NumberProperty(Math.PI / 3); // 60 degrees. Just looks good
    this.sourceWavelengthProperty = new NumberProperty(8); // My preference. Similar to but a little bigger than the c-lattice constant
    this.horizontalRaysProperty = new NumberProperty(0); // horizontal rays are a bit of a distraction at the beginning
    this.verticalRaysProperty = new NumberProperty(2); // Two vertical rays shows the path length difference (PLD) well
    this.animateProperty = new BooleanProperty(false); // Play/pause the animation
    this.pathDifferenceProperty = new BooleanProperty(false); // Let the student turn it on so that they can think about it
    this.showTransmittedProperty = new BooleanProperty(false); // Whether to show the transmitted beam
    this.wavefrontProperty = new Property('none'); // set to 'none' for no wavefronts or to a color/shade iteration function.
    this.moreParmsExpandedProperty = new BooleanProperty(false); // for minor parameters on the control panel

    // @private - These are automatically calculated from other properties
    // They also exist for the entire life of the sim, so there is no need to dispose.
    this.pLDProperty = new DerivedProperty([this.lattice.latticeConstantsProperty, this.sourceAngleProperty], (constants, theta) => 2 * constants.z * Math.sin(theta));
    this.pLDWavelengthsProperty = new DerivedProperty([this.pLDProperty, this.sourceWavelengthProperty], (pLD, wavelength) => pLD / wavelength);
    this.inPhaseProperty = new DerivedProperty([this.pLDWavelengthsProperty], pLDWavelength => Math.abs(pLDWavelength - Utils.roundSymmetric(pLDWavelength)) < 0.015);

    // @private - initial phase of the incoming beam. Starts as a cosine function.
    // Probably wouldn't hurt to change this, but no real reason to do so. It is updated by the step function.
    this.startPhase = 0;
  }

  /**
   * Resets the model.
   * @public
   */
  reset() {
    this.sourceAngleProperty.reset();
    this.sourceWavelengthProperty.reset();
    this.horizontalRaysProperty.reset();
    this.verticalRaysProperty.reset();
    this.animateProperty.reset();
    this.pathDifferenceProperty.reset();
    this.wavefrontProperty.reset();
    this.moreParmsExpandedProperty.reset();
    this.showTransmittedProperty.reset();
    this.lattice.reset();
    this.startPhase = 0;
  }

  /**
   * Registers a listener to be called at each step of the model execution
   * @param {function()} listener
   * @public
   */
  addStepListener(listener) {
    this.stepEmitter.addListener(listener);
  }

  /**
   * Steps the model.
   * @param {number} dt - time step, in seconds
   * @public
   */
  step(dt) {
    if (this.animateProperty.value) {
      this.manualStep(dt);
      this.stepEmitter.emit(dt);
    }
  }

  /**
   * Steps the model by one timestep
   * @param {number} dt - time step, in seconds
   * @public
   */
  manualStep(dt) {
    // The following sets the speed of light at 3 Angstrom/s (ω = 2πv/λ = 2π x 3/λ = 18.85/λ)
    this.startPhase = this.startPhase - 19 / this.sourceWavelengthProperty.value * dt;
  }
}
xrayDiffraction.register('XrayDiffractionModel', XrayDiffractionModel);
export default XrayDiffractionModel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJEZXJpdmVkUHJvcGVydHkiLCJOdW1iZXJQcm9wZXJ0eSIsIlByb3BlcnR5IiwiVGlueUVtaXR0ZXIiLCJVdGlscyIsIlZlY3RvcjMiLCJUYW5kZW0iLCJ4cmF5RGlmZnJhY3Rpb24iLCJMYXR0aWNlIiwiWHJheURpZmZyYWN0aW9uTW9kZWwiLCJjb25zdHJ1Y3RvciIsInRhbmRlbSIsImFzc2VydCIsInN0ZXBFbWl0dGVyIiwibGF0dGljZSIsInNvdXJjZUFuZ2xlUHJvcGVydHkiLCJNYXRoIiwiUEkiLCJzb3VyY2VXYXZlbGVuZ3RoUHJvcGVydHkiLCJob3Jpem9udGFsUmF5c1Byb3BlcnR5IiwidmVydGljYWxSYXlzUHJvcGVydHkiLCJhbmltYXRlUHJvcGVydHkiLCJwYXRoRGlmZmVyZW5jZVByb3BlcnR5Iiwic2hvd1RyYW5zbWl0dGVkUHJvcGVydHkiLCJ3YXZlZnJvbnRQcm9wZXJ0eSIsIm1vcmVQYXJtc0V4cGFuZGVkUHJvcGVydHkiLCJwTERQcm9wZXJ0eSIsImxhdHRpY2VDb25zdGFudHNQcm9wZXJ0eSIsImNvbnN0YW50cyIsInRoZXRhIiwieiIsInNpbiIsInBMRFdhdmVsZW5ndGhzUHJvcGVydHkiLCJwTEQiLCJ3YXZlbGVuZ3RoIiwiaW5QaGFzZVByb3BlcnR5IiwicExEV2F2ZWxlbmd0aCIsImFicyIsInJvdW5kU3ltbWV0cmljIiwic3RhcnRQaGFzZSIsInJlc2V0IiwiYWRkU3RlcExpc3RlbmVyIiwibGlzdGVuZXIiLCJhZGRMaXN0ZW5lciIsInN0ZXAiLCJkdCIsInZhbHVlIiwibWFudWFsU3RlcCIsImVtaXQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlhyYXlEaWZmcmFjdGlvbk1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIwLTIwMjEsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEBhdXRob3IgVG9kZCBIb2xkZW4gKGh0dHBzOi8vdGhvbGRlbjc5LndpeHNpdGUuY29tL215c2l0ZTIpXHJcbiAqL1xyXG5cclxuaW1wb3J0IEJvb2xlYW5Qcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Jvb2xlYW5Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgTnVtYmVyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9OdW1iZXJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IFRpbnlFbWl0dGVyIGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvVGlueUVtaXR0ZXIuanMnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IFZlY3RvcjMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjMuanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5pbXBvcnQgeHJheURpZmZyYWN0aW9uIGZyb20gJy4uLy4uL3hyYXlEaWZmcmFjdGlvbi5qcyc7XHJcbmltcG9ydCBMYXR0aWNlIGZyb20gJy4vTGF0dGljZS5qcyc7XHJcblxyXG4vKipcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5jbGFzcyBYcmF5RGlmZnJhY3Rpb25Nb2RlbCB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7VGFuZGVtfSB0YW5kZW1cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggdGFuZGVtICkge1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggdGFuZGVtIGluc3RhbmNlb2YgVGFuZGVtLCAnaW52YWxpZCB0YW5kZW0nICk7XHJcblxyXG4gICAgLy8gQHByb3RlY3RlZCAtIHVzZWQgdG8gc2lnbmFsIHdoZW4gYSBzaW0gc3RlcCBoYXMgb2NjdXJyZWRcclxuICAgIHRoaXMuc3RlcEVtaXR0ZXIgPSBuZXcgVGlueUVtaXR0ZXIoKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSAtIHRoZXNlIGFyZSB0aGUgcGFyYW1ldGVycyBzZXQgYnkgdGhlIHNpbXVsYXRpb24ncyBjb250cm9sIHBhbmVsXHJcbiAgICAvLyBEZWZhdWx0IGluaXRpYWwgdmFsdWVzIGFyZSBzb21ldGltZXMgYXJiaXRyYXJ5LCBidXQgY2hvc2VuIGFzIG5vdGVkIGJlbG93XHJcbiAgICB0aGlzLmxhdHRpY2UgPSBuZXcgTGF0dGljZSggbmV3IFZlY3RvcjMoIDMuODIsIDMuODksIDcuOCApLCAwICk7IC8vIGxhdHRpY2UgY29uc3RhbnRzIGZvciBZQkNPIChIaWdoLVRjIHN1cGVyY29uZHVjdG9yIGluIEFuZ3N0cm9tKVxyXG4gICAgdGhpcy5zb3VyY2VBbmdsZVByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCBNYXRoLlBJIC8gMyApOyAvLyA2MCBkZWdyZWVzLiBKdXN0IGxvb2tzIGdvb2RcclxuICAgIHRoaXMuc291cmNlV2F2ZWxlbmd0aFByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCA4ICk7ICAvLyBNeSBwcmVmZXJlbmNlLiBTaW1pbGFyIHRvIGJ1dCBhIGxpdHRsZSBiaWdnZXIgdGhhbiB0aGUgYy1sYXR0aWNlIGNvbnN0YW50XHJcbiAgICB0aGlzLmhvcml6b250YWxSYXlzUHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHkoIDAgKTsgIC8vIGhvcml6b250YWwgcmF5cyBhcmUgYSBiaXQgb2YgYSBkaXN0cmFjdGlvbiBhdCB0aGUgYmVnaW5uaW5nXHJcbiAgICB0aGlzLnZlcnRpY2FsUmF5c1Byb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5KCAyICk7ICAvLyBUd28gdmVydGljYWwgcmF5cyBzaG93cyB0aGUgcGF0aCBsZW5ndGggZGlmZmVyZW5jZSAoUExEKSB3ZWxsXHJcbiAgICB0aGlzLmFuaW1hdGVQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlICk7ICAvLyBQbGF5L3BhdXNlIHRoZSBhbmltYXRpb25cclxuICAgIHRoaXMucGF0aERpZmZlcmVuY2VQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIGZhbHNlICk7ICAvLyBMZXQgdGhlIHN0dWRlbnQgdHVybiBpdCBvbiBzbyB0aGF0IHRoZXkgY2FuIHRoaW5rIGFib3V0IGl0XHJcbiAgICB0aGlzLnNob3dUcmFuc21pdHRlZFByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKTsgIC8vIFdoZXRoZXIgdG8gc2hvdyB0aGUgdHJhbnNtaXR0ZWQgYmVhbVxyXG4gICAgdGhpcy53YXZlZnJvbnRQcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eSggJ25vbmUnICk7ICAvLyBzZXQgdG8gJ25vbmUnIGZvciBubyB3YXZlZnJvbnRzIG9yIHRvIGEgY29sb3Ivc2hhZGUgaXRlcmF0aW9uIGZ1bmN0aW9uLlxyXG4gICAgdGhpcy5tb3JlUGFybXNFeHBhbmRlZFByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eSggZmFsc2UgKTsgIC8vIGZvciBtaW5vciBwYXJhbWV0ZXJzIG9uIHRoZSBjb250cm9sIHBhbmVsXHJcblxyXG4gICAgLy8gQHByaXZhdGUgLSBUaGVzZSBhcmUgYXV0b21hdGljYWxseSBjYWxjdWxhdGVkIGZyb20gb3RoZXIgcHJvcGVydGllc1xyXG4gICAgLy8gVGhleSBhbHNvIGV4aXN0IGZvciB0aGUgZW50aXJlIGxpZmUgb2YgdGhlIHNpbSwgc28gdGhlcmUgaXMgbm8gbmVlZCB0byBkaXNwb3NlLlxyXG4gICAgdGhpcy5wTERQcm9wZXJ0eSA9IG5ldyBEZXJpdmVkUHJvcGVydHkoIFsgdGhpcy5sYXR0aWNlLmxhdHRpY2VDb25zdGFudHNQcm9wZXJ0eSwgdGhpcy5zb3VyY2VBbmdsZVByb3BlcnR5IF0sXHJcbiAgICAgICggY29uc3RhbnRzLCB0aGV0YSApID0+IDIgKiBjb25zdGFudHMueiAqIE1hdGguc2luKCB0aGV0YSApICk7XHJcbiAgICB0aGlzLnBMRFdhdmVsZW5ndGhzUHJvcGVydHkgPSBuZXcgRGVyaXZlZFByb3BlcnR5KCBbIHRoaXMucExEUHJvcGVydHksIHRoaXMuc291cmNlV2F2ZWxlbmd0aFByb3BlcnR5IF0sXHJcbiAgICAgICggcExELCB3YXZlbGVuZ3RoICkgPT4gcExEIC8gd2F2ZWxlbmd0aCApO1xyXG4gICAgdGhpcy5pblBoYXNlUHJvcGVydHkgPSBuZXcgRGVyaXZlZFByb3BlcnR5KCBbIHRoaXMucExEV2F2ZWxlbmd0aHNQcm9wZXJ0eSBdLFxyXG4gICAgICBwTERXYXZlbGVuZ3RoID0+ICggTWF0aC5hYnMoIHBMRFdhdmVsZW5ndGggLSBVdGlscy5yb3VuZFN5bW1ldHJpYyggcExEV2F2ZWxlbmd0aCApICkgPCAwLjAxNSApICk7XHJcblxyXG4gICAgLy8gQHByaXZhdGUgLSBpbml0aWFsIHBoYXNlIG9mIHRoZSBpbmNvbWluZyBiZWFtLiBTdGFydHMgYXMgYSBjb3NpbmUgZnVuY3Rpb24uXHJcbiAgICAvLyBQcm9iYWJseSB3b3VsZG4ndCBodXJ0IHRvIGNoYW5nZSB0aGlzLCBidXQgbm8gcmVhbCByZWFzb24gdG8gZG8gc28uIEl0IGlzIHVwZGF0ZWQgYnkgdGhlIHN0ZXAgZnVuY3Rpb24uXHJcbiAgICB0aGlzLnN0YXJ0UGhhc2UgPSAwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXRzIHRoZSBtb2RlbC5cclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLnNvdXJjZUFuZ2xlUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMuc291cmNlV2F2ZWxlbmd0aFByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLmhvcml6b250YWxSYXlzUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMudmVydGljYWxSYXlzUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMuYW5pbWF0ZVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgICB0aGlzLnBhdGhEaWZmZXJlbmNlUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMud2F2ZWZyb250UHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMubW9yZVBhcm1zRXhwYW5kZWRQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5zaG93VHJhbnNtaXR0ZWRQcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy5sYXR0aWNlLnJlc2V0KCk7XHJcbiAgICB0aGlzLnN0YXJ0UGhhc2UgPSAwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXJzIGEgbGlzdGVuZXIgdG8gYmUgY2FsbGVkIGF0IGVhY2ggc3RlcCBvZiB0aGUgbW9kZWwgZXhlY3V0aW9uXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBsaXN0ZW5lclxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBhZGRTdGVwTGlzdGVuZXIoIGxpc3RlbmVyICkge1xyXG4gICAgdGhpcy5zdGVwRW1pdHRlci5hZGRMaXN0ZW5lciggbGlzdGVuZXIgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0ZXBzIHRoZSBtb2RlbC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gZHQgLSB0aW1lIHN0ZXAsIGluIHNlY29uZHNcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgc3RlcCggZHQgKSB7XHJcbiAgICBpZiAoIHRoaXMuYW5pbWF0ZVByb3BlcnR5LnZhbHVlICkge1xyXG4gICAgICB0aGlzLm1hbnVhbFN0ZXAoIGR0ICk7XHJcbiAgICAgIHRoaXMuc3RlcEVtaXR0ZXIuZW1pdCggZHQgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0ZXBzIHRoZSBtb2RlbCBieSBvbmUgdGltZXN0ZXBcclxuICAgKiBAcGFyYW0ge251bWJlcn0gZHQgLSB0aW1lIHN0ZXAsIGluIHNlY29uZHNcclxuICAgKiBAcHVibGljXHJcbiAgICovXHJcbiAgbWFudWFsU3RlcCggZHQgKSB7XHJcbiAgICAvLyBUaGUgZm9sbG93aW5nIHNldHMgdGhlIHNwZWVkIG9mIGxpZ2h0IGF0IDMgQW5nc3Ryb20vcyAoz4kgPSAyz4B2L867ID0gMs+AIHggMy/OuyA9IDE4Ljg1L867KVxyXG4gICAgdGhpcy5zdGFydFBoYXNlID0gdGhpcy5zdGFydFBoYXNlIC0gMTkgLyB0aGlzLnNvdXJjZVdhdmVsZW5ndGhQcm9wZXJ0eS52YWx1ZSAqIGR0O1xyXG4gIH1cclxufVxyXG5cclxueHJheURpZmZyYWN0aW9uLnJlZ2lzdGVyKCAnWHJheURpZmZyYWN0aW9uTW9kZWwnLCBYcmF5RGlmZnJhY3Rpb25Nb2RlbCApO1xyXG5leHBvcnQgZGVmYXVsdCBYcmF5RGlmZnJhY3Rpb25Nb2RlbDsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxlQUFlLE1BQU0sd0NBQXdDO0FBQ3BFLE9BQU9DLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsT0FBT0MsY0FBYyxNQUFNLHVDQUF1QztBQUNsRSxPQUFPQyxRQUFRLE1BQU0saUNBQWlDO0FBQ3RELE9BQU9DLFdBQVcsTUFBTSxvQ0FBb0M7QUFDNUQsT0FBT0MsS0FBSyxNQUFNLDZCQUE2QjtBQUMvQyxPQUFPQyxPQUFPLE1BQU0sK0JBQStCO0FBQ25ELE9BQU9DLE1BQU0sTUFBTSxpQ0FBaUM7QUFDcEQsT0FBT0MsZUFBZSxNQUFNLDBCQUEwQjtBQUN0RCxPQUFPQyxPQUFPLE1BQU0sY0FBYzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0EsTUFBTUMsb0JBQW9CLENBQUM7RUFFekI7QUFDRjtBQUNBO0VBQ0VDLFdBQVdBLENBQUVDLE1BQU0sRUFBRztJQUNwQkMsTUFBTSxJQUFJQSxNQUFNLENBQUVELE1BQU0sWUFBWUwsTUFBTSxFQUFFLGdCQUFpQixDQUFDOztJQUU5RDtJQUNBLElBQUksQ0FBQ08sV0FBVyxHQUFHLElBQUlWLFdBQVcsQ0FBQyxDQUFDOztJQUVwQztJQUNBO0lBQ0EsSUFBSSxDQUFDVyxPQUFPLEdBQUcsSUFB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