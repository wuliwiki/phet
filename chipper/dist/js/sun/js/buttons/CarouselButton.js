// Copyright 2015-2023, University of Colorado Boulder

/**
 * Next/previous button in a Carousel.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import Dimension2 from '../../../dot/js/Dimension2.js';
import Matrix3 from '../../../dot/js/Matrix3.js';
import { Shape } from '../../../kite/js/imports.js';
import optionize from '../../../phet-core/js/optionize.js';
import { PaintColorProperty, Path } from '../../../scenery/js/imports.js';
import sun from '../sun.js';
import ButtonNode from './ButtonNode.js';
import RectangularPushButton from './RectangularPushButton.js';

// maps options.arrowDirection to rotation angles, in radians
const ANGLES = {
  up: 0,
  // arrow shape is created in 'up' direction
  down: Math.PI,
  left: -Math.PI / 2,
  right: Math.PI / 2
};
export default class CarouselButton extends RectangularPushButton {
  constructor(providedOptions) {
    // see supertype for additional options
    const options = optionize()({
      // CarouselButtonOptions
      arrowDirection: 'up',
      arrowSize: new Dimension2(20, 7),
      arrowPathOptions: {
        stroke: 'black',
        lineWidth: 3,
        lineCap: 'round'
      },
      // RectangularPushButtonOptions
      baseColor: 'rgba( 200, 200, 200, 0.5 )',
      buttonAppearanceStrategy: ButtonNode.FlatAppearanceStrategy,
      cornerRadius: 4
    }, providedOptions);
    let customStrokeProperty = null;
    if (options.stroke === undefined) {
      customStrokeProperty = new PaintColorProperty(options.baseColor, {
        luminanceFactor: -0.8
      });
      options.stroke = customStrokeProperty;
    }

    // validate options
    assert && assert(ANGLES.hasOwnProperty(options.arrowDirection), `invalid direction: ${options.arrowDirection}`);

    // Generic arrow shape, points 'up'
    let arrowShape = new Shape().moveTo(0, 0).lineTo(options.arrowSize.width / 2, -options.arrowSize.height).lineTo(options.arrowSize.width, 0);

    // Transform arrow shape to match direction
    arrowShape = arrowShape.transformed(Matrix3.rotation2(ANGLES[options.arrowDirection]));

    // Arrow node
    options.content = new Path(arrowShape, options.arrowPathOptions);

    // set up the options such that the inner corners are square and outer ones are rounded
    const arrowDirection = options.arrowDirection;
    const cornerRadius = options.cornerRadius;
    options.leftTopCornerRadius = arrowDirection === 'up' || arrowDirection === 'left' ? cornerRadius : 0;
    options.rightTopCornerRadius = arrowDirection === 'up' || arrowDirection === 'right' ? cornerRadius : 0;
    options.leftBottomCornerRadius = arrowDirection === 'down' || arrowDirection === 'left' ? cornerRadius : 0;
    options.rightBottomCornerRadius = arrowDirection === 'down' || arrowDirection === 'right' ? cornerRadius : 0;

    // Computes touch area dilations/shifts so that the pointer area will not overlap with the contents of a Carousel.
    // We do this here so that it's set up to work with any dynamic layout
    if (arrowDirection === 'up' || arrowDirection === 'down') {
      const mouseAreaYDilation = options.mouseAreaYDilation / 2 || 0;
      const touchAreaYDilation = options.touchAreaYDilation / 2 || 0;
      options.mouseAreaYDilation = mouseAreaYDilation;
      options.touchAreaYDilation = touchAreaYDilation;
      options.mouseAreaYShift = arrowDirection === 'up' ? -mouseAreaYDilation : mouseAreaYDilation;
      options.touchAreaYShift = arrowDirection === 'up' ? -touchAreaYDilation : touchAreaYDilation;
    } else {
      const mouseAreaXDilation = options.mouseAreaXDilation / 2 || 0;
      const touchAreaXDilation = options.touchAreaXDilation / 2 || 0;
      options.mouseAreaXDilation = mouseAreaXDilation;
      options.touchAreaXDilation = touchAreaXDilation;
      options.mouseAreaXShift = arrowDirection === 'left' ? -mouseAreaXDilation : mouseAreaXDilation;
      options.touchAreaXShift = arrowDirection === 'left' ? -touchAreaXDilation : touchAreaXDilation;
    }
    super(options);
    this.customStrokeProperty = customStrokeProperty;
  }
  dispose() {
    this.customStrokeProperty && this.customStrokeProperty.dispose();
    super.dispose();
  }
}
sun.register('CarouselButton', CarouselButton);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEaW1lbnNpb24yIiwiTWF0cml4MyIsIlNoYXBlIiwib3B0aW9uaXplIiwiUGFpbnRDb2xvclByb3BlcnR5IiwiUGF0aCIsInN1biIsIkJ1dHRvbk5vZGUiLCJSZWN0YW5ndWxhclB1c2hCdXR0b24iLCJBTkdMRVMiLCJ1cCIsImRvd24iLCJNYXRoIiwiUEkiLCJsZWZ0IiwicmlnaHQiLCJDYXJvdXNlbEJ1dHRvbiIsImNvbnN0cnVjdG9yIiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsImFycm93RGlyZWN0aW9uIiwiYXJyb3dTaXplIiwiYXJyb3dQYXRoT3B0aW9ucyIsInN0cm9rZSIsImxpbmVXaWR0aCIsImxpbmVDYXAiLCJiYXNlQ29sb3IiLCJidXR0b25BcHBlYXJhbmNlU3RyYXRlZ3kiLCJGbGF0QXBwZWFyYW5jZVN0cmF0ZWd5IiwiY29ybmVyUmFkaXVzIiwiY3VzdG9tU3Ryb2tlUHJvcGVydHkiLCJ1bmRlZmluZWQiLCJsdW1pbmFuY2VGYWN0b3IiLCJhc3NlcnQiLCJoYXNPd25Qcm9wZXJ0eSIsImFycm93U2hhcGUiLCJtb3ZlVG8iLCJsaW5lVG8iLCJ3aWR0aCIsImhlaWdodCIsInRyYW5zZm9ybWVkIiwicm90YXRpb24yIiwiY29udGVudCIsImxlZnRUb3BDb3JuZXJSYWRpdXMiLCJyaWdodFRvcENvcm5lclJhZGl1cyIsImxlZnRCb3R0b21Db3JuZXJSYWRpdXMiLCJyaWdodEJvdHRvbUNvcm5lclJhZGl1cyIsIm1vdXNlQXJlYVlEaWxhdGlvbiIsInRvdWNoQXJlYVlEaWxhdGlvbiIsIm1vdXNlQXJlYVlTaGlmdCIsInRvdWNoQXJlYVlTaGlmdCIsIm1vdXNlQXJlYVhEaWxhdGlvbiIsInRvdWNoQXJlYVhEaWxhdGlvbiIsIm1vdXNlQXJlYVhTaGlmdCIsInRvdWNoQXJlYVhTaGlmdCIsImRpc3Bvc2UiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkNhcm91c2VsQnV0dG9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE1LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIE5leHQvcHJldmlvdXMgYnV0dG9uIGluIGEgQ2Fyb3VzZWwuXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IERpbWVuc2lvbjIgZnJvbSAnLi4vLi4vLi4vZG90L2pzL0RpbWVuc2lvbjIuanMnO1xyXG5pbXBvcnQgTWF0cml4MyBmcm9tICcuLi8uLi8uLi9kb3QvanMvTWF0cml4My5qcyc7XHJcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi4vLi4vLi4va2l0ZS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuaW1wb3J0IFN0cmljdE9taXQgZnJvbSAnLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL1N0cmljdE9taXQuanMnO1xyXG5pbXBvcnQgeyBQYWludENvbG9yUHJvcGVydHksIFBhdGgsIFBhdGhPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IHN1biBmcm9tICcuLi9zdW4uanMnO1xyXG5pbXBvcnQgQnV0dG9uTm9kZSBmcm9tICcuL0J1dHRvbk5vZGUuanMnO1xyXG5pbXBvcnQgUmVjdGFuZ3VsYXJQdXNoQnV0dG9uLCB7IFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbk9wdGlvbnMgfSBmcm9tICcuL1JlY3Rhbmd1bGFyUHVzaEJ1dHRvbi5qcyc7XHJcblxyXG4vLyBtYXBzIG9wdGlvbnMuYXJyb3dEaXJlY3Rpb24gdG8gcm90YXRpb24gYW5nbGVzLCBpbiByYWRpYW5zXHJcbmNvbnN0IEFOR0xFUyA9IHtcclxuICB1cDogMCwgLy8gYXJyb3cgc2hhcGUgaXMgY3JlYXRlZCBpbiAndXAnIGRpcmVjdGlvblxyXG4gIGRvd246IE1hdGguUEksXHJcbiAgbGVmdDogLU1hdGguUEkgLyAyLFxyXG4gIHJpZ2h0OiBNYXRoLlBJIC8gMlxyXG59O1xyXG5cclxudHlwZSBBcnJvd0RpcmVjdGlvbiA9ICd1cCcgfCAnZG93bicgfCAnbGVmdCcgfCAncmlnaHQnO1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IHtcclxuICBhcnJvd1BhdGhPcHRpb25zPzogUGF0aE9wdGlvbnM7XHJcbiAgYXJyb3dEaXJlY3Rpb24/OiBBcnJvd0RpcmVjdGlvbjsgLy8gZGlyZWN0aW9uIHRoYXQgdGhlIGFycm93IHBvaW50c1xyXG4gIGFycm93U2l6ZT86IERpbWVuc2lvbjI7IC8vIHNpemUgb2YgdGhlIGFycm93ICh3aWR0aC9oZWlnaHQgd2hlbiBpdCBpcyBwb2ludGluZyB1cClcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIENhcm91c2VsQnV0dG9uT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgU3RyaWN0T21pdDxSZWN0YW5ndWxhclB1c2hCdXR0b25PcHRpb25zLCAnY29udGVudCcgfCAnbGVmdFRvcENvcm5lclJhZGl1cycgfCAncmlnaHRUb3BDb3JuZXJSYWRpdXMnIHwgJ2xlZnRCb3R0b21Db3JuZXJSYWRpdXMnIHwgJ3JpZ2h0Qm90dG9tQ29ybmVyUmFkaXVzJyB8ICd0b3VjaEFyZWFYU2hpZnQnIHwgJ3RvdWNoQXJlYVlTaGlmdCcgfCAnbW91c2VBcmVhWFNoaWZ0JyB8ICdtb3VzZUFyZWFZU2hpZnQnPjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcm91c2VsQnV0dG9uIGV4dGVuZHMgUmVjdGFuZ3VsYXJQdXNoQnV0dG9uIHtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBjdXN0b21TdHJva2VQcm9wZXJ0eTogUGFpbnRDb2xvclByb3BlcnR5IHwgbnVsbDtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBwcm92aWRlZE9wdGlvbnM/OiBDYXJvdXNlbEJ1dHRvbk9wdGlvbnMgKSB7XHJcblxyXG4gICAgLy8gc2VlIHN1cGVydHlwZSBmb3IgYWRkaXRpb25hbCBvcHRpb25zXHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPENhcm91c2VsQnV0dG9uT3B0aW9ucywgU2VsZk9wdGlvbnMsIFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbk9wdGlvbnM+KCkoIHtcclxuXHJcbiAgICAgIC8vIENhcm91c2VsQnV0dG9uT3B0aW9uc1xyXG4gICAgICBhcnJvd0RpcmVjdGlvbjogJ3VwJyxcclxuICAgICAgYXJyb3dTaXplOiBuZXcgRGltZW5zaW9uMiggMjAsIDcgKSxcclxuXHJcbiAgICAgIGFycm93UGF0aE9wdGlvbnM6IHtcclxuICAgICAgICBzdHJva2U6ICdibGFjaycsXHJcbiAgICAgICAgbGluZVdpZHRoOiAzLFxyXG4gICAgICAgIGxpbmVDYXA6ICdyb3VuZCdcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbk9wdGlvbnNcclxuICAgICAgYmFzZUNvbG9yOiAncmdiYSggMjAwLCAyMDAsIDIwMCwgMC41ICknLFxyXG4gICAgICBidXR0b25BcHBlYXJhbmNlU3RyYXRlZ3k6IEJ1dHRvbk5vZGUuRmxhdEFwcGVhcmFuY2VTdHJhdGVneSxcclxuICAgICAgY29ybmVyUmFkaXVzOiA0XHJcblxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgbGV0IGN1c3RvbVN0cm9rZVByb3BlcnR5OiBQYWludENvbG9yUHJvcGVydHkgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICBpZiAoIG9wdGlvbnMuc3Ryb2tlID09PSB1bmRlZmluZWQgKSB7XHJcbiAgICAgIGN1c3RvbVN0cm9rZVByb3BlcnR5ID0gbmV3IFBhaW50Q29sb3JQcm9wZXJ0eSggb3B0aW9ucy5iYXNlQ29sb3IsIHtcclxuICAgICAgICBsdW1pbmFuY2VGYWN0b3I6IC0wLjhcclxuICAgICAgfSApO1xyXG4gICAgICBvcHRpb25zLnN0cm9rZSA9IGN1c3RvbVN0cm9rZVByb3BlcnR5O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHZhbGlkYXRlIG9wdGlvbnNcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIEFOR0xFUy5oYXNPd25Qcm9wZXJ0eSggb3B0aW9ucy5hcnJvd0RpcmVjdGlvbiApLCBgaW52YWxpZCBkaXJlY3Rpb246ICR7b3B0aW9ucy5hcnJvd0RpcmVjdGlvbn1gICk7XHJcblxyXG4gICAgLy8gR2VuZXJpYyBhcnJvdyBzaGFwZSwgcG9pbnRzICd1cCdcclxuICAgIGxldCBhcnJvd1NoYXBlID0gbmV3IFNoYXBlKClcclxuICAgICAgLm1vdmVUbyggMCwgMCApXHJcbiAgICAgIC5saW5lVG8oIG9wdGlvbnMuYXJyb3dTaXplLndpZHRoIC8gMiwgLW9wdGlvbnMuYXJyb3dTaXplLmhlaWdodCApXHJcbiAgICAgIC5saW5lVG8oIG9wdGlvbnMuYXJyb3dTaXplLndpZHRoLCAwICk7XHJcblxyXG4gICAgLy8gVHJhbnNmb3JtIGFycm93IHNoYXBlIHRvIG1hdGNoIGRpcmVjdGlvblxyXG4gICAgYXJyb3dTaGFwZSA9IGFycm93U2hhcGUudHJhbnNmb3JtZWQoIE1hdHJpeDMucm90YXRpb24yKCBBTkdMRVNbIG9wdGlvbnMuYXJyb3dEaXJlY3Rpb24gXSApICk7XHJcblxyXG4gICAgLy8gQXJyb3cgbm9kZVxyXG4gICAgb3B0aW9ucy5jb250ZW50ID0gbmV3IFBhdGgoIGFycm93U2hhcGUsIG9wdGlvbnMuYXJyb3dQYXRoT3B0aW9ucyApO1xyXG5cclxuICAgIC8vIHNldCB1cCB0aGUgb3B0aW9ucyBzdWNoIHRoYXQgdGhlIGlubmVyIGNvcm5lcnMgYXJlIHNxdWFyZSBhbmQgb3V0ZXIgb25lcyBhcmUgcm91bmRlZFxyXG4gICAgY29uc3QgYXJyb3dEaXJlY3Rpb24gPSBvcHRpb25zLmFycm93RGlyZWN0aW9uO1xyXG4gICAgY29uc3QgY29ybmVyUmFkaXVzID0gb3B0aW9ucy5jb3JuZXJSYWRpdXM7XHJcbiAgICBvcHRpb25zLmxlZnRUb3BDb3JuZXJSYWRpdXMgPSBhcnJvd0RpcmVjdGlvbiA9PT0gJ3VwJyB8fCBhcnJvd0RpcmVjdGlvbiA9PT0gJ2xlZnQnID8gY29ybmVyUmFkaXVzIDogMDtcclxuICAgIG9wdGlvbnMucmlnaHRUb3BDb3JuZXJSYWRpdXMgPSBhcnJvd0RpcmVjdGlvbiA9PT0gJ3VwJyB8fCBhcnJvd0RpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IGNvcm5lclJhZGl1cyA6IDA7XHJcbiAgICBvcHRpb25zLmxlZnRCb3R0b21Db3JuZXJSYWRpdXMgPSBhcnJvd0RpcmVjdGlvbiA9PT0gJ2Rvd24nIHx8IGFycm93RGlyZWN0aW9uID09PSAnbGVmdCcgPyBjb3JuZXJSYWRpdXMgOiAwO1xyXG4gICAgb3B0aW9ucy5yaWdodEJvdHRvbUNvcm5lclJhZGl1cyA9IGFycm93RGlyZWN0aW9uID09PSAnZG93bicgfHwgYXJyb3dEaXJlY3Rpb24gPT09ICdyaWdodCcgPyBjb3JuZXJSYWRpdXMgOiAwO1xyXG5cclxuICAgIC8vIENvbXB1dGVzIHRvdWNoIGFyZWEgZGlsYXRpb25zL3NoaWZ0cyBzbyB0aGF0IHRoZSBwb2ludGVyIGFyZWEgd2lsbCBub3Qgb3ZlcmxhcCB3aXRoIHRoZSBjb250ZW50cyBvZiBhIENhcm91c2VsLlxyXG4gICAgLy8gV2UgZG8gdGhpcyBoZXJlIHNvIHRoYXQgaXQncyBzZXQgdXAgdG8gd29yayB3aXRoIGFueSBkeW5hbWljIGxheW91dFxyXG4gICAgaWYgKCBhcnJvd0RpcmVjdGlvbiA9PT0gJ3VwJyB8fCBhcnJvd0RpcmVjdGlvbiA9PT0gJ2Rvd24nICkge1xyXG4gICAgICBjb25zdCBtb3VzZUFyZWFZRGlsYXRpb24gPSBvcHRpb25zLm1vdXNlQXJlYVlEaWxhdGlvbiAvIDIgfHwgMDtcclxuICAgICAgY29uc3QgdG91Y2hBcmVhWURpbGF0aW9uID0gb3B0aW9ucy50b3VjaEFyZWFZRGlsYXRpb24gLyAyIHx8IDA7XHJcblxyXG4gICAgICBvcHRpb25zLm1vdXNlQXJlYVlEaWxhdGlvbiA9IG1vdXNlQXJlYVlEaWxhdGlvbjtcclxuICAgICAgb3B0aW9ucy50b3VjaEFyZWFZRGlsYXRpb24gPSB0b3VjaEFyZWFZRGlsYXRpb247XHJcbiAgICAgIG9wdGlvbnMubW91c2VBcmVhWVNoaWZ0ID0gYXJyb3dEaXJlY3Rpb24gPT09ICd1cCcgPyAtbW91c2VBcmVhWURpbGF0aW9uIDogbW91c2VBcmVhWURpbGF0aW9uO1xyXG4gICAgICBvcHRpb25zLnRvdWNoQXJlYVlTaGlmdCA9IGFycm93RGlyZWN0aW9uID09PSAndXAnID8gLXRvdWNoQXJlYVlEaWxhdGlvbiA6IHRvdWNoQXJlYVlEaWxhdGlvbjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBtb3VzZUFyZWFYRGlsYXRpb24gPSBvcHRpb25zLm1vdXNlQXJlYVhEaWxhdGlvbiAvIDIgfHwgMDtcclxuICAgICAgY29uc3QgdG91Y2hBcmVhWERpbGF0aW9uID0gb3B0aW9ucy50b3VjaEFyZWFYRGlsYXRpb24gLyAyIHx8IDA7XHJcblxyXG4gICAgICBvcHRpb25zLm1vdXNlQXJlYVhEaWxhdGlvbiA9IG1vdXNlQXJlYVhEaWxhdGlvbjtcclxuICAgICAgb3B0aW9ucy50b3VjaEFyZWFYRGlsYXRpb24gPSB0b3VjaEFyZWFYRGlsYXRpb247XHJcbiAgICAgIG9wdGlvbnMubW91c2VBcmVhWFNoaWZ0ID0gYXJyb3dEaXJlY3Rpb24gPT09ICdsZWZ0JyA/IC1tb3VzZUFyZWFYRGlsYXRpb24gOiBtb3VzZUFyZWFYRGlsYXRpb247XHJcbiAgICAgIG9wdGlvbnMudG91Y2hBcmVhWFNoaWZ0ID0gYXJyb3dEaXJlY3Rpb24gPT09ICdsZWZ0JyA/IC10b3VjaEFyZWFYRGlsYXRpb24gOiB0b3VjaEFyZWFYRGlsYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcbiAgICB0aGlzLmN1c3RvbVN0cm9rZVByb3BlcnR5ID0gY3VzdG9tU3Ryb2tlUHJvcGVydHk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuY3VzdG9tU3Ryb2tlUHJvcGVydHkgJiYgdGhpcy5jdXN0b21TdHJva2VQcm9wZXJ0eS5kaXNwb3NlKCk7XHJcblxyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxuc3VuLnJlZ2lzdGVyKCAnQ2Fyb3VzZWxCdXR0b24nLCBDYXJvdXNlbEJ1dHRvbiApOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxVQUFVLE1BQU0sK0JBQStCO0FBQ3RELE9BQU9DLE9BQU8sTUFBTSw0QkFBNEI7QUFDaEQsU0FBU0MsS0FBSyxRQUFRLDZCQUE2QjtBQUNuRCxPQUFPQyxTQUFTLE1BQU0sb0NBQW9DO0FBRTFELFNBQVNDLGtCQUFrQixFQUFFQyxJQUFJLFFBQXFCLGdDQUFnQztBQUN0RixPQUFPQyxHQUFHLE1BQU0sV0FBVztBQUMzQixPQUFPQyxVQUFVLE1BQU0saUJBQWlCO0FBQ3hDLE9BQU9DLHFCQUFxQixNQUF3Qyw0QkFBNEI7O0FBRWhHO0FBQ0EsTUFBTUMsTUFBTSxHQUFHO0VBQ2JDLEVBQUUsRUFBRSxDQUFDO0VBQUU7RUFDUEMsSUFBSSxFQUFFQyxJQUFJLENBQUNDLEVBQUU7RUFDYkMsSUFBSSxFQUFFLENBQUNGLElBQUksQ0FBQ0MsRUFBRSxHQUFHLENBQUM7RUFDbEJFLEtBQUssRUFBRUgsSUFBSSxDQUFDQyxFQUFFLEdBQUc7QUFDbkIsQ0FBQztBQVlELGVBQWUsTUFBTUcsY0FBYyxTQUFTUixxQkFBcUIsQ0FBQztFQUl6RFMsV0FBV0EsQ0FBRUMsZUFBdUMsRUFBRztJQUU1RDtJQUNBLE1BQU1DLE9BQU8sR0FBR2hCLFNBQVMsQ0FBbUUsQ0FBQyxDQUFFO01BRTdGO01BQ0FpQixjQUFjLEVBQUUsSUFBSTtNQUNwQkMsU0FBUyxFQUFFLElBQUlyQixVQUFVLENBQUUsRUFBRSxFQUFFLENBQUUsQ0FBQztNQUVsQ3NCLGdCQUFnQixFQUFFO1FBQ2hCQyxNQUFNLEVBQUUsT0FBTztRQUNmQyxTQUFTLEVBQUUsQ0FBQztRQUNaQyxPQUFPLEVBQUU7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