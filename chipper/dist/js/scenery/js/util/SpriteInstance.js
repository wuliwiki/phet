// Copyright 2019-2023, University of Colorado Boulder

/**
 * Represents a single instance on the screen of a given Sprite object. It can have its own transformation matrix, and
 * is set up as a lightweight container of information, for high-performance usage (with pooling).
 *
 * Its individual parameters should generally be mutated directly by the client.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import Matrix3 from '../../../dot/js/Matrix3.js';
import Vector2 from '../../../dot/js/Vector2.js';
import { Shape } from '../../../kite/js/imports.js';
import Enumeration from '../../../phet-core/js/Enumeration.js';
import EnumerationValue from '../../../phet-core/js/EnumerationValue.js';
import Pool from '../../../phet-core/js/Pool.js';
import { scenery } from '../imports.js';
const scratchVector = new Vector2(0, 0);
const scratchMatrix = Matrix3.IDENTITY.copy();
export class SpriteInstanceTransformType extends EnumerationValue {
  static TRANSLATION = new SpriteInstanceTransformType();
  static TRANSLATION_AND_SCALE = new SpriteInstanceTransformType();
  static TRANSLATION_AND_ROTATION = new SpriteInstanceTransformType();
  static AFFINE = new SpriteInstanceTransformType();
  static enumeration = new Enumeration(SpriteInstanceTransformType, {
    phetioDocumentation: 'Defines the available transform type for a SpriteInstance'
  });
}
export default class SpriteInstance {
  // This should be set to a `Sprite` object which is the sprite that should be displayed.
  // This field is expected to be set by the client whenever it needs to change.

  // Please just mutate the given Matrix3 for performance. If the matrix represents something
  // other than just a translation, please update the `transformType` to the type that represents the possible
  // values.
  // The general opacity/alpha of the displayed sprite (see Node's opacity)
  constructor() {
    this.sprite = null;
    this.matrix = new Matrix3().setToAffine(1, 0, 0, 0, 1, 0); // initialized to trigger the affine flag
    this.transformType = SpriteInstanceTransformType.TRANSLATION;
    this.alpha = 1;
  }

  /**
   * For pooling. Please use SpriteInstance.dirtyFromPool() to grab a copy
   */
  initialize() {
    // We need an empty initialization method here, so that we can grab dirty versions and use them for higher
    // performance.

    return this;
  }

  /**
   * Returns a Shape that represents the hit-testable area of this SpriteInstance.
   */
  getShape() {
    if (this.sprite) {
      return this.sprite.getShape().transformed(this.matrix);
    } else {
      return new Shape();
    }
  }

  /**
   * Returns whether a given point is considered "inside" the SpriteInstance
   */
  containsPoint(point) {
    if (!this.sprite) {
      return false;
    }
    const position = scratchVector.set(point);
    if (this.transformType === SpriteInstanceTransformType.AFFINE) {
      scratchMatrix.set(this.matrix).invert().multiplyVector2(position);
    } else {
      position.x -= this.matrix.m02();
      position.y -= this.matrix.m12();
      if (this.transformType === SpriteInstanceTransformType.TRANSLATION_AND_SCALE) {
        position.x /= this.matrix.m00();
        position.y /= this.matrix.m11();
      } else if (this.transformType === SpriteInstanceTransformType.TRANSLATION_AND_ROTATION) {
        position.rotate(-this.matrix.rotation);
      }
    }
    return this.sprite.containsPoint(position);
  }
  freeToPool() {
    SpriteInstance.pool.freeToPool(this);
  }
  static pool = new Pool(SpriteInstance, {
    maxSize: 1000
  });
}
scenery.register('SpriteInstance', SpriteInstance);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNYXRyaXgzIiwiVmVjdG9yMiIsIlNoYXBlIiwiRW51bWVyYXRpb24iLCJFbnVtZXJhdGlvblZhbHVlIiwiUG9vbCIsInNjZW5lcnkiLCJzY3JhdGNoVmVjdG9yIiwic2NyYXRjaE1hdHJpeCIsIklERU5USVRZIiwiY29weSIsIlNwcml0ZUluc3RhbmNlVHJhbnNmb3JtVHlwZSIsIlRSQU5TTEFUSU9OIiwiVFJBTlNMQVRJT05fQU5EX1NDQUxFIiwiVFJBTlNMQVRJT05fQU5EX1JPVEFUSU9OIiwiQUZGSU5FIiwiZW51bWVyYXRpb24iLCJwaGV0aW9Eb2N1bWVudGF0aW9uIiwiU3ByaXRlSW5zdGFuY2UiLCJjb25zdHJ1Y3RvciIsInNwcml0ZSIsIm1hdHJpeCIsInNldFRvQWZmaW5lIiwidHJhbnNmb3JtVHlwZSIsImFscGhhIiwiaW5pdGlhbGl6ZSIsImdldFNoYXBlIiwidHJhbnNmb3JtZWQiLCJjb250YWluc1BvaW50IiwicG9pbnQiLCJwb3NpdGlvbiIsInNldCIsImludmVydCIsIm11bHRpcGx5VmVjdG9yMiIsIngiLCJtMDIiLCJ5IiwibTEyIiwibTAwIiwibTExIiwicm90YXRlIiwicm90YXRpb24iLCJmcmVlVG9Qb29sIiwicG9vbCIsIm1heFNpemUiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlNwcml0ZUluc3RhbmNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBzaW5nbGUgaW5zdGFuY2Ugb24gdGhlIHNjcmVlbiBvZiBhIGdpdmVuIFNwcml0ZSBvYmplY3QuIEl0IGNhbiBoYXZlIGl0cyBvd24gdHJhbnNmb3JtYXRpb24gbWF0cml4LCBhbmRcclxuICogaXMgc2V0IHVwIGFzIGEgbGlnaHR3ZWlnaHQgY29udGFpbmVyIG9mIGluZm9ybWF0aW9uLCBmb3IgaGlnaC1wZXJmb3JtYW5jZSB1c2FnZSAod2l0aCBwb29saW5nKS5cclxuICpcclxuICogSXRzIGluZGl2aWR1YWwgcGFyYW1ldGVycyBzaG91bGQgZ2VuZXJhbGx5IGJlIG11dGF0ZWQgZGlyZWN0bHkgYnkgdGhlIGNsaWVudC5cclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxyXG4gKi9cclxuXHJcbmltcG9ydCBNYXRyaXgzIGZyb20gJy4uLy4uLy4uL2RvdC9qcy9NYXRyaXgzLmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBFbnVtZXJhdGlvbiBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvRW51bWVyYXRpb24uanMnO1xyXG5pbXBvcnQgRW51bWVyYXRpb25WYWx1ZSBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvRW51bWVyYXRpb25WYWx1ZS5qcyc7XHJcbmltcG9ydCBQb29sIGZyb20gJy4uLy4uLy4uL3BoZXQtY29yZS9qcy9Qb29sLmpzJztcclxuaW1wb3J0IHsgc2NlbmVyeSwgU3ByaXRlIH0gZnJvbSAnLi4vaW1wb3J0cy5qcyc7XHJcblxyXG5jb25zdCBzY3JhdGNoVmVjdG9yID0gbmV3IFZlY3RvcjIoIDAsIDAgKTtcclxuY29uc3Qgc2NyYXRjaE1hdHJpeCA9IE1hdHJpeDMuSURFTlRJVFkuY29weSgpO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNwcml0ZUluc3RhbmNlVHJhbnNmb3JtVHlwZSBleHRlbmRzIEVudW1lcmF0aW9uVmFsdWUge1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVFJBTlNMQVRJT04gPSBuZXcgU3ByaXRlSW5zdGFuY2VUcmFuc2Zvcm1UeXBlKCk7XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBUUkFOU0xBVElPTl9BTkRfU0NBTEUgPSBuZXcgU3ByaXRlSW5zdGFuY2VUcmFuc2Zvcm1UeXBlKCk7XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBUUkFOU0xBVElPTl9BTkRfUk9UQVRJT04gPSBuZXcgU3ByaXRlSW5zdGFuY2VUcmFuc2Zvcm1UeXBlKCk7XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBBRkZJTkUgPSBuZXcgU3ByaXRlSW5zdGFuY2VUcmFuc2Zvcm1UeXBlKCk7XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgZW51bWVyYXRpb24gPSBuZXcgRW51bWVyYXRpb24oIFNwcml0ZUluc3RhbmNlVHJhbnNmb3JtVHlwZSwge1xyXG4gICAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ0RlZmluZXMgdGhlIGF2YWlsYWJsZSB0cmFuc2Zvcm0gdHlwZSBmb3IgYSBTcHJpdGVJbnN0YW5jZSdcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwcml0ZUluc3RhbmNlIHtcclxuXHJcbiAgLy8gVGhpcyBzaG91bGQgYmUgc2V0IHRvIGEgYFNwcml0ZWAgb2JqZWN0IHdoaWNoIGlzIHRoZSBzcHJpdGUgdGhhdCBzaG91bGQgYmUgZGlzcGxheWVkLlxyXG4gIC8vIFRoaXMgZmllbGQgaXMgZXhwZWN0ZWQgdG8gYmUgc2V0IGJ5IHRoZSBjbGllbnQgd2hlbmV2ZXIgaXQgbmVlZHMgdG8gY2hhbmdlLlxyXG4gIHB1YmxpYyBzcHJpdGU6IFNwcml0ZSB8IG51bGw7XHJcblxyXG4gIC8vIFBsZWFzZSBqdXN0IG11dGF0ZSB0aGUgZ2l2ZW4gTWF0cml4MyBmb3IgcGVyZm9ybWFuY2UuIElmIHRoZSBtYXRyaXggcmVwcmVzZW50cyBzb21ldGhpbmdcclxuICAvLyBvdGhlciB0aGFuIGp1c3QgYSB0cmFuc2xhdGlvbiwgcGxlYXNlIHVwZGF0ZSB0aGUgYHRyYW5zZm9ybVR5cGVgIHRvIHRoZSB0eXBlIHRoYXQgcmVwcmVzZW50cyB0aGUgcG9zc2libGVcclxuICAvLyB2YWx1ZXMuXHJcbiAgcHVibGljIG1hdHJpeDogTWF0cml4MztcclxuXHJcbiAgcHVibGljIHRyYW5zZm9ybVR5cGU6IFNwcml0ZUluc3RhbmNlVHJhbnNmb3JtVHlwZTtcclxuXHJcbiAgLy8gVGhlIGdlbmVyYWwgb3BhY2l0eS9hbHBoYSBvZiB0aGUgZGlzcGxheWVkIHNwcml0ZSAoc2VlIE5vZGUncyBvcGFjaXR5KVxyXG4gIHB1YmxpYyBhbHBoYTogbnVtYmVyO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgdGhpcy5zcHJpdGUgPSBudWxsO1xyXG4gICAgdGhpcy5tYXRyaXggPSBuZXcgTWF0cml4MygpLnNldFRvQWZmaW5lKCAxLCAwLCAwLCAwLCAxLCAwICk7IC8vIGluaXRpYWxpemVkIHRvIHRyaWdnZXIgdGhlIGFmZmluZSBmbGFnXHJcbiAgICB0aGlzLnRyYW5zZm9ybVR5cGUgPSBTcHJpdGVJbnN0YW5jZVRyYW5zZm9ybVR5cGUuVFJBTlNMQVRJT047XHJcblxyXG4gICAgdGhpcy5hbHBoYSA9IDE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGb3IgcG9vbGluZy4gUGxlYXNlIHVzZSBTcHJpdGVJbnN0YW5jZS5kaXJ0eUZyb21Qb29sKCkgdG8gZ3JhYiBhIGNvcHlcclxuICAgKi9cclxuICBwdWJsaWMgaW5pdGlhbGl6ZSgpOiB0aGlzIHtcclxuICAgIC8vIFdlIG5lZWQgYW4gZW1wdHkgaW5pdGlhbGl6YXRpb24gbWV0aG9kIGhlcmUsIHNvIHRoYXQgd2UgY2FuIGdyYWIgZGlydHkgdmVyc2lvbnMgYW5kIHVzZSB0aGVtIGZvciBoaWdoZXJcclxuICAgIC8vIHBlcmZvcm1hbmNlLlxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIFNoYXBlIHRoYXQgcmVwcmVzZW50cyB0aGUgaGl0LXRlc3RhYmxlIGFyZWEgb2YgdGhpcyBTcHJpdGVJbnN0YW5jZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0U2hhcGUoKTogU2hhcGUge1xyXG4gICAgaWYgKCB0aGlzLnNwcml0ZSApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlLmdldFNoYXBlKCkudHJhbnNmb3JtZWQoIHRoaXMubWF0cml4ICk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcmV0dXJuIG5ldyBTaGFwZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB3aGV0aGVyIGEgZ2l2ZW4gcG9pbnQgaXMgY29uc2lkZXJlZCBcImluc2lkZVwiIHRoZSBTcHJpdGVJbnN0YW5jZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb250YWluc1BvaW50KCBwb2ludDogVmVjdG9yMiApOiBib29sZWFuIHtcclxuICAgIGlmICggIXRoaXMuc3ByaXRlICkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcG9zaXRpb24gPSBzY3JhdGNoVmVjdG9yLnNldCggcG9pbnQgKTtcclxuXHJcbiAgICBpZiAoIHRoaXMudHJhbnNmb3JtVHlwZSA9PT0gU3ByaXRlSW5zdGFuY2VUcmFuc2Zvcm1UeXBlLkFGRklORSApIHtcclxuICAgICAgc2NyYXRjaE1hdHJpeC5zZXQoIHRoaXMubWF0cml4ICkuaW52ZXJ0KCkubXVsdGlwbHlWZWN0b3IyKCBwb3NpdGlvbiApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHBvc2l0aW9uLnggLT0gdGhpcy5tYXRyaXgubTAyKCk7XHJcbiAgICAgIHBvc2l0aW9uLnkgLT0gdGhpcy5tYXRyaXgubTEyKCk7XHJcblxyXG4gICAgICBpZiAoIHRoaXMudHJhbnNmb3JtVHlwZSA9PT0gU3ByaXRlSW5zdGFuY2VUcmFuc2Zvcm1UeXBlLlRSQU5TTEFUSU9OX0FORF9TQ0FMRSApIHtcclxuICAgICAgICBwb3NpdGlvbi54IC89IHRoaXMubWF0cml4Lm0wMCgpO1xyXG4gICAgICAgIHBvc2l0aW9uLnkgLz0gdGhpcy5tYXRyaXgubTExKCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoIHRoaXMudHJhbnNmb3JtVHlwZSA9PT0gU3ByaXRlSW5zdGFuY2VUcmFuc2Zvcm1UeXBlLlRSQU5TTEFUSU9OX0FORF9ST1RBVElPTiApIHtcclxuICAgICAgICBwb3NpdGlvbi5yb3RhdGUoIC10aGlzLm1hdHJpeC5yb3RhdGlvbiApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuc3ByaXRlLmNvbnRhaW5zUG9pbnQoIHBvc2l0aW9uICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZnJlZVRvUG9vbCgpOiB2b2lkIHtcclxuICAgIFNwcml0ZUluc3RhbmNlLnBvb2wuZnJlZVRvUG9vbCggdGhpcyApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBwb29sID0gbmV3IFBvb2woIFNwcml0ZUluc3RhbmNlLCB7XHJcbiAgICBtYXhTaXplOiAxMDAwXHJcbiAgfSApO1xyXG59XHJcblxyXG5zY2VuZXJ5LnJlZ2lzdGVyKCAnU3ByaXRlSW5zdGFuY2UnLCBTcHJpdGVJbnN0YW5jZSApO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsT0FBTyxNQUFNLDRCQUE0QjtBQUNoRCxPQUFPQyxPQUFPLE1BQU0sNEJBQTRCO0FBQ2hELFNBQVNDLEtBQUssUUFBUSw2QkFBNkI7QUFDbkQsT0FBT0MsV0FBVyxNQUFNLHNDQUFzQztBQUM5RCxPQUFPQyxnQkFBZ0IsTUFBTSwyQ0FBMkM7QUFDeEUsT0FBT0MsSUFBSSxNQUFNLCtCQUErQjtBQUNoRCxTQUFTQyxPQUFPLFFBQWdCLGVBQWU7QUFFL0MsTUFBTUMsYUFBYSxHQUFHLElBQUlOLE9BQU8sQ0FBRSxDQUFDLEVBQUUsQ0FBRSxDQUFDO0FBQ3pDLE1BQU1PLGFBQWEsR0FBR1IsT0FBTyxDQUFDUyxRQUFRLENBQUNDLElBQUksQ0FBQyxDQUFDO0FBRTdDLE9BQU8sTUFBTUMsMkJBQTJC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