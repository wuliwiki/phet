// Copyright 2020-2023, University of Colorado Boulder

/**
 * EquationComboBox is the combo box for choosing the equation form that is displayed in the 'Discrete' screen.
 * See also EquationForm enumeration.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import PatternStringProperty from '../../../../axon/js/PatternStringProperty.js';
import ComboBox from '../../../../sun/js/ComboBox.js';
import FMWConstants from '../../common/FMWConstants.js';
import FMWSymbols from '../../common/FMWSymbols.js';
import Domain from '../../common/model/Domain.js';
import FMWComboBox from '../../common/view/FMWComboBox.js';
import fourierMakingWaves from '../../fourierMakingWaves.js';
import FourierMakingWavesStrings from '../../FourierMakingWavesStrings.js';
import EquationForm from '../model/EquationForm.js';
const MATH_TEXT_OPTIONS = {
  font: FMWConstants.MATH_CONTROL_FONT,
  maxWidth: 100
};

// This format is specific to FMWComboBox.
const CHOICES = [{
  value: EquationForm.HIDDEN,
  stringProperty: FourierMakingWavesStrings.hiddenStringProperty,
  // This is the only choice that does not have textOptions: MATH_TEXT_OPTIONS, because it's not an equation.
  tandemName: `hidden${ComboBox.ITEM_TANDEM_NAME_SUFFIX}`
}, {
  value: EquationForm.WAVELENGTH,
  stringProperty: FMWSymbols.lambdaStringProperty,
  textOptions: MATH_TEXT_OPTIONS,
  tandemName: `wavelength${ComboBox.ITEM_TANDEM_NAME_SUFFIX}`
}, {
  value: EquationForm.SPATIAL_WAVE_NUMBER,
  stringProperty: FMWSymbols.kStringProperty,
  textOptions: MATH_TEXT_OPTIONS,
  tandemName: `spatialWaveNumber${ComboBox.ITEM_TANDEM_NAME_SUFFIX}`
}, {
  value: EquationForm.FREQUENCY,
  stringProperty: FMWSymbols.fStringProperty,
  textOptions: MATH_TEXT_OPTIONS,
  tandemName: `frequency${ComboBox.ITEM_TANDEM_NAME_SUFFIX}`
}, {
  value: EquationForm.PERIOD,
  stringProperty: FMWSymbols.TStringProperty,
  textOptions: MATH_TEXT_OPTIONS,
  tandemName: `period${ComboBox.ITEM_TANDEM_NAME_SUFFIX}`
}, {
  value: EquationForm.ANGULAR_WAVE_NUMBER,
  stringProperty: FMWSymbols.omegaStringProperty,
  textOptions: MATH_TEXT_OPTIONS,
  tandemName: `angularWaveNumber${ComboBox.ITEM_TANDEM_NAME_SUFFIX}`
}, {
  value: EquationForm.WAVELENGTH_AND_PERIOD,
  stringProperty: new PatternStringProperty(FourierMakingWavesStrings.symbolAndSymbolStringProperty, {
    symbol1: FMWSymbols.lambdaStringProperty,
    symbol2: FMWSymbols.TStringProperty
  }),
  textOptions: MATH_TEXT_OPTIONS,
  tandemName: `wavelengthAndPeriod${ComboBox.ITEM_TANDEM_NAME_SUFFIX}`
}, {
  value: EquationForm.SPATIAL_WAVE_NUMBER_AND_ANGULAR_WAVE_NUMBER,
  stringProperty: new PatternStringProperty(FourierMakingWavesStrings.symbolAndSymbolStringProperty, {
    symbol1: FMWSymbols.kStringProperty,
    symbol2: FMWSymbols.omegaStringProperty
  }),
  textOptions: MATH_TEXT_OPTIONS,
  tandemName: `spatialWaveNumberAndAngularWaveNumber${ComboBox.ITEM_TANDEM_NAME_SUFFIX}`
}, {
  value: EquationForm.MODE,
  stringProperty: FMWSymbols.nStringProperty,
  textOptions: MATH_TEXT_OPTIONS,
  tandemName: `mode${ComboBox.ITEM_TANDEM_NAME_SUFFIX}`
}];
export default class EquationComboBox extends FMWComboBox {
  constructor(equationFormProperty, domainProperty, popupParent, tandem) {
    super(equationFormProperty, CHOICES, popupParent, {
      textOptions: {
        maxWidth: 100 // determined empirically
      },

      tandem: tandem
    });

    // Show only the choices that are appropriate for the selected Domain.
    domainProperty.link(domain => {
      assert && assert(Domain.enumeration.includes(domain));

      // No need to adjust EquationForm.HIDDEN or EquationForm.MODE. They are appropriate for all Domain values.

      // Domain.SPACE
      const isSpace = domain === Domain.SPACE;
      this.setItemVisible(EquationForm.WAVELENGTH, isSpace);
      this.setItemVisible(EquationForm.SPATIAL_WAVE_NUMBER, isSpace);

      // Domain.TIME
      const isTime = domain === Domain.TIME;
      this.setItemVisible(EquationForm.FREQUENCY, isTime);
      this.setItemVisible(EquationForm.PERIOD, isTime);
      this.setItemVisible(EquationForm.ANGULAR_WAVE_NUMBER, isTime);

      // Domain.SPACE_AND_TIME
      const isSpaceAmdTime = domain === Domain.SPACE_AND_TIME;
      this.setItemVisible(EquationForm.WAVELENGTH_AND_PERIOD, isSpaceAmdTime);
      this.setItemVisible(EquationForm.SPATIAL_WAVE_NUMBER_AND_ANGULAR_WAVE_NUMBER, isSpaceAmdTime);
    });
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
    super.dispose();
  }
}
fourierMakingWaves.register('EquationComboBox', EquationComboBox);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJDb21ib0JveCIsIkZNV0NvbnN0YW50cyIsIkZNV1N5bWJvbHMiLCJEb21haW4iLCJGTVdDb21ib0JveCIsImZvdXJpZXJNYWtpbmdXYXZlcyIsIkZvdXJpZXJNYWtpbmdXYXZlc1N0cmluZ3MiLCJFcXVhdGlvbkZvcm0iLCJNQVRIX1RFWFRfT1BUSU9OUyIsImZvbnQiLCJNQVRIX0NPTlRST0xfRk9OVCIsIm1heFdpZHRoIiwiQ0hPSUNFUyIsInZhbHVlIiwiSElEREVOIiwic3RyaW5nUHJvcGVydHkiLCJoaWRkZW5TdHJpbmdQcm9wZXJ0eSIsInRhbmRlbU5hbWUiLCJJVEVNX1RBTkRFTV9OQU1FX1NVRkZJWCIsIldBVkVMRU5HVEgiLCJsYW1iZGFTdHJpbmdQcm9wZXJ0eSIsInRleHRPcHRpb25zIiwiU1BBVElBTF9XQVZFX05VTUJFUiIsImtTdHJpbmdQcm9wZXJ0eSIsIkZSRVFVRU5DWSIsImZTdHJpbmdQcm9wZXJ0eSIsIlBFUklPRCIsIlRTdHJpbmdQcm9wZXJ0eSIsIkFOR1VMQVJfV0FWRV9OVU1CRVIiLCJvbWVnYVN0cmluZ1Byb3BlcnR5IiwiV0FWRUxFTkdUSF9BTkRfUEVSSU9EIiwic3ltYm9sQW5kU3ltYm9sU3RyaW5nUHJvcGVydHkiLCJzeW1ib2wxIiwic3ltYm9sMiIsIlNQQVRJQUxfV0FWRV9OVU1CRVJfQU5EX0FOR1VMQVJfV0FWRV9OVU1CRVIiLCJNT0RFIiwiblN0cmluZ1Byb3BlcnR5IiwiRXF1YXRpb25Db21ib0JveCIsImNvbnN0cnVjdG9yIiwiZXF1YXRpb25Gb3JtUHJvcGVydHkiLCJkb21haW5Qcm9wZXJ0eSIsInBvcHVwUGFyZW50IiwidGFuZGVtIiwibGluayIsImRvbWFpbiIsImFzc2VydCIsImVudW1lcmF0aW9uIiwiaW5jbHVkZXMiLCJpc1NwYWNlIiwiU1BBQ0UiLCJzZXRJdGVtVmlzaWJsZSIsImlzVGltZSIsIlRJTUUiLCJpc1NwYWNlQW1kVGltZSIsIlNQQUNFX0FORF9USU1FIiwiZGlzcG9zZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiRXF1YXRpb25Db21ib0JveC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMC0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBFcXVhdGlvbkNvbWJvQm94IGlzIHRoZSBjb21ibyBib3ggZm9yIGNob29zaW5nIHRoZSBlcXVhdGlvbiBmb3JtIHRoYXQgaXMgZGlzcGxheWVkIGluIHRoZSAnRGlzY3JldGUnIHNjcmVlbi5cclxuICogU2VlIGFsc28gRXF1YXRpb25Gb3JtIGVudW1lcmF0aW9uLlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCBFbnVtZXJhdGlvblByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvRW51bWVyYXRpb25Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBQYXR0ZXJuU3RyaW5nUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9QYXR0ZXJuU3RyaW5nUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgeyBOb2RlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IENvbWJvQm94IGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9Db21ib0JveC5qcyc7XHJcbmltcG9ydCBGTVdDb25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL0ZNV0NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBGTVdTeW1ib2xzIGZyb20gJy4uLy4uL2NvbW1vbi9GTVdTeW1ib2xzLmpzJztcclxuaW1wb3J0IERvbWFpbiBmcm9tICcuLi8uLi9jb21tb24vbW9kZWwvRG9tYWluLmpzJztcclxuaW1wb3J0IEZNV0NvbWJvQm94LCB7IEZNV0NvbWJvQm94Q2hvaWNlIH0gZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXcvRk1XQ29tYm9Cb3guanMnO1xyXG5pbXBvcnQgZm91cmllck1ha2luZ1dhdmVzIGZyb20gJy4uLy4uL2ZvdXJpZXJNYWtpbmdXYXZlcy5qcyc7XHJcbmltcG9ydCBGb3VyaWVyTWFraW5nV2F2ZXNTdHJpbmdzIGZyb20gJy4uLy4uL0ZvdXJpZXJNYWtpbmdXYXZlc1N0cmluZ3MuanMnO1xyXG5pbXBvcnQgRXF1YXRpb25Gb3JtIGZyb20gJy4uL21vZGVsL0VxdWF0aW9uRm9ybS5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcblxyXG5jb25zdCBNQVRIX1RFWFRfT1BUSU9OUyA9IHtcclxuICBmb250OiBGTVdDb25zdGFudHMuTUFUSF9DT05UUk9MX0ZPTlQsXHJcbiAgbWF4V2lkdGg6IDEwMFxyXG59O1xyXG5cclxuLy8gVGhpcyBmb3JtYXQgaXMgc3BlY2lmaWMgdG8gRk1XQ29tYm9Cb3guXHJcbmNvbnN0IENIT0lDRVM6IEZNV0NvbWJvQm94Q2hvaWNlPEVxdWF0aW9uRm9ybT5bXSA9IFtcclxuICB7XHJcbiAgICB2YWx1ZTogRXF1YXRpb25Gb3JtLkhJRERFTixcclxuICAgIHN0cmluZ1Byb3BlcnR5OiBGb3VyaWVyTWFraW5nV2F2ZXNTdHJpbmdzLmhpZGRlblN0cmluZ1Byb3BlcnR5LFxyXG4gICAgLy8gVGhpcyBpcyB0aGUgb25seSBjaG9pY2UgdGhhdCBkb2VzIG5vdCBoYXZlIHRleHRPcHRpb25zOiBNQVRIX1RFWFRfT1BUSU9OUywgYmVjYXVzZSBpdCdzIG5vdCBhbiBlcXVhdGlvbi5cclxuICAgIHRhbmRlbU5hbWU6IGBoaWRkZW4ke0NvbWJvQm94LklURU1fVEFOREVNX05BTUVfU1VGRklYfWBcclxuICB9LFxyXG4gIHtcclxuICAgIHZhbHVlOiBFcXVhdGlvbkZvcm0uV0FWRUxFTkdUSCxcclxuICAgIHN0cmluZ1Byb3BlcnR5OiBGTVdTeW1ib2xzLmxhbWJkYVN0cmluZ1Byb3BlcnR5LFxyXG4gICAgdGV4dE9wdGlvbnM6IE1BVEhfVEVYVF9PUFRJT05TLFxyXG4gICAgdGFuZGVtTmFtZTogYHdhdmVsZW5ndGgke0NvbWJvQm94LklURU1fVEFOREVNX05BTUVfU1VGRklYfWBcclxuICB9LFxyXG4gIHtcclxuICAgIHZhbHVlOiBFcXVhdGlvbkZvcm0uU1BBVElBTF9XQVZFX05VTUJFUixcclxuICAgIHN0cmluZ1Byb3BlcnR5OiBGTVdTeW1ib2xzLmtTdHJpbmdQcm9wZXJ0eSxcclxuICAgIHRleHRPcHRpb25zOiBNQVRIX1RFWFRfT1BUSU9OUyxcclxuICAgIHRhbmRlbU5hbWU6IGBzcGF0aWFsV2F2ZU51bWJlciR7Q29tYm9Cb3guSVRFTV9UQU5ERU1fTkFNRV9TVUZGSVh9YFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdmFsdWU6IEVxdWF0aW9uRm9ybS5GUkVRVUVOQ1ksXHJcbiAgICBzdHJpbmdQcm9wZXJ0eTogRk1XU3ltYm9scy5mU3RyaW5nUHJvcGVydHksXHJcbiAgICB0ZXh0T3B0aW9uczogTUFUSF9URVhUX09QVElPTlMsXHJcbiAgICB0YW5kZW1OYW1lOiBgZnJlcXVlbmN5JHtDb21ib0JveC5JVEVNX1RBTkRFTV9OQU1FX1NVRkZJWH1gXHJcbiAgfSxcclxuICB7XHJcbiAgICB2YWx1ZTogRXF1YXRpb25Gb3JtLlBFUklPRCxcclxuICAgIHN0cmluZ1Byb3BlcnR5OiBGTVdTeW1ib2xzLlRTdHJpbmdQcm9wZXJ0eSxcclxuICAgIHRleHRPcHRpb25zOiBNQVRIX1RFWFRfT1BUSU9OUyxcclxuICAgIHRhbmRlbU5hbWU6IGBwZXJpb2Qke0NvbWJvQm94LklURU1fVEFOREVNX05BTUVfU1VGRklYfWBcclxuICB9LFxyXG4gIHtcclxuICAgIHZhbHVlOiBFcXVhdGlvbkZvcm0uQU5HVUxBUl9XQVZFX05VTUJFUixcclxuICAgIHN0cmluZ1Byb3BlcnR5OiBGTVdTeW1ib2xzLm9tZWdhU3RyaW5nUHJvcGVydHksXHJcbiAgICB0ZXh0T3B0aW9uczogTUFUSF9URVhUX09QVElPTlMsXHJcbiAgICB0YW5kZW1OYW1lOiBgYW5ndWxhcldhdmVOdW1iZXIke0NvbWJvQm94LklURU1fVEFOREVNX05BTUVfU1VGRklYfWBcclxuICB9LFxyXG4gIHtcclxuICAgIHZhbHVlOiBFcXVhdGlvbkZvcm0uV0FWRUxFTkdUSF9BTkRfUEVSSU9ELFxyXG4gICAgc3RyaW5nUHJvcGVydHk6IG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIEZvdXJpZXJNYWtpbmdXYXZlc1N0cmluZ3Muc3ltYm9sQW5kU3ltYm9sU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgc3ltYm9sMTogRk1XU3ltYm9scy5sYW1iZGFTdHJpbmdQcm9wZXJ0eSxcclxuICAgICAgc3ltYm9sMjogRk1XU3ltYm9scy5UU3RyaW5nUHJvcGVydHlcclxuICAgIH0gKSxcclxuICAgIHRleHRPcHRpb25zOiBNQVRIX1RFWFRfT1BUSU9OUyxcclxuICAgIHRhbmRlbU5hbWU6IGB3YXZlbGVuZ3RoQW5kUGVyaW9kJHtDb21ib0JveC5JVEVNX1RBTkRFTV9OQU1FX1NVRkZJWH1gXHJcbiAgfSxcclxuICB7XHJcbiAgICB2YWx1ZTogRXF1YXRpb25Gb3JtLlNQQVRJQUxfV0FWRV9OVU1CRVJfQU5EX0FOR1VMQVJfV0FWRV9OVU1CRVIsXHJcbiAgICBzdHJpbmdQcm9wZXJ0eTogbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggRm91cmllck1ha2luZ1dhdmVzU3RyaW5ncy5zeW1ib2xBbmRTeW1ib2xTdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICBzeW1ib2wxOiBGTVdTeW1ib2xzLmtTdHJpbmdQcm9wZXJ0eSxcclxuICAgICAgc3ltYm9sMjogRk1XU3ltYm9scy5vbWVnYVN0cmluZ1Byb3BlcnR5XHJcbiAgICB9ICksXHJcbiAgICB0ZXh0T3B0aW9uczogTUFUSF9URVhUX09QVElPTlMsXHJcbiAgICB0YW5kZW1OYW1lOiBgc3BhdGlhbFdhdmVOdW1iZXJBbmRBbmd1bGFyV2F2ZU51bWJlciR7Q29tYm9Cb3guSVRFTV9UQU5ERU1fTkFNRV9TVUZGSVh9YFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdmFsdWU6IEVxdWF0aW9uRm9ybS5NT0RFLFxyXG4gICAgc3RyaW5nUHJvcGVydHk6IEZNV1N5bWJvbHMublN0cmluZ1Byb3BlcnR5LFxyXG4gICAgdGV4dE9wdGlvbnM6IE1BVEhfVEVYVF9PUFRJT05TLFxyXG4gICAgdGFuZGVtTmFtZTogYG1vZGUke0NvbWJvQm94LklURU1fVEFOREVNX05BTUVfU1VGRklYfWBcclxuICB9XHJcbl07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFcXVhdGlvbkNvbWJvQm94IGV4dGVuZHMgRk1XQ29tYm9Cb3g8RXF1YXRpb25Gb3JtPiB7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggZXF1YXRpb25Gb3JtUHJvcGVydHk6IEVudW1lcmF0aW9uUHJvcGVydHk8RXF1YXRpb25Gb3JtPixcclxuICAgICAgICAgICAgICAgICAgICAgIGRvbWFpblByb3BlcnR5OiBFbnVtZXJhdGlvblByb3BlcnR5PERvbWFpbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgICBwb3B1cFBhcmVudDogTm9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgIHRhbmRlbTogVGFuZGVtICkge1xyXG5cclxuICAgIHN1cGVyKCBlcXVhdGlvbkZvcm1Qcm9wZXJ0eSwgQ0hPSUNFUywgcG9wdXBQYXJlbnQsIHtcclxuICAgICAgdGV4dE9wdGlvbnM6IHtcclxuICAgICAgICBtYXhXaWR0aDogMTAwIC8vIGRldGVybWluZWQgZW1waXJpY2FsbHlcclxuICAgICAgfSxcclxuICAgICAgdGFuZGVtOiB0YW5kZW1cclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBTaG93IG9ubHkgdGhlIGNob2ljZXMgdGhhdCBhcmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBzZWxlY3RlZCBEb21haW4uXHJcbiAgICBkb21haW5Qcm9wZXJ0eS5saW5rKCBkb21haW4gPT4ge1xyXG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCBEb21haW4uZW51bWVyYXRpb24uaW5jbHVkZXMoIGRvbWFpbiApICk7XHJcblxyXG4gICAgICAvLyBObyBuZWVkIHRvIGFkanVzdCBFcXVhdGlvbkZvcm0uSElEREVOIG9yIEVxdWF0aW9uRm9ybS5NT0RFLiBUaGV5IGFyZSBhcHByb3ByaWF0ZSBmb3IgYWxsIERvbWFpbiB2YWx1ZXMuXHJcblxyXG4gICAgICAvLyBEb21haW4uU1BBQ0VcclxuICAgICAgY29uc3QgaXNTcGFjZSA9ICggZG9tYWluID09PSBEb21haW4uU1BBQ0UgKTtcclxuICAgICAgdGhpcy5zZXRJdGVtVmlzaWJsZSggRXF1YXRpb25Gb3JtLldBVkVMRU5HVEgsIGlzU3BhY2UgKTtcclxuICAgICAgdGhpcy5zZXRJdGVtVmlzaWJsZSggRXF1YXRpb25Gb3JtLlNQQVRJQUxfV0FWRV9OVU1CRVIsIGlzU3BhY2UgKTtcclxuXHJcbiAgICAgIC8vIERvbWFpbi5USU1FXHJcbiAgICAgIGNvbnN0IGlzVGltZSA9ICggZG9tYWluID09PSBEb21haW4uVElNRSApO1xyXG4gICAgICB0aGlzLnNldEl0ZW1WaXNpYmxlKCBFcXVhdGlvbkZvcm0uRlJFUVVFTkNZLCBpc1RpbWUgKTtcclxuICAgICAgdGhpcy5zZXRJdGVtVmlzaWJsZSggRXF1YXRpb25Gb3JtLlBFUklPRCwgaXNUaW1lICk7XHJcbiAgICAgIHRoaXMuc2V0SXRlbVZpc2libGUoIEVxdWF0aW9uRm9ybS5BTkdVTEFSX1dBVkVfTlVNQkVSLCBpc1RpbWUgKTtcclxuXHJcbiAgICAgIC8vIERvbWFpbi5TUEFDRV9BTkRfVElNRVxyXG4gICAgICBjb25zdCBpc1NwYWNlQW1kVGltZSA9ICggZG9tYWluID09PSBEb21haW4uU1BBQ0VfQU5EX1RJTUUgKTtcclxuICAgICAgdGhpcy5zZXRJdGVtVmlzaWJsZSggRXF1YXRpb25Gb3JtLldBVkVMRU5HVEhfQU5EX1BFUklPRCwgaXNTcGFjZUFtZFRpbWUgKTtcclxuICAgICAgdGhpcy5zZXRJdGVtVmlzaWJsZSggRXF1YXRpb25Gb3JtLlNQQVRJQUxfV0FWRV9OVU1CRVJfQU5EX0FOR1VMQVJfV0FWRV9OVU1CRVIsIGlzU3BhY2VBbWRUaW1lICk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGZhbHNlLCAnZGlzcG9zZSBpcyBub3Qgc3VwcG9ydGVkLCBleGlzdHMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltJyApO1xyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZm91cmllck1ha2luZ1dhdmVzLnJlZ2lzdGVyKCAnRXF1YXRpb25Db21ib0JveCcsIEVxdWF0aW9uQ29tYm9Cb3ggKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQSxPQUFPQSxxQkFBcUIsTUFBTSw4Q0FBOEM7QUFFaEYsT0FBT0MsUUFBUSxNQUFNLGdDQUFnQztBQUNyRCxPQUFPQyxZQUFZLE1BQU0sOEJBQThCO0FBQ3ZELE9BQU9DLFVBQVUsTUFBTSw0QkFBNEI7QUFDbkQsT0FBT0MsTUFBTSxNQUFNLDhCQUE4QjtBQUNqRCxPQUFPQyxXQUFXLE1BQTZCLGtDQUFrQztBQUNqRixPQUFPQyxrQkFBa0IsTUFBTSw2QkFBNkI7QUFDNUQsT0FBT0MseUJBQXlCLE1BQU0sb0NBQW9DO0FBQzFFLE9BQU9DLFlBQVksTUFBTSwwQkFBMEI7QUFHbkQsTUFBTUMsaUJBQWlCLEdBQUc7RUFDeEJDLElBQUksRUFBRVIsWUFBWSxDQUFDUyxpQkFBaUI7RUFDcENDLFFBQVEsRUFBRTtBQUNaLENBQUM7O0FBRUQ7QUFDQSxNQUFNQyxPQUEwQyxHQUFHLENBQ2pEO0VBQ0VDLEtBQUssRUFBRU4sWUFBWSxDQUFDTyxNQUFNO0VBQzFCQyxjQUFjLEVBQUVULHlCQUF5QixDQUFDVSxvQkFBb0I7RUFDOUQ7RUFDQUMsVUFBVSxFQUFHLFNBQVFqQixRQUFRLENBQUNrQix1QkFBd0I7QUFDeEQsQ0FBQyxFQUNEO0VBQ0VMLEtBQUssRUFBRU4sWUFBWSxDQUFDWSxVQUFVO0VBQzlCSixjQUFjLEVBQUViLFVBQVUsQ0FBQ2tCLG9CQUFvQjtFQUMvQ0MsV0FBVyxFQUFFYixpQkFBaUI7RUFDOUJTLFVBQVUsRUFBRyxhQUFZakIsUUFBUSxDQUFDa0IsdUJBQXdCO0FBQzVELENBQUMsRUFDRDtFQUNFTCxLQUFLLEVBQUVOLFlBQVksQ0FBQ2UsbUJBQW1CO0VBQ3ZDUCxjQUFjLEVBQUViLFVBQVUsQ0FBQ3FCLGVBQWU7RUFDMUNGLFdBQVcsRUFBRWIsaUJBQWlCO0VBQzlCUyxVQUFVLEVBQUcsb0JBQW1CakIsUUFBUSxDQUFDa0IsdUJBQXdCO0FBQ25FLENBQUMsRUFDRDtFQUNFTCxLQUFLLEVBQUVOLFlBQVksQ0FBQ2lCLFNBQVM7RUFDN0JULGNBQWMsRUFBRWIsVUFBVSxDQUFDdUIsZUFBZTtFQUMxQ0osV0FBVyxFQUFFYixpQkFBaUI7RUFDOUJTLFVBQVUsRUFBRyxZQUFXakIsUUFBUSxDQUFDa0IsdUJBQXdCO0FBQzNELENBQUMsRUFDRDtFQUNFTCxLQUFLLEVBQUVOLFlBQVksQ0FBQ21CLE1BQU07RUFDMUJYLGNBQWMsRUFBRWIsVUFBVSxDQUFDeUIsZUFBZTtFQUMxQ04sV0FBVyxFQUFFYixpQkFBaUI7RUFDOUJTLFVBQVUsRUFBRyxTQUFRakIsUUFBUSxDQUFDa0IsdUJBQXdCO0FBQ3hELENBQUMsRUFDRDtFQUNFTCxLQUFLLEVBQUVOLFlBQVksQ0FBQ3FCLG1CQUFtQjtFQUN2Q2IsY0FBYyxFQUFFYixVQUFVLENBQUMyQixtQkFBbUI7RUFDOUNSLFdBQVcsRUFBRWIsaUJBQWlCO0VBQzlCUyxVQUFVLEVBQUcsb0JBQW1CakIsUUFBUSxDQUFDa0IsdUJBQXdCO0FBQ25FLENBQUMsRUFDRDtFQUNFTCxLQUFLLEVBQUVOLFlBQVksQ0FBQ3VCLHFCQUFxQjtFQUN6Q2YsY0FBYyxFQUFFLElBQUloQixxQkFBcUIsQ0FBRU8seUJBQXlCLENBQUN5Qiw2QkFBNkIsRUFBRTtJQUNsR0MsT0FBTyxFQUFFOUIsVUFBVSxDQUFDa0Isb0JBQW9CO0lBQ3hDYSxPQUFPLEVBQUUvQixVQUFVLENBQUN5QjtFQUN0QixDQUFFLENBQUM7RUFDSE4sV0FBVyxFQUFFYixpQkFBaUI7RUFDOUJTLFVBQVUsRUFBRyxzQkFBcUJqQixRQUFRLENBQUNrQix1QkFBd0I7QUFDckUsQ0FBQyxFQUNEO0VBQ0VMLEtBQUssRUFBRU4sWUFBWSxDQUFDMkIsMkNBQTJDO0VBQy9EbkIsY0FBYyxFQUFFLElBQUloQixxQkFBcUIsQ0FBRU8seUJBQXlCLENBQUN5Qiw2QkFBNkIsRUFBRTtJQUNsR0MsT0FBTyxFQUFFOUIsVUFBVSxDQUFDcUIsZUFBZTtJQUNuQ1UsT0FBTyxFQUFFL0IsVUFBVSxDQUFDMkI7RUFDdEIsQ0FBRSxDQUFDO0VBQ0hSLFdBQVcsRUFBRWIsaUJBQWlCO0VBQzlCUyxVQUFVLEVBQUcsd0NBQXVDakIsUUFBUSxDQUFDa0IsdUJBQXdCO0FBQ3ZGLENBQUMsRUFDRDtFQUNFTCxLQUFLLEVBQUVOLFlBQVksQ0FBQzRCLElBQUk7RUFDeEJwQixjQUFjLEVBQUViLFVBQVUsQ0FBQ2tDLGVBQWU7RUFDMUNmLFdBQVcsRUFBRWIsaUJBQWlCO0VBQzlCUyxVQUFVLEVBQUcsT0FBTWpCLFFBQVEsQ0FBQ2tCLHVCQUF3QjtBQUN0RCxDQUFDLENBQ0Y7QUFFRCxlQUFlLE1BQU1tQixnQkFBZ0IsU0FBU2pDLFdBQVcsQ0FBZTtFQUUvRGtDLFdBQVdBLENBQUVDLG9CQUF1RCxFQUN2REMsY0FBMkMsRUFDM0NDLFdBQWlCLEVBQ2pCQyxNQUFjLEVBQUc7SUFFbkMsS0FBSyxDQUFFSCxvQkFBb0IsRUFBRTNCLE9BQU8sRUFBRTZCLFdBQVcsRUFBRTtNQUNqRHBCLFdBQVcsRUFBRTtRQUNYVixRQUFRLEVBQUUsR0FBRyxDQUFDO01BQ2hCLENBQUM7O01BQ0QrQixNQUFNLEVBQUVBO0lBQ1YsQ0FBRSxDQUFDOztJQUVIO0lBQ0FGLGNBQWMsQ0FBQ0csSUFBSSxDQUFFQyxNQUFNLElBQUk7TUFDN0JDLE1BQU0sSUFBSUEsTUFBTSxDQUFFMUMsTUFBTSxDQUFDMkMsV0FBVyxDQUFDQyxRQUFRLENBQUVILE1BQU8sQ0FBRSxDQUFDOztNQUV6RDs7TUFFQTtNQUNBLE1BQU1JLE9BQU8sR0FBS0osTUFBTSxLQUFLekMsTUFBTSxDQUFDOEMsS0FBTztNQUMzQyxJQUFJLENBQUNDLGNBQWMsQ0FBRTNDLFlBQVksQ0FBQ1ksVUFBVSxFQUFFNkIsT0FBUSxDQUFDO01BQ3ZELElBQUksQ0FBQ0UsY0FBYyxDQUFFM0MsWUFBWSxDQUFDZSxtQkFBbUIsRUFBRTBCLE9BQVEsQ0FBQzs7TUFFaEU7TUFDQSxNQUFNRyxNQUFNLEdBQUtQLE1BQU0sS0FBS3pDLE1BQU0sQ0FBQ2lELElBQU07TUFDekMsSUFBSSxDQUFDRixjQUFjLENBQUUzQyxZQUFZLENBQUNpQixTQUFTLEVBQUUyQixNQUFPLENBQUM7TUFDckQsSUFBSSxDQUFDRCxjQUFjLENBQUUzQyxZQUFZLENBQUNtQixNQUFNLEVBQUV5QixNQUFPLENBQUM7TUFDbEQsSUFBSSxDQUFDRCxjQUFjLENBQUUzQyxZQUFZLENBQUNxQixtQkFBbUIsRUFBRXVCLE1BQU8sQ0FBQzs7TUFFL0Q7TUFDQSxNQUFNRSxjQUFjLEdBQUtULE1BQU0sS0FBS3pDLE1BQU0sQ0FBQ21ELGNBQWdCO01BQzNELElBQUksQ0FBQ0osY0FBYyxDQUFFM0MsWUFBWSxDQUFDdUIscUJBQXFCLEVBQUV1QixjQUFlLENBQUM7TUFDekUsSUFBSSxDQUFDSCxjQUFjLENBQUUzQyxZQUFZLENBQUMyQiwyQ0FBMkMsRUFBRW1CLGNBQWUsQ0FBQztJQUNqRyxDQUFFLENBQUM7RUFDTDtFQUVnQkUsT0FBT0EsQ0FBQSxFQUFTO0lBQzlCVixNQUFNLElBQUlBLE1BQU0sQ0FBRSxLQUFLLEVBQUUsOERBQStELENBQUM7SUFDekYsS0FBSyxDQUFDVSxPQUFPLENBQUMsQ0FBQztFQUNqQjtBQUNGO0FBRUFsRCxrQkFBa0IsQ0FBQ21ELFFBQVEsQ0FBRSxrQkFBa0IsRUFBRW5CLGdCQUFpQixDQUFDIn0=