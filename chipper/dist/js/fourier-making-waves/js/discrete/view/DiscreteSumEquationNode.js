// Copyright 2020-2023, University of Colorado Boulder

/**
 * DiscreteSumEquationNode is the equation that appears above the 'Sum' chart in the 'Discrete' screen.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import EnumerationProperty from '../../../../axon/js/EnumerationProperty.js';
import Multilink from '../../../../axon/js/Multilink.js';
import NumberProperty from '../../../../axon/js/NumberProperty.js';
import merge from '../../../../phet-core/js/merge.js';
import MathSymbols from '../../../../scenery-phet/js/MathSymbols.js';
import { Node, RichText } from '../../../../scenery/js/imports.js';
import FMWConstants from '../../common/FMWConstants.js';
import FMWSymbols from '../../common/FMWSymbols.js';
import EquationMarkup from '../../common/view/EquationMarkup.js';
import SumSymbolNode from '../../common/view/SumSymbolNode.js';
import fourierMakingWaves from '../../fourierMakingWaves.js';

// To improve readability of markup creation. Each of these is a string than may also include markup.
const EQUAL_TO = MathSymbols.EQUAL_TO;
export default class DiscreteSumEquationNode extends Node {
  /**
   * @param {NumberProperty} numberOfHarmonicsProperty
   * @param {EnumerationProperty.<Domain>} domainProperty
   * @param {EnumerationProperty.<SeriesType>} seriesTypeProperty
   * @param {EnumerationProperty.<EquationForm>} equationFormProperty
   * @param {Object} [options]
   */
  constructor(numberOfHarmonicsProperty, domainProperty, seriesTypeProperty, equationFormProperty, options) {
    assert && assert(numberOfHarmonicsProperty instanceof NumberProperty);
    assert && assert(domainProperty instanceof EnumerationProperty);
    assert && assert(seriesTypeProperty instanceof EnumerationProperty);
    assert && assert(equationFormProperty instanceof EnumerationProperty);
    options = merge({
      // DiscreteSumEquationNode options
      font: FMWConstants.EQUATION_FONT
    }, options);

    // Everything to the left of the summation symbol, set in multilink below
    const leftNode = new RichText('', {
      font: options.font
    });

    // Capital sigma, summation symbol
    const summationNode = new SumSymbolNode(FMWSymbols.nStringProperty, 1, numberOfHarmonicsProperty);

    // Everything to the right of the summation symbol, set in multilink below
    const rightNode = new RichText('', {
      font: options.font
    });
    assert && assert(!options.children, 'DiscreteSumEquationNode sets children');
    options.children = [leftNode, summationNode, rightNode];
    super(options);

    // Update the equation to match the Domain and math form.
    const multilink = new Multilink([domainProperty, seriesTypeProperty, equationFormProperty], (domain, seriesType, equationForm) => {
      // F(...) =
      leftNode.string = `${EquationMarkup.getFunctionOfMarkup(domain)} ${EQUAL_TO}`;
      summationNode.left = leftNode.right + 2;
      summationNode.y = leftNode.y + 5; // lower summation a bit, determined empirically

      rightNode.string = EquationMarkup.getGeneralFormMarkup(domain, seriesType, equationForm);
      rightNode.left = summationNode.right + 2;
      rightNode.y = leftNode.y;
    });

    // @private
    this.disposeSumEquationNode = () => {
      multilink.dispose();
    };
  }

  /**
   * This equation is used in 2 places: above the Sum chart, and in the Expanded Form dialog.
   * In the former, one instance is created and it exists for the lifetime of the sim.
   * In the latter, a new instance is created each time the dialog is opened, and therefore needs to be disposed.
   * @public
   * @override
   */
  dispose() {
    this.disposeSumEquationNode();
    super.dispose();
  }
}
fourierMakingWaves.register('DiscreteSumEquationNode', DiscreteSumEquationNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFbnVtZXJhdGlvblByb3BlcnR5IiwiTXVsdGlsaW5rIiwiTnVtYmVyUHJvcGVydHkiLCJtZXJnZSIsIk1hdGhTeW1ib2xzIiwiTm9kZSIsIlJpY2hUZXh0IiwiRk1XQ29uc3RhbnRzIiwiRk1XU3ltYm9scyIsIkVxdWF0aW9uTWFya3VwIiwiU3VtU3ltYm9sTm9kZSIsImZvdXJpZXJNYWtpbmdXYXZlcyIsIkVRVUFMX1RPIiwiRGlzY3JldGVTdW1FcXVhdGlvbk5vZGUiLCJjb25zdHJ1Y3RvciIsIm51bWJlck9mSGFybW9uaWNzUHJvcGVydHkiLCJkb21haW5Qcm9wZXJ0eSIsInNlcmllc1R5cGVQcm9wZXJ0eSIsImVxdWF0aW9uRm9ybVByb3BlcnR5Iiwib3B0aW9ucyIsImFzc2VydCIsImZvbnQiLCJFUVVBVElPTl9GT05UIiwibGVmdE5vZGUiLCJzdW1tYXRpb25Ob2RlIiwiblN0cmluZ1Byb3BlcnR5IiwicmlnaHROb2RlIiwiY2hpbGRyZW4iLCJtdWx0aWxpbmsiLCJkb21haW4iLCJzZXJpZXNUeXBlIiwiZXF1YXRpb25Gb3JtIiwic3RyaW5nIiwiZ2V0RnVuY3Rpb25PZk1hcmt1cCIsImxlZnQiLCJyaWdodCIsInkiLCJnZXRHZW5lcmFsRm9ybU1hcmt1cCIsImRpc3Bvc2VTdW1FcXVhdGlvbk5vZGUiLCJkaXNwb3NlIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJEaXNjcmV0ZVN1bUVxdWF0aW9uTm9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMC0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBEaXNjcmV0ZVN1bUVxdWF0aW9uTm9kZSBpcyB0aGUgZXF1YXRpb24gdGhhdCBhcHBlYXJzIGFib3ZlIHRoZSAnU3VtJyBjaGFydCBpbiB0aGUgJ0Rpc2NyZXRlJyBzY3JlZW4uXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IEVudW1lcmF0aW9uUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9FbnVtZXJhdGlvblByb3BlcnR5LmpzJztcclxuaW1wb3J0IE11bHRpbGluayBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL011bHRpbGluay5qcyc7XHJcbmltcG9ydCBOdW1iZXJQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL051bWJlclByb3BlcnR5LmpzJztcclxuaW1wb3J0IG1lcmdlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tZXJnZS5qcyc7XHJcbmltcG9ydCBNYXRoU3ltYm9scyBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvTWF0aFN5bWJvbHMuanMnO1xyXG5pbXBvcnQgeyBOb2RlLCBSaWNoVGV4dCB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBGTVdDb25zdGFudHMgZnJvbSAnLi4vLi4vY29tbW9uL0ZNV0NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBGTVdTeW1ib2xzIGZyb20gJy4uLy4uL2NvbW1vbi9GTVdTeW1ib2xzLmpzJztcclxuaW1wb3J0IEVxdWF0aW9uTWFya3VwIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L0VxdWF0aW9uTWFya3VwLmpzJztcclxuaW1wb3J0IFN1bVN5bWJvbE5vZGUgZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXcvU3VtU3ltYm9sTm9kZS5qcyc7XHJcbmltcG9ydCBmb3VyaWVyTWFraW5nV2F2ZXMgZnJvbSAnLi4vLi4vZm91cmllck1ha2luZ1dhdmVzLmpzJztcclxuXHJcbi8vIFRvIGltcHJvdmUgcmVhZGFiaWxpdHkgb2YgbWFya3VwIGNyZWF0aW9uLiBFYWNoIG9mIHRoZXNlIGlzIGEgc3RyaW5nIHRoYW4gbWF5IGFsc28gaW5jbHVkZSBtYXJrdXAuXHJcbmNvbnN0IEVRVUFMX1RPID0gTWF0aFN5bWJvbHMuRVFVQUxfVE87XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNjcmV0ZVN1bUVxdWF0aW9uTm9kZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge051bWJlclByb3BlcnR5fSBudW1iZXJPZkhhcm1vbmljc1Byb3BlcnR5XHJcbiAgICogQHBhcmFtIHtFbnVtZXJhdGlvblByb3BlcnR5LjxEb21haW4+fSBkb21haW5Qcm9wZXJ0eVxyXG4gICAqIEBwYXJhbSB7RW51bWVyYXRpb25Qcm9wZXJ0eS48U2VyaWVzVHlwZT59IHNlcmllc1R5cGVQcm9wZXJ0eVxyXG4gICAqIEBwYXJhbSB7RW51bWVyYXRpb25Qcm9wZXJ0eS48RXF1YXRpb25Gb3JtPn0gZXF1YXRpb25Gb3JtUHJvcGVydHlcclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIG51bWJlck9mSGFybW9uaWNzUHJvcGVydHksIGRvbWFpblByb3BlcnR5LCBzZXJpZXNUeXBlUHJvcGVydHksIGVxdWF0aW9uRm9ybVByb3BlcnR5LCBvcHRpb25zICkge1xyXG5cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIG51bWJlck9mSGFybW9uaWNzUHJvcGVydHkgaW5zdGFuY2VvZiBOdW1iZXJQcm9wZXJ0eSApO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggZG9tYWluUHJvcGVydHkgaW5zdGFuY2VvZiBFbnVtZXJhdGlvblByb3BlcnR5ICk7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBzZXJpZXNUeXBlUHJvcGVydHkgaW5zdGFuY2VvZiBFbnVtZXJhdGlvblByb3BlcnR5ICk7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBlcXVhdGlvbkZvcm1Qcm9wZXJ0eSBpbnN0YW5jZW9mIEVudW1lcmF0aW9uUHJvcGVydHkgKTtcclxuXHJcbiAgICBvcHRpb25zID0gbWVyZ2UoIHtcclxuXHJcbiAgICAgIC8vIERpc2NyZXRlU3VtRXF1YXRpb25Ob2RlIG9wdGlvbnNcclxuICAgICAgZm9udDogRk1XQ29uc3RhbnRzLkVRVUFUSU9OX0ZPTlRcclxuICAgIH0sIG9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyBFdmVyeXRoaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdW1tYXRpb24gc3ltYm9sLCBzZXQgaW4gbXVsdGlsaW5rIGJlbG93XHJcbiAgICBjb25zdCBsZWZ0Tm9kZSA9IG5ldyBSaWNoVGV4dCggJycsIHtcclxuICAgICAgZm9udDogb3B0aW9ucy5mb250XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gQ2FwaXRhbCBzaWdtYSwgc3VtbWF0aW9uIHN5bWJvbFxyXG4gICAgY29uc3Qgc3VtbWF0aW9uTm9kZSA9IG5ldyBTdW1TeW1ib2xOb2RlKCBGTVdTeW1ib2xzLm5TdHJpbmdQcm9wZXJ0eSwgMSwgbnVtYmVyT2ZIYXJtb25pY3NQcm9wZXJ0eSApO1xyXG5cclxuICAgIC8vIEV2ZXJ5dGhpbmcgdG8gdGhlIHJpZ2h0IG9mIHRoZSBzdW1tYXRpb24gc3ltYm9sLCBzZXQgaW4gbXVsdGlsaW5rIGJlbG93XHJcbiAgICBjb25zdCByaWdodE5vZGUgPSBuZXcgUmljaFRleHQoICcnLCB7XHJcbiAgICAgIGZvbnQ6IG9wdGlvbnMuZm9udFxyXG4gICAgfSApO1xyXG5cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoICFvcHRpb25zLmNoaWxkcmVuLCAnRGlzY3JldGVTdW1FcXVhdGlvbk5vZGUgc2V0cyBjaGlsZHJlbicgKTtcclxuICAgIG9wdGlvbnMuY2hpbGRyZW4gPSBbIGxlZnROb2RlLCBzdW1tYXRpb25Ob2RlLCByaWdodE5vZGUgXTtcclxuXHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgZXF1YXRpb24gdG8gbWF0Y2ggdGhlIERvbWFpbiBhbmQgbWF0aCBmb3JtLlxyXG4gICAgY29uc3QgbXVsdGlsaW5rID0gbmV3IE11bHRpbGluayhcclxuICAgICAgWyBkb21haW5Qcm9wZXJ0eSwgc2VyaWVzVHlwZVByb3BlcnR5LCBlcXVhdGlvbkZvcm1Qcm9wZXJ0eSBdLFxyXG4gICAgICAoIGRvbWFpbiwgc2VyaWVzVHlwZSwgZXF1YXRpb25Gb3JtICkgPT4ge1xyXG5cclxuICAgICAgICAvLyBGKC4uLikgPVxyXG4gICAgICAgIGxlZnROb2RlLnN0cmluZyA9IGAke0VxdWF0aW9uTWFya3VwLmdldEZ1bmN0aW9uT2ZNYXJrdXAoIGRvbWFpbiApfSAke0VRVUFMX1RPfWA7XHJcblxyXG4gICAgICAgIHN1bW1hdGlvbk5vZGUubGVmdCA9IGxlZnROb2RlLnJpZ2h0ICsgMjtcclxuICAgICAgICBzdW1tYXRpb25Ob2RlLnkgPSBsZWZ0Tm9kZS55ICsgNTsgLy8gbG93ZXIgc3VtbWF0aW9uIGEgYml0LCBkZXRlcm1pbmVkIGVtcGlyaWNhbGx5XHJcblxyXG4gICAgICAgIHJpZ2h0Tm9kZS5zdHJpbmcgPSBFcXVhdGlvbk1hcmt1cC5nZXRHZW5lcmFsRm9ybU1hcmt1cCggZG9tYWluLCBzZXJpZXNUeXBlLCBlcXVhdGlvbkZvcm0gKTtcclxuICAgICAgICByaWdodE5vZGUubGVmdCA9IHN1bW1hdGlvbk5vZGUucmlnaHQgKyAyO1xyXG4gICAgICAgIHJpZ2h0Tm9kZS55ID0gbGVmdE5vZGUueTtcclxuICAgICAgfSApO1xyXG5cclxuICAgIC8vIEBwcml2YXRlXHJcbiAgICB0aGlzLmRpc3Bvc2VTdW1FcXVhdGlvbk5vZGUgPSAoKSA9PiB7XHJcbiAgICAgIG11bHRpbGluay5kaXNwb3NlKCk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBlcXVhdGlvbiBpcyB1c2VkIGluIDIgcGxhY2VzOiBhYm92ZSB0aGUgU3VtIGNoYXJ0LCBhbmQgaW4gdGhlIEV4cGFuZGVkIEZvcm0gZGlhbG9nLlxyXG4gICAqIEluIHRoZSBmb3JtZXIsIG9uZSBpbnN0YW5jZSBpcyBjcmVhdGVkIGFuZCBpdCBleGlzdHMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltLlxyXG4gICAqIEluIHRoZSBsYXR0ZXIsIGEgbmV3IGluc3RhbmNlIGlzIGNyZWF0ZWQgZWFjaCB0aW1lIHRoZSBkaWFsb2cgaXMgb3BlbmVkLCBhbmQgdGhlcmVmb3JlIG5lZWRzIHRvIGJlIGRpc3Bvc2VkLlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAb3ZlcnJpZGVcclxuICAgKi9cclxuICBkaXNwb3NlKCkge1xyXG4gICAgdGhpcy5kaXNwb3NlU3VtRXF1YXRpb25Ob2RlKCk7XHJcbiAgICBzdXBlci5kaXNwb3NlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5mb3VyaWVyTWFraW5nV2F2ZXMucmVnaXN0ZXIoICdEaXNjcmV0ZVN1bUVxdWF0aW9uTm9kZScsIERpc2NyZXRlU3VtRXF1YXRpb25Ob2RlICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLG1CQUFtQixNQUFNLDRDQUE0QztBQUM1RSxPQUFPQyxTQUFTLE1BQU0sa0NBQWtDO0FBQ3hELE9BQU9DLGNBQWMsTUFBTSx1Q0FBdUM7QUFDbEUsT0FBT0MsS0FBSyxNQUFNLG1DQUFtQztBQUNyRCxPQUFPQyxXQUFXLE1BQU0sNENBQTRDO0FBQ3BFLFNBQVNDLElBQUksRUFBRUMsUUFBUSxRQUFRLG1DQUFtQztBQUNsRSxPQUFPQyxZQUFZLE1BQU0sOEJBQThCO0FBQ3ZELE9BQU9DLFVBQVUsTUFBTSw0QkFBNEI7QUFDbkQsT0FBT0MsY0FBYyxNQUFNLHFDQUFxQztBQUNoRSxPQUFPQyxhQUFhLE1BQU0sb0NBQW9DO0FBQzlELE9BQU9DLGtCQUFrQixNQUFNLDZCQUE2Qjs7QUFFNUQ7QUFDQSxNQUFNQyxRQUFRLEdBQUdSLFdBQVcsQ0FBQ1EsUUFBUTtBQUVyQyxlQUFlLE1BQU1DLHVCQUF1QixTQUFTUixJQUFJLENBQUM7RUFFeEQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDRVMsV0FBV0EsQ0FBRUMseUJBQXlCLEVBQUVDLGNBQWMsRUFBRUMsa0JBQWtCLEVBQUVDLG9CQUFvQixFQUFFQyxPQUFPLEVBQUc7SUFFMUdDLE1BQU0sSUFBSUEsTUFBTSxDQUFF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