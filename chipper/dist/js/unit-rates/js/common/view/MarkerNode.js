// Copyright 2016-2023, University of Colorado Boulder

/**
 * Marker on the double number line.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import merge from '../../../../phet-core/js/merge.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { Line, Node, Text } from '../../../../scenery/js/imports.js';
import unitRates from '../../unitRates.js';
import URConstants from '../URConstants.js';
import URUtils from '../URUtils.js';

// constants
const SHARED_OPTIONS = {
  maxDecimals: 2,
  // {number} maximum number of decimal places
  trimZeros: false // {boolean} whether to trim trailing zeros in the decimal places
};

export default class MarkerNode extends Node {
  /**
   * @param {Marker} marker
   * @param {Object} [options]
   */
  constructor(marker, options) {
    options = merge({
      ySpacing: 1,
      font: new PhetFont(12),
      lineLength: URConstants.MAJOR_MARKER_LENGTH,
      lineWidth: 1,
      numeratorOptions: null,
      // {*} options specific to the rate's numerator, see below
      denominatorOptions: null // {*} options specific to the rate's denominator, see below
    }, options);
    const numeratorOptions = merge({}, SHARED_OPTIONS, options.numeratorOptions);
    const denominatorOptions = merge({}, SHARED_OPTIONS, options.denominatorOptions);

    // vertical line
    const lineNode = new Line(0, 0, 0, options.lineLength, {
      lineWidth: options.lineWidth
    });

    // numerator
    const numeratorNode = new Text('', {
      font: options.font
    });
    const numeratorObserver = numerator => {
      assert && assert(typeof numerator === 'number' && !isNaN(numerator), `invalid numerator: ${numerator}`);
      numeratorNode.string = URUtils.numberToString(marker.numeratorProperty.value, numeratorOptions.maxDecimals, numeratorOptions.trimZeros);
      numeratorNode.centerX = lineNode.centerX;
      numeratorNode.bottom = lineNode.top - options.ySpacing;
    };
    marker.numeratorProperty.link(numeratorObserver); // unlink in dispose

    // denominator
    const denominatorNode = new Text('', {
      font: options.font
    });
    const denominatorObserver = denominator => {
      assert && assert(typeof denominator === 'number' && !isNaN(denominator), `invalid denominator: ${denominator}`);
      denominatorNode.string = URUtils.numberToString(marker.denominatorProperty.value, denominatorOptions.maxDecimals, denominatorOptions.trimZeros);
      denominatorNode.centerX = lineNode.centerX;
      denominatorNode.top = lineNode.bottom + options.ySpacing;
    };
    marker.denominatorProperty.link(denominatorObserver); // unlink in dispose

    assert && assert(!options.children, 'decoration not supported');
    options.children = [numeratorNode, lineNode, denominatorNode];
    super(options);

    // @public (read-only)
    this.marker = marker;

    // update the marker's color
    const colorObserver = color => {
      lineNode.stroke = color;
      numeratorNode.fill = color;
      denominatorNode.fill = color;
    };
    marker.colorProperty.link(colorObserver); // unlink in dispose

    // @private
    this.disposeMarkerNode = () => {
      marker.numeratorProperty.unlink(numeratorObserver);
      marker.denominatorProperty.unlink(denominatorObserver);
      marker.colorProperty.unlink(colorObserver);
    };
  }

  /**
   * @public
   * @override
   */
  dispose() {
    this.disposeMarkerNode();
    Node.prototype.dispose.call(this);
  }
}
unitRates.register('MarkerNode', MarkerNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZXJnZSIsIlBoZXRGb250IiwiTGluZSIsIk5vZGUiLCJUZXh0IiwidW5pdFJhdGVzIiwiVVJDb25zdGFudHMiLCJVUlV0aWxzIiwiU0hBUkVEX09QVElPTlMiLCJtYXhEZWNpbWFscyIsInRyaW1aZXJvcyIsIk1hcmtlck5vZGUiLCJjb25zdHJ1Y3RvciIsIm1hcmtlciIsIm9wdGlvbnMiLCJ5U3BhY2luZyIsImZvbnQiLCJsaW5lTGVuZ3RoIiwiTUFKT1JfTUFSS0VSX0xFTkdUSCIsImxpbmVXaWR0aCIsIm51bWVyYXRvck9wdGlvbnMiLCJkZW5vbWluYXRvck9wdGlvbnMiLCJsaW5lTm9kZSIsIm51bWVyYXRvck5vZGUiLCJudW1lcmF0b3JPYnNlcnZlciIsIm51bWVyYXRvciIsImFzc2VydCIsImlzTmFOIiwic3RyaW5nIiwibnVtYmVyVG9TdHJpbmciLCJudW1lcmF0b3JQcm9wZXJ0eSIsInZhbHVlIiwiY2VudGVyWCIsImJvdHRvbSIsInRvcCIsImxpbmsiLCJkZW5vbWluYXRvck5vZGUiLCJkZW5vbWluYXRvck9ic2VydmVyIiwiZGVub21pbmF0b3IiLCJkZW5vbWluYXRvclByb3BlcnR5IiwiY2hpbGRyZW4iLCJjb2xvck9ic2VydmVyIiwiY29sb3IiLCJzdHJva2UiLCJmaWxsIiwiY29sb3JQcm9wZXJ0eSIsImRpc3Bvc2VNYXJrZXJOb2RlIiwidW5saW5rIiwiZGlzcG9zZSIsInByb3RvdHlwZSIsImNhbGwiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIk1hcmtlck5vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTYtMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogTWFya2VyIG9uIHRoZSBkb3VibGUgbnVtYmVyIGxpbmUuXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgTWFsbGV5IChQaXhlbFpvb20sIEluYy4pXHJcbiAqL1xyXG5cclxuaW1wb3J0IG1lcmdlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tZXJnZS5qcyc7XHJcbmltcG9ydCBQaGV0Rm9udCBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvUGhldEZvbnQuanMnO1xyXG5pbXBvcnQgeyBMaW5lLCBOb2RlLCBUZXh0IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IHVuaXRSYXRlcyBmcm9tICcuLi8uLi91bml0UmF0ZXMuanMnO1xyXG5pbXBvcnQgVVJDb25zdGFudHMgZnJvbSAnLi4vVVJDb25zdGFudHMuanMnO1xyXG5pbXBvcnQgVVJVdGlscyBmcm9tICcuLi9VUlV0aWxzLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBTSEFSRURfT1BUSU9OUyA9IHtcclxuICBtYXhEZWNpbWFsczogMiwgLy8ge251bWJlcn0gbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXNcclxuICB0cmltWmVyb3M6IGZhbHNlIC8vIHtib29sZWFufSB3aGV0aGVyIHRvIHRyaW0gdHJhaWxpbmcgemVyb3MgaW4gdGhlIGRlY2ltYWwgcGxhY2VzXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJrZXJOb2RlIGV4dGVuZHMgTm9kZSB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtNYXJrZXJ9IG1hcmtlclxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggbWFya2VyLCBvcHRpb25zICkge1xyXG5cclxuICAgIG9wdGlvbnMgPSBtZXJnZSgge1xyXG4gICAgICB5U3BhY2luZzogMSxcclxuICAgICAgZm9udDogbmV3IFBoZXRGb250KCAxMiApLFxyXG4gICAgICBsaW5lTGVuZ3RoOiBVUkNvbnN0YW50cy5NQUpPUl9NQVJLRVJfTEVOR1RILFxyXG4gICAgICBsaW5lV2lkdGg6IDEsXHJcbiAgICAgIG51bWVyYXRvck9wdGlvbnM6IG51bGwsIC8vIHsqfSBvcHRpb25zIHNwZWNpZmljIHRvIHRoZSByYXRlJ3MgbnVtZXJhdG9yLCBzZWUgYmVsb3dcclxuICAgICAgZGVub21pbmF0b3JPcHRpb25zOiBudWxsIC8vIHsqfSBvcHRpb25zIHNwZWNpZmljIHRvIHRoZSByYXRlJ3MgZGVub21pbmF0b3IsIHNlZSBiZWxvd1xyXG4gICAgfSwgb3B0aW9ucyApO1xyXG5cclxuICAgIGNvbnN0IG51bWVyYXRvck9wdGlvbnMgPSBtZXJnZSgge30sIFNIQVJFRF9PUFRJT05TLCBvcHRpb25zLm51bWVyYXRvck9wdGlvbnMgKTtcclxuXHJcbiAgICBjb25zdCBkZW5vbWluYXRvck9wdGlvbnMgPSBtZXJnZSgge30sIFNIQVJFRF9PUFRJT05TLCBvcHRpb25zLmRlbm9taW5hdG9yT3B0aW9ucyApO1xyXG5cclxuICAgIC8vIHZlcnRpY2FsIGxpbmVcclxuICAgIGNvbnN0IGxpbmVOb2RlID0gbmV3IExpbmUoIDAsIDAsIDAsIG9wdGlvbnMubGluZUxlbmd0aCwge1xyXG4gICAgICBsaW5lV2lkdGg6IG9wdGlvbnMubGluZVdpZHRoXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gbnVtZXJhdG9yXHJcbiAgICBjb25zdCBudW1lcmF0b3JOb2RlID0gbmV3IFRleHQoICcnLCB7IGZvbnQ6IG9wdGlvbnMuZm9udCB9ICk7XHJcbiAgICBjb25zdCBudW1lcmF0b3JPYnNlcnZlciA9IG51bWVyYXRvciA9PiB7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoICggdHlwZW9mIG51bWVyYXRvciA9PT0gJ251bWJlcicgKSAmJiAhaXNOYU4oIG51bWVyYXRvciApLCBgaW52YWxpZCBudW1lcmF0b3I6ICR7bnVtZXJhdG9yfWAgKTtcclxuICAgICAgbnVtZXJhdG9yTm9kZS5zdHJpbmcgPSBVUlV0aWxzLm51bWJlclRvU3RyaW5nKCBtYXJrZXIubnVtZXJhdG9yUHJvcGVydHkudmFsdWUsIG51bWVyYXRvck9wdGlvbnMubWF4RGVjaW1hbHMsIG51bWVyYXRvck9wdGlvbnMudHJpbVplcm9zICk7XHJcbiAgICAgIG51bWVyYXRvck5vZGUuY2VudGVyWCA9IGxpbmVOb2RlLmNlbnRlclg7XHJcbiAgICAgIG51bWVyYXRvck5vZGUuYm90dG9tID0gbGluZU5vZGUudG9wIC0gb3B0aW9ucy55U3BhY2luZztcclxuICAgIH07XHJcbiAgICBtYXJrZXIubnVtZXJhdG9yUHJvcGVydHkubGluayggbnVtZXJhdG9yT2JzZXJ2ZXIgKTsgLy8gdW5saW5rIGluIGRpc3Bvc2VcclxuXHJcbiAgICAvLyBkZW5vbWluYXRvclxyXG4gICAgY29uc3QgZGVub21pbmF0b3JOb2RlID0gbmV3IFRleHQoICcnLCB7IGZvbnQ6IG9wdGlvbnMuZm9udCB9ICk7XHJcbiAgICBjb25zdCBkZW5vbWluYXRvck9ic2VydmVyID0gZGVub21pbmF0b3IgPT4ge1xyXG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCAoIHR5cGVvZiBkZW5vbWluYXRvciA9PT0gJ251bWJlcicgKSAmJiAhaXNOYU4oIGRlbm9taW5hdG9yICksIGBpbnZhbGlkIGRlbm9taW5hdG9yOiAke2Rlbm9taW5hdG9yfWAgKTtcclxuICAgICAgZGVub21pbmF0b3JOb2RlLnN0cmluZyA9IFVSVXRpbHMubnVtYmVyVG9TdHJpbmcoIG1hcmtlci5kZW5vbWluYXRvclByb3BlcnR5LnZhbHVlLCBkZW5vbWluYXRvck9wdGlvbnMubWF4RGVjaW1hbHMsIGRlbm9taW5hdG9yT3B0aW9ucy50cmltWmVyb3MgKTtcclxuICAgICAgZGVub21pbmF0b3JOb2RlLmNlbnRlclggPSBsaW5lTm9kZS5jZW50ZXJYO1xyXG4gICAgICBkZW5vbWluYXRvck5vZGUudG9wID0gbGluZU5vZGUuYm90dG9tICsgb3B0aW9ucy55U3BhY2luZztcclxuICAgIH07XHJcbiAgICBtYXJrZXIuZGVub21pbmF0b3JQcm9wZXJ0eS5saW5rKCBkZW5vbWluYXRvck9ic2VydmVyICk7IC8vIHVubGluayBpbiBkaXNwb3NlXHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggIW9wdGlvbnMuY2hpbGRyZW4sICdkZWNvcmF0aW9uIG5vdCBzdXBwb3J0ZWQnICk7XHJcbiAgICBvcHRpb25zLmNoaWxkcmVuID0gWyBudW1lcmF0b3JOb2RlLCBsaW5lTm9kZSwgZGVub21pbmF0b3JOb2RlIF07XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyBAcHVibGljIChyZWFkLW9ubHkpXHJcbiAgICB0aGlzLm1hcmtlciA9IG1hcmtlcjtcclxuXHJcbiAgICAvLyB1cGRhdGUgdGhlIG1hcmtlcidzIGNvbG9yXHJcbiAgICBjb25zdCBjb2xvck9ic2VydmVyID0gY29sb3IgPT4ge1xyXG4gICAgICBsaW5lTm9kZS5zdHJva2UgPSBjb2xvcjtcclxuICAgICAgbnVtZXJhdG9yTm9kZS5maWxsID0gY29sb3I7XHJcbiAgICAgIGRlbm9taW5hdG9yTm9kZS5maWxsID0gY29sb3I7XHJcbiAgICB9O1xyXG4gICAgbWFya2VyLmNvbG9yUHJvcGVydHkubGluayggY29sb3JPYnNlcnZlciApOyAvLyB1bmxpbmsgaW4gZGlzcG9zZVxyXG5cclxuICAgIC8vIEBwcml2YXRlXHJcbiAgICB0aGlzLmRpc3Bvc2VNYXJrZXJOb2RlID0gKCkgPT4ge1xyXG4gICAgICBtYXJrZXIubnVtZXJhdG9yUHJvcGVydHkudW5saW5rKCBudW1lcmF0b3JPYnNlcnZlciApO1xyXG4gICAgICBtYXJrZXIuZGVub21pbmF0b3JQcm9wZXJ0eS51bmxpbmsoIGRlbm9taW5hdG9yT2JzZXJ2ZXIgKTtcclxuICAgICAgbWFya2VyLmNvbG9yUHJvcGVydHkudW5saW5rKCBjb2xvck9ic2VydmVyICk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBvdmVycmlkZVxyXG4gICAqL1xyXG4gIGRpc3Bvc2UoKSB7XHJcbiAgICB0aGlzLmRpc3Bvc2VNYXJrZXJOb2RlKCk7XHJcbiAgICBOb2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwoIHRoaXMgKTtcclxuICB9XHJcbn1cclxuXHJcbnVuaXRSYXRlcy5yZWdpc3RlciggJ01hcmtlck5vZGUnLCBNYXJrZXJOb2RlICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLEtBQUssTUFBTSxtQ0FBbUM7QUFDckQsT0FBT0MsUUFBUSxNQUFNLHlDQUF5QztBQUM5RCxTQUFTQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxRQUFRLG1DQUFtQztBQUNwRSxPQUFPQyxTQUFTLE1BQU0sb0JBQW9CO0FBQzFDLE9BQU9DLFdBQVcsTUFBTSxtQkFBbUI7QUFDM0MsT0FBT0MsT0FBTyxNQUFNLGVBQWU7O0FBRW5DO0FBQ0EsTUFBTUMsY0FBYyxHQUFHO0VBQ3JCQyxXQUFXLEVBQUUsQ0FBQztFQUFFO0VBQ2hCQyxTQUFTLEVBQUUsS0FBSyxDQUFDO0FBQ25CLENBQUM7O0FBRUQsZUFBZSxNQUFNQyxVQUFVLFNBQVNSLElBQUksQ0FBQztFQUMzQztBQUNGO0FBQ0E7QUFDQTtFQUNFUyxXQUFXQSxDQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRztJQUU3QkEsT0FBTyxHQUFHZCxLQUFLLENBQUU7TUFDZmUsUUFBUSxFQUFFLENBQUM7TUFDWEMsSUFBSSxFQUFFLElBQUlmLFFBQVEsQ0FBRSxFQUFHLENBQUM7TUFDeEJnQixVQUFVLEVBQUVYLFdBQVcsQ0FBQ1ksbUJBQW1CO01BQzNDQyxTQUFTLEVBQUUsQ0FBQztNQUNaQyxnQkFBZ0IsRUFBRSxJQUFJO01BQUU7TUFDeEJDLGtCQUFrQixFQUFFLElBQUksQ0FBQztJQUMzQixDQUFDLEVBQUVQLE9BQVEsQ0FBQztJQUVaLE1BQU1NLGdCQUFnQixHQUFHcEIsS0FBSyxDQUFFLENBQUMsQ0FBQyxFQUFFUSxjQUFjLEVBQUVNLE9BQU8sQ0FBQ00sZ0JBQWlCLENBQUM7SUFFOUUsTUFBTUMsa0JBQWtCLEdBQUdyQixLQUFLLENBQUUsQ0FBQyxDQUFDLEVBQUVRLGNBQWMsRUFBRU0sT0FBTyxDQUFDTyxrQkFBbUIsQ0FBQzs7SUFF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