// Copyright 2016-2023, University of Colorado Boulder

/**
 * View components that are specific to a scene in the 'Shopping Lab' screen.
 * Adds a Rate accordion box to the base type.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import merge from '../../../../phet-core/js/merge.js';
import URConstants from '../../common/URConstants.js';
import RateAccordionBox from '../../common/view/RateAccordionBox.js';
import BaseShoppingSceneNode from '../../shopping/view/BaseShoppingSceneNode.js';
import unitRates from '../../unitRates.js';
export default class ShoppingLabSceneNode extends BaseShoppingSceneNode {
  /**
   * @param {ShoppingScene} shoppingScene
   * @param {Bounds2} layoutBounds
   * @param {KeypadLayer} keypadLayer
   * @param {ShoppingViewProperties} viewProperties
   * @param {Object} [options]
   */
  constructor(shoppingScene, layoutBounds, keypadLayer, viewProperties, options) {
    options = merge({
      extraCostDecimalVisible: true // {boolean} add an extra decimal place to cost on the scale
    }, options);
    super(shoppingScene, layoutBounds, keypadLayer, viewProperties, options);

    // Rate accordion box, dispose required
    const rateAccordionBox = new RateAccordionBox(shoppingScene.rate, {
      numeratorRange: URConstants.COST_RANGE,
      denominatorRange: URConstants.QUANTITY_RANGE,
      numeratorUnits: shoppingScene.numeratorOptions.axisLabel,
      // matches the axis of the double number line
      numeratorPickerColor: shoppingScene.numeratorOptions.pickerColor,
      denominatorUnits: shoppingScene.denominatorOptions.axisLabel,
      // matches the axis of the double number line
      denominatorPickerColor: shoppingScene.denominatorOptions.pickerColor,
      expandedProperty: viewProperties.rateExpandedProperty,
      left: layoutBounds.left + URConstants.SCREEN_X_MARGIN,
      bottom: layoutBounds.bottom - 100
    });
    this.addChild(rateAccordionBox);
    rateAccordionBox.moveToBack();

    // @private
    this.disposeShoppingLabSceneNode = () => {
      rateAccordionBox.dispose();
    };
  }

  /**
   * @public
   * @override
   */
  dispose() {
    this.disposeShoppingLabSceneNode();
    super.dispose();
  }
}
unitRates.register('ShoppingLabSceneNode', ShoppingLabSceneNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZXJnZSIsIlVSQ29uc3RhbnRzIiwiUmF0ZUFjY29yZGlvbkJveCIsIkJhc2VTaG9wcGluZ1NjZW5lTm9kZSIsInVuaXRSYXRlcyIsIlNob3BwaW5nTGFiU2NlbmVOb2RlIiwiY29uc3RydWN0b3IiLCJzaG9wcGluZ1NjZW5lIiwibGF5b3V0Qm91bmRzIiwia2V5cGFkTGF5ZXIiLCJ2aWV3UHJvcGVydGllcyIsIm9wdGlvbnMiLCJleHRyYUNvc3REZWNpbWFsVmlzaWJsZSIsInJhdGVBY2NvcmRpb25Cb3giLCJyYXRlIiwibnVtZXJhdG9yUmFuZ2UiLCJDT1NUX1JBTkdFIiwiZGVub21pbmF0b3JSYW5nZSIsIlFVQU5USVRZX1JBTkdFIiwibnVtZXJhdG9yVW5pdHMiLCJudW1lcmF0b3JPcHRpb25zIiwiYXhpc0xhYmVsIiwibnVtZXJhdG9yUGlja2VyQ29sb3IiLCJwaWNrZXJDb2xvciIsImRlbm9taW5hdG9yVW5pdHMiLCJkZW5vbWluYXRvck9wdGlvbnMiLCJkZW5vbWluYXRvclBpY2tlckNvbG9yIiwiZXhwYW5kZWRQcm9wZXJ0eSIsInJhdGVFeHBhbmRlZFByb3BlcnR5IiwibGVmdCIsIlNDUkVFTl9YX01BUkdJTiIsImJvdHRvbSIsImFkZENoaWxkIiwibW92ZVRvQmFjayIsImRpc3Bvc2VTaG9wcGluZ0xhYlNjZW5lTm9kZSIsImRpc3Bvc2UiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlNob3BwaW5nTGFiU2NlbmVOb2RlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE2LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFZpZXcgY29tcG9uZW50cyB0aGF0IGFyZSBzcGVjaWZpYyB0byBhIHNjZW5lIGluIHRoZSAnU2hvcHBpbmcgTGFiJyBzY3JlZW4uXHJcbiAqIEFkZHMgYSBSYXRlIGFjY29yZGlvbiBib3ggdG8gdGhlIGJhc2UgdHlwZS5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IFVSQ29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9VUkNvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBSYXRlQWNjb3JkaW9uQm94IGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L1JhdGVBY2NvcmRpb25Cb3guanMnO1xyXG5pbXBvcnQgQmFzZVNob3BwaW5nU2NlbmVOb2RlIGZyb20gJy4uLy4uL3Nob3BwaW5nL3ZpZXcvQmFzZVNob3BwaW5nU2NlbmVOb2RlLmpzJztcclxuaW1wb3J0IHVuaXRSYXRlcyBmcm9tICcuLi8uLi91bml0UmF0ZXMuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hvcHBpbmdMYWJTY2VuZU5vZGUgZXh0ZW5kcyBCYXNlU2hvcHBpbmdTY2VuZU5vZGUge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge1Nob3BwaW5nU2NlbmV9IHNob3BwaW5nU2NlbmVcclxuICAgKiBAcGFyYW0ge0JvdW5kczJ9IGxheW91dEJvdW5kc1xyXG4gICAqIEBwYXJhbSB7S2V5cGFkTGF5ZXJ9IGtleXBhZExheWVyXHJcbiAgICogQHBhcmFtIHtTaG9wcGluZ1ZpZXdQcm9wZXJ0aWVzfSB2aWV3UHJvcGVydGllc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvciggc2hvcHBpbmdTY2VuZSwgbGF5b3V0Qm91bmRzLCBrZXlwYWRMYXllciwgdmlld1Byb3BlcnRpZXMsIG9wdGlvbnMgKSB7XHJcblxyXG4gICAgb3B0aW9ucyA9IG1lcmdlKCB7XHJcbiAgICAgIGV4dHJhQ29zdERlY2ltYWxWaXNpYmxlOiB0cnVlIC8vIHtib29sZWFufSBhZGQgYW4gZXh0cmEgZGVjaW1hbCBwbGFjZSB0byBjb3N0IG9uIHRoZSBzY2FsZVxyXG4gICAgfSwgb3B0aW9ucyApO1xyXG5cclxuICAgIHN1cGVyKCBzaG9wcGluZ1NjZW5lLCBsYXlvdXRCb3VuZHMsIGtleXBhZExheWVyLCB2aWV3UHJvcGVydGllcywgb3B0aW9ucyApO1xyXG5cclxuICAgIC8vIFJhdGUgYWNjb3JkaW9uIGJveCwgZGlzcG9zZSByZXF1aXJlZFxyXG4gICAgY29uc3QgcmF0ZUFjY29yZGlvbkJveCA9IG5ldyBSYXRlQWNjb3JkaW9uQm94KCBzaG9wcGluZ1NjZW5lLnJhdGUsIHtcclxuICAgICAgbnVtZXJhdG9yUmFuZ2U6IFVSQ29uc3RhbnRzLkNPU1RfUkFOR0UsXHJcbiAgICAgIGRlbm9taW5hdG9yUmFuZ2U6IFVSQ29uc3RhbnRzLlFVQU5USVRZX1JBTkdFLFxyXG4gICAgICBudW1lcmF0b3JVbml0czogc2hvcHBpbmdTY2VuZS5udW1lcmF0b3JPcHRpb25zLmF4aXNMYWJlbCwgIC8vIG1hdGNoZXMgdGhlIGF4aXMgb2YgdGhlIGRvdWJsZSBudW1iZXIgbGluZVxyXG4gICAgICBudW1lcmF0b3JQaWNrZXJDb2xvcjogc2hvcHBpbmdTY2VuZS5udW1lcmF0b3JPcHRpb25zLnBpY2tlckNvbG9yLFxyXG4gICAgICBkZW5vbWluYXRvclVuaXRzOiBzaG9wcGluZ1NjZW5lLmRlbm9taW5hdG9yT3B0aW9ucy5heGlzTGFiZWwsICAvLyBtYXRjaGVzIHRoZSBheGlzIG9mIHRoZSBkb3VibGUgbnVtYmVyIGxpbmVcclxuICAgICAgZGVub21pbmF0b3JQaWNrZXJDb2xvcjogc2hvcHBpbmdTY2VuZS5kZW5vbWluYXRvck9wdGlvbnMucGlja2VyQ29sb3IsXHJcbiAgICAgIGV4cGFuZGVkUHJvcGVydHk6IHZpZXdQcm9wZXJ0aWVzLnJhdGVFeHBhbmRlZFByb3BlcnR5LFxyXG4gICAgICBsZWZ0OiBsYXlvdXRCb3VuZHMubGVmdCArIFVSQ29uc3RhbnRzLlNDUkVFTl9YX01BUkdJTixcclxuICAgICAgYm90dG9tOiBsYXlvdXRCb3VuZHMuYm90dG9tIC0gMTAwXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCByYXRlQWNjb3JkaW9uQm94ICk7XHJcbiAgICByYXRlQWNjb3JkaW9uQm94Lm1vdmVUb0JhY2soKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZVxyXG4gICAgdGhpcy5kaXNwb3NlU2hvcHBpbmdMYWJTY2VuZU5vZGUgPSAoKSA9PiB7XHJcbiAgICAgIHJhdGVBY2NvcmRpb25Cb3guZGlzcG9zZSgpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAb3ZlcnJpZGVcclxuICAgKi9cclxuICBkaXNwb3NlKCkge1xyXG4gICAgdGhpcy5kaXNwb3NlU2hvcHBpbmdMYWJTY2VuZU5vZGUoKTtcclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICB9XHJcblxyXG59XHJcblxyXG51bml0UmF0ZXMucmVnaXN0ZXIoICdTaG9wcGluZ0xhYlNjZW5lTm9kZScsIFNob3BwaW5nTGFiU2NlbmVOb2RlICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsS0FBSyxNQUFNLG1DQUFtQztBQUNyRCxPQUFPQyxXQUFXLE1BQU0sNkJBQTZCO0FBQ3JELE9BQU9DLGdCQUFnQixNQUFNLHVDQUF1QztBQUNwRSxPQUFPQyxxQkFBcUIsTUFBTSw4Q0FBOEM7QUFDaEYsT0FBT0MsU0FBUyxNQUFNLG9CQUFvQjtBQUUxQyxlQUFlLE1BQU1DLG9CQUFvQixTQUFTRixxQkFBcUIsQ0FBQztFQUV0RTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFRyxXQUFXQSxDQUFFQyxhQUFhLEVBQUVDLFlBQVksRUFBRUMsV0FBVyxFQUFFQyxjQUFjLEVBQUVDLE9BQU8sRUFBRztJQUUvRUEsT0FBTyxHQUFHWCxLQUFLLENBQUU7TUFDZlksdUJBQXVCLEVBQUUsSUFBSSxDQUFDO0lBQ2hDLENBQUMsRUFBRUQsT0FBUSxDQUFDO0lBRVosS0FBSyxDQUFFSixhQUFhLEVBQUVDLFlBQVksRUFBRUMsV0FBVyxFQUFFQyxjQUFjLEVBQUVDLE9BQVEsQ0FBQzs7SUFFMUU7SUFDQSxNQUFNRSxnQkFBZ0IsR0FBRyxJQUFJWCxnQkFBZ0IsQ0FBRUssYUFBYSxDQUFDTyxJQUFJLEVBQUU7TUFDakVDLGNBQWMsRUFBRWQsV0FBVyxDQUFDZSxVQUFVO01BQ3RDQyxnQkFBZ0IsRUFBRWhCLFdBQVcsQ0FBQ2lCLGNBQWM7TUFDNUNDLGNBQWMsRUFBRVosYUFBYSxDQUFDYSxnQkFBZ0IsQ0FBQ0MsU0FBUztNQUFHO01BQzNEQyxvQkFBb0IsRUFBRWYsYUFBYSxDQUFDYSxnQkFBZ0IsQ0FBQ0csV0FBVztNQUNoRUMsZ0JBQWdCLEVBQUVqQixhQUFhLENBQUNrQixrQkFBa0IsQ0FBQ0osU0FBUztNQUFHO01BQy9ESyxzQkFBc0IsRUFBRW5CLGFBQWEsQ0FBQ2tCLGtCQUFrQixDQUFDRixXQUFXO01BQ3BFSSxnQkFBZ0IsRUFBRWpCLGNBQWMsQ0FBQ2tCLG9CQUFvQjtNQUNyREMsSUFBSSxFQUFFckIsWUFBWSxDQUFDcUIsSUFBSSxHQUFHNUIsV0FBVyxDQUFDNkIsZUFBZTtNQUNyREMsTUFBTSxFQUFFdkIsWUFBWSxDQUFDdUIsTUFBTSxHQUFHO0lBQ2hDLENBQUUsQ0FBQztJQUNILElBQUksQ0FBQ0MsUUFBUSxDQUFFbkIsZ0JBQWlCLENBQUM7SUFDakNBLGdCQUFnQixDQUFDb0IsVUFBVSxDQUFDLENBQUM7O0lBRTdCO0lBQ0EsSUFBSSxDQUFDQywyQkFBMkIsR0FBRyxNQUFNO01BQ3ZDckIsZ0JBQWdCLENBQUNzQixPQUFPLENBQUMsQ0FBQztJQUM1QixDQUFDO0VBQ0g7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7RUFDRUEsT0FBT0EsQ0FBQSxFQUFHO0lBQ1IsSUFBSSxDQUFDRCwyQkFBMkIsQ0FBQyxDQUFDO0lBQ2xDLEtBQUssQ0FBQ0MsT0FBTyxDQUFDLENBQUM7RUFDakI7QUFFRjtBQUVBL0IsU0FBUyxDQUFDZ0MsUUFBUSxDQUFFLHNCQUFzQixFQUFFL0Isb0JBQXFCLENBQUMifQ==