// Copyright 2022-2023, University of Colorado Boulder

/**
 * NumberSuiteCommonPreferences is the model for sim-specific preferences for all Number Suite sims, accessed via the
 * Preferences dialog. These preferences are global, and affect all screens.
 *
 * @author Chris Klusendorf (PhET Interactive Simulations)
 */

import BooleanProperty from '../../../../axon/js/BooleanProperty.js';
import numberSuiteCommon from '../../numberSuiteCommon.js';
import NumberSuiteCommonQueryParameters from '../NumberSuiteCommonQueryParameters.js';
import Property from '../../../../axon/js/Property.js';
import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import localeProperty, { availableRuntimeLocales } from '../../../../joist/js/i18n/localeProperty.js';

//TODO https://github.com/phetsims/number-suite-common/issues/18 type string map, perhaps getStringModule.TStringModule?
//TODO https://github.com/phetsims/number-suite-common/issues/18 replace any
// eslint-disable-next-line @typescript-eslint/no-explicit-any
class NumberSuiteCommonPreferences {
  // preference Properties directly controlled by UI

  // whether a second locale should be shown. A toggle switch is added on screens that support two locales when true.

  // the second locale

  // whether the Ones are included on the 'Lab' Screen

  // whether the sim speaks the model value of screens that use speech synthesis when the data or voice changes

  // whether the sim is using its primary locale or a second locale on screens that support two locales

  // the voice of the primary locale

  // the voice of the secondary locale

  // helper Properties derived from preference Properties
  // the set of sim strings for the current secondLocale
  // the 'all' link of this simulation
  constructor(allUrl) {
    // if a valid second locale was provided via a query parameter, display the second locale on sim startup
    this.showSecondLocaleProperty = new BooleanProperty(!!NumberSuiteCommonQueryParameters.secondLocale);

    // if a secondLocale was provided via a query parameter, use that, otherwise default to the primaryLocale
    this.secondLocaleProperty = new Property(NumberSuiteCommonQueryParameters.secondLocale || localeProperty.value, {
      validValues: availableRuntimeLocales
    });
    this.showLabOnesProperty = new BooleanProperty(NumberSuiteCommonQueryParameters.showLabOnes);
    this.autoHearEnabledProperty = new BooleanProperty(NumberSuiteCommonQueryParameters.autoHear);
    this.isPrimaryLocaleProperty = new BooleanProperty(true);
    this.primaryVoiceProperty = new Property(null);
    this.secondVoiceProperty = new Property(null);
    this.secondLocaleStringsProperty = new DerivedProperty([this.secondLocaleProperty], secondLocale => {
      return phet.chipper.strings[secondLocale];
    });
    this.allUrl = allUrl;
  }
  dispose() {
    assert && assert(false, 'dispose is not supported, exists for the lifetime of the sim');
  }
}
numberSuiteCommon.register('NumberSuiteCommonPreferences', NumberSuiteCommonPreferences);
export default NumberSuiteCommonPreferences;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29sZWFuUHJvcGVydHkiLCJudW1iZXJTdWl0ZUNvbW1vbiIsIk51bWJlclN1aXRlQ29tbW9uUXVlcnlQYXJhbWV0ZXJzIiwiUHJvcGVydHkiLCJEZXJpdmVkUHJvcGVydHkiLCJsb2NhbGVQcm9wZXJ0eSIsImF2YWlsYWJsZVJ1bnRpbWVMb2NhbGVzIiwiTnVtYmVyU3VpdGVDb21tb25QcmVmZXJlbmNlcyIsImNvbnN0cnVjdG9yIiwiYWxsVXJsIiwic2hvd1NlY29uZExvY2FsZVByb3BlcnR5Iiwic2Vjb25kTG9jYWxlIiwic2Vjb25kTG9jYWxlUHJvcGVydHkiLCJ2YWx1ZSIsInZhbGlkVmFsdWVzIiwic2hvd0xhYk9uZXNQcm9wZXJ0eSIsInNob3dMYWJPbmVzIiwiYXV0b0hlYXJFbmFibGVkUHJvcGVydHkiLCJhdXRvSGVhciIsImlzUHJpbWFyeUxvY2FsZVByb3BlcnR5IiwicHJpbWFyeVZvaWNlUHJvcGVydHkiLCJzZWNvbmRWb2ljZVByb3BlcnR5Iiwic2Vjb25kTG9jYWxlU3RyaW5nc1Byb3BlcnR5IiwicGhldCIsImNoaXBwZXIiLCJzdHJpbmdzIiwiZGlzcG9zZSIsImFzc2VydCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiTnVtYmVyU3VpdGVDb21tb25QcmVmZXJlbmNlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMi0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBOdW1iZXJTdWl0ZUNvbW1vblByZWZlcmVuY2VzIGlzIHRoZSBtb2RlbCBmb3Igc2ltLXNwZWNpZmljIHByZWZlcmVuY2VzIGZvciBhbGwgTnVtYmVyIFN1aXRlIHNpbXMsIGFjY2Vzc2VkIHZpYSB0aGVcclxuICogUHJlZmVyZW5jZXMgZGlhbG9nLiBUaGVzZSBwcmVmZXJlbmNlcyBhcmUgZ2xvYmFsLCBhbmQgYWZmZWN0IGFsbCBzY3JlZW5zLlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIEtsdXNlbmRvcmYgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IEJvb2xlYW5Qcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Jvb2xlYW5Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBudW1iZXJTdWl0ZUNvbW1vbiBmcm9tICcuLi8uLi9udW1iZXJTdWl0ZUNvbW1vbi5qcyc7XHJcbmltcG9ydCBOdW1iZXJTdWl0ZUNvbW1vblF1ZXJ5UGFyYW1ldGVycyBmcm9tICcuLi9OdW1iZXJTdWl0ZUNvbW1vblF1ZXJ5UGFyYW1ldGVycy5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IERlcml2ZWRQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL0Rlcml2ZWRQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IGxvY2FsZVByb3BlcnR5LCB7IGF2YWlsYWJsZVJ1bnRpbWVMb2NhbGVzLCBMb2NhbGUgfSBmcm9tICcuLi8uLi8uLi8uLi9qb2lzdC9qcy9pMThuL2xvY2FsZVByb3BlcnR5LmpzJztcclxuXHJcbi8vVE9ETyBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvbnVtYmVyLXN1aXRlLWNvbW1vbi9pc3N1ZXMvMTggdHlwZSBzdHJpbmcgbWFwLCBwZXJoYXBzIGdldFN0cmluZ01vZHVsZS5UU3RyaW5nTW9kdWxlP1xyXG4vL1RPRE8gaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL251bWJlci1zdWl0ZS1jb21tb24vaXNzdWVzLzE4IHJlcGxhY2UgYW55XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbmV4cG9ydCB0eXBlIFNlY29uZExvY2FsZVN0cmluZ3MgPSBhbnk7XHJcblxyXG5jbGFzcyBOdW1iZXJTdWl0ZUNvbW1vblByZWZlcmVuY2VzIHtcclxuXHJcbiAgLy8gcHJlZmVyZW5jZSBQcm9wZXJ0aWVzIGRpcmVjdGx5IGNvbnRyb2xsZWQgYnkgVUlcclxuXHJcbiAgLy8gd2hldGhlciBhIHNlY29uZCBsb2NhbGUgc2hvdWxkIGJlIHNob3duLiBBIHRvZ2dsZSBzd2l0Y2ggaXMgYWRkZWQgb24gc2NyZWVucyB0aGF0IHN1cHBvcnQgdHdvIGxvY2FsZXMgd2hlbiB0cnVlLlxyXG4gIHB1YmxpYyByZWFkb25seSBzaG93U2Vjb25kTG9jYWxlUHJvcGVydHk6IFByb3BlcnR5PGJvb2xlYW4+O1xyXG5cclxuICAvLyB0aGUgc2Vjb25kIGxvY2FsZVxyXG4gIHB1YmxpYyByZWFkb25seSBzZWNvbmRMb2NhbGVQcm9wZXJ0eTogUHJvcGVydHk8TG9jYWxlPjtcclxuXHJcbiAgLy8gd2hldGhlciB0aGUgT25lcyBhcmUgaW5jbHVkZWQgb24gdGhlICdMYWInIFNjcmVlblxyXG4gIHB1YmxpYyByZWFkb25seSBzaG93TGFiT25lc1Byb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPjtcclxuXHJcbiAgLy8gd2hldGhlciB0aGUgc2ltIHNwZWFrcyB0aGUgbW9kZWwgdmFsdWUgb2Ygc2NyZWVucyB0aGF0IHVzZSBzcGVlY2ggc3ludGhlc2lzIHdoZW4gdGhlIGRhdGEgb3Igdm9pY2UgY2hhbmdlc1xyXG4gIHB1YmxpYyByZWFkb25seSBhdXRvSGVhckVuYWJsZWRQcm9wZXJ0eTogUHJvcGVydHk8Ym9vbGVhbj47XHJcblxyXG4gIC8vIHdoZXRoZXIgdGhlIHNpbSBpcyB1c2luZyBpdHMgcHJpbWFyeSBsb2NhbGUgb3IgYSBzZWNvbmQgbG9jYWxlIG9uIHNjcmVlbnMgdGhhdCBzdXBwb3J0IHR3byBsb2NhbGVzXHJcbiAgcHVibGljIHJlYWRvbmx5IGlzUHJpbWFyeUxvY2FsZVByb3BlcnR5OiBQcm9wZXJ0eTxib29sZWFuPjtcclxuXHJcbiAgLy8gdGhlIHZvaWNlIG9mIHRoZSBwcmltYXJ5IGxvY2FsZVxyXG4gIHB1YmxpYyByZWFkb25seSBwcmltYXJ5Vm9pY2VQcm9wZXJ0eTogUHJvcGVydHk8U3BlZWNoU3ludGhlc2lzVm9pY2UgfCBudWxsPjtcclxuXHJcbiAgLy8gdGhlIHZvaWNlIG9mIHRoZSBzZWNvbmRhcnkgbG9jYWxlXHJcbiAgcHVibGljIHJlYWRvbmx5IHNlY29uZFZvaWNlUHJvcGVydHk6IFByb3BlcnR5PFNwZWVjaFN5bnRoZXNpc1ZvaWNlIHwgbnVsbD47XHJcblxyXG4gIC8vIGhlbHBlciBQcm9wZXJ0aWVzIGRlcml2ZWQgZnJvbSBwcmVmZXJlbmNlIFByb3BlcnRpZXNcclxuXHJcbiAgLy8gdGhlIHNldCBvZiBzaW0gc3RyaW5ncyBmb3IgdGhlIGN1cnJlbnQgc2Vjb25kTG9jYWxlXHJcbiAgcHVibGljIHJlYWRvbmx5IHNlY29uZExvY2FsZVN0cmluZ3NQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8U2Vjb25kTG9jYWxlU3RyaW5ncz47XHJcblxyXG4gIC8vIHRoZSAnYWxsJyBsaW5rIG9mIHRoaXMgc2ltdWxhdGlvblxyXG4gIHB1YmxpYyByZWFkb25seSBhbGxVcmw6IHN0cmluZztcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBhbGxVcmw6IHN0cmluZyApIHtcclxuXHJcbiAgICAvLyBpZiBhIHZhbGlkIHNlY29uZCBsb2NhbGUgd2FzIHByb3ZpZGVkIHZpYSBhIHF1ZXJ5IHBhcmFtZXRlciwgZGlzcGxheSB0aGUgc2Vjb25kIGxvY2FsZSBvbiBzaW0gc3RhcnR1cFxyXG4gICAgdGhpcy5zaG93U2Vjb25kTG9jYWxlUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5KCAhIU51bWJlclN1aXRlQ29tbW9uUXVlcnlQYXJhbWV0ZXJzLnNlY29uZExvY2FsZSApO1xyXG5cclxuICAgIC8vIGlmIGEgc2Vjb25kTG9jYWxlIHdhcyBwcm92aWRlZCB2aWEgYSBxdWVyeSBwYXJhbWV0ZXIsIHVzZSB0aGF0LCBvdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgcHJpbWFyeUxvY2FsZVxyXG4gICAgdGhpcy5zZWNvbmRMb2NhbGVQcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eTxMb2NhbGU+KCBOdW1iZXJTdWl0ZUNvbW1vblF1ZXJ5UGFyYW1ldGVycy5zZWNvbmRMb2NhbGUgYXMgTG9jYWxlIHx8IGxvY2FsZVByb3BlcnR5LnZhbHVlLCB7XHJcbiAgICAgIHZhbGlkVmFsdWVzOiBhdmFpbGFibGVSdW50aW1lTG9jYWxlc1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuc2hvd0xhYk9uZXNQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIE51bWJlclN1aXRlQ29tbW9uUXVlcnlQYXJhbWV0ZXJzLnNob3dMYWJPbmVzICk7XHJcblxyXG4gICAgdGhpcy5hdXRvSGVhckVuYWJsZWRQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIE51bWJlclN1aXRlQ29tbW9uUXVlcnlQYXJhbWV0ZXJzLmF1dG9IZWFyICk7XHJcblxyXG4gICAgdGhpcy5pc1ByaW1hcnlMb2NhbGVQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHkoIHRydWUgKTtcclxuXHJcbiAgICB0aGlzLnByaW1hcnlWb2ljZVByb3BlcnR5ID0gbmV3IFByb3BlcnR5PFNwZWVjaFN5bnRoZXNpc1ZvaWNlIHwgbnVsbD4oIG51bGwgKTtcclxuXHJcbiAgICB0aGlzLnNlY29uZFZvaWNlUHJvcGVydHkgPSBuZXcgUHJvcGVydHk8U3BlZWNoU3ludGhlc2lzVm9pY2UgfCBudWxsPiggbnVsbCApO1xyXG5cclxuICAgIHRoaXMuc2Vjb25kTG9jYWxlU3RyaW5nc1Byb3BlcnR5ID0gbmV3IERlcml2ZWRQcm9wZXJ0eSggWyB0aGlzLnNlY29uZExvY2FsZVByb3BlcnR5IF0sIHNlY29uZExvY2FsZSA9PiB7XHJcbiAgICAgIHJldHVybiBwaGV0LmNoaXBwZXIuc3RyaW5nc1sgc2Vjb25kTG9jYWxlIF07XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5hbGxVcmwgPSBhbGxVcmw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGZhbHNlLCAnZGlzcG9zZSBpcyBub3Qgc3VwcG9ydGVkLCBleGlzdHMgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgc2ltJyApO1xyXG4gIH1cclxufVxyXG5cclxubnVtYmVyU3VpdGVDb21tb24ucmVnaXN0ZXIoICdOdW1iZXJTdWl0ZUNvbW1vblByZWZlcmVuY2VzJywgTnVtYmVyU3VpdGVDb21tb25QcmVmZXJlbmNlcyApO1xyXG5leHBvcnQgZGVmYXVsdCBOdW1iZXJTdWl0ZUNvbW1vblByZWZlcmVuY2VzOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLGVBQWUsTUFBTSx3Q0FBd0M7QUFDcEUsT0FBT0MsaUJBQWlCLE1BQU0sNEJBQTRCO0FBQzFELE9BQU9DLGdDQUFnQyxNQUFNLHdDQUF3QztBQUNyRixPQUFPQyxRQUFRLE1BQU0saUNBQWlDO0FBQ3RELE9BQU9DLGVBQWUsTUFBTSx3Q0FBd0M7QUFFcEUsT0FBT0MsY0FBYyxJQUFJQyx1QkFBdUIsUUFBZ0IsNkNBQTZDOztBQUU3RztBQUNBO0FBQ0E7QUFHQSxNQUFNQyw0QkFBNEIsQ0FBQztFQUVqQzs7RUFFQTs7RUFHQTs7RUFHQTs7RUFHQTs7RUFHQTs7RUFHQTs7RUFHQTs7RUFHQTtFQUVBO0VBR0E7RUFHT0MsV0FBV0EsQ0FBRUMsTUFBYyxFQUFHO0lBRW5DO0lBQ0EsSUFBSSxDQUFDQyx3QkFBd0IsR0FBRyxJQUFJVixlQUFlLENBQUUsQ0FBQyxDQUFDRSxnQ0FBZ0MsQ0FBQ1MsWUFBYSxDQUFDOztJQUV0RztJQUNBLElBQUksQ0FBQ0Msb0JBQW9CLEdBQUcsSUFBSVQsUUFBUSxDQUFVRCxnQ0FBZ0MsQ0FBQ1MsWUFBWSxJQUFjTixjQUFjLENBQUNRLEtBQUssRUFBRTtNQUNqSUMsV0FBVyxFQUFFUjtJQUNmLENBQUUsQ0FBQztJQUVILElBQUksQ0FBQ1MsbUJBQW1CLEdBQUcsSUFBSWYsZUFBZSxDQUFFRSxnQ0FBZ0MsQ0FBQ2MsV0FBWSxDQUFDO0lBRTlGLElBQUksQ0FBQ0MsdUJBQXVCLEdBQUcsSUFBSWpCLGVBQWUsQ0FBRUUsZ0NBQWdDLENBQUNnQixRQUFTLENBQUM7SUFFL0YsSUFBSSxDQUFDQyx1QkFBdUIsR0FBRyxJQUFJbkIsZUFBZSxDQUFFLElBQUssQ0FBQztJQUUxRCxJQUFJLENBQUNvQixvQkFBb0IsR0FBRyxJQUFJakIsUUFBUSxDQUErQixJQUFLLENBQUM7SUFFN0UsSUFBSSxDQUFDa0IsbUJBQW1CLEdBQUcsSUFBSWxCLFFBQVEsQ0FBK0IsSUFBSyxDQUFDO0lBRTVFLElBQUksQ0FBQ21CLDJCQUEyQixHQUFHLElBQUlsQixlQUFlLENBQUUsQ0FBRSxJQUFJLENBQUNRLG9CQUFvQixDQUFFLEVBQUVELFlBQVksSUFBSTtNQUNyRyxPQUFPWSxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsT0FBTyxDQUFFZCxZQUFZLENBQUU7SUFDN0MsQ0FBRSxDQUFDO0lBRUgsSUFBSSxDQUFDRixNQUFNLEdBQUdBLE1BQU07RUFDdEI7RUFFT2lCLE9BQU9BLENBQUEsRUFBUztJQUNyQkMsTUFBTSxJQUFJQSxNQUFNLENBQUUsS0FBSyxFQUFFLDhEQUErRCxDQUFDO0VBQzNGO0FBQ0Y7QUFFQTFCLGlCQUFpQixDQUFDMkIsUUFBUSxDQUFFLDhCQUE4QixFQUFFckIsNEJBQTZCLENBQUM7QUFDMUYsZUFBZUEsNEJBQTRCIn0=