// Copyright 2019-2023, University of Colorado Boulder

/**
 * Constants used commonly for Number Suite sims.
 *
 * @author Chris Klusendorf (PhET Interactive Simulations)
 */

import PhetFont from '../../../scenery-phet/js/PhetFont.js';
import numberSuiteCommon from '../numberSuiteCommon.js';
import NumberSuiteCommonStrings from '../NumberSuiteCommonStrings.js';
import SceneryPhetConstants from '../../../scenery-phet/js/SceneryPhetConstants.js';
import CountingCommonConstants from '../../../counting-common/js/common/CountingCommonConstants.js';
// Maps a number to the stringProperty of the translated word that corresponds to the number.
const NUMBER_TO_STRING_PROPERTY_PRIMARY = {
  0: NumberSuiteCommonStrings.zeroStringProperty,
  1: NumberSuiteCommonStrings.oneStringProperty,
  2: NumberSuiteCommonStrings.twoStringProperty,
  3: NumberSuiteCommonStrings.threeStringProperty,
  4: NumberSuiteCommonStrings.fourStringProperty,
  5: NumberSuiteCommonStrings.fiveStringProperty,
  6: NumberSuiteCommonStrings.sixStringProperty,
  7: NumberSuiteCommonStrings.sevenStringProperty,
  8: NumberSuiteCommonStrings.eightStringProperty,
  9: NumberSuiteCommonStrings.nineStringProperty,
  10: NumberSuiteCommonStrings.tenStringProperty,
  11: NumberSuiteCommonStrings.elevenStringProperty,
  12: NumberSuiteCommonStrings.twelveStringProperty,
  13: NumberSuiteCommonStrings.thirteenStringProperty,
  14: NumberSuiteCommonStrings.fourteenStringProperty,
  15: NumberSuiteCommonStrings.fifteenStringProperty,
  16: NumberSuiteCommonStrings.sixteenStringProperty,
  17: NumberSuiteCommonStrings.seventeenStringProperty,
  18: NumberSuiteCommonStrings.eighteenStringProperty,
  19: NumberSuiteCommonStrings.nineteenStringProperty,
  20: NumberSuiteCommonStrings.twentyStringProperty
};

// A list of the primary string Properties we use in the sim.
export const NUMBER_STRING_PROPERTIES = _.values(NUMBER_TO_STRING_PROPERTY_PRIMARY);

// Maps a number to the key used to look up the translated word that corresponds to the number.
const NUMBER_TO_STRING_KEY_SECONDARY = {
  0: 'zero',
  1: 'one',
  2: 'two',
  3: 'three',
  4: 'four',
  5: 'five',
  6: 'six',
  7: 'seven',
  8: 'eight',
  9: 'nine',
  10: 'ten',
  11: 'eleven',
  12: 'twelve',
  13: 'thirteen',
  14: 'fourteen',
  15: 'fifteen',
  16: 'sixteen',
  17: 'seventeen',
  18: 'eighteen',
  19: 'nineteen',
  20: 'twenty'
};

// RequireJS namespace, used for looking up translated strings
const NUMBER_SUITE_COMMON_REQUIREJS_NAMESPACE = 'NUMBER_SUITE_COMMON';
const GROUPED_STORED_COUNTING_OBJECT_SCALE = 0.7;

// Returns either the primaryString or the secondaryString based on isPrimaryLocale. If the secondaryString doesn't
// exist but is desired, return the primaryString instead as a fallback. We know the primaryString will always exist
// because if there is a missing string in that locale, the String library will fall back to the English string instead.
// This function should be used whenever the sim needs a secondaryLocale string so that it is guarded with a fallback.
const getString = (primaryString, secondaryString, stringKey, isPrimaryLocale) => {
  const string = !isPrimaryLocale && secondaryString ? secondaryString : primaryString;
  assert && assert(string, `no string found for stringKey=${stringKey}`);
  return string;
};
const NumberSuiteCommonConstants = {
  TEN: 10,
  // used for organizing things into group of ten per countingObject

  MAX_AMOUNT_OF_TEN_FRAMES: 10,
  // The maximum amount of ten frames allowed on lab screens
  PAPER_NUMBER_INITIAL_VALUE: 1,
  // the initial value of every created countingObject

  // accordion box sizing

  TOTAL_ACCORDION_BOX_WIDTH: 199,
  // width of the 'Total' accordion box

  // sizing for the 'lower' accordion boxes, which include the 'Ones' and 'Objects' accordion boxes
  LOWER_ACCORDION_BOX_TITLE_MAX_WIDTH: 332,
  // max width of the title of all lower accordion boxes
  TALL_LOWER_ACCORDION_BOX_HEIGHT: 468,
  // height of the 'lower' accordion boxes on the 'Twenty' and 'Compare' screens

  // layout
  SCREEN_VIEW_PADDING_X: 15,
  // minimum x-distance any node is positioned from the edges of the sim
  SCREEN_VIEW_PADDING_Y: 15,
  // minimum y-distance any node is positioned from the edges of the sim
  ACCORDION_BOX_MARGIN_X: 72,
  // distance between the sides of the sim and all adjacent accordion boxes

  // options for all AccordionBox instances
  ACCORDION_BOX_TITLE_FONT: new PhetFont(16),
  /**
   * Maps an integer to the translated word for that integer.
   */
  numberToWord: (numberPlaySecondaryStrings, number, isPrimaryLocale) => {
    // The word for number in the primary language
    const primaryString = NUMBER_TO_STRING_PROPERTY_PRIMARY[number].value;

    // The word for number in the secondary language
    const stringKey = `${NUMBER_SUITE_COMMON_REQUIREJS_NAMESPACE}/${NUMBER_TO_STRING_KEY_SECONDARY[number]}`;
    const secondaryString = numberPlaySecondaryStrings[stringKey];

    // Fallback to primaryString if there is no secondary translation.
    return getString(primaryString, secondaryString, stringKey, isPrimaryLocale);
  },
  getString: getString,
  NUMBER_SUITE_COMMON_REQUIREJS_NAMESPACE: NUMBER_SUITE_COMMON_REQUIREJS_NAMESPACE,
  UNGROUPED_STORED_COUNTING_OBJECT_SCALE: 0.9,
  GROUPED_STORED_COUNTING_OBJECT_SCALE: GROUPED_STORED_COUNTING_OBJECT_SCALE,
  COUNTING_OBJECT_SCALE: 1,
  // match the size of the ResetAllButton, in screen coords
  BUTTON_LENGTH: SceneryPhetConstants.DEFAULT_BUTTON_RADIUS * 2,
  CREATOR_ICON_HEIGHT: CountingCommonConstants.SINGLE_COUNTING_OBJECT_BOUNDS.height * GROUPED_STORED_COUNTING_OBJECT_SCALE + 5,
  // Preferences dialog controls
  PREFERENCES_FONT_SIZE: 16,
  PREFERENCES_VBOX_SPACING: 15,
  PREFERENCES_DESCRIPTION_Y_SPACING: 5
};
numberSuiteCommon.register('NumberSuiteCommonConstants', NumberSuiteCommonConstants);
export default NumberSuiteCommonConstants;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQaGV0Rm9udCIsIm51bWJlclN1aXRlQ29tbW9uIiwiTnVtYmVyU3VpdGVDb21tb25TdHJpbmdzIiwiU2NlbmVyeVBoZXRDb25zdGFudHMiLCJDb3VudGluZ0NvbW1vbkNvbnN0YW50cyIsIk5VTUJFUl9UT19TVFJJTkdfUFJPUEVSVFlfUFJJTUFSWSIsInplcm9TdHJpbmdQcm9wZXJ0eSIsIm9uZVN0cmluZ1Byb3BlcnR5IiwidHdvU3RyaW5nUHJvcGVydHkiLCJ0aHJlZVN0cmluZ1Byb3BlcnR5IiwiZm91clN0cmluZ1Byb3BlcnR5IiwiZml2ZVN0cmluZ1Byb3BlcnR5Iiwic2l4U3RyaW5nUHJvcGVydHkiLCJzZXZlblN0cmluZ1Byb3BlcnR5IiwiZWlnaHRTdHJpbmdQcm9wZXJ0eSIsIm5pbmVTdHJpbmdQcm9wZXJ0eSIsInRlblN0cmluZ1Byb3BlcnR5IiwiZWxldmVuU3RyaW5nUHJvcGVydHkiLCJ0d2VsdmVTdHJpbmdQcm9wZXJ0eSIsInRoaXJ0ZWVuU3RyaW5nUHJvcGVydHkiLCJmb3VydGVlblN0cmluZ1Byb3BlcnR5IiwiZmlmdGVlblN0cmluZ1Byb3BlcnR5Iiwic2l4dGVlblN0cmluZ1Byb3BlcnR5Iiwic2V2ZW50ZWVuU3RyaW5nUHJvcGVydHkiLCJlaWdodGVlblN0cmluZ1Byb3BlcnR5IiwibmluZXRlZW5TdHJpbmdQcm9wZXJ0eSIsInR3ZW50eVN0cmluZ1Byb3BlcnR5IiwiTlVNQkVSX1NUUklOR19QUk9QRVJUSUVTIiwiXyIsInZhbHVlcyIsIk5VTUJFUl9UT19TVFJJTkdfS0VZX1NFQ09OREFSWSIsIk5VTUJFUl9TVUlURV9DT01NT05fUkVRVUlSRUpTX05BTUVTUEFDRSIsIkdST1VQRURfU1RPUkVEX0NPVU5USU5HX09CSkVDVF9TQ0FMRSIsImdldFN0cmluZyIsInByaW1hcnlTdHJpbmciLCJzZWNvbmRhcnlTdHJpbmciLCJzdHJpbmdLZXkiLCJpc1ByaW1hcnlMb2NhbGUiLCJzdHJpbmciLCJhc3NlcnQiLCJOdW1iZXJTdWl0ZUNvbW1vbkNvbnN0YW50cyIsIlRFTiIsIk1BWF9BTU9VTlRfT0ZfVEVOX0ZSQU1FUyIsIlBBUEVSX05VTUJFUl9JTklUSUFMX1ZBTFVFIiwiVE9UQUxfQUNDT1JESU9OX0JPWF9XSURUSCIsIkxPV0VSX0FDQ09SRElPTl9CT1hfVElUTEVfTUFYX1dJRFRIIiwiVEFMTF9MT1dFUl9BQ0NPUkRJT05fQk9YX0hFSUdIVCIsIlNDUkVFTl9WSUVXX1BBRERJTkdfWCIsIlNDUkVFTl9WSUVXX1BBRERJTkdfWSIsIkFDQ09SRElPTl9CT1hfTUFSR0lOX1giLCJBQ0NPUkRJT05fQk9YX1RJVExFX0ZPTlQiLCJudW1iZXJUb1dvcmQiLCJudW1iZXJQbGF5U2Vjb25kYXJ5U3RyaW5ncyIsIm51bWJlciIsInZhbHVlIiwiVU5HUk9VUEVEX1NUT1JFRF9DT1VOVElOR19PQkpFQ1RfU0NBTEUiLCJDT1VOVElOR19PQkpFQ1RfU0NBTEUiLCJCVVRUT05fTEVOR1RIIiwiREVGQVVMVF9CVVRUT05fUkFESVVTIiwiQ1JFQVRPUl9JQ09OX0hFSUdIVCIsIlNJTkdMRV9DT1VOVElOR19PQkpFQ1RfQk9VTkRTIiwiaGVpZ2h0IiwiUFJFRkVSRU5DRVNfRk9OVF9TSVpFIiwiUFJFRkVSRU5DRVNfVkJPWF9TUEFDSU5HIiwiUFJFRkVSRU5DRVNfREVTQ1JJUFRJT05fWV9TUEFDSU5HIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJOdW1iZXJTdWl0ZUNvbW1vbkNvbnN0YW50cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOS0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBDb25zdGFudHMgdXNlZCBjb21tb25seSBmb3IgTnVtYmVyIFN1aXRlIHNpbXMuXHJcbiAqXHJcbiAqIEBhdXRob3IgQ2hyaXMgS2x1c2VuZG9yZiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgTGlua2FibGVQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi9heG9uL2pzL0xpbmthYmxlUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgUGhldEZvbnQgZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1BoZXRGb250LmpzJztcclxuaW1wb3J0IG51bWJlclN1aXRlQ29tbW9uIGZyb20gJy4uL251bWJlclN1aXRlQ29tbW9uLmpzJztcclxuaW1wb3J0IE51bWJlclN1aXRlQ29tbW9uU3RyaW5ncyBmcm9tICcuLi9OdW1iZXJTdWl0ZUNvbW1vblN0cmluZ3MuanMnO1xyXG5pbXBvcnQgeyBTZWNvbmRMb2NhbGVTdHJpbmdzIH0gZnJvbSAnLi9tb2RlbC9OdW1iZXJTdWl0ZUNvbW1vblByZWZlcmVuY2VzLmpzJztcclxuaW1wb3J0IFNjZW5lcnlQaGV0Q29uc3RhbnRzIGZyb20gJy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9TY2VuZXJ5UGhldENvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBDb3VudGluZ0NvbW1vbkNvbnN0YW50cyBmcm9tICcuLi8uLi8uLi9jb3VudGluZy1jb21tb24vanMvY29tbW9uL0NvdW50aW5nQ29tbW9uQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IFRSZWFkT25seVByb3BlcnR5IGZyb20gJy4uLy4uLy4uL2F4b24vanMvVFJlYWRPbmx5UHJvcGVydHkuanMnO1xyXG5cclxuLy8gTWFwcyBhIG51bWJlciB0byB0aGUgc3RyaW5nUHJvcGVydHkgb2YgdGhlIHRyYW5zbGF0ZWQgd29yZCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBudW1iZXIuXHJcbmNvbnN0IE5VTUJFUl9UT19TVFJJTkdfUFJPUEVSVFlfUFJJTUFSWTogUmVjb3JkPG51bWJlciwgTGlua2FibGVQcm9wZXJ0eTxzdHJpbmc+PiA9IHtcclxuICAwOiBOdW1iZXJTdWl0ZUNvbW1vblN0cmluZ3MuemVyb1N0cmluZ1Byb3BlcnR5LFxyXG4gIDE6IE51bWJlclN1aXRlQ29tbW9uU3RyaW5ncy5vbmVTdHJpbmdQcm9wZXJ0eSxcclxuICAyOiBOdW1iZXJTdWl0ZUNvbW1vblN0cmluZ3MudHdvU3RyaW5nUHJvcGVydHksXHJcbiAgMzogTnVtYmVyU3VpdGVDb21tb25TdHJpbmdzLnRocmVlU3RyaW5nUHJvcGVydHksXHJcbiAgNDogTnVtYmVyU3VpdGVDb21tb25TdHJpbmdzLmZvdXJTdHJpbmdQcm9wZXJ0eSxcclxuICA1OiBOdW1iZXJTdWl0ZUNvbW1vblN0cmluZ3MuZml2ZVN0cmluZ1Byb3BlcnR5LFxyXG4gIDY6IE51bWJlclN1aXRlQ29tbW9uU3RyaW5ncy5zaXhTdHJpbmdQcm9wZXJ0eSxcclxuICA3OiBOdW1iZXJTdWl0ZUNvbW1vblN0cmluZ3Muc2V2ZW5TdHJpbmdQcm9wZXJ0eSxcclxuICA4OiBOdW1iZXJTdWl0ZUNvbW1vblN0cmluZ3MuZWlnaHRTdHJpbmdQcm9wZXJ0eSxcclxuICA5OiBOdW1iZXJTdWl0ZUNvbW1vblN0cmluZ3MubmluZVN0cmluZ1Byb3BlcnR5LFxyXG4gIDEwOiBOdW1iZXJTdWl0ZUNvbW1vblN0cmluZ3MudGVuU3RyaW5nUHJvcGVydHksXHJcbiAgMTE6IE51bWJlclN1aXRlQ29tbW9uU3RyaW5ncy5lbGV2ZW5TdHJpbmdQcm9wZXJ0eSxcclxuICAxMjogTnVtYmVyU3VpdGVDb21tb25TdHJpbmdzLnR3ZWx2ZVN0cmluZ1Byb3BlcnR5LFxyXG4gIDEzOiBOdW1iZXJTdWl0ZUNvbW1vblN0cmluZ3MudGhpcnRlZW5TdHJpbmdQcm9wZXJ0eSxcclxuICAxNDogTnVtYmVyU3VpdGVDb21tb25TdHJpbmdzLmZvdXJ0ZWVuU3RyaW5nUHJvcGVydHksXHJcbiAgMTU6IE51bWJlclN1aXRlQ29tbW9uU3RyaW5ncy5maWZ0ZWVuU3RyaW5nUHJvcGVydHksXHJcbiAgMTY6IE51bWJlclN1aXRlQ29tbW9uU3RyaW5ncy5zaXh0ZWVuU3RyaW5nUHJvcGVydHksXHJcbiAgMTc6IE51bWJlclN1aXRlQ29tbW9uU3RyaW5ncy5zZXZlbnRlZW5TdHJpbmdQcm9wZXJ0eSxcclxuICAxODogTnVtYmVyU3VpdGVDb21tb25TdHJpbmdzLmVpZ2h0ZWVuU3RyaW5nUHJvcGVydHksXHJcbiAgMTk6IE51bWJlclN1aXRlQ29tbW9uU3RyaW5ncy5uaW5ldGVlblN0cmluZ1Byb3BlcnR5LFxyXG4gIDIwOiBOdW1iZXJTdWl0ZUNvbW1vblN0cmluZ3MudHdlbnR5U3RyaW5nUHJvcGVydHlcclxufTtcclxuXHJcbi8vIEEgbGlzdCBvZiB0aGUgcHJpbWFyeSBzdHJpbmcgUHJvcGVydGllcyB3ZSB1c2UgaW4gdGhlIHNpbS5cclxuZXhwb3J0IGNvbnN0IE5VTUJFUl9TVFJJTkdfUFJPUEVSVElFUzogVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPltdID0gXy52YWx1ZXMoIE5VTUJFUl9UT19TVFJJTkdfUFJPUEVSVFlfUFJJTUFSWSApO1xyXG5cclxuLy8gTWFwcyBhIG51bWJlciB0byB0aGUga2V5IHVzZWQgdG8gbG9vayB1cCB0aGUgdHJhbnNsYXRlZCB3b3JkIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIG51bWJlci5cclxuY29uc3QgTlVNQkVSX1RPX1NUUklOR19LRVlfU0VDT05EQVJZOiBSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+ID0ge1xyXG4gIDA6ICd6ZXJvJyxcclxuICAxOiAnb25lJyxcclxuICAyOiAndHdvJyxcclxuICAzOiAndGhyZWUnLFxyXG4gIDQ6ICdmb3VyJyxcclxuICA1OiAnZml2ZScsXHJcbiAgNjogJ3NpeCcsXHJcbiAgNzogJ3NldmVuJyxcclxuICA4OiAnZWlnaHQnLFxyXG4gIDk6ICduaW5lJyxcclxuICAxMDogJ3RlbicsXHJcbiAgMTE6ICdlbGV2ZW4nLFxyXG4gIDEyOiAndHdlbHZlJyxcclxuICAxMzogJ3RoaXJ0ZWVuJyxcclxuICAxNDogJ2ZvdXJ0ZWVuJyxcclxuICAxNTogJ2ZpZnRlZW4nLFxyXG4gIDE2OiAnc2l4dGVlbicsXHJcbiAgMTc6ICdzZXZlbnRlZW4nLFxyXG4gIDE4OiAnZWlnaHRlZW4nLFxyXG4gIDE5OiAnbmluZXRlZW4nLFxyXG4gIDIwOiAndHdlbnR5J1xyXG59IGFzIFJlY29yZDxudW1iZXIsIHN0cmluZz47XHJcblxyXG4vLyBSZXF1aXJlSlMgbmFtZXNwYWNlLCB1c2VkIGZvciBsb29raW5nIHVwIHRyYW5zbGF0ZWQgc3RyaW5nc1xyXG5jb25zdCBOVU1CRVJfU1VJVEVfQ09NTU9OX1JFUVVJUkVKU19OQU1FU1BBQ0UgPSAnTlVNQkVSX1NVSVRFX0NPTU1PTic7XHJcblxyXG5jb25zdCBHUk9VUEVEX1NUT1JFRF9DT1VOVElOR19PQkpFQ1RfU0NBTEUgPSAwLjc7XHJcblxyXG4vLyBSZXR1cm5zIGVpdGhlciB0aGUgcHJpbWFyeVN0cmluZyBvciB0aGUgc2Vjb25kYXJ5U3RyaW5nIGJhc2VkIG9uIGlzUHJpbWFyeUxvY2FsZS4gSWYgdGhlIHNlY29uZGFyeVN0cmluZyBkb2Vzbid0XHJcbi8vIGV4aXN0IGJ1dCBpcyBkZXNpcmVkLCByZXR1cm4gdGhlIHByaW1hcnlTdHJpbmcgaW5zdGVhZCBhcyBhIGZhbGxiYWNrLiBXZSBrbm93IHRoZSBwcmltYXJ5U3RyaW5nIHdpbGwgYWx3YXlzIGV4aXN0XHJcbi8vIGJlY2F1c2UgaWYgdGhlcmUgaXMgYSBtaXNzaW5nIHN0cmluZyBpbiB0aGF0IGxvY2FsZSwgdGhlIFN0cmluZyBsaWJyYXJ5IHdpbGwgZmFsbCBiYWNrIHRvIHRoZSBFbmdsaXNoIHN0cmluZyBpbnN0ZWFkLlxyXG4vLyBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSB1c2VkIHdoZW5ldmVyIHRoZSBzaW0gbmVlZHMgYSBzZWNvbmRhcnlMb2NhbGUgc3RyaW5nIHNvIHRoYXQgaXQgaXMgZ3VhcmRlZCB3aXRoIGEgZmFsbGJhY2suXHJcbmNvbnN0IGdldFN0cmluZyA9ICggcHJpbWFyeVN0cmluZzogc3RyaW5nLCBzZWNvbmRhcnlTdHJpbmc6IHN0cmluZyB8IHVuZGVmaW5lZCwgc3RyaW5nS2V5OiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNQcmltYXJ5TG9jYWxlOiBib29sZWFuICk6IHN0cmluZyA9PiB7XHJcbiAgY29uc3Qgc3RyaW5nID0gKCAhaXNQcmltYXJ5TG9jYWxlICYmIHNlY29uZGFyeVN0cmluZyApID8gc2Vjb25kYXJ5U3RyaW5nIDogcHJpbWFyeVN0cmluZztcclxuICBhc3NlcnQgJiYgYXNzZXJ0KCBzdHJpbmcsIGBubyBzdHJpbmcgZm91bmQgZm9yIHN0cmluZ0tleT0ke3N0cmluZ0tleX1gICk7XHJcbiAgcmV0dXJuIHN0cmluZztcclxufTtcclxuXHJcbmNvbnN0IE51bWJlclN1aXRlQ29tbW9uQ29uc3RhbnRzID0ge1xyXG5cclxuICBURU46IDEwLCAvLyB1c2VkIGZvciBvcmdhbml6aW5nIHRoaW5ncyBpbnRvIGdyb3VwIG9mIHRlbiBwZXIgY291bnRpbmdPYmplY3RcclxuXHJcbiAgTUFYX0FNT1VOVF9PRl9URU5fRlJBTUVTOiAxMCwgLy8gVGhlIG1heGltdW0gYW1vdW50IG9mIHRlbiBmcmFtZXMgYWxsb3dlZCBvbiBsYWIgc2NyZWVuc1xyXG4gIFBBUEVSX05VTUJFUl9JTklUSUFMX1ZBTFVFOiAxLCAvLyB0aGUgaW5pdGlhbCB2YWx1ZSBvZiBldmVyeSBjcmVhdGVkIGNvdW50aW5nT2JqZWN0XHJcblxyXG4gIC8vIGFjY29yZGlvbiBib3ggc2l6aW5nXHJcblxyXG4gIFRPVEFMX0FDQ09SRElPTl9CT1hfV0lEVEg6IDE5OSwgICAgICAgICAgIC8vIHdpZHRoIG9mIHRoZSAnVG90YWwnIGFjY29yZGlvbiBib3hcclxuXHJcbiAgLy8gc2l6aW5nIGZvciB0aGUgJ2xvd2VyJyBhY2NvcmRpb24gYm94ZXMsIHdoaWNoIGluY2x1ZGUgdGhlICdPbmVzJyBhbmQgJ09iamVjdHMnIGFjY29yZGlvbiBib3hlc1xyXG4gIExPV0VSX0FDQ09SRElPTl9CT1hfVElUTEVfTUFYX1dJRFRIOiAzMzIsIC8vIG1heCB3aWR0aCBvZiB0aGUgdGl0bGUgb2YgYWxsIGxvd2VyIGFjY29yZGlvbiBib3hlc1xyXG4gIFRBTExfTE9XRVJfQUNDT1JESU9OX0JPWF9IRUlHSFQ6IDQ2OCwgICAgIC8vIGhlaWdodCBvZiB0aGUgJ2xvd2VyJyBhY2NvcmRpb24gYm94ZXMgb24gdGhlICdUd2VudHknIGFuZCAnQ29tcGFyZScgc2NyZWVuc1xyXG5cclxuICAvLyBsYXlvdXRcclxuICBTQ1JFRU5fVklFV19QQURESU5HX1g6IDE1LCAgICAgICAgICAgICAgICAvLyBtaW5pbXVtIHgtZGlzdGFuY2UgYW55IG5vZGUgaXMgcG9zaXRpb25lZCBmcm9tIHRoZSBlZGdlcyBvZiB0aGUgc2ltXHJcbiAgU0NSRUVOX1ZJRVdfUEFERElOR19ZOiAxNSwgICAgICAgICAgICAgICAgLy8gbWluaW11bSB5LWRpc3RhbmNlIGFueSBub2RlIGlzIHBvc2l0aW9uZWQgZnJvbSB0aGUgZWRnZXMgb2YgdGhlIHNpbVxyXG4gIEFDQ09SRElPTl9CT1hfTUFSR0lOX1g6IDcyLCAgICAgICAgICAgICAgIC8vIGRpc3RhbmNlIGJldHdlZW4gdGhlIHNpZGVzIG9mIHRoZSBzaW0gYW5kIGFsbCBhZGphY2VudCBhY2NvcmRpb24gYm94ZXNcclxuXHJcbiAgLy8gb3B0aW9ucyBmb3IgYWxsIEFjY29yZGlvbkJveCBpbnN0YW5jZXNcclxuICBBQ0NPUkRJT05fQk9YX1RJVExFX0ZPTlQ6IG5ldyBQaGV0Rm9udCggMTYgKSxcclxuXHJcbiAgLyoqXHJcbiAgICogTWFwcyBhbiBpbnRlZ2VyIHRvIHRoZSB0cmFuc2xhdGVkIHdvcmQgZm9yIHRoYXQgaW50ZWdlci5cclxuICAgKi9cclxuICBudW1iZXJUb1dvcmQ6ICggbnVtYmVyUGxheVNlY29uZGFyeVN0cmluZ3M6IFNlY29uZExvY2FsZVN0cmluZ3MsIG51bWJlcjogbnVtYmVyLCBpc1ByaW1hcnlMb2NhbGU6IGJvb2xlYW4gKTogc3RyaW5nID0+IHtcclxuXHJcbiAgICAvLyBUaGUgd29yZCBmb3IgbnVtYmVyIGluIHRoZSBwcmltYXJ5IGxhbmd1YWdlXHJcbiAgICBjb25zdCBwcmltYXJ5U3RyaW5nID0gTlVNQkVSX1RPX1NUUklOR19QUk9QRVJUWV9QUklNQVJZWyBudW1iZXIgXS52YWx1ZTtcclxuXHJcbiAgICAvLyBUaGUgd29yZCBmb3IgbnVtYmVyIGluIHRoZSBzZWNvbmRhcnkgbGFuZ3VhZ2VcclxuICAgIGNvbnN0IHN0cmluZ0tleSA9IGAke05VTUJFUl9TVUlURV9DT01NT05fUkVRVUlSRUpTX05BTUVTUEFDRX0vJHtOVU1CRVJfVE9fU1RSSU5HX0tFWV9TRUNPTkRBUllbIG51bWJlciBdfWA7XHJcbiAgICBjb25zdCBzZWNvbmRhcnlTdHJpbmcgPSBudW1iZXJQbGF5U2Vjb25kYXJ5U3RyaW5nc1sgc3RyaW5nS2V5IF07XHJcblxyXG4gICAgLy8gRmFsbGJhY2sgdG8gcHJpbWFyeVN0cmluZyBpZiB0aGVyZSBpcyBubyBzZWNvbmRhcnkgdHJhbnNsYXRpb24uXHJcbiAgICByZXR1cm4gZ2V0U3RyaW5nKCBwcmltYXJ5U3RyaW5nLCBzZWNvbmRhcnlTdHJpbmcsIHN0cmluZ0tleSwgaXNQcmltYXJ5TG9jYWxlICk7XHJcbiAgfSxcclxuXHJcbiAgZ2V0U3RyaW5nOiBnZXRTdHJpbmcsXHJcblxyXG4gIE5VTUJFUl9TVUlURV9DT01NT05fUkVRVUlSRUpTX05BTUVTUEFDRTogTlVNQkVSX1NVSVRFX0NPTU1PTl9SRVFVSVJFSlNfTkFNRVNQQUNFLFxyXG5cclxuICBVTkdST1VQRURfU1RPUkVEX0NPVU5USU5HX09CSkVDVF9TQ0FMRTogMC45LFxyXG4gIEdST1VQRURfU1RPUkVEX0NPVU5USU5HX09CSkVDVF9TQ0FMRTogR1JPVVBFRF9TVE9SRURfQ09VTlRJTkdfT0JKRUNUX1NDQUxFLFxyXG4gIENPVU5USU5HX09CSkVDVF9TQ0FMRTogMSxcclxuXHJcbiAgLy8gbWF0Y2ggdGhlIHNpemUgb2YgdGhlIFJlc2V0QWxsQnV0dG9uLCBpbiBzY3JlZW4gY29vcmRzXHJcbiAgQlVUVE9OX0xFTkdUSDogU2NlbmVyeVBoZXRDb25zdGFudHMuREVGQVVMVF9CVVRUT05fUkFESVVTICogMixcclxuXHJcbiAgQ1JFQVRPUl9JQ09OX0hFSUdIVDogQ291bnRpbmdDb21tb25Db25zdGFudHMuU0lOR0xFX0NPVU5USU5HX09CSkVDVF9CT1VORFMuaGVpZ2h0ICogR1JPVVBFRF9TVE9SRURfQ09VTlRJTkdfT0JKRUNUX1NDQUxFICsgNSxcclxuXHJcbiAgLy8gUHJlZmVyZW5jZXMgZGlhbG9nIGNvbnRyb2xzXHJcbiAgUFJFRkVSRU5DRVNfRk9OVF9TSVpFOiAxNixcclxuICBQUkVGRVJFTkNFU19WQk9YX1NQQUNJTkc6IDE1LFxyXG4gIFBSRUZFUkVOQ0VTX0RFU0NSSVBUSU9OX1lfU1BBQ0lORzogNVxyXG59O1xyXG5cclxubnVtYmVyU3VpdGVDb21tb24ucmVnaXN0ZXIoICdOdW1iZXJTdWl0ZUNvbW1vbkNvbnN0YW50cycsIE51bWJlclN1aXRlQ29tbW9uQ29uc3RhbnRzICk7XHJcbmV4cG9ydCBkZWZhdWx0IE51bWJlclN1aXRlQ29tbW9uQ29uc3RhbnRzOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQSxPQUFPQSxRQUFRLE1BQU0sc0NBQXNDO0FBQzNELE9BQU9DLGlCQUFpQixNQUFNLHlCQUF5QjtBQUN2RCxPQUFPQyx3QkFBd0IsTUFBTSxnQ0FBZ0M7QUFFckUsT0FBT0Msb0JBQW9CLE1BQU0sa0RBQWtEO0FBQ25GLE9BQU9DLHVCQUF1QixNQUFNLCtEQUErRDtBQUduRztBQUNBLE1BQU1DLGlDQUEyRSxHQUFHO0VBQ2xGLENBQUMsRUFBRUgsd0JBQXdCLENBQUNJLGtCQUFrQjtFQUM5QyxDQUFDLEVBQUVKLHdCQUF3QixDQUFDSyxpQkFBaUI7RUFDN0MsQ0FBQyxFQUFFTCx3QkFBd0IsQ0FBQ00saUJBQWlCO0VBQzdDLENBQUMsRUFBRU4sd0JBQXdCLENBQUNPLG1CQUFtQjtFQUMvQyxDQUFDLEVBQUVQLHdCQUF3QixDQUFDUSxrQkFBa0I7RUFDOUMsQ0FBQyxFQUFFUix3QkFBd0IsQ0FBQ1Msa0JBQWtCO0VBQzlDLENBQUMsRUFBRVQsd0JBQXdCLENBQUNVLGlCQUFpQjtFQUM3QyxDQUFDLEVBQUVWLHdCQUF3QixDQUFDVyxtQkFBbUI7RUFDL0MsQ0FBQyxFQUFFWCx3QkFBd0IsQ0FBQ1ksbUJBQW1CO0VBQy9D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