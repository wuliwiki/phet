// Copyright 2014-2023, University of Colorado Boulder

/**
 * View representation of the atom. Mostly, this is responsible for displaying and updating the labels, since the atom
 * itself is represented by particles, which take care of themselves in the view.
 *
 * @author John Blanco
 */

import Property from '../../../axon/js/Property.js';
import Vector2 from '../../../dot/js/Vector2.js';
import { Shape } from '../../../kite/js/imports.js';
import merge from '../../../phet-core/js/merge.js';
import PhetColorScheme from '../../../scenery-phet/js/PhetColorScheme.js';
import PhetFont from '../../../scenery-phet/js/PhetFont.js';
import { Node, Path, Text } from '../../../scenery/js/imports.js';
import Tandem from '../../../tandem/js/Tandem.js';
import AtomIdentifier from '../AtomIdentifier.js';
import shred from '../shred.js';
import ShredStrings from '../ShredStrings.js';
import ElectronCloudView from './ElectronCloudView.js';
import ElectronShellView from './ElectronShellView.js';
const minusSignIonString = ShredStrings.minusSignIon;
const neutralAtomString = ShredStrings.neutralAtom;
const positiveSignIonString = ShredStrings.positiveSignIon;
const stableString = ShredStrings.stable;
const unstableString = ShredStrings.unstable;

// constants
const ELEMENT_NAME_FONT_SIZE = 22;
class AtomNode extends Node {
  /**
   * @param {ParticleAtom} particleAtom Model that represents the atom, including particle positions
   * @param {ModelViewTransform2} modelViewTransform Model-View transform
   * @param {Object} [options]
   */
  constructor(particleAtom, modelViewTransform, options) {
    options = merge({
      showCenterX: true,
      showElementNameProperty: new Property(true),
      showNeutralOrIonProperty: new Property(true),
      showStableOrUnstableProperty: new Property(true),
      electronShellDepictionProperty: new Property('orbits'),
      tandem: Tandem.REQUIRED
    }, options);
    super();

    // @private
    this.atom = particleAtom;
    this.modelViewTransform = modelViewTransform;

    // Create the X where the nucleus goes.
    let countListener = null;
    let atomCenterMarker = null;
    if (options.showCenterX) {
      const sizeInPixels = modelViewTransform.modelToViewDeltaX(20);
      const center = modelViewTransform.modelToViewPosition(particleAtom.positionProperty.get());
      const centerMarker = new Shape();
      centerMarker.moveTo(center.x - sizeInPixels / 2, center.y - sizeInPixels / 2);
      centerMarker.lineTo(center.x + sizeInPixels / 2, center.y + sizeInPixels / 2);
      centerMarker.moveTo(center.x - sizeInPixels / 2, center.y + sizeInPixels / 2);
      centerMarker.lineTo(center.x + sizeInPixels / 2, center.y - sizeInPixels / 2);
      atomCenterMarker = new Path(centerMarker, {
        stroke: 'orange',
        lineWidth: 5,
        pickable: false,
        tandem: options.tandem.createTandem('atomCenterMarker')
      });
      this.addChild(atomCenterMarker);

      // Make the marker invisible if any nucleons are present.
      countListener = () => {
        atomCenterMarker.visible = particleAtom.getWeight() === 0;
      };
      particleAtom.electronCountProperty.link(countListener);
      particleAtom.neutronCountProperty.link(countListener);
      particleAtom.protonCountProperty.link(countListener);
    }

    // Add the electron shells and cloud.
    const electronShell = new ElectronShellView(particleAtom, modelViewTransform, {
      tandem: options.tandem.createTandem('electronShell')
    });
    this.addChild(electronShell);
    const electronCloud = new ElectronCloudView(particleAtom, modelViewTransform, {
      tandem: options.tandem.createTandem('electronCloud')
    });
    this.addChild(electronCloud);
    const updateElectronShellDepictionVisibility = depiction => {
      electronShell.visible = depiction === 'orbits';
      electronCloud.visible = depiction === 'cloud';
    };
    options.electronShellDepictionProperty.link(updateElectronShellDepictionVisibility);
    const elementNameTextCenterPos = modelViewTransform.modelToViewPosition(particleAtom.positionProperty.get().plus(new Vector2(0, particleAtom.innerElectronShellRadius * 0.60)));

    // @private - Create the textual readout for the element name.
    this.elementNameText = new Text('', {
      font: new PhetFont(ELEMENT_NAME_FONT_SIZE),
      fill: PhetColorScheme.RED_COLORBLIND,
      center: elementNameTextCenterPos,
      pickable: false,
      tandem: options.tandem.createTandem('elementNameText')
    });
    this.addChild(this.elementNameText);

    // Define the update function for the element name.
    const updateElementName = () => {
      let name = AtomIdentifier.getName(this.atom.protonCountProperty.get());
      if (name.length === 0) {
        name = '';
      }
      this.elementNameText.string = name;
      this.elementNameText.setScaleMagnitude(1);
      const maxLabelWidth = modelViewTransform.modelToViewDeltaX(particleAtom.innerElectronShellRadius * 1.4);
      this.elementNameText.setScaleMagnitude(Math.min(maxLabelWidth / this.elementNameText.width, 1));
      this.elementNameText.center = elementNameTextCenterPos;
    };
    updateElementName(); // Do the initial update.

    // Hook up update listeners.
    particleAtom.protonCountProperty.link(updateElementName);
    const updateElementNameVisibility = visible => {
      this.elementNameText.visible = visible;
    };
    options.showElementNameProperty.link(updateElementNameVisibility);
    const ionIndicatorTextTranslation = modelViewTransform.modelToViewPosition(particleAtom.positionProperty.get().plus(new Vector2(particleAtom.outerElectronShellRadius * 1.05, 0).rotated(Math.PI * 0.3)));

    // @private - Create the textual readout for the ion indicator, set by trial and error.
    this.ionIndicatorText = new Text('', {
      font: new PhetFont(20),
      fill: 'black',
      translation: ionIndicatorTextTranslation,
      pickable: false,
      maxWidth: 150,
      tandem: options.tandem.createTandem('ionIndicatorText')
    });
    this.addChild(this.ionIndicatorText);

    // Define the update function for the ion indicator.
    const updateIonIndicator = () => {
      if (this.atom.protonCountProperty.get() > 0) {
        const charge = this.atom.getCharge();
        if (charge < 0) {
          this.ionIndicatorText.string = minusSignIonString;
          this.ionIndicatorText.fill = 'blue';
        } else if (charge > 0) {
          this.ionIndicatorText.string = positiveSignIonString;
          this.ionIndicatorText.fill = PhetColorScheme.RED_COLORBLIND;
        } else {
          this.ionIndicatorText.string = neutralAtomString;
          this.ionIndicatorText.fill = 'black';
        }
      } else {
        this.ionIndicatorText.string = '';
        this.ionIndicatorText.fill = 'black';
      }
    };
    updateIonIndicator(); // Do the initial update.

    particleAtom.protonCountProperty.link(updateIonIndicator);
    particleAtom.electronCountProperty.link(updateIonIndicator);
    const updateIonIndicatorVisibility = visible => {
      this.ionIndicatorText.visible = visible;
    };
    options.showNeutralOrIonProperty.link(updateIonIndicatorVisibility);

    // Create the textual readout for the stability indicator.
    const stabilityIndicatorTextCenterPos = modelViewTransform.modelToViewPosition(particleAtom.positionProperty.get().plus(new Vector2(0, -particleAtom.innerElectronShellRadius * 0.60)));

    // @private
    this.stabilityIndicatorText = new Text('', {
      font: new PhetFont(20),
      fill: 'black',
      center: stabilityIndicatorTextCenterPos,
      pickable: false,
      maxWidth: modelViewTransform.modelToViewDeltaX(particleAtom.innerElectronShellRadius * 1.4),
      tandem: options.tandem.createTandem('stabilityIndicatorText')
    });
    this.addChild(this.stabilityIndicatorText);

    // Define the update function for the stability indicator.
    const updateStabilityIndicator = () => {
      if (this.atom.protonCountProperty.get() > 0) {
        if (AtomIdentifier.isStable(this.atom.protonCountProperty.get(), this.atom.neutronCountProperty.get())) {
          this.stabilityIndicatorText.string = stableString;
        } else {
          this.stabilityIndicatorText.string = unstableString;
        }
      } else {
        this.stabilityIndicatorText.string = '';
      }
      this.stabilityIndicatorText.center = stabilityIndicatorTextCenterPos;
    };
    updateStabilityIndicator(); // Do initial update.

    // Add the listeners that control the label content and visibility.
    particleAtom.protonCountProperty.link(updateStabilityIndicator);
    particleAtom.neutronCountProperty.link(updateStabilityIndicator);
    const updateStabilityIndicatorVisibility = visible => {
      this.stabilityIndicatorText.visible = visible;
    };
    options.showStableOrUnstableProperty.link(updateStabilityIndicatorVisibility);

    // @private
    this.disposeAtomNode = () => {
      electronCloud.dispose();
      if (countListener) {
        particleAtom.electronCountProperty.unlink(countListener);
        particleAtom.neutronCountProperty.unlink(countListener);
        particleAtom.protonCountProperty.unlink(countListener);
      }
      options.electronShellDepictionProperty.unlink(updateElectronShellDepictionVisibility);
      particleAtom.protonCountProperty.unlink(updateElementName);
      options.showElementNameProperty.unlink(updateElementNameVisibility);
      particleAtom.protonCountProperty.unlink(updateIonIndicator);
      particleAtom.electronCountProperty.unlink(updateIonIndicator);
      options.showNeutralOrIonProperty.unlink(updateIonIndicatorVisibility);
      particleAtom.protonCountProperty.unlink(updateStabilityIndicator);
      particleAtom.neutronCountProperty.unlink(updateStabilityIndicator);
      options.showStableOrUnstableProperty.unlink(updateStabilityIndicatorVisibility);
      atomCenterMarker && atomCenterMarker.dispose();
      electronShell.dispose();
      this.elementNameText.dispose();
      this.ionIndicatorText.dispose();
      this.stabilityIndicatorText.dispose();
    };
    this.mutate(options);
  }

  /**
   * @public
   * @override
   */
  dispose() {
    this.disposeAtomNode();
    super.dispose();
  }
}
shred.register('AtomNode', AtomNode);
export default AtomNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIlZlY3RvcjIiLCJTaGFwZSIsIm1lcmdlIiwiUGhldENvbG9yU2NoZW1lIiwiUGhldEZvbnQiLCJOb2RlIiwiUGF0aCIsIlRleHQiLCJUYW5kZW0iLCJBdG9tSWRlbnRpZmllciIsInNocmVkIiwiU2hyZWRTdHJpbmdzIiwiRWxlY3Ryb25DbG91ZFZpZXciLCJFbGVjdHJvblNoZWxsVmlldyIsIm1pbnVzU2lnbklvblN0cmluZyIsIm1pbnVzU2lnbklvbiIsIm5ldXRyYWxBdG9tU3RyaW5nIiwibmV1dHJhbEF0b20iLCJwb3NpdGl2ZVNpZ25Jb25TdHJpbmciLCJwb3NpdGl2ZVNpZ25Jb24iLCJzdGFibGVTdHJpbmciLCJzdGFibGUiLCJ1bnN0YWJsZVN0cmluZyIsInVuc3RhYmxlIiwiRUxFTUVOVF9OQU1FX0ZPTlRfU0laRSIsIkF0b21Ob2RlIiwiY29uc3RydWN0b3IiLCJwYXJ0aWNsZUF0b20iLCJtb2RlbFZpZXdUcmFuc2Zvcm0iLCJvcHRpb25zIiwic2hvd0NlbnRlclgiLCJzaG93RWxlbWVudE5hbWVQcm9wZXJ0eSIsInNob3dOZXV0cmFsT3JJb25Qcm9wZXJ0eSIsInNob3dTdGFibGVPclVuc3RhYmxlUHJvcGVydHkiLCJlbGVjdHJvblNoZWxsRGVwaWN0aW9uUHJvcGVydHkiLCJ0YW5kZW0iLCJSRVFVSVJFRCIsImF0b20iLCJjb3VudExpc3RlbmVyIiwiYXRvbUNlbnRlck1hcmtlciIsInNpemVJblBpeGVscyIsIm1vZGVsVG9WaWV3RGVsdGFYIiwiY2VudGVyIiwibW9kZWxUb1ZpZXdQb3NpdGlvbiIsInBvc2l0aW9uUHJvcGVydHkiLCJnZXQiLCJjZW50ZXJNYXJrZXIiLCJtb3ZlVG8iLCJ4IiwieSIsImxpbmVUbyIsInN0cm9rZSIsImxpbmVXaWR0aCIsInBpY2thYmxlIiwiY3JlYXRlVGFuZGVtIiwiYWRkQ2hpbGQiLCJ2aXNpYmxlIiwiZ2V0V2VpZ2h0IiwiZWxlY3Ryb25Db3VudFByb3BlcnR5IiwibGluayIsIm5ldXRyb25Db3VudFByb3BlcnR5IiwicHJvdG9uQ291bnRQcm9wZXJ0eSIsImVsZWN0cm9uU2hlbGwiLCJlbGVjdHJvbkNsb3VkIiwidXBkYXRlRWxlY3Ryb25TaGVsbERlcGljdGlvblZpc2liaWxpdHkiLCJkZXBpY3Rpb24iLCJlbGVtZW50TmFtZVRleHRDZW50ZXJQb3MiLCJwbHVzIiwiaW5uZXJFbGVjdHJvblNoZWxsUmFkaXVzIiwiZWxlbWVudE5hbWVUZXh0IiwiZm9udCIsImZpbGwiLCJSRURfQ09MT1JCTElORCIsInVwZGF0ZUVsZW1lbnROYW1lIiwibmFtZSIsImdldE5hbWUiLCJsZW5ndGgiLCJzdHJpbmciLCJzZXRTY2FsZU1hZ25pdHVkZSIsIm1heExhYmVsV2lkdGgiLCJNYXRoIiwibWluIiwid2lkdGgiLCJ1cGRhdGVFbGVtZW50TmFtZVZpc2liaWxpdHkiLCJpb25JbmRpY2F0b3JUZXh0VHJhbnNsYXRpb24iLCJvdXRlckVsZWN0cm9uU2hlbGxSYWRpdXMiLCJyb3RhdGVkIiwiUEkiLCJpb25JbmRpY2F0b3JUZXh0IiwidHJhbnNsYXRpb24iLCJtYXhXaWR0aCIsInVwZGF0ZUlvbkluZGljYXRvciIsImNoYXJnZSIsImdldENoYXJnZSIsInVwZGF0ZUlvbkluZGljYXRvclZpc2liaWxpdHkiLCJzdGFiaWxpdHlJbmRpY2F0b3JUZXh0Q2VudGVyUG9zIiwic3RhYmlsaXR5SW5kaWNhdG9yVGV4dCIsInVwZGF0ZVN0YWJpbGl0eUluZGljYXRvciIsImlzU3RhYmxlIiwidXBkYXRlU3RhYmlsaXR5SW5kaWNhdG9yVmlzaWJpbGl0eSIsImRpc3Bvc2VBdG9tTm9kZSIsImRpc3Bvc2UiLCJ1bmxpbmsiLCJtdXRhdGUiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkF0b21Ob2RlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE0LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFZpZXcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGF0b20uIE1vc3RseSwgdGhpcyBpcyByZXNwb25zaWJsZSBmb3IgZGlzcGxheWluZyBhbmQgdXBkYXRpbmcgdGhlIGxhYmVscywgc2luY2UgdGhlIGF0b21cclxuICogaXRzZWxmIGlzIHJlcHJlc2VudGVkIGJ5IHBhcnRpY2xlcywgd2hpY2ggdGFrZSBjYXJlIG9mIHRoZW1zZWx2ZXMgaW4gdGhlIHZpZXcuXHJcbiAqXHJcbiAqIEBhdXRob3IgSm9obiBCbGFuY29cclxuICovXHJcblxyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBWZWN0b3IyIGZyb20gJy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyLmpzJztcclxuaW1wb3J0IHsgU2hhcGUgfSBmcm9tICcuLi8uLi8uLi9raXRlL2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IFBoZXRDb2xvclNjaGVtZSBmcm9tICcuLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvUGhldENvbG9yU2NoZW1lLmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9QaGV0Rm9udC5qcyc7XHJcbmltcG9ydCB7IE5vZGUsIFBhdGgsIFRleHQgfSBmcm9tICcuLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5pbXBvcnQgQXRvbUlkZW50aWZpZXIgZnJvbSAnLi4vQXRvbUlkZW50aWZpZXIuanMnO1xyXG5pbXBvcnQgc2hyZWQgZnJvbSAnLi4vc2hyZWQuanMnO1xyXG5pbXBvcnQgU2hyZWRTdHJpbmdzIGZyb20gJy4uL1NocmVkU3RyaW5ncy5qcyc7XHJcbmltcG9ydCBFbGVjdHJvbkNsb3VkVmlldyBmcm9tICcuL0VsZWN0cm9uQ2xvdWRWaWV3LmpzJztcclxuaW1wb3J0IEVsZWN0cm9uU2hlbGxWaWV3IGZyb20gJy4vRWxlY3Ryb25TaGVsbFZpZXcuanMnO1xyXG5cclxuY29uc3QgbWludXNTaWduSW9uU3RyaW5nID0gU2hyZWRTdHJpbmdzLm1pbnVzU2lnbklvbjtcclxuY29uc3QgbmV1dHJhbEF0b21TdHJpbmcgPSBTaHJlZFN0cmluZ3MubmV1dHJhbEF0b207XHJcbmNvbnN0IHBvc2l0aXZlU2lnbklvblN0cmluZyA9IFNocmVkU3RyaW5ncy5wb3NpdGl2ZVNpZ25Jb247XHJcbmNvbnN0IHN0YWJsZVN0cmluZyA9IFNocmVkU3RyaW5ncy5zdGFibGU7XHJcbmNvbnN0IHVuc3RhYmxlU3RyaW5nID0gU2hyZWRTdHJpbmdzLnVuc3RhYmxlO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IEVMRU1FTlRfTkFNRV9GT05UX1NJWkUgPSAyMjtcclxuXHJcbmNsYXNzIEF0b21Ob2RlIGV4dGVuZHMgTm9kZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7UGFydGljbGVBdG9tfSBwYXJ0aWNsZUF0b20gTW9kZWwgdGhhdCByZXByZXNlbnRzIHRoZSBhdG9tLCBpbmNsdWRpbmcgcGFydGljbGUgcG9zaXRpb25zXHJcbiAgICogQHBhcmFtIHtNb2RlbFZpZXdUcmFuc2Zvcm0yfSBtb2RlbFZpZXdUcmFuc2Zvcm0gTW9kZWwtVmlldyB0cmFuc2Zvcm1cclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIHBhcnRpY2xlQXRvbSwgbW9kZWxWaWV3VHJhbnNmb3JtLCBvcHRpb25zICkge1xyXG5cclxuICAgIG9wdGlvbnMgPSBtZXJnZSgge1xyXG4gICAgICAgIHNob3dDZW50ZXJYOiB0cnVlLFxyXG4gICAgICAgIHNob3dFbGVtZW50TmFtZVByb3BlcnR5OiBuZXcgUHJvcGVydHkoIHRydWUgKSxcclxuICAgICAgICBzaG93TmV1dHJhbE9ySW9uUHJvcGVydHk6IG5ldyBQcm9wZXJ0eSggdHJ1ZSApLFxyXG4gICAgICAgIHNob3dTdGFibGVPclVuc3RhYmxlUHJvcGVydHk6IG5ldyBQcm9wZXJ0eSggdHJ1ZSApLFxyXG4gICAgICAgIGVsZWN0cm9uU2hlbGxEZXBpY3Rpb25Qcm9wZXJ0eTogbmV3IFByb3BlcnR5KCAnb3JiaXRzJyApLFxyXG4gICAgICAgIHRhbmRlbTogVGFuZGVtLlJFUVVJUkVEXHJcbiAgICAgIH0sXHJcbiAgICAgIG9wdGlvbnNcclxuICAgICk7XHJcblxyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZVxyXG4gICAgdGhpcy5hdG9tID0gcGFydGljbGVBdG9tO1xyXG4gICAgdGhpcy5tb2RlbFZpZXdUcmFuc2Zvcm0gPSBtb2RlbFZpZXdUcmFuc2Zvcm07XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBYIHdoZXJlIHRoZSBudWNsZXVzIGdvZXMuXHJcbiAgICBsZXQgY291bnRMaXN0ZW5lciA9IG51bGw7XHJcbiAgICBsZXQgYXRvbUNlbnRlck1hcmtlciA9IG51bGw7XHJcbiAgICBpZiAoIG9wdGlvbnMuc2hvd0NlbnRlclggKSB7XHJcbiAgICAgIGNvbnN0IHNpemVJblBpeGVscyA9IG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld0RlbHRhWCggMjAgKTtcclxuICAgICAgY29uc3QgY2VudGVyID0gbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3UG9zaXRpb24oIHBhcnRpY2xlQXRvbS5wb3NpdGlvblByb3BlcnR5LmdldCgpICk7XHJcbiAgICAgIGNvbnN0IGNlbnRlck1hcmtlciA9IG5ldyBTaGFwZSgpO1xyXG4gICAgICBjZW50ZXJNYXJrZXIubW92ZVRvKCBjZW50ZXIueCAtIHNpemVJblBpeGVscyAvIDIsIGNlbnRlci55IC0gc2l6ZUluUGl4ZWxzIC8gMiApO1xyXG4gICAgICBjZW50ZXJNYXJrZXIubGluZVRvKCBjZW50ZXIueCArIHNpemVJblBpeGVscyAvIDIsIGNlbnRlci55ICsgc2l6ZUluUGl4ZWxzIC8gMiApO1xyXG4gICAgICBjZW50ZXJNYXJrZXIubW92ZVRvKCBjZW50ZXIueCAtIHNpemVJblBpeGVscyAvIDIsIGNlbnRlci55ICsgc2l6ZUluUGl4ZWxzIC8gMiApO1xyXG4gICAgICBjZW50ZXJNYXJrZXIubGluZVRvKCBjZW50ZXIueCArIHNpemVJblBpeGVscyAvIDIsIGNlbnRlci55IC0gc2l6ZUluUGl4ZWxzIC8gMiApO1xyXG4gICAgICBhdG9tQ2VudGVyTWFya2VyID0gbmV3IFBhdGgoIGNlbnRlck1hcmtlciwge1xyXG4gICAgICAgIHN0cm9rZTogJ29yYW5nZScsXHJcbiAgICAgICAgbGluZVdpZHRoOiA1LFxyXG4gICAgICAgIHBpY2thYmxlOiBmYWxzZSxcclxuICAgICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2F0b21DZW50ZXJNYXJrZXInIClcclxuICAgICAgfSApO1xyXG4gICAgICB0aGlzLmFkZENoaWxkKCBhdG9tQ2VudGVyTWFya2VyICk7XHJcblxyXG4gICAgICAvLyBNYWtlIHRoZSBtYXJrZXIgaW52aXNpYmxlIGlmIGFueSBudWNsZW9ucyBhcmUgcHJlc2VudC5cclxuICAgICAgY291bnRMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICBhdG9tQ2VudGVyTWFya2VyLnZpc2libGUgPSBwYXJ0aWNsZUF0b20uZ2V0V2VpZ2h0KCkgPT09IDA7XHJcbiAgICAgIH07XHJcbiAgICAgIHBhcnRpY2xlQXRvbS5lbGVjdHJvbkNvdW50UHJvcGVydHkubGluayggY291bnRMaXN0ZW5lciApO1xyXG4gICAgICBwYXJ0aWNsZUF0b20ubmV1dHJvbkNvdW50UHJvcGVydHkubGluayggY291bnRMaXN0ZW5lciApO1xyXG4gICAgICBwYXJ0aWNsZUF0b20ucHJvdG9uQ291bnRQcm9wZXJ0eS5saW5rKCBjb3VudExpc3RlbmVyICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHRoZSBlbGVjdHJvbiBzaGVsbHMgYW5kIGNsb3VkLlxyXG4gICAgY29uc3QgZWxlY3Ryb25TaGVsbCA9IG5ldyBFbGVjdHJvblNoZWxsVmlldyggcGFydGljbGVBdG9tLCBtb2RlbFZpZXdUcmFuc2Zvcm0sIHtcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdlbGVjdHJvblNoZWxsJyApXHJcbiAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBlbGVjdHJvblNoZWxsICk7XHJcbiAgICBjb25zdCBlbGVjdHJvbkNsb3VkID0gbmV3IEVsZWN0cm9uQ2xvdWRWaWV3KCBwYXJ0aWNsZUF0b20sIG1vZGVsVmlld1RyYW5zZm9ybSwge1xyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2VsZWN0cm9uQ2xvdWQnIClcclxuICAgIH0gKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoIGVsZWN0cm9uQ2xvdWQgKTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVFbGVjdHJvblNoZWxsRGVwaWN0aW9uVmlzaWJpbGl0eSA9IGRlcGljdGlvbiA9PiB7XHJcbiAgICAgIGVsZWN0cm9uU2hlbGwudmlzaWJsZSA9IGRlcGljdGlvbiA9PT0gJ29yYml0cyc7XHJcbiAgICAgIGVsZWN0cm9uQ2xvdWQudmlzaWJsZSA9IGRlcGljdGlvbiA9PT0gJ2Nsb3VkJztcclxuICAgIH07XHJcbiAgICBvcHRpb25zLmVsZWN0cm9uU2hlbGxEZXBpY3Rpb25Qcm9wZXJ0eS5saW5rKCB1cGRhdGVFbGVjdHJvblNoZWxsRGVwaWN0aW9uVmlzaWJpbGl0eSApO1xyXG5cclxuICAgIGNvbnN0IGVsZW1lbnROYW1lVGV4dENlbnRlclBvcyA9IG1vZGVsVmlld1RyYW5zZm9ybS5tb2RlbFRvVmlld1Bvc2l0aW9uKFxyXG4gICAgICBwYXJ0aWNsZUF0b20ucG9zaXRpb25Qcm9wZXJ0eS5nZXQoKS5wbHVzKCBuZXcgVmVjdG9yMiggMCwgcGFydGljbGVBdG9tLmlubmVyRWxlY3Ryb25TaGVsbFJhZGl1cyAqIDAuNjAgKSApXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEBwcml2YXRlIC0gQ3JlYXRlIHRoZSB0ZXh0dWFsIHJlYWRvdXQgZm9yIHRoZSBlbGVtZW50IG5hbWUuXHJcbiAgICB0aGlzLmVsZW1lbnROYW1lVGV4dCA9IG5ldyBUZXh0KCAnJywge1xyXG4gICAgICBmb250OiBuZXcgUGhldEZvbnQoIEVMRU1FTlRfTkFNRV9GT05UX1NJWkUgKSxcclxuICAgICAgZmlsbDogUGhldENvbG9yU2NoZW1lLlJFRF9DT0xPUkJMSU5ELFxyXG4gICAgICBjZW50ZXI6IGVsZW1lbnROYW1lVGV4dENlbnRlclBvcyxcclxuICAgICAgcGlja2FibGU6IGZhbHNlLFxyXG4gICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2VsZW1lbnROYW1lVGV4dCcgKVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5lbGVtZW50TmFtZVRleHQgKTtcclxuXHJcbiAgICAvLyBEZWZpbmUgdGhlIHVwZGF0ZSBmdW5jdGlvbiBmb3IgdGhlIGVsZW1lbnQgbmFtZS5cclxuICAgIGNvbnN0IHVwZGF0ZUVsZW1lbnROYW1lID0gKCkgPT4ge1xyXG4gICAgICBsZXQgbmFtZSA9IEF0b21JZGVudGlmaWVyLmdldE5hbWUoIHRoaXMuYXRvbS5wcm90b25Db3VudFByb3BlcnR5LmdldCgpICk7XHJcbiAgICAgIGlmICggbmFtZS5sZW5ndGggPT09IDAgKSB7XHJcbiAgICAgICAgbmFtZSA9ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuZWxlbWVudE5hbWVUZXh0LnN0cmluZyA9IG5hbWU7XHJcbiAgICAgIHRoaXMuZWxlbWVudE5hbWVUZXh0LnNldFNjYWxlTWFnbml0dWRlKCAxICk7XHJcbiAgICAgIGNvbnN0IG1heExhYmVsV2lkdGggPSBtb2RlbFZpZXdUcmFuc2Zvcm0ubW9kZWxUb1ZpZXdEZWx0YVgoIHBhcnRpY2xlQXRvbS5pbm5lckVsZWN0cm9uU2hlbGxSYWRpdXMgKiAxLjQgKTtcclxuICAgICAgdGhpcy5lbGVtZW50TmFtZVRleHQuc2V0U2NhbGVNYWduaXR1ZGUoIE1hdGgubWluKCBtYXhMYWJlbFdpZHRoIC8gdGhpcy5lbGVtZW50TmFtZVRleHQud2lkdGgsIDEgKSApO1xyXG4gICAgICB0aGlzLmVsZW1lbnROYW1lVGV4dC5jZW50ZXIgPSBlbGVtZW50TmFtZVRleHRDZW50ZXJQb3M7XHJcbiAgICB9O1xyXG4gICAgdXBkYXRlRWxlbWVudE5hbWUoKTsgLy8gRG8gdGhlIGluaXRpYWwgdXBkYXRlLlxyXG5cclxuICAgIC8vIEhvb2sgdXAgdXBkYXRlIGxpc3RlbmVycy5cclxuICAgIHBhcnRpY2xlQXRvbS5wcm90b25Db3VudFByb3BlcnR5LmxpbmsoIHVwZGF0ZUVsZW1lbnROYW1lICk7XHJcblxyXG4gICAgY29uc3QgdXBkYXRlRWxlbWVudE5hbWVWaXNpYmlsaXR5ID0gdmlzaWJsZSA9PiB7XHJcbiAgICAgIHRoaXMuZWxlbWVudE5hbWVUZXh0LnZpc2libGUgPSB2aXNpYmxlO1xyXG4gICAgfTtcclxuICAgIG9wdGlvbnMuc2hvd0VsZW1lbnROYW1lUHJvcGVydHkubGluayggdXBkYXRlRWxlbWVudE5hbWVWaXNpYmlsaXR5ICk7XHJcblxyXG4gICAgY29uc3QgaW9uSW5kaWNhdG9yVGV4dFRyYW5zbGF0aW9uID0gbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3UG9zaXRpb24oIHBhcnRpY2xlQXRvbS5wb3NpdGlvblByb3BlcnR5LmdldCgpLnBsdXMoXHJcbiAgICAgIG5ldyBWZWN0b3IyKCBwYXJ0aWNsZUF0b20ub3V0ZXJFbGVjdHJvblNoZWxsUmFkaXVzICogMS4wNSwgMCApLnJvdGF0ZWQoIE1hdGguUEkgKiAwLjMgKSApICk7XHJcblxyXG4gICAgLy8gQHByaXZhdGUgLSBDcmVhdGUgdGhlIHRleHR1YWwgcmVhZG91dCBmb3IgdGhlIGlvbiBpbmRpY2F0b3IsIHNldCBieSB0cmlhbCBhbmQgZXJyb3IuXHJcbiAgICB0aGlzLmlvbkluZGljYXRvclRleHQgPSBuZXcgVGV4dCggJycsIHtcclxuICAgICAgZm9udDogbmV3IFBoZXRGb250KCAyMCApLFxyXG4gICAgICBmaWxsOiAnYmxhY2snLFxyXG4gICAgICB0cmFuc2xhdGlvbjogaW9uSW5kaWNhdG9yVGV4dFRyYW5zbGF0aW9uLFxyXG4gICAgICBwaWNrYWJsZTogZmFsc2UsXHJcbiAgICAgIG1heFdpZHRoOiAxNTAsXHJcbiAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnaW9uSW5kaWNhdG9yVGV4dCcgKVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5pb25JbmRpY2F0b3JUZXh0ICk7XHJcblxyXG4gICAgLy8gRGVmaW5lIHRoZSB1cGRhdGUgZnVuY3Rpb24gZm9yIHRoZSBpb24gaW5kaWNhdG9yLlxyXG4gICAgY29uc3QgdXBkYXRlSW9uSW5kaWNhdG9yID0gKCkgPT4ge1xyXG4gICAgICBpZiAoIHRoaXMuYXRvbS5wcm90b25Db3VudFByb3BlcnR5LmdldCgpID4gMCApIHtcclxuICAgICAgICBjb25zdCBjaGFyZ2UgPSB0aGlzLmF0b20uZ2V0Q2hhcmdlKCk7XHJcbiAgICAgICAgaWYgKCBjaGFyZ2UgPCAwICkge1xyXG4gICAgICAgICAgdGhpcy5pb25JbmRpY2F0b3JUZXh0LnN0cmluZyA9IG1pbnVzU2lnbklvblN0cmluZztcclxuICAgICAgICAgIHRoaXMuaW9uSW5kaWNhdG9yVGV4dC5maWxsID0gJ2JsdWUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICggY2hhcmdlID4gMCApIHtcclxuICAgICAgICAgIHRoaXMuaW9uSW5kaWNhdG9yVGV4dC5zdHJpbmcgPSBwb3NpdGl2ZVNpZ25Jb25TdHJpbmc7XHJcbiAgICAgICAgICB0aGlzLmlvbkluZGljYXRvclRleHQuZmlsbCA9IFBoZXRDb2xvclNjaGVtZS5SRURfQ09MT1JCTElORDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmlvbkluZGljYXRvclRleHQuc3RyaW5nID0gbmV1dHJhbEF0b21TdHJpbmc7XHJcbiAgICAgICAgICB0aGlzLmlvbkluZGljYXRvclRleHQuZmlsbCA9ICdibGFjayc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaW9uSW5kaWNhdG9yVGV4dC5zdHJpbmcgPSAnJztcclxuICAgICAgICB0aGlzLmlvbkluZGljYXRvclRleHQuZmlsbCA9ICdibGFjayc7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB1cGRhdGVJb25JbmRpY2F0b3IoKTsgLy8gRG8gdGhlIGluaXRpYWwgdXBkYXRlLlxyXG5cclxuICAgIHBhcnRpY2xlQXRvbS5wcm90b25Db3VudFByb3BlcnR5LmxpbmsoIHVwZGF0ZUlvbkluZGljYXRvciApO1xyXG4gICAgcGFydGljbGVBdG9tLmVsZWN0cm9uQ291bnRQcm9wZXJ0eS5saW5rKCB1cGRhdGVJb25JbmRpY2F0b3IgKTtcclxuICAgIGNvbnN0IHVwZGF0ZUlvbkluZGljYXRvclZpc2liaWxpdHkgPSB2aXNpYmxlID0+IHtcclxuICAgICAgdGhpcy5pb25JbmRpY2F0b3JUZXh0LnZpc2libGUgPSB2aXNpYmxlO1xyXG4gICAgfTtcclxuICAgIG9wdGlvbnMuc2hvd05ldXRyYWxPcklvblByb3BlcnR5LmxpbmsoIHVwZGF0ZUlvbkluZGljYXRvclZpc2liaWxpdHkgKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIHRleHR1YWwgcmVhZG91dCBmb3IgdGhlIHN0YWJpbGl0eSBpbmRpY2F0b3IuXHJcbiAgICBjb25zdCBzdGFiaWxpdHlJbmRpY2F0b3JUZXh0Q2VudGVyUG9zID0gbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3UG9zaXRpb24oIHBhcnRpY2xlQXRvbS5wb3NpdGlvblByb3BlcnR5LmdldCgpLnBsdXMoXHJcbiAgICAgIG5ldyBWZWN0b3IyKCAwLCAtcGFydGljbGVBdG9tLmlubmVyRWxlY3Ryb25TaGVsbFJhZGl1cyAqIDAuNjAgKSApICk7XHJcblxyXG4gICAgLy8gQHByaXZhdGVcclxuICAgIHRoaXMuc3RhYmlsaXR5SW5kaWNhdG9yVGV4dCA9IG5ldyBUZXh0KCAnJywge1xyXG4gICAgICBmb250OiBuZXcgUGhldEZvbnQoIDIwICksXHJcbiAgICAgIGZpbGw6ICdibGFjaycsXHJcbiAgICAgIGNlbnRlcjogc3RhYmlsaXR5SW5kaWNhdG9yVGV4dENlbnRlclBvcyxcclxuICAgICAgcGlja2FibGU6IGZhbHNlLFxyXG4gICAgICBtYXhXaWR0aDogbW9kZWxWaWV3VHJhbnNmb3JtLm1vZGVsVG9WaWV3RGVsdGFYKCBwYXJ0aWNsZUF0b20uaW5uZXJFbGVjdHJvblNoZWxsUmFkaXVzICogMS40ICksXHJcbiAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnc3RhYmlsaXR5SW5kaWNhdG9yVGV4dCcgKVxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggdGhpcy5zdGFiaWxpdHlJbmRpY2F0b3JUZXh0ICk7XHJcblxyXG4gICAgLy8gRGVmaW5lIHRoZSB1cGRhdGUgZnVuY3Rpb24gZm9yIHRoZSBzdGFiaWxpdHkgaW5kaWNhdG9yLlxyXG4gICAgY29uc3QgdXBkYXRlU3RhYmlsaXR5SW5kaWNhdG9yID0gKCkgPT4ge1xyXG4gICAgICBpZiAoIHRoaXMuYXRvbS5wcm90b25Db3VudFByb3BlcnR5LmdldCgpID4gMCApIHtcclxuICAgICAgICBpZiAoIEF0b21JZGVudGlmaWVyLmlzU3RhYmxlKCB0aGlzLmF0b20ucHJvdG9uQ291bnRQcm9wZXJ0eS5nZXQoKSwgdGhpcy5hdG9tLm5ldXRyb25Db3VudFByb3BlcnR5LmdldCgpICkgKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YWJpbGl0eUluZGljYXRvclRleHQuc3RyaW5nID0gc3RhYmxlU3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuc3RhYmlsaXR5SW5kaWNhdG9yVGV4dC5zdHJpbmcgPSB1bnN0YWJsZVN0cmluZztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zdGFiaWxpdHlJbmRpY2F0b3JUZXh0LnN0cmluZyA9ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc3RhYmlsaXR5SW5kaWNhdG9yVGV4dC5jZW50ZXIgPSBzdGFiaWxpdHlJbmRpY2F0b3JUZXh0Q2VudGVyUG9zO1xyXG4gICAgfTtcclxuICAgIHVwZGF0ZVN0YWJpbGl0eUluZGljYXRvcigpOyAvLyBEbyBpbml0aWFsIHVwZGF0ZS5cclxuXHJcbiAgICAvLyBBZGQgdGhlIGxpc3RlbmVycyB0aGF0IGNvbnRyb2wgdGhlIGxhYmVsIGNvbnRlbnQgYW5kIHZpc2liaWxpdHkuXHJcbiAgICBwYXJ0aWNsZUF0b20ucHJvdG9uQ291bnRQcm9wZXJ0eS5saW5rKCB1cGRhdGVTdGFiaWxpdHlJbmRpY2F0b3IgKTtcclxuICAgIHBhcnRpY2xlQXRvbS5uZXV0cm9uQ291bnRQcm9wZXJ0eS5saW5rKCB1cGRhdGVTdGFiaWxpdHlJbmRpY2F0b3IgKTtcclxuICAgIGNvbnN0IHVwZGF0ZVN0YWJpbGl0eUluZGljYXRvclZpc2liaWxpdHkgPSB2aXNpYmxlID0+IHtcclxuICAgICAgdGhpcy5zdGFiaWxpdHlJbmRpY2F0b3JUZXh0LnZpc2libGUgPSB2aXNpYmxlO1xyXG4gICAgfTtcclxuICAgIG9wdGlvbnMuc2hvd1N0YWJsZU9yVW5zdGFibGVQcm9wZXJ0eS5saW5rKCB1cGRhdGVTdGFiaWxpdHlJbmRpY2F0b3JWaXNpYmlsaXR5ICk7XHJcblxyXG4gICAgLy8gQHByaXZhdGVcclxuICAgIHRoaXMuZGlzcG9zZUF0b21Ob2RlID0gKCkgPT4ge1xyXG5cclxuICAgICAgZWxlY3Ryb25DbG91ZC5kaXNwb3NlKCk7XHJcblxyXG4gICAgICBpZiAoIGNvdW50TGlzdGVuZXIgKSB7XHJcbiAgICAgICAgcGFydGljbGVBdG9tLmVsZWN0cm9uQ291bnRQcm9wZXJ0eS51bmxpbmsoIGNvdW50TGlzdGVuZXIgKTtcclxuICAgICAgICBwYXJ0aWNsZUF0b20ubmV1dHJvbkNvdW50UHJvcGVydHkudW5saW5rKCBjb3VudExpc3RlbmVyICk7XHJcbiAgICAgICAgcGFydGljbGVBdG9tLnByb3RvbkNvdW50UHJvcGVydHkudW5saW5rKCBjb3VudExpc3RlbmVyICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG9wdGlvbnMuZWxlY3Ryb25TaGVsbERlcGljdGlvblByb3BlcnR5LnVubGluayggdXBkYXRlRWxlY3Ryb25TaGVsbERlcGljdGlvblZpc2liaWxpdHkgKTtcclxuICAgICAgcGFydGljbGVBdG9tLnByb3RvbkNvdW50UHJvcGVydHkudW5saW5rKCB1cGRhdGVFbGVtZW50TmFtZSApO1xyXG4gICAgICBvcHRpb25zLnNob3dFbGVtZW50TmFtZVByb3BlcnR5LnVubGluayggdXBkYXRlRWxlbWVudE5hbWVWaXNpYmlsaXR5ICk7XHJcbiAgICAgIHBhcnRpY2xlQXRvbS5wcm90b25Db3VudFByb3BlcnR5LnVubGluayggdXBkYXRlSW9uSW5kaWNhdG9yICk7XHJcbiAgICAgIHBhcnRpY2xlQXRvbS5lbGVjdHJvbkNvdW50UHJvcGVydHkudW5saW5rKCB1cGRhdGVJb25JbmRpY2F0b3IgKTtcclxuICAgICAgb3B0aW9ucy5zaG93TmV1dHJhbE9ySW9uUHJvcGVydHkudW5saW5rKCB1cGRhdGVJb25JbmRpY2F0b3JWaXNpYmlsaXR5ICk7XHJcbiAgICAgIHBhcnRpY2xlQXRvbS5wcm90b25Db3VudFByb3BlcnR5LnVubGluayggdXBkYXRlU3RhYmlsaXR5SW5kaWNhdG9yICk7XHJcbiAgICAgIHBhcnRpY2xlQXRvbS5uZXV0cm9uQ291bnRQcm9wZXJ0eS51bmxpbmsoIHVwZGF0ZVN0YWJpbGl0eUluZGljYXRvciApO1xyXG4gICAgICBvcHRpb25zLnNob3dTdGFibGVPclVuc3RhYmxlUHJvcGVydHkudW5saW5rKCB1cGRhdGVTdGFiaWxpdHlJbmRpY2F0b3JWaXNpYmlsaXR5ICk7XHJcbiAgICAgIGF0b21DZW50ZXJNYXJrZXIgJiYgYXRvbUNlbnRlck1hcmtlci5kaXNwb3NlKCk7XHJcbiAgICAgIGVsZWN0cm9uU2hlbGwuZGlzcG9zZSgpO1xyXG4gICAgICB0aGlzLmVsZW1lbnROYW1lVGV4dC5kaXNwb3NlKCk7XHJcbiAgICAgIHRoaXMuaW9uSW5kaWNhdG9yVGV4dC5kaXNwb3NlKCk7XHJcbiAgICAgIHRoaXMuc3RhYmlsaXR5SW5kaWNhdG9yVGV4dC5kaXNwb3NlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubXV0YXRlKCBvcHRpb25zICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHVibGljXHJcbiAgICogQG92ZXJyaWRlXHJcbiAgICovXHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIHRoaXMuZGlzcG9zZUF0b21Ob2RlKCk7XHJcbiAgICBzdXBlci5kaXNwb3NlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5zaHJlZC5yZWdpc3RlciggJ0F0b21Ob2RlJywgQXRvbU5vZGUgKTtcclxuZXhwb3J0IGRlZmF1bHQgQXRvbU5vZGU7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsUUFBUSxNQUFNLDhCQUE4QjtBQUNuRCxPQUFPQyxPQUFPLE1BQU0sNEJBQTRCO0FBQ2hELFNBQVNDLEtBQUssUUFBUSw2QkFBNkI7QUFDbkQsT0FBT0MsS0FBSyxNQUFNLGdDQUFnQztBQUNsRCxPQUFPQyxlQUFlLE1BQU0sNkNBQTZDO0FBQ3pFLE9BQU9DLFFBQVEsTUFBTSxzQ0FBc0M7QUFDM0QsU0FBU0MsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUksUUFBUSxnQ0FBZ0M7QUFDakUsT0FBT0MsTUFBTSxNQUFNLDhCQUE4QjtBQUNqRCxPQUFPQyxjQUFjLE1BQU0sc0JBQXNCO0FBQ2pELE9BQU9DLEtBQUssTUFBTSxhQUFhO0FBQy9CLE9BQU9DLFlBQVksTUFBTSxvQkFBb0I7QUFDN0MsT0FBT0MsaUJBQWlCLE1BQU0sd0JBQXdCO0FB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