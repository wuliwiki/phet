// Copyright 2016-2023, University of Colorado Boulder

/**
 * Displays a rational number.
 * The number can be displayed as either a mixed number or improper fraction (see options.mixedNumber).
 *
 * This node requires RationalNumber, which wraps only the portion of BigRational.js needed by this simulation.
 * Without a more general implementation of RationalNumber, it is not appropriate to move this node to a
 * common-code repository.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import merge from '../../../../phet-core/js/merge.js';
import PhetFont from '../../../../scenery-phet/js/PhetFont.js';
import { Line, Node, Text } from '../../../../scenery/js/imports.js';
import functionBuilder from '../../functionBuilder.js';
import RationalNumber from '../model/RationalNumber.js';
export default class RationalNumberNode extends Node {
  /**
   * @param {RationalNumber} rationalNumber
   * @param {Object} [options]
   */
  constructor(rationalNumber, options) {
    assert && assert(rationalNumber instanceof RationalNumber);
    options = merge({
      mixedNumber: false,
      // {boolean} true: display as mixed number, false: display as improper fraction
      color: 'black',
      // {Color|string} color used for all sub-parts of this node
      fractionLineWidth: 1,
      // {number} lineWidth for the line that separates numerator and denominator

      // sign
      negativeSymbol: '\u2212',
      // {string} symbol used for negative sign
      positiveSymbol: '\u002b',
      // {string} symbol used for positive sign
      showPositiveSign: false,
      // {boolean} show sign on positive numbers?

      // fonts
      signFont: new PhetFont(22),
      wholeNumberFont: new PhetFont(30),
      fractionFont: new PhetFont(20),
      // spacing
      signXSpacing: 3,
      // {number} space to right of sign
      fractionXSpacing: 3,
      // {number} space between whole number and fraction
      fractionYSpacing: 2 // {number} space above and below fraction line
    }, options);
    assert && assert(!options.children, 'decoration is not supported');
    super();

    // @private options used by setValue
    this.options = options;
    this.setValue(rationalNumber);
    this.mutate(options);
  }

  /**
   * Sets the value displayed by this node.
   * This is relatively expensive, because it rebuilds then node.
   *
   * @param {RationalNumber} rationalNumber
   * @public
   */
  setValue(rationalNumber) {
    assert && assert(rationalNumber instanceof RationalNumber);
    this.removeAllChildren();
    let left = 0;
    let centerY = 0;

    // sign
    const isNegative = rationalNumber.valueOf() < 0;
    if (rationalNumber.valueOf() !== 0 && (isNegative || this.options.showPositiveSign)) {
      const sign = isNegative ? this.options.negativeSymbol : this.options.positiveSymbol;
      const signNode = new Text(sign, {
        fill: this.options.color,
        font: this.options.signFont
      });
      this.addChild(signNode);

      // position of next node
      left = signNode.right + this.options.signXSpacing;
      centerY = signNode.centerY;
    }

    // {RationalNumber} display absolute value, since we have a separate node for sign
    const rationalNumberAbs = rationalNumber.abs();

    // whole number
    let fraction = rationalNumberAbs; // {RationalNumber}
    if (rationalNumberAbs.isInteger() || this.options.mixedNumber) {
      fraction = rationalNumberAbs.fractionPart();
      const wholeNumberNode = new Text(rationalNumberAbs.wholeNumberPart(), {
        fill: this.options.color,
        font: this.options.wholeNumberFont,
        left: left,
        centerY: centerY
      });
      this.addChild(wholeNumberNode);

      // position of next node
      left = wholeNumberNode.right + this.options.fractionXSpacing;
      centerY = wholeNumberNode.centerY;
    }

    // fraction, possibly improper
    if (!rationalNumberAbs.isInteger() || this.options.mixedNumber) {
      // numerator and denominator
      const FRACTION_OPTIONS = {
        fill: this.options.color,
        font: this.options.fractionFont
      };
      const numeratorNode = new Text(fraction.numerator, FRACTION_OPTIONS); // @private
      this.addChild(numeratorNode);
      const denominatorNode = new Text(fraction.denominator, FRACTION_OPTIONS); // @private
      this.addChild(denominatorNode);

      // horizontal line separating numerator and denominator
      const lineNode = new Line(0, 0, Math.max(numeratorNode.width, denominatorNode.width), 0, {
        stroke: this.options.color,
        lineWidth: this.options.lineWidth,
        left: left,
        centerY: centerY
      });
      this.addChild(lineNode);

      // layout
      numeratorNode.centerX = lineNode.centerX;
      numeratorNode.bottom = lineNode.top - this.options.fractionYSpacing;
      denominatorNode.centerX = lineNode.centerX;
      denominatorNode.top = lineNode.bottom + this.options.fractionYSpacing;
    }
  }
}
functionBuilder.register('RationalNumberNode', RationalNumberNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZXJnZSIsIlBoZXRGb250IiwiTGluZSIsIk5vZGUiLCJUZXh0IiwiZnVuY3Rpb25CdWlsZGVyIiwiUmF0aW9uYWxOdW1iZXIiLCJSYXRpb25hbE51bWJlck5vZGUiLCJjb25zdHJ1Y3RvciIsInJhdGlvbmFsTnVtYmVyIiwib3B0aW9ucyIsImFzc2VydCIsIm1peGVkTnVtYmVyIiwiY29sb3IiLCJmcmFjdGlvbkxpbmVXaWR0aCIsIm5lZ2F0aXZlU3ltYm9sIiwicG9zaXRpdmVTeW1ib2wiLCJzaG93UG9zaXRpdmVTaWduIiwic2lnbkZvbnQiLCJ3aG9sZU51bWJlckZvbnQiLCJmcmFjdGlvbkZvbnQiLCJzaWduWFNwYWNpbmciLCJmcmFjdGlvblhTcGFjaW5nIiwiZnJhY3Rpb25ZU3BhY2luZyIsImNoaWxkcmVuIiwic2V0VmFsdWUiLCJtdXRhdGUiLCJyZW1vdmVBbGxDaGlsZHJlbiIsImxlZnQiLCJjZW50ZXJZIiwiaXNOZWdhdGl2ZSIsInZhbHVlT2YiLCJzaWduIiwic2lnbk5vZGUiLCJmaWxsIiwiZm9udCIsImFkZENoaWxkIiwicmlnaHQiLCJyYXRpb25hbE51bWJlckFicyIsImFicyIsImZyYWN0aW9uIiwiaXNJbnRlZ2VyIiwiZnJhY3Rpb25QYXJ0Iiwid2hvbGVOdW1iZXJOb2RlIiwid2hvbGVOdW1iZXJQYXJ0IiwiRlJBQ1RJT05fT1BUSU9OUyIsIm51bWVyYXRvck5vZGUiLCJudW1lcmF0b3IiLCJkZW5vbWluYXRvck5vZGUiLCJkZW5vbWluYXRvciIsImxpbmVOb2RlIiwiTWF0aCIsIm1heCIsIndpZHRoIiwic3Ryb2tlIiwibGluZVdpZHRoIiwiY2VudGVyWCIsImJvdHRvbSIsInRvcCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiUmF0aW9uYWxOdW1iZXJOb2RlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE2LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIERpc3BsYXlzIGEgcmF0aW9uYWwgbnVtYmVyLlxyXG4gKiBUaGUgbnVtYmVyIGNhbiBiZSBkaXNwbGF5ZWQgYXMgZWl0aGVyIGEgbWl4ZWQgbnVtYmVyIG9yIGltcHJvcGVyIGZyYWN0aW9uIChzZWUgb3B0aW9ucy5taXhlZE51bWJlcikuXHJcbiAqXHJcbiAqIFRoaXMgbm9kZSByZXF1aXJlcyBSYXRpb25hbE51bWJlciwgd2hpY2ggd3JhcHMgb25seSB0aGUgcG9ydGlvbiBvZiBCaWdSYXRpb25hbC5qcyBuZWVkZWQgYnkgdGhpcyBzaW11bGF0aW9uLlxyXG4gKiBXaXRob3V0IGEgbW9yZSBnZW5lcmFsIGltcGxlbWVudGF0aW9uIG9mIFJhdGlvbmFsTnVtYmVyLCBpdCBpcyBub3QgYXBwcm9wcmlhdGUgdG8gbW92ZSB0aGlzIG5vZGUgdG8gYVxyXG4gKiBjb21tb24tY29kZSByZXBvc2l0b3J5LlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCBtZXJnZSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvbWVyZ2UuanMnO1xyXG5pbXBvcnQgUGhldEZvbnQgZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1BoZXRGb250LmpzJztcclxuaW1wb3J0IHsgTGluZSwgTm9kZSwgVGV4dCB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBmdW5jdGlvbkJ1aWxkZXIgZnJvbSAnLi4vLi4vZnVuY3Rpb25CdWlsZGVyLmpzJztcclxuaW1wb3J0IFJhdGlvbmFsTnVtYmVyIGZyb20gJy4uL21vZGVsL1JhdGlvbmFsTnVtYmVyLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhdGlvbmFsTnVtYmVyTm9kZSBleHRlbmRzIE5vZGUge1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge1JhdGlvbmFsTnVtYmVyfSByYXRpb25hbE51bWJlclxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciggcmF0aW9uYWxOdW1iZXIsIG9wdGlvbnMgKSB7XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggcmF0aW9uYWxOdW1iZXIgaW5zdGFuY2VvZiBSYXRpb25hbE51bWJlciApO1xyXG5cclxuICAgIG9wdGlvbnMgPSBtZXJnZSgge1xyXG5cclxuICAgICAgbWl4ZWROdW1iZXI6IGZhbHNlLCAvLyB7Ym9vbGVhbn0gdHJ1ZTogZGlzcGxheSBhcyBtaXhlZCBudW1iZXIsIGZhbHNlOiBkaXNwbGF5IGFzIGltcHJvcGVyIGZyYWN0aW9uXHJcbiAgICAgIGNvbG9yOiAnYmxhY2snLCAvLyB7Q29sb3J8c3RyaW5nfSBjb2xvciB1c2VkIGZvciBhbGwgc3ViLXBhcnRzIG9mIHRoaXMgbm9kZVxyXG4gICAgICBmcmFjdGlvbkxpbmVXaWR0aDogMSwgLy8ge251bWJlcn0gbGluZVdpZHRoIGZvciB0aGUgbGluZSB0aGF0IHNlcGFyYXRlcyBudW1lcmF0b3IgYW5kIGRlbm9taW5hdG9yXHJcblxyXG4gICAgICAvLyBzaWduXHJcbiAgICAgIG5lZ2F0aXZlU3ltYm9sOiAnXFx1MjIxMicsIC8vIHtzdHJpbmd9IHN5bWJvbCB1c2VkIGZvciBuZWdhdGl2ZSBzaWduXHJcbiAgICAgIHBvc2l0aXZlU3ltYm9sOiAnXFx1MDAyYicsIC8vIHtzdHJpbmd9IHN5bWJvbCB1c2VkIGZvciBwb3NpdGl2ZSBzaWduXHJcbiAgICAgIHNob3dQb3NpdGl2ZVNpZ246IGZhbHNlLCAvLyB7Ym9vbGVhbn0gc2hvdyBzaWduIG9uIHBvc2l0aXZlIG51bWJlcnM/XHJcblxyXG4gICAgICAvLyBmb250c1xyXG4gICAgICBzaWduRm9udDogbmV3IFBoZXRGb250KCAyMiApLFxyXG4gICAgICB3aG9sZU51bWJlckZvbnQ6IG5ldyBQaGV0Rm9udCggMzAgKSxcclxuICAgICAgZnJhY3Rpb25Gb250OiBuZXcgUGhldEZvbnQoIDIwICksXHJcblxyXG4gICAgICAvLyBzcGFjaW5nXHJcbiAgICAgIHNpZ25YU3BhY2luZzogMywgLy8ge251bWJlcn0gc3BhY2UgdG8gcmlnaHQgb2Ygc2lnblxyXG4gICAgICBmcmFjdGlvblhTcGFjaW5nOiAzLCAvLyB7bnVtYmVyfSBzcGFjZSBiZXR3ZWVuIHdob2xlIG51bWJlciBhbmQgZnJhY3Rpb25cclxuICAgICAgZnJhY3Rpb25ZU3BhY2luZzogMiAvLyB7bnVtYmVyfSBzcGFjZSBhYm92ZSBhbmQgYmVsb3cgZnJhY3Rpb24gbGluZVxyXG5cclxuICAgIH0sIG9wdGlvbnMgKTtcclxuXHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCAhb3B0aW9ucy5jaGlsZHJlbiwgJ2RlY29yYXRpb24gaXMgbm90IHN1cHBvcnRlZCcgKTtcclxuXHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIC8vIEBwcml2YXRlIG9wdGlvbnMgdXNlZCBieSBzZXRWYWx1ZVxyXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuXHJcbiAgICB0aGlzLnNldFZhbHVlKCByYXRpb25hbE51bWJlciApO1xyXG4gICAgdGhpcy5tdXRhdGUoIG9wdGlvbnMgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIHZhbHVlIGRpc3BsYXllZCBieSB0aGlzIG5vZGUuXHJcbiAgICogVGhpcyBpcyByZWxhdGl2ZWx5IGV4cGVuc2l2ZSwgYmVjYXVzZSBpdCByZWJ1aWxkcyB0aGVuIG5vZGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JhdGlvbmFsTnVtYmVyfSByYXRpb25hbE51bWJlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKi9cclxuICBzZXRWYWx1ZSggcmF0aW9uYWxOdW1iZXIgKSB7XHJcblxyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggcmF0aW9uYWxOdW1iZXIgaW5zdGFuY2VvZiBSYXRpb25hbE51bWJlciApO1xyXG5cclxuICAgIHRoaXMucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuXHJcbiAgICBsZXQgbGVmdCA9IDA7XHJcbiAgICBsZXQgY2VudGVyWSA9IDA7XHJcblxyXG4gICAgLy8gc2lnblxyXG4gICAgY29uc3QgaXNOZWdhdGl2ZSA9ICggcmF0aW9uYWxOdW1iZXIudmFsdWVPZigpIDwgMCApO1xyXG4gICAgaWYgKCAoIHJhdGlvbmFsTnVtYmVyLnZhbHVlT2YoKSAhPT0gMCApICYmICggaXNOZWdhdGl2ZSB8fCB0aGlzLm9wdGlvbnMuc2hvd1Bvc2l0aXZlU2lnbiApICkge1xyXG4gICAgICBjb25zdCBzaWduID0gaXNOZWdhdGl2ZSA/IHRoaXMub3B0aW9ucy5uZWdhdGl2ZVN5bWJvbCA6IHRoaXMub3B0aW9ucy5wb3NpdGl2ZVN5bWJvbDtcclxuICAgICAgY29uc3Qgc2lnbk5vZGUgPSBuZXcgVGV4dCggc2lnbiwge1xyXG4gICAgICAgIGZpbGw6IHRoaXMub3B0aW9ucy5jb2xvcixcclxuICAgICAgICBmb250OiB0aGlzLm9wdGlvbnMuc2lnbkZvbnRcclxuICAgICAgfSApO1xyXG4gICAgICB0aGlzLmFkZENoaWxkKCBzaWduTm9kZSApO1xyXG5cclxuICAgICAgLy8gcG9zaXRpb24gb2YgbmV4dCBub2RlXHJcbiAgICAgIGxlZnQgPSBzaWduTm9kZS5yaWdodCArIHRoaXMub3B0aW9ucy5zaWduWFNwYWNpbmc7XHJcbiAgICAgIGNlbnRlclkgPSBzaWduTm9kZS5jZW50ZXJZO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHtSYXRpb25hbE51bWJlcn0gZGlzcGxheSBhYnNvbHV0ZSB2YWx1ZSwgc2luY2Ugd2UgaGF2ZSBhIHNlcGFyYXRlIG5vZGUgZm9yIHNpZ25cclxuICAgIGNvbnN0IHJhdGlvbmFsTnVtYmVyQWJzID0gcmF0aW9uYWxOdW1iZXIuYWJzKCk7XHJcblxyXG4gICAgLy8gd2hvbGUgbnVtYmVyXHJcbiAgICBsZXQgZnJhY3Rpb24gPSByYXRpb25hbE51bWJlckFiczsgLy8ge1JhdGlvbmFsTnVtYmVyfVxyXG4gICAgaWYgKCByYXRpb25hbE51bWJlckFicy5pc0ludGVnZXIoKSB8fCB0aGlzLm9wdGlvbnMubWl4ZWROdW1iZXIgKSB7XHJcblxyXG4gICAgICBmcmFjdGlvbiA9IHJhdGlvbmFsTnVtYmVyQWJzLmZyYWN0aW9uUGFydCgpO1xyXG5cclxuICAgICAgY29uc3Qgd2hvbGVOdW1iZXJOb2RlID0gbmV3IFRleHQoIHJhdGlvbmFsTnVtYmVyQWJzLndob2xlTnVtYmVyUGFydCgpLCB7XHJcbiAgICAgICAgZmlsbDogdGhpcy5vcHRpb25zLmNvbG9yLFxyXG4gICAgICAgIGZvbnQ6IHRoaXMub3B0aW9ucy53aG9sZU51bWJlckZvbnQsXHJcbiAgICAgICAgbGVmdDogbGVmdCxcclxuICAgICAgICBjZW50ZXJZOiBjZW50ZXJZXHJcbiAgICAgIH0gKTtcclxuICAgICAgdGhpcy5hZGRDaGlsZCggd2hvbGVOdW1iZXJOb2RlICk7XHJcblxyXG4gICAgICAvLyBwb3NpdGlvbiBvZiBuZXh0IG5vZGVcclxuICAgICAgbGVmdCA9IHdob2xlTnVtYmVyTm9kZS5yaWdodCArIHRoaXMub3B0aW9ucy5mcmFjdGlvblhTcGFjaW5nO1xyXG4gICAgICBjZW50ZXJZID0gd2hvbGVOdW1iZXJOb2RlLmNlbnRlclk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZnJhY3Rpb24sIHBvc3NpYmx5IGltcHJvcGVyXHJcbiAgICBpZiAoICFyYXRpb25hbE51bWJlckFicy5pc0ludGVnZXIoKSB8fCB0aGlzLm9wdGlvbnMubWl4ZWROdW1iZXIgKSB7XHJcblxyXG4gICAgICAvLyBudW1lcmF0b3IgYW5kIGRlbm9taW5hdG9yXHJcbiAgICAgIGNvbnN0IEZSQUNUSU9OX09QVElPTlMgPSB7XHJcbiAgICAgICAgZmlsbDogdGhpcy5vcHRpb25zLmNvbG9yLFxyXG4gICAgICAgIGZvbnQ6IHRoaXMub3B0aW9ucy5mcmFjdGlvbkZvbnRcclxuICAgICAgfTtcclxuICAgICAgY29uc3QgbnVtZXJhdG9yTm9kZSA9IG5ldyBUZXh0KCBmcmFjdGlvbi5udW1lcmF0b3IsIEZSQUNUSU9OX09QVElPTlMgKTsgLy8gQHByaXZhdGVcclxuICAgICAgdGhpcy5hZGRDaGlsZCggbnVtZXJhdG9yTm9kZSApO1xyXG4gICAgICBjb25zdCBkZW5vbWluYXRvck5vZGUgPSBuZXcgVGV4dCggZnJhY3Rpb24uZGVub21pbmF0b3IsIEZSQUNUSU9OX09QVElPTlMgKTsgLy8gQHByaXZhdGVcclxuICAgICAgdGhpcy5hZGRDaGlsZCggZGVub21pbmF0b3JOb2RlICk7XHJcblxyXG4gICAgICAvLyBob3Jpem9udGFsIGxpbmUgc2VwYXJhdGluZyBudW1lcmF0b3IgYW5kIGRlbm9taW5hdG9yXHJcbiAgICAgIGNvbnN0IGxpbmVOb2RlID0gbmV3IExpbmUoIDAsIDAsIE1hdGgubWF4KCBudW1lcmF0b3JOb2RlLndpZHRoLCBkZW5vbWluYXRvck5vZGUud2lkdGggKSwgMCwge1xyXG4gICAgICAgIHN0cm9rZTogdGhpcy5vcHRpb25zLmNvbG9yLFxyXG4gICAgICAgIGxpbmVXaWR0aDogdGhpcy5vcHRpb25zLmxpbmVXaWR0aCxcclxuICAgICAgICBsZWZ0OiBsZWZ0LFxyXG4gICAgICAgIGNlbnRlclk6IGNlbnRlcllcclxuICAgICAgfSApO1xyXG4gICAgICB0aGlzLmFkZENoaWxkKCBsaW5lTm9kZSApO1xyXG5cclxuICAgICAgLy8gbGF5b3V0XHJcbiAgICAgIG51bWVyYXRvck5vZGUuY2VudGVyWCA9IGxpbmVOb2RlLmNlbnRlclg7XHJcbiAgICAgIG51bWVyYXRvck5vZGUuYm90dG9tID0gbGluZU5vZGUudG9wIC0gdGhpcy5vcHRpb25zLmZyYWN0aW9uWVNwYWNpbmc7XHJcbiAgICAgIGRlbm9taW5hdG9yTm9kZS5jZW50ZXJYID0gbGluZU5vZGUuY2VudGVyWDtcclxuICAgICAgZGVub21pbmF0b3JOb2RlLnRvcCA9IGxpbmVOb2RlLmJvdHRvbSArIHRoaXMub3B0aW9ucy5mcmFjdGlvbllTcGFjaW5nO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb25CdWlsZGVyLnJlZ2lzdGVyKCAnUmF0aW9uYWxOdW1iZXJO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